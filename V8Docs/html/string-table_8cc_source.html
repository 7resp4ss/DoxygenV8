<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/objects/string-table.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('string-table_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">string-table.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="string-table_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2020 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-table_8h.html">src/objects/string-table.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="atomicops_8h.html">src/base/atomicops.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2macros_8h.html">src/base/macros.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert-scope_8h.html">src/common/assert-scope.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ptr-compr-inl_8h.html">src/common/ptr-compr-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="isolate-utils-inl_8h.html">src/execution/isolate-utils-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-layout-inl_8h.html">src/heap/heap-layout-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="safepoint_8h.html">src/heap/safepoint.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="internal-index_8h.html">src/objects/internal-index.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object-list-macros_8h.html">src/objects/object-list-macros.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="off-heap-hash-table-inl_8h.html">src/objects/off-heap-hash-table-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slots-inl_8h.html">src/objects/slots-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slots_8h.html">src/objects/slots.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-inl_8h.html">src/objects/string-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-table-inl_8h.html">src/objects/string-table-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="deserializer_8h.html">src/snapshot/deserializer.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2utils_2allocation_8h.html">src/utils/allocation.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ostreams_8h.html">src/utils/ostreams.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">   31</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">StringTable::OffHeapStringHashSet</a></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html">OffHeapHashTableBase</a>&lt;OffHeapStringHashSet&gt; {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#aba43d4f69ca0aafcae63635fdfceef9f">   34</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#aba43d4f69ca0aafcae63635fdfceef9f">kEntrySize</a> = 1;</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ae58871d7db9d8525754f5a4122f8f4ac">   35</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ae58871d7db9d8525754f5a4122f8f4ac">kMaxEmptyFactor</a> = 4;</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a86da43a54201703ca9515649e688f754">   36</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a86da43a54201703ca9515649e688f754">kMinCapacity</a> = 2048;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#aeab68259d6eab37ea25325194c4f6bfd">   38</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#aeab68259d6eab37ea25325194c4f6bfd">OffHeapStringHashSet</a>(<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#aa1c484d21de35fac6f59797838b66218">capacity</a>)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html">OffHeapHashTableBase</a>&lt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>&gt;(<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#aa1c484d21de35fac6f59797838b66218">capacity</a>) {}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a6f8abb9a586062fb2b2b27283a118875">   41</a></span>&#160;  <span class="keyword">static</span> uint32_t <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a6f8abb9a586062fb2b2b27283a118875">Hash</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a>, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">return</span> Cast&lt;String&gt;(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>)-&gt;hash();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> IsolateT, <span class="keyword">typename</span> StringTableKey&gt;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a3d1eeeb05584e7978f52cbfce0a610e9">   46</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a3d1eeeb05584e7978f52cbfce0a610e9">KeyIsMatch</a>(IsolateT* isolate, <a class="code" href="classv8_1_1internal_1_1StringTableKey.html">StringTableKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> obj) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keyword">auto</span> <span class="keywordtype">string</span> = Cast&lt;String&gt;(obj);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;hash() != <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;hash()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;length() != <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;length()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;IsMatch(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ab9a01e408f3eaf4bcbee2715b677bc31">   54</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ab9a01e408f3eaf4bcbee2715b677bc31">GetKey</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#ac73d698976c2398b727f398b29b97664">slot</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a8ec67732b544894288129d11e3824bc3">Acquire_Load</a>(cage_base);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a0d8740a4f17d173bba19a7445478d63e">   58</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a0d8740a4f17d173bba19a7445478d63e">SetKey</a>(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsString(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#ac73d698976c2398b727f398b29b97664">slot</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#adc3b0a9182bb08ede5db6ed027d49253">Release_Store</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  }</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a1b7a665bb32739ede1733069508d1678">   62</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a1b7a665bb32739ede1733069508d1678">Set</a>(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) { <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a0d8740a4f17d173bba19a7445478d63e">SetKey</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>); }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a037e86a29cd8934cedc3f2833cfae99e">   64</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a037e86a29cd8934cedc3f2833cfae99e">CopyEntryExcludingKeyInto</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a>, <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a>,</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>*, <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a>) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Do nothing, since the entry size is 1 (just the key).</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ae442205d868257b8c02e84fce33f9d7a">   70</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">StringTable::Data</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;};</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// Data holds the actual data of the string table, including capacity and number</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// of elements.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">// It is a variable sized structure, with a &quot;header&quot; followed directly in memory</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// by the elements themselves. These are accessed as offsets from the elements_</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// field, which itself provides storage for the first element.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">// The elements themselves are stored as an open-addressed hash table, with</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">// quadratic probing and Smi 0 and Smi 1 as the empty and deleted sentinels,</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// respectively.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html">   83</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">StringTable::Data</a> {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keyword">static</span> std::unique_ptr&lt;Data&gt; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a56a9272ca13300d3ebacb5314ed2240d">New</a>(<span class="keywordtype">int</span> capacity);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keyword">static</span> std::unique_ptr&lt;Data&gt; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a13e10c9e563c8460d7e7536531bf8930">Resize</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                      std::unique_ptr&lt;Data&gt; data, <span class="keywordtype">int</span> capacity);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">void</span>* <span class="keyword">operator</span> <span class="keyword">new</span>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">int</span> capacity);</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#adcbe6ec31cf6c30eb61d5b9a4da2a00d">   90</a></span>&#160;  <span class="keywordtype">void</span>* <span class="keyword">operator</span> <span class="keyword">new</span>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <span class="keyword">delete</span>(<span class="keywordtype">void</span>* description);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">   93</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>&amp; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">table_</a>; }</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a9e1263318baf3b712983becc2d81b415">   94</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>&amp; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a9e1263318baf3b712983becc2d81b415">table</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">table_</a>; }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="comment">// Helper method for StringTable::TryStringToIndexOrLookupExisting.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">static</span> <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a614c270f0e62fedff9f68924f53dae13">TryStringToIndexOrLookupExisting</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                                                  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                                  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> source,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                                  <span class="keywordtype">size_t</span> start);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a6f1cd180484dea29da89678465af56f0">  103</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a6f1cd180484dea29da89678465af56f0">IterateElements</a>(<a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a>* visitor) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">table_</a>.<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a812dba653335376fb95289076aa9d4a4">IterateElements</a>(Root::kStringTable, visitor);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a0a89304c882c6ecce5ab90a15bf9c9d0">  107</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a0a89304c882c6ecce5ab90a15bf9c9d0">PreviousData</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">previous_data_</a>.get(); }</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#ad78e4d34a8776bbd64eb04677592754e">  108</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#ad78e4d34a8776bbd64eb04677592754e">DropPreviousData</a>() { <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">previous_data_</a>.reset(); }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a806749542c83a0c59ad67e7cbf320fba">Print</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#acbaa23a17f41e04e90549bad7fcd216e">GetCurrentMemoryUsage</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a758489c1928f88a503447da7d6f8918e">  114</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a758489c1928f88a503447da7d6f8918e">Data</a>(<span class="keywordtype">int</span> capacity) : <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">table_</a>(capacity) {}</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">  116</a></span>&#160;  std::unique_ptr&lt;Data&gt; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">previous_data_</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">  117</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">table_</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;};</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#ac412e42043dc7e4edffa8b74eb990eab">  120</a></span>&#160;<span class="keywordtype">void</span>* StringTable::Data::operator <span class="keyword">new</span>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">int</span> capacity) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Make sure the size given is the size of the Data structure.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">StringTable::Data</a>));</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">OffHeapStringHashSet::Allocate</a>&lt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>, offsetof(<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>, table_.elements_)&gt;(</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      capacity);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#ac913934f9f57694413290e3924708bb8">  127</a></span>&#160;<span class="keywordtype">void</span> StringTable::Data::operator <span class="keyword">delete</span>(<span class="keywordtype">void</span>* table) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">OffHeapStringHashSet::Free</a>(table);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#acbaa23a17f41e04e90549bad7fcd216e">  131</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#acbaa23a17f41e04e90549bad7fcd216e">StringTable::Data::GetCurrentMemoryUsage</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordtype">size_t</span> usage = <span class="keyword">sizeof</span>(*this) + <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">table_</a>.<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a7f24e6f2ea4fae8028eb4ab582b88707">GetSizeExcludingHeader</a>();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">previous_data_</a>) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    usage += <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">previous_data_</a>-&gt;GetCurrentMemoryUsage();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">return</span> usage;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a56a9272ca13300d3ebacb5314ed2240d">  139</a></span>&#160;std::unique_ptr&lt;StringTable::Data&gt; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a56a9272ca13300d3ebacb5314ed2240d">StringTable::Data::New</a>(<span class="keywordtype">int</span> capacity) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;Data&gt;(<span class="keyword">new</span> (capacity) <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>(capacity));</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a13e10c9e563c8460d7e7536531bf8930">  143</a></span>&#160;std::unique_ptr&lt;StringTable::Data&gt; <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a13e10c9e563c8460d7e7536531bf8930">StringTable::Data::Resize</a>(</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, std::unique_ptr&lt;Data&gt; data, <span class="keywordtype">int</span> capacity) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  std::unique_ptr&lt;Data&gt; new_data(<span class="keyword">new</span> (capacity) <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>(capacity));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  data-&gt;table_.RehashInto(cage_base, &amp;new_data-&gt;table_);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  new_data-&gt;previous_data_ = std::move(data);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> new_data;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a806749542c83a0c59ad67e7cbf320fba">  151</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a806749542c83a0c59ad67e7cbf320fba">StringTable::Data::Print</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="classv8_1_1internal_1_1OFStream.html">OFStream</a> os(stdout);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;StringTable {&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">InternalIndex::Range</a>(table_.capacity())) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html">i</a>.as_uint32() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="structv8_1_1internal_1_1Brief.html">Brief</a>(table_.GetKey(cage_base, <a class="code" href="namespacev8_1_1internal.html">i</a>))</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;       &lt;&lt; std::endl;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;}&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a74fbb19b84e6e10d8c6035c6ab76d057">  161</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a74fbb19b84e6e10d8c6035c6ab76d057">StringTable::StringTable</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    : <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>(<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>::<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">New</a>(<a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>::kMinCapacity).release()),</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>(isolate) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#a72cae7b1ef695524890903c945da6df4">empty_element</a>(), <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#ad1d4da5eafd54b82f4d23e282deee06d">OffHeapStringHashSet::empty_element</a>());</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#ae6b153e0f379e1c83a976e3da401ebf8">deleted_element</a>(), <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a77db7b3628ed1dd49a30e1210062194c">OffHeapStringHashSet::deleted_element</a>());</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#ab3b7ec404750cdda66d17f3631ebeeb6">  168</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1StringTable.html#ab3b7ec404750cdda66d17f3631ebeeb6">StringTable::~StringTable</a>() { <span class="keyword">delete</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>; }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a5adf7b4c35726d98a26a7c53a7a235f7">  170</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a5adf7b4c35726d98a26a7c53a7a235f7">StringTable::Capacity</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_acquire)-&gt;table().capacity();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">  173</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">StringTable::NumberOfElements</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> table_write_guard(&amp;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a9d179150079340c0c21beaf2500ae1">write_mutex_</a>);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_relaxed)-&gt;table().number_of_elements();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// InternalizedStringKey carries a string/internalized-string object as key.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html">  181</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html">InternalizedStringKey</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1StringTableKey.html">StringTableKey</a> {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2f633e4523779215d2727b7c428f7d4a">  183</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2f633e4523779215d2727b7c428f7d4a">InternalizedStringKey</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>, uint32_t <a class="code" href="classv8_1_1internal_1_1StringTableKey.html#a3e6ae49911326864aaba479a9146dd55">hash</a>)</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1StringTableKey.html">StringTableKey</a>(<a class="code" href="classv8_1_1internal_1_1StringTableKey.html#a3e6ae49911326864aaba479a9146dd55">hash</a>, <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;<a class="code" href="classv8_1_1internal_1_1StringTableKey.html#aaaf2dafad89891b33229f4c900140486">length</a>()), <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>(<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// When sharing the string table, it&#39;s possible that another thread already</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// internalized the key, in which case StringTable::LookupKey will perform a</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// redundant lookup and return the already internalized copy.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                   !<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(*<span class="keywordtype">string</span>));</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsFlat());</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">String::IsHashFieldComputed</a>(<a class="code" href="classv8_1_1internal_1_1StringTableKey.html#a3e6ae49911326864aaba479a9146dd55">hash</a>));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#ad1b7de5b1330704fe89d19228c9666c5">  194</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#ad1b7de5b1330704fe89d19228c9666c5">IsMatch</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">SharedStringAccessGuardIfNeeded::IsNeeded</a>(<span class="keywordtype">string</span>));</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>-&gt;SlowEquals(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#a045d0a9b99f7509213717dfe28c0bd2a">  199</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a045d0a9b99f7509213717dfe28c0bd2a">PrepareForInsertion</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51">StringTransitionStrategy</a> strategy =</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#ac109925d0ba145bf9aa04738d59ab8ae">ComputeInternalizationStrategyForString</a>(</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>, &amp;<a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#afd6936af71426778774f583f1ca809a2">maybe_internalized_map_</a>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">switch</span> (strategy) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299">StringTransitionStrategy::kCopy</a>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d">StringTransitionStrategy::kInPlace</a>:</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// In-place transition will be done in GetHandleForInsertion, when we</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// are sure that we are going to insert the string into the table.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20">StringTransitionStrategy::kAlreadyTransitioned</a>:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// We can see already internalized strings here only when sharing the</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment">// string table and allowing concurrent internalization.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">internalized_string_</a> = <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Copying the string here is always threadsafe, as no instance type</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// requiring a copy can transition any further.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(*<a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// External strings get special treatment, to avoid copying their</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// contents as long as they are not uncached or the string table is shared.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// If the string table is shared, another thread could lookup a string with</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// the same content before this thread completes MakeThin (which sets the</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// resource), resulting in a string table hit returning the string we just</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// created that is not correctly initialized.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> can_move_resource =</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table &amp;&amp; !shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#aef5f891fa9e99a89c5b033e6a055a696">IsUncachedExternal</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (can_move_resource &amp;&amp; shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a2fc0348f3ae4566fa6903482e554e8e7">IsExternalOneByte</a>()) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="comment">// Shared external strings are always in-place internalizable.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="comment">// If this assumption is invalidated in the future, make sure that we</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="comment">// fully initialize (copy contents) for shared external strings, as the</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="comment">// original string is not transitioned to a ThinString (setting the</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// resource) immediately.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a240e0d4fb9c6d1acf19789a044c612b2">IsShared</a>());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">internalized_string_</a> =</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;          isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a13284c323f2c299eaef39624b890d4a3">InternalizeExternalString</a>&lt;<a class="code" href="classv8_1_1internal_1_1ExternalOneByteString.html">ExternalOneByteString</a>&gt;(</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;              <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (can_move_resource &amp;&amp; shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a765de1da9d7dc0b2b15c5d868937da07">IsExternalTwoByte</a>()) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// Shared external strings are always in-place internalizable.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="comment">// If this assumption is invalidated in the future, make sure that we</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="comment">// fully initialize (copy contents) for shared external strings, as the</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="comment">// original string is not transitioned to a ThinString (setting the</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="comment">// resource) immediately.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a240e0d4fb9c6d1acf19789a044c612b2">IsShared</a>());</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">internalized_string_</a> =</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;          isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a13284c323f2c299eaef39624b890d4a3">InternalizeExternalString</a>&lt;<a class="code" href="classv8_1_1internal_1_1ExternalTwoByteString.html">ExternalTwoByteString</a>&gt;(</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;              <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="comment">// Otherwise allocate a new internalized string.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">internalized_string_</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a8dae7c300e82ad6e5b29e5dea1f4d2b4">NewInternalizedStringImpl</a>(</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>, <a class="code" href="classv8_1_1internal_1_1StringTableKey.html#aaaf2dafad89891b33229f4c900140486">length</a>(), <a class="code" href="classv8_1_1internal_1_1StringTableKey.html#a5e3f8387baa8b92ffd0c63e198c5aaa5">raw_hash_field</a>());</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#a47dd737dc2011eebcc99edc6a6222704">  256</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a47dd737dc2011eebcc99edc6a6222704">GetHandleForInsertion</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> internalized_map;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// When preparing the string, the strategy was to in-place migrate it.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#afd6936af71426778774f583f1ca809a2">maybe_internalized_map_</a>.ToHandle(&amp;internalized_map)) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="comment">// It is always safe to overwrite the map. The only transition possible</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="comment">// is another thread migrated the string to internalized already.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">// Migrations to thin are impossible, as we only call this method on table</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="comment">// misses inside the critical section.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>-&gt;set_map_safe_transition_no_write_barrier(isolate,</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                                                        *internalized_map);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(*<a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>));</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">// We prepared an internalized copy for the string or the string was already</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// internalized.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// In theory we could have created a copy of a SeqString in young generation</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// that has been promoted to old space by now. In that case we could</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// in-place migrate the original string instead of internalizing the copy</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">// and migrating the original string to a ThinString. This scenario doesn&#39;t</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// seem to be common enough to justify re-computing the strategy here.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">internalized_string_</a>.ToHandleChecked();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">  280</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">string_</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Copy of the string to be internalized (only set if the string is not</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// in-place internalizable). We can&#39;t override the original string, as</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// internalized external strings don&#39;t set the resource directly (deferred to</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// MakeThin to ensure unique ownership of the resource), and thus would break</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// equality checks in case of hash collisions.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">  286</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">internalized_string_</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringKey.html#afd6936af71426778774f583f1ca809a2">  287</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;Map&gt;</a> <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html#afd6936af71426778774f583f1ca809a2">maybe_internalized_map_</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;};</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03.html">  290</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03.html#ad3ce734799151a3cb6a2988f9fd8a06a">  292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03.html#ad3ce734799151a3cb6a2988f9fd8a06a">SetInternalizedReference</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                              <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(<span class="keywordtype">string</span>));</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(<span class="keywordtype">string</span>));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(internalized));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!internalized-&gt;HasInternalizedForwardingIndex(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsShared() || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.always_use_string_forwarding_table) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    uint32_t field = <span class="keywordtype">string</span>-&gt;raw_hash_field(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// Don&#39;t use the forwarding table for strings that have an integer index.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// Using the hash field for the integer index is more beneficial than</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">// using it to store the forwarding index to the internalized string.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#a2eafe4fad154c85927cca246e7132e91">Name::IsIntegerIndex</a>(field)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// Check one last time if we already have an internalized forwarding index</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// to prevent too many copies of the string in the forwarding table.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#ac1ae04083fa9042106be06126fa5eb7b">Name::IsInternalizedForwardingIndex</a>(field)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// If we already have an entry for an external resource in the table, update</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// the entry instead of creating a new one. There is no guarantee that we</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// will always update existing records instead of creating new ones, but</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// races should be rare.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#a3d39b6029c2a4d460b73c67d4a04c08b">Name::IsForwardingIndex</a>(field)) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> forwarding_index =</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">Name::ForwardingIndexValueBits::decode</a>(field);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">string_forwarding_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#a6256de8fa004ecd77a768070c99ee852">UpdateForwardString</a>(forwarding_index,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                                              internalized);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// Update the forwarding index type to include internalized.</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      field = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">Name::IsInternalizedForwardingIndexBit::update</a>(field, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordtype">string</span>-&gt;set_raw_hash_field(field, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> forwarding_index =</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;          isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">string_forwarding_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#afc3553ee70aae1600b010b8aa29fb1be">AddForwardString</a>(<span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                                               internalized);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keywordtype">string</span>-&gt;set_raw_hash_field(</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Name.html#aa11a6a4809807238f812028f0248725c">String::CreateInternalizedForwardingIndex</a>(forwarding_index),</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;HasForwardingIndex(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">string</span>-&gt;MakeThin(isolate, internalized);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a28608931d349ea4b4409558190f20400">  336</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a28608931d349ea4b4409558190f20400">StringTable::LookupString</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                               <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// When sharing the string table, internalization is allowed to be concurrent</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// from multiple Isolates, assuming that:</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">//  - All in-place internalizable strings (i.e. old-generation flat strings)</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">//    and internalized strings are in the shared heap.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">//  - LookupKey supports concurrent access (see comment below).</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// These assumptions guarantee the following properties:</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">//  - String::Flatten is not threadsafe but is only called on non-shared</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">//    strings, since non-flat strings are not shared.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">//  - String::ComputeAndSetRawHash is threadsafe on flat strings. This is safe</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">//    because the characters are immutable and the same hash will be</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">//    computed. The hash field is set with relaxed memory order. A thread that</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">//    doesn&#39;t see the hash may do redundant work but will not be incorrect.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="comment">//  - In-place internalizable strings do not incur a copy regardless of string</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="comment">//    table sharing. The map mutation is threadsafe even with relaxed memory</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="comment">//    order, because for concurrent table lookups, the &quot;losing&quot; thread will be</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">//    correctly ordered by LookupKey&#39;s write mutex and see the updated map</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="comment">//    during the re-lookup.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// For lookup misses, the internalized string map is the same map in RO space</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// regardless of which thread is doing the lookup.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// For lookup hits, we use the StringForwardingTable for shared strings to</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// delay the transition into a ThinString to the next stop-the-world GC.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      String::Flatten(isolate, <a class="code" href="namespacev8_1_1internal.html#a15cafb1d1ed1ac577609eb5e764384e8">indirect_handle</a>(<span class="keywordtype">string</span>, isolate));</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(*<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    uint32_t raw_hash_field = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>-&gt;raw_hash_field(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#ac1ae04083fa9042106be06126fa5eb7b">String::IsInternalizedForwardingIndex</a>(raw_hash_field)) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> =</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;          <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">String::ForwardingIndexValueBits::decode</a>(raw_hash_field);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">string_forwarding_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#ad251f5a1593c8c1b282cc69ab93bbd2a">GetForwardString</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>),</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          isolate);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">Name::IsHashFieldComputed</a>(raw_hash_field)) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        raw_hash_field = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>-&gt;EnsureRawHash();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalizedStringKey.html">InternalizedStringKey</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, raw_hash_field);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">LookupKey</a>(isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordflow">if</span> (*<span class="keywordtype">string</span> != *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &amp;&amp; !<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(*<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03.html#ad3ce734799151a3cb6a2988f9fd8a06a">SetInternalizedReference</a>(isolate, *<span class="keywordtype">string</span>, *<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> StringTableKey, <span class="keyword">typename</span> IsolateT&gt;</div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">  392</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(IsolateT* isolate,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1StringTableKey.html">StringTableKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">// String table lookups are allowed to be concurrent, assuming that:</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">//   - The Heap access is allowed to be concurrent (using LocalHeap or</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">//     similar),</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">//   - All writes to the string table are guarded by the Isolate string table</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="comment">//     mutex,</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="comment">//   - Resizes of the string table first copies the old contents to the new</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">//     table, and only then sets the new string table pointer to the new</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">//     table,</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">//   - Only GCs can remove elements from the string table.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// These assumptions allow us to make the following statement:</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">//   &quot;Reads are allowed when not holding the lock, as long as false negatives</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">//    (misses) are ok. We will never get a false positive (hit of an entry no</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">//    longer in the table)&quot;</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// This is because we _know_ that if we find an entry in the string table, any</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// entry will also be in all reallocations of that tables. This is required</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// for strong consistency of internalized string equality implying reference</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="comment">// equality.</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// We therefore try to optimistically read from the string table without</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// taking the lock (both here and in the NoAllocate version of the lookup),</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// and on a miss we take the lock and try to write the entry, with a second</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// read lookup in case the non-locked read missed a write.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="comment">// One complication is allocation -- we don&#39;t want to allocate while holding</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// the string table lock. This applies to both allocation of new strings, and</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// re-allocation of the string table on resize. So, we optimistically allocate</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// (without copying values) outside the lock, and potentially discard the</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// allocation if another write also did an allocation. This assumes that</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">// writes are rarer than reads.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="comment">// Load the current string table data, in case another thread updates the</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="comment">// data while we&#39;re reading.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* <span class="keyword">const</span> current_data = <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_acquire);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>&amp; current_table = current_data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">// First try to find the string in the table. This is safe to do even if the</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// table is now reallocated; we won&#39;t find a stale entry in the old table</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">// because the new table won&#39;t delete it&#39;s corresponding entry until the</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">// string is dead, in which case it will die in this table too and worst</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// case we&#39;ll have a false miss.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> entry = current_table.<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a1bee4e6385fc273007844067e6b5f424">FindEntry</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;hash());</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">if</span> (entry.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">is_found</a>()) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>(</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        Cast&lt;String&gt;(current_table.<a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ab9a01e408f3eaf4bcbee2715b677bc31">GetKey</a>(isolate, entry)), isolate);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1HeapLayout.html#ae77bf0d1f0e1b86681fb29101ecd527a">HeapLayout::InAnySharedSpace</a>(*<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="comment">// No entry found, so adding new string.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;PrepareForInsertion(isolate);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> table_write_guard(&amp;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a9d179150079340c0c21beaf2500ae1">write_mutex_</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* data = <a class="code" href="classv8_1_1internal_1_1StringTable.html#a3302dd59a9c0c9c541d8480aa279e56e">EnsureCapacity</a>(isolate, 1);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">OffHeapStringHashSet</a>&amp; table = data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// Check one last time if the key is present in the table, in case it was</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// added after the check.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    entry = table.<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a0668ef7de24bb3f989fb0669df327b73">FindEntryOrInsertionEntry</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;hash());</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> element = table.<a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ab9a01e408f3eaf4bcbee2715b677bc31">GetKey</a>(isolate, entry);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (element == <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#ad1d4da5eafd54b82f4d23e282deee06d">OffHeapStringHashSet::empty_element</a>()) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="comment">// This entry is empty, so write it and register that we added an</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <span class="comment">// element.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> new_string = <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;GetHandleForInsertion(<a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table, new_string-&gt;IsShared());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      table.<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a5898592de37553edcf3c862c31720586">AddAt</a>(isolate, entry, *new_string);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="keywordflow">return</span> new_string;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (element == <a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a77db7b3628ed1dd49a30e1210062194c">OffHeapStringHashSet::deleted_element</a>()) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="comment">// This entry was deleted, so overwrite it and register that we</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <span class="comment">// overwrote a deleted element.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> new_string = <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;GetHandleForInsertion(<a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table, new_string-&gt;IsShared());</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      table.<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a724a8f6bf9ee7412a072a5d33fe3fd3b">OverwriteDeletedAt</a>(isolate, entry, *new_string);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      <span class="keywordflow">return</span> new_string;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="comment">// Return the existing string as a handle.</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(Cast&lt;String&gt;(element), isolate);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                                     <a class="code" href="classv8_1_1internal_1_1SequentialStringKey.html">OneByteStringKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                                                     <a class="code" href="classv8_1_1internal_1_1SequentialStringKey.html">TwoByteStringKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1SeqSubStringKey.html">SeqOneByteSubStringKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1SeqSubStringKey.html">SeqTwoByteSubStringKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(<a class="code" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>* isolate,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                                     <a class="code" href="classv8_1_1internal_1_1SequentialStringKey.html">OneByteStringKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(<a class="code" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>* isolate,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                                     <a class="code" href="classv8_1_1internal_1_1SequentialStringKey.html">TwoByteStringKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1StringTableInsertionKey.html">StringTableInsertionKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">StringTable::LookupKey</a>(</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1StringTableInsertionKey.html">StringTableInsertionKey</a>* <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a3302dd59a9c0c9c541d8480aa279e56e">  500</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">StringTable::Data</a>* <a class="code" href="classv8_1_1internal_1_1StringTable.html#a3302dd59a9c0c9c541d8480aa279e56e">StringTable::EnsureCapacity</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                                               <span class="keywordtype">int</span> additional_elements) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// This call is only allowed while the write mutex is held.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a9d179150079340c0c21beaf2500ae1">write_mutex_</a>.<a class="code" href="classv8_1_1base_1_1Mutex.html#a281097589e7088f5af211349cac0ef9d">AssertHeld</a>();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="comment">// This load can be relaxed as the table pointer can only be modified while</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="comment">// the lock is held.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* data = <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">int</span> new_capacity;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">if</span> (data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a7c74f38721a0e8395aab341662d5c89c">ShouldResizeToAdd</a>(additional_elements, &amp;new_capacity)) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    std::unique_ptr&lt;Data&gt; new_data =</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a13e10c9e563c8460d7e7536531bf8930">Data::Resize</a>(cage_base, std::unique_ptr&lt;Data&gt;(data), new_capacity);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// `new_data` is the new owner of `data`.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(new_data-&gt;PreviousData(), data);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// Release-store the new data pointer as `data_`, so that it can be</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">// acquire-loaded by other threads. This string table becomes the owner of</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// the pointer.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    data = new_data.release();</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.store(data, std::memory_order_release);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">return</span> data;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html">  527</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html">CharBuffer</a> {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#a93d6c405ac320d205cbcb6fc014c8101">  529</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#a93d6c405ac320d205cbcb6fc014c8101">Reset</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt;= kInlinedBufferSize)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      outofline_ = std::make_unique&lt;Char[]&gt;(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#abc995526b858f89d8619bf0fc4c0949a">  534</a></span>&#160;  Char* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#abc995526b858f89d8619bf0fc4c0949a">Data</a>() {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (outofline_)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">return</span> outofline_.get();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordflow">return</span> inlined_;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#ac7ddb6e2148e045543a8b1473418841f">  542</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kInlinedBufferSize = 256;</div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#ada840ffb9a22aab8917a3943fe2ea608">  543</a></span>&#160;  Char inlined_[kInlinedBufferSize];</div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#a34140de546c1738c050830947b4f6851">  544</a></span>&#160;  std::unique_ptr&lt;Char[]&gt; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#a34140de546c1738c050830947b4f6851">outofline_</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;};</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a614c270f0e62fedff9f68924f53dae13">  550</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#a614c270f0e62fedff9f68924f53dae13">StringTable::Data::TryStringToIndexOrLookupExisting</a>(</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> source,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordtype">size_t</span> start) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// TODO(leszeks): This method doesn&#39;t really belong on StringTable::Data.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// Ideally it would be a free function in an anonymous namespace, but that</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// causes issues around method and class visibility.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="comment">// The source hash is usable if it is not from a sliced string.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="comment">// For sliced strings we need to recalculate the hash from the given offset</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// with the correct length.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_source_hash_usable = start == 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == source-&gt;length();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// First check if the string constains a forwarding index.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  uint32_t raw_hash_field = source-&gt;raw_hash_field(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#ac1ae04083fa9042106be06126fa5eb7b">Name::IsInternalizedForwardingIndex</a>(raw_hash_field) &amp;&amp;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;      is_source_hash_usable) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">Name::ForwardingIndexValueBits::decode</a>(raw_hash_field);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized =</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">string_forwarding_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#ad251f5a1593c8c1b282cc69ab93bbd2a">GetForwardString</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">return</span> internalized.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  uint64_t seed = <a class="code" href="namespacev8_1_1internal.html#ac8c51e7a3f23c971926f1c90a404cc5d">HashSeed</a>(isolate);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  CharBuffer&lt;Char&gt; buffer;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keyword">const</span> Char* chars;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a> access_guard(isolate);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aed66dfc5a0636c99f9313e16bf5a9a23">IsConsString</a>(source, isolate)) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!source-&gt;IsFlat());</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    buffer.Reset(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(source, buffer.Data(), 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, access_guard);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    chars = buffer.Data();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    chars = source-&gt;GetDirectStringChars&lt;Char&gt;(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, access_guard) + start;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">Name::IsHashFieldComputed</a>(raw_hash_field) || !is_source_hash_usable) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    raw_hash_field =</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        StringHasher::HashSequentialString&lt;Char&gt;(chars, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, seed);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="comment">// TODO(verwaest): Internalize to one-byte when possible.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SequentialStringKey.html">SequentialStringKey&lt;Char&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(raw_hash_field,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                                <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const Char&gt;</a>(chars, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>), seed);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">// String could be an array index.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#a5b5f0518c5a54dfaa240a45c94e15a15">Name::ContainsCachedArrayIndex</a>(raw_hash_field)) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(<a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">String::ArrayIndexValueBits::decode</a>(raw_hash_field))</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        .<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#a2eafe4fad154c85927cca246e7132e91">Name::IsIntegerIndex</a>(raw_hash_field)) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// It is an index, but it&#39;s not cached.</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(<a class="code" href="namespacev8_1_1internal.html#a14f4234ae23bee0bff6176a93c6e83cba5165e5b934799d360457644e2b3718f6">ResultSentinel::kUnsupported</a>).<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>();</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* string_table_data =</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a184abe8a4a39f941a2f33a937776315d">string_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_acquire);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> entry =</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      string_table_data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a1bee4e6385fc273007844067e6b5f424">FindEntry</a>(isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.hash());</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">if</span> (entry.<a class="code" href="classv8_1_1internal_1_1InternalIndex.html#a1f31d68081d7459e9a44710b535e860d">is_not_found</a>()) {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// A string that&#39;s not an array index, and not in the string table,</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="comment">// cannot have been used as a property name before.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">Smi::FromInt</a>(<a class="code" href="namespacev8_1_1internal.html#a14f4234ae23bee0bff6176a93c6e83cba72e85fa1bf19c36a86a609a52c13f1bc">ResultSentinel::kNotFound</a>).<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized =</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      Cast&lt;String&gt;(string_table_data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ab9a01e408f3eaf4bcbee2715b677bc31">GetKey</a>(isolate, entry));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// string can be internalized here, if another thread internalized it.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="comment">// If we found and entry in the string table and string is not internalized,</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// there is no way that it can transition to internalized later on. So a last</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="comment">// check here is sufficient.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03.html#ad3ce734799151a3cb6a2988f9fd8a06a">SetInternalizedReference</a>(isolate, <span class="keywordtype">string</span>, internalized);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">return</span> internalized.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>();</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;}</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a00eace67662ee9e54284b0f1bd8dbccc">  635</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a00eace67662ee9e54284b0f1bd8dbccc">StringTable::TryStringToIndexOrLookupExisting</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                                                      <a class="code" href="classuintptr__t.html">Address</a> raw_string) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span> = Cast&lt;String&gt;(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a>(raw_string));</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// string could be internalized, if the string table is shared and another</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// thread internalized it.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">return</span> raw_string;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// Valid array indices are &gt;= 0, so they cannot be mixed up with any of</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// the result sentinels, which are negative.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  static_assert(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      !<a class="code" href="classv8_1_1base_1_1BitField.html#a634dcf9bf5eb402dea1ec28d543bc55c">String::ArrayIndexValueBits::is_valid</a>(<a class="code" href="namespacev8_1_1internal.html#a14f4234ae23bee0bff6176a93c6e83cba5165e5b934799d360457644e2b3718f6">ResultSentinel::kUnsupported</a>));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  static_assert(</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      !<a class="code" href="classv8_1_1base_1_1BitField.html#a634dcf9bf5eb402dea1ec28d543bc55c">String::ArrayIndexValueBits::is_valid</a>(<a class="code" href="namespacev8_1_1internal.html#a14f4234ae23bee0bff6176a93c6e83cba72e85fa1bf19c36a86a609a52c13f1bc">ResultSentinel::kNotFound</a>));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160; </div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordtype">size_t</span> start = 0;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> source = <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#af900128363a4301fdb5640cfa106788b">IsSlicedString</a>(source)) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SlicedString&gt;</a> sliced = Cast&lt;SlicedString&gt;(source);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    start = sliced-&gt;offset();</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    source = sliced-&gt;parent();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aed66dfc5a0636c99f9313e16bf5a9a23">IsConsString</a>(source) &amp;&amp; source-&gt;IsFlat()) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    source = Cast&lt;ConsString&gt;(source)-&gt;first();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(source)) {</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    source = Cast&lt;ThinString&gt;(source)-&gt;actual();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;length() == source-&gt;length()) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">return</span> source.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>();</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (source-&gt;IsOneByteRepresentation()) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span> StringTable::Data::TryStringToIndexOrLookupExisting&lt;uint8_t&gt;(</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        isolate, <span class="keywordtype">string</span>, source, start);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">return</span> StringTable::Data::TryStringToIndexOrLookupExisting&lt;uint16_t&gt;(</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      isolate, <span class="keywordtype">string</span>, source, start);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a58e24f6c395074761b6eba714ffb336c">  676</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a58e24f6c395074761b6eba714ffb336c">StringTable::InsertForIsolateDeserialization</a>(</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a>&gt;&amp; strings) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">NumberOfElements</a>(), 0);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(strings.size());</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> table_write_guard(&amp;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a9d179150079340c0c21beaf2500ae1">write_mutex_</a>);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* <span class="keyword">const</span> data = <a class="code" href="classv8_1_1internal_1_1StringTable.html#a3302dd59a9c0c9c541d8480aa279e56e">EnsureCapacity</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a>&amp; s : strings) {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;      <a class="code" href="classv8_1_1internal_1_1StringTableInsertionKey.html">StringTableInsertionKey</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;          isolate, s, <a class="code" href="namespacev8_1_1internal.html#a1d9bc3092ebba2181bef8e36b0854dc9a3aec6da7766e2cf6ba2f717f0749ca5b">DeserializingUserCodeOption::kNotDeserializingUserCode</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> entry =</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a0668ef7de24bb3f989fb0669df327b73">FindEntryOrInsertionEntry</a>(isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.hash());</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> inserted_string = <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>.GetHandleForInsertion(isolate);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table, inserted_string-&gt;IsShared());</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a5898592de37553edcf3c862c31720586">AddAt</a>(isolate, entry, *inserted_string);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">NumberOfElements</a>(), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a2de7cc3357e4b0aa8ba2b7a076dad74a">  701</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a2de7cc3357e4b0aa8ba2b7a076dad74a">StringTable::InsertEmptyStringForBootstrapping</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">NumberOfElements</a>(), 0);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> table_write_guard(&amp;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a9d179150079340c0c21beaf2500ae1">write_mutex_</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html">Data</a>* <span class="keyword">const</span> data = <a class="code" href="classv8_1_1internal_1_1StringTable.html#a3302dd59a9c0c9c541d8480aa279e56e">EnsureCapacity</a>(isolate, 1);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> empty_string = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_string();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    uint32_t hash = empty_string-&gt;EnsureHash();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> entry = data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#afd56f7ff5e1b58bc1218ee0cd5ad5ed6">FindInsertionEntry</a>(isolate, hash);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table, empty_string-&gt;IsShared());</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    data-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">table</a>().<a class="code" href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a5898592de37553edcf3c862c31720586">AddAt</a>(isolate, entry, *empty_string);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">NumberOfElements</a>(), 1);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#ac0bb81daf9fafd55b8a3b95fab8a7bb0">  719</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ac0bb81daf9fafd55b8a3b95fab8a7bb0">StringTable::Print</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_acquire)-&gt;Print(cage_base);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a555360d5fd7323fc90a54c0611bb7661">  723</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a555360d5fd7323fc90a54c0611bb7661">StringTable::GetCurrentMemoryUsage</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(*this) +</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;         <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_acquire)-&gt;GetCurrentMemoryUsage();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160; </div>
<div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a1f5c9338a7df2c61bfda8ae715ec3f14">  728</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a1f5c9338a7df2c61bfda8ae715ec3f14">StringTable::IterateElements</a>(<a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a>* visitor) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="comment">// This should only happen during garbage collection when background threads</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// are paused, so the load can be relaxed.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3f28064f94348c01f908cc28ca4016d7">safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IsolateSafepoint.html#a10bd26df469f53e11665569cd911c0b0">AssertActive</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_relaxed)-&gt;IterateElements(visitor);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;}</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#ac7051d18932bb54945f2bfac94d75765">  735</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#ac7051d18932bb54945f2bfac94d75765">StringTable::DropOldData</a>() {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// This should only happen during garbage collection when background threads</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// are paused, so the load can be relaxed.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3f28064f94348c01f908cc28ca4016d7">safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IsolateSafepoint.html#a10bd26df469f53e11665569cd911c0b0">AssertActive</a>();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a29636ce2b5c73518cc392133e5fa7203">gc_state</a>(), <a class="code" href="classv8_1_1internal_1_1Heap.html#aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f">Heap::NOT_IN_GC</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_relaxed)-&gt;DropPreviousData();</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1StringTable.html#a8a7915726542f03275e2cddbe03ddef3">  743</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a7915726542f03275e2cddbe03ddef3">StringTable::NotifyElementsRemoved</a>(<span class="keywordtype">int</span> <a class="code" href="structv8_1_1internal_1_1count.html">count</a>) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">// This should only happen during garbage collection when background threads</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">// are paused, so the load can be relaxed.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3f28064f94348c01f908cc28ca4016d7">safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IsolateSafepoint.html#a10bd26df469f53e11665569cd911c0b0">AssertActive</a>();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">isolate_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a29636ce2b5c73518cc392133e5fa7203">gc_state</a>(), <a class="code" href="classv8_1_1internal_1_1Heap.html#aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f">Heap::NOT_IN_GC</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">data_</a>.load(std::memory_order_relaxed)-&gt;table().ElementsRemoved(<a class="code" href="structv8_1_1internal_1_1count.html">count</a>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;}</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160; </div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aassert-scope_8h_html"><div class="ttname"><a href="assert-scope_8h.html">assert-scope.h</a></div></div>
<div class="ttc" id="aatomicops_8h_html"><div class="ttname"><a href="atomicops_8h.html">atomicops.h</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_a554df4b9ae5f0dc36b4d092bfc2e004b"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">v8::base::BitField::decode</a></div><div class="ttdeci">static constexpr T decode(U value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00066">bit-field.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_a634dcf9bf5eb402dea1ec28d543bc55c"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#a634dcf9bf5eb402dea1ec28d543bc55c">v8::base::BitField::is_valid</a></div><div class="ttdeci">static constexpr bool is_valid(T value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00050">bit-field.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_aa8d61fe165b5c0b2c869be69be02b7af"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">v8::base::BitField::update</a></div><div class="ttdeci">static constexpr U update(U previous, T value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00061">bit-field.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Mutex_html_a281097589e7088f5af211349cac0ef9d"><div class="ttname"><a href="classv8_1_1base_1_1Mutex.html#a281097589e7088f5af211349cac0ef9d">v8::base::Mutex::AssertHeld</a></div><div class="ttdeci">void AssertHeld() const</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00058">mutex.h:58</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector&lt; const Char &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalOneByteString_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalOneByteString.html">v8::internal::ExternalOneByteString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01233">string.h:1233</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalTwoByteString_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalTwoByteString.html">v8::internal::ExternalTwoByteString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01271">string.h:1271</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a13284c323f2c299eaef39624b890d4a3"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a13284c323f2c299eaef39624b890d4a3">v8::internal::Factory::InternalizeExternalString</a></div><div class="ttdeci">DirectHandle&lt; StringClass &gt; InternalizeExternalString(DirectHandle&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l00991">factory.cc:991</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a8dae7c300e82ad6e5b29e5dea1f4d2b4"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a8dae7c300e82ad6e5b29e5dea1f4d2b4">v8::internal::Factory::NewInternalizedStringImpl</a></div><div class="ttdeci">DirectHandle&lt; String &gt; NewInternalizedStringImpl(DirectHandle&lt; String &gt; string, int len, uint32_t hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l00938">factory.cc:938</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_ac109925d0ba145bf9aa04738d59ab8ae"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#ac109925d0ba145bf9aa04738d59ab8ae">v8::internal::Factory::ComputeInternalizationStrategyForString</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT StringTransitionStrategy ComputeInternalizationStrategyForString(DirectHandle&lt; String &gt; string, MaybeDirectHandle&lt; Map &gt; *internalized_map)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l00955">factory.cc:955</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a8ec67732b544894288129d11e3824bc3"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a8ec67732b544894288129d11e3824bc3">v8::internal::FullObjectSlot::Acquire_Load</a></div><div class="ttdeci">Tagged&lt; Object &gt; Acquire_Load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00074">slots-inl.h:74</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_adc3b0a9182bb08ede5db6ed027d49253"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#adc3b0a9182bb08ede5db6ed027d49253">v8::internal::FullObjectSlot::Release_Store</a></div><div class="ttdeci">void Release_Store(Tagged&lt; Object &gt; value) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00104">slots-inl.h:104</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_ae77bf0d1f0e1b86681fb29101ecd527a"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#ae77bf0d1f0e1b86681fb29101ecd527a">v8::internal::HeapLayout::InAnySharedSpace</a></div><div class="ttdeci">static bool InAnySharedSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00072">heap-layout-inl.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a29636ce2b5c73518cc392133e5fa7203"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a29636ce2b5c73518cc392133e5fa7203">v8::internal::Heap::gc_state</a></div><div class="ttdeci">HeapState gc_state() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00564">heap.h:564</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a3f28064f94348c01f908cc28ca4016d7"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a3f28064f94348c01f908cc28ca4016d7">v8::internal::Heap::safepoint</a></div><div class="ttdeci">IsolateSafepoint * safepoint()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00622">heap.h:622</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f">v8::internal::Heap::NOT_IN_GC</a></div><div class="ttdeci">@ NOT_IN_GC</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00217">heap.h:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_1_1Range_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex_1_1Range.html">v8::internal::InternalIndex::Range</a></div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00065">internal-index.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html">v8::internal::InternalIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00020">internal-index.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html_a1f31d68081d7459e9a44710b535e860d"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html#a1f31d68081d7459e9a44710b535e860d">v8::internal::InternalIndex::is_not_found</a></div><div class="ttdeci">bool is_not_found() const</div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00035">internal-index.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html_ad381db083f3f9b72f16908eac7027823"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html#ad381db083f3f9b72f16908eac7027823">v8::internal::InternalIndex::is_found</a></div><div class="ttdeci">bool is_found() const</div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00034">internal-index.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html">v8::internal::InternalizedStringKey</a></div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00181">string-table.cc:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_a045d0a9b99f7509213717dfe28c0bd2a"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#a045d0a9b99f7509213717dfe28c0bd2a">v8::internal::InternalizedStringKey::PrepareForInsertion</a></div><div class="ttdeci">void PrepareForInsertion(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00199">string-table.cc:199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_a2389c191c2ae9f7b2a4ebf1095f5ff12"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#a2389c191c2ae9f7b2a4ebf1095f5ff12">v8::internal::InternalizedStringKey::internalized_string_</a></div><div class="ttdeci">MaybeDirectHandle&lt; String &gt; internalized_string_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00286">string-table.cc:286</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_a2f633e4523779215d2727b7c428f7d4a"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#a2f633e4523779215d2727b7c428f7d4a">v8::internal::InternalizedStringKey::InternalizedStringKey</a></div><div class="ttdeci">InternalizedStringKey(DirectHandle&lt; String &gt; string, uint32_t hash)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00183">string-table.cc:183</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_a409f1c486e407837bcb926d8e3737535"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#a409f1c486e407837bcb926d8e3737535">v8::internal::InternalizedStringKey::string_</a></div><div class="ttdeci">DirectHandle&lt; String &gt; string_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00280">string-table.cc:280</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_a47dd737dc2011eebcc99edc6a6222704"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#a47dd737dc2011eebcc99edc6a6222704">v8::internal::InternalizedStringKey::GetHandleForInsertion</a></div><div class="ttdeci">DirectHandle&lt; String &gt; GetHandleForInsertion(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00256">string-table.cc:256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_ad1b7de5b1330704fe89d19228c9666c5"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#ad1b7de5b1330704fe89d19228c9666c5">v8::internal::InternalizedStringKey::IsMatch</a></div><div class="ttdeci">bool IsMatch(Isolate *isolate, Tagged&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00194">string-table.cc:194</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringKey_html_afd6936af71426778774f583f1ca809a2"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringKey.html#afd6936af71426778774f583f1ca809a2">v8::internal::InternalizedStringKey::maybe_internalized_map_</a></div><div class="ttdeci">MaybeDirectHandle&lt; Map &gt; maybe_internalized_map_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00287">string-table.cc:287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateSafepoint_html_a10bd26df469f53e11665569cd911c0b0"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateSafepoint.html#a10bd26df469f53e11665569cd911c0b0">v8::internal::IsolateSafepoint::AssertActive</a></div><div class="ttdeci">void AssertActive()</div><div class="ttdef"><b>Definition:</b> <a href="safepoint_8h_source.html#l00045">safepoint.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a184abe8a4a39f941a2f33a937776315d"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a184abe8a4a39f941a2f33a937776315d">v8::internal::Isolate::string_table</a></div><div class="ttdeci">StringTable * string_table() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00796">isolate.h:796</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7e2962359009581ba84e6a361f574f61"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">v8::internal::Isolate::factory</a></div><div class="ttdeci">v8::internal::Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01553">isolate.h:1553</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_acf580d271e1ea0e447b6bb1e361878d0"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">v8::internal::Isolate::string_forwarding_table</a></div><div class="ttdeci">StringForwardingTable * string_forwarding_table() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00800">isolate.h:800</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LocalIsolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1LocalIsolate.html">v8::internal::LocalIsolate</a></div><div class="ttdef"><b>Definition:</b> <a href="local-isolate_8h_source.html#l00045">local-isolate.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00241">maybe-handles.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_a2eafe4fad154c85927cca246e7132e91"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#a2eafe4fad154c85927cca246e7132e91">v8::internal::Name::IsIntegerIndex</a></div><div class="ttdeci">static bool IsIntegerIndex(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00106">name-inl.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_a3d39b6029c2a4d460b73c67d4a04c08b"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#a3d39b6029c2a4d460b73c67d4a04c08b">v8::internal::Name::IsForwardingIndex</a></div><div class="ttdeci">static bool IsForwardingIndex(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00112">name-inl.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_a5b5f0518c5a54dfaa240a45c94e15a15"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#a5b5f0518c5a54dfaa240a45c94e15a15">v8::internal::Name::ContainsCachedArrayIndex</a></div><div class="ttdeci">static bool ContainsCachedArrayIndex(uint32_t hash)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00290">name-inl.h:290</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_aa11a6a4809807238f812028f0248725c"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#aa11a6a4809807238f812028f0248725c">v8::internal::Name::CreateInternalizedForwardingIndex</a></div><div class="ttdeci">static uint32_t CreateInternalizedForwardingIndex(uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00138">name-inl.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_ac1ae04083fa9042106be06126fa5eb7b"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#ac1ae04083fa9042106be06126fa5eb7b">v8::internal::Name::IsInternalizedForwardingIndex</a></div><div class="ttdeci">static bool IsInternalizedForwardingIndex(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00118">name-inl.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_aeb272fbcfe70ac82684b5e995fa5bd87"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">v8::internal::Name::IsHashFieldComputed</a></div><div class="ttdeci">static bool IsHashFieldComputed(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00096">name-inl.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OFStream_html"><div class="ttname"><a href="classv8_1_1internal_1_1OFStream.html">v8::internal::OFStream</a></div><div class="ttdef"><b>Definition:</b> <a href="ostreams_8h_source.html#l00057">ostreams.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html">v8::internal::OffHeapHashTableBase</a></div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00068">off-heap-hash-table.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a0668ef7de24bb3f989fb0669df327b73"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a0668ef7de24bb3f989fb0669df327b73">v8::internal::OffHeapHashTableBase::FindEntryOrInsertionEntry</a></div><div class="ttdeci">InternalIndex FindEntryOrInsertionEntry(IsolateT *isolate, FindKey key, uint32_t hash) const</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table-inl_8h_source.html#l00159">off-heap-hash-table-inl.h:159</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a1bee4e6385fc273007844067e6b5f424"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a1bee4e6385fc273007844067e6b5f424">v8::internal::OffHeapHashTableBase::FindEntry</a></div><div class="ttdeci">InternalIndex FindEntry(IsolateT *isolate, FindKey key, uint32_t hash) const</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table-inl_8h_source.html#l00125">off-heap-hash-table-inl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a5898592de37553edcf3c862c31720586"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a5898592de37553edcf3c862c31720586">v8::internal::OffHeapHashTableBase::AddAt</a></div><div class="ttdeci">void AddAt(PtrComprCageBase cage_base, InternalIndex entry, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00088">off-heap-hash-table.h:88</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a724a8f6bf9ee7412a072a5d33fe3fd3b"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a724a8f6bf9ee7412a072a5d33fe3fd3b">v8::internal::OffHeapHashTableBase::OverwriteDeletedAt</a></div><div class="ttdeci">void OverwriteDeletedAt(PtrComprCageBase cage_base, InternalIndex entry, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00100">off-heap-hash-table.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a77db7b3628ed1dd49a30e1210062194c"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a77db7b3628ed1dd49a30e1210062194c">v8::internal::OffHeapHashTableBase&lt; OffHeapStringHashSet &gt;::deleted_element</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; deleted_element()</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00071">off-heap-hash-table.h:71</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a7c74f38721a0e8395aab341662d5c89c"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a7c74f38721a0e8395aab341662d5c89c">v8::internal::OffHeapHashTableBase::ShouldResizeToAdd</a></div><div class="ttdeci">bool ShouldResizeToAdd(int number_of_additional_elements, int *new_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table-inl_8h_source.html#l00047">off-heap-hash-table-inl.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a7f24e6f2ea4fae8028eb4ab582b88707"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a7f24e6f2ea4fae8028eb4ab582b88707">v8::internal::OffHeapHashTableBase::GetSizeExcludingHeader</a></div><div class="ttdeci">size_t GetSizeExcludingHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00120">off-heap-hash-table.h:120</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_a812dba653335376fb95289076aa9d4a4"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#a812dba653335376fb95289076aa9d4a4">v8::internal::OffHeapHashTableBase::IterateElements</a></div><div class="ttdeci">void IterateElements(Root root, RootVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table-inl_8h_source.html#l00116">off-heap-hash-table-inl.h:116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_aa1c484d21de35fac6f59797838b66218"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#aa1c484d21de35fac6f59797838b66218">v8::internal::OffHeapHashTableBase&lt; OffHeapStringHashSet &gt;::capacity</a></div><div class="ttdeci">int capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00077">off-heap-hash-table.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_ac73d698976c2398b727f398b29b97664"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#ac73d698976c2398b727f398b29b97664">v8::internal::OffHeapHashTableBase&lt; OffHeapStringHashSet &gt;::slot</a></div><div class="ttdeci">OffHeapObjectSlot slot(InternalIndex index, int offset=0) const</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00081">off-heap-hash-table.h:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_ad1d4da5eafd54b82f4d23e282deee06d"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#ad1d4da5eafd54b82f4d23e282deee06d">v8::internal::OffHeapHashTableBase&lt; OffHeapStringHashSet &gt;::empty_element</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; empty_element()</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table_8h_source.html#l00070">off-heap-hash-table.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapHashTableBase_html_afd56f7ff5e1b58bc1218ee0cd5ad5ed6"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapHashTableBase.html#afd56f7ff5e1b58bc1218ee0cd5ad5ed6">v8::internal::OffHeapHashTableBase::FindInsertionEntry</a></div><div class="ttdeci">InternalIndex FindInsertionEntry(PtrComprCageBase cage_base, uint32_t hash) const</div><div class="ttdef"><b>Definition:</b> <a href="off-heap-hash-table-inl_8h_source.html#l00142">off-heap-hash-table-inl.h:142</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PtrComprCageBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1PtrComprCageBase.html">v8::internal::PtrComprCageBase</a></div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02845">globals.h:2845</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1RootVisitor.html">v8::internal::RootVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00065">visitors.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqSubStringKey_html"><div class="ttname"><a href="classv8_1_1internal_1_1SeqSubStringKey.html">v8::internal::SeqSubStringKey</a></div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00608">string-inl.h:608</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SequentialStringKey_html"><div class="ttname"><a href="classv8_1_1internal_1_1SequentialStringKey.html">v8::internal::SequentialStringKey</a></div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00559">string-inl.h:559</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_html"><div class="ttname"><a href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">v8::internal::SharedStringAccessGuardIfNeeded</a></div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00048">string-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_html_a90c21c7e3cfb4babbfa1a35bf606d364"><div class="ttname"><a href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">v8::internal::SharedStringAccessGuardIfNeeded::IsNeeded</a></div><div class="ttdeci">static bool IsNeeded(Tagged&lt; String &gt; str, LocalIsolate *local_isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00081">string-inl.h:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_afe7f07102d90ccce48cbe677c88a0645"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#afe7f07102d90ccce48cbe677c88a0645">v8::internal::Smi::FromInt</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; FromInt(int value)</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00038">smi.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_a6256de8fa004ecd77a768070c99ee852"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#a6256de8fa004ecd77a768070c99ee852">v8::internal::StringForwardingTable::UpdateForwardString</a></div><div class="ttdeci">void UpdateForwardString(int index, Tagged&lt; String &gt; forward_to)</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table_8cc_source.html#l00223">string-forwarding-table.cc:223</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_ad251f5a1593c8c1b282cc69ab93bbd2a"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#ad251f5a1593c8c1b282cc69ab93bbd2a">v8::internal::StringForwardingTable::GetForwardString</a></div><div class="ttdeci">Tagged&lt; String &gt; GetForwardString(PtrComprCageBase cage_base, int index) const</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_afc3553ee70aae1600b010b8aa29fb1be"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#afc3553ee70aae1600b010b8aa29fb1be">v8::internal::StringForwardingTable::AddForwardString</a></div><div class="ttdeci">int AddForwardString(Tagged&lt; String &gt; string, Tagged&lt; String &gt; forward_to)</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table_8cc_source.html#l00207">string-forwarding-table.cc:207</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html">v8::internal::StringShape</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00058">string.h:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a240e0d4fb9c6d1acf19789a044c612b2"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a240e0d4fb9c6d1acf19789a044c612b2">v8::internal::StringShape::IsShared</a></div><div class="ttdeci">bool IsShared() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00217">string-inl.h:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a2fc0348f3ae4566fa6903482e554e8e7"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a2fc0348f3ae4566fa6903482e554e8e7">v8::internal::StringShape::IsExternalOneByte</a></div><div class="ttdeci">bool IsExternalOneByte() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00442">string-inl.h:442</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a765de1da9d7dc0b2b15c5d868937da07"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a765de1da9d7dc0b2b15c5d868937da07">v8::internal::StringShape::IsExternalTwoByte</a></div><div class="ttdeci">bool IsExternalTwoByte() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00447">string-inl.h:447</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_aef5f891fa9e99a89c5b033e6a055a696"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#aef5f891fa9e99a89c5b033e6a055a696">v8::internal::StringShape::IsUncachedExternal</a></div><div class="ttdeci">bool IsUncachedExternal() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00213">string-inl.h:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTableInsertionKey_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringTableInsertionKey.html">v8::internal::StringTableInsertionKey</a></div><div class="ttdef"><b>Definition:</b> <a href="deserializer_8h_source.html#l00362">deserializer.h:362</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTableKey_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringTableKey.html">v8::internal::StringTableKey</a></div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00020">string-table.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTableKey_html_a3e6ae49911326864aaba479a9146dd55"><div class="ttname"><a href="classv8_1_1internal_1_1StringTableKey.html#a3e6ae49911326864aaba479a9146dd55">v8::internal::StringTableKey::hash</a></div><div class="ttdeci">uint32_t hash() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table-inl_8h_source.html#l00024">string-table-inl.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTableKey_html_a5e3f8387baa8b92ffd0c63e198c5aaa5"><div class="ttname"><a href="classv8_1_1internal_1_1StringTableKey.html#a5e3f8387baa8b92ffd0c63e198c5aaa5">v8::internal::StringTableKey::raw_hash_field</a></div><div class="ttdeci">uint32_t raw_hash_field() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00025">string-table.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTableKey_html_aaaf2dafad89891b33229f4c900140486"><div class="ttname"><a href="classv8_1_1internal_1_1StringTableKey.html#aaaf2dafad89891b33229f4c900140486">v8::internal::StringTableKey::length</a></div><div class="ttdeci">uint32_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00031">string-table.h:31</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html">v8::internal::StringTable::Data</a></div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00083">string-table.cc:83</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a0a89304c882c6ecce5ab90a15bf9c9d0"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a0a89304c882c6ecce5ab90a15bf9c9d0">v8::internal::StringTable::Data::PreviousData</a></div><div class="ttdeci">Data * PreviousData()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00107">string-table.cc:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a13e10c9e563c8460d7e7536531bf8930"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a13e10c9e563c8460d7e7536531bf8930">v8::internal::StringTable::Data::Resize</a></div><div class="ttdeci">static std::unique_ptr&lt; Data &gt; Resize(PtrComprCageBase cage_base, std::unique_ptr&lt; Data &gt; data, int capacity)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00143">string-table.cc:143</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a56a9272ca13300d3ebacb5314ed2240d"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a56a9272ca13300d3ebacb5314ed2240d">v8::internal::StringTable::Data::New</a></div><div class="ttdeci">static std::unique_ptr&lt; Data &gt; New(int capacity)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00139">string-table.cc:139</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a614c270f0e62fedff9f68924f53dae13"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a614c270f0e62fedff9f68924f53dae13">v8::internal::StringTable::Data::TryStringToIndexOrLookupExisting</a></div><div class="ttdeci">static Address TryStringToIndexOrLookupExisting(Isolate *isolate, Tagged&lt; String &gt; string, Tagged&lt; String &gt; source, size_t start)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00550">string-table.cc:550</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a6f1cd180484dea29da89678465af56f0"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a6f1cd180484dea29da89678465af56f0">v8::internal::StringTable::Data::IterateElements</a></div><div class="ttdeci">void IterateElements(RootVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00103">string-table.cc:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a758489c1928f88a503447da7d6f8918e"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a758489c1928f88a503447da7d6f8918e">v8::internal::StringTable::Data::Data</a></div><div class="ttdeci">Data(int capacity)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00114">string-table.cc:114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a806749542c83a0c59ad67e7cbf320fba"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a806749542c83a0c59ad67e7cbf320fba">v8::internal::StringTable::Data::Print</a></div><div class="ttdeci">void Print(PtrComprCageBase cage_base) const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00151">string-table.cc:151</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_a9e1263318baf3b712983becc2d81b415"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#a9e1263318baf3b712983becc2d81b415">v8::internal::StringTable::Data::table</a></div><div class="ttdeci">const OffHeapStringHashSet &amp; table() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00094">string-table.cc:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_aa4b882b615e9b96eb0fc95179a690184"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#aa4b882b615e9b96eb0fc95179a690184">v8::internal::StringTable::Data::table_</a></div><div class="ttdeci">OffHeapStringHashSet table_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00117">string-table.cc:117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_acbaa23a17f41e04e90549bad7fcd216e"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#acbaa23a17f41e04e90549bad7fcd216e">v8::internal::StringTable::Data::GetCurrentMemoryUsage</a></div><div class="ttdeci">size_t GetCurrentMemoryUsage() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00131">string-table.cc:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_ad78e4d34a8776bbd64eb04677592754e"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#ad78e4d34a8776bbd64eb04677592754e">v8::internal::StringTable::Data::DropPreviousData</a></div><div class="ttdeci">void DropPreviousData()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00108">string-table.cc:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_addda2bb49cf85b3ae689b9bb04ec9aed"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#addda2bb49cf85b3ae689b9bb04ec9aed">v8::internal::StringTable::Data::table</a></div><div class="ttdeci">OffHeapStringHashSet &amp; table()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00093">string-table.cc:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1Data_html_aef5b7d99b22f06f8f18c62eb294a1d26"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1Data.html#aef5b7d99b22f06f8f18c62eb294a1d26">v8::internal::StringTable::Data::previous_data_</a></div><div class="ttdeci">std::unique_ptr&lt; Data &gt; previous_data_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00116">string-table.cc:116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html">v8::internal::StringTable::OffHeapStringHashSet</a></div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00031">string-table.cc:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_a037e86a29cd8934cedc3f2833cfae99e"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a037e86a29cd8934cedc3f2833cfae99e">v8::internal::StringTable::OffHeapStringHashSet::CopyEntryExcludingKeyInto</a></div><div class="ttdeci">void CopyEntryExcludingKeyInto(PtrComprCageBase, InternalIndex, OffHeapStringHashSet *, InternalIndex)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00064">string-table.cc:64</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_a0d8740a4f17d173bba19a7445478d63e"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a0d8740a4f17d173bba19a7445478d63e">v8::internal::StringTable::OffHeapStringHashSet::SetKey</a></div><div class="ttdeci">void SetKey(InternalIndex index, Tagged&lt; Object &gt; key)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00058">string-table.cc:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_a1b7a665bb32739ede1733069508d1678"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a1b7a665bb32739ede1733069508d1678">v8::internal::StringTable::OffHeapStringHashSet::Set</a></div><div class="ttdeci">void Set(InternalIndex index, Tagged&lt; String &gt; key)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00062">string-table.cc:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_a3d1eeeb05584e7978f52cbfce0a610e9"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a3d1eeeb05584e7978f52cbfce0a610e9">v8::internal::StringTable::OffHeapStringHashSet::KeyIsMatch</a></div><div class="ttdeci">static bool KeyIsMatch(IsolateT *isolate, StringTableKey *key, Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00046">string-table.cc:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_a6f8abb9a586062fb2b2b27283a118875"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a6f8abb9a586062fb2b2b27283a118875">v8::internal::StringTable::OffHeapStringHashSet::Hash</a></div><div class="ttdeci">static uint32_t Hash(PtrComprCageBase, Tagged&lt; Object &gt; key)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00041">string-table.cc:41</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_a86da43a54201703ca9515649e688f754"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#a86da43a54201703ca9515649e688f754">v8::internal::StringTable::OffHeapStringHashSet::kMinCapacity</a></div><div class="ttdeci">static constexpr int kMinCapacity</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00036">string-table.cc:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_ab9a01e408f3eaf4bcbee2715b677bc31"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ab9a01e408f3eaf4bcbee2715b677bc31">v8::internal::StringTable::OffHeapStringHashSet::GetKey</a></div><div class="ttdeci">Tagged&lt; Object &gt; GetKey(PtrComprCageBase cage_base, InternalIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00054">string-table.cc:54</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_aba43d4f69ca0aafcae63635fdfceef9f"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#aba43d4f69ca0aafcae63635fdfceef9f">v8::internal::StringTable::OffHeapStringHashSet::kEntrySize</a></div><div class="ttdeci">static constexpr int kEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00034">string-table.cc:34</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_ae58871d7db9d8525754f5a4122f8f4ac"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#ae58871d7db9d8525754f5a4122f8f4ac">v8::internal::StringTable::OffHeapStringHashSet::kMaxEmptyFactor</a></div><div class="ttdeci">static constexpr int kMaxEmptyFactor</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00035">string-table.cc:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet_html_aeab68259d6eab37ea25325194c4f6bfd"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable_1_1OffHeapStringHashSet.html#aeab68259d6eab37ea25325194c4f6bfd">v8::internal::StringTable::OffHeapStringHashSet::OffHeapStringHashSet</a></div><div class="ttdeci">OffHeapStringHashSet(int capacity)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00038">string-table.cc:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a00eace67662ee9e54284b0f1bd8dbccc"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a00eace67662ee9e54284b0f1bd8dbccc">v8::internal::StringTable::TryStringToIndexOrLookupExisting</a></div><div class="ttdeci">static Address TryStringToIndexOrLookupExisting(Isolate *isolate, Address raw_string)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00635">string-table.cc:635</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a1f5c9338a7df2c61bfda8ae715ec3f14"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a1f5c9338a7df2c61bfda8ae715ec3f14">v8::internal::StringTable::IterateElements</a></div><div class="ttdeci">void IterateElements(RootVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00728">string-table.cc:728</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a28608931d349ea4b4409558190f20400"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a28608931d349ea4b4409558190f20400">v8::internal::StringTable::LookupString</a></div><div class="ttdeci">DirectHandle&lt; String &gt; LookupString(Isolate *isolate, DirectHandle&lt; String &gt; key)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00336">string-table.cc:336</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a2de7cc3357e4b0aa8ba2b7a076dad74a"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a2de7cc3357e4b0aa8ba2b7a076dad74a">v8::internal::StringTable::InsertEmptyStringForBootstrapping</a></div><div class="ttdeci">void InsertEmptyStringForBootstrapping(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00701">string-table.cc:701</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a3302dd59a9c0c9c541d8480aa279e56e"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a3302dd59a9c0c9c541d8480aa279e56e">v8::internal::StringTable::EnsureCapacity</a></div><div class="ttdeci">Data * EnsureCapacity(PtrComprCageBase cage_base, int additional_elements)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00500">string-table.cc:500</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a555360d5fd7323fc90a54c0611bb7661"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a555360d5fd7323fc90a54c0611bb7661">v8::internal::StringTable::GetCurrentMemoryUsage</a></div><div class="ttdeci">size_t GetCurrentMemoryUsage() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00723">string-table.cc:723</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a58e24f6c395074761b6eba714ffb336c"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a58e24f6c395074761b6eba714ffb336c">v8::internal::StringTable::InsertForIsolateDeserialization</a></div><div class="ttdeci">void InsertForIsolateDeserialization(Isolate *isolate, const base::Vector&lt; DirectHandle&lt; String &gt;&gt; &amp;strings)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00676">string-table.cc:676</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a5adf7b4c35726d98a26a7c53a7a235f7"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a5adf7b4c35726d98a26a7c53a7a235f7">v8::internal::StringTable::Capacity</a></div><div class="ttdeci">int Capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00170">string-table.cc:170</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a72cae7b1ef695524890903c945da6df4"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a72cae7b1ef695524890903c945da6df4">v8::internal::StringTable::empty_element</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; empty_element()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00050">string-table.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a74fbb19b84e6e10d8c6035c6ab76d057"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a74fbb19b84e6e10d8c6035c6ab76d057">v8::internal::StringTable::StringTable</a></div><div class="ttdeci">StringTable(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00161">string-table.cc:161</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a8a7915726542f03275e2cddbe03ddef3"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a8a7915726542f03275e2cddbe03ddef3">v8::internal::StringTable::NotifyElementsRemoved</a></div><div class="ttdeci">void NotifyElementsRemoved(int count)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00743">string-table.cc:743</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a8a9d179150079340c0c21beaf2500ae1"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a8a9d179150079340c0c21beaf2500ae1">v8::internal::StringTable::write_mutex_</a></div><div class="ttdeci">base::Mutex write_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00102">string-table.h:102</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_aaac63b44ee19104c7726b98e6ae55626"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#aaac63b44ee19104c7726b98e6ae55626">v8::internal::StringTable::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00103">string-table.h:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ab2009eeddb32952f533dd417ffe61e43"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ab2009eeddb32952f533dd417ffe61e43">v8::internal::StringTable::LookupKey</a></div><div class="ttdeci">DirectHandle&lt; String &gt; LookupKey(IsolateT *isolate, StringTableKey *key)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00392">string-table.cc:392</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ab3b7ec404750cdda66d17f3631ebeeb6"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ab3b7ec404750cdda66d17f3631ebeeb6">v8::internal::StringTable::~StringTable</a></div><div class="ttdeci">~StringTable()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00168">string-table.cc:168</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ac0bb81daf9fafd55b8a3b95fab8a7bb0"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ac0bb81daf9fafd55b8a3b95fab8a7bb0">v8::internal::StringTable::Print</a></div><div class="ttdeci">void Print(PtrComprCageBase cage_base) const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00719">string-table.cc:719</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ac7051d18932bb54945f2bfac94d75765"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ac7051d18932bb54945f2bfac94d75765">v8::internal::StringTable::DropOldData</a></div><div class="ttdeci">void DropOldData()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00735">string-table.cc:735</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_acf9a03fe720e5f7d13f1c48e6f1f34de"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#acf9a03fe720e5f7d13f1c48e6f1f34de">v8::internal::StringTable::data_</a></div><div class="ttdeci">std::atomic&lt; Data * &gt; data_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00099">string-table.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ae6b153e0f379e1c83a976e3da401ebf8"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ae6b153e0f379e1c83a976e3da401ebf8">v8::internal::StringTable::deleted_element</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; deleted_element()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00051">string-table.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_af1710e7f05758accc40ed9c2581d97f9"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#af1710e7f05758accc40ed9c2581d97f9">v8::internal::StringTable::NumberOfElements</a></div><div class="ttdeci">int NumberOfElements() const</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00173">string-table.cc:173</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a0a659043aaf2322e3ee5e8fcba625cde"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">v8::internal::String::WriteToFlat</a></div><div class="ttdeci">static void WriteToFlat(Tagged&lt; String &gt; source, SinkCharT *sink, uint32_t start, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00763">string.cc:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a4dba1b2eafcf7a414910966f950540c9"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">v8::internal::TaggedImpl::ptr</a></div><div class="ttdeci">constexpr StorageType ptr() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00110">tagged-impl.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html">v8::internal::anonymous_namespace{string-table.cc}::CharBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00527">string-table.cc:527</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer_html_a34140de546c1738c050830947b4f6851"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#a34140de546c1738c050830947b4f6851">v8::internal::anonymous_namespace{string-table.cc}::CharBuffer::outofline_</a></div><div class="ttdeci">std::unique_ptr&lt; Char[]&gt; outofline_</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00544">string-table.cc:544</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer_html_a93d6c405ac320d205cbcb6fc014c8101"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#a93d6c405ac320d205cbcb6fc014c8101">v8::internal::anonymous_namespace{string-table.cc}::CharBuffer::Reset</a></div><div class="ttdeci">void Reset(size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00529">string-table.cc:529</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer_html_abc995526b858f89d8619bf0fc4c0949a"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_1_1CharBuffer.html#abc995526b858f89d8619bf0fc4c0949a">v8::internal::anonymous_namespace{string-table.cc}::CharBuffer::Data</a></div><div class="ttdeci">Char * Data()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00534">string-table.cc:534</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="adeserializer_8h_html"><div class="ttname"><a href="deserializer_8h.html">deserializer.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aheap-layout-inl_8h_html"><div class="ttname"><a href="heap-layout-inl_8h.html">heap-layout-inl.h</a></div></div>
<div class="ttc" id="ainternal-index_8h_html"><div class="ttname"><a href="internal-index_8h.html">internal-index.h</a></div></div>
<div class="ttc" id="aisolate-utils-inl_8h_html"><div class="ttname"><a href="isolate-utils-inl_8h.html">isolate-utils-inl.h</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03_html_a85c792759a8f677e481c149d6d9bb5f2"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">v8::base::anonymous_namespace{platform-posix.cc}::Allocate</a></div><div class="ttdeci">void * Allocate(void *hint, size_t size, OS::MemoryPermission access, PageType page_type)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00166">platform-posix.cc:166</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af0b04fe9288a783d9de7a19dcfc55fa3"><div class="ttname"><a href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">v8::base::Free</a></div><div class="ttdeci">void Free(void *memory)</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_a6f5e6ffabad6d103b853e7033c900fbe"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">v8::internal::InstanceTypeChecker::IsThinString</a></div><div class="ttdeci">constexpr bool IsThinString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00403">instance-type-inl.h:403</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_aa50b8d8a7e8d5da47c21d36be5b2a14d"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">v8::internal::InstanceTypeChecker::IsInternalizedString</a></div><div class="ttdeci">constexpr bool IsInternalizedString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00317">instance-type-inl.h:317</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_aed66dfc5a0636c99f9313e16bf5a9a23"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aed66dfc5a0636c99f9313e16bf5a9a23">v8::internal::InstanceTypeChecker::IsConsString</a></div><div class="ttdeci">constexpr bool IsConsString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00375">instance-type-inl.h:375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_af900128363a4301fdb5640cfa106788b"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#af900128363a4301fdb5640cfa106788b">v8::internal::InstanceTypeChecker::IsSlicedString</a></div><div class="ttdeci">constexpr bool IsSlicedString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00389">instance-type-inl.h:389</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_html_aea46070627c9c116b8f1be4a25840e66"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">v8::internal::anonymous_namespace{intl-objects.cc}::New</a></div><div class="ttdeci">MaybeDirectHandle&lt; T &gt; New(Isolate *isolate, DirectHandle&lt; JSFunction &gt; constructor, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition:</b> <a href="intl-objects_8cc_source.html#l00205">intl-objects.cc:205</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03_html_ad3ce734799151a3cb6a2988f9fd8a06a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string-table_8cc_03.html#ad3ce734799151a3cb6a2988f9fd8a06a">v8::internal::anonymous_namespace{string-table.cc}::SetInternalizedReference</a></div><div class="ttdeci">void SetInternalizedReference(Isolate *isolate, Tagged&lt; String &gt; string, Tagged&lt; String &gt; internalized)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00292">string-table.cc:292</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a14f4234ae23bee0bff6176a93c6e83cba5165e5b934799d360457644e2b3718f6"><div class="ttname"><a href="namespacev8_1_1internal.html#a14f4234ae23bee0bff6176a93c6e83cba5165e5b934799d360457644e2b3718f6">v8::internal::kUnsupported</a></div><div class="ttdeci">@ kUnsupported</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01731">globals.h:1731</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a14f4234ae23bee0bff6176a93c6e83cba72e85fa1bf19c36a86a609a52c13f1bc"><div class="ttname"><a href="namespacev8_1_1internal.html#a14f4234ae23bee0bff6176a93c6e83cba72e85fa1bf19c36a86a609a52c13f1bc">v8::internal::kNotFound</a></div><div class="ttdeci">@ kNotFound</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01731">globals.h:1731</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a15cafb1d1ed1ac577609eb5e764384e8"><div class="ttname"><a href="namespacev8_1_1internal.html#a15cafb1d1ed1ac577609eb5e764384e8">v8::internal::indirect_handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; indirect_handle(DirectHandle&lt; T &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00758">handles.h:758</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1d9bc3092ebba2181bef8e36b0854dc9a3aec6da7766e2cf6ba2f717f0749ca5b"><div class="ttname"><a href="namespacev8_1_1internal.html#a1d9bc3092ebba2181bef8e36b0854dc9a3aec6da7766e2cf6ba2f717f0749ca5b">v8::internal::DeserializingUserCodeOption::kNotDeserializingUserCode</a></div><div class="ttdeci">@ kNotDeserializingUserCode</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51">v8::internal::StringTransitionStrategy</a></div><div class="ttdeci">StringTransitionStrategy</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02882">globals.h:2882</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d">v8::internal::StringTransitionStrategy::kInPlace</a></div><div class="ttdeci">@ kInPlace</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299">v8::internal::StringTransitionStrategy::kCopy</a></div><div class="ttdeci">@ kCopy</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20">v8::internal::StringTransitionStrategy::kAlreadyTransitioned</a></div><div class="ttdeci">@ kAlreadyTransitioned</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac8c51e7a3f23c971926f1c90a404cc5d"><div class="ttname"><a href="namespacev8_1_1internal.html#ac8c51e7a3f23c971926f1c90a404cc5d">v8::internal::HashSeed</a></div><div class="ttdeci">uint64_t HashSeed(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="hash-seed-inl_8h_source.html#l00037">hash-seed-inl.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a13596ed4ca024abd4790ec46b62c2097"><div class="ttname"><a href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">v8::kReleaseStore</a></div><div class="ttdeci">static constexpr ReleaseStoreTag kReleaseStore</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02944">globals.h:2944</a></div></div>
<div class="ttc" id="anamespacev8_html_aee4e677b8d8a86416617b3330778b98a"><div class="ttname"><a href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">v8::kAcquireLoad</a></div><div class="ttdeci">static constexpr AcquireLoadTag kAcquireLoad</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02942">globals.h:2942</a></div></div>
<div class="ttc" id="aobject-list-macros_8h_html"><div class="ttname"><a href="object-list-macros_8h.html">object-list-macros.h</a></div></div>
<div class="ttc" id="aoff-heap-hash-table-inl_8h_html"><div class="ttname"><a href="off-heap-hash-table-inl_8h.html">off-heap-hash-table-inl.h</a></div></div>
<div class="ttc" id="aostreams_8h_html"><div class="ttname"><a href="ostreams_8h.html">ostreams.h</a></div></div>
<div class="ttc" id="aptr-compr-inl_8h_html"><div class="ttname"><a href="ptr-compr-inl_8h.html">ptr-compr-inl.h</a></div></div>
<div class="ttc" id="asafepoint_8h_html"><div class="ttname"><a href="safepoint_8h.html">safepoint.h</a></div></div>
<div class="ttc" id="aslots-inl_8h_html"><div class="ttname"><a href="slots-inl_8h.html">slots-inl.h</a></div></div>
<div class="ttc" id="aslots_8h_html"><div class="ttname"><a href="slots_8h.html">slots.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html"><div class="ttname"><a href="src_2base_2macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="asrc_2utils_2allocation_8h_html"><div class="ttname"><a href="src_2utils_2allocation_8h.html">allocation.h</a></div></div>
<div class="ttc" id="astring-inl_8h_html"><div class="ttname"><a href="string-inl_8h.html">string-inl.h</a></div></div>
<div class="ttc" id="astring-table-inl_8h_html"><div class="ttname"><a href="string-table-inl_8h.html">string-table-inl.h</a></div></div>
<div class="ttc" id="astring-table_8h_html"><div class="ttname"><a href="string-table_8h.html">string-table.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Brief_html"><div class="ttname"><a href="structv8_1_1internal_1_1Brief.html">v8::internal::Brief</a></div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00639">objects.h:639</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1count_html"><div class="ttname"><a href="structv8_1_1internal_1_1count.html">v8::internal::count</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-fast-api-calls_8h_source.html#l00511">v8-fast-api-calls.h:511</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_766296db99a93e596ab8775592dcbea4.html">objects</a></li><li class="navelem"><a class="el" href="string-table_8cc.html">string-table.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:00:06 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
