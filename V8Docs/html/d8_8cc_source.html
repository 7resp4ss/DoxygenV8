<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/d8/d8.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">d8.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="d8_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">string.h</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifdef ENABLE_VTUNE_JIT_INTERFACE</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;third_party/vtune/v8-vtune.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="libplatform_8h.html">include/libplatform/libplatform.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-tracing_8h.html">include/libplatform/v8-tracing.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-function_8h.html">include/v8-function.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-initialization_8h.html">include/v8-initialization.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-inspector_8h.html">include/v8-inspector.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-isolate_8h.html">include/v8-isolate.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-json_8h.html">include/v8-json.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-locker_8h.html">include/v8-locker.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-profiler_8h.html">include/v8-profiler.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-wasm_8h.html">include/v8-wasm.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="api-inl_8h.html">src/api/api-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cpu_8h.html">src/base/cpu.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fpu_8h.html">src/base/fpu.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="base_2platform_2memory_8h.html">src/base/platform/memory.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2platform_2platform_8h.html">src/base/platform/platform.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">src/base/platform/time.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wrappers_8h.html">src/base/platform/wrappers.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="msan_8h.html">src/base/sanitizer/msan.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sys-info_8h.html">src/base/sys-info.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="random-number-generator_8h.html">src/base/utils/random-number-generator.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="optimizing-compile-dispatcher_8h.html">src/compiler-dispatcher/optimizing-compile-dispatcher.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="d8-console_8h.html">src/d8/d8-console.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="d8-platforms_8h.html">src/d8/d8-platforms.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="d8_8h.html">src/d8/d8.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="debug-interface_8h.html">src/debug/debug-interface.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="deoptimizer_8h.html">src/deoptimizer/deoptimizer.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="basic-block-profiler_8h.html">src/diagnostics/basic-block-profiler.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="microtask-queue_8h.html">src/execution/microtask-queue.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8threads_8h.html">src/execution/v8threads.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vm-state-inl_8h.html">src/execution/vm-state-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flags_2flags_8h.html">src/flags/flags.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maybe-handles_8h.html">src/handles/maybe-handles.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parked-scope-inl_8h.html">src/heap/parked-scope-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2init_2v8_8h.html">src/init/v8.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="interpreter_8h.html">src/interpreter/interpreter.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="counters_8h.html">src/logging/counters.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log-file_8h.html">src/logging/log-file.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js-array_8h.html">src/objects/js-array.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="managed-inl_8h.html">src/objects/managed-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects_8h.html">src/objects/objects.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parse-info_8h.html">src/parsing/parse-info.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parsing_8h.html">src/parsing/parsing.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="scanner-character-streams_8h.html">src/parsing/scanner-character-streams.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profile-generator_8h.html">src/profiler/profile-generator.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="snapshot_8h.html">src/snapshot/snapshot.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cancelable-task_8h.html">src/tasks/cancelable-task.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ostreams_8h.html">src/utils/ostreams.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils_2utils_8h.html">src/utils/utils.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#ifdef V8_OS_DARWIN</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &lt;mach/mach.h&gt;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &lt;mach/task_policy.h&gt;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_MAGLEV</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maglev-concurrent-dispatcher_8h.html">src/maglev/maglev-concurrent-dispatcher.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_MAGLEV</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_PARTITION_ALLOC</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &lt;partition_alloc/shim/allocator_shim_default_dispatch_to_partition_alloc.h&gt;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_PARTITION_ALLOC</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#if V8_OS_POSIX</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_POSIX</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cov_8h.html">src/fuzzilli/cov.h</a>&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fuzzilli_8h.html">src/fuzzilli/fuzzilli.h</a>&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_FUZZILLI</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#ifdef V8_USE_PERFETTO</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;perfetto/tracing/track_event.h&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#include &quot;perfetto/tracing/track_event_legacy.h&quot;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_PERFETTO</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#ifdef V8_INTL_SUPPORT</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#include &quot;unicode/locid.h&quot;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_INTL_SUPPORT</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#include &lt;sys/mman.h&gt;</span>  <span class="comment">// For MultiMappedAllocator.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trap-handler_8h.html">src/trap-handler/trap-handler.h</a>&quot;</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-code-manager_8h.html">src/wasm/wasm-code-manager.h</a>&quot;</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#ifndef DCHECK</span></div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">  124</a></span>&#160;<span class="preprocessor">#define DCHECK(condition) assert(condition)</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#ifndef CHECK</span></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">  128</a></span>&#160;<span class="preprocessor">#define CHECK(condition) assert(condition)</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html">  133</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// Set on worker threads to the current Worker instance.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3c4e52e274e903c3f00dc579926c96ec">  136</a></span>&#160;thread_local <a class="code" href="classv8_1_1Worker.html">Worker</a>* <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3c4e52e274e903c3f00dc579926c96ec">current_worker_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">  141</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_FUZZILLI</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// Base class for shell ArrayBuffer allocators. It forwards all operations to</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// the default v8 allocator.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html">  146</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html">ArrayBufferAllocatorBase</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1ArrayBuffer_1_1Allocator.html">v8::ArrayBuffer::Allocator</a> {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a2f30e532725f499b6477d40014381526">  148</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a2f30e532725f499b6477d40014381526">Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> allocator_-&gt;Allocate(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a68b31fdac15d706c8067fc2968ff5e0c">  152</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a68b31fdac15d706c8067fc2968ff5e0c">AllocateUninitialized</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> allocator_-&gt;AllocateUninitialized(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a4793426dabbd9e03a19c5db2f817a887">  156</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a4793426dabbd9e03a19c5db2f817a887">Free</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    allocator_-&gt;Free(data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#abcf6e6c89907229093087674dda7ebaf">  160</a></span>&#160;  <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#abcf6e6c89907229093087674dda7ebaf">GetPageAllocator</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> allocator_-&gt;GetPageAllocator();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#ac67c855f1a6c6c97bc5bfaee2ae6607e">  165</a></span>&#160;  std::unique_ptr&lt;Allocator&gt; allocator_ =</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      std::unique_ptr&lt;Allocator&gt;(NewDefaultAllocator());</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;};</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">// ArrayBuffer allocator that can use virtual memory to improve performance.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html">  170</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html">ShellArrayBufferAllocator</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html">ArrayBufferAllocatorBase</a> {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a34e023cb9eb69c908445289909e8e1a0">  172</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a34e023cb9eb69c908445289909e8e1a0">Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt;= kVMThreshold) <span class="keywordflow">return</span> AllocateVM(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">ArrayBufferAllocatorBase::Allocate</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#abd74e8ee1e87cb4e3557e6d652ab7c27">  177</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#abd74e8ee1e87cb4e3557e6d652ab7c27">AllocateUninitialized</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt;= kVMThreshold) <span class="keywordflow">return</span> AllocateVM(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> ArrayBufferAllocatorBase::AllocateUninitialized(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#aa134a5382d7f970c2a68f0550d9b5e2b">  182</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#aa134a5382d7f970c2a68f0550d9b5e2b">Free</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt;= kVMThreshold) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      FreeVM(data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">ArrayBufferAllocatorBase::Free</a>(data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a220e1c56f943ce3bfc7264ff064ec0fc">  191</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kVMThreshold = 65536;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a477e1803c4dfd262147308a23ac9f457">  193</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a477e1803c4dfd262147308a23ac9f457">AllocateVM</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(kVMThreshold, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html">v8::PageAllocator</a>* page_allocator = GetPageAllocator();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordtype">size_t</span> page_size = page_allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">AllocatePageSize</a>();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">size_t</span> allocated = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, page_size);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a3ce652c7cf886797e12fd8404dca14c0">i::AllocatePages</a>(page_allocator, allocated, page_size,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                            <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a">PageAllocator::kReadWrite</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a984c3a9773d4cba870ade4813e867843">  202</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a984c3a9773d4cba870ade4813e867843">FreeVM</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html">v8::PageAllocator</a>* page_allocator = GetPageAllocator();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">size_t</span> page_size = page_allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">AllocatePageSize</a>();</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">size_t</span> allocated = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, page_size);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af33be30dc6995646ac5a541bdf0ede03">i::FreePages</a>(page_allocator, data, allocated);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;};</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">// ArrayBuffer allocator that never allocates over 10MB.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html">  211</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html">MockArrayBufferAllocator</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html">ArrayBufferAllocatorBase</a> {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a2d789627ca21c910ad75e059af7c1aa2">  213</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a2d789627ca21c910ad75e059af7c1aa2">Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">ArrayBufferAllocatorBase::Allocate</a>(Adjust(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#adc91de5dbb7feee3e049f024eecb521c">  217</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#adc91de5dbb7feee3e049f024eecb521c">AllocateUninitialized</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> ArrayBufferAllocatorBase::AllocateUninitialized(Adjust(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a7853a97ea94b07b7302dde04032878b4">  221</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a7853a97ea94b07b7302dde04032878b4">Free</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">ArrayBufferAllocatorBase::Free</a>(data, Adjust(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a9b04ac7740c62984786493644960fc7c">  226</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a9b04ac7740c62984786493644960fc7c">Adjust</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> kAllocationLimit = 10 * <a class="code" href="flag-definitions_8h.html#a67f6e75911a1c9e16076ff4db599e681">i::MB</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; kAllocationLimit ? <a class="code" href="namespacev8_1_1internal.html#a9f5507dc03f0b35f38b119fc3285586a">i::AllocatePageSize</a>() : <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;};</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">// ArrayBuffer allocator that can be equipped with a limit to simulate system</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">// OOM.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html">  234</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html">MockArrayBufferAllocatiorWithLimit</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html">MockArrayBufferAllocator</a> {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a91513683e88901c67dab1cb912b8d9b1">  236</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a91513683e88901c67dab1cb912b8d9b1">MockArrayBufferAllocatiorWithLimit</a>(<span class="keywordtype">size_t</span> allocation_limit)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      : limit_(allocation_limit), space_left_(allocation_limit) {}</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a544f533c57dfcd258394d5ebe772de25">  240</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a544f533c57dfcd258394d5ebe772de25">Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; space_left_) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    space_left_ -= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">MockArrayBufferAllocator::Allocate</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a6833f3074e3e8df5ecf4e75b329aebfe">  248</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a6833f3074e3e8df5ecf4e75b329aebfe">AllocateUninitialized</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; space_left_) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    space_left_ -= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> MockArrayBufferAllocator::AllocateUninitialized(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a5090052406e711dc24216b100585885c">  256</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a5090052406e711dc24216b100585885c">Free</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    space_left_ += <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">MockArrayBufferAllocator::Free</a>(data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#ad80b12c929eba6dad561db3a73bf0794">  261</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#ad80b12c929eba6dad561db3a73bf0794">MaxAllocationSize</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> limit_; }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#ae0b1121a7c233bff79fbdb5f1b7cd500">  264</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#ae0b1121a7c233bff79fbdb5f1b7cd500">limit_</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a849237c6357c7386ad010a403963363a">  265</a></span>&#160;  std::atomic&lt;size_t&gt; <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a849237c6357c7386ad010a403963363a">space_left_</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;};</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// This is a mock allocator variant that provides a huge virtual allocation</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">// backed by a small real allocation that is repeatedly mapped. If you create an</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// array on memory allocated by this allocator, you will observe that elements</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">// will alias each other as if their indices were modulo-divided by the real</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// allocation length.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">// The purpose is to allow stability-testing of huge (typed) arrays without</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">// actually consuming huge amounts of physical memory.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">// This is currently only available on Linux because it relies on {mremap}.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">class </span>MultiMappedAllocator : <span class="keyword">public</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html">ArrayBufferAllocatorBase</a> {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &lt; kChunkSize) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">ArrayBufferAllocatorBase::Allocate</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// We use mmap, which initializes pages to zero anyway.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">return</span> AllocateUninitialized(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordtype">void</span>* AllocateUninitialized(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &lt; kChunkSize) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">return</span> ArrayBufferAllocatorBase::AllocateUninitialized(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">size_t</span> rounded_length = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, kChunkSize);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">int</span> prot = PROT_READ | PROT_WRITE;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// We have to specify MAP_SHARED to make {mremap} below do what we want.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> = MAP_SHARED | MAP_ANONYMOUS;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordtype">void</span>* real_alloc = mmap(<span class="keyword">nullptr</span>, kChunkSize, prot, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, -1, 0);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(real_alloc) == -1) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="comment">// If we ran into some limit (physical or virtual memory, or number</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="comment">// of mappings, etc), return {nullptr}, which callers can handle.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">if</span> (errno == ENOMEM) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="comment">// Other errors may be bugs which we want to learn about.</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;mmap (real) failed with error %d: %s&quot;</span>, errno, strerror(errno));</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// The backing memory must be allocated inside the sandbox as it will be</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// used for array buffer contents.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">// Here we go into somewhat less-well-defined territory by using the</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="comment">// sandbox&#39;s virtual address space to essentially just reserve a number of</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// OS pages inside the sandbox, but then using mremap to replace these</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// pages directly afterwards. In practice, this works fine however.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    VirtualAddressSpace* vas = i::Sandbox::current()-&gt;address_space();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classuintptr__t.html">i::Address</a> in_sandbox_page_reservation = vas-&gt;AllocatePages(</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <a class="code" href="classv8_1_1VirtualAddressSpace.html#a3a8f4984c524f2c30a8b00a6b8bff41a">VirtualAddressSpace::kNoHint</a>, rounded_length,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        vas-&gt;allocation_granularity(), <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555af5d6f15f85f8db76149a52e2f4a2aa70">PagePermissions::kNoAccess</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordtype">void</span>* virtual_alloc =</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        in_sandbox_page_reservation != 0</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            ? <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(in_sandbox_page_reservation)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            : <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(-1);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">void</span>* virtual_alloc =</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        mmap(<span class="keyword">nullptr</span>, rounded_length, prot, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> | MAP_NORESERVE, -1, 0);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(virtual_alloc) == -1) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">if</span> (errno == ENOMEM) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="comment">// Undo earlier, successful mappings.</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        munmap(real_alloc, kChunkSize);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;mmap (virtual) failed with error %d: %s&quot;</span>, errno, strerror(errno));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="classuintptr__t.html">i::Address</a> virtual_base = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">i::Address</a><span class="keyword">&gt;</span>(virtual_alloc);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="classuintptr__t.html">i::Address</a> virtual_end = virtual_base + rounded_length;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classuintptr__t.html">i::Address</a> to_map = virtual_base; to_map &lt; virtual_end;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;         to_map += kChunkSize) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// Specifying 0 as the &quot;old size&quot; causes the existing map entry to not</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <span class="comment">// get deleted, which is important so that we can remap it again in the</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// next iteration of this loop.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          mremap(real_alloc, 0, kChunkSize, MREMAP_MAYMOVE | MREMAP_FIXED,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                 <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(to_map));</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">reinterpret_cast&lt;</span>intptr_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) == -1) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <span class="keywordflow">if</span> (errno == ENOMEM) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <span class="comment">// Undo earlier, successful mappings.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          munmap(real_alloc, kChunkSize);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          vas-&gt;FreePages(in_sandbox_page_reservation, rounded_length);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          munmap(virtual_alloc, rounded_length);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;mremap failed with error %d: %s&quot;</span>, errno, strerror(errno));</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;regions_mutex_);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    regions_[virtual_alloc] = real_alloc;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> virtual_alloc;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">Free</a>(<span class="keywordtype">void</span>* data, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &lt; kChunkSize) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">ArrayBufferAllocatorBase::Free</a>(data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;regions_mutex_);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">void</span>* real_alloc = regions_[data];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    munmap(real_alloc, kChunkSize);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordtype">size_t</span> rounded_length = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, kChunkSize);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    VirtualAddressSpace* vas = i::Sandbox::current()-&gt;address_space();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    vas-&gt;FreePages(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">i::Address</a><span class="keyword">&gt;</span>(data), rounded_length);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    munmap(data, rounded_length);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    regions_.erase(data);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// Aiming for a &quot;Huge Page&quot; (2M on Linux x64) to go easy on the TLB.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kChunkSize = 2 * 1024 * 1024;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  std::unordered_map&lt;void*, void*&gt; regions_;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  base::Mutex regions_mutex_;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;};</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">  389</a></span>&#160;<a class="code" href="classv8_1_1Platform.html">v8::Platform</a>* <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>;</div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">  390</a></span>&#160;std::unique_ptr&lt;v8::Platform&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">int</span> N&gt;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af346c366005c18b740e2d55e78778bf3">  393</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span> (&amp;message)[<a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a>]) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(message);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">  398</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> message) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(message);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9710b9b9d11d6e46b965b86dc1cd039e">  403</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9710b9b9d11d6e46b965b86dc1cd039e">ThrowException</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> exception) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ad2d4dd42267c374a37b93df403ef11ac">ThrowException</a>(exception);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;}</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">  408</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">TryGetValue</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                     <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                     <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                     <span class="keyword">const</span> <span class="keywordtype">char</span>* property) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8_str</a> = <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, property);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8_str</a>.IsEmpty()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">return</span> <span class="keywordtype">object</span>-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8_str</a>.ToLocalChecked());</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a19596e9a1f55f804ad2d17ed888e808a">  417</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a19596e9a1f55f804ad2d17ed888e808a">GetValue</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                             <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> <span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* property) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">TryGetValue</a>(isolate, context, <span class="keywordtype">object</span>, property).<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">  422</a></span>&#160;std::shared_ptr&lt;Worker&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                                   <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (object-&gt;<a class="code" href="classv8_1_1Object.html#aa1e9645c7313bc2882da85732281b405">InternalFieldCount</a>() != 1) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;this is not a Worker&quot;</span>);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> =</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*object-&gt;<a class="code" href="classv8_1_1Object.html#aa369f735e99f0741d8f36b77244d2ce3">GetInternalField</a>(0));</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(*<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>)) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Worker is defunct because main thread is terminating&quot;</span>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keyword">auto</span> managed = i::Cast&lt;i::Managed&lt;Worker&gt;&gt;(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">return</span> managed-&gt;get();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afd84d7474ca591066c201d273b5c691b">  439</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Thread_1_1Options.html">base::Thread::Options</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afd84d7474ca591066c201d273b5c691b">GetThreadOptions</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// On some systems (OSX 10.6) the stack size default is 0.5Mb or less</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// which is not enough to parse the big literal expressions used in tests.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// The stack size should be at least StackGuard::kLimitSize + some</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">// OS-specific padding for thread startup code.  2Mbytes seems to be enough.</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Thread_1_1Options.html">base::Thread::Options</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, 2 * <a class="code" href="flag-definitions_8h.html#a67f6e75911a1c9e16076ff4db599e681">i::MB</a>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;}</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="keyword">namespace </span>tracing {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html">  451</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#ae4f8b93a4670bbb4c0871a3e2d7d1e9e">  453</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">char</span> <a class="code" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#ae4f8b93a4670bbb4c0871a3e2d7d1e9e">kIncludedCategoriesParam</a>[] = <span class="stringliteral">&quot;included_categories&quot;</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#a8cb8a25bcb70f7bac92883aefb033d28">  454</a></span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">char</span> <a class="code" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#a8cb8a25bcb70f7bac92883aefb033d28">kTraceConfigParam</a>[] = <span class="stringliteral">&quot;trace_config&quot;</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html">  456</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html">TraceConfigParser</a> {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html#a51c8b545f613deda5a64c13212578c2e">  458</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html#a51c8b545f613deda5a64c13212578c2e">FillTraceConfig</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                              <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">platform::tracing::TraceConfig</a>* trace_config,</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                              <span class="keyword">const</span> <span class="keywordtype">char</span>* json_str) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> outer_scope(isolate);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Context.html#a11648311890e6127d92335fc438b8211">Context::New</a>(isolate);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> inner_scope(isolate);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source =</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, json_str).ToLocalChecked();</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1JSON.html#a32156057e84d1e4406e43df386922a2b">JSON::Parse</a>(context, source).<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> trace_config_object = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.As&lt;<a class="code" href="classv8_1_1Object.html">v8::Object</a>&gt;();</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// Try reading &#39;trace_config&#39; property from a full chrome trace config.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// https://chromium.googlesource.com/chromium/src/+/master/docs/memory-infra/memory_infra_startup_tracing.md#the-advanced-way</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> maybe_trace_config_object =</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a19596e9a1f55f804ad2d17ed888e808a">GetValue</a>(isolate, context, trace_config_object, <a class="code" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#a8cb8a25bcb70f7bac92883aefb033d28">kTraceConfigParam</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (maybe_trace_config_object-&gt;IsObject()) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      trace_config_object = maybe_trace_config_object.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    UpdateIncludedCategoriesList(isolate, context, trace_config_object,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                 trace_config);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html#a4f30dbac15a6999979a56b51cb3edb39">  483</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html#a4f30dbac15a6999979a56b51cb3edb39">UpdateIncludedCategoriesList</a>(</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">platform::tracing::TraceConfig</a>* trace_config) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> =</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a19596e9a1f55f804ad2d17ed888e808a">GetValue</a>(isolate, context, <span class="keywordtype">object</span>, <a class="code" href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#ae4f8b93a4670bbb4c0871a3e2d7d1e9e">kIncludedCategoriesParam</a>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsArray()) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> v8_array = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.As&lt;<a class="code" href="classv8_1_1Array.html">Array</a>&gt;();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = v8_array-&gt;Length(); <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> v = v8_array-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>)</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                             .ToLocalChecked()</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                             -&gt;ToString(context)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                             .ToLocalChecked();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> str(isolate, v-&gt;ToString(context).ToLocalChecked());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        trace_config-&gt;<a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html#a5d5941e02cdfd629b71b043a684bd776">AddIncludedCategory</a>(*str);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">return</span> v8_array-&gt;Length();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;};</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160; </div>
<div class="line"><a name="l00506"></a><span class="lineno"><a class="line" href="namespacev8_1_1tracing.html#aeb1e0341abc6e29b49c94c726c3f7646">  506</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">platform::tracing::TraceConfig</a>* <a class="code" href="namespacev8_1_1tracing.html#aeb1e0341abc6e29b49c94c726c3f7646">CreateTraceConfigFromJSON</a>(</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* json_str) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">platform::tracing::TraceConfig</a>* trace_config =</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keyword">new</span> <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">platform::tracing::TraceConfig</a>();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  TraceConfigParser::FillTraceConfig(isolate, trace_config, json_str);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">return</span> trace_config;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}  <span class="comment">// namespace tracing</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="classv8_1_1ExternalOwningOneByteStringResource.html">  516</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html">ExternalOwningOneByteStringResource</a></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html">String::ExternalOneByteStringResource</a> {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classv8_1_1ExternalOwningOneByteStringResource.html#a8c85b37960c99ffa41041ffd77ccfaf5">  519</a></span>&#160;  <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#a8c85b37960c99ffa41041ffd77ccfaf5">ExternalOwningOneByteStringResource</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classv8_1_1ExternalOwningOneByteStringResource.html#a68d1c348d735d92c3309b67fcca83bb2">  520</a></span>&#160;  <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#a68d1c348d735d92c3309b67fcca83bb2">ExternalOwningOneByteStringResource</a>(</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      std::unique_ptr&lt;base::OS::MemoryMappedFile&gt; <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      : <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#ad6c9d9763154b5616deb93c974e571c4">file_</a>(std::move(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>)) {}</div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="classv8_1_1ExternalOwningOneByteStringResource.html#a212c07a5f7faba9bd71544bdb6dbd321">  523</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#a212c07a5f7faba9bd71544bdb6dbd321">data</a>()<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#ad6c9d9763154b5616deb93c974e571c4">file_</a>-&gt;memory());</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classv8_1_1ExternalOwningOneByteStringResource.html#a162cec5c2469a2acf26efe384ceffe32">  526</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#a162cec5c2469a2acf26efe384ceffe32">length</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#ad6c9d9763154b5616deb93c974e571c4">file_</a>-&gt;size(); }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="classv8_1_1ExternalOwningOneByteStringResource.html#ad6c9d9763154b5616deb93c974e571c4">  529</a></span>&#160;  std::unique_ptr&lt;base::OS::MemoryMappedFile&gt; <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html#ad6c9d9763154b5616deb93c974e571c4">file_</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;};</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">// static variables:</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<a class="code" href="namespacev8.html#aa636073db573290356200ce93100b66d">CounterMap</a>* <a class="code" href="classv8_1_1Shell.html#ab9f883a0bbde53aaac3f404f0edfee8b">Shell::counter_map_</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<a class="code" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a> <a class="code" href="classv8_1_1Shell.html#a95cf71016e62f8324f84666d7196c6f9">Shell::counter_mutex_</a>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html">base::OS::MemoryMappedFile</a>* <a class="code" href="classv8_1_1Shell.html#a0b1b0c3fa7af5bb1cf2b337bc71642d5">Shell::counters_file_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<a class="code" href="classv8_1_1CounterCollection.html">CounterCollection</a> <a class="code" href="classv8_1_1Shell.html#ab794dde4bb278559dce864d81d4e0e69">Shell::local_counters_</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<a class="code" href="classv8_1_1CounterCollection.html">CounterCollection</a>* <a class="code" href="classv8_1_1Shell.html#a080d20ce42351a91805f4351df005481">Shell::counters_</a> = &amp;local_counters_;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html">base::LazyMutex</a> <a class="code" href="classv8_1_1Shell.html#ae7a857220b6f30c5aa255ca91e650c83">Shell::context_mutex_</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1TimeTicks.html">base::TimeTicks</a> <a class="code" href="classv8_1_1Shell.html#a99d31ba14620aa85df20e39e9df45597">Shell::kInitialTicks</a> = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">base::TimeTicks::Now</a>();</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<a class="code" href="classv8_1_1Global.html">Global&lt;Function&gt;</a> <a class="code" href="classv8_1_1Shell.html#a1959e01e859955de7ff2953b266cf987">Shell::stringify_function_</a>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<a class="code" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a> <a class="code" href="classv8_1_1Shell.html#a9a5636db4f56ddf15181aa2fb4dc2e0b">Shell::profiler_end_callback_lock_</a>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;std::map&lt;Isolate*, std::pair&lt;Global&lt;Function&gt;, <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>&gt;&gt;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a121bab207ba5505c2676cba05b4976fb">Shell::profiler_end_callback_</a>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html">base::LazyMutex</a> <a class="code" href="classv8_1_1Shell.html#a93a6927ea5799467bd80638a4d2d3cc5">Shell::workers_mutex_</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#a81de5b4ca09dc165b94db0ee54ec7da7">Shell::allow_new_workers_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;std::unordered_set&lt;std::shared_ptr&lt;Worker&gt;&gt; <a class="code" href="classv8_1_1Shell.html#a39af9b480d536fb69938ff9152e358b4">Shell::running_workers_</a>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;std::atomic&lt;bool&gt; <a class="code" href="classv8_1_1Shell.html#ac8922e849682dbbe30f7edf335975fa3">Shell::script_executed_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;std::atomic&lt;bool&gt; <a class="code" href="classv8_1_1Shell.html#a949002e789fd1891789faf65891908f9">Shell::valid_fuzz_script_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<a class="code" href="namespacev8_1_1base.html#aa78ef93a1a9251e73b9c227dfdc7722c">base::LazyMutex</a> <a class="code" href="classv8_1_1Shell.html#a2a362a4b5599726c65e86fc6ff6abb4f">Shell::cached_code_mutex_</a>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;std::map&lt;std::string, std::unique_ptr&lt;ScriptCompiler::CachedData&gt;&gt;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a2245212e9b2c806ff76f10c4b84f2427">Shell::cached_code_map_</a>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;std::atomic&lt;int&gt; <a class="code" href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">Shell::unhandled_promise_rejections_</a>{0};</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;Global&lt;Context&gt; <a class="code" href="classv8_1_1Shell.html#ac9e618d37d20075ed1b70e704ecc6e64">Shell::evaluation_context_</a>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;ArrayBuffer::Allocator* <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a>;</div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="namespacev8.html#a9894968a06b13ddf9cfacec5757ae53f">  557</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a9894968a06b13ddf9cfacec5757ae53f">check_d8_flag_contradictions</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<a class="code" href="classv8_1_1ShellOptions.html">ShellOptions</a> <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<a class="code" href="namespacev8_1_1base.html#ab6238b7d6dca42d8e7660ac39b677674">base::OnceType</a> <a class="code" href="classv8_1_1Shell.html#a41e0618aad9f0eba818cb2c6923a6bf4">Shell::quit_once_</a> = <a class="code" href="once_8h.html#ae65f62bf05cdea6c16f8253cfa9e2cbe">V8_ONCE_INIT</a>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ae992223449a8a4f831ee50c1bafbbb2a">  561</a></span>&#160;<a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>* <a class="code" href="classv8_1_1Shell.html#ae992223449a8a4f831ee50c1bafbbb2a">Shell::LookupCodeCache</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                                   <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> source) {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ParkedMutexGuard.html">i::ParkedMutexGuard</a> lock_guard(</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)-&gt;main_thread_local_isolate(),</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <a class="code" href="classv8_1_1Shell.html#a2a362a4b5599726c65e86fc6ff6abb4f">cached_code_mutex_</a>.<a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html#a731d414ae2f2f0fafb4df47502b21068">Pointer</a>());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(source-&gt;IsString());</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(isolate, source);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(*<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keyword">auto</span> entry = <a class="code" href="classv8_1_1Shell.html#a2245212e9b2c806ff76f10c4b84f2427">cached_code_map_</a>.find(*<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (entry != <a class="code" href="classv8_1_1Shell.html#a2245212e9b2c806ff76f10c4b84f2427">cached_code_map_</a>.end() &amp;&amp; entry-&gt;second) {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = entry-&gt;second-&gt;length;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    uint8_t* cache = <span class="keyword">new</span> uint8_t[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>];</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    memcpy(cache, entry-&gt;second-&gt;data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>* cached_data = <span class="keyword">new</span> <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>(</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        cache, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html#ac1a1055d361e89b589c3fa98b79b9c25a51238ea1869c43f0fab950c7b8401bb3">ScriptCompiler::CachedData::BufferOwned</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">return</span> cached_data;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;}</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#adbef961cf04710a0d0446ee35da4ba64">  581</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#adbef961cf04710a0d0446ee35da4ba64">Shell::StoreInCodeCache</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> source,</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                             <span class="keyword">const</span> <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>* cache_data) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ParkedMutexGuard.html">i::ParkedMutexGuard</a> lock_guard(</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)-&gt;main_thread_local_isolate(),</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <a class="code" href="classv8_1_1Shell.html#a2a362a4b5599726c65e86fc6ff6abb4f">cached_code_mutex_</a>.<a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html#a731d414ae2f2f0fafb4df47502b21068">Pointer</a>());</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(source-&gt;IsString());</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">if</span> (cache_data == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(isolate, source);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(*<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = cache_data-&gt;<a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html#ad7b8b1b672095a2c33621d3d5b5c7f8f">length</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  uint8_t* cache = <span class="keyword">new</span> uint8_t[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>];</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  memcpy(cache, cache_data-&gt;<a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html#a31e313a969170116f98d5a76c110fe61">data</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <a class="code" href="classv8_1_1Shell.html#a2245212e9b2c806ff76f10c4b84f2427">cached_code_map_</a>[*<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>] = std::unique_ptr&lt;ScriptCompiler::CachedData&gt;(</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keyword">new</span> <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>(cache, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                     <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html#ac1a1055d361e89b589c3fa98b79b9c25a51238ea1869c43f0fab950c7b8401bb3">ScriptCompiler::CachedData::BufferOwned</a>));</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">// Dummy external source stream which returns the whole source in one go.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">// TODO(leszeks): Also test chunking the data.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classv8_1_1DummySourceStream.html">  600</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1DummySourceStream.html">DummySourceStream</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1ScriptCompiler_1_1ExternalSourceStream.html">v8::ScriptCompiler::ExternalSourceStream</a> {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classv8_1_1DummySourceStream.html#a8b469771828bcb5662cb88ef71d4b839">  602</a></span>&#160;  <a class="code" href="classv8_1_1DummySourceStream.html#a8b469771828bcb5662cb88ef71d4b839">DummySourceStream</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source) : <a class="code" href="classv8_1_1DummySourceStream.html#a1a61b9dfbdda8a3870b15b0ee45d3d2a">done_</a>(<a class="code" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <a class="code" href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">source_length_</a> = source-&gt;Length();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="classv8_1_1DummySourceStream.html#ad4e26e340f206eebf9bbaffe0a0fc216">source_buffer_</a> = std::make_unique&lt;uint16_t[]&gt;(<a class="code" href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">source_length_</a>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    source-&gt;WriteV2(isolate, 0, <a class="code" href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">source_length_</a>, <a class="code" href="classv8_1_1DummySourceStream.html#ad4e26e340f206eebf9bbaffe0a0fc216">source_buffer_</a>.get());</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classv8_1_1DummySourceStream.html#a0b4b9e3f0d0747d169ba75e68fe596d7">  608</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1DummySourceStream.html#a0b4b9e3f0d0747d169ba75e68fe596d7">GetMoreData</a>(<span class="keyword">const</span> uint8_t** src)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1DummySourceStream.html#a1a61b9dfbdda8a3870b15b0ee45d3d2a">done_</a>) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    *src = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1DummySourceStream.html#ad4e26e340f206eebf9bbaffe0a0fc216">source_buffer_</a>.release());</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="classv8_1_1DummySourceStream.html#a1a61b9dfbdda8a3870b15b0ee45d3d2a">done_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">source_length_</a> * 2;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">  619</a></span>&#160;  uint32_t <a class="code" href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">source_length_</a>;</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="classv8_1_1DummySourceStream.html#ad4e26e340f206eebf9bbaffe0a0fc216">  620</a></span>&#160;  std::unique_ptr&lt;uint16_t[]&gt; <a class="code" href="classv8_1_1DummySourceStream.html#ad4e26e340f206eebf9bbaffe0a0fc216">source_buffer_</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="classv8_1_1DummySourceStream.html#a1a61b9dfbdda8a3870b15b0ee45d3d2a">  621</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1DummySourceStream.html#a1a61b9dfbdda8a3870b15b0ee45d3d2a">done_</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;};</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">// Run a ScriptStreamingTask in a separate thread.</span></div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classv8_1_1StreamerThread.html">  625</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1StreamerThread.html">StreamerThread</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1base_1_1Thread.html">v8::base::Thread</a> {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="classv8_1_1StreamerThread.html#abaf3ef7239af31271ffa7c379cbafd33">  627</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1StreamerThread.html#abaf3ef7239af31271ffa7c379cbafd33">StartThreadForTaskAndJoin</a>(</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <a class="code" href="classv8_1_1ScriptCompiler_1_1ScriptStreamingTask.html">v8::ScriptCompiler::ScriptStreamingTask</a>* task) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="classv8_1_1StreamerThread.html">StreamerThread</a> thread(task);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(thread.<a class="code" href="classv8_1_1base_1_1Thread.html#a4c2159b224419ce01ca653ffcd5e28c2">Start</a>());</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    thread.<a class="code" href="classv8_1_1base_1_1Thread.html#a03b039733dcd3df63085e74c587df9b7">Join</a>();</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="classv8_1_1StreamerThread.html#ae93e68c33f899fd016afcc154c02c999">  634</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1StreamerThread.html#ae93e68c33f899fd016afcc154c02c999">StreamerThread</a>(<a class="code" href="classv8_1_1ScriptCompiler_1_1ScriptStreamingTask.html">v8::ScriptCompiler::ScriptStreamingTask</a>* task)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      : <a class="code" href="classv8_1_1base_1_1Thread.html#a3ddcd0a37fd3751be4e1cac06bedc447">Thread</a>(<a class="code" href="classv8_1_1base_1_1Thread.html#a3ddcd0a37fd3751be4e1cac06bedc447">Thread</a>::<a class="code" href="classv8_1_1base_1_1Thread_1_1Options.html">Options</a>()), <a class="code" href="classv8_1_1StreamerThread.html#afca269d5a5a93b996a5f4237f57fbbc2">task_</a>(task) {}</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="classv8_1_1StreamerThread.html#a4e36a6667f5a38f419fafb38fb0e55bc">  637</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1StreamerThread.html#a4e36a6667f5a38f419fafb38fb0e55bc">Run</a>()<span class="keyword"> override </span>{ <a class="code" href="classv8_1_1StreamerThread.html#afca269d5a5a93b996a5f4237f57fbbc2">task_</a>-&gt;<a class="code" href="classv8_1_1ScriptCompiler_1_1ScriptStreamingTask.html#ac4900e34a2045112d3ed10db8228165b">Run</a>(); }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="classv8_1_1StreamerThread.html#afca269d5a5a93b996a5f4237f57fbbc2">  640</a></span>&#160;  <a class="code" href="classv8_1_1ScriptCompiler_1_1ScriptStreamingTask.html">v8::ScriptCompiler::ScriptStreamingTask</a>* <a class="code" href="classv8_1_1StreamerThread.html#afca269d5a5a93b996a5f4237f57fbbc2">task_</a>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;};</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa977e3cb7e93c8c8758896691b135bc6">  645</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;T&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a8717a10ccdc3eead61a6d023456af1f5">CompileStreamed</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                              <a class="code" href="classv8_1_1ScriptCompiler_1_1StreamedSource.html">ScriptCompiler::StreamedSource</a>* v8_source,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                              <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> full_source_string,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                              <span class="keyword">const</span> <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a>&amp; origin) {}</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a8717a10ccdc3eead61a6d023456af1f5">  651</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Script&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a8717a10ccdc3eead61a6d023456af1f5">CompileStreamed</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                   <a class="code" href="classv8_1_1ScriptCompiler_1_1StreamedSource.html">ScriptCompiler::StreamedSource</a>* v8_source,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                   <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> full_source_string,</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a>&amp; origin) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ScriptCompiler.html#a3df9c0af702e46303ded03e84fc5e519">ScriptCompiler::Compile</a>(context, v8_source, full_source_string,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                                 origin);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;}</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160; </div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a8717a10ccdc3eead61a6d023456af1f5">CompileStreamed</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                   <a class="code" href="classv8_1_1ScriptCompiler_1_1StreamedSource.html">ScriptCompiler::StreamedSource</a>* v8_source,</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                                   <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> full_source_string,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a>&amp; origin) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ScriptCompiler.html#a3b3aed3622a957a4af4ced80348dcb9e">ScriptCompiler::CompileModule</a>(context, v8_source, full_source_string,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                                       origin);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3bd874f9cb72c17a13fd8c5222da25ad">  669</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;T&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a39342a54170fcd6868925770d053776c">Compile</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1ScriptCompiler_1_1Source.html">ScriptCompiler::Source</a>* source,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                      <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818">ScriptCompiler::CompileOptions</a> options) {}</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a39342a54170fcd6868925770d053776c">  672</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Script&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a39342a54170fcd6868925770d053776c">Compile</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                           <a class="code" href="classv8_1_1ScriptCompiler_1_1Source.html">ScriptCompiler::Source</a>* source,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                           <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818">ScriptCompiler::CompileOptions</a> options) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ScriptCompiler.html#a3df9c0af702e46303ded03e84fc5e519">ScriptCompiler::Compile</a>(context, source, options);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a39342a54170fcd6868925770d053776c">Compile</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                           <a class="code" href="classv8_1_1ScriptCompiler_1_1Source.html">ScriptCompiler::Source</a>* source,</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                           <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818">ScriptCompiler::CompileOptions</a> options) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ScriptCompiler.html#a3b3aed3622a957a4af4ced80348dcb9e">ScriptCompiler::CompileModule</a>(<a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>(), source, options);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#afff70b57153af78611e8e5df84d58f30">  688</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;T&gt;</a> <a class="code" href="classv8_1_1Shell.html#afff70b57153af78611e8e5df84d58f30">Shell::CompileString</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                                   <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source,</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a>&amp; origin) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#a5f8f46a71fdd8ba601595e26dfbe7f01">streaming_compile</a>) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="classv8_1_1ScriptCompiler_1_1StreamedSource.html">v8::ScriptCompiler::StreamedSource</a> streamed_source(</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        std::make_unique&lt;DummySourceStream&gt;(isolate, source),</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="classv8_1_1ScriptCompiler_1_1StreamedSource.html#a17b52f85ac22120e687b16357d662da2a6140d5dcb20cd13613287f366c9c99d2">v8::ScriptCompiler::StreamedSource::TWO_BYTE</a>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    std::unique_ptr&lt;v8::ScriptCompiler::ScriptStreamingTask&gt; streaming_task(</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="classv8_1_1ScriptCompiler.html#af368b2b8709c56e6f21a33b9729d59eb">v8::ScriptCompiler::StartStreaming</a>(isolate, &amp;streamed_source,</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                           std::is_same_v&lt;T, Module&gt;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                               ? <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a3d3648ae94129252d325fda4deeb2724">v8::ScriptType::kModule</a></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                                               : <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a135ed776c81ce676daeed6250f5d72f6">v8::ScriptType::kClassic</a>));</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="classv8_1_1StreamerThread.html#abaf3ef7239af31271ffa7c379cbafd33">StreamerThread::StartThreadForTaskAndJoin</a>(streaming_task.get());</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">return</span> CompileStreamed&lt;T&gt;(context, &amp;streamed_source, source, origin);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>* cached_code = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#abaf0070334638e19b773f8aea1848b83">compile_options</a> &amp; <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818afbc9e8e1bb024c696d68e5253100d0f7">ScriptCompiler::kConsumeCodeCache</a>) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    cached_code = <a class="code" href="classv8_1_1Shell.html#ae992223449a8a4f831ee50c1bafbbb2a">LookupCodeCache</a>(isolate, source);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="classv8_1_1ScriptCompiler_1_1Source.html">ScriptCompiler::Source</a> script_source(source, origin, cached_code);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;T&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      Compile&lt;T&gt;(context, &amp;script_source,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                 cached_code ? <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818afbc9e8e1bb024c696d68e5253100d0f7">ScriptCompiler::kConsumeCodeCache</a></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                             : <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">ScriptCompiler::kNoCompileOptions</a>);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <span class="keywordflow">if</span> (cached_code) <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!cached_code-&gt;<a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html#aa1d16fbd48957df19d4cc1c886afff8f">rejected</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">// For testing.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2073bd84698838d6e4e06e09979bd9db">  719</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2073bd84698838d6e4e06e09979bd9db">kHostDefinedOptionsLength</a> = 2;</div>
<div class="line"><a name="l00720"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a0740b62000998e74c8aca44c60684bc4">  720</a></span>&#160;<span class="keyword">const</span> uint32_t <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a0740b62000998e74c8aca44c60684bc4">kHostDefinedOptionsMagicConstant</a> = 0xF1F2F3F0;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">  722</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">kDataURLPrefix</a>[] = <span class="stringliteral">&quot;data:text/javascript,&quot;</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">  724</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8_str</a>) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> utf8(isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8_str</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// Should not be able to fail since the input is a String.</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(*utf8);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordflow">return</span> *utf8;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">// Per-context Module data, allowing sharing of module maps</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">// across top-level module loads.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html">  733</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html">ModuleEmbedderData</a> {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00735"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html">  735</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html">ModuleGlobalHash</a> {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#aab0a39b76467e3c1a704b1162ac0117f">  737</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#aab0a39b76467e3c1a704b1162ac0117f">ModuleGlobalHash</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) : isolate_(isolate) {}</div>
<div class="line"><a name="l00738"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#aab997b5603b8b20f1decbf5ee7b4a1dc">  738</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#aab997b5603b8b20f1decbf5ee7b4a1dc">operator()</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a>&amp; module)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">return</span> module.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate_)-&gt;GetIdentityHash();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#ac5ffe404305bfeaff98bc8d41daf4182">  743</a></span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#ac5ffe404305bfeaff98bc8d41daf4182">isolate_</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  };</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#afaab3202fa52a04c9002c4eb790f9b7c">  747</a></span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">i::ExternalPointerTag</a> kManagedTag =</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca590953023631a2479a99d46335183fb5">i::kD8ModuleEmbedderDataTag</a>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#aa9398941d98f47dbe420ef6154217642">  750</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#aa9398941d98f47dbe420ef6154217642">ModuleEmbedderData</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        module_to_specifier_map(10, <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html">ModuleGlobalHash</a>(isolate)),</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        json_module_to_parsed_json_map(</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            10, module_to_specifier_map.hash_function()) {}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a17b108dc53269212b93d45d713f8a100">  756</a></span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a17b108dc53269212b93d45d713f8a100">GetModuleSpecifier</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> module) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a> global_module(isolate_, module);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keyword">auto</span> specifier_it = module_to_specifier_map.find(global_module);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(specifier_it != module_to_specifier_map.end());</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">return</span> specifier_it-&gt;second;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#ab55d776855d139adb6b2e72a10afd1a0">  763</a></span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#ab55d776855d139adb6b2e72a10afd1a0">GetModule</a>(</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      std::pair&lt;std::string, ModuleType&gt; module_specifier_and_type) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keyword">auto</span> module_it = module_map.find(module_specifier_and_type);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(module_it != module_map.end());</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> module_it-&gt;second.Get(isolate_);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a5c20ace21571e43a400286b973abbf62">  770</a></span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a5c20ace21571e43a400286b973abbf62">GetModuleSource</a>(</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      std::pair&lt;std::string, ModuleType&gt; module_specifier_and_type) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">auto</span> module_source_it = module_source_map.find(module_specifier_and_type);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(module_source_it != module_source_map.end());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">return</span> module_source_it-&gt;second.Get(isolate_);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a6cdbbdcb4bcdf8ded62f8055c34ba76c">  777</a></span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a6cdbbdcb4bcdf8ded62f8055c34ba76c">GetJsonModuleValue</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> module) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keyword">auto</span> json_value_it =</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        json_module_to_parsed_json_map.find(<a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a>(isolate_, module));</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(json_value_it != json_module_to_parsed_json_map.end());</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">return</span> json_value_it-&gt;second.Get(isolate_);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a1c276ad7030c356763076c081faf4027">  784</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a1c276ad7030c356763076c081faf4027">ModuleTypeFromImportSpecifierAndAttributes</a>(</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; specifier,</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes, <span class="keywordtype">bool</span> hasPositions) {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> kV8AssertionEntrySize = hasPositions ? 3 : 2;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; import_attributes-&gt;Length();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;         <a class="code" href="namespacev8_1_1internal.html">i</a> += kV8AssertionEntrySize) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> v8_assertion_key =</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          import_attributes-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>).As&lt;<a class="code" href="classv8_1_1String.html">v8::String</a>&gt;();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> assertion_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, v8_assertion_key);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">if</span> (assertion_key == <span class="stringliteral">&quot;type&quot;</span>) {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> v8_assertion_value =</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            import_attributes-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a> + 1).As&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;();</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> assertion_value = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, v8_assertion_value);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span> (assertion_value == <span class="stringliteral">&quot;json&quot;</span>) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a7820f24be07e92b4ed8ef25f129cf422">ModuleType::kJSON</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="comment">// JSON and WebAssembly are currently the only supported non-JS types</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4ab10913c938482a8aa4ba85b7a1116cb4">ModuleType::kInvalid</a>;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// If no type is asserted, check for the extension. Otherwise default to JS.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span> (specifier.ends_with(<span class="stringliteral">&quot;.wasm&quot;</span>)) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a241c5d1c8eebe4298191c9eb9dfba84a">ModuleType::kWebAssembly</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a686c2e66bfe8ecb4657beb1ee04ada24">ModuleType::kJavaScript</a>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a33eec71ae5efdfa0cd425d3a1ce44482">  815</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a33eec71ae5efdfa0cd425d3a1ce44482">isolate_</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// Map from (normalized module specifier, module type) pair to Module.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#afd54c9d6b1d9f61a26ec51480a65858a">  817</a></span>&#160;  std::map&lt;std::pair&lt;std::string, ModuleType&gt;, <a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a>&gt; <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#afd54c9d6b1d9f61a26ec51480a65858a">module_map</a>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// Map from (normalized module specifier, module type) pair to ModuleSource.</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  std::map&lt;std::pair&lt;std::string, ModuleType&gt;, <a class="code" href="classv8_1_1Global.html">Global&lt;Object&gt;</a>&gt;</div>
<div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a51177e7900bd93069c1e80f561e824fd">  820</a></span>&#160;      <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a51177e7900bd93069c1e80f561e824fd">module_source_map</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="comment">// Map from Module to its URL as defined in the ScriptOrigin</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  std::unordered_map&lt;Global&lt;Module&gt;, <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>, <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html">ModuleGlobalHash</a>&gt;</div>
<div class="line"><a name="l00823"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a20176ff65da545412f565a13b926d789">  823</a></span>&#160;      <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a20176ff65da545412f565a13b926d789">module_to_specifier_map</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// Map from JSON Module to its parsed content, for use in module</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// JSONModuleEvaluationSteps</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  std::unordered_map&lt;Global&lt;Module&gt;, <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a>, <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html">ModuleGlobalHash</a>&gt;</div>
<div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#abb00ee876f14ce480272e2c9a3f4768e">  827</a></span>&#160;      <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#abb00ee876f14ce480272e2c9a3f4768e">json_module_to_parsed_json_map</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// Origin location used for resolving modules when referrer is null.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#ae22dbf658a8e819b625f5cc3ecc1a80a">  830</a></span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#ae22dbf658a8e819b625f5cc3ecc1a80a">origin</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;};</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a9c7b861e48f503c3d8feea91c88f6959">  833</a></span>&#160;<span class="keyword">enum</span> { <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a42e9287d63a0f8fb8a8275bc1cd600b2">kModuleEmbedderDataIndex</a>, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a9c7b861e48f503c3d8feea91c88f6959">kInspectorClientIndex</a> };</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9258adea2b59c27e5caeccc627ed0bd0">  835</a></span>&#160;std::shared_ptr&lt;ModuleEmbedderData&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9258adea2b59c27e5caeccc627ed0bd0">InitializeModuleEmbedderData</a>(</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <a class="code" href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">i::Isolate::Current</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> kModuleEmbedderDataEstimate = 4 * 1024;  <span class="comment">// module map.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Managed&lt;ModuleEmbedderData&gt;</a>&gt; module_data_managed =</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">i::Managed&lt;ModuleEmbedderData&gt;::From</a>(</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;          i_isolate, kModuleEmbedderDataEstimate,</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;          std::make_shared&lt;ModuleEmbedderData&gt;(</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(i_isolate)));</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> module_data = Utils::ToLocal(module_data_managed);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  context-&gt;<a class="code" href="classv8_1_1Context.html#a1f2f3da0b9c3d9b68a5384b757d607d2">SetEmbedderData</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a42e9287d63a0f8fb8a8275bc1cd600b2">kModuleEmbedderDataIndex</a>, module_data);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">return</span> module_data_managed-&gt;get();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">  849</a></span>&#160;std::shared_ptr&lt;ModuleEmbedderData&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context) {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> module_data =</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      context-&gt;<a class="code" href="classv8_1_1Context.html#a9cfafe0ac56f6aee17eb80a913489296">GetEmbedderData</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a42e9287d63a0f8fb8a8275bc1cd600b2">kModuleEmbedderDataIndex</a>);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Managed&lt;ModuleEmbedderData&gt;</a>&gt; module_data_managed =</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      i::Cast&lt;i::Managed&lt;ModuleEmbedderData&gt;&gt;(</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;          Utils::OpenDirectHandle&lt;Value, i::Object&gt;(module_data));</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordflow">return</span> module_data_managed-&gt;get();</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4258cd35a0f9016ee808b0f138c787a4">  859</a></span>&#160;<a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4258cd35a0f9016ee808b0f138c787a4">CreateScriptOrigin</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> resource_name,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28">v8::ScriptType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;PrimitiveArray&gt;</a> options =</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="classv8_1_1PrimitiveArray.html#a71af2d7e5be17432a02b6fffc7a8f1a1">PrimitiveArray::New</a>(isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2073bd84698838d6e4e06e09979bd9db">kHostDefinedOptionsLength</a>);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  options-&gt;Set(isolate, 0,</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;               <a class="code" href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Uint32::New</a>(isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a0740b62000998e74c8aca44c60684bc4">kHostDefinedOptionsMagicConstant</a>));</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  options-&gt;Set(isolate, 1, resource_name);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a>(resource_name, 0, 0, <span class="keyword">false</span>, -1, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(), <span class="keyword">false</span>,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                      <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a3d3648ae94129252d325fda4deeb2724">v8::ScriptType::kModule</a>, options);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;}</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac240b307a304afe03f8700392d8d04a3">  870</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac240b307a304afe03f8700392d8d04a3">IsValidHostDefinedOptions</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;Data&gt;</a> options,</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                               <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> resource_name) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">if</span> (!options-&gt;IsFixedArray()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> array = options.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1FixedArray.html">FixedArray</a>&gt;();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="keywordflow">if</span> (array-&gt;Length() != <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2073bd84698838d6e4e06e09979bd9db">kHostDefinedOptionsLength</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  uint32_t magic = 0;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="keywordflow">if</span> (!array-&gt;Get(context, 0).As&lt;<a class="code" href="classv8_1_1Value.html">Value</a>&gt;()-&gt;Uint32Value(context).To(&amp;magic)) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">if</span> (magic != <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a0740b62000998e74c8aca44c60684bc4">kHostDefinedOptionsMagicConstant</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">return</span> array-&gt;Get(context, 1).As&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;()-&gt;StrictEquals(resource_name);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html">  883</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html">D8WasmAsyncResolvePromiseTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1Task.html">v8::Task</a> {</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a80fe6a473b6b8347cefcc9cd4d65fb9c">  885</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a80fe6a473b6b8347cefcc9cd4d65fb9c">D8WasmAsyncResolvePromiseTask</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Context&gt;</a> context,</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                                <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Promise::Resolver&gt;</a> resolver,</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                                <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>,</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21">WasmAsyncSuccess</a> success)</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        resolver_(isolate, resolver),</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        result_(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>),</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        success_(success) {}</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a4eda0e0b05b0dcbc11050015694524bf">  896</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a4eda0e0b05b0dcbc11050015694524bf">Run</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">v8::HandleScope</a> scope(isolate_);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Context&gt;</a> context = context_.Get(isolate_);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="classv8_1_1Context_1_1Scope.html">v8::Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="classv8_1_1MicrotasksScope.html">MicrotasksScope</a> microtasks_scope(context,</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                                     <a class="code" href="classv8_1_1MicrotasksScope.html#a826cf210978221741a0467cd9be6996fa3b5b353f412e54f021cfac950b787f34">MicrotasksScope::kDoNotRunMicrotasks</a>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Promise::Resolver&gt;</a> resolver = resolver_.Get(isolate_);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = result_.Get(isolate_);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160; </div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> ret = success_ == <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782">WasmAsyncSuccess::kSuccess</a></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                          ? resolver-&gt;Resolve(context, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                          : resolver-&gt;Reject(context, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// It&#39;s guaranteed that no exceptions will be thrown by these</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// operations, but execution might be terminating.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(ret.<a class="code" href="classv8_1_1Maybe.html#ad2eaaef8cd0988f1fc95f2a71c1888c5">IsJust</a>() ? ret.<a class="code" href="classv8_1_1Maybe.html#a6778de7b38b00e4bfff77d3dbc566f1c">FromJust</a>() : isolate_-&gt;IsExecutionTerminating());</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#ae0756602ffdddfb11dbe019ebbcdcd66">  914</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#ae0756602ffdddfb11dbe019ebbcdcd66">isolate_</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#ac1bbbeb9fc0d64218c788801fef4f202">  915</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Context&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#ac1bbbeb9fc0d64218c788801fef4f202">context_</a>;</div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a4fccbee3928da0bd80f4f74a0a6dd719">  916</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Promise::Resolver&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a4fccbee3928da0bd80f4f74a0a6dd719">resolver_</a>;</div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a9d73601f03d1b3e142db713903f1ac99">  917</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Value&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a9d73601f03d1b3e142db713903f1ac99">result_</a>;</div>
<div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a27537c2832c9024c6d0bce039e87003e">  918</a></span>&#160;  <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21">WasmAsyncSuccess</a> <a class="code" href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a27537c2832c9024c6d0bce039e87003e">success_</a>;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;};</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a823510885f03ad8b24cb01a39dd89d2b">  921</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a823510885f03ad8b24cb01a39dd89d2b">D8WasmAsyncResolvePromiseCallback</a>(</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Context&gt;</a> context,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Promise::Resolver&gt;</a> resolver, <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>,</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21">WasmAsyncSuccess</a> success) {</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// We have to resolve the promise in a separate task which is not a cancelable</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="comment">// task, to avoid a deadlock when {quit()} is called in the then-handler of</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="comment">// the result promise.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>-&gt;GetForegroundTaskRunner(isolate)-&gt;PostTask(</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      std::make_unique&lt;D8WasmAsyncResolvePromiseTask&gt;(</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;          isolate, context, resolver, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, success));</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">// Executes a string within the current v8 context.</span></div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">  936</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">Shell::ExecuteString</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source,</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                          <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                          <a class="code" href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68">ReportExceptions</a> report_exceptions,</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                          <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a>* out_result) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a5f9a69909314d298c2fd816d1310ec38">is_execution_terminating</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.parse_only) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classv8_1_1internal_1_1VMState.html">i::VMState&lt;PARSER&gt;</a> state(i_isolate);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> str = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*(source));</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="comment">// Set up ParseInfo.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <a class="code" href="classv8_1_1internal_1_1UnoptimizedCompileState.html">i::UnoptimizedCompileState</a> compile_state;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ReusableUnoptimizedCompileState.html">i::ReusableUnoptimizedCompileState</a> reusable_state(i_isolate);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160; </div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="classv8_1_1internal_1_1UnoptimizedCompileFlags.html">i::UnoptimizedCompileFlags</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> =</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <a class="code" href="classv8_1_1internal_1_1UnoptimizedCompileFlags.html#a18a4df48b132392c60207a95e015f7c1">i::UnoptimizedCompileFlags::ForToplevelCompile</a>(</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            i_isolate, <span class="keyword">true</span>, <a class="code" href="namespacev8_1_1internal.html#acee23f5dd80dfe67fe4e081574462052">i::construct_language_mode</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.use_strict),</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a26cc5526734229e89016abbb975d45e8a8cc8e60acfa3ae6089df773013fd73a2">i::REPLMode::kNo</a>, <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a135ed776c81ce676daeed6250f5d72f6">ScriptType::kClassic</a>, <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.lazy);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#abaf0070334638e19b773f8aea1848b83">compile_options</a> &amp; <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a5d5d2899ff9a09f76c91c4126d6b253e">v8::ScriptCompiler::kEagerCompile</a>) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>.set_is_eager(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ParseInfo.html">i::ParseInfo</a> parse_info(i_isolate, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, &amp;compile_state, &amp;reusable_state);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Handle.html">i::Handle&lt;i::Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a> = parse_info.<a class="code" href="classv8_1_1internal_1_1ParseInfo.html#ae79a5c2d379de4a7f458c88fca31fd4f">CreateScript</a>(</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        i_isolate, str, <a class="code" href="namespacev8_1_1internal.html#a12bba79f0b2c466b43e23e173e34465d">i::kNullMaybeHandle</a>, <a class="code" href="classv8_1_1ScriptOriginOptions.html">ScriptOriginOptions</a>());</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1parsing.html#abcb59b8c5e08f48edf82ba4d186c249b">i::parsing::ParseProgram</a>(&amp;parse_info, <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>, i_isolate,</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                                  i::parsing::ReportStatisticsMode::kYes)) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      parse_info.<a class="code" href="classv8_1_1internal_1_1ParseInfo.html#a9959c55a017a3648ba8a31707b6089fe">pending_error_handler</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1PendingCompilationErrorHandler.html#af3479c9e7d9874bece9838ca1a63d5ed">PrepareErrors</a>(</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;          i_isolate, parse_info.<a class="code" href="classv8_1_1internal_1_1ParseInfo.html#a822b903695e435c2b91c8bffa3deabec">ast_value_factory</a>());</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      parse_info.<a class="code" href="classv8_1_1internal_1_1ParseInfo.html#a9959c55a017a3648ba8a31707b6089fe">pending_error_handler</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1PendingCompilationErrorHandler.html#a466e18ae8ae91652b5a28ae1938d0cf8">ReportErrors</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;Failed parsing\n&quot;</span>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(report_exceptions == <a class="code" href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99">kReportExceptions</a>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="comment">// Explicitly check for stack overflows. This method can be called</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="comment">// recursively, and since we consume quite some stack space for the C++</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// frames, the stack check in the called frame might be too late.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1StackLimitCheck.html">i::StackLimitCheck</a>{i_isolate}.HasOverflowed()) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ae3b1ed161b9a3645b85332a2737ddae4">StackOverflow</a>();</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm =</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Context&gt;::New</a>(isolate, data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a>]);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>());</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a> origin = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4258cd35a0f9016ee808b0f138c787a4">CreateScriptOrigin</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a135ed776c81ce676daeed6250f5d72f6">ScriptType::kClassic</a>);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(realm);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  module_data-&gt;origin = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#a98e7b3cd676b68a3a40070eb9664545f">repeat_compile</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope_for_compiling(isolate);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="keywordflow">if</span> (CompileString&lt;Script&gt;(isolate, context, source, origin).IsEmpty()) {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">if</span> (!CompileString&lt;Script&gt;(isolate, context, source, origin)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;           .ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>)) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#a2f5364e95158a4e37b3c67c1900c019b">code_cache_options</a> ==</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      ShellOptions::CodeCacheOptions::kProduceCache) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">// Serialize and store it in memory for the next execution.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>* cached_data =</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <a class="code" href="classv8_1_1ScriptCompiler.html#a1f94625c81c0346c48b21ef1c9c73587">ScriptCompiler::CreateCodeCache</a>(<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;GetUnboundScript());</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="classv8_1_1Shell.html#adbef961cf04710a0d0446ee35da4ba64">StoreInCodeCache</a>(isolate, source, cached_data);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="keyword">delete</span> cached_data;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#a779cafb27e633156efc434121e5326ca">compile_only</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#abaf0070334638e19b773f8aea1848b83">compile_options</a> &amp; <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818afbc9e8e1bb024c696d68e5253100d0f7">ScriptCompiler::kConsumeCodeCache</a>) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Script&gt;</a> i_script(</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        i::Cast&lt;i::Script&gt;(</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*script)-&gt;shared()-&gt;script()),</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        i_isolate);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="comment">// TODO(cbruni, chromium:1244145): remove once context-allocated.</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    i_script-&gt;set_host_defined_options(i::Cast&lt;i::FixedArray&gt;(</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        *<a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*(origin.<a class="code" href="classv8_1_1ScriptOrigin.html#afa5db26ed16fb6a9dfcb71e92fa3f295">GetHostDefinedOptions</a>()))));</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_result = <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;Run(realm);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#a2f5364e95158a4e37b3c67c1900c019b">code_cache_options</a> ==</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          ShellOptions::CodeCacheOptions::kProduceCacheAfterExecute &amp;&amp;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      !isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// Serialize and store it in memory for the next execution.</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="structv8_1_1ScriptCompiler_1_1CachedData.html">ScriptCompiler::CachedData</a>* cached_data =</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <a class="code" href="classv8_1_1ScriptCompiler.html#a1f94625c81c0346c48b21ef1c9c73587">ScriptCompiler::CreateCodeCache</a>(<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;GetUnboundScript());</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <a class="code" href="classv8_1_1Shell.html#adbef961cf04710a0d0446ee35da4ba64">StoreInCodeCache</a>(isolate, source, cached_data);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keyword">delete</span> cached_data;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a>;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="keywordflow">if</span> (!maybe_result.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keywordflow">if</span> (try_catch.<a class="code" href="classv8_1_1TryCatch.html#a3175391e782afc092495616b4d35b91b">HasTerminated</a>()) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="comment">// Re-request terminate execution as it&#39;s been cleared, so</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="comment">// Shell::FinishExecution doesn&#39;t waste time draining all enqueued tasks</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="comment">// and microtasks.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ad212b2e0b66ff5d586cd79cfa0b555fb">TerminateExecution</a>();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_result != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    out_result-&gt;<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="comment">// It&#39;s possible that a FinalizationRegistry cleanup task threw an error.</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <span class="keywordflow">return</span> !try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;}</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160; </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc"> 1063</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc">IsAbsolutePath</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; path) {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">// This is an incorrect approximation, but should</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// work for all our test-running cases.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">return</span> path.find(<span class="stringliteral">&quot;:/&quot;</span>) == 1 || path.find(<span class="stringliteral">&quot;:\\&quot;</span>) == 1;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">return</span> path[0] == <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498"> 1073</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>() {</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordtype">char</span> system_buffer[MAX_PATH];</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// Unicode paths are unsupported, which is fine as long as</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// the test directory doesn&#39;t include any such paths.</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> len = GetCurrentDirectoryA(MAX_PATH, system_buffer);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a>(len, 0);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">return</span> system_buffer;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordtype">char</span> curdir[PATH_MAX];</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a>(getcwd(curdir, PATH_MAX));</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="keywordflow">return</span> curdir;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;}</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">// Returns the directory part of path, without the trailing &#39;/&#39;.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8"> 1089</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">DirName</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; path) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">if</span> (path.starts_with(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">kDataURLPrefix</a>)) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>();</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc">IsAbsolutePath</a>(path));</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordtype">size_t</span> last_slash = path.find_last_of(<span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(last_slash != std::string::npos);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keywordflow">return</span> path.substr(0, last_slash);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;}</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160; </div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment">// Resolves path to an absolute path if necessary, and does some</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">// normalization (eliding references to the current directory</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment">// and replacing backslashes with slashes).</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d"> 1100</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">NormalizePath</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; path,</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                          <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; dir_name) {</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!path.starts_with(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">kDataURLPrefix</a>));</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> absolute_path;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc">IsAbsolutePath</a>(path)) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    absolute_path = path;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    absolute_path = dir_name + <span class="charliteral">&#39;/&#39;</span> + path;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  std::replace(absolute_path.begin(), absolute_path.end(), <span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  std::vector&lt;std::string&gt; segments;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  std::istringstream segment_stream(absolute_path);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> segment;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">while</span> (std::getline(segment_stream, segment, <span class="charliteral">&#39;/&#39;</span>)) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">if</span> (segment == <span class="stringliteral">&quot;..&quot;</span>) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span> (segments.size() &gt; 1) segments.pop_back();</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">if</span> (!segments.empty()) segments.pop_back();</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (segment != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; segment != <span class="stringliteral">&quot;.&quot;</span>) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      segments.push_back(segment);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    }</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// Join path segments.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  std::ostringstream os;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">// The drive letter should be present in an absolute path.</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!segments.empty());</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(2UL, segments[0].<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>());</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="charliteral">&#39;:&#39;</span>, segments[0][1]);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  os &lt;&lt; segments[0] &lt;&lt; <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">if</span> (segments.size() &gt; 2) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    std::copy(segments.begin() + 1, segments.end() - 1,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;              std::ostream_iterator&lt;std::string&gt;(os, <span class="stringliteral">&quot;/&quot;</span>));</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    os &lt;&lt; *segments.rbegin();</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (segments.size() == 2) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    os &lt;&lt; segments[1];</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keywordflow">if</span> (segments.size() &gt; 1) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    std::copy(segments.begin(), segments.end() - 1,</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;              std::ostream_iterator&lt;std::string&gt;(os, <span class="stringliteral">&quot;/&quot;</span>));</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    os &lt;&lt; *segments.rbegin();</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (segments.size() == 1) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    os &lt;&lt; segments[0];</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  }</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">return</span> os.str();</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;}</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment">// Resolves specifier to an absolute path if necessary, and does some</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">// normalization (eliding references to the current directory</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">// and replacing backslashes with slashes).</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">// If specifier is a data URL or a regular URL, it is returned unchanged.</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542"> 1157</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">NormalizeModuleSpecifier</a>(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; specifier,</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; dir_name) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">if</span> (specifier.starts_with(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">kDataURLPrefix</a>) ||</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      specifier.starts_with(<span class="stringliteral">&quot;http://&quot;</span>) || specifier.starts_with(<span class="stringliteral">&quot;https://&quot;</span>))</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">return</span> specifier;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">NormalizePath</a>(specifier, dir_name);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> RemoveExtension(<span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; file_path) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="keywordtype">size_t</span> last_slash = file_path.find_last_of(<span class="stringliteral">&quot;/\\&quot;</span>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordtype">size_t</span> last_dot = file_path.find_last_of(<span class="charliteral">&#39;.&#39;</span>);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160; </div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">// Check that the dot is part of the file name.</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="keywordflow">if</span> (last_dot != std::string::npos &amp;&amp;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      (last_slash == std::string::npos || last_dot &gt; last_slash)) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> file_path.substr(0, last_dot);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="keywordflow">return</span> file_path;  <span class="comment">// No extension to remove</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;}</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160; </div>
<div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6aa8c9d37320a82ed1ec8448a92fd630"> 1179</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6aa8c9d37320a82ed1ec8448a92fd630">ResolveModuleCallback</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> specifier,</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes,</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> referrer) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(context);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> referrer_specifier = module_data-&gt;GetModuleSpecifier(referrer);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> stl_specifier = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, specifier);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> absolute_path =</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">NormalizeModuleSpecifier</a>(stl_specifier, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">DirName</a>(referrer_specifier));</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> module_type =</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      ModuleEmbedderData::ModuleTypeFromImportSpecifierAndAttributes(</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          context, stl_specifier, import_attributes, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">return</span> module_data-&gt;GetModule(std::make_pair(absolute_path, module_type));</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;}</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a77c975dc044f16fb2b2def465815b2d0"> 1197</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a77c975dc044f16fb2b2def465815b2d0">ResolveModuleSourceCallback</a>(</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> specifier,</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes, <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> referrer) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(context);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> referrer_specifier = module_data-&gt;GetModuleSpecifier(referrer);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> stl_specifier = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, specifier);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> absolute_path =</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">NormalizeModuleSpecifier</a>(stl_specifier, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">DirName</a>(referrer_specifier));</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> module_type =</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      ModuleEmbedderData::ModuleTypeFromImportSpecifierAndAttributes(</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          context, stl_specifier, import_attributes, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">return</span> module_data-&gt;GetModuleSource(</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      std::make_pair(absolute_path, module_type));</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;}</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9454835b474fa94dc33277188732e58e"> 1217</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Object&gt;</a> <a class="code" href="classv8_1_1Shell.html#a9454835b474fa94dc33277188732e58e">Shell::FetchModuleSource</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> referrer,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                                            <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; module_specifier,</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                            <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> module_type) {</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(context);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="comment">// Loading modules is only allowed for local absolute paths.</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc">IsAbsolutePath</a>(module_specifier)) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> msg =</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="stringliteral">&quot;d8: Reading module from &quot;</span> + module_specifier + <span class="stringliteral">&quot; is not supported.&quot;</span>;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">if</span> (!referrer.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> referrer_specifier =</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          module_data-&gt;GetModuleSpecifier(referrer);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      msg += <span class="stringliteral">&quot;\n    imported by &quot;</span> + referrer_specifier;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;               <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, msg.c_str()).ToLocalChecked());</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Object&gt;</a>();</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="keyword">auto</span> <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = <a class="code" href="classv8_1_1Shell.html#a20b1db32a6a2bad951d16c1f9b5df750">ReadFileData</a>(isolate, module_specifier.c_str());</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> msg = <span class="stringliteral">&quot;d8: Error reading module from &quot;</span> + module_specifier;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="keywordflow">if</span> (!referrer.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> referrer_specifier =</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;          module_data-&gt;GetModuleSpecifier(referrer);</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      msg += <span class="stringliteral">&quot;\n    imported by &quot;</span> + referrer_specifier;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;               <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, msg.c_str()).ToLocalChecked());</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Object&gt;</a>();</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> module_source;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <span class="keywordflow">switch</span> (module_type) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a241c5d1c8eebe4298191c9eb9dfba84a">ModuleType::kWebAssembly</a>: {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1WasmModuleObject.html#a5f084ba0d4f143950b69bc93ea642d0f">v8::WasmModuleObject::Compile</a>(</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;               isolate,</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;               <a class="code" href="classv8_1_1MemorySpan.html">MemorySpan&lt;const uint8_t&gt;</a>(<span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>-&gt;memory()),</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                                         <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>-&gt;size()))</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;               .ToLocal(&amp;module_source)) {</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Object&gt;</a>();</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      <span class="comment">// https://tc39.es/proposal-source-phase-imports/#table-abstract-methods-of-module-records</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <span class="comment">// For Module Records that do not have a source representation,</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <span class="comment">// GetModuleSource() must always return a throw completion whose [[Value]]</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      <span class="comment">// is a ReferenceError.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9710b9b9d11d6e46b965b86dc1cd039e">ThrowException</a>(</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;          isolate, <a class="code" href="classv8_1_1Exception.html#a7f214e64f91a4c2c8c3ae46c1b6c8829">v8::Exception::SyntaxError</a>(<a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                       isolate, <span class="stringliteral">&quot;Module source can not be imported for type&quot;</span>)));</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Object&gt;</a>();</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160; </div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      module_data-&gt;module_source_map</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;          .insert(std::make_pair(std::make_pair(module_specifier, module_type),</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                                 <a class="code" href="classv8_1_1Global.html">Global&lt;Object&gt;</a>(isolate, module_source)))</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;          .second);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">return</span> module_source;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;}</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160; </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">// file_name must be either an absolute path to the filesystem or a data URL.</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ac3a884f8e1d88e26b5f43f50baa416b1"> 1284</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a> <a class="code" href="classv8_1_1Shell.html#ac3a884f8e1d88e26b5f43f50baa416b1">Shell::FetchModuleTree</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> referrer,</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                                          <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; module_specifier,</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                                          <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> module_type) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(context);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a> source_text;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (module_specifier.starts_with(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">kDataURLPrefix</a>)) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    source_text = <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        isolate, module_specifier.c_str() + strlen(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">kDataURLPrefix</a>));</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc">IsAbsolutePath</a>(module_specifier)) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    source_text = <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">ReadFile</a>(isolate, module_specifier.c_str(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> (source_text.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>() &amp;&amp; <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#ad13dfdf79c59d626a5f6c641e7f953bd">fuzzy_module_file_extensions</a>) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> fallback_file_name = module_specifier + <span class="stringliteral">&quot;.js&quot;</span>;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      source_text = <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">ReadFile</a>(isolate, fallback_file_name.c_str(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      <span class="keywordflow">if</span> (source_text.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>()) {</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        fallback_file_name = module_specifier + <span class="stringliteral">&quot;.mjs&quot;</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        source_text = <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">ReadFile</a>(isolate, fallback_file_name.c_str());</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      }</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    }</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// Loading modules is only allowed for local absolute paths.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> msg =</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="stringliteral">&quot;d8: Reading module from &quot;</span> + module_specifier + <span class="stringliteral">&quot; is not supported.&quot;</span>;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">if</span> (!referrer.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> referrer_specifier =</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;          module_data-&gt;GetModuleSpecifier(referrer);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      msg += <span class="stringliteral">&quot;\n    imported by &quot;</span> + referrer_specifier;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;               <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, msg.c_str()).ToLocalChecked());</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keywordflow">if</span> (source_text.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>()) {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> msg = <span class="stringliteral">&quot;d8: Error reading module from &quot;</span> + module_specifier;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (!referrer.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> referrer_specifier =</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;          module_data-&gt;GetModuleSpecifier(referrer);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      msg += <span class="stringliteral">&quot;\n    imported by &quot;</span> + referrer_specifier;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;               <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, msg.c_str()).ToLocalChecked());</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  }</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> resource_name =</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, module_specifier.c_str()).ToLocalChecked();</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a> origin =</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4258cd35a0f9016ee808b0f138c787a4">CreateScriptOrigin</a>(isolate, resource_name, <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a3d3648ae94129252d325fda4deeb2724">ScriptType::kModule</a>);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> module;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">if</span> (module_type == <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a686c2e66bfe8ecb4657beb1ee04ada24">ModuleType::kJavaScript</a>) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="classv8_1_1ScriptCompiler_1_1Source.html">ScriptCompiler::Source</a> source(source_text.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>(), origin);</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">if</span> (!CompileString&lt;Module&gt;(isolate, context, source_text.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>(),</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                               origin)</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;             .ToLocal(&amp;module)) {</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (module_type == <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a7820f24be07e92b4ed8ef25f129cf422">ModuleType::kJSON</a>) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> parsed_json;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1JSON.html#a32156057e84d1e4406e43df386922a2b">v8::JSON::Parse</a>(context, source_text.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>())</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;             .<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;parsed_json)) {</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    }</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160; </div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keyword">auto</span> export_names = v8::to_array&lt;Local&lt;String&gt;&gt;(</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        {<a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, <span class="stringliteral">&quot;default&quot;</span>).ToLocalChecked()});</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160; </div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    module = <a class="code" href="classv8_1_1Module.html#a61b904b51e5f9d8595efd04c2fd631ae">v8::Module::CreateSyntheticModule</a>(</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        isolate,</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, module_specifier.c_str()).ToLocalChecked(),</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        export_names, <a class="code" href="classv8_1_1Shell.html#aeb3dc361989c67b8025804bb2ae086cf">Shell::JSONModuleEvaluationSteps</a>);</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(module_data-&gt;json_module_to_parsed_json_map</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;              .insert(std::make_pair(<a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a>(isolate, module),</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                     <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a>(isolate, parsed_json)))</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;              .second);</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      module_data-&gt;module_map</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          .insert(std::make_pair(std::make_pair(module_specifier, module_type),</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                                 <a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a>(isolate, module)))</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;          .second);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(module_data-&gt;module_to_specifier_map</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            .insert(std::make_pair(<a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a>(isolate, module),</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                                   module_specifier))</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;            .second);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> dir_name = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">DirName</a>(module_specifier);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160; </div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> module_requests = module-&gt;GetModuleRequests();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = module_requests-&gt;Length(); <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; ++<a class="code" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ModuleRequest&gt;</a> module_request =</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        module_requests-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>).As&lt;<a class="code" href="classv8_1_1ModuleRequest.html">ModuleRequest</a>&gt;();</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> specifier =</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, module_request-&gt;GetSpecifier());</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> normalized_specifier =</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">NormalizeModuleSpecifier</a>(specifier, dir_name);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes = module_request-&gt;GetImportAttributes();</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> request_module_type =</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        ModuleEmbedderData::ModuleTypeFromImportSpecifierAndAttributes(</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            context, normalized_specifier, import_attributes, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">if</span> (request_module_type == <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4ab10913c938482a8aa4ba85b7a1116cb4">ModuleType::kInvalid</a>) {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid module type was asserted&quot;</span>);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    }</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160; </div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (module_request-&gt;GetPhase() == <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10aac1c0088a4e8654d4dc2f5fdf247381b0">ModuleImportPhase::kSource</a>) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="keywordflow">if</span> (module_data-&gt;module_source_map.count(</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;              std::make_pair(normalized_specifier, request_module_type))) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160; </div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#a9454835b474fa94dc33277188732e58e">FetchModuleSource</a>(module, context, normalized_specifier,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                            request_module_type)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;              .IsEmpty()) {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="keywordflow">if</span> (module_data-&gt;module_map.count(</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;              std::make_pair(normalized_specifier, request_module_type))) {</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      }</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160; </div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#ac3a884f8e1d88e26b5f43f50baa416b1">FetchModuleTree</a>(module, context, normalized_specifier,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                          request_module_type)</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;              .IsEmpty()) {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Module&gt;</a>();</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      }</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    }</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="keywordflow">return</span> module;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aeb3dc361989c67b8025804bb2ae086cf"> 1425</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="classv8_1_1Shell.html#aeb3dc361989c67b8025804bb2ae086cf">Shell::JSONModuleEvaluationSteps</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                                                   <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> module) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160; </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(context);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> json_value = module_data-&gt;GetJsonModuleValue(module);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = module-&gt;SetSyntheticModuleExport(</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      isolate,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;default&quot;</span>,</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                 <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      json_value);</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160; </div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  <span class="comment">// Setting the default export should never fail.</span></div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.IsNothing() &amp;&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust());</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160; </div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver =</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context).ToLocalChecked();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  resolver-&gt;Resolve(context, <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(isolate)).ToChecked();</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <span class="keywordflow">return</span> resolver-&gt;GetPromise();</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;}</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160; </div>
<div class="line"><a name="l01450"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html"> 1450</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a> {</div>
<div class="line"><a name="l01451"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a0cab95979fcbaa8bed0851c917b81f79"> 1451</a></span>&#160;  <a class="code" href="structv8_1_1DynamicImportData.html#a0cab95979fcbaa8bed0851c917b81f79">DynamicImportData</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate_, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context_,</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> referrer_, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> specifier_,</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                    <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10a">ModuleImportPhase</a> phase_,</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                    <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes_,</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                    <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver_)</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      : <a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>(isolate_), <a class="code" href="structv8_1_1DynamicImportData.html#a4ea8864c998870623f02b223b309493f">phase</a>(phase_) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <a class="code" href="structv8_1_1DynamicImportData.html#a503c2296476228ee9d0b185e7f8ebf86">context</a>.Reset(<a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>, context_);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="structv8_1_1DynamicImportData.html#a2186eeb0a47d1adeb47cc292e160aa23">referrer</a>.Reset(<a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>, referrer_);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <a class="code" href="structv8_1_1DynamicImportData.html#a036ef760fce12fcb90a8f1c1a41480f1">specifier</a>.Reset(<a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>, specifier_);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <a class="code" href="structv8_1_1DynamicImportData.html#aa43a182ce3d056fa5a4ec1314b5ee088">import_attributes</a>.Reset(<a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>, import_attributes_);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <a class="code" href="structv8_1_1DynamicImportData.html#a5530343fc266b6da51bc5f10cc5873d0">resolver</a>.Reset(<a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>, resolver_);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac"> 1464</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="comment">// The initiating context. It can be the Realm created by d8, or the context</span></div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">// created by ShadowRealm built-in.</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a503c2296476228ee9d0b185e7f8ebf86"> 1467</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="structv8_1_1DynamicImportData.html#a503c2296476228ee9d0b185e7f8ebf86">context</a>;</div>
<div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a2186eeb0a47d1adeb47cc292e160aa23"> 1468</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a> <a class="code" href="structv8_1_1DynamicImportData.html#a2186eeb0a47d1adeb47cc292e160aa23">referrer</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a036ef760fce12fcb90a8f1c1a41480f1"> 1469</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;String&gt;</a> <a class="code" href="structv8_1_1DynamicImportData.html#a036ef760fce12fcb90a8f1c1a41480f1">specifier</a>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a4ea8864c998870623f02b223b309493f"> 1470</a></span>&#160;  <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10a">ModuleImportPhase</a> <a class="code" href="structv8_1_1DynamicImportData.html#a4ea8864c998870623f02b223b309493f">phase</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#aa43a182ce3d056fa5a4ec1314b5ee088"> 1471</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;FixedArray&gt;</a> <a class="code" href="structv8_1_1DynamicImportData.html#aa43a182ce3d056fa5a4ec1314b5ee088">import_attributes</a>;</div>
<div class="line"><a name="l01472"></a><span class="lineno"><a class="line" href="structv8_1_1DynamicImportData.html#a5530343fc266b6da51bc5f10cc5873d0"> 1472</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise::Resolver&gt;</a> <a class="code" href="structv8_1_1DynamicImportData.html#a5530343fc266b6da51bc5f10cc5873d0">resolver</a>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;};</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5b"> 1477</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5b">ModuleResolutionDataIndex</a> : uint32_t {</div>
<div class="line"><a name="l01478"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8"> 1478</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8">kResolver</a> = 0,</div>
<div class="line"><a name="l01479"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba5b02a2dfbe70469f3c909951b4f04cef"> 1479</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba5b02a2dfbe70469f3c909951b4f04cef">kNamespaceOrSource</a> = 1,</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;};</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a7d9f3353a469854431d81b7dda4fe436"> 1484</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a7d9f3353a469854431d81b7dda4fe436">Shell::ModuleResolutionSuccessCallback</a>(</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">FunctionCallbackInfo&lt;Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> module_resolution_data(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>().As&lt;<a class="code" href="classv8_1_1Array.html">Array</a>&gt;());</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>());</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver(</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      module_resolution_data-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8">ModuleResolutionDataIndex::kResolver</a>)</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;          .ToLocalChecked()</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;          .As&lt;<a class="code" href="classv8_1_1Promise_1_1Resolver.html">Promise::Resolver</a>&gt;());</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> namespace_or_source(</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      module_resolution_data</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;          -&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba5b02a2dfbe70469f3c909951b4f04cef">ModuleResolutionDataIndex::kNamespaceOrSource</a>)</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;          .ToLocalChecked());</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a>].Get(isolate);</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  resolver-&gt;Resolve(realm, namespace_or_source).ToChecked();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;}</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aeffcbe8ff936e18f7d6bb728baf9252e"> 1508</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aeffcbe8ff936e18f7d6bb728baf9252e">Shell::ModuleResolutionFailureCallback</a>(</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">FunctionCallbackInfo&lt;Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> module_resolution_data(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>().As&lt;<a class="code" href="classv8_1_1Array.html">Array</a>&gt;());</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>());</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; </div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver(</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      module_resolution_data-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8">ModuleResolutionDataIndex::kResolver</a>)</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;          .ToLocalChecked()</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;          .As&lt;<a class="code" href="classv8_1_1Promise_1_1Resolver.html">Promise::Resolver</a>&gt;());</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a>].Get(isolate);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160; </div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>(), 1);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  resolver-&gt;Reject(realm, info[0]).ToChecked();</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;}</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a08aa8d4683f0626bdbce8e96d382c03e"> 1529</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Promise&gt;</a> <a class="code" href="classv8_1_1Shell.html#a08aa8d4683f0626bdbce8e96d382c03e">Shell::HostImportModuleDynamically</a>(</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;Data&gt;</a> host_defined_options,</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> resource_name, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> specifier,</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Shell.html#ae6e891b9483f7ea1f32931e51bfec1c2">HostImportModuleWithPhaseDynamically</a>(</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      context, host_defined_options, resource_name, specifier,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10aa346bc9a934c8efdaded7eb6f74d86d0f">ModuleImportPhase::kEvaluation</a>, import_attributes);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;}</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160; </div>
<div class="line"><a name="l01538"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ae6e891b9483f7ea1f32931e51bfec1c2"> 1538</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Promise&gt;</a> <a class="code" href="classv8_1_1Shell.html#ae6e891b9483f7ea1f32931e51bfec1c2">Shell::HostImportModuleWithPhaseDynamically</a>(</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;Data&gt;</a> host_defined_options,</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> resource_name, <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> specifier,</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10a">ModuleImportPhase</a> phase, <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes) {</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Promise::Resolver&gt;</a> maybe_resolver =</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  <span class="keywordflow">if</span> (!maybe_resolver.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;resolver)) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Promise&gt;</a>();</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="keywordflow">if</span> (!resource_name-&gt;IsNull() &amp;&amp;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      !<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac240b307a304afe03f8700392d8d04a3">IsValidHostDefinedOptions</a>(context, host_defined_options,</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                                 resource_name)) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    resolver</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        -&gt;Reject(context, <a class="code" href="classv8_1_1Exception.html#a8d5562e582f43e715f5574d88dea985c">v8::Exception::TypeError</a>(<a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                              isolate, <span class="stringliteral">&quot;Invalid host defined options&quot;</span>)))</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        .ToChecked();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>* data =</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keyword">new</span> <a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>(isolate, context, resource_name, specifier, phase,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                              import_attributes, resolver);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a1cc49aeb2d17182e5eda29c18ba97d32">AddDynamicImportData</a>(data);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a79a222a1a662d08479d5a1880c6793c5">EnqueueMicrotask</a>(<a class="code" href="classv8_1_1Shell.html#a9a27fc787b741806d3039c66a44cc9d5">Shell::DoHostImportModuleDynamically</a>, data);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;  }</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="keywordflow">return</span> resolver-&gt;GetPromise();</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;}</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160; </div>
<div class="line"><a name="l01566"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a78b0a922bcc329b887225e955011178c"> 1566</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a78b0a922bcc329b887225e955011178c">Shell::HostInitializeImportMetaObject</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;                                           <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> module,</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                                           <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> meta) {</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160; </div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(context);</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> specifier = module_data-&gt;GetModuleSpecifier(module);</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> url_key =</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;url&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> url =</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, specifier.c_str()).ToLocalChecked();</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  meta-&gt;<a class="code" href="classv8_1_1Object.html#a826077e71c717f94deeeaa9bfca1b249">CreateDataProperty</a>(context, url_key, url).ToChecked();</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a8c06d07d9dcea2d50a75d2cbfd347968"> 1583</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Context&gt;</a> <a class="code" href="classv8_1_1Shell.html#a8c06d07d9dcea2d50a75d2cbfd347968">Shell::HostCreateShadowRealmContext</a>(</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> initiator_context) {</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Context.html#a11648311890e6127d92335fc438b8211">v8::Context::New</a>(<a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>());</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; shadow_realm_data =</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9258adea2b59c27e5caeccc627ed0bd0">InitializeModuleEmbedderData</a>(context);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  std::shared_ptr&lt;ModuleEmbedderData&gt; initiator_data =</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(initiator_context);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160; </div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="comment">// ShadowRealms are synchronously accessible and are always in the same origin</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <span class="comment">// as the initiator context.</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  context-&gt;<a class="code" href="classv8_1_1Context.html#a2351d9bdf4450d5f23734033289ba3ab">SetSecurityToken</a>(initiator_context-&gt;<a class="code" href="classv8_1_1Context.html#a82990c1621f1e825db5832f668caabfd">GetSecurityToken</a>());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  shadow_realm_data-&gt;origin = initiator_data-&gt;origin;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160; </div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">return</span> context;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;}</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01600"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa411a91fd7f98d87b3bb5a8b9abf2cc6"> 1600</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa411a91fd7f98d87b3bb5a8b9abf2cc6">RejectPromiseIfExecutionIsNotTerminating</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                              <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm,</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                                              <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver,</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a>&amp; try_catch) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">Shell::ReportException</a>(isolate, try_catch);</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    resolver-&gt;Reject(realm, try_catch.<a class="code" href="classv8_1_1TryCatch.html#a5b86f4229e0725a3eacc69826da2e984">Exception</a>()).ToChecked();</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;}</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa155183b0b4835a8edf1d52ef0cf2109"> 1612</a></span>&#160;<a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa155183b0b4835a8edf1d52ef0cf2109">ChainDynamicImportPromise</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                                      <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Promise::Resolver&gt;</a> resolver,</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                                      <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> result_promise,</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                                      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> namespace_or_source) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> module_resolution_data = <a class="code" href="classv8_1_1Array.html#a369cbd533bf7aa08d9ce1e2ddb4e6536">v8::Array::New</a>(isolate);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">if</span> (module_resolution_data-&gt;SetPrototypeV2(realm, <a class="code" href="namespacev8.html#a1aecb07744976db25970beb0734d7c62">v8::Null</a>(isolate))</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;          .IsNothing()) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  <span class="keywordflow">if</span> (module_resolution_data</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;          -&gt;<a class="code" href="classv8_1_1Set.html">Set</a>(realm, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8">ModuleResolutionDataIndex::kResolver</a>, resolver)</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;          .IsNothing()) {</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  }</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">if</span> (module_resolution_data</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;          -&gt;<a class="code" href="classv8_1_1Set.html">Set</a>(realm, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba5b02a2dfbe70469f3c909951b4f04cef">ModuleResolutionDataIndex::kNamespaceOrSource</a>,</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                namespace_or_source)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;          .IsNothing()) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  }</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback_success;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">Function::New</a>(realm, <a class="code" href="classv8_1_1Shell.html#a7d9f3353a469854431d81b7dda4fe436">Shell::ModuleResolutionSuccessCallback</a>,</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                     module_resolution_data)</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;           .ToLocal(&amp;callback_success)) {</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback_failure;</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">Function::New</a>(realm, <a class="code" href="classv8_1_1Shell.html#aeffcbe8ff936e18f7d6bb728baf9252e">Shell::ModuleResolutionFailureCallback</a>,</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                     module_resolution_data)</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;           .ToLocal(&amp;callback_failure)) {</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  }</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="keywordflow">if</span> (result_promise-&gt;Then(realm, callback_success, callback_failure)</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;          .IsEmpty()) {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  }</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;}</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9a27fc787b741806d3039c66a44cc9d5"> 1653</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a9a27fc787b741806d3039c66a44cc9d5">Shell::DoHostImportModuleDynamically</a>(<span class="keywordtype">void</span>* import_data) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>* import_data_ =</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>*<span class="keyword">&gt;</span>(import_data);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate(import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">isolate</a>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> global_realm;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise::Resolver&gt;</a> global_resolver;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise&gt;</a> global_result_promise;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a> global_namespace_or_source;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#a503c2296476228ee9d0b185e7f8ebf86">context</a>.Get(isolate);</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> referrer = import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#a2186eeb0a47d1adeb47cc292e160aa23">referrer</a>.Get(isolate);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> v8_specifier = import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#a036ef760fce12fcb90a8f1c1a41480f1">specifier</a>.Get(isolate);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10a">ModuleImportPhase</a> phase = import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#a4ea8864c998870623f02b223b309493f">phase</a>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;FixedArray&gt;</a> import_attributes =</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#aa43a182ce3d056fa5a4ec1314b5ee088">import_attributes</a>.Get(isolate);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver = import_data_-&gt;<a class="code" href="structv8_1_1DynamicImportData.html#a5530343fc266b6da51bc5f10cc5873d0">resolver</a>.Get(isolate);</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    global_realm.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, realm);</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    global_resolver.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, resolver);</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aaae79576a0b6568574bc5bfa1c762d50">DeleteDynamicImportData</a>(import_data_);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;    <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> specifier = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, v8_specifier);</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160; </div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;    <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">ModuleType</a> module_type =</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        ModuleEmbedderData::ModuleTypeFromImportSpecifierAndAttributes(</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            realm, specifier, import_attributes, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; </div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">if</span> (module_type == <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4ab10913c938482a8aa4ba85b7a1116cb4">ModuleType::kInvalid</a>) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid module type was asserted&quot;</span>);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa411a91fd7f98d87b3bb5a8b9abf2cc6">RejectPromiseIfExecutionIsNotTerminating</a>(isolate, realm, resolver,</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                                               try_catch);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    }</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(realm);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160; </div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> source_url = referrer-&gt;IsNull()</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                                 ? module_data-&gt;origin</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                                 : <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, referrer.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;());</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> dir_name =</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">DirName</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">NormalizePath</a>(source_url, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>()));</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> absolute_path = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">NormalizeModuleSpecifier</a>(specifier, dir_name);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">switch</span> (phase) {</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10aac1c0088a4e8654d4dc2f5fdf247381b0">ModuleImportPhase::kSource</a>: {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> module_source;</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="keyword">auto</span> module_it = module_data-&gt;module_source_map.find(</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            std::make_pair(absolute_path, module_type));</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="keywordflow">if</span> (module_it != module_data-&gt;module_source_map.end()) {</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;          module_source = module_it-&gt;second.<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(isolate);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a9454835b474fa94dc33277188732e58e">FetchModuleSource</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a>(), realm, absolute_path,</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                                      module_type)</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                        .ToLocal(&amp;module_source)) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> module_resolver =</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(realm).ToLocalChecked();</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        module_resolver-&gt;Resolve(realm, module_source).ToChecked();</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        global_namespace_or_source.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, module_source);</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        global_result_promise.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, module_resolver-&gt;GetPromise());</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10aa346bc9a934c8efdaded7eb6f74d86d0f">v8::ModuleImportPhase::kEvaluation</a>: {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> root_module;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keyword">auto</span> module_it = module_data-&gt;module_map.find(</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;            std::make_pair(absolute_path, module_type));</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordflow">if</span> (module_it != module_data-&gt;module_map.end()) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;          root_module = module_it-&gt;second.Get(isolate);</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#ac3a884f8e1d88e26b5f43f50baa416b1">FetchModuleTree</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a>(), realm, absolute_path,</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                                    module_type)</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                        .ToLocal(&amp;root_module)) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="keywordflow">if</span> (root_module</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                -&gt;InstantiateModule(realm, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6aa8c9d37320a82ed1ec8448a92fd630">ResolveModuleCallback</a>,</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                                    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a77c975dc044f16fb2b2def465815b2d0">ResolveModuleSourceCallback</a>)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                .FromMaybe(<span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;          <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_result = root_module-&gt;Evaluate(realm);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;          <span class="keywordflow">if</span> (maybe_result.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;          global_result_promise.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;              isolate, maybe_result.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>().As&lt;<a class="code" href="classv8_1_1Promise.html">Promise</a>&gt;());</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;          global_namespace_or_source.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate,</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                                           root_module-&gt;GetModuleNamespace());</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      }</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    }</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  }</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160; </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <span class="keywordflow">if</span> (global_result_promise.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = global_realm.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver = global_resolver.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa411a91fd7f98d87b3bb5a8b9abf2cc6">RejectPromiseIfExecutionIsNotTerminating</a>(isolate, realm, resolver,</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                                             try_catch);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  }</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  {</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="comment">// This method is invoked from a microtask, where in general we may have</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">// an non-trivial stack. Emptying the message queue below may trigger the</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="comment">// execution of a stackless GC. We need to override the embedder stack</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <span class="comment">// state, to force scanning the stack, if this happens.</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">i::Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)-&gt;<a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>();</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EmbedderStackStateScope.html">i::EmbedderStackStateScope</a> scope(</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <a class="code" href="namespaceheap.html">heap</a>, i::EmbedderStackStateOrigin::kExplicitInvocation,</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        StackState::kMayContainHeapPointers);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <a class="code" href="classv8_1_1Shell.html#af8e2f54e646c0e31d1d9031306306084">EmptyMessageQueues</a>(isolate);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="comment">// Setup callbacks, and then chain them to the result promise.</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = global_realm.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> resolver = global_resolver.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> result_promise = global_result_promise.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> namespace_or_source = global_namespace_or_source.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160; </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">// Chaining the promise generally does not throw, but execution may be</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="comment">// terminating (e.g. when within a worker being terminated). Check the return</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="comment">// value to display a helpful message.</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa155183b0b4835a8edf1d52ef0cf2109">ChainDynamicImportPromise</a>(isolate, realm, resolver, result_promise,</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                                namespace_or_source)</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;          .IsNothing()) {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa411a91fd7f98d87b3bb5a8b9abf2cc6">RejectPromiseIfExecutionIsNotTerminating</a>(isolate, realm, resolver,</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                             try_catch);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  }</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;}</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a1f76c0129b87a9da7d54e060827c025e"> 1797</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#a1f76c0129b87a9da7d54e060827c025e">Shell::ExecuteModule</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* file_name) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Module&gt;</a> global_root_module;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise&gt;</a> global_result_promise;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160; </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="comment">// Use a non-verbose TryCatch and report exceptions manually using</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="comment">// Shell::ReportException, because some errors (such as file errors) are</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  <span class="comment">// thrown without entering JS and thus do not trigger</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="comment">// isolate-&gt;ReportPendingMessages().</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160; </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  {</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a>].Get(isolate);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160; </div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> absolute_path =</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">NormalizeModuleSpecifier</a>(file_name, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>());</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    std::shared_ptr&lt;ModuleEmbedderData&gt; module_data =</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">GetModuleDataFromContext</a>(realm);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> root_module;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keyword">auto</span> module_it = module_data-&gt;module_map.find(</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        std::make_pair(absolute_path, <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a686c2e66bfe8ecb4657beb1ee04ada24">ModuleType::kJavaScript</a>));</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    <span class="keywordflow">if</span> (module_it != module_data-&gt;module_map.end()) {</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      root_module = module_it-&gt;second.Get(isolate);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#ac3a884f8e1d88e26b5f43f50baa416b1">FetchModuleTree</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a>(), realm, absolute_path,</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                                <a class="code" href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a686c2e66bfe8ecb4657beb1ee04ada24">ModuleType::kJavaScript</a>)</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                    .ToLocal(&amp;root_module)) {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">ReportException</a>(isolate, try_catch);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    global_root_module.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, root_module);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160; </div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    module_data-&gt;origin = absolute_path;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_result;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    <span class="keywordflow">if</span> (root_module</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            -&gt;InstantiateModule(realm, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6aa8c9d37320a82ed1ec8448a92fd630">ResolveModuleCallback</a>,</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                                <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a77c975dc044f16fb2b2def465815b2d0">ResolveModuleSourceCallback</a>)</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            .FromMaybe(<span class="keyword">false</span>)) {</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      maybe_result = root_module-&gt;Evaluate(realm);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!maybe_result.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>());</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      global_result_promise.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate,</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                                  maybe_result.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>().As&lt;<a class="code" href="classv8_1_1Promise.html">Promise</a>&gt;());</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  }</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160; </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">if</span> (!global_result_promise.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <a class="code" href="classv8_1_1Shell.html#af8e2f54e646c0e31d1d9031306306084">EmptyMessageQueues</a>(isolate);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">ReportException</a>(isolate, try_catch);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;  <span class="comment">// Loop until module execution finishes</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">while</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#abf891ae8a74ee328b203d9d82ea45d5c">HasPendingBackgroundTasks</a>() ||</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;         (<a class="code" href="classv8_1_1internal_1_1ValueHelper.html#a6b4b21d2530a18511ebb84d5c40cdd41">i::ValueHelper::HandleAsValue</a>(global_result_promise)-&gt;State() ==</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;              <a class="code" href="classv8_1_1Promise.html#a0c357b9d99a634f98a5a203b0a322544a8dce1224e4cc6a5d9352b7dc0fe381cc">Promise::kPending</a> &amp;&amp;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                  -&gt;default_microtask_queue()</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                  -&gt;size() &gt; 0)) {</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <a class="code" href="classv8_1_1Shell.html#accceb686c72a043c5645a3d56246b01f">Shell::CompleteMessageLoop</a>(isolate);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160; </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  {</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> result_promise = global_result_promise.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Module&gt;</a> root_module = global_root_module.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keywordflow">if</span> (result_promise-&gt;State() == <a class="code" href="classv8_1_1Promise.html#a0c357b9d99a634f98a5a203b0a322544a5ced64bc0b4332d27a1f8b9a1925e361">Promise::kRejected</a>) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="comment">// If the exception has been caught by the promise pipeline, we rethrow</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;      <span class="comment">// here in order to ReportException.</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="comment">// TODO(cbruni): Clean this up after we create a new API for the case</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <span class="comment">// where TLA is enabled.</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <span class="keywordflow">if</span> (!try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) {</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ad2d4dd42267c374a37b93df403ef11ac">ThrowException</a>(result_promise-&gt;Result());</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(try_catch.<a class="code" href="classv8_1_1TryCatch.html#a5b86f4229e0725a3eacc69826da2e984">Exception</a>(), result_promise-&gt;Result());</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      }</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">ReportException</a>(isolate, try_catch);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    }</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="keyword">auto</span> [stalled_modules, stalled_messages] =</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        root_module-&gt;GetStalledTopLevelAwaitMessages(isolate);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(stalled_modules.size(), stalled_messages.size());</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">if</span> (stalled_messages.size() &gt; 0) {</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Message&gt;</a> message = stalled_messages[0];</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">ReportException</a>(isolate, message, <a class="code" href="classv8_1_1Exception.html#a67c28710ee5681066d04cfcd21544827">v8::Exception::Error</a>(message-&gt;Get()));</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    }</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160; </div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;}</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; </div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="comment">// Treat every line as a JSON value and parse it.</span></div>
<div class="line"><a name="l01897"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab1b5ed0da283c14b6751207935a97135"> 1897</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#ab1b5ed0da283c14b6751207935a97135">Shell::LoadJSON</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* file_name) {</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* isolate_data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm =</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;      isolate_data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[isolate_data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a>].Get(isolate);</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(realm);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> absolute_path = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">NormalizePath</a>(file_name, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>());</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  std::unique_ptr&lt;char[]&gt; data(<a class="code" href="classv8_1_1Shell.html#a2b07623263305f9cf9890f7f701b34de">ReadChars</a>(absolute_path.c_str(), &amp;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    printf(<span class="stringliteral">&quot;Error reading &#39;%s&#39;\n&quot;</span>, file_name);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">base::OS::ExitProcess</a>(1);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  }</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  std::stringstream stream(data.get());</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> line;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">while</span> (std::getline(stream, line, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; <a class="code" href="classv8_1_1Shell.html#a8489526f05ecc8ef98f89674febcf915">DeserializationRunCount</a>(); ++r) {</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source =</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, line.c_str()).ToLocalChecked();</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_value = <a class="code" href="classv8_1_1JSON.html#a32156057e84d1e4406e43df386922a2b">JSON::Parse</a>(realm, source);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160; </div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <span class="keywordflow">if</span> (!maybe_value.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">ReportException</a>(isolate, try_catch);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;      }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    }</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  }</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;}</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#aa17501de2d70dd2fc3e7cbbe32f9b182"> 1931</a></span>&#160;<a class="code" href="classv8_1_1PerIsolateData.html#aa17501de2d70dd2fc3e7cbbe32f9b182">PerIsolateData::PerIsolateData</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    : isolate_(isolate), realms_(<a class="code" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a>) {</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a2ae968a7ff8a397f1ac09d32990883f6">SetData</a>(0, <span class="keyword">this</span>);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.expose_async_hooks) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html#a6442cddde00d0a634f3ee920849bea8c">async_hooks_wrapper_</a> = <span class="keyword">new</span> <a class="code" href="classv8_1_1AsyncHooks.html">AsyncHooks</a>(isolate);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">ignore_unhandled_promises_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;}</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a44daa59f54615295d15798074542e990"> 1940</a></span>&#160;<a class="code" href="classv8_1_1PerIsolateData.html#a44daa59f54615295d15798074542e990">PerIsolateData::~PerIsolateData</a>() {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#a2ae968a7ff8a397f1ac09d32990883f6">SetData</a>(0, <span class="keyword">nullptr</span>);  <span class="comment">// Not really needed, just to be sure...</span></div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.expose_async_hooks) {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classv8_1_1PerIsolateData.html#a6442cddde00d0a634f3ee920849bea8c">async_hooks_wrapper_</a>;  <span class="comment">// This uses the isolate</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="preprocessor">#if defined(LEAK_SANITIZER)</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>* data : import_data_) {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keyword">delete</span> data;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;}</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160; </div>
<div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a62b53027292fe134c75ee7c0280b7b30"> 1952</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#a62b53027292fe134c75ee7c0280b7b30">PerIsolateData::RemoveUnhandledPromise</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> promise) {</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">ignore_unhandled_promises_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="comment">// Remove handled promises from the list</span></div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>(), <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>.begin(); it != <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>.end();</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;       ++it) {</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Promise&gt;</a> unhandled_promise = std::get&lt;0&gt;(*it).Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">if</span> (unhandled_promise == promise) {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>.erase(it--);</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  }</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;}</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160; </div>
<div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#aaf40f574119f428e50bb2d032ab9a23d"> 1965</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#aaf40f574119f428e50bb2d032ab9a23d">PerIsolateData::AddUnhandledPromise</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> promise,</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;Message&gt;</a> message,</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> exception) {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">ignore_unhandled_promises_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>(), <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>.emplace_back(<a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Promise&gt;</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, promise),</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                                   <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Message&gt;</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, message),</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                                   <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Value&gt;</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, exception));</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;}</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160; </div>
<div class="line"><a name="l01975"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#afcba066acffeb62ea2280126513d1816"> 1975</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1PerIsolateData.html#afcba066acffeb62ea2280126513d1816">PerIsolateData::HandleUnhandledPromiseRejections</a>() {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="comment">// Avoid recursive calls to HandleUnhandledPromiseRejections.</span></div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">ignore_unhandled_promises_</a>) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">ignore_unhandled_promises_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">v8::HandleScope</a> scope(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="comment">// Ignore promises that get added during error reporting.</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <span class="keywordflow">for</span> (; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; tuple = <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Message&gt;</a> message = std::get&lt;1&gt;(tuple).Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = std::get&lt;2&gt;(tuple).Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">Shell::ReportException</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, message, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">unhandled_promises_</a>.clear();</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">ignore_unhandled_promises_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;}</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160; </div>
<div class="line"><a name="l01994"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a1cc49aeb2d17182e5eda29c18ba97d32"> 1994</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#a1cc49aeb2d17182e5eda29c18ba97d32">PerIsolateData::AddDynamicImportData</a>(<a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>* data) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="preprocessor">#if defined(LEAK_SANITIZER)</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  import_data_.insert(data);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;}</div>
<div class="line"><a name="l01999"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#aaae79576a0b6568574bc5bfa1c762d50"> 1999</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#aaae79576a0b6568574bc5bfa1c762d50">PerIsolateData::DeleteDynamicImportData</a>(<a class="code" href="structv8_1_1DynamicImportData.html">DynamicImportData</a>* data) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="preprocessor">#if defined(LEAK_SANITIZER)</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  import_data_.erase(data);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <span class="keyword">delete</span> data;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;}</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#ab6e2fbdd85ad3d76c80964e7e5afdf6b"> 2006</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> <a class="code" href="classv8_1_1PerIsolateData.html#ab6e2fbdd85ad3d76c80964e7e5afdf6b">PerIsolateData::GetTestApiObjectCtor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PerIsolateData.html#a613769bbd9c1f47f37d8695f60fd0ce7">test_api_object_ctor_</a>.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;}</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160; </div>
<div class="line"><a name="l02010"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#ae4a7d9ed2a6a2f819d5a7e458f21d80e"> 2010</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#ae4a7d9ed2a6a2f819d5a7e458f21d80e">PerIsolateData::SetTestApiObjectCtor</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> ctor) {</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a613769bbd9c1f47f37d8695f60fd0ce7">test_api_object_ctor_</a>.Reset(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, ctor);</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;}</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160; </div>
<div class="line"><a name="l02014"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a13efddf00c29eed046e5586c978d8c09"> 2014</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> <a class="code" href="classv8_1_1PerIsolateData.html#a13efddf00c29eed046e5586c978d8c09">PerIsolateData::GetDomNodeCtor</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PerIsolateData.html#a8c50c76bec7441901da20e0107c20e7b">dom_node_ctor_</a>.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;}</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160; </div>
<div class="line"><a name="l02018"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a539f5ea594b96d81200609a199570732"> 2018</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#a539f5ea594b96d81200609a199570732">PerIsolateData::SetDomNodeCtor</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> ctor) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a8c50c76bec7441901da20e0107c20e7b">dom_node_ctor_</a>.Reset(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, ctor);</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;}</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160; </div>
<div class="line"><a name="l02022"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a7012cdc36d141f52206e64c8c4a71169"> 2022</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PerIsolateData.html#a7012cdc36d141f52206e64c8c4a71169">PerIsolateData::HasRunningSubscribedWorkers</a>() {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <span class="comment">// Only consider subscribed workers, so that code that spawns a worker and</span></div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="comment">// never subscribes to message events will quit.</span></div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="classv8_1_1PerIsolateData.html#ac68091363b94bd315772cc885627c81f">worker_message_callbacks_</a>.empty();</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;}</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160; </div>
<div class="line"><a name="l02028"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a85becec8223e97d3593c30cef8682892"> 2028</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#a85becec8223e97d3593c30cef8682892">PerIsolateData::RegisterWorker</a>(std::shared_ptr&lt;Worker&gt; worker) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a471046921fceb365a0aaf30322c1da63">registered_workers_</a>.insert(std::move(worker));</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;}</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a30dc5ae046f91b57ae02df20471af9e3"> 2032</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#a30dc5ae046f91b57ae02df20471af9e3">PerIsolateData::SubscribeWorkerOnMessage</a>(</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keyword">const</span> std::shared_ptr&lt;Worker&gt;&amp; worker, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback) {</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1PerIsolateData.html#a471046921fceb365a0aaf30322c1da63">registered_workers_</a>.contains(worker)) {</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="comment">// The worker has already terminated, so it won&#39;t be posting any more</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="comment">// messages. Don&#39;t try to subscribe to its events.</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    fprintf(</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        stderr,</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;        <span class="stringliteral">&quot;Trying to subscribe to message events from a terminated worker -- &quot;</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        <span class="stringliteral">&quot;consider registering the event handler before the event loop runs.\n&quot;</span>);</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;  }</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#ac68091363b94bd315772cc885627c81f">worker_message_callbacks_</a>.emplace(</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      worker, std::make_pair(<a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, context),</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;                             <a class="code" href="classv8_1_1Global.html">Global&lt;Function&gt;</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, callback)));</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;}</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160; </div>
<div class="line"><a name="l02049"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a1181202fed9d57f47b84969451fb2e04"> 2049</a></span>&#160;std::pair&lt;Local&lt;Context&gt;, <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a>&gt; <a class="code" href="classv8_1_1PerIsolateData.html#a1181202fed9d57f47b84969451fb2e04">PerIsolateData::GetWorkerOnMessage</a>(</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keyword">const</span> std::shared_ptr&lt;Worker&gt;&amp; worker)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1PerIsolateData.html#ac68091363b94bd315772cc885627c81f">worker_message_callbacks_</a>.find(worker);</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  <span class="keywordflow">if</span> (it == <a class="code" href="classv8_1_1PerIsolateData.html#ac68091363b94bd315772cc885627c81f">worker_message_callbacks_</a>.end()) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  }</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="keywordflow">return</span> {it-&gt;second.first.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>), it-&gt;second.second.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>)};</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;}</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a1551d74217cba1cfdb8c35d9892a361b"> 2058</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1PerIsolateData.html#a1551d74217cba1cfdb8c35d9892a361b">PerIsolateData::UnregisterWorker</a>(<span class="keyword">const</span> std::shared_ptr&lt;Worker&gt;&amp; worker) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#a471046921fceb365a0aaf30322c1da63">registered_workers_</a>.erase(worker);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#ac68091363b94bd315772cc885627c81f">worker_message_callbacks_</a>.erase(worker);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;}</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160; </div>
<div class="line"><a name="l02063"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a4f8ade5f990ffe3651747998f98e609e"> 2063</a></span>&#160;<a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a4f8ade5f990ffe3651747998f98e609e">PerIsolateData::RealmScope::RealmScope</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>&amp; context)</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    : data_(<a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>::<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(isolate)) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">data_</a>-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aab8382a3a0df7bfbb6f70ce14da27b66">realm_count_</a> = 1;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">data_</a>-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a> = 0;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">data_</a>-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a> = 0;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">data_</a>-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a> = <span class="keyword">new</span> <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>[1];</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">data_</a>-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[0].Reset(<a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">data_</a>-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, context);</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;}</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160; </div>
<div class="line"><a name="l02073"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData_1_1RealmScope.html#af9b2846229058d6dbdbec7794865f60e"> 2073</a></span>&#160;<a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html#af9b2846229058d6dbdbec7794865f60e">PerIsolateData::RealmScope::~RealmScope</a>() {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="comment">// Drop realms to avoid keeping them alive.</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  data_-&gt;realm_count_ = 0;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keyword">delete</span>[] data_-&gt;realms_;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;}</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a4101c66fc7fed37d058400cea23f56ca"> 2079</a></span>&#160;<a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a4101c66fc7fed37d058400cea23f56ca">PerIsolateData::ExplicitRealmScope::ExplicitRealmScope</a>(<a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data,</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                                                       <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    : data_(data), index_(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a726b7e429e90738a736617d8e3dc7fb6">realm_</a> = <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Context&gt;::New</a>(data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a6a408f41147153e3285a3ed8131cd4bd">index_</a>]);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a726b7e429e90738a736617d8e3dc7fb6">realm_</a>-&gt;<a class="code" href="classv8_1_1Context.html#a6995c49d9897eb49053f07874b825133">Enter</a>();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a401c28e8506b0b8579e0bbea5d110099">previous_index_</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a>;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a> = <a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a6a408f41147153e3285a3ed8131cd4bd">index_</a>;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a1a2e8d43269e26f5f5bbc42c0d3a5f2b"> 2088</a></span>&#160;<a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a1a2e8d43269e26f5f5bbc42c0d3a5f2b">PerIsolateData::ExplicitRealmScope::~ExplicitRealmScope</a>() {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  realm_-&gt;Exit();</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  data_-&gt;realm_current_ = data_-&gt;realm_switch_ = previous_index_;</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;}</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#ad4c51d0c3e1a93027a3095b0eccc3c42"> 2093</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> <a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#ad4c51d0c3e1a93027a3095b0eccc3c42">PerIsolateData::ExplicitRealmScope::context</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="keywordflow">return</span> realm_;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;}</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#a9de418c6c940efb33d025df38c2c0c67"> 2097</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1PerIsolateData.html#a9de418c6c940efb33d025df38c2c0c67">PerIsolateData::RealmFind</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context) {</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1PerIsolateData.html#aab8382a3a0df7bfbb6f70ce14da27b66">realm_count_</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>] == context) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  }</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;}</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160; </div>
<div class="line"><a name="l02104"></a><span class="lineno"><a class="line" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d"> 2104</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">PerIsolateData::RealmIndexOrThrow</a>(</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <span class="keywordtype">int</span> arg_offset) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; arg_offset || !info[arg_offset]-&gt;IsNumber()) {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  }</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = info[arg_offset]</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;                  -&gt;Int32Value(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>())</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                  .FromMaybe(-1);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  <span class="keywordflow">if</span> (index &lt; 0 || index &gt;= <a class="code" href="classv8_1_1PerIsolateData.html#aab8382a3a0df7bfbb6f70ce14da27b66">realm_count_</a> || <a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].IsEmpty()) {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid realm index&quot;</span>);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;}</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160; </div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="comment">// GetTimestamp() returns a time stamp as double, measured in milliseconds.</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment">// When v8_flags.verify_predictable mode is enabled it returns result of</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;<span class="comment">// v8::Platform::MonotonicallyIncreasingTime().</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#abeb224f7162030be17c9b4e5441af497"> 2123</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classv8_1_1Shell.html#abeb224f7162030be17c9b4e5441af497">Shell::GetTimestamp</a>() {</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.verify_predictable) {</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>-&gt;MonotonicallyIncreasingTime();</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <a class="code" href="classv8_1_1base_1_1TimeDelta.html">base::TimeDelta</a> delta = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">base::TimeTicks::Now</a>() - kInitialTicks;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="keywordflow">return</span> delta.<a class="code" href="classv8_1_1base_1_1TimeDelta.html#a494cc64764a7ba009367e2e8b64496de">InMillisecondsF</a>();</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  }</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;}</div>
<div class="line"><a name="l02131"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#abad0d7abe069422f4a40dd201b4b4283"> 2131</a></span>&#160;uint64_t <a class="code" href="classv8_1_1Shell.html#abad0d7abe069422f4a40dd201b4b4283">Shell::GetTracingTimestampFromPerformanceTimestamp</a>(</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordtype">double</span> performance_timestamp) {</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <span class="comment">// Don&#39;t use this in --verify-predictable mode, predictable timestamps don&#39;t</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <span class="comment">// work well with tracing.</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.verify_predictable);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;  <a class="code" href="classv8_1_1base_1_1TimeDelta.html">base::TimeDelta</a> delta =</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <a class="code" href="classv8_1_1base_1_1TimeDelta.html#a33e9690c073397a6e9de97b5fc4d551c">base::TimeDelta::FromMillisecondsD</a>(performance_timestamp);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="comment">// See TracingController::CurrentTimestampMicroseconds().</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;  int64_t internal_value = (delta + kInitialTicks).ToInternalValue();</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(internal_value, 0);</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordflow">return</span> internal_value;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;}</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="keywordtype">void</span> SendPerfControlCommand(<span class="keyword">const</span> <span class="keywordtype">char</span>* command) {</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.perf_ctl_fd != -1 &amp;&amp; <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.perf_ack_fd != -1) {</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordtype">size_t</span> command_len = strlen(command);</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    ssize_t ret = write(<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.perf_ctl_fd, command, command_len);</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">if</span> (ret == -1) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;perf_ctl write error: %s\n&quot;</span>, strerror(errno));</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;    }</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(ret, command_len);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordtype">char</span> ack[5];</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    ret = read(<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.perf_ack_fd, ack, 5);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;    <span class="keywordflow">if</span> (ret == -1) {</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;perf_ack read error: %s\n&quot;</span>, strerror(errno));</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    }</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(ret, 5);</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(strcmp(ack, <span class="stringliteral">&quot;ack\n&quot;</span>), 0);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  }</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;}</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;<span class="comment">// performance.now() returns GetTimestamp().</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab5b0caaa7bcc8e512e2eeea713909fd7"> 2166</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ab5b0caaa7bcc8e512e2eeea713909fd7">Shell::PerformanceNow</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(GetTimestamp());</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;}</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;<span class="comment">// performance.mark() records and returns a PerformanceEntry with the current</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;<span class="comment">// timestamp.</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a179ef355456c8f085c784f9fbe47dd23"> 2173</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a179ef355456c8f085c784f9fbe47dd23">Shell::PerformanceMark</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1 || !info[0]-&gt;IsString()) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid &#39;name&#39; argument&quot;</span>);</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  }</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = info[0].As&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160; </div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="keywordtype">double</span> timestamp = GetTimestamp();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> performance_entry = <a class="code" href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">Object::New</a>(isolate);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  performance_entry</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(context,</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;entryType&quot;</span>),</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;                          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;mark&quot;</span>), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      .Check();</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  performance_entry</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(context, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;name&quot;</span>),</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                          <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      .Check();</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  performance_entry</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(context,</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;startTime&quot;</span>),</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                          <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">Number::New</a>(isolate, timestamp), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      .Check();</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  performance_entry</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(context,</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;duration&quot;</span>),</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;                          <a class="code" href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">Integer::New</a>(isolate, 0), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      .Check();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160; </div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(performance_entry);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160; </div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">if</span> (options.scope_linux_perf_to_mark_measure) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    SendPerfControlCommand(<span class="stringliteral">&quot;enable&quot;</span>);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;  }</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;}</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;<span class="comment">// performance.measure() records and returns a PerformanceEntry with a duration</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;<span class="comment">// since a given mark, or since zero.</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a2837ddec8ddfabc9a5f19dc6b14d59bb"> 2218</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a2837ddec8ddfabc9a5f19dc6b14d59bb">Shell::PerformanceMeasure</a>(</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1 || !info[0]-&gt;IsString()) {</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid &#39;name&#39; argument&quot;</span>);</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  }</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = info[0].As&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;();</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  <span class="keywordtype">double</span> start_timestamp = 0;</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2) {</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="keywordflow">if</span> (options.scope_linux_perf_to_mark_measure) {</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      SendPerfControlCommand(<span class="stringliteral">&quot;disable&quot;</span>);</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    }</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160; </div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> start_mark = info[1].As&lt;<a class="code" href="classv8_1_1Value.html">Value</a>&gt;();</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordflow">if</span> (!start_mark-&gt;IsObject()) {</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(),</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;                 <span class="stringliteral">&quot;Invalid &#39;startMark&#39; argument: Not an Object&quot;</span>);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    }</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> start_time_field;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    <span class="keywordflow">if</span> (!start_mark.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;()</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;             -&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;startTime&quot;</span>))</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;             .<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;start_time_field)) {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordflow">if</span> (!start_time_field-&gt;IsNumber()) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(),</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                 <span class="stringliteral">&quot;Invalid &#39;startMark&#39; argument: No numeric &#39;startTime&#39; field&quot;</span>);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    }</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    start_timestamp = start_time_field.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Number.html">Number</a>&gt;()-&gt;<a class="code" href="classv8_1_1Value.html">Value</a>();</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;  }</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt; 2) {</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Too many arguments&quot;</span>);</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160; </div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <span class="keywordtype">double</span> end_timestamp = GetTimestamp();</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160; </div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;  <span class="keywordflow">if</span> (options.trace_enabled) {</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordtype">size_t</span> hash = <a class="code" href="namespacev8_1_1base.html#abd21c4db15aaf03b5c13eac392cd930a">base::hash_combine</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>-&gt;GetIdentityHash(), start_timestamp,</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                                     end_timestamp);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> utf8(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#aae32f4877a7aa02985b9491ccc886620">TRACE_EVENT_COPY_NESTABLE_ASYNC_BEGIN_WITH_TIMESTAMP1</a>(</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <span class="stringliteral">&quot;v8&quot;</span>, *utf8, <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(hash),</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        GetTracingTimestampFromPerformanceTimestamp(start_timestamp),</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        <span class="stringliteral">&quot;startTime&quot;</span>, start_timestamp);</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#a663310659ff93e11801562c898d0216a">TRACE_EVENT_COPY_NESTABLE_ASYNC_END_WITH_TIMESTAMP0</a>(</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <span class="stringliteral">&quot;v8&quot;</span>, *utf8, <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(hash),</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        GetTracingTimestampFromPerformanceTimestamp(end_timestamp));</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  }</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160; </div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> performance_entry = <a class="code" href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">Object::New</a>(isolate);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  performance_entry</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;          context, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;entryType&quot;</span>),</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;measure&quot;</span>), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      .Check();</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  performance_entry</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(context, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;name&quot;</span>),</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;                          <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;      .Check();</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  performance_entry</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(context,</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;startTime&quot;</span>),</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;                          <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">Number::New</a>(isolate, start_timestamp), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;      .Check();</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  performance_entry</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;      -&gt;<a class="code" href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">DefineOwnProperty</a>(</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;          context, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;duration&quot;</span>),</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;          <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">Number::New</a>(isolate, end_timestamp - start_timestamp), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">ReadOnly</a>)</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;      .Check();</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160; </div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(performance_entry);</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;}</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="comment">// performance.measureMemory() implements JavaScript Memory API proposal.</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="comment">// See https://github.com/ulan/javascript-agent-memory/blob/master/explainer.md.</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a49ceef326ec8ab01aebf7de8f99f5c77"> 2304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a49ceef326ec8ab01aebf7de8f99f5c77">Shell::PerformanceMeasureMemory</a>(</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  <a class="code" href="namespacev8.html#af0a35d935e967468adc5b6dc7f8da883">v8::MeasureMemoryMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = <a class="code" href="namespacev8.html#af0a35d935e967468adc5b6dc7f8da883a5316f21c59cf9dd9526061bcb5da9b76">v8::MeasureMemoryMode::kSummary</a>;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 1 &amp;&amp; info[0]-&gt;IsObject()) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <span class="keywordtype">object</span> = info[0].As&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">TryGetValue</a>(isolate, context, <span class="keywordtype">object</span>, <span class="stringliteral">&quot;detailed&quot;</span>)</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                             .<a class="code" href="classv8_1_1MaybeLocal.html#ab0a3cc3dada965f5f6f602fb9b0893d2">FromMaybe</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>());</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.IsEmpty()) {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <span class="comment">// Exception was thrown and scheduled, so return from the callback.</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsBoolean() &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;BooleanValue(isolate)) {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;      <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = <a class="code" href="namespacev8.html#af0a35d935e967468adc5b6dc7f8da883ade970de858c5ffbaccdc0250e117ea9c">v8::MeasureMemoryMode::kDetailed</a>;</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    }</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Promise::Resolver&gt;</a> promise_resolver =</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;      <a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">v8::Promise::Resolver::New</a>(context).ToLocalChecked();</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a1393298ca557f6cbc312116d77c9b501">MeasureMemory</a>(</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;      <a class="code" href="classv8_1_1MeasureMemoryDelegate.html#aac50e901a249a74d4e221bc8da468903">v8::MeasureMemoryDelegate::Default</a>(isolate, context, promise_resolver,</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;                                         <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>),</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;      <a class="code" href="namespacev8.html#ae7d05bf926fdcef988b14900496ea931a1f85c8fbccc9bb4fcda482bf840bc3e2">v8::MeasureMemoryExecution::kEager</a>);</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise_resolver-&gt;GetPromise());</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;}</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160; </div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="comment">// Realm.current() returns the index of the currently active realm.</span></div>
<div class="line"><a name="l02332"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a01ac02626bd7a9186ce63b4969193a43"> 2332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a01ac02626bd7a9186ce63b4969193a43">Shell::RealmCurrent</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9de418c6c940efb33d025df38c2c0c67">RealmFind</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aafdbb3ad17978a641d8f27cd6106b4ef">GetEnteredOrMicrotaskContext</a>());</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160; </div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="comment">// Realm.owner(o) returns the index of the realm that created o.</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ade1f002ea3faf9234f00696e50ed64be"> 2342</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ade1f002ea3faf9234f00696e50ed64be">Shell::RealmOwner</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1 || !info[0]-&gt;IsObject()) {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  }</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <span class="keywordtype">object</span> =</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;      info[0]-&gt;ToObject(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>()).ToLocalChecked();</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> i_object = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  <span class="keywordflow">if</span> (IsJSGlobalProxy(*i_object) &amp;&amp;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;      i::Cast&lt;i::JSGlobalProxy&gt;(i_object)-&gt;IsDetached()) {</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> creation_context;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="keywordflow">if</span> (!object-&gt;<a class="code" href="classv8_1_1Object.html#a2732a4ef43af9e3fd6925028b8a94005">GetCreationContext</a>(isolate).<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;creation_context)) {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;object doesn&#39;t have creation context&quot;</span>);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  }</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9de418c6c940efb33d025df38c2c0c67">RealmFind</a>(creation_context);</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;}</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160; </div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;<span class="comment">// Realm.global(i) returns the global object of realm i.</span></div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;<span class="comment">// (Note that properties of global objects cannot be read/written cross-realm.)</span></div>
<div class="line"><a name="l02369"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a13bec82e51ed3f6a324fd580cd0942e5"> 2369</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a13bec82e51ed3f6a324fd580cd0942e5">Shell::RealmGlobal</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">RealmIndexOrThrow</a>(info, 0);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="comment">// TODO(chromium:324812): Ideally Context::Global should never return raw</span></div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <span class="comment">// global objects but return a global proxy. Currently it returns global</span></div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="comment">// object when the global proxy is detached from the global object. The</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  <span class="comment">// following is a workaround till we fix Context::Global so we don&#39;t leak</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="comment">// global objects.</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> global =</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;      <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Context&gt;::New</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>])-&gt;Global();</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> i_global = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*global);</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="keywordflow">if</span> (IsJSGlobalObject(*i_global)) {</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> i_global_proxy(</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;        i::Cast&lt;i::JSGlobalObject&gt;(i_global)-&gt;global_proxy(), i_isolate);</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    global = Utils::ToLocal(i_global_proxy);</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  }</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(global);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;}</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160; </div>
<div class="line"><a name="l02391"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aaa41255bb07bf2218b8aa535ed29cee6"> 2391</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Context&gt;</a> <a class="code" href="classv8_1_1Shell.html#aaa41255bb07bf2218b8aa535ed29cee6">Shell::CreateRealm</a>(</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;Value&gt;</a> global_object) {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02injected-script_8cc_03.html#a742bebd5683ebd0733d6ec065dccd9c1">kGlobalHandleLabel</a> = <span class="stringliteral">&quot;d8::realm&quot;</span>;</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Context&gt;</a>();</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160; </div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; 0) {</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>* old_realms = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>;</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aab8382a3a0df7bfbb6f70ce14da27b66">realm_count_</a>;</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a> = <span class="keyword">new</span> <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>[++data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aab8382a3a0df7bfbb6f70ce14da27b66">realm_count_</a>];</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;      <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>&amp; realm = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      realm.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, old_realms[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      <span class="keywordflow">if</span> (!realm.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        realm.<a class="code" href="classv8_1_1PersistentBase.html#a27ddb6118b13225207e9641c1e6c8c91">AnnotateStrongRetainer</a>(<a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02injected-script_8cc_03.html#a742bebd5683ebd0733d6ec065dccd9c1">kGlobalHandleLabel</a>);</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;      }</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      old_realms[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>();</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    }</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keyword">delete</span>[] old_realms;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> global_template = CreateGlobalTemplate(isolate);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context =</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      <a class="code" href="classv8_1_1Context.html#a11648311890e6127d92335fc438b8211">Context::New</a>(isolate, <span class="keyword">nullptr</span>, global_template, global_object);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <span class="keywordflow">if</span> (context.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Context&gt;</a>();</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>());</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9258adea2b59c27e5caeccc627ed0bd0">InitializeModuleEmbedderData</a>(context);</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].Reset(isolate, context);</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].AnnotateStrongRetainer(<a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02injected-script_8cc_03.html#a742bebd5683ebd0733d6ec065dccd9c1">kGlobalHandleLabel</a>);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="keywordflow">return</span> context;</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;}</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ae9c7f2660361eda847ca2066270efe0c"> 2427</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ae9c7f2660361eda847ca2066270efe0c">Shell::DisposeRealm</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;                         <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].Get(isolate);</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].Reset();</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="comment">// ContextDisposedNotification expects the disposed context to be entered.</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">v8::Context::Scope</a> scope(context);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a4b5216bbb1792211422aee575d02f442">ContextDisposedNotification</a>(<a class="code" href="namespacev8.html#a4c253cc9b41dad8e3b1ce1aa7a2dbe0ca5a2ba12bdd7c3f27a5cab1fcd7bd985b">v8::ContextDependants::kSomeDependants</a>);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;}</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160; </div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;<span class="comment">// Realm.create() creates a new realm with a distinct security token</span></div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="comment">// and returns its index.</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a175ddb50519cf86fa2f445ced8e4cdbb"> 2441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a175ddb50519cf86fa2f445ced8e4cdbb">Shell::RealmCreate</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  CreateRealm(info, -1, <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;Value&gt;</a>());</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;}</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;<span class="comment">// Realm.createAllowCrossRealmAccess() creates a new realm with the same</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="comment">// security token as the current realm.</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad80d84efc209e82796d9e60765491b8a"> 2448</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ad80d84efc209e82796d9e60765491b8a">Shell::RealmCreateAllowCrossRealmAccess</a>(</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="keywordflow">if</span> (CreateRealm(info, -1, <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;Value&gt;</a>()).ToLocal(&amp;context)) {</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    context-&gt;<a class="code" href="classv8_1_1Context.html#a2351d9bdf4450d5f23734033289ba3ab">SetSecurityToken</a>(</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#aafdbb3ad17978a641d8f27cd6106b4ef">GetEnteredOrMicrotaskContext</a>()-&gt;<a class="code" href="classv8_1_1Context.html#a82990c1621f1e825db5832f668caabfd">GetSecurityToken</a>());</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  }</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;}</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160; </div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="comment">// Realm.navigate(i) creates a new realm with a distinct security token</span></div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="comment">// in place of realm i.</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#adfb10c672508b29c6abfae42a69d2984"> 2460</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#adfb10c672508b29c6abfae42a69d2984">Shell::RealmNavigate</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">RealmIndexOrThrow</a>(info, 0);</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == 0 || <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a> ||</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a>) {</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid realm index&quot;</span>);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Context&gt;::New</a>(isolate, data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;Value&gt;</a> global_object = context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>();</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160; </div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="comment">// Context::Global doesn&#39;t return JSGlobalProxy if DetachGlobal is called in</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <span class="comment">// advance.</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;  <span class="keywordflow">if</span> (!global_object.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>()) {</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordflow">if</span> (!IsJSGlobalProxy(</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;            *<a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*global_object.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>()))) {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;      global_object = <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;Value&gt;</a>();</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  }</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160; </div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  DisposeRealm(info, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  CreateRealm(info, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, global_object);</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;}</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160; </div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;<span class="comment">// Realm.detachGlobal(i) detaches the global objects of realm i from realm i.</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a391a143e582f5c79a6d4151e28a8a9fd"> 2490</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a391a143e582f5c79a6d4151e28a8a9fd">Shell::RealmDetachGlobal</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">RealmIndexOrThrow</a>(info, 0);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == 0 || <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a> ||</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a>) {</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid realm index&quot;</span>);</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  }</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160; </div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> realm = <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Context&gt;::New</a>(isolate, data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">realms_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;  realm-&gt;<a class="code" href="classv8_1_1Context.html#a841c7dd92eb8c57df92a268a164dea97">DetachGlobal</a>();</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;}</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160; </div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="comment">// Realm.dispose(i) disposes the reference to the realm i.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aa8c7b7a814c6514fedfb07bd90b4cd74"> 2508</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aa8c7b7a814c6514fedfb07bd90b4cd74">Shell::RealmDispose</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">RealmIndexOrThrow</a>(info, 0);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == 0 || <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">realm_current_</a> ||</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a>) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Invalid realm index&quot;</span>);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  }</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  DisposeRealm(info, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;}</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160; </div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="comment">// Realm.switch(i) switches to the realm i for consecutive interactive inputs.</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a77d7b375b0a689340018c8acbd7a8780"> 2523</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a77d7b375b0a689340018c8acbd7a8780">Shell::RealmSwitch</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">RealmIndexOrThrow</a>(info, 0);</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">realm_switch_</a> = <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;}</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment">// Realm.eval(i, s) evaluates s in realm i and returns the result.</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#add38c62d72b085740f85b27b194ea2e1"> 2533</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#add38c62d72b085740f85b27b194ea2e1">Shell::RealmEval</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">RealmIndexOrThrow</a>(info, 0);</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 2) {</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;  }</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160; </div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source;</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <span class="keywordflow">if</span> (!ReadSource(info, 1, CodeType::kString).ToLocal(&amp;source)) {</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a> origin =</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4258cd35a0f9016ee808b0f138c787a4">CreateScriptOrigin</a>(isolate, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;(d8)&quot;</span>),</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;                         <a class="code" href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a135ed776c81ce676daeed6250f5d72f6">ScriptType::kClassic</a>);</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;  <a class="code" href="classv8_1_1ScriptCompiler_1_1Source.html">ScriptCompiler::Source</a> script_source(source, origin);</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;UnboundScript&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1ScriptCompiler.html#a65f85be54b26efb1f47543c5895f7008">ScriptCompiler::CompileUnboundScript</a>(isolate, &amp;script_source)</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;           .ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>)) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;  }</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html">PerIsolateData::ExplicitRealmScope</a> realm_scope(data, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;BindToCurrentContext()</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;             -&gt;Run(realm_scope.<a class="code" href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#ad4c51d0c3e1a93027a3095b0eccc3c42">context</a>())</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;             .ToLocal(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    }</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  }</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;}</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160; </div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;<span class="comment">// Realm.shared is an accessor for a single shared value across realms.</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a4aad012052842abfddadab204f611447"> 2573</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a4aad012052842abfddadab204f611447">Shell::RealmSharedGet</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Name&gt;</a> property,</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classv8_1_1PropertyCallbackInfo.html">PropertyCallbackInfo&lt;Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1PropertyCallbackInfo.html#aff7b838ede308ab8a42890962eb9271c">GetIsolate</a>();</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <span class="keywordflow">if</span> (data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a5fdbc1b1e53c68791ac345bee93553f1">realm_shared_</a>.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;  info.<a class="code" href="classv8_1_1PropertyCallbackInfo.html#aa0882946929c3c4df6d131fe0d8d6746">GetReturnValue</a>().Set(data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a5fdbc1b1e53c68791ac345bee93553f1">realm_shared_</a>);</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;}</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160; </div>
<div class="line"><a name="l02582"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a661a5379481a860a7a14365de63180dd"> 2582</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a661a5379481a860a7a14365de63180dd">Shell::RealmSharedSet</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Name&gt;</a> property, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classv8_1_1PropertyCallbackInfo.html">PropertyCallbackInfo&lt;void&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1PropertyCallbackInfo.html#aff7b838ede308ab8a42890962eb9271c">GetIsolate</a>();</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a5fdbc1b1e53c68791ac345bee93553f1">realm_shared_</a>.Reset(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;}</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160; </div>
<div class="line"><a name="l02590"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aba2ae3d011aef1c7f6a146d617a70b8e"> 2590</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aba2ae3d011aef1c7f6a146d617a70b8e">Shell::LogGetAndStop</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160; </div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> file_name = i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac6b31523bed359ea1302f5ee9d6fe1ab">v8_file_logger</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1V8FileLogger.html#a0025eacbe114c3134bf7256b89100b46">file_name</a>();</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1LogFile.html#a596622a2735e86b53baf7ea616a18c16">i::LogFile::IsLoggingToTemporaryFile</a>(file_name)) {</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Only capturing from temporary files is supported.&quot;</span>);</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  }</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <span class="keywordflow">if</span> (!i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac6b31523bed359ea1302f5ee9d6fe1ab">v8_file_logger</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1V8FileLogger.html#a1870a329d548ee1be50411ce64ea4799">is_logging</a>()) {</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Logging not enabled.&quot;</span>);</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  }</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160; </div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> raw_log;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  FILE* log_file = i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac6b31523bed359ea1302f5ee9d6fe1ab">v8_file_logger</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1V8FileLogger.html#a57d2e2df680d1ffaa2fdd64b02dd1865">TearDownAndGetLogFile</a>();</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;  <span class="keywordflow">if</span> (!log_file) {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Log file does not exist.&quot;</span>);</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;  }</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; </div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;  <span class="keywordtype">bool</span> exists = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;  raw_log = <a class="code" href="namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02torque-compiler_8cc_03.html#afd2d129330694bae7a20bb5265aa042a">i::ReadFile</a>(log_file, &amp;exists, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a5c78a9800cbcf09478d155ac69cdbd0f">base::Fclose</a>(log_file);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160; </div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;  <span class="keywordflow">if</span> (!exists) {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Unable to read log file.&quot;</span>);</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;  }</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, raw_log.c_str(), <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>,</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(raw_log.size()))</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;          .ToLocalChecked();</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;}</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160; </div>
<div class="line"><a name="l02629"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a8f0584e863e58abf79d19e963bbd5e58"> 2629</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a8f0584e863e58abf79d19e963bbd5e58">Shell::TestVerifySourcePositions</a>(</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="comment">// Check if the argument is a valid function.</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Expected function as single argument.&quot;</span>);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  }</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <span class="keyword">auto</span> arg_handle = <a class="code" href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">Utils::OpenHandle</a>(*info[0]);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(*arg_handle) ||</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      !IsJSFunctionOrBoundFunctionOrWrappedFunction(</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;          *i::Cast&lt;i::HeapObject&gt;(arg_handle))) {</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Expected function as single argument.&quot;</span>);</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; </div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  <span class="keyword">auto</span> callable =</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      i::Cast&lt;i::JSFunctionOrBoundFunctionOrWrappedFunction&gt;(arg_handle);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="keywordflow">while</span> (IsJSBoundFunction(*callable)) {</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">internal::DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keyword">auto</span> bound_function = i::Cast&lt;i::JSBoundFunction&gt;(callable);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <span class="keyword">auto</span> bound_target = bound_function-&gt;bound_target_function();</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordflow">if</span> (!IsJSFunctionOrBoundFunctionOrWrappedFunction(bound_target)) {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">internal::AllowGarbageCollection</a> allow_gc;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Expected function as bound target.&quot;</span>);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    }</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    callable = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        i::Cast&lt;i::JSFunctionOrBoundFunctionOrWrappedFunction&gt;(bound_target),</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;        i_isolate);</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  }</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160; </div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <span class="keyword">function</span> = i::Cast&lt;i::JSFunction&gt;(callable);</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;  <span class="keywordflow">if</span> (!function-&gt;shared()-&gt;HasBytecodeArray()) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Function has no BytecodeArray attached.&quot;</span>);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;  }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Handle.html">i::Handle&lt;i::BytecodeArray&gt;</a> bytecodes =</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(function-&gt;shared()-&gt;GetBytecodeArray(i_isolate), i_isolate);</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  i::interpreter::BytecodeArrayIterator bytecode_iterator(bytecodes);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <span class="keywordtype">bool</span> has_baseline = <span class="keyword">function</span>-&gt;shared()-&gt;HasBaselineCode();</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Handle.html">i::Handle&lt;i::TrustedByteArray&gt;</a> bytecode_offsets;</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  std::unique_ptr&lt;i::baseline::BytecodeOffsetIterator&gt; offset_iterator;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;  <span class="keywordflow">if</span> (has_baseline) {</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    bytecode_offsets = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;        i::Cast&lt;i::TrustedByteArray&gt;(</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;            function-&gt;shared()-&gt;GetCode(i_isolate)-&gt;bytecode_offset_table()),</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;        i_isolate);</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    offset_iterator = std::make_unique&lt;i::baseline::BytecodeOffsetIterator&gt;(</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;        bytecode_offsets, bytecodes);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;    <span class="comment">// A freshly initiated BytecodeOffsetIterator points to the prologue.</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(offset_iterator-&gt;current_pc_start_offset(), 0);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(offset_iterator-&gt;current_bytecode_offset(),</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a0af2dd3e6c268be55adee8896e85cc04">i::kFunctionEntryBytecodeOffset</a>);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    offset_iterator-&gt;Advance();</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  }</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;  <span class="keywordflow">while</span> (!bytecode_iterator.done()) {</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    <span class="keywordflow">if</span> (has_baseline) {</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <span class="keywordflow">if</span> (offset_iterator-&gt;current_bytecode_offset() !=</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;          bytecode_iterator.current_offset()) {</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Baseline bytecode offset mismatch.&quot;</span>);</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;      <span class="comment">// Check that we map every address to this bytecode correctly.</span></div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      <span class="comment">// The start address is exclusive and the end address inclusive.</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classuintptr__t.html">i::Address</a> pc = offset_iterator-&gt;current_pc_start_offset() + 1;</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;           pc &lt;= offset_iterator-&gt;current_pc_end_offset(); ++pc) {</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        i::baseline::BytecodeOffsetIterator pc_lookup(bytecode_offsets,</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;                                                      bytecodes);</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        pc_lookup.AdvanceToPCOffset(pc);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        <span class="keywordflow">if</span> (pc_lookup.current_bytecode_offset() !=</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;            bytecode_iterator.current_offset()) {</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;          <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;                     <span class="stringliteral">&quot;Baseline bytecode offset mismatch for PC lookup.&quot;</span>);</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        }</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;      }</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    bytecode_iterator.Advance();</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keywordflow">if</span> (has_baseline &amp;&amp; !bytecode_iterator.done()) {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      <span class="keywordflow">if</span> (offset_iterator-&gt;done()) {</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Missing bytecode(s) in baseline offset mapping.&quot;</span>);</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;      }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;      offset_iterator-&gt;Advance();</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    }</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  }</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;  <span class="keywordflow">if</span> (has_baseline &amp;&amp; !offset_iterator-&gt;done()) {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Excess offsets in baseline offset mapping.&quot;</span>);</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  }</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;}</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160; </div>
<div class="line"><a name="l02725"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a01c8c2af72b732665066b27f1bc47ea2"> 2725</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a01c8c2af72b732665066b27f1bc47ea2">Shell::InstallConditionalFeatures</a>(</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a4db8edb57f0ae6d4758314e7c9c7fd4e">InstallConditionalFeatures</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>());</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;}</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160; </div>
<div class="line"><a name="l02731"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ac14c26f879d3fb33e437bca7038ccb3e"> 2731</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ac14c26f879d3fb33e437bca7038ccb3e">Shell::EnableJSPI</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a0f0fe33b344ad47c28dcb08838c142a9">SetWasmJSPIEnabledCallback</a>([](<span class="keyword">auto</span>) { <span class="keywordflow">return</span> <span class="keyword">true</span>; });</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a4db8edb57f0ae6d4758314e7c9c7fd4e">InstallConditionalFeatures</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>());</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;}</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a3d4bdbb3c132d23a9faeff96c9b6b687"> 2737</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a3d4bdbb3c132d23a9faeff96c9b6b687">Shell::SetFlushDenormals</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzing) {</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="comment">// Setting denormals flushing in the middle of code is almost certain to</span></div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    <span class="comment">// cause correctness issues or crashes, in a way that isn&#39;t interesting to</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    <span class="comment">// us. Make this a no-op instead.</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  }</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="comment">// Check if the argument is a valid function.</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Expected single boolean argument.&quot;</span>);</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  }</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> arg = info[0];</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keywordflow">if</span> (!arg-&gt;IsBoolean()) {</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Expected single boolean argument.&quot;</span>);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  }</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <a class="code" href="classv8_1_1base_1_1FPU.html#a6d64d1865ee3ca453b4d3bf6820ae32b">base::FPU::SetFlushDenormals</a>(arg.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Boolean.html">Boolean</a>&gt;()-&gt;<a class="code" href="classv8_1_1Value.html#a00fb01ca03d847407a2ed9a262035ebc">BooleanValue</a>(isolate));</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;}</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160; </div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;<span class="comment">// async_hooks.createHook() registers functions to be called for different</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;<span class="comment">// lifetime events of each async operation.</span></div>
<div class="line"><a name="l02760"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a8a0beb2fe6e5e311da574a436d7d506c"> 2760</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a8a0beb2fe6e5e311da574a436d7d506c">Shell::AsyncHooksCreateHook</a>(</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> wrap =</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>())-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aa34af1f6db6b32621bad44ef98a2e08e">GetAsyncHooks</a>()-&gt;<a class="code" href="classv8_1_1AsyncHooks.html#afa0b093ad05424f97f4cc78303573b67">CreateHook</a>(info);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(wrap);</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;}</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160; </div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;<span class="comment">// async_hooks.executionAsyncId() returns the asyncId of the current execution</span></div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="comment">// context.</span></div>
<div class="line"><a name="l02769"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a395d1043252bbebc47fe2135c175d013"> 2769</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a395d1043252bbebc47fe2135c175d013">Shell::AsyncHooksExecutionAsyncId</a>(</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      isolate,</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;      <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aa34af1f6db6b32621bad44ef98a2e08e">GetAsyncHooks</a>()-&gt;GetExecutionAsyncId()));</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;}</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a6876b6707fc164bf081682da76d5236d"> 2778</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a6876b6707fc164bf081682da76d5236d">Shell::AsyncHooksTriggerAsyncId</a>(</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;      isolate,</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aa34af1f6db6b32621bad44ef98a2e08e">GetAsyncHooks</a>()-&gt;GetTriggerAsyncId()));</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;}</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160; </div>
<div class="line"><a name="l02787"></a><span class="lineno"><a class="line" href="namespacev8.html#aca926f946c06e2386db7aefa032bef75"> 2787</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1debug_1_1DebugDelegate.html">v8::debug::DebugDelegate</a> <a class="code" href="namespacev8.html#aca926f946c06e2386db7aefa032bef75">dummy_delegate</a>;</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160; </div>
<div class="line"><a name="l02789"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a513eab74826f1c75c8094269b963704a"> 2789</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a513eab74826f1c75c8094269b963704a">Shell::EnableDebugger</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <a class="code" href="namespacev8_1_1debug.html#af5caa49a625b06e2658f1ac59bc80785">v8::debug::SetDebugDelegate</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), &amp;<a class="code" href="namespacev8.html#aca926f946c06e2386db7aefa032bef75">dummy_delegate</a>);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;}</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160; </div>
<div class="line"><a name="l02793"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ade6d7e65e57381290044973a47cf962e"> 2793</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ade6d7e65e57381290044973a47cf962e">Shell::DisableDebugger</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;  <a class="code" href="namespacev8_1_1debug.html#af5caa49a625b06e2658f1ac59bc80785">v8::debug::SetDebugDelegate</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;}</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160; </div>
<div class="line"><a name="l02797"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a93aa8cd8a02c26313ddc8a7848e7cc13"> 2797</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a93aa8cd8a02c26313ddc8a7848e7cc13">Shell::SetPromiseHooks</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="comment">// Setting promise hooks dynamically has unexpected timing side-effects</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="comment">// with certain promise optimizations. We might not get all callbacks for</span></div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="comment">// previously scheduled Promises or optimized code-paths that skip Promise</span></div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="comment">// creation.</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;               <span class="stringliteral">&quot;d8.promise.setHooks is disabled with &quot;</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;               <span class="stringliteral">&quot;--correctness-fuzzer-suppressions&quot;</span>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  }</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_JAVASCRIPT_PROMISE_HOOKS</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  context-&gt;<a class="code" href="classv8_1_1Context.html#a216ef605c502da6559fff96209e4c9a9">SetPromiseHooks</a>(</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;      info[0]-&gt;IsFunction() ? info[0].As&lt;Function&gt;() : <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a>(),</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;      info[1]-&gt;IsFunction() ? info[1].As&lt;Function&gt;() : <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a>(),</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;      info[2]-&gt;IsFunction() ? info[2].As&lt;Function&gt;() : <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a>(),</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;      info[3]-&gt;IsFunction() ? info[3].As&lt;Function&gt;() : <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a>());</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">v8::Undefined</a>(isolate));</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// V8_ENABLE_JAVASCRIPT_PROMISE_HOOKS</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;             <span class="stringliteral">&quot;d8.promise.setHooks is disabled due to missing build flag &quot;</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;             <span class="stringliteral">&quot;v8_enabale_javascript_in_promise_hooks&quot;</span>);</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_JAVASCRIPT_PROMISE_HOOKS</span></div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;}</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160; </div>
<div class="line"><a name="l02828"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a5dec9773b7fd5afe85a9b3af0b83eca9"> 2828</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a5dec9773b7fd5afe85a9b3af0b83eca9">Shell::SerializerSerialize</a>(</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160; </div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  <a class="code" href="classv8_1_1ValueSerializer.html">ValueSerializer</a> serializer(isolate);</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  serializer.<a class="code" href="classv8_1_1ValueSerializer.html#ac0bdf1a7731ee4e93823dabdfa8c8661">WriteHeader</a>();</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordtype">bool</span> ok;</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="keywordflow">if</span> (!serializer.<a class="code" href="classv8_1_1ValueSerializer.html#abaaf71649f106af23c1c43f12e6a8394">WriteValue</a>(context, info[<a class="code" href="namespacev8_1_1internal.html">i</a>]).To(&amp;ok)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  }</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::ArrayBuffer&gt;</a> buffer;</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  {</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    std::pair&lt;uint8_t*, size_t&gt; pair = serializer.<a class="code" href="classv8_1_1ValueSerializer.html#a5e15aee37a321fd0dc3e92dd87e1334f">Release</a>();</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    buffer = <a class="code" href="classv8_1_1ArrayBuffer.html#a205ebfae531dd7819fbd486a49b46816">ArrayBuffer::New</a>(isolate, pair.second);</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    memcpy(buffer-&gt;GetBackingStore()-&gt;Data(), pair.first, pair.second);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    free(pair.first);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  }</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(buffer);</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;}</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aafcd3728abcfe65c0cb0ea6f77ea85a7"> 2851</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aafcd3728abcfe65c0cb0ea6f77ea85a7">Shell::SerializerDeserialize</a>(</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160; </div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsArrayBuffer()) {</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Can only deserialize from an ArrayBuffer&quot;</span>);</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;  }</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;  std::shared_ptr&lt;BackingStore&gt; backing_store =</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;      info[0].As&lt;<a class="code" href="classv8_1_1ArrayBuffer.html">ArrayBuffer</a>&gt;()-&gt;GetBackingStore();</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <a class="code" href="classv8_1_1ValueDeserializer.html">ValueDeserializer</a> deserializer(</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;      isolate, <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(backing_store-&gt;Data()),</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;      backing_store-&gt;ByteLength());</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <span class="keywordtype">bool</span> ok;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <span class="keywordflow">if</span> (!deserializer.<a class="code" href="classv8_1_1ValueDeserializer.html#a96d813a90d2de3fff2232f0a1e0f3b8b">ReadHeader</a>(context).To(&amp;ok)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <span class="keywordflow">if</span> (!deserializer.<a class="code" href="classv8_1_1ValueDeserializer.html#aa8b6efe5d8e47a2160b2b4e30ab3faa4">ReadValue</a>(context).<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;}</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160; </div>
<div class="line"><a name="l02874"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ae6b8301c8cccb4895f8dec845800a9c8"> 2874</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ae6b8301c8cccb4895f8dec845800a9c8">Shell::ProfilerSetOnProfileEndListener</a>(</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsFunction()) {</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;The OnProfileEnd listener has to be a function&quot;</span>);</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  }</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;profiler_end_callback_lock_);</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  profiler_end_callback_[isolate] =</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;      std::make_pair(<a class="code" href="classv8_1_1Global.html">Global&lt;Function&gt;</a>(isolate, info[0].As&lt;Function&gt;()),</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                     <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>(isolate, isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>()));</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;}</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160; </div>
<div class="line"><a name="l02889"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ac111a7294146bb0c93e7a51a58cbc5be"> 2889</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#ac111a7294146bb0c93e7a51a58cbc5be">Shell::HasOnProfileEndListener</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;profiler_end_callback_lock_);</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="keywordflow">return</span> profiler_end_callback_.find(isolate) != profiler_end_callback_.end();</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;}</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160; </div>
<div class="line"><a name="l02894"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a3a8748666c6e4a15af5154cd990a53d5"> 2894</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a3a8748666c6e4a15af5154cd990a53d5">Shell::ResetOnProfileEndListener</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="comment">// If the inspector is enabled, then the installed console is not the</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="comment">// D8Console.</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="keywordflow">if</span> (options.enable_inspector) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  {</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;profiler_end_callback_lock_);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    profiler_end_callback_.erase(isolate);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;  }</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160; </div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;  <a class="code" href="classv8_1_1D8Console.html">D8Console</a>* console =</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1D8Console.html">D8Console</a>*<span class="keyword">&gt;</span>(i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a882f723633515de4bfb4ce6e620c7971">console_delegate</a>());</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  <span class="keywordflow">if</span> (console) {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;    console-&gt;<a class="code" href="classv8_1_1D8Console.html#abf483864020467abffe1bdf748f6a571">DisposeProfiler</a>();</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;  }</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;}</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160; </div>
<div class="line"><a name="l02911"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a29a875b58e4a004c0e83dcca3e7bc245"> 2911</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a29a875b58e4a004c0e83dcca3e7bc245">Shell::ProfilerTriggerSample</a>(</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  <a class="code" href="classv8_1_1D8Console.html">D8Console</a>* console =</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1D8Console.html">D8Console</a>*<span class="keyword">&gt;</span>(i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a882f723633515de4bfb4ce6e620c7971">console_delegate</a>());</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="keywordflow">if</span> (console &amp;&amp; console-&gt;<a class="code" href="classv8_1_1D8Console.html#a60485833290fd48667ae3206ea988086">profiler</a>()) {</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    console-&gt;<a class="code" href="classv8_1_1D8Console.html#a60485833290fd48667ae3206ea988086">profiler</a>()-&gt;<a class="code" href="classv8_1_1CpuProfiler.html#a9a553b51c49a4160a93af536035c8e72">CollectSample</a>(isolate);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  }</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;}</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9af0acdf9d281cb0b4f988d149fba66d"> 2922</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a9af0acdf9d281cb0b4f988d149fba66d">Shell::TriggerOnProfileEndListener</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> profile) {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(HasOnProfileEndListener(isolate));</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> argv[1] = {</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, profile.c_str()).ToLocalChecked()};</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  {</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;profiler_end_callback_lock_);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keyword">auto</span>&amp; callback_pair = profiler_end_callback_[isolate];</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    callback = callback_pair.first.Get(isolate);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    context = callback_pair.second.Get(isolate);</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;  }</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(callback-&gt;Call(context, <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(isolate), 1, argv));</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;}</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160; </div>
<div class="line"><a name="l02939"></a><span class="lineno"><a class="line" href="namespacev8.html#a41014504eaed8d1447157e71667d08d5"> 2939</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8.html#a41014504eaed8d1447157e71667d08d5">WriteToFile</a>(FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                 <span class="keywordtype">int</span> first_arg_index = 0) {</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = first_arg_index; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html">i</a> != first_arg_index) {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      fprintf(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    }</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160; </div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <span class="comment">// Explicitly catch potential exceptions in toString().</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a> try_catch(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> arg = info[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> str_obj;</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160; </div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <span class="keywordflow">if</span> (arg-&gt;IsSymbol()) {</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;      arg = arg.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Symbol.html">Symbol</a>&gt;()-&gt;Description(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;    }</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;    <span class="keywordflow">if</span> (!arg-&gt;ToString(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>())</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;             .ToLocal(&amp;str_obj)) {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;      try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab2cbdeeea106bcda2026b980e94c29ba">ReThrow</a>();</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    }</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160; </div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> str(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), str_obj);</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    <span class="keywordtype">size_t</span> n = fwrite(*str, <span class="keyword">sizeof</span>(**str), str.<a class="code" href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">length</a>(), <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="keywordflow">if</span> (n != str.<a class="code" href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">length</a>()) {</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;      printf(<span class="stringliteral">&quot;Error in fwrite\n&quot;</span>);</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;      <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">base::OS::ExitProcess</a>(1);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    }</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  }</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;}</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160; </div>
<div class="line"><a name="l02970"></a><span class="lineno"><a class="line" href="namespacev8.html#ab73dc190ee98badd240190d177af3e6a"> 2970</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8.html#ab73dc190ee98badd240190d177af3e6a">WriteAndFlush</a>(FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>,</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                   <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <a class="code" href="namespacev8.html#a41014504eaed8d1447157e71667d08d5">WriteToFile</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, info);</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  fprintf(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;  fflush(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;}</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160; </div>
<div class="line"><a name="l02978"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af124155f18f8b443b4491d7572b3c7c0"> 2978</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af124155f18f8b443b4491d7572b3c7c0">Shell::Print</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <a class="code" href="namespacev8.html#ab73dc190ee98badd240190d177af3e6a">WriteAndFlush</a>(stdout, info);</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;}</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160; </div>
<div class="line"><a name="l02982"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af7d8d9ce55913f22c512c6d61e60ca53"> 2982</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af7d8d9ce55913f22c512c6d61e60ca53">Shell::PrintErr</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <a class="code" href="namespacev8.html#ab73dc190ee98badd240190d177af3e6a">WriteAndFlush</a>(stderr, info);</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;}</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160; </div>
<div class="line"><a name="l02986"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a04b449749ef6e5d30ebdc4ef96a2d268"> 2986</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a04b449749ef6e5d30ebdc4ef96a2d268">Shell::WriteStdout</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <a class="code" href="namespacev8.html#a41014504eaed8d1447157e71667d08d5">WriteToFile</a>(stdout, info);</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;}</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160; </div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="comment">// There are two overloads of writeFile().</span></div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;<span class="comment">// The first parameter is always the filename.</span></div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;<span class="comment">// If there are exactly 2 arguments, and the second argument is an ArrayBuffer</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;<span class="comment">// or an ArrayBufferView, write the binary contents into the file.</span></div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;<span class="comment">// Otherwise, convert arguments to UTF-8 strings, and write them to the file,</span></div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;<span class="comment">// separated by space.</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a8a6e11de72c88210672d0769a2772f65"> 2999</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a8a6e11de72c88210672d0769a2772f65">Shell::WriteFile</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> file_name(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  <span class="keywordflow">if</span> (*file_name == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Error converting filename to string&quot;</span>);</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  }</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 2 &amp;&amp;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;      (info[1]-&gt;IsArrayBuffer() || info[1]-&gt;IsArrayBufferView())) {</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = <a class="code" href="namespacev8_1_1base.html#a8a454cb5837a8dfd68f5d6eefb23c1ba">base::Fopen</a>(*file_name, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Error opening file&quot;</span>);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    }</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160; </div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <span class="keywordtype">void</span>* data;</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    <span class="keywordflow">if</span> (info[1]-&gt;IsArrayBuffer()) {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;v8::ArrayBuffer&gt;</a> buffer = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;v8::ArrayBuffer&gt;::Cast</a>(info[1]);</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = buffer-&gt;ByteLength();</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;      data = buffer-&gt;Data();</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;v8::ArrayBufferView&gt;</a> buffer_view =</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;          <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;v8::ArrayBufferView&gt;::Cast</a>(info[1]);</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = buffer_view-&gt;ByteLength();</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      data = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(buffer_view-&gt;Buffer()-&gt;Data()) +</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;             buffer_view-&gt;ByteOffset();</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;    }</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    fwrite(data, 1, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = <a class="code" href="namespacev8_1_1base.html#a8a454cb5837a8dfd68f5d6eefb23c1ba">base::Fopen</a>(*file_name, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Error opening file&quot;</span>);</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    }</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <a class="code" href="namespacev8.html#a41014504eaed8d1447157e71667d08d5">WriteToFile</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, info, 1);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;  }</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a5c78a9800cbcf09478d155ac69cdbd0f">base::Fclose</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;}</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160; </div>
<div class="line"><a name="l03040"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a30943200f392d5888d015752b89f30d6"> 3040</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">Shell::ReadFile</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> file_name(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;  <span class="keywordflow">if</span> (*file_name == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Error converting filename to string&quot;</span>);</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  }</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 2) {</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[1]);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;    <span class="keywordflow">if</span> (*<a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a> &amp;&amp; std::strcmp(*<a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, <span class="stringliteral">&quot;binary&quot;</span>) == 0) {</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      ReadBuffer(info);</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    }</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  }</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source;</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02torque-compiler_8cc_03.html#afd2d129330694bae7a20bb5265aa042a">ReadFile</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), *file_name).ToLocal(&amp;source)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(source);</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;}</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160; </div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;<span class="preprocessor">#if V8_TARGET_OS_LINUX &amp;&amp; V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a30929e3d1b0c4d6c21937a4e31ac1d9a">Shell::CreateWasmMemoryMapDescriptor</a>(</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> file_name(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;  <span class="keywordflow">if</span> (*file_name == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <span class="stringliteral">&quot;Error converting filename to string&quot;</span>);</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;  }</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160; </div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;  <span class="keywordtype">int</span> file_descriptor = open(*file_name, O_RDWR);</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160; </div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  <a class="code" href="classv8_1_1WasmMemoryMapDescriptor.html#a063f4d747215f425345cb62da59469bc">WasmMemoryMapDescriptor::WasmFileDescriptor</a> wasm_fd =</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1WasmMemoryMapDescriptor.html#a063f4d747215f425345cb62da59469bc">WasmMemoryMapDescriptor::WasmFileDescriptor</a><span class="keyword">&gt;</span>(file_descriptor);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;      <a class="code" href="classv8_1_1WasmMemoryMapDescriptor.html#ae548055222160db6caca90e809528e4b">v8::WasmMemoryMapDescriptor::New</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), wasm_fd));</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;}</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_TARGET_OS_LINUX</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160; </div>
<div class="line"><a name="l03079"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#afc4ac604ee375a1effbf9d8e55423db1"> 3079</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="classv8_1_1Shell.html#afc4ac604ee375a1effbf9d8e55423db1">Shell::ReadFromStdin</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02setup-builtins-internal_8cc_03.html#aaf91439cfd8e6acdbf165becfe9df8ff">kBufferSize</a> = 256;</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  <span class="keywordtype">char</span> buffer[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02setup-builtins-internal_8cc_03.html#aaf91439cfd8e6acdbf165becfe9df8ff">kBufferSize</a>];</div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> accumulator = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  <span class="comment">// Flush stdout before reading stdin, as stdout isn&#39;t guaranteed to be flushed</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  <span class="comment">// automatically.</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  fflush(stdout);</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="comment">// Continue reading if the line ends with an escape &#39;\\&#39; or the line has</span></div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="comment">// not been fully read into the buffer yet (does not end with &#39;\n&#39;).</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="comment">// If fgets gets an error, just give up.</span></div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keywordtype">char</span>* input = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    input = fgets(buffer, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02setup-builtins-internal_8cc_03.html#aaf91439cfd8e6acdbf165becfe9df8ff">kBufferSize</a>, stdin);</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="keywordflow">if</span> (input == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a>();</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(strlen(buffer));</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) {</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;      <span class="keywordflow">return</span> accumulator;</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buffer[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> - 1] != <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;      accumulator = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;          isolate, accumulator,</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, buffer, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;              .ToLocalChecked());</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; 1 &amp;&amp; buffer[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> - 2] == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;      buffer[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> - 2] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      accumulator =</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;          <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, accumulator,</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                         <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, buffer,</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;                                             <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> - 1)</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;                             .ToLocalChecked());</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;          isolate, accumulator,</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, buffer, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>,</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;                              <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> - 1)</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;              .ToLocalChecked());</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;    }</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;  }</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;}</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160; </div>
<div class="line"><a name="l03119"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad1b686b80504d92570f2dd37a8a4e147"> 3119</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ad1b686b80504d92570f2dd37a8a4e147">Shell::ExecuteFile</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> file_name(isolate, info[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">if</span> (*file_name == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;      std::ostringstream oss;</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;Cannot convert file[&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt;&lt; <span class="stringliteral">&quot;] name to string.&quot;</span>;</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;          isolate,</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, oss.str().c_str()).ToLocalChecked());</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;    }</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source;</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02torque-compiler_8cc_03.html#afd2d129330694bae7a20bb5265aa042a">ReadFile</a>(isolate, *file_name).ToLocal(&amp;source)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;    <span class="keywordflow">if</span> (!ExecuteString(</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;            info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), source,</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;            <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, *file_name).ToLocalChecked(),</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            options.quiet_load ? kNoReportExceptions : kReportExceptions)) {</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;      std::ostringstream oss;</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;Error executing file: \&quot;&quot;</span> &lt;&lt; *file_name &lt;&lt; <span class="charliteral">&#39;&quot;&#39;</span>;</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;          isolate,</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, oss.str().c_str()).ToLocalChecked());</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;    }</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;  }</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;}</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160; </div>
<div class="line"><a name="l03149"></a><span class="lineno"><a class="line" href="classv8_1_1SetTimeoutTask.html"> 3149</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1SetTimeoutTask.html">SetTimeoutTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1Task.html">v8::Task</a> {</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03151"></a><span class="lineno"><a class="line" href="classv8_1_1SetTimeoutTask.html#a15287cbb83a8381d2a347cb7d4591a4d"> 3151</a></span>&#160;  <a class="code" href="classv8_1_1SetTimeoutTask.html#a15287cbb83a8381d2a347cb7d4591a4d">SetTimeoutTask</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Context&gt;</a> context,</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                 <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Function&gt;</a> callback)</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;      : <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>(isolate),</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;        callback_(isolate, callback) {}</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160; </div>
<div class="line"><a name="l03157"></a><span class="lineno"><a class="line" href="classv8_1_1SetTimeoutTask.html#a937cfe26bd9f1f5f80cf8b105a06ad29"> 3157</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1SetTimeoutTask.html#a937cfe26bd9f1f5f80cf8b105a06ad29">Run</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = context_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback = callback_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        callback-&gt;Call(context, <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>), 0, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  }</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160; </div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l03168"></a><span class="lineno"><a class="line" href="classv8_1_1SetTimeoutTask.html#a069706f02b79ea650833530943f66f57"> 3168</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* <a class="code" href="classv8_1_1SetTimeoutTask.html#a069706f02b79ea650833530943f66f57">isolate_</a>;</div>
<div class="line"><a name="l03169"></a><span class="lineno"><a class="line" href="classv8_1_1SetTimeoutTask.html#a76a2615327788ff4f37f1bd691b27bda"> 3169</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Context&gt;</a> <a class="code" href="classv8_1_1SetTimeoutTask.html#a76a2615327788ff4f37f1bd691b27bda">context_</a>;</div>
<div class="line"><a name="l03170"></a><span class="lineno"><a class="line" href="classv8_1_1SetTimeoutTask.html#a0edbe864d3e85c621b443c88f40bed71"> 3170</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Function&gt;</a> <a class="code" href="classv8_1_1SetTimeoutTask.html#a0edbe864d3e85c621b443c88f40bed71">callback_</a>;</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;};</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160; </div>
<div class="line"><a name="l03173"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ac1c44a68b6da89b08c45931cbce46065"> 3173</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ac1c44a68b6da89b08c45931cbce46065">Shell::SetTimeout</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, 0));</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 0 || !info[0]-&gt;IsFunction()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback = info[0].As&lt;<a class="code" href="classv8_1_1Function.html">Function</a>&gt;();</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>-&gt;GetForegroundTaskRunner(isolate)-&gt;PostTask(</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;      std::make_unique&lt;SetTimeoutTask&gt;(isolate, context, callback));</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;}</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160; </div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_CONTINUATION_PRESERVED_EMBEDDER_DATA</span></div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;<span class="keywordtype">void</span> Shell::GetContinuationPreservedEmbedderData(</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Data&gt;</a> data =</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#ace5a7f4d4103bf636ce6ac7ce9c30851">GetContinuationPreservedEmbedderDataV2</a>();</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!data.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>());</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;  <span class="keywordflow">if</span> (!data-&gt;IsValue()) {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;    data = <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;  }</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!data.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>());</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Value&gt;::Cast</a>(data));</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;}</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_CONTINUATION_PRESERVED_EMBEDDER_DATA</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160; </div>
<div class="line"><a name="l03198"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af99e5294adc7bc2f9e4971f8baa6adbf"> 3198</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af99e5294adc7bc2f9e4971f8baa6adbf">Shell::GetExtrasBindingObject</a>(</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(context-&gt;<a class="code" href="classv8_1_1Context.html#aa26f7db81111d908492327a1e254b232">GetExtrasBindingObject</a>());</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;}</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160; </div>
<div class="line"><a name="l03204"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a2cea920708ce15cbc751f96042b9329f"> 3204</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a2cea920708ce15cbc751f96042b9329f">Shell::ReadCodeTypeAndArguments</a>(</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a08246b551b226ae924294d07485f4400">CodeType</a>* code_type, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>* arguments) {</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &amp;&amp; info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;IsObject()) {</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <span class="keywordtype">object</span> = info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].As&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">TryGetValue</a>(isolate, context, <span class="keywordtype">object</span>, <span class="stringliteral">&quot;type&quot;</span>).<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;      *code_type = CodeType::kNone;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;    }</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsString()) {</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;      *code_type = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03.html#afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91">CodeType::kInvalid</a>;</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    }</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> worker_type_string =</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;ToString(context).ToLocalChecked();</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> str(isolate, worker_type_string);</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;classic&quot;</span>, *str) == 0) {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      *code_type = CodeType::kFileName;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;string&quot;</span>, *str) == 0) {</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;      *code_type = CodeType::kString;</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(<span class="stringliteral">&quot;function&quot;</span>, *str) == 0) {</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;      *code_type = <a class="code" href="namespacev8_1_1internal_1_1torque_1_1ls.html#afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8">CodeType::kFunction</a>;</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      *code_type = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03.html#afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91">CodeType::kInvalid</a>;</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;    }</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="keywordflow">if</span> (arguments != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;      <span class="keywordtype">bool</span> got_arguments =</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;          <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">TryGetValue</a>(isolate, context, <span class="keywordtype">object</span>, <span class="stringliteral">&quot;arguments&quot;</span>).<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(arguments);</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(got_arguments);</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    }</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    *code_type = CodeType::kNone;</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  }</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;}</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160; </div>
<div class="line"><a name="l03242"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aa03b7ea05816a2de3501865bb51034be"> 3242</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#aa03b7ea05816a2de3501865bb51034be">Shell::FunctionAndArgumentsToString</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> <span class="keyword">function</span>,</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> arguments,</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;                                         <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a>* source,</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;                                         <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a> maybe_function_string =</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      <span class="keyword">function</span>-&gt;FunctionProtoToString(context);</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> function_string;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;  <span class="keywordflow">if</span> (!maybe_function_string.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;function_string)) {</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Failed to convert function to string&quot;</span>);</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;  }</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;  *source = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;(&quot;</span>);</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;  *source = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, *source, function_string);</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> middle = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;)(&quot;</span>);</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;  *source = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, *source, middle);</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  <span class="keywordflow">if</span> (!arguments.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>() &amp;&amp; !arguments-&gt;IsUndefined()) {</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <span class="keywordflow">if</span> (!arguments-&gt;IsArray()) {</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;&#39;arguments&#39; must be an array&quot;</span>);</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    }</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> comma = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> array = arguments.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Array.html">Array</a>&gt;();</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; array-&gt;Length(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html">i</a> &gt; 0) {</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;        *source = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, *source, comma);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;      }</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;      <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_argument = array-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> argument;</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;      <span class="keywordflow">if</span> (!maybe_argument.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;argument)) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Failed to get argument&quot;</span>);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;      }</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> argument_string;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1JSON.html#a2d760d688469ecf890cc9bf2d1b5b966">JSON::Stringify</a>(context, argument).ToLocal(&amp;argument_string)) {</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Failed to convert argument to string&quot;</span>);</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;      }</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;      *source = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, *source, argument_string);</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    }</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;  }</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> suffix = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;  *source = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, *source, suffix);</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;}</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160; </div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="comment">// ReadSource() supports reading source code through `info[index]` as specified</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;<span class="comment">// by the `default_type` or an optional options bag provided in `info[index+1]`</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;<span class="comment">// (e.g. `options={type: &#39;code_type&#39;, arguments:[...]}`).</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ade6a3f7fd06593b40ca2123b9560e069"> 3291</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a> <a class="code" href="classv8_1_1Shell.html#ade6a3f7fd06593b40ca2123b9560e069">Shell::ReadSource</a>(</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a08246b551b226ae924294d07485f4400">CodeType</a> default_type) {</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;  <a class="code" href="classv8_1_1Shell.html#a08246b551b226ae924294d07485f4400">CodeType</a> code_type;</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> arguments;</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;  ReadCodeTypeAndArguments(info, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> + 1, &amp;code_type, &amp;arguments);</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160; </div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source;</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  <span class="keywordflow">if</span> (code_type == CodeType::kNone) {</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    code_type = default_type;</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;  }</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;  <span class="keywordflow">switch</span> (code_type) {</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1torque_1_1ls.html#afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8">CodeType::kFunction</a>:</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <span class="keywordflow">if</span> (!info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;IsFunction()) {</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;      }</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;      <span class="comment">// Source: ( function_to_string )( params )</span></div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;      <span class="keywordflow">if</span> (!FunctionAndArgumentsToString(info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].As&lt;Function&gt;(), arguments,</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;                                        &amp;source, isolate)) {</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;      }</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <span class="keywordflow">case</span> CodeType::kFileName: {</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;      <span class="keywordflow">if</span> (!info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;IsString()) {</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;      }</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;      <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> filename(isolate, info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]);</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">Shell::ReadFile</a>(isolate, *filename).ToLocal(&amp;source)) {</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;      }</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    }</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;    <span class="keywordflow">case</span> CodeType::kString:</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;      <span class="keywordflow">if</span> (!info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>]-&gt;IsString()) {</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;      }</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;      source = info[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>].As&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;();</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="keywordflow">case</span> CodeType::kNone:</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03.html#afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91">CodeType::kInvalid</a>:</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;  }</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  <span class="keywordflow">return</span> source;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;}</div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160; </div>
<div class="line"><a name="l03337"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#afb82badf350d80fbf825cc5f5db85b17"> 3337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#afb82badf350d80fbf825cc5f5db85b17">Shell::WorkerNew</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1 || (!info[0]-&gt;IsString() &amp;&amp; !info[0]-&gt;IsFunction())) {</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;1st argument must be a string or a function&quot;</span>);</div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  }</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160; </div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source;</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <span class="keywordflow">if</span> (!ReadSource(info, 0, CodeType::kFileName).ToLocal(&amp;source)) {</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  }</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160; </div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Worker must be constructed with new&quot;</span>);</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;  }</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160; </div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  <span class="comment">// Initialize the embedder field to 0; if we return early without</span></div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;  <span class="comment">// creating a new Worker (because the main thread is terminating) we can</span></div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;  <span class="comment">// early-out from the instance calls.</span></div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()-&gt;<a class="code" href="classv8_1_1Object.html#ac58ef882458d9596ce2a596341d53323">SetInternalField</a>(0, <a class="code" href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a>(isolate, 0));</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160; </div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  <span class="comment">// By default, propagate flush denormals state.</span></div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;  <span class="keywordtype">bool</span> flush_denormals = <a class="code" href="classv8_1_1base_1_1FPU.html#a3ff62a501dd635fad8cf25c98bd304e3">base::FPU::GetFlushDenormals</a>();</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt; 1 &amp;&amp; info[1]-&gt;IsObject()) {</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">TryGetValue</a>(isolate, isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>(),</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;                     info[1].As&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;(), <span class="stringliteral">&quot;flushDenormals&quot;</span>)</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;             .<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    }</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;      flush_denormals = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;BooleanValue(isolate);</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;    }</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  }</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160; </div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  {</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="comment">// Don&#39;t allow workers to create more workers if the main thread</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <span class="comment">// is waiting for existing running workers to terminate.</span></div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ParkedMutexGuard.html">i::ParkedMutexGuard</a> lock_guard(</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)-&gt;main_thread_local_isolate(),</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        workers_mutex_.Pointer());</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;    <span class="keywordflow">if</span> (!allow_new_workers_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160; </div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>(isolate, source);</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    <span class="keywordflow">if</span> (!*<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>) {</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Can&#39;t get worker script&quot;</span>);</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    }</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160; </div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;    <span class="comment">// The C++ worker object&#39;s lifetime is shared between the Managed&lt;Worker&gt;</span></div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;    <span class="comment">// object on the heap, which the JavaScript object points to, and an</span></div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    <span class="comment">// internal std::shared_ptr in the worker thread itself.</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    <span class="keyword">auto</span> worker = std::make_shared&lt;Worker&gt;(isolate, *<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>, flush_denormals);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> kWorkerSizeEstimate = 4 * 1024 * 1024;  <span class="comment">// stack + heap.</span></div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> managed =</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">i::Managed&lt;Worker&gt;::From</a>(i_isolate, kWorkerSizeEstimate, worker);</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()-&gt;<a class="code" href="classv8_1_1Object.html#ac58ef882458d9596ce2a596341d53323">SetInternalField</a>(0, Utils::ToLocal(managed));</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;    <a class="code" href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5">base::Thread::Priority</a> priority =</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;        options.apply_priority ? <a class="code" href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5a495bb545d1c5053ead9743a8b7692209">base::Thread::Priority::kUserBlocking</a></div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                               : <a class="code" href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5a6867faeaa475fda467e48267db2bb8a8">base::Thread::Priority::kDefault</a>;</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#a96a1733c55125cbedf65f6eeffbd20d8">Worker::StartWorkerThread</a>(isolate, worker, priority)) {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Can&#39;t start thread&quot;</span>);</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    }</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a85becec8223e97d3593c30cef8682892">RegisterWorker</a>(worker);</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  }</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;}</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160; </div>
<div class="line"><a name="l03410"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a44a62fda0fd26f27b32987c851624c68"> 3410</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a44a62fda0fd26f27b32987c851624c68">Shell::WorkerPostMessage</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160; </div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1) {</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;  }</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160; </div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  std::shared_ptr&lt;Worker&gt; worker =</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(isolate, info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;  <span class="keywordflow">if</span> (!worker.get()) {</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  }</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160; </div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> message = info[0];</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> transfer =</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2 ? info[1] : <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(isolate).As&lt;<a class="code" href="classv8_1_1Value.html">Value</a>&gt;();</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  std::unique_ptr&lt;SerializationData&gt; data =</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad460c6d00a2acaa3d51a7a076ddd98d0">Shell::SerializeValue</a>(isolate, message, transfer);</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;  <span class="keywordflow">if</span> (data) {</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    worker-&gt;PostMessage(std::move(data));</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;  }</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;}</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160; </div>
<div class="line"><a name="l03436"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af8182ac67bc56ce92dc0825d897115df"> 3436</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af8182ac67bc56ce92dc0825d897115df">Shell::WorkerGetMessage</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  std::shared_ptr&lt;Worker&gt; worker =</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(isolate, info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="keywordflow">if</span> (!worker.get()) {</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  }</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160; </div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;  std::unique_ptr&lt;SerializationData&gt; data = worker-&gt;GetMessage(isolate);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="keywordflow">if</span> (data) {</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#a23e9db916ab7fb980709bee587d431bb">Shell::DeserializeValue</a>(isolate, std::move(data)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    }</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  }</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;}</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160; </div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;<span class="comment">// Task processing one onmessage event received from a Worker.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html"> 3456</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1OnMessageFromWorkerTask.html">OnMessageFromWorkerTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1Task.html">v8::Task</a> {</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03458"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html#a905cb32bd9ed4521db31f1b8267478f3"> 3458</a></span>&#160;  <a class="code" href="classv8_1_1OnMessageFromWorkerTask.html#a905cb32bd9ed4521db31f1b8267478f3">OnMessageFromWorkerTask</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Context&gt;</a> context,</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;                          <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> callback,</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;                          std::unique_ptr&lt;SerializationData&gt; data)</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;      : <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>(isolate),</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;        callback_(isolate, callback),</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;        data_(std::move(data)) {}</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160; </div>
<div class="line"><a name="l03466"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html#a71fa4aceca0628f32b50d8035716756c"> 3466</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1OnMessageFromWorkerTask.html#a71fa4aceca0628f32b50d8035716756c">Run</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = context_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <a class="code" href="classv8_1_1MicrotasksScope.html">MicrotasksScope</a> microtasks_scope(context,</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;                                     <a class="code" href="classv8_1_1MicrotasksScope.html#a826cf210978221741a0467cd9be6996fa3b5b353f412e54f021cfac950b787f34">MicrotasksScope::kDoNotRunMicrotasks</a>);</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160; </div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> global = context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>();</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160; </div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <span class="comment">// Get the message handler.</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> onmessage = callback_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <span class="keywordflow">if</span> (!onmessage-&gt;IsFunction()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> onmessage_fun = onmessage.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Function.html">Function</a>&gt;();</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160; </div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a> try_catch(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    try_catch.SetVerbose(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#a23e9db916ab7fb980709bee587d431bb">Shell::DeserializeValue</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, std::move(data_)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;      <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>());</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <span class="keyword">event</span> = <a class="code" href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">v8::Object::New</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;      <span class="keyword">event</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;          -&gt;CreateDataProperty(</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;              context,</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;              <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="stringliteral">&quot;data&quot;</span>,</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;                                         <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;          .ToChecked();</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> argv[] = {<span class="keyword">event</span>};</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;      <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = onmessage_fun-&gt;Call(context, global, 1, argv);</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    }</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  }</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160; </div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l03500"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html#aeb9170ba5a5efccb5334c52d6268efd5"> 3500</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* <a class="code" href="classv8_1_1OnMessageFromWorkerTask.html#aeb9170ba5a5efccb5334c52d6268efd5">isolate_</a>;</div>
<div class="line"><a name="l03501"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html#aba5e056a867e419fd140d3fb1e578663"> 3501</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Context&gt;</a> <a class="code" href="classv8_1_1OnMessageFromWorkerTask.html#aba5e056a867e419fd140d3fb1e578663">context_</a>;</div>
<div class="line"><a name="l03502"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html#a18a49125f6cd876b05af56f11d91b5d0"> 3502</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">v8::Global&lt;v8::Value&gt;</a> <a class="code" href="classv8_1_1OnMessageFromWorkerTask.html#a18a49125f6cd876b05af56f11d91b5d0">callback_</a>;</div>
<div class="line"><a name="l03503"></a><span class="lineno"><a class="line" href="classv8_1_1OnMessageFromWorkerTask.html#ac3b83f708ef4a23f5de2de6944a97a2a"> 3503</a></span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1OnMessageFromWorkerTask.html#ac3b83f708ef4a23f5de2de6944a97a2a">data_</a>;</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;};</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160; </div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;<span class="comment">// Check, on the main thread, whether a worker has any enqueued any message</span></div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;<span class="comment">// events. Workers post this task when posting a message, instead of posting</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;<span class="comment">// OnMessageFromWorkerTask directly, to avoid races between message posting</span></div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;<span class="comment">// and onmessage subscription.</span></div>
<div class="line"><a name="l03510"></a><span class="lineno"><a class="line" href="classv8_1_1CheckMessageFromWorkerTask.html"> 3510</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1CheckMessageFromWorkerTask.html">CheckMessageFromWorkerTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1Task.html">v8::Task</a> {</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03512"></a><span class="lineno"><a class="line" href="classv8_1_1CheckMessageFromWorkerTask.html#a52cf9e5e68c3f5927388f5f8c30a3419"> 3512</a></span>&#160;  <a class="code" href="classv8_1_1CheckMessageFromWorkerTask.html#a52cf9e5e68c3f5927388f5f8c30a3419">CheckMessageFromWorkerTask</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate,</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;                             std::shared_ptr&lt;Worker&gt; worker)</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;      : <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>(isolate), worker_(std::move(worker)) {}</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160; </div>
<div class="line"><a name="l03516"></a><span class="lineno"><a class="line" href="classv8_1_1CheckMessageFromWorkerTask.html#a21f0d77ebd6622a29b7318a70e494b36"> 3516</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1CheckMessageFromWorkerTask.html#a21f0d77ebd6622a29b7318a70e494b36">Run</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160; </div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="comment">// Get the callback for onmessage events from this worker. It&#39;s important to</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="comment">// do this here, and not in OnMessageFromWorkerTask, because we may get a</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="comment">// CleanUpWorkerTask scheduled before the posted OnMessageFromWorkerTask</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="comment">// executes, which will</span></div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <span class="keyword">auto</span> callback_pair =</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a1181202fed9d57f47b84969451fb2e04">GetWorkerOnMessage</a>(worker_);</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;    <span class="comment">// Bail out if there&#39;s no callback -- leave the message queue untouched so</span></div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <span class="comment">// that we don&#39;t lose the messages and can read them with GetMessage later.</span></div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    <span class="comment">// This is slightly different to browser behaviour, where events can be</span></div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    <span class="comment">// missed, but it&#39;s helpful for d8&#39;s GetMessage behaviour.</span></div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="keywordflow">if</span> (callback_pair.second.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160; </div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    std::unique_ptr&lt;SerializationData&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="keywordflow">while</span> ((<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = worker_-&gt;TryGetMessage())) {</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;      <span class="comment">// Each onmessage callback call is posted as a separate task.</span></div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>-&gt;GetForegroundTaskRunner(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>)-&gt;PostTask(</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;          std::make_unique&lt;OnMessageFromWorkerTask&gt;(</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;              <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, callback_pair.first, callback_pair.second,</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;              std::move(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    }</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  }</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160; </div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l03542"></a><span class="lineno"><a class="line" href="classv8_1_1CheckMessageFromWorkerTask.html#ab38cf7af287c61dc02af1534416aba57"> 3542</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* <a class="code" href="classv8_1_1CheckMessageFromWorkerTask.html#ab38cf7af287c61dc02af1534416aba57">isolate_</a>;</div>
<div class="line"><a name="l03543"></a><span class="lineno"><a class="line" href="classv8_1_1CheckMessageFromWorkerTask.html#afee6655c603fe2ec6fb5d2c65bf77007"> 3543</a></span>&#160;  std::shared_ptr&lt;Worker&gt; <a class="code" href="classv8_1_1CheckMessageFromWorkerTask.html#afee6655c603fe2ec6fb5d2c65bf77007">worker_</a>;</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;};</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;<span class="comment">// Unregister the given isolate from message events from the given worker.</span></div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;<span class="comment">// This must be done before the isolate or worker are destroyed, so that the</span></div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;<span class="comment">// global handles for context and callback are cleaned up correctly -- thus the</span></div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;<span class="comment">// event loop blocks until all workers are unregistered.</span></div>
<div class="line"><a name="l03550"></a><span class="lineno"><a class="line" href="classv8_1_1CleanUpWorkerTask.html"> 3550</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1CleanUpWorkerTask.html">CleanUpWorkerTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1Task.html">v8::Task</a> {</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l03552"></a><span class="lineno"><a class="line" href="classv8_1_1CleanUpWorkerTask.html#a31f13af51f4ff9e37d7945deaf0224ad"> 3552</a></span>&#160;  <a class="code" href="classv8_1_1CleanUpWorkerTask.html#a31f13af51f4ff9e37d7945deaf0224ad">CleanUpWorkerTask</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, std::shared_ptr&lt;Worker&gt; worker)</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      : <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>(isolate), worker_(std::move(worker)) {}</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160; </div>
<div class="line"><a name="l03555"></a><span class="lineno"><a class="line" href="classv8_1_1CleanUpWorkerTask.html#a0e649f2b15c10ad2c43e1163c78cc535"> 3555</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1CleanUpWorkerTask.html#a0e649f2b15c10ad2c43e1163c78cc535">Run</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a1551d74217cba1cfdb8c35d9892a361b">UnregisterWorker</a>(std::move(worker_));</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;  }</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160; </div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l03560"></a><span class="lineno"><a class="line" href="classv8_1_1CleanUpWorkerTask.html#a06900a155bad69816084ac1501a28bb5"> 3560</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* <a class="code" href="classv8_1_1CleanUpWorkerTask.html#a06900a155bad69816084ac1501a28bb5">isolate_</a>;</div>
<div class="line"><a name="l03561"></a><span class="lineno"><a class="line" href="classv8_1_1CleanUpWorkerTask.html#a24b04a2a8811b7015f234e4c44ab833c"> 3561</a></span>&#160;  std::shared_ptr&lt;Worker&gt; <a class="code" href="classv8_1_1CleanUpWorkerTask.html#a24b04a2a8811b7015f234e4c44ab833c">worker_</a>;</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;};</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a292c8030f246fce8511436db1843976f"> 3564</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a292c8030f246fce8511436db1843976f">Shell::WorkerOnMessageGetter</a>(</div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160; </div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;  std::shared_ptr&lt;Worker&gt; worker =</div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(isolate, info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  <span class="keywordflow">if</span> (!worker.get()) {</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;  }</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> callback =</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;      <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a1181202fed9d57f47b84969451fb2e04">GetWorkerOnMessage</a>(worker).second;</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160; </div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;  <span class="keywordflow">if</span> (!callback.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(callback);</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;  }</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;}</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160; </div>
<div class="line"><a name="l03583"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab287ce838bfa1502b11e146a31b328d4"> 3583</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ab287ce838bfa1502b11e146a31b328d4">Shell::WorkerOnMessageSetter</a>(</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160; </div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1) {</div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;  }</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160; </div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;  std::shared_ptr&lt;Worker&gt; worker =</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(isolate, info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;  <span class="keywordflow">if</span> (!worker.get()) {</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;  }</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160; </div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> callback = info[0];</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;  <span class="keywordflow">if</span> (!callback-&gt;IsFunction()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160; </div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a30dc5ae046f91b57ae02df20471af9e3">SubscribeWorkerOnMessage</a>(</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;      worker, isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>(), <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;::Cast</a>(callback));</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;}</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160; </div>
<div class="line"><a name="l03607"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a5a5d3600d2f91fd519c5fbed8671fc04"> 3607</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a5a5d3600d2f91fd519c5fbed8671fc04">Shell::WorkerTerminate</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;  std::shared_ptr&lt;Worker&gt; worker =</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(isolate, info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;  <span class="keywordflow">if</span> (!worker.get()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;  worker-&gt;Terminate();</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;}</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160; </div>
<div class="line"><a name="l03617"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a089e8d2813f8691cf5ea333259d74f9f"> 3617</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a089e8d2813f8691cf5ea333259d74f9f">Shell::WorkerTerminateAndWait</a>(</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  std::shared_ptr&lt;Worker&gt; worker =</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">GetWorkerFromInternalField</a>(isolate, info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;  <span class="keywordflow">if</span> (!worker.get()) {</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;  }</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160; </div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;  <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;      -&gt;main_thread_local_isolate()</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;      -&gt;ExecuteMainThreadWhileParked([worker](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) {</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;        worker-&gt;TerminateAndWaitForThread(parked);</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;      });</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;}</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160; </div>
<div class="line"><a name="l03635"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#abdc9c10bd825ae69f00105b8ee3a2206"> 3635</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#abdc9c10bd825ae69f00105b8ee3a2206">Shell::QuitOnce</a>(<a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>* info) {</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;  <span class="keywordtype">int</span> exit_code = (*info)[0]</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;                      -&gt;Int32Value(info-&gt;<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>())</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;                      .FromMaybe(0);</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info-&gt;<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  ResetOnProfileEndListener(isolate);</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160; </div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;  <span class="comment">// As we exit the process anyway, we do not dispose the platform and other</span></div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  <span class="comment">// global data and manually unlock to quell DCHECKs. Other isolates might</span></div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  <span class="comment">// still be running, so disposing here can cause them to crash.</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac78415b3291d2f8842ab1448b20a43f2">thread_manager</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ThreadManager.html#aa010051a059cfda7e45228fc28a3ff52">IsLockedByCurrentThread</a>()) {</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac78415b3291d2f8842ab1448b20a43f2">thread_manager</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ThreadManager.html#ab7d0f390011373f4b036548923add1bf">Unlock</a>();</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  }</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160; </div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <span class="comment">// When disposing the shared space isolate, the workers (client isolates) need</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  <span class="comment">// to be terminated first.</span></div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) {</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;    i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7d651964318bc41040dda0bc730388e5">main_thread_local_isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1LocalIsolate.html#a4e8b9316baf370fa64cdb548f3d58f6b">ExecuteMainThreadWhileParked</a>(</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;        [](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) { WaitForRunningWorkers(parked); });</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  }</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160; </div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;  <span class="comment">// Reset thread-locals here only after stopping workers. They are still used</span></div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <span class="comment">// e.g. during heap verification in shared GCs.</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a64a8503cafd00d1d2cadfbb0c2345054">Exit</a>();</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160; </div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  OnExit(isolate, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">base::OS::ExitProcess</a>(exit_code);</div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;}</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160; </div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160; </div>
<div class="line"><a name="l03667"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4855a1705b76d8ed81fecc3c8f501fe7"> 3667</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4855a1705b76d8ed81fecc3c8f501fe7">SkipTerminationForFuzzing</a>() {</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <span class="comment">// Triggering termination from JS can cause some non-determinism thus we</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <span class="comment">// skip it for correctness fuzzing.</span></div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;  <span class="comment">// Termination also currently breaks Fuzzilli&#39;s REPRL mechanism as the</span></div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="comment">// scheduled termination will prevent the next testcase sent by Fuzzilli from</span></div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;  <span class="comment">// being processed. This will in turn desynchronize the communication</span></div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;  <span class="comment">// between d8 and Fuzzilli, leading to a crash.</span></div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;}</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160; </div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160; </div>
<div class="line"><a name="l03681"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad732678fd6cda4b0afced800ec0f689c"> 3681</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ad732678fd6cda4b0afced800ec0f689c">Shell::TerminateNow</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4855a1705b76d8ed81fecc3c8f501fe7">SkipTerminationForFuzzing</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;  <span class="keyword">auto</span> v8_isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;  <span class="keywordflow">if</span> (!v8_isolate-&gt;IsExecutionTerminating()) {</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    <span class="comment">// Force a termination exception for immediate termination.</span></div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;    i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aa545c48eb0657135e0ae543d655f493c">TerminateExecution</a>();</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  }</div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;}</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160; </div>
<div class="line"><a name="l03692"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a1ed5bedafcf9d402413a75855f744876"> 3692</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a1ed5bedafcf9d402413a75855f744876">Shell::ScheduleTermination</a>(</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4855a1705b76d8ed81fecc3c8f501fe7">SkipTerminationForFuzzing</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <span class="keyword">auto</span> v8_isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="comment">// Schedule a termination request, handled by an interrupt later.</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="keywordflow">if</span> (!v8_isolate-&gt;IsExecutionTerminating()) v8_isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ad212b2e0b66ff5d586cd79cfa0b555fb">TerminateExecution</a>();</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;}</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160; </div>
<div class="line"><a name="l03701"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a86df8f9d2c160471580129708c5449a0"> 3701</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a86df8f9d2c160471580129708c5449a0">Shell::Quit</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a3bd25eac4abfeaa53389ab881003596d">base::CallOnce</a>(&amp;quit_once_, &amp;QuitOnce,</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;                 <span class="keyword">const_cast&lt;</span><a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>*<span class="keyword">&gt;</span>(&amp;info));</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;}</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160; </div>
<div class="line"><a name="l03707"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a8ce96d071721913ed8b19103f198a4e9"> 3707</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a8ce96d071721913ed8b19103f198a4e9">Shell::Version</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), <a class="code" href="classv8_1_1V8.html#a4dfaa8ece8141a26f7de6c6eec914720">V8::GetVersion</a>())</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;          .ToLocalChecked());</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;}</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43"> 3714</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">Shell::ReportException</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Message&gt;</a> message,</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;                            <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> exception_obj) {</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  <span class="keywordtype">bool</span> enter_context = context.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>();</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="keywordflow">if</span> (enter_context) {</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    context = <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Context&gt;::New</a>(isolate, evaluation_context_);</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    context-&gt;<a class="code" href="classv8_1_1Context.html#a6995c49d9897eb49053f07874b825133">Enter</a>();</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  }</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;  <span class="comment">// Converts a V8 value to a C string.</span></div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <span class="keyword">auto</span> ToCString = [](<span class="keyword">const</span> <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a>&amp; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> ? *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> : <span class="stringliteral">&quot;&lt;string conversion failed&gt;&quot;</span>;</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  };</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160; </div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> exception(isolate, exception_obj);</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* exception_string = ToCString(exception);</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <span class="keywordflow">if</span> (message.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="comment">// V8 didn&#39;t provide any extra information about this error; just</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="comment">// print the exception.</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, exception_string);</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (message-&gt;GetScriptOrigin().Options().IsWasm()) {</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <span class="comment">// Print wasm-function[(function index)]:(offset): (message).</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;    <span class="keywordtype">int</span> function_index = message-&gt;GetWasmFunctionIndex();</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    <span class="keywordtype">int</span> offset = message-&gt;GetStartColumn(context).FromJust();</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;    printf(<span class="stringliteral">&quot;wasm-function[%d]:0x%x: %s\n&quot;</span>, function_index, offset,</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;           exception_string);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;    <span class="comment">// Print (filename):(line number): (message).</span></div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> filename(isolate,</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;                                   message-&gt;GetScriptOrigin().ResourceName());</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* filename_string = ToCString(filename);</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;    <span class="keywordtype">int</span> linenum = message-&gt;GetLineNumber(context).FromMaybe(-1);</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;    printf(<span class="stringliteral">&quot;%s:%i: %s\n&quot;</span>, filename_string, linenum, exception_string);</div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> sourceline;</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordflow">if</span> (message-&gt;GetSourceLine(context).ToLocal(&amp;sourceline)) {</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;      <span class="comment">// Print line of source code.</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;      <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> sourcelinevalue(isolate, sourceline);</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* sourceline_string = ToCString(sourcelinevalue);</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;      printf(<span class="stringliteral">&quot;%s\n&quot;</span>, sourceline_string);</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;      <span class="comment">// Print wavy underline (GetUnderline is deprecated).</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;      <span class="keywordtype">int</span> start = message-&gt;GetStartColumn(context).FromJust();</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; start; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;        printf(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;      }</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = message-&gt;GetEndColumn(context).FromJust();</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = start; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;        printf(<span class="stringliteral">&quot;^&quot;</span>);</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;      }</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;      printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;    }</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;  }</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> stack_trace_string;</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1TryCatch.html#a5d80d54b34da0973f1acb30857add186">v8::TryCatch::StackTrace</a>(context, exception_obj)</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;          .ToLocal(&amp;stack_trace_string) &amp;&amp;</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;      stack_trace_string-&gt;IsString()) {</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> stack_trace(isolate, stack_trace_string.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;());</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, ToCString(stack_trace));</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  }</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  <span class="keywordflow">if</span> (enter_context) context-&gt;<a class="code" href="classv8_1_1Context.html#a2db09d4fefb26023a40d88972a4c1599">Exit</a>();</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;}</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160; </div>
<div class="line"><a name="l03776"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a85b42fbe5679eb86ff4da4600142ccb6"> 3776</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">Shell::ReportException</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate,</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a>&amp; try_catch) {</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) {</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;    printf(<span class="stringliteral">&quot;Got Execution Termination Exception\n&quot;</span>);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    ReportException(isolate, try_catch.<a class="code" href="classv8_1_1TryCatch.html#a05651b0b264e592de56f5e16bc80057f">Message</a>(), try_catch.<a class="code" href="classv8_1_1TryCatch.html#a5b86f4229e0725a3eacc69826da2e984">Exception</a>());</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;  }</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;}</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160; </div>
<div class="line"><a name="l03785"></a><span class="lineno"><a class="line" href="classv8_1_1Counter.html#abd9d75513302bcae5db283c564140b7f"> 3785</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Counter.html#abd9d75513302bcae5db283c564140b7f">Counter::Bind</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">bool</span> is_histogram) {</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#aa2d5f71adc225182f5266fb2e4db2251">base::OS::StrNCpy</a>(name_, kMaxNameSize, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, kMaxNameSize);</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;  <span class="comment">// Explicitly null-terminate, in case {name} is longer than {kMaxNameSize}.</span></div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  name_[kMaxNameSize - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;  is_histogram_ = is_histogram;</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;}</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160; </div>
<div class="line"><a name="l03792"></a><span class="lineno"><a class="line" href="classv8_1_1Counter.html#ae66b172d2409a791fdcb9836037b8a1b"> 3792</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Counter.html#ae66b172d2409a791fdcb9836037b8a1b">Counter::AddSample</a>(<span class="keywordtype">int</span> sample) {</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;  count_.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  sample_total_.fetch_add(sample, std::memory_order_relaxed);</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;}</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160; </div>
<div class="line"><a name="l03797"></a><span class="lineno"><a class="line" href="classv8_1_1CounterCollection.html#a4128a32c8d86237235ea2c7dde6a62f2"> 3797</a></span>&#160;<a class="code" href="classv8_1_1CounterCollection.html#a4128a32c8d86237235ea2c7dde6a62f2">CounterCollection::CounterCollection</a>() {</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  magic_number_ = 0xDEADFACE;</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  max_counters_ = kMaxCounters;</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  max_name_size_ = <a class="code" href="classv8_1_1Counter.html#a706545f71074bdbebc9def4f07c76c85">Counter::kMaxNameSize</a>;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  counters_in_use_ = 0;</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;}</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160; </div>
<div class="line"><a name="l03804"></a><span class="lineno"><a class="line" href="classv8_1_1CounterCollection.html#a8233c61ab7e4db3d340be7ab7c1bbc1c"> 3804</a></span>&#160;<a class="code" href="classv8_1_1Counter.html">Counter</a>* <a class="code" href="classv8_1_1CounterCollection.html#a8233c61ab7e4db3d340be7ab7c1bbc1c">CounterCollection::GetNextCounter</a>() {</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="keywordflow">if</span> (counters_in_use_ == kMaxCounters) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  <span class="keywordflow">return</span> &amp;counters_[counters_in_use_++];</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;}</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af8dc3050b831dab01d9532612f517a9c"> 3809</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#af8dc3050b831dab01d9532612f517a9c">Shell::MapCounters</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  counters_file_ = <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a3c10e7c6b424824c2c6cc8dc1dd65f68">base::OS::MemoryMappedFile::create</a>(</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1CounterCollection.html">CounterCollection</a>), &amp;local_counters_);</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="keywordtype">void</span>* memory =</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;      (counters_file_ == <span class="keyword">nullptr</span>) ? <span class="keyword">nullptr</span> : counters_file_-&gt;memory();</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;  <span class="keywordflow">if</span> (memory == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    printf(<span class="stringliteral">&quot;Could not map counters file %s\n&quot;</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">base::OS::ExitProcess</a>(1);</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;  }</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  counters_ = <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1CounterCollection.html">CounterCollection</a>*<span class="keyword">&gt;</span>(memory);</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ab59a904591d417ebb3889b5fa507447b">SetCounterFunction</a>(LookupCounter);</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#afd624c7e429a061c1cd9e5959ce6ebf0">SetCreateHistogramFunction</a>(CreateHistogram);</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ae5c813518efe1cfaccd0262ad6ed2f82">SetAddHistogramSampleFunction</a>(AddHistogramSample);</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;}</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160; </div>
<div class="line"><a name="l03824"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9a9a749cfd7970fd97ab86cc1423e6d1"> 3824</a></span>&#160;<a class="code" href="classv8_1_1Counter.html">Counter</a>* <a class="code" href="classv8_1_1Shell.html#a9a9a749cfd7970fd97ab86cc1423e6d1">Shell::GetCounter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">bool</span> is_histogram) {</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <a class="code" href="classv8_1_1Counter.html">Counter</a>* counter = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  {</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;counter_mutex_);</div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    <span class="keyword">auto</span> map_entry = <a class="code" href="namespaceanonymous__namespace_02mksnapshot_8cc_03.html#ac81897c4b659edda33911e6bd62829e9">counter_map_</a>-&gt;find(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;    <span class="keywordflow">if</span> (map_entry != <a class="code" href="namespaceanonymous__namespace_02mksnapshot_8cc_03.html#ac81897c4b659edda33911e6bd62829e9">counter_map_</a>-&gt;end()) {</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;      counter = map_entry-&gt;second;</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;    }</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;  }</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160; </div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="keywordflow">if</span> (counter == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;counter_mutex_);</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160; </div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    counter = (*counter_map_)[<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>];</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160; </div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    <span class="keywordflow">if</span> (counter == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      counter = counters_-&gt;GetNextCounter();</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;      <span class="keywordflow">if</span> (counter == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;        <span class="comment">// Too many counters.</span></div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;      }</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;      (*counter_map_)[<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>] = counter;</div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;      counter-&gt;<a class="code" href="classv8_1_1Counter.html#abd9d75513302bcae5db283c564140b7f">Bind</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, is_histogram);</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    }</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;  }</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160; </div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(is_histogram, counter-&gt;<a class="code" href="classv8_1_1Counter.html#a1cfe3bc3c4ebf9fed4a577246cf6cfcb">is_histogram</a>());</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <span class="keywordflow">return</span> counter;</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;}</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160; </div>
<div class="line"><a name="l03854"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab3c2e43e32a1543b0a78f728bb3df63a"> 3854</a></span>&#160;<span class="keywordtype">int</span>* <a class="code" href="classv8_1_1Shell.html#ab3c2e43e32a1543b0a78f728bb3df63a">Shell::LookupCounter</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <a class="code" href="classv8_1_1Counter.html">Counter</a>* counter = GetCounter(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="keywordflow">return</span> counter ? counter-&gt;<a class="code" href="classv8_1_1Counter.html#a7930c87bf88c19e8cf9afd763adb09ed">ptr</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;}</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160; </div>
<div class="line"><a name="l03859"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a59e39d63603b1766c86614c7a9db0545"> 3859</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="classv8_1_1Shell.html#a59e39d63603b1766c86614c7a9db0545">Shell::CreateHistogram</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> max,</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;                             <span class="keywordtype">size_t</span> buckets) {</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;  <span class="keywordflow">return</span> GetCounter(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;}</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160; </div>
<div class="line"><a name="l03864"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a0a1b3ff04a7253ba159519945ee7e2e8"> 3864</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a0a1b3ff04a7253ba159519945ee7e2e8">Shell::AddHistogramSample</a>(<span class="keywordtype">void</span>* histogram, <span class="keywordtype">int</span> sample) {</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <a class="code" href="classv8_1_1Counter.html">Counter</a>* counter = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Counter.html">Counter</a>*<span class="keyword">&gt;</span>(histogram);</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;  counter-&gt;<a class="code" href="classv8_1_1Counter.html#ae66b172d2409a791fdcb9836037b8a1b">AddSample</a>(sample);</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;}</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160; </div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;<span class="comment">// Turn a value into a human-readable string.</span></div>
<div class="line"><a name="l03870"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad311375692ab88b5c862374dad8563ec"> 3870</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="classv8_1_1Shell.html#ad311375692ab88b5c862374dad8563ec">Shell::Stringify</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Context&gt;</a> context =</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;      <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">v8::Local&lt;v8::Context&gt;::New</a>(isolate, evaluation_context_);</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <span class="keywordflow">if</span> (stringify_function_.IsEmpty()) {</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source =</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;        <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, stringify_source_).ToLocalChecked();</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;d8-stringify&quot;</span>);</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;    <a class="code" href="classv8_1_1ScriptOrigin.html">ScriptOrigin</a> origin(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a> =</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;        <a class="code" href="classv8_1_1Script.html#acf5759f7f53b2a0eb57e835b32108452">Script::Compile</a>(context, source, &amp;origin).ToLocalChecked();</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    stringify_function_.Reset(</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;        isolate, <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;Run(context).ToLocalChecked().As&lt;<a class="code" href="classv8_1_1Function.html">Function</a>&gt;());</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  }</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> fun = <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;Function&gt;::New</a>(isolate, stringify_function_);</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> argv[1] = {<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>};</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = fun-&gt;Call(context, <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(isolate), 1, argv);</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.IsEmpty()) <span class="keywordflow">return</span> <a class="code" href="classv8_1_1String.html#aa393d47baa54467fe57001065e49194b">String::Empty</a>(isolate);</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ToLocalChecked().As&lt;<a class="code" href="classv8_1_1String.html">String</a>&gt;();</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;}</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160; </div>
<div class="line"><a name="l03891"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a5a3d82ae4c6ec24feabf1baf8137d9bb"> 3891</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a5a3d82ae4c6ec24feabf1baf8137d9bb">Shell::NodeTypeCallback</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160; </div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, 1));</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;}</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160; </div>
<div class="line"><a name="l03898"></a><span class="lineno"><a class="line" href="namespacev8.html#ae01494a908e0f3df867de7e40593452f"> 3898</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452f">JSApiInstanceType</a> : <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> {</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa8f20532ac08b5e0dd0cae58258b5f238">kGenericApiObject</a> = 0,  <span class="comment">// FunctionTemplateInfo::kNoJSApiObjectType.</span></div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;  <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa512e0fe26faf1df69dddc9fe7832e35c">kEventTarget</a>,</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fabd4d2eef8f039ed1f560c869f6f9520e">kNode</a>,</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  kElement,</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa723400cf5787bdfccceeee5f9447e326">kHTMLElement</a>,</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;  <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa9c8c5408a8415d49d60b799fc9c5c14f">kHTMLDivElement</a>,</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;};</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160; </div>
<div class="line"><a name="l03907"></a><span class="lineno"><a class="line" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867"> 3907</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> <a class="code" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">NewDOMFunctionTemplate</a>(</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452f">JSApiInstanceType</a> instance_type) {</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      isolate, <span class="keyword">nullptr</span>, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(), <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a>(), 0,</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;      <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94">ConstructorBehavior::kAllow</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a><span class="keyword">&gt;</span>(instance_type));</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;}</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160; </div>
<div class="line"><a name="l03915"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a26309591def4c11d29fefe669658437c"> 3915</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#a26309591def4c11d29fefe669658437c">Shell::CreateEventTargetTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> event_target =</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      <a class="code" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">NewDOMFunctionTemplate</a>(isolate, <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa512e0fe26faf1df69dddc9fe7832e35c">JSApiInstanceType::kEventTarget</a>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  <span class="keywordflow">return</span> event_target;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;}</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160; </div>
<div class="line"><a name="l03921"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9e3c5a63dc6d60a94fab0c2e661fb505"> 3921</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#a9e3c5a63dc6d60a94fab0c2e661fb505">Shell::CreateNodeTemplates</a>(</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> event_target) {</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> node =</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;      <a class="code" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">NewDOMFunctionTemplate</a>(isolate, <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fabd4d2eef8f039ed1f560c869f6f9520e">JSApiInstanceType::kNode</a>);</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;  node-&gt;Inherit(event_target);</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160; </div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a539f5ea594b96d81200609a199570732">SetDomNodeCtor</a>(node);</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160; </div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> proto_template = node-&gt;PrototypeTemplate();</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a> signature = <a class="code" href="classv8_1_1Signature.html#abdc9d0abab0e564ed667045e13beeb3e">v8::Signature::New</a>(isolate, node);</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> nodeType = <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      isolate, NodeTypeCallback, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(), signature, 0,</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;      <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d">ConstructorBehavior::kThrow</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa8f20532ac08b5e0dd0cae58258b5f238">JSApiInstanceType::kGenericApiObject</a>),</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fae5e1b004e431a2d12e979918c7229483">JSApiInstanceType::kElement</a>),</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa9c8c5408a8415d49d60b799fc9c5c14f">JSApiInstanceType::kHTMLDivElement</a>));</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;  nodeType-&gt;SetAcceptAnyReceiver(<span class="keyword">false</span>);</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  proto_template-&gt;SetAccessorProperty(</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;nodeType&quot;</span>), nodeType);</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160; </div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> element =</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;      <a class="code" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">NewDOMFunctionTemplate</a>(isolate, <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fae5e1b004e431a2d12e979918c7229483">JSApiInstanceType::kElement</a>);</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  element-&gt;Inherit(node);</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160; </div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> html_element =</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;      <a class="code" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">NewDOMFunctionTemplate</a>(isolate, <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa723400cf5787bdfccceeee5f9447e326">JSApiInstanceType::kHTMLElement</a>);</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;  html_element-&gt;Inherit(element);</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160; </div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> div_element =</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;      <a class="code" href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">NewDOMFunctionTemplate</a>(isolate, <a class="code" href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa9c8c5408a8415d49d60b799fc9c5c14f">JSApiInstanceType::kHTMLDivElement</a>);</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  div_element-&gt;Inherit(html_element);</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160; </div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;  <span class="keywordflow">return</span> div_element;</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;}</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160; </div>
<div class="line"><a name="l03957"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ae940ff9cde3abf34c36a0bee4ed3f490"> 3957</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#ae940ff9cde3abf34c36a0bee4ed3f490">Shell::CreateGlobalTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> global_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;  global_template-&gt;Set(<a class="code" href="classv8_1_1Symbol.html#ab595ae7100ce23e4b1677ecab02f5972">Symbol::GetToStringTag</a>(isolate),</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;                       <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;global&quot;</span>));</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;version&quot;</span>,</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, Version));</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160; </div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;print&quot;</span>, <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">Print</a>));</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;printErr&quot;</span>,</div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, PrintErr));</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;write&quot;</span>,</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WriteStdout));</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzing) {</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    global_template-&gt;Set(isolate, <span class="stringliteral">&quot;writeFile&quot;</span>,</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;                         <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WriteFile));</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;  }</div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;read&quot;</span>,</div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02torque-compiler_8cc_03.html#afd2d129330694bae7a20bb5265aa042a">ReadFile</a>));</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;readbuffer&quot;</span>,</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, ReadBuffer));</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;readline&quot;</span>,</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#a3483f39c23e0616216bebaf3f205b6ad">ReadLine</a>));</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;load&quot;</span>,</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, ExecuteFile));</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;setTimeout&quot;</span>,</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, SetTimeout));</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;  <span class="comment">// Some Emscripten-generated code tries to call &#39;quit&#39;, which in turn would</span></div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;  <span class="comment">// call C&#39;s exit(). This would lead to memory leaks, because there is no way</span></div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;  <span class="comment">// we can terminate cleanly then, so we need a way to hide &#39;quit&#39;.</span></div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;  <span class="keywordflow">if</span> (!options.omit_quit) {</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    global_template-&gt;Set(isolate, <span class="stringliteral">&quot;quit&quot;</span>, <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, Quit));</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;  }</div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;Realm&quot;</span>, <a class="code" href="classv8_1_1Shell.html#a40aa54738308b38b7c69cf9a88bd229f">Shell::CreateRealmTemplate</a>(isolate));</div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;performance&quot;</span>,</div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;                       <a class="code" href="classv8_1_1Shell.html#a142c77e5c532f48cb96acb8b5ca67a81">Shell::CreatePerformanceTemplate</a>(isolate));</div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;Worker&quot;</span>, <a class="code" href="classv8_1_1Shell.html#aaa5ac756ea3f5e2cebf07a346ced2499">Shell::CreateWorkerTemplate</a>(isolate));</div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160; </div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;  <span class="comment">// Prevent fuzzers from creating side effects.</span></div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzing) {</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;    global_template-&gt;Set(isolate, <span class="stringliteral">&quot;os&quot;</span>, <a class="code" href="classv8_1_1Shell.html#a9629a1cf547716b1b801b7f94931bc7e">Shell::CreateOSTemplate</a>(isolate));</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;  }</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;  global_template-&gt;Set(isolate, <span class="stringliteral">&quot;d8&quot;</span>, <a class="code" href="classv8_1_1Shell.html#a28904100c6e68c0787a544080077773e">Shell::CreateD8Template</a>(isolate));</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160; </div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.expose_async_hooks) {</div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    global_template-&gt;Set(isolate, <span class="stringliteral">&quot;async_hooks&quot;</span>,</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;                         <a class="code" href="classv8_1_1Shell.html#ab1e2fd5d866e652201f095acb63c34f9">Shell::CreateAsyncHookTemplate</a>(isolate));</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;  }</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160; </div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  <span class="keywordflow">return</span> global_template;</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;}</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160; </div>
<div class="line"><a name="l04008"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9629a1cf547716b1b801b7f94931bc7e"> 4008</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#a9629a1cf547716b1b801b7f94931bc7e">Shell::CreateOSTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> os_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;  AddOSMethods(isolate, os_template);</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;  os_template-&gt;Set(isolate, <span class="stringliteral">&quot;name&quot;</span>,</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;                   <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(isolate, <a class="code" href="v8config_8h.html#aad8af182592e00346da2d251123e7ac1">V8_TARGET_OS_STRING</a>),</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;                   <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">PropertyAttribute::ReadOnly</a>);</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  os_template-&gt;Set(</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;      isolate, <span class="stringliteral">&quot;d8Path&quot;</span>,</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, options.d8_path).ToLocalChecked(),</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;      <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">PropertyAttribute::ReadOnly</a>);</div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;  <span class="keywordflow">return</span> os_template;</div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;}</div>
<div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160; </div>
<div class="line"><a name="l04021"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aaa5ac756ea3f5e2cebf07a346ced2499"> 4021</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#aaa5ac756ea3f5e2cebf07a346ced2499">Shell::CreateWorkerTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> worker_fun_template =</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerNew);</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a> worker_signature =</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;      <a class="code" href="classv8_1_1Signature.html#abdc9d0abab0e564ed667045e13beeb3e">Signature::New</a>(isolate, worker_fun_template);</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  worker_fun_template-&gt;SetClassName(</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;Worker&quot;</span>));</div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  worker_fun_template-&gt;ReadOnlyPrototype();</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;  worker_fun_template-&gt;PrototypeTemplate()-&gt;Set(</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;      isolate, <span class="stringliteral">&quot;terminate&quot;</span>,</div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerTerminate, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;                            worker_signature));</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;  worker_fun_template-&gt;PrototypeTemplate()-&gt;Set(</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      isolate, <span class="stringliteral">&quot;terminateAndWait&quot;</span>,</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerTerminateAndWait, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;                            worker_signature));</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;  worker_fun_template-&gt;PrototypeTemplate()-&gt;Set(</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;      isolate, <span class="stringliteral">&quot;postMessage&quot;</span>,</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerPostMessage, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;                            worker_signature));</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;  worker_fun_template-&gt;PrototypeTemplate()-&gt;Set(</div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;      isolate, <span class="stringliteral">&quot;getMessage&quot;</span>,</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerGetMessage, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;                            worker_signature));</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;  worker_fun_template-&gt;PrototypeTemplate()-&gt;SetAccessorProperty(</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, <span class="stringliteral">&quot;onmessage&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>)</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;          .ToLocalChecked(),</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerOnMessageGetter, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;                            worker_signature),</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, WorkerOnMessageSetter, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;                            worker_signature));</div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  worker_fun_template-&gt;InstanceTemplate()-&gt;SetInternalFieldCount(1);</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;  <span class="keywordflow">return</span> worker_fun_template;</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;}</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160; </div>
<div class="line"><a name="l04056"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab1e2fd5d866e652201f095acb63c34f9"> 4056</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#ab1e2fd5d866e652201f095acb63c34f9">Shell::CreateAsyncHookTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> async_hooks_templ = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  async_hooks_templ-&gt;Set(isolate, <span class="stringliteral">&quot;createHook&quot;</span>,</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;                         <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, AsyncHooksCreateHook));</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;  async_hooks_templ-&gt;Set(</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;      isolate, <span class="stringliteral">&quot;executionAsyncId&quot;</span>,</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, AsyncHooksExecutionAsyncId));</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;  async_hooks_templ-&gt;Set(</div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;      isolate, <span class="stringliteral">&quot;triggerAsyncId&quot;</span>,</div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, AsyncHooksTriggerAsyncId));</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;  <span class="keywordflow">return</span> async_hooks_templ;</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;}</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160; </div>
<div class="line"><a name="l04069"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a142c77e5c532f48cb96acb8b5ca67a81"> 4069</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#a142c77e5c532f48cb96acb8b5ca67a81">Shell::CreatePerformanceTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> performance_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;  performance_template-&gt;Set(isolate, <span class="stringliteral">&quot;now&quot;</span>,</div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;                            <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, PerformanceNow));</div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  performance_template-&gt;Set(isolate, <span class="stringliteral">&quot;mark&quot;</span>,</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;                            <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, PerformanceMark));</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;  performance_template-&gt;Set(isolate, <span class="stringliteral">&quot;measure&quot;</span>,</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;                            <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, PerformanceMeasure));</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  performance_template-&gt;Set(</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;      isolate, <span class="stringliteral">&quot;measureMemory&quot;</span>,</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, PerformanceMeasureMemory));</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;  <span class="keywordflow">return</span> performance_template;</div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;}</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160; </div>
<div class="line"><a name="l04083"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a40aa54738308b38b7c69cf9a88bd229f"> 4083</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#a40aa54738308b38b7c69cf9a88bd229f">Shell::CreateRealmTemplate</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> realm_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;current&quot;</span>,</div>
<div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmCurrent));</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;owner&quot;</span>,</div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmOwner));</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;global&quot;</span>,</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmGlobal));</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;create&quot;</span>,</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmCreate));</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;  realm_template-&gt;Set(</div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;      isolate, <span class="stringliteral">&quot;createAllowCrossRealmAccess&quot;</span>,</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmCreateAllowCrossRealmAccess));</div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;navigate&quot;</span>,</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmNavigate));</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;detachGlobal&quot;</span>,</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmDetachGlobal));</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;dispose&quot;</span>,</div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmDispose));</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;switch&quot;</span>,</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmSwitch));</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;  realm_template-&gt;Set(isolate, <span class="stringliteral">&quot;eval&quot;</span>,</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, RealmEval));</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;  realm_template-&gt;SetNativeDataProperty(</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;shared&quot;</span>), RealmSharedGet,</div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;      RealmSharedSet);</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;  <span class="keywordflow">return</span> realm_template;</div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;}</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160; </div>
<div class="line"><a name="l04112"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a28904100c6e68c0787a544080077773e"> 4112</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> <a class="code" href="classv8_1_1Shell.html#a28904100c6e68c0787a544080077773e">Shell::CreateD8Template</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> d8_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;  {</div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> file_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    file_template-&gt;Set(isolate, <span class="stringliteral">&quot;read&quot;</span>,</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">Shell::ReadFile</a>));</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    file_template-&gt;Set(isolate, <span class="stringliteral">&quot;execute&quot;</span>,</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#ad1b686b80504d92570f2dd37a8a4e147">Shell::ExecuteFile</a>));</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;<span class="preprocessor">#if V8_TARGET_OS_LINUX &amp;&amp; V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control) {</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;      file_template-&gt;Set(</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;          isolate, <span class="stringliteral">&quot;create_wasm_memory_map_descriptor&quot;</span>,</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;          <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a30929e3d1b0c4d6c21937a4e31ac1d9a">Shell::CreateWasmMemoryMapDescriptor</a>));</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;    }</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;file&quot;</span>, file_template);</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;  }</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;  {</div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> log_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;    log_template-&gt;Set(isolate, <span class="stringliteral">&quot;getAndStop&quot;</span>,</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;                      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, LogGetAndStop));</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160; </div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;log&quot;</span>, log_template);</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;  }</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;  {</div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> dom_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> event_target =</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;        <a class="code" href="classv8_1_1Shell.html#a26309591def4c11d29fefe669658437c">Shell::CreateEventTargetTemplate</a>(isolate);</div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;    dom_template-&gt;Set(isolate, <span class="stringliteral">&quot;EventTarget&quot;</span>, event_target);</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    dom_template-&gt;Set(isolate, <span class="stringliteral">&quot;Div&quot;</span>,</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;                      <a class="code" href="classv8_1_1Shell.html#a9e3c5a63dc6d60a94fab0c2e661fb505">Shell::CreateNodeTemplates</a>(isolate, event_target));</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;dom&quot;</span>, dom_template);</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;  }</div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;  {</div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> test_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    <span class="comment">// For different runs of correctness fuzzing the bytecode of a function</span></div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    <span class="comment">// might get flushed, resulting in spurious errors.</span></div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;      test_template-&gt;Set(</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;          isolate, <span class="stringliteral">&quot;verifySourcePositions&quot;</span>,</div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;          <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, TestVerifySourcePositions));</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    }</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;    <span class="comment">// Correctness fuzzing will attempt to compare results of tests with and</span></div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <span class="comment">// without turbo_fast_api_calls, so we don&#39;t expose the fast_c_api</span></div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;    <span class="comment">// constructor when --correctness_fuzzer_suppressions is on.</span></div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;    <span class="keywordflow">if</span> (options.expose_fast_api &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.turbo_fast_api_calls &amp;&amp;</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;      test_template-&gt;Set(isolate, <span class="stringliteral">&quot;FastCAPI&quot;</span>,</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                         <a class="code" href="classv8_1_1Shell.html#adbab8878bb9cb0aa2bdbb992de15c4fd">Shell::CreateTestFastCApiTemplate</a>(isolate));</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;      test_template-&gt;Set(isolate, <span class="stringliteral">&quot;LeafInterfaceType&quot;</span>,</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;                         <a class="code" href="classv8_1_1Shell.html#a238a726c9f08e869bab11bfad34c49bf">Shell::CreateLeafInterfaceTypeTemplate</a>(isolate));</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    }</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;    <span class="comment">// Allows testing code paths that are triggered when Origin Trials are</span></div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    <span class="comment">// added in the browser.</span></div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    test_template-&gt;Set(</div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;        isolate, <span class="stringliteral">&quot;installConditionalFeatures&quot;</span>,</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a01c8c2af72b732665066b27f1bc47ea2">Shell::InstallConditionalFeatures</a>));</div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160; </div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    <span class="comment">// Enable JavaScript Promise Integration at runtime, to simulate</span></div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;    <span class="comment">// Origin Trial behavior.</span></div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;    test_template-&gt;Set(isolate, <span class="stringliteral">&quot;enableJSPI&quot;</span>,</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;                       <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#ac14c26f879d3fb33e437bca7038ccb3e">Shell::EnableJSPI</a>));</div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160; </div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    test_template-&gt;Set(</div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;        isolate, <span class="stringliteral">&quot;setFlushDenormals&quot;</span>,</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a3d4bdbb3c132d23a9faeff96c9b6b687">Shell::SetFlushDenormals</a>));</div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160; </div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;test&quot;</span>, test_template);</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  }</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;  {</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> promise_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;    promise_template-&gt;Set(</div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;        isolate, <span class="stringliteral">&quot;setHooks&quot;</span>,</div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, SetPromiseHooks, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;                              <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a>(), 4));</div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;promise&quot;</span>, promise_template);</div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;  }</div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;  {</div>
<div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> debugger_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    debugger_template-&gt;Set(</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;        isolate, <span class="stringliteral">&quot;enable&quot;</span>,</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, EnableDebugger, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;                              <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a>(), 0));</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    debugger_template-&gt;Set(</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;        isolate, <span class="stringliteral">&quot;disable&quot;</span>,</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, DisableDebugger, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;                              <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a>(), 0));</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;debugger&quot;</span>, debugger_template);</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;  }</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;  {</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> serializer_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    serializer_template-&gt;Set(</div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;        isolate, <span class="stringliteral">&quot;serialize&quot;</span>,</div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, SerializerSerialize));</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;    serializer_template-&gt;Set(</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;        isolate, <span class="stringliteral">&quot;deserialize&quot;</span>,</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, SerializerDeserialize, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>(),</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;                              <a class="code" href="classv8_1_1Local.html">Local&lt;Signature&gt;</a>(), 1));</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;serializer&quot;</span>, serializer_template);</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;  }</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;  {</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> profiler_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;    profiler_template-&gt;Set(</div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;        isolate, <span class="stringliteral">&quot;setOnProfileEndListener&quot;</span>,</div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, ProfilerSetOnProfileEndListener));</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    profiler_template-&gt;Set(</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;        isolate, <span class="stringliteral">&quot;triggerSample&quot;</span>,</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, ProfilerTriggerSample));</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;profiler&quot;</span>, profiler_template);</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;  }</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;  {</div>
<div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> constants_template = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;      <span class="comment">// Don&#39;t expose these constants in differential-fuzzing builds as they</span></div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;      <span class="comment">// differ with lower-limits mode.</span></div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;      constants_template-&gt;Set(</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;maxFixedArrayCapacity&quot;</span>,</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;                                     <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;          <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">Number::New</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#af9d618655c2d99f3399f146387fd1586">i::kMaxFixedArrayCapacity</a>));</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;      constants_template-&gt;Set(</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;          <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;maxFastArrayLength&quot;</span>,</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;                                     <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;          <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">Number::New</a>(isolate, <a class="code" href="classv8_1_1internal_1_1JSArray.html#af2654f0d32f5e5d3aa74a174f590a9ce">i::JSArray::kMaxFastArrayLength</a>));</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    }</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;constants&quot;</span>, constants_template);</div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;  }</div>
<div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_CONTINUATION_PRESERVED_EMBEDDER_DATA</span></div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;  d8_template-&gt;Set(</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;      isolate, <span class="stringliteral">&quot;getContinuationPreservedEmbedderDataViaAPIForTesting&quot;</span>,</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, GetContinuationPreservedEmbedderData));</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_CONTINUATION_PRESERVED_EMBEDDER_DATA</span></div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;terminateNow&quot;</span>,</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;                   <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, TerminateNow));</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;  d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;terminate&quot;</span>,</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;                   <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, ScheduleTermination));</div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;  d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;getExtrasBindingObject&quot;</span>,</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;                   <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, GetExtrasBindingObject));</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;  <span class="keywordflow">if</span> (!options.omit_quit) {</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;    d8_template-&gt;Set(isolate, <span class="stringliteral">&quot;quit&quot;</span>, <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, Quit));</div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  }</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;  <span class="keywordflow">return</span> d8_template;</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;}</div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160; </div>
<div class="line"><a name="l04255"></a><span class="lineno"><a class="line" href="namespacev8.html#a6dde848dc347e67e7ace972f36c13d87"> 4255</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8.html#a6dde848dc347e67e7ace972f36c13d87">PrintMessageCallback</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Message&gt;</a> message, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> error) {</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keywordflow">switch</span> (message-&gt;ErrorLevel()) {</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3ddab954b1b5390d996328add7bc1521af6b">v8::Isolate::kMessageWarning</a>:</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda212c2fd735c3e517e56c7cc39efad2be">v8::Isolate::kMessageLog</a>:</div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda03727ef6f9ae3fd2c4b8dcfff05ec2a6">v8::Isolate::kMessageInfo</a>:</div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda6e0ed3c5047d7dba0f0a7889a74569e9">v8::Isolate::kMessageDebug</a>: {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    }</div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160; </div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda8327df155e4de05f54ae63a56e529e1b">v8::Isolate::kMessageError</a>: {</div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;      <a class="code" href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">Shell::ReportException</a>(isolate, message, error);</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;    }</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160; </div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;    }</div>
<div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;  }</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;  <span class="comment">// Converts a V8 value to a C string.</span></div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <span class="keyword">auto</span> ToCString = [](<span class="keyword">const</span> <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a>&amp; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    <span class="keywordflow">return</span> *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> ? *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> : <span class="stringliteral">&quot;&lt;string conversion failed&gt;&quot;</span>;</div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;  };</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> msg(isolate, message-&gt;Get());</div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* msg_string = ToCString(msg);</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <span class="comment">// Print (filename):(line number): (message).</span></div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> filename(isolate,</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;                                 message-&gt;GetScriptOrigin().ResourceName());</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* filename_string = ToCString(filename);</div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;int&gt;</a> maybeline = message-&gt;GetLineNumber(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>());</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;  <span class="keywordtype">int</span> linenum = maybeline.<a class="code" href="classv8_1_1Maybe.html#ad2eaaef8cd0988f1fc95f2a71c1888c5">IsJust</a>() ? maybeline.<a class="code" href="classv8_1_1Maybe.html#a6778de7b38b00e4bfff77d3dbc566f1c">FromJust</a>() : -1;</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;  printf(<span class="stringliteral">&quot;%s:%i: %s\n&quot;</span>, filename_string, linenum, msg_string);</div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;}</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160; </div>
<div class="line"><a name="l04289"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#abcaa88b75e84e38f76419e6f698a89ae"> 4289</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#abcaa88b75e84e38f76419e6f698a89ae">Shell::PromiseRejectCallback</a>(<a class="code" href="classv8_1_1PromiseRejectMessage.html">v8::PromiseRejectMessage</a> data) {</div>
<div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;  <span class="keywordflow">if</span> (options.ignore_unhandled_promises) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;  <span class="keywordflow">if</span> (data.<a class="code" href="classv8_1_1PromiseRejectMessage.html#a6faaa07f9bb78ee482b84ef7553c3245">GetEvent</a>() == <a class="code" href="namespacev8.html#a307b3674d4966684f8170a4fbd932eafa9f3a022284c493477fb978bb7bd69e17">v8::kPromiseRejectAfterResolved</a> ||</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;      data.<a class="code" href="classv8_1_1PromiseRejectMessage.html#a6faaa07f9bb78ee482b84ef7553c3245">GetEvent</a>() == <a class="code" href="namespacev8.html#a307b3674d4966684f8170a4fbd932eafaa86f8bca82fa1105623342815112ccb0">v8::kPromiseResolveAfterResolved</a>) {</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;    <span class="comment">// Ignore reject/resolve after resolved.</span></div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;  }</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Promise&gt;</a> promise = data.<a class="code" href="classv8_1_1PromiseRejectMessage.html#a0108777e5f0a08fd0b260464de1624f6">GetPromise</a>();</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">v8::Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* isolate_data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160; </div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;  <span class="keywordflow">if</span> (data.<a class="code" href="classv8_1_1PromiseRejectMessage.html#a6faaa07f9bb78ee482b84ef7553c3245">GetEvent</a>() == <a class="code" href="namespacev8.html#a307b3674d4966684f8170a4fbd932eafa2476035af9faba8f74f74be70cf8152b">v8::kPromiseHandlerAddedAfterReject</a>) {</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;    isolate_data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a62b53027292fe134c75ee7c0280b7b30">RemoveUnhandledPromise</a>(promise);</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;  }</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160; </div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;  <span class="keywordtype">bool</span> capture_exceptions =</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac6110f3a8b82649eba191bd6f21804cd">get_capture_stack_trace_for_uncaught_exceptions</a>();</div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a0ea70b9953abf15184a20eba6aab389f">SetCaptureStackTraceForUncaughtExceptions</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;Value&gt;</a> exception = data.<a class="code" href="classv8_1_1PromiseRejectMessage.html#ad8eb9c951a027df6568bebb1c4767d2b">GetValue</a>();</div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;Message&gt;</a> message;</div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;  <span class="comment">// Assume that all objects are stack-traces.</span></div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;  <span class="keywordflow">if</span> (exception-&gt;IsObject()) {</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;    message = <a class="code" href="classv8_1_1Exception.html#a05bdd41395488f34482eadaafc70b6cb">v8::Exception::CreateMessage</a>(isolate, exception);</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;  }</div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;  <span class="keywordflow">if</span> (!exception-&gt;IsNativeError() &amp;&amp;</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;      (message.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>() || message-&gt;GetStackTrace().IsEmpty())) {</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    <span class="comment">// If there is no real Error object, manually create a stack trace.</span></div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;    exception = <a class="code" href="classv8_1_1Exception.html#a67c28710ee5681066d04cfcd21544827">v8::Exception::Error</a>(</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;        <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;Unhandled Promise.&quot;</span>));</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;    message = <a class="code" href="classv8_1_1Exception.html#a05bdd41395488f34482eadaafc70b6cb">Exception::CreateMessage</a>(isolate, exception);</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;  }</div>
<div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a0ea70b9953abf15184a20eba6aab389f">SetCaptureStackTraceForUncaughtExceptions</a>(capture_exceptions);</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160; </div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  isolate_data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#aaf40f574119f428e50bb2d032ab9a23d">AddUnhandledPromise</a>(promise, message, exception);</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;}</div>
<div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160; </div>
<div class="line"><a name="l04327"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#acee16f3ab0828ed804bbd884a8ca984e"> 4327</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#acee16f3ab0828ed804bbd884a8ca984e">Shell::Initialize</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1D8Console.html">D8Console</a>* console,</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;                       <span class="keywordtype">bool</span> isOnMainThread) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a702f0ba4e5dee8a98aeb92239d58784e">SetPromiseRejectCallback</a>(<a class="code" href="namespacev8.html#abebb1406ab5c4a24110273e06e8fa9be">PromiseRejectCallback</a>);</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ab4dfc8c57169d36cc4caae4bc85ca567">SetWasmAsyncResolvePromiseCallback</a>(</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a823510885f03ad8b24cb01a39dd89d2b">D8WasmAsyncResolvePromiseCallback</a>);</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;  <span class="keywordflow">if</span> (isOnMainThread) {</div>
<div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;    <span class="comment">// Set up counters</span></div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.map_counters[0] != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;      MapCounters(isolate, <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.map_counters);</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;    }</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    <span class="comment">// Disable default message reporting.</span></div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a2915583f307fd1c5084a2af4a83eeb48">AddMessageListenerWithErrorLevel</a>(</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;        <a class="code" href="namespacev8.html#a6dde848dc347e67e7ace972f36c13d87">PrintMessageCallback</a>,</div>
<div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;        <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda8327df155e4de05f54ae63a56e529e1b">v8::Isolate::kMessageError</a> | <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3ddab954b1b5390d996328add7bc1521af6b">v8::Isolate::kMessageWarning</a> |</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;            <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda03727ef6f9ae3fd2c4b8dcfff05ec2a6">v8::Isolate::kMessageInfo</a> | <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda6e0ed3c5047d7dba0f0a7889a74569e9">v8::Isolate::kMessageDebug</a> |</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;            <a class="code" href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda212c2fd735c3e517e56c7cc39efad2be">v8::Isolate::kMessageLog</a>);</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;  }</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160; </div>
<div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a64a3cec46b3d6a8f437da81ae1a61f84">SetHostImportModuleDynamicallyCallback</a>(</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;      <a class="code" href="classv8_1_1Shell.html#a08aa8d4683f0626bdbce8e96d382c03e">Shell::HostImportModuleDynamically</a>);</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#afc65ce9c7baf74bf27f2db0d25d9a38b">SetHostImportModuleWithPhaseDynamicallyCallback</a>(</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ae6e891b9483f7ea1f32931e51bfec1c2">Shell::HostImportModuleWithPhaseDynamically</a>);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ad5525cb1e8d0722df9cf1d163204c765">SetHostInitializeImportMetaObjectCallback</a>(</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;      <a class="code" href="classv8_1_1Shell.html#a78b0a922bcc329b887225e955011178c">Shell::HostInitializeImportMetaObject</a>);</div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a76959d74a51aa2ca3f7fe78a2f3aff83">SetHostCreateShadowRealmContextCallback</a>(</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;      <a class="code" href="classv8_1_1Shell.html#a8c06d07d9dcea2d50a75d2cbfd347968">Shell::HostCreateShadowRealmContext</a>);</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160; </div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;  <a class="code" href="namespacev8_1_1debug.html#a63887f4dc8c8940cf98fb74383ad760f">debug::SetConsoleDelegate</a>(isolate, console);</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;}</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160; </div>
<div class="line"><a name="l04357"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a592f6c6159bc044819b8444a502a325d"> 4357</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="classv8_1_1Shell.html#a592f6c6159bc044819b8444a502a325d">Shell::WasmLoadSourceMapCallback</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;                                               <span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">Shell::ReadFile</a>(isolate, path, <span class="keyword">false</span>).ToLocalChecked();</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;}</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160; </div>
<div class="line"><a name="l04362"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a098daee69d3912d35b8ff76ccd0d11e1"> 4362</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Context&gt;</a> <a class="code" href="classv8_1_1Shell.html#a098daee69d3912d35b8ff76ccd0d11e1">Shell::CreateEvaluationContext</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;  <span class="comment">// This needs to be a critical section since this is not thread-safe</span></div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ParkedMutexGuard.html">i::ParkedMutexGuard</a> lock_guard(</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)-&gt;main_thread_local_isolate(),</div>
<div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;      context_mutex_.Pointer());</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;  <span class="comment">// Initialize the global objects</span></div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> global_template = CreateGlobalTemplate(isolate);</div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;  <a class="code" href="classv8_1_1EscapableHandleScope.html">EscapableHandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Context.html#a11648311890e6127d92335fc438b8211">Context::New</a>(isolate, <span class="keyword">nullptr</span>, global_template);</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;  <span class="keywordflow">if</span> (context.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) {</div>
<div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>());</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;  }</div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.perf_prof_annotate_wasm ||</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.vtune_prof_annotate_wasm) {</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#ad6081293192949556c0cb877dd3c4a51">SetWasmLoadSourceMapCallback</a>(<a class="code" href="classv8_1_1Shell.html#a592f6c6159bc044819b8444a502a325d">Shell::WasmLoadSourceMapCallback</a>);</div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;  }</div>
<div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9258adea2b59c27e5caeccc627ed0bd0">InitializeModuleEmbedderData</a>(context);</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> scope(context);</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;  <span class="keywordflow">if</span> (options.include_arguments) {</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;    <span class="keyword">const</span> std::vector&lt;const char*&gt;&amp; <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a> = options.arguments;</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>.size());</div>
<div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> array = <a class="code" href="classv8_1_1Array.html#a369cbd533bf7aa08d9ce1e2ddb4e6536">Array::New</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> arg =</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>]).ToLocalChecked();</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Number&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;      array-&gt;Set(context, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, arg).FromJust();</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;    }</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;        isolate, <span class="stringliteral">&quot;arguments&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;    context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>()-&gt;<a class="code" href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">Set</a>(context, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, array).FromJust();</div>
<div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;  }</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;  {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;    <span class="comment">// setup console global.</span></div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;        isolate, <span class="stringliteral">&quot;console&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> console =</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;        context-&gt;<a class="code" href="classv8_1_1Context.html#aa26f7db81111d908492327a1e254b232">GetExtrasBindingObject</a>()-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>).<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>();</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>()-&gt;<a class="code" href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">Set</a>(context, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, console).FromJust();</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;  }</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160; </div>
<div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;  <span class="keywordflow">return</span> handle_scope.<a class="code" href="classv8_1_1EscapableHandleScope.html#a3e89ba97802c3e6e7d967f0ddf244555">Escape</a>(context);</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;}</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160; </div>
<div class="line"><a name="l04407"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab95d667830e69a0b8c4d165d40d38478"> 4407</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ab95d667830e69a0b8c4d165d40d38478">Shell::WriteIgnitionDispatchCountersFile</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate) {</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Context.html#a11648311890e6127d92335fc438b8211">Context::New</a>(isolate);</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160; </div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> dispatch_counters =</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;          -&gt;interpreter()</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;          -&gt;GetDispatchCountersObject();</div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;  std::ofstream dispatch_counters_stream(</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.trace_ignition_dispatches_output_file);</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;  dispatch_counters_stream &lt;&lt; *<a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a>(</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;      isolate, <a class="code" href="classv8_1_1JSON.html#a2d760d688469ecf890cc9bf2d1b5b966">JSON::Stringify</a>(context, Utils::ToLocal(dispatch_counters))</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;                   .ToLocalChecked());</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;}</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160; </div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l04424"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a70af3c48dfaebf392a11359aae96c9d9"> 4424</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a70af3c48dfaebf392a11359aae96c9d9">LineFromOffset</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;debug::Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>, <span class="keywordtype">int</span> offset) {</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;  <a class="code" href="classv8_1_1debug_1_1Location.html">debug::Location</a> location = <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;GetSourceLocation(offset);</div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;  <span class="keywordflow">return</span> location.<a class="code" href="classv8_1_1debug_1_1Location.html#a2925f26933a27f9e00a1d755abf0db09">GetLineNumber</a>();</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;}</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160; </div>
<div class="line"><a name="l04429"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab33238e53444c457d732084c08f1cbff"> 4429</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab33238e53444c457d732084c08f1cbff">WriteLcovDataForRange</a>(std::vector&lt;uint32_t&gt;* lines, <span class="keywordtype">int</span> start_line,</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;                           <span class="keywordtype">int</span> end_line, uint32_t count) {</div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;  <span class="comment">// Ensure space in the array.</span></div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;  lines-&gt;resize(std::max(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(end_line + 1), lines-&gt;size()), 0);</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;  <span class="comment">// Boundary lines could be shared between two functions with different</span></div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;  <span class="comment">// invocation counts. Take the maximum.</span></div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;  (*lines)[start_line] = std::max((*lines)[start_line], count);</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;  (*lines)[end_line] = std::max((*lines)[end_line], count);</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;  <span class="comment">// Invocation counts for non-boundary lines are overwritten.</span></div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = start_line + 1; k &lt; end_line; k++) (*lines)[k] = count;</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;}</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160; </div>
<div class="line"><a name="l04441"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7f9023f22c2df6b69776fb810386cebb"> 4441</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7f9023f22c2df6b69776fb810386cebb">WriteLcovDataForNamedRange</a>(std::ostream&amp; sink,</div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;                                std::vector&lt;uint32_t&gt;* lines,</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;                                <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">int</span> start_line,</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;                                <span class="keywordtype">int</span> end_line, uint32_t count) {</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab33238e53444c457d732084c08f1cbff">WriteLcovDataForRange</a>(lines, start_line, end_line, count);</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;  sink &lt;&lt; <span class="stringliteral">&quot;FN:&quot;</span> &lt;&lt; start_line + 1 &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;  sink &lt;&lt; <span class="stringliteral">&quot;FNDA:&quot;</span> &lt;&lt; count &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;}</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160; </div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;<span class="keywordtype">void</span> WriteWasmLcovData(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) {</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;  HandleScope handle_scope(isolate);</div>
<div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;  debug::Coverage coverage = debug::Coverage::CollectWasmData(isolate);</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160; </div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;  constexpr <span class="keywordtype">size_t</span> kMaxPath = MAX_PATH;</div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  constexpr <span class="keywordtype">size_t</span> kMaxPath = PATH_MAX;</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160; </div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> normalized_js_lcov_file =</div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">NormalizePath</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>());</div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> folder_path = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">DirName</a>(normalized_js_lcov_file);</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> wasm_lcov_file =</div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;      RemoveExtension(normalized_js_lcov_file) + <span class="stringliteral">&quot;-wasm.lcov&quot;</span>;</div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;  <span class="keywordflow">if</span> (wasm_lcov_file.length() &gt;= kMaxPath) {</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Invalid wasm-lcov filename &#39;%s&#39;, the path is too long.\n&quot;</span>,</div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;            wasm_lcov_file.c_str());</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;  }</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;  std::ofstream sink(wasm_lcov_file.c_str(), std::ofstream::app);</div>
<div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160; </div>
<div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i_script = 0; i_script &lt; coverage.ScriptCount(); i_script++) {</div>
<div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;    debug::Coverage::ScriptData script_data = coverage.GetScriptData(i_script);</div>
<div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;    Local&lt;debug::Script&gt; <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a> = script_data.GetScript();</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    <span class="keyword">auto</span> wasm_script = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>);</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;    i::wasm::NativeModule* native_module = wasm_script-&gt;wasm_native_module();</div>
<div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">i::wasm::WasmModule</a>* wasm_module = native_module-&gt;module();</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160; </div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    constexpr <span class="keywordtype">int</span> kMaxDisasmFileNameSize = 33;</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;    <span class="keywordtype">char</span> disasm_file_name[kMaxDisasmFileNameSize];</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    snprintf(disasm_file_name, kMaxDisasmFileNameSize, <span class="stringliteral">&quot;wasm-%zu.disasm&quot;</span>,</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;             i_script);</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> disasm_file_path = folder_path + <span class="stringliteral">&quot;/&quot;</span> + disasm_file_name;</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    <span class="keywordflow">if</span> (disasm_file_path.length() &gt;= kMaxPath) {</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;      fprintf(stderr,</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;              <span class="stringliteral">&quot;Invalid wasm disassembly filename &#39;%s&#39;, the path is too long.\n&quot;</span>,</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;              disasm_file_path.c_str());</div>
<div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    }</div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    std::ofstream disasm_file(disasm_file_path.c_str());</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160; </div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    std::vector&lt;int&gt; function_body_offsets;</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;    std::map&lt;uint32_t, uint32_t&gt; bytecode_disasm_offsets;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;    uint32_t lines_count = native_module-&gt;DisassembleForLcov(</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;        disasm_file, function_body_offsets, bytecode_disasm_offsets);</div>
<div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160; </div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;    std::vector&lt;uint32_t&gt; lines;</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;    lines.resize(lines_count);</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160; </div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;    sink &lt;&lt; <span class="stringliteral">&quot;SF:&quot;</span>;</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;    sink &lt;&lt; disasm_file_path &lt;&lt; std::endl;</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160; </div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(script_data.FunctionCount(), wasm_module-&gt;num_declared_functions);</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160; </div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a> = 0;</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;         <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a> &lt; wasm_module-&gt;num_declared_functions;</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;         <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>++) {</div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;      debug::Coverage::FunctionData function_data =</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;          script_data.GetFunctionData(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>);</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#aee315e6fdfed61d0c5a8b4d88d9e85b6">i::wasm::WasmFunction</a>&amp; <span class="keyword">function</span> =</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;          wasm_module-&gt;functions[wasm_module-&gt;num_imported_functions +</div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;                                 <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>];</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160; </div>
<div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;      <span class="comment">// Write function stats.</span></div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;      {</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;        <span class="comment">// {function_body_offsets} contains 2 * num_defined_functions entries,</span></div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;        <span class="comment">// for each not imported function it contains the bytecode offset of the</span></div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;        <span class="comment">// first instruction in the function, followed by the end offset.</span></div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;        <span class="keywordtype">int</span> start_line = bytecode_disasm_offsets[<span class="keyword">function</span>.code.offset()];</div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;        uint32_t first_instruction_offset =</div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;            function_body_offsets[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a> * 2];</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;        <span class="keywordtype">int</span> first_instruction_line =</div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;            bytecode_disasm_offsets[first_instruction_offset];</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;        uint32_t block_count = function_data.BlockCount() == 0</div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;                                   ? 0</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                                   : function_data.GetBlockData(0).Count();</div>
<div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160; </div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;        Local&lt;String&gt; function_name;</div>
<div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;        std::stringstream name_stream;</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;        <span class="keywordflow">if</span> (function_data.Name().ToLocal(&amp;function_name)) {</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;          name_stream &lt;&lt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, function_name);</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;          name_stream &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span> &lt;&lt; start_line &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;        }</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160; </div>
<div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;        <span class="comment">// Function header.</span></div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7f9023f22c2df6b69776fb810386cebb">WriteLcovDataForNamedRange</a>(sink, &amp;lines, name_stream.str(), start_line,</div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;                                   first_instruction_line, block_count);</div>
<div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;      }</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; </div>
<div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;      <span class="comment">// Process inner blocks.</span></div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i_block = 0; i_block &lt; function_data.BlockCount();</div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;           i_block++) {</div>
<div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;        debug::Coverage::BlockData block_data =</div>
<div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;            function_data.GetBlockData(i_block);</div>
<div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;        <span class="keywordtype">int</span> start_offset = block_data.StartOffset() + <span class="keyword">function</span>.code.offset();</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;        <span class="keyword">auto</span> it = bytecode_disasm_offsets.upper_bound(start_offset);</div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(it, bytecode_disasm_offsets.begin());</div>
<div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;        <span class="keywordtype">int</span> start_line = (--it)-&gt;second;</div>
<div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;        <span class="keywordtype">int</span> end_offset = block_data.EndOffset() + <span class="keyword">function</span>.code.offset();</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;        it = bytecode_disasm_offsets.upper_bound(end_offset);</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(it, bytecode_disasm_offsets.begin());</div>
<div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;        <span class="keywordtype">int</span> end_line = (--it)-&gt;second;</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab33238e53444c457d732084c08f1cbff">WriteLcovDataForRange</a>(&amp;lines, start_line, end_line, block_data.Count());</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;      }</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    }</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="comment">// Write per-line coverage. LCOV uses 1-based line numbers.</span></div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; lines.size(); j++) {</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;      sink &lt;&lt; <span class="stringliteral">&quot;DA:&quot;</span> &lt;&lt; (j + 1) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; lines[j] &lt;&lt; std::endl;</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    }</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    sink &lt;&lt; <span class="stringliteral">&quot;end_of_record&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  }</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;  printf(<span class="stringliteral">&quot;Wrote WebAssembly LCOV data to %s\n&quot;</span>, wasm_lcov_file.c_str());</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;}</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160; </div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;<span class="comment">// Write coverage data in LCOV format. See man page for geninfo(1).</span></div>
<div class="line"><a name="l04570"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a30b420d4c4688d9077163ff197cca8ab"> 4570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a30b420d4c4688d9077163ff197cca8ab">Shell::WriteLcovData</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) {</div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160; </div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.wasm_code_coverage) {</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;    WriteWasmLcovData(isolate, <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;  }</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160; </div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;  <a class="code" href="classv8_1_1debug_1_1Coverage.html">debug::Coverage</a> coverage = <a class="code" href="classv8_1_1debug_1_1Coverage.html#a71fd7b3c093daca7d88cd4b45ecd3ef2">debug::Coverage::CollectPrecise</a>(isolate);</div>
<div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;  std::ofstream sink(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, std::ofstream::app);</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; coverage.<a class="code" href="classv8_1_1debug_1_1Coverage.html#afc0356c43296a0df11da5ebf1cab8049">ScriptCount</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;    <a class="code" href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html">debug::Coverage::ScriptData</a> script_data = coverage.<a class="code" href="classv8_1_1debug_1_1Coverage.html#a8ebb72efeb6dc234008be9255ed5477b">GetScriptData</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;debug::Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a> = script_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html#ac1e353436ee4e3848d85b01f32bee95a">GetScript</a>();</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    <span class="comment">// Skip unnamed scripts.</span></div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>;</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;Name().ToLocal(&amp;<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> file_name = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;    <span class="comment">// Skip scripts not backed by a file.</span></div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;    <span class="keywordflow">if</span> (!std::ifstream(file_name).good()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;    sink &lt;&lt; <span class="stringliteral">&quot;SF:&quot;</span>;</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;    sink &lt;&lt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">NormalizePath</a>(file_name, <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">GetWorkingDirectory</a>()) &lt;&lt; std::endl;</div>
<div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;    std::vector&lt;uint32_t&gt; lines;</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; script_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html#a27455cd991eddab1b21dde85584dff9a">FunctionCount</a>(); j++) {</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;      <a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html">debug::Coverage::FunctionData</a> function_data =</div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;          script_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html#a023fca04e61f2a1c1acf9ba070f8bb95">GetFunctionData</a>(j);</div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160; </div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;      <span class="comment">// Write function stats.</span></div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;      {</div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;        <a class="code" href="classv8_1_1debug_1_1Location.html">debug::Location</a> start =</div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;GetSourceLocation(function_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a05b5319ff11a68e516471e70e79b2fe4">StartOffset</a>());</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;        <a class="code" href="classv8_1_1debug_1_1Location.html">debug::Location</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> =</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;GetSourceLocation(function_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a595738f91e9ad43119c0006bc49991ae">EndOffset</a>());</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;        <span class="keywordtype">int</span> start_line = start.<a class="code" href="classv8_1_1debug_1_1Location.html#a2925f26933a27f9e00a1d755abf0db09">GetLineNumber</a>();</div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;        <span class="keywordtype">int</span> end_line = <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>.GetLineNumber();</div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;        uint32_t count = function_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a9b89b7702be7fed16121dacb3854f13a">Count</a>();</div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160; </div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> function_name;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;        std::stringstream name_stream;</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;        <span class="keywordflow">if</span> (function_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#ac91a4808f3eb6a66ff73f6bfc29e80d6">Name</a>().ToLocal(&amp;function_name)) {</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;          name_stream &lt;&lt; <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">ToSTLString</a>(isolate, function_name);</div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;          name_stream &lt;&lt; <span class="stringliteral">&quot;&lt;&quot;</span> &lt;&lt; start_line + 1 &lt;&lt; <span class="stringliteral">&quot;-&quot;</span>;</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;          name_stream &lt;&lt; start.<a class="code" href="classv8_1_1debug_1_1Location.html#a16f4db252e89fb7da0f2db19c1e698fe">GetColumnNumber</a>() &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;        }</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160; </div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7f9023f22c2df6b69776fb810386cebb">WriteLcovDataForNamedRange</a>(sink, &amp;lines, name_stream.str(), start_line,</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;                                   end_line, count);</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      }</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160; </div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;      <span class="comment">// Process inner blocks.</span></div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; function_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#ae060caa514cdd6dcb8636ffbad3a41e2">BlockCount</a>(); k++) {</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;        <a class="code" href="classv8_1_1debug_1_1Coverage_1_1BlockData.html">debug::Coverage::BlockData</a> block_data = function_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a71bc27aca9f1718ef51a7fadbd7bbfb2">GetBlockData</a>(k);</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;        <span class="keywordtype">int</span> start_line = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a70af3c48dfaebf392a11359aae96c9d9">LineFromOffset</a>(<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>, block_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1BlockData.html#a9d6f72a8ba4333c4673132c4302b6b7f">StartOffset</a>());</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;        <span class="keywordtype">int</span> end_line = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a70af3c48dfaebf392a11359aae96c9d9">LineFromOffset</a>(<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>, block_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1BlockData.html#a04848ad04c7dc88ef41d48cf0b476837">EndOffset</a>() - 1);</div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;        uint32_t count = block_data.<a class="code" href="classv8_1_1debug_1_1Coverage_1_1BlockData.html#a6e6381666f4827f841b854a0d89b6fd4">Count</a>();</div>
<div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab33238e53444c457d732084c08f1cbff">WriteLcovDataForRange</a>(&amp;lines, start_line, end_line, count);</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;      }</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;    }</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;    <span class="comment">// Write per-line coverage. LCOV uses 1-based line numbers.</span></div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; lines.size(); j++) {</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;      sink &lt;&lt; <span class="stringliteral">&quot;DA:&quot;</span> &lt;&lt; (j + 1) &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; lines[j] &lt;&lt; std::endl;</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    }</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    sink &lt;&lt; <span class="stringliteral">&quot;end_of_record&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;  }</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;}</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160; </div>
<div class="line"><a name="l04638"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aa43a600bd3ee7e8f40043f217f6ff25b"> 4638</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aa43a600bd3ee7e8f40043f217f6ff25b">Shell::OnExit</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keywordtype">bool</span> dispose) {</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <a class="code" href="namespacev8_1_1platform.html#acc8f10da942f6a509ba5ba1e9cc19876">platform::NotifyIsolateShutdown</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, isolate);</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160; </div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Worker.html">Worker</a>* worker = <a class="code" href="classv8_1_1Worker.html#afda5ce466252e4a4aaebd7a1a34eb637">Worker::GetCurrentWorker</a>()) {</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;    <span class="comment">// When invoking `quit` on a worker isolate, the worker needs to reach</span></div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;    <span class="comment">// State::kTerminated before invoking Isolate::Dispose. This is because the</span></div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    <span class="comment">// main thread tries to terminate all workers at the end, which can happen</span></div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    <span class="comment">// concurrently to Isolate::Dispose.</span></div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    worker-&gt;EnterTerminatedState();</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;  }</div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160; </div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;  <span class="keywordflow">if</span> (dispose) {</div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a1a5a5762e4221aff8c6b10f9e3cec0af">Dispose</a>();</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;    <span class="comment">// Normally, Dispose() prints counters. Benchmarks expect counters to be</span></div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;    <span class="comment">// printed on process exit, so do so manually if not disposing.</span></div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a64546846b6d7f33f464ffd2006d88b93">DumpAndResetStats</a>();</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;  }</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160; </div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;  <span class="comment">// Simulate errors before disposing V8, as that resets flags (via</span></div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;  <span class="comment">// FlagList::ResetAllFlags()), but error simulation reads the random seed.</span></div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;  <span class="keywordflow">if</span> (options.simulate_errors &amp;&amp; is_valid_fuzz_script()) {</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    <span class="comment">// Simulate several errors detectable by fuzzers behind a flag if the</span></div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;    <span class="comment">// minimum file size for fuzzing was executed.</span></div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    <a class="code" href="classv8_1_1FuzzerMonitor.html#aae9d76164912bb890824f12611b46b92">FuzzerMonitor::SimulateErrors</a>();</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;  }</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160; </div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;  <span class="keywordflow">if</span> (dispose) {</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <a class="code" href="classv8_1_1V8.html#af761970f495ed98e940808fd4fa5caff">V8::Dispose</a>();</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;    <a class="code" href="classv8_1_1V8.html#a23afcb889f24d2d1823d0fbdc7fc0212">V8::DisposePlatform</a>();</div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;  }</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160; </div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;  <span class="keywordflow">if</span> (options.dump_counters || options.dump_counters_nvp) {</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    DumpCounters();</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;  }</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160; </div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;  <span class="keywordflow">if</span> (options.dump_system_memory_stats) {</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;    <span class="keywordtype">int</span> peak_memory_usage = <a class="code" href="classv8_1_1base_1_1OS.html#a8b6f63d09e8e0bad9dd9f7a91cc7e106">base::OS::GetPeakMemoryUsageKb</a>();</div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;System peak memory usage (kb): &quot;</span> &lt;&lt; peak_memory_usage</div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;              &lt;&lt; std::endl;</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;    <span class="comment">// TODO(jdapena): call rusage platform independent call, and extract peak</span></div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;    <span class="comment">// memory usage to print it</span></div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;  }</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160; </div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;  <span class="comment">// Only delete the counters if we are done executing; after calling `quit`,</span></div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;  <span class="comment">// other isolates might still be running and accessing that memory. This is a</span></div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;  <span class="comment">// memory leak, which is OK in this case.</span></div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;  <span class="keywordflow">if</span> (dispose) {</div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;    <span class="keyword">delete</span> counters_file_;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;    <span class="keyword">delete</span> <a class="code" href="namespaceanonymous__namespace_02mksnapshot_8cc_03.html#ac81897c4b659edda33911e6bd62829e9">counter_map_</a>;</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;  }</div>
<div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;}</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160; </div>
<div class="line"><a name="l04691"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a80fb8a286ab4cf65768e4d95b022db6e"> 4691</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a80fb8a286ab4cf65768e4d95b022db6e">Shell::DumpCounters</a>() {</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> mutex_guard(&amp;counter_mutex_);</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;  std::vector&lt;std::pair&lt;std::string, Counter*&gt;&gt; counters(<a class="code" href="namespaceanonymous__namespace_02mksnapshot_8cc_03.html#ac81897c4b659edda33911e6bd62829e9">counter_map_</a>-&gt;begin(),</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;                                                         <a class="code" href="namespaceanonymous__namespace_02mksnapshot_8cc_03.html#ac81897c4b659edda33911e6bd62829e9">counter_map_</a>-&gt;end());</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">std::sort</a>(counters.begin(), counters.end());</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160; </div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;  <span class="keywordflow">if</span> (options.dump_counters_nvp) {</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <span class="comment">// Dump counters as name-value pairs.</span></div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : counters) {</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = pair.first;</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;      <a class="code" href="classv8_1_1Counter.html">Counter</a>* counter = pair.second;</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;      <span class="keywordflow">if</span> (counter-&gt;<a class="code" href="classv8_1_1Counter.html#a1cfe3bc3c4ebf9fed4a577246cf6cfcb">is_histogram</a>()) {</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\&quot;c:&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> &lt;&lt; <span class="stringliteral">&quot;\&quot;=&quot;</span> &lt;&lt; counter-&gt;<a class="code" href="classv8_1_1Counter.html#abbbd22f5905b9787b26bf7fd307ab973">count</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\&quot;t:&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> &lt;&lt; <span class="stringliteral">&quot;\&quot;=&quot;</span> &lt;&lt; counter-&gt;<a class="code" href="classv8_1_1Counter.html#a68190a203e323062cc379d07451db2fb">sample_total</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> &lt;&lt; <span class="stringliteral">&quot;\&quot;=&quot;</span> &lt;&lt; counter-&gt;<a class="code" href="classv8_1_1Counter.html#abbbd22f5905b9787b26bf7fd307ab973">count</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;      }</div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    }</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;  }</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160; </div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;  <span class="comment">// Dump counters in formatted boxes.</span></div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;  constexpr <span class="keywordtype">int</span> kNameBoxSize = 64;</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;  constexpr <span class="keywordtype">int</span> kValueBoxSize = 13;</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;  std::cout &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(kNameBoxSize, <span class="charliteral">&#39;-&#39;</span>) &lt;&lt; <span class="stringliteral">&quot;+&quot;</span></div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;            &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(kValueBoxSize - 1, <span class="charliteral">&#39;-&#39;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;  std::cout &lt;&lt; <span class="stringliteral">&quot;Name&quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(kNameBoxSize - 4, <span class="charliteral">&#39; &#39;</span>) &lt;&lt; <span class="stringliteral">&quot;| Value&quot;</span></div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;            &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(kValueBoxSize - 7, <span class="charliteral">&#39; &#39;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;  std::cout &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(kNameBoxSize, <span class="charliteral">&#39;-&#39;</span>) &lt;&lt; <span class="stringliteral">&quot;+&quot;</span></div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;            &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(kValueBoxSize - 1, <span class="charliteral">&#39;-&#39;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; pair : counters) {</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = pair.first;</div>
<div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    <a class="code" href="classv8_1_1Counter.html">Counter</a>* counter = pair.second;</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="keywordflow">if</span> (counter-&gt;<a class="code" href="classv8_1_1Counter.html#a1cfe3bc3c4ebf9fed4a577246cf6cfcb">is_histogram</a>()) {</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;c:&quot;</span> &lt;&lt; std::setw(kNameBoxSize - 2) &lt;&lt; std::left &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a></div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;                &lt;&lt; std::setw(kValueBoxSize) &lt;&lt; std::right &lt;&lt; counter-&gt;<a class="code" href="classv8_1_1Counter.html#abbbd22f5905b9787b26bf7fd307ab973">count</a>()</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;t:&quot;</span> &lt;&lt; std::setw(kNameBoxSize - 2) &lt;&lt; std::left &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a></div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;                &lt;&lt; std::setw(kValueBoxSize) &lt;&lt; std::right</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;                &lt;&lt; counter-&gt;<a class="code" href="classv8_1_1Counter.html#a68190a203e323062cc379d07451db2fb">sample_total</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;      std::cout &lt;&lt; std::setw(kNameBoxSize) &lt;&lt; std::left &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a></div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;                &lt;&lt; std::setw(kValueBoxSize) &lt;&lt; std::right &lt;&lt; counter-&gt;<a class="code" href="classv8_1_1Counter.html#abbbd22f5905b9787b26bf7fd307ab973">count</a>()</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;    }</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;  }</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;}</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160; </div>
<div class="line"><a name="l04739"></a><span class="lineno"><a class="line" href="namespacev8.html#ac650e19aff88fabc2d187261fd631a99"> 4739</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8.html#ac650e19aff88fabc2d187261fd631a99">Dummy</a>(<span class="keywordtype">char</span>* arg) {}</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160; </div>
<div class="line"><a name="l04741"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#aae9d76164912bb890824f12611b46b92"> 4741</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#aae9d76164912bb890824f12611b46b92">FuzzerMonitor::SimulateErrors</a>() {</div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;  <span class="comment">// Initialize a fresh RNG to not interfere with JS execution.</span></div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;  std::unique_ptr&lt;base::RandomNumberGenerator&gt; rng;</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;  int64_t seed = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.random_seed;</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;  <span class="keywordflow">if</span> (seed != 0) {</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    rng = std::make_unique&lt;base::RandomNumberGenerator&gt;(seed);</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;    rng = std::make_unique&lt;base::RandomNumberGenerator&gt;();</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;  }</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160; </div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;  <span class="keywordtype">double</span> p = rng-&gt;NextDouble();</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;  <span class="keywordflow">if</span> (p &lt; 0.1) {</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;    ControlFlowViolation();</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p &lt; 0.2) {</div>
<div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    DCheck();</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p &lt; 0.3) {</div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;    <a class="code" href="namespacecppgc_1_1internal.html#a53ef3643e679385c014b494e7e349221">Fatal</a>();</div>
<div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p &lt; 0.4) {</div>
<div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;    ObservableDifference();</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p &lt; 0.5) {</div>
<div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;    UndefinedBehavior();</div>
<div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p &lt; 0.6) {</div>
<div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;    UseAfterFree();</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p &lt; 0.7) {</div>
<div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;    UseOfUninitializedValue();</div>
<div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;  }</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;}</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160; </div>
<div class="line"><a name="l04769"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#a0915493cf1fa08c0230235dc48a82b05"> 4769</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#a0915493cf1fa08c0230235dc48a82b05">FuzzerMonitor::ControlFlowViolation</a>() {</div>
<div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;  <span class="comment">// Control flow violation caught by CFI.</span></div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> (*func)() = (<span class="keywordtype">void</span> (*)()) &amp; <a class="code" href="namespacev8.html#ac650e19aff88fabc2d187261fd631a99">Dummy</a>;</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;  func();</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;}</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160; </div>
<div class="line"><a name="l04775"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#ac2800d3152ad73156347ef352dd286ff"> 4775</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#ac2800d3152ad73156347ef352dd286ff">FuzzerMonitor::DCheck</a>() {</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;  <span class="comment">// Caught in debug builds.</span></div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;}</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160; </div>
<div class="line"><a name="l04780"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#a45f7042df585d6847c5e003c13f97def"> 4780</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#a45f7042df585d6847c5e003c13f97def">FuzzerMonitor::Fatal</a>() {</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;  <span class="comment">// Caught in all build types.</span></div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Fake error.&quot;</span>);</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;}</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160; </div>
<div class="line"><a name="l04785"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#a204b20555dced1182968ca02193aafbd"> 4785</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#a204b20555dced1182968ca02193aafbd">FuzzerMonitor::ObservableDifference</a>() {</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;  <span class="comment">// Observable difference caught by differential fuzzing.</span></div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  printf(<span class="stringliteral">&quot;___fake_difference___\n&quot;</span>);</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;}</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160; </div>
<div class="line"><a name="l04790"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#a686760fc6cb7c775bc02986b53abf743"> 4790</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#a686760fc6cb7c775bc02986b53abf743">FuzzerMonitor::UndefinedBehavior</a>() {</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;  <span class="comment">// Caught by UBSAN.</span></div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> val = -1;</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(val &lt;&lt; val);</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;}</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160; </div>
<div class="line"><a name="l04796"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#a41c040a66b1b1736a373e612ef27ea4d"> 4796</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#a41c040a66b1b1736a373e612ef27ea4d">FuzzerMonitor::UseAfterFree</a>() {</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;  <span class="comment">// Use-after-free caught by ASAN.</span></div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;<span class="preprocessor">#if defined(__clang__)  </span><span class="comment">// GCC-12 detects this at compile time!</span></div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  std::vector&lt;bool&gt;* storage = <span class="keyword">new</span> std::vector&lt;bool&gt;(3);</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;  <span class="keyword">delete</span> storage;</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(storage-&gt;at(1));</div>
<div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;}</div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160; </div>
<div class="line"><a name="l04805"></a><span class="lineno"><a class="line" href="classv8_1_1FuzzerMonitor.html#a4b19057c06a148e4a2c46edf446050d7"> 4805</a></span>&#160;<a class="code" href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1FuzzerMonitor.html#a4b19057c06a148e4a2c46edf446050d7">FuzzerMonitor::UseOfUninitializedValue</a>() {</div>
<div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;<span class="comment">// Use-of-uninitialized-value caught by MSAN.</span></div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;<span class="preprocessor">#if defined(__clang__)</span></div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;  <span class="keywordtype">int</span> uninitialized[1];</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;  <span class="keywordflow">if</span> (uninitialized[0]) <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(uninitialized);</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;}</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160; </div>
<div class="line"><a name="l04813"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a2b07623263305f9cf9890f7f701b34de"> 4813</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="classv8_1_1Shell.html#a2b07623263305f9cf9890f7f701b34de">Shell::ReadChars</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">int</span>* size_out) {</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;  <span class="keywordflow">if</span> (options.read_from_tcp_port &gt;= 0) {</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;    <span class="keywordflow">return</span> ReadCharsFromTcpPort(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, size_out);</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;  }</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160; </div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;  FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = <a class="code" href="classv8_1_1base_1_1OS.html#a847804239d3654d9dc61325fd7a8b195">base::OS::FOpen</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160; </div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;  fseek(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, 0, SEEK_END);</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = ftell(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;  rewind(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160; </div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;  <span class="keywordtype">char</span>* chars = <span class="keyword">new</span> <span class="keywordtype">char</span>[<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> + 1];</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;  chars[<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;) {</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <a class="code" href="namespacev8_1_1internal.html">i</a> += fread(&amp;chars[<a class="code" href="namespacev8_1_1internal.html">i</a>], 1, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - <a class="code" href="namespacev8_1_1internal.html">i</a>, <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    <span class="keywordflow">if</span> (ferror(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>)) {</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a5c78a9800cbcf09478d155ac69cdbd0f">base::Fclose</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;      <span class="keyword">delete</span>[] chars;</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    }</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;  }</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a5c78a9800cbcf09478d155ac69cdbd0f">base::Fclose</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;  *size_out = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;  <span class="keywordflow">return</span> chars;</div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;}</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160; </div>
<div class="line"><a name="l04840"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a62c2c22cd762686f1b7382edc7eaa39d"> 4840</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;PrimitiveArray&gt;</a> <a class="code" href="classv8_1_1Shell.html#a62c2c22cd762686f1b7382edc7eaa39d">Shell::ReadLines</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;                                            <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;  std::unique_ptr&lt;char[]&gt; data(ReadChars(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, &amp;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160; </div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;  <span class="keywordflow">if</span> (data.get() == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;PrimitiveArray&gt;</a>();</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;  }</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;  std::stringstream stream(data.get());</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> line;</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;  std::vector&lt;std::string&gt; lines;</div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;  <span class="keywordflow">while</span> (std::getline(stream, line, <span class="charliteral">&#39;\n&#39;</span>)) {</div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;    lines.emplace_back(line);</div>
<div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;  }</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;  <span class="comment">// Create a Local&lt;PrimitiveArray&gt; off the read lines.</span></div>
<div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(lines.size());</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;PrimitiveArray&gt;</a> exports = <a class="code" href="classv8_1_1PrimitiveArray.html#a71af2d7e5be17432a02b6fffc7a8f1a1">PrimitiveArray::New</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a> maybe_str = <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;        isolate, lines[<a class="code" href="namespacev8_1_1internal.html">i</a>].c_str(), <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>,</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(lines[<a class="code" href="namespacev8_1_1internal.html">i</a>].<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>()));</div>
<div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> str;</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    <span class="keywordflow">if</span> (!maybe_str.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;str)) {</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;PrimitiveArray&gt;</a>();</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;    }</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;    exports-&gt;Set(isolate, <a class="code" href="namespacev8_1_1internal.html">i</a>, str);</div>
<div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;  }</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;  <span class="keywordflow">return</span> exports;</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;}</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160; </div>
<div class="line"><a name="l04870"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a7308cf8bd5256bcfe03c1d4eb688f6d9"> 4870</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a7308cf8bd5256bcfe03c1d4eb688f6d9">Shell::ReadBuffer</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;  static_assert(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) == <span class="keyword">sizeof</span>(uint8_t),</div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;                <span class="stringliteral">&quot;char and uint8_t should both have 1 byte&quot;</span>);</div>
<div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> filename(isolate, info[0]);</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;  <span class="keywordflow">if</span> (*filename == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Error loading file&quot;</span>);</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;  }</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160; </div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;  uint8_t* data = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(ReadChars(*filename, &amp;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;  <span class="keywordflow">if</span> (data == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Error reading file&quot;</span>);</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;  }</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::ArrayBuffer&gt;</a> buffer = <a class="code" href="classv8_1_1ArrayBuffer.html#a205ebfae531dd7819fbd486a49b46816">ArrayBuffer::New</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;  memcpy(buffer-&gt;GetBackingStore()-&gt;Data(), data, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;  <span class="keyword">delete</span>[] data;</div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160; </div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(buffer);</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;}</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160; </div>
<div class="line"><a name="l04894"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aae05bc647bcf660c39019059a27a0c7b"> 4894</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aae05bc647bcf660c39019059a27a0c7b">Shell::ReadLine</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(ReadFromStdin(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()));</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;}</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160; </div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;<span class="comment">// Reads a file into a memory blob.</span></div>
<div class="line"><a name="l04900"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a20b1db32a6a2bad951d16c1f9b5df750"> 4900</a></span>&#160;std::unique_ptr&lt;base::OS::MemoryMappedFile&gt; <a class="code" href="classv8_1_1Shell.html#a20b1db32a6a2bad951d16c1f9b5df750">Shell::ReadFileData</a>(</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">bool</span> should_throw) {</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;  std::unique_ptr&lt;base::OS::MemoryMappedFile&gt; <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>(</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;      <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#acf4def71902b724f3ed274f2b4ad3051">base::OS::MemoryMappedFile::open</a>(</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;          <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d">base::OS::MemoryMappedFile::FileMode::kReadOnly</a>));</div>
<div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) {</div>
<div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;    <span class="keywordflow">if</span> (should_throw) {</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;      std::ostringstream oss;</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;      oss &lt;&lt; <span class="stringliteral">&quot;Error loading file: &quot;</span> &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>;</div>
<div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate,</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;                 <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;                     isolate, oss.str().substr(0, <a class="code" href="classv8_1_1String.html#a66259940a4836974906729017ff25fd2">String::kMaxLength</a>).c_str())</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;                     .ToLocalChecked());</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;    }</div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;  }</div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>;</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;}</div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160; </div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;<span class="comment">// Reads a file into a v8 string.</span></div>
<div class="line"><a name="l04920"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c"> 4920</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a> <a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">Shell::ReadFile</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;                                   <span class="keywordtype">bool</span> should_throw) {</div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  <span class="keyword">auto</span> <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = ReadFileData(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, should_throw);</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) {</div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;String&gt;</a>();</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;  }</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>-&gt;size());</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;  <span class="keywordtype">char</span>* chars = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>-&gt;memory());</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.use_external_strings &amp;&amp; <a class="code" href="classv8_1_1internal_1_1String.html#a33a79c203e5bad51a55406ad58e412e0">i::String::IsAscii</a>(chars, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;    <a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html">String::ExternalOneByteStringResource</a>* resource =</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;        <span class="keyword">new</span> <a class="code" href="classv8_1_1ExternalOwningOneByteStringResource.html">ExternalOwningOneByteStringResource</a>(std::move(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>));</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1String.html#a7f104356e56751f0a0223e28786cd801">String::NewExternalOneByte</a>(isolate, resource);</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;  }</div>
<div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, chars, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;}</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160; </div>
<div class="line"><a name="l04936"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a04582ddfc3ced2a2385b6dceb1cb2cd3"> 4936</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a04582ddfc3ced2a2385b6dceb1cb2cd3">Shell::WriteChars</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, uint8_t* buffer, <span class="keywordtype">size_t</span> buffer_size) {</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;  FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = <a class="code" href="namespacev8_1_1base.html#a8a454cb5837a8dfd68f5d6eefb23c1ba">base::Fopen</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;  fwrite(buffer, 1, buffer_size, <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a5c78a9800cbcf09478d155ac69cdbd0f">base::Fclose</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>);</div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;}</div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160; </div>
<div class="line"><a name="l04943"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a8efa3d2d7962acc3d7a1301456aa836b"> 4943</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a8efa3d2d7962acc3d7a1301456aa836b">Shell::RunShell</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> context;</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;  {</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    context.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;::New</a>(isolate, evaluation_context_));</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;  }</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html">PerIsolateData::RealmScope</a> realm_scope(isolate, context);</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;  printf(<span class="stringliteral">&quot;V8 version %s\n&quot;</span>, <a class="code" href="classv8_1_1V8.html#a4dfaa8ece8141a26f7de6c6eec914720">V8::GetVersion</a>());</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;    <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a> global_result;</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;    <span class="keywordtype">bool</span> success;</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;    {</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;      <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate));</div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;      printf(<span class="stringliteral">&quot;d8&gt; &quot;</span>);</div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> input = <a class="code" href="classv8_1_1Shell.html#afc4ac604ee375a1effbf9d8e55423db1">Shell::ReadFromStdin</a>(isolate);</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;      <span class="keywordflow">if</span> (input.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;(d8)&quot;</span>);</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;      success = ExecuteString(isolate, input, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, kReportExceptions,</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;                              &amp;global_result);</div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(success, !global_result.<a class="code" href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">IsEmpty</a>());</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;    }</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;    <span class="keywordflow">if</span> (!FinishExecuting(isolate, context)) success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;    <span class="keywordflow">if</span> (success) {</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;      <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;      <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate));</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = global_result.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;      <span class="keywordflow">if</span> (options.test_shell) {</div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;          <span class="comment">// If all went well and the result wasn&#39;t undefined then print</span></div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;          <span class="comment">// the returned value.</span></div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;          <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> str(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;          fwrite(*str, <span class="keyword">sizeof</span>(**str), str.<a class="code" href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">length</a>(), stdout);</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;          printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;        }</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;        <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> str(isolate, Stringify(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;        fwrite(*str, <span class="keyword">sizeof</span>(**str), str.<a class="code" href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">length</a>(), stdout);</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;        printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;      }</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    }</div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;  }</div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;  printf(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;}</div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160; </div>
<div class="line"><a name="l04988"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html"> 4988</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1InspectorFrontend.html">InspectorFrontend</a> final : <span class="keyword">public</span> <a class="code" href="classv8__inspector_1_1V8Inspector_1_1Channel.html">v8_inspector::V8Inspector::Channel</a> {</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04990"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#af68f270ba7258b7bc072d9b8f1001262"> 4990</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1InspectorFrontend.html#af68f270ba7258b7bc072d9b8f1001262">InspectorFrontend</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context) {</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a> = <a class="code" href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">Isolate::GetCurrent</a>();</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;    context_.Reset(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, context);</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;  }</div>
<div class="line"><a name="l04994"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#a112ea41675459dba30f2ed4ee8aeacbf"> 4994</a></span>&#160;  <a class="code" href="classv8_1_1InspectorFrontend.html#a112ea41675459dba30f2ed4ee8aeacbf">~InspectorFrontend</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160; </div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04997"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#a13b4fde39f2b7b73b0f19dce1d7e05ce"> 4997</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorFrontend.html#a13b4fde39f2b7b73b0f19dce1d7e05ce">sendResponse</a>(</div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;      <span class="keywordtype">int</span> callId,</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;      std::unique_ptr&lt;v8_inspector::StringBuffer&gt; message)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;    Send(message-&gt;string());</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;  }</div>
<div class="line"><a name="l05002"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#a18f97b325f5c32138b0d8b3b2d4c8905"> 5002</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorFrontend.html#a18f97b325f5c32138b0d8b3b2d4c8905">sendNotification</a>(</div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;      std::unique_ptr&lt;v8_inspector::StringBuffer&gt; message)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    Send(message-&gt;string());</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;  }</div>
<div class="line"><a name="l05006"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#a0e7c6317f6b15062aebeb0cd6f95f6be"> 5006</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorFrontend.html#a0e7c6317f6b15062aebeb0cd6f95f6be">flushProtocolNotifications</a>()<span class="keyword"> override </span>{}</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160; </div>
<div class="line"><a name="l05008"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#acbac1549245fea16e0df2513a7d75199"> 5008</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorFrontend.html#acbac1549245fea16e0df2513a7d75199">Send</a>(<span class="keyword">const</span> <a class="code" href="classv8__inspector_1_1StringView.html">v8_inspector::StringView</a>&amp; <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    <a class="code" href="classv8_1_1Isolate_1_1AllowJavascriptExecutionScope.html">v8::Isolate::AllowJavascriptExecutionScope</a> allow_script(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">v8::HandleScope</a> handle_scope(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keywordtype">string</span>.length());</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <a class="code" href="classv8_1_1String.html#a66259940a4836974906729017ff25fd2">v8::String::kMaxLength</a>);</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> message =</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        (<span class="keywordtype">string</span>.is8Bit()</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;             ? <a class="code" href="classv8_1_1String.html#ae79a33fdd62ca7cf6464fbf9a205ee26">v8::String::NewFromOneByte</a>(</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;                   <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>,</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;                   <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>.characters8()),</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;                   <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">v8::NewStringType::kNormal</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;             : <a class="code" href="classv8_1_1String.html#ae552920ea93de20683cad25f9e4a3c4f">v8::String::NewFromTwoByte</a>(</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;                   <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>,</div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;                   <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>*<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>.characters16()),</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;                   <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">v8::NewStringType::kNormal</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>))</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;            .ToLocalChecked();</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> callback_name = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;        <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="stringliteral">&quot;receive&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = context_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> callback =</div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;        context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>()-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, callback_name).<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>();</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;    <span class="keywordflow">if</span> (callback-&gt;IsFunction()) {</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;      <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a> try_catch(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>[] = {message};</div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(callback.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Function.html">Function</a>&gt;()-&gt;<a class="code" href="classv8_1_1Function.html#ac44115494773a32d87a63584b60709da">Call</a>(context, <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>), 1, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>));</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;      <span class="keywordflow">if</span> (try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) {</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> exception = try_catch.<a class="code" href="classv8_1_1TryCatch.html#a5b86f4229e0725a3eacc69826da2e984">Exception</a>().As&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;            <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="stringliteral">&quot;message&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> expected = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;            <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="stringliteral">&quot;Maximum call stack size exceeded&quot;</span>);</div>
<div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = exception-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>).<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>();</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;        <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;StrictEquals(expected));</div>
<div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;      }</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;    }</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;  }</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160; </div>
<div class="line"><a name="l05047"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#a7ce836c6333535cf510076ff5ebed268"> 5047</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1InspectorFrontend.html#a7ce836c6333535cf510076ff5ebed268">isolate_</a>;</div>
<div class="line"><a name="l05048"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorFrontend.html#a9863dc649e3980b33c4258f9936c4572"> 5048</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="classv8_1_1InspectorFrontend.html#a9863dc649e3980b33c4258f9936c4572">context_</a>;</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;};</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160; </div>
<div class="line"><a name="l05051"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html"> 5051</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1InspectorClient.html">InspectorClient</a> : <span class="keyword">public</span> <a class="code" href="classv8__inspector_1_1V8InspectorClient.html">v8_inspector::V8InspectorClient</a> {</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05053"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a71d50a38e952fda7b1642fa92b586a30"> 5053</a></span>&#160;  <a class="code" href="classv8_1_1InspectorClient.html#a71d50a38e952fda7b1642fa92b586a30">InspectorClient</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>&amp; global_context,</div>
<div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;                  <span class="keywordtype">bool</span> connect) {</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;    <span class="keywordflow">if</span> (!connect) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a> = isolate;</div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = global_context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate);</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    channel_.reset(<span class="keyword">new</span> <a class="code" href="classv8_1_1InspectorFrontend.html">InspectorFrontend</a>(context));</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    inspector_ = <a class="code" href="classv8__inspector_1_1V8Inspector.html#a9a2e03efe985976a6885b1d152091cdb">v8_inspector::V8Inspector::create</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    session_ =</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;        inspector_-&gt;connect(1, channel_.get(), <a class="code" href="classv8__inspector_1_1StringView.html">v8_inspector::StringView</a>(),</div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;                            <a class="code" href="classv8__inspector_1_1V8Inspector.html#ac773f495eceb33da26a30ded4f6fc7aea2888d7d14661caafc24d4d61e4d41d05">v8_inspector::V8Inspector::kFullyTrusted</a>,</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;                            <a class="code" href="classv8__inspector_1_1V8Inspector.html#ab65275d3ab8d2fccd7a0316d9fb42faba20176ca40cd5c9f31309599509086a48">v8_inspector::V8Inspector::kNotWaitingForDebugger</a>);</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    context-&gt;<a class="code" href="classv8_1_1Context.html#a522063c88e4c2832f5ff4f3980815f58">SetAlignedPointerInEmbedderData</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a9c7b861e48f503c3d8feea91c88f6959">kInspectorClientIndex</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;    inspector_-&gt;contextCreated(<a class="code" href="classv8__inspector_1_1V8ContextInfo.html">v8_inspector::V8ContextInfo</a>(</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;        context, kContextGroupId, <a class="code" href="classv8__inspector_1_1StringView.html">v8_inspector::StringView</a>()));</div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160; </div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <span class="keyword">function</span> =</div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;        <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, SendInspectorMessage)</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;            -&gt;GetFunction(context)</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;            .ToLocalChecked();</div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> function_name = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;        <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="stringliteral">&quot;send&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>()-&gt;<a class="code" href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">Set</a>(context, function_name, <span class="keyword">function</span>).FromJust());</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160; </div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;    context_.Reset(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, global_context);</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;  }</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160; </div>
<div class="line"><a name="l05079"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a048c0b7720a9d012b49c3e4f5adb0a6e"> 5079</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorClient.html#a048c0b7720a9d012b49c3e4f5adb0a6e">runMessageLoopOnPause</a>(<span class="keywordtype">int</span> contextGroupId)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;    <a class="code" href="classv8_1_1Isolate_1_1AllowJavascriptExecutionScope.html">v8::Isolate::AllowJavascriptExecutionScope</a> allow_script(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">v8::HandleScope</a> handle_scope(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> callback_name = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;        <a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>, <span class="stringliteral">&quot;handleInspectorMessage&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>);</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = context_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> callback =</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;        context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>()-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, callback_name).<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>();</div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <span class="keywordflow">if</span> (!callback-&gt;IsFunction()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160; </div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;    <span class="comment">// Running the message loop below may trigger the execution of a stackless</span></div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    <span class="comment">// GC. We need to override the embedder stack state, to force scanning the</span></div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;    <span class="comment">// stack, if this happens.</span></div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">i::Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>)-&gt;<a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>();</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EmbedderStackStateScope.html">i::EmbedderStackStateScope</a> stack_scanning_scope(</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;        <a class="code" href="namespaceheap.html">heap</a>, i::EmbedderStackStateOrigin::kExplicitInvocation,</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        v8::StackState::kMayContainHeapPointers);</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160; </div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a> try_catch(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;    is_paused = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160; </div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordflow">while</span> (is_paused) {</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(callback.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Function.html">Function</a>&gt;()-&gt;<a class="code" href="classv8_1_1Function.html#ac44115494773a32d87a63584b60709da">Call</a>(context, <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>), 0, {}));</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;      <span class="keywordflow">if</span> (try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) {</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;        is_paused = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;      }</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;    }</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;  }</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160; </div>
<div class="line"><a name="l05109"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a3baa45da861a5f841291c41b843b1463"> 5109</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorClient.html#a3baa45da861a5f841291c41b843b1463">quitMessageLoopOnPause</a>()<span class="keyword"> override </span>{ is_paused = <span class="keyword">false</span>; }</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160; </div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05112"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#acbe7df14ac38ff92879f9b85b1e634ae"> 5112</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="classv8__inspector_1_1V8InspectorSession.html">v8_inspector::V8InspectorSession</a>* <a class="code" href="classv8_1_1InspectorClient.html#acbe7df14ac38ff92879f9b85b1e634ae">GetSession</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context) {</div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    <a class="code" href="classv8_1_1InspectorClient.html">InspectorClient</a>* inspector_client = <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1InspectorClient.html">InspectorClient</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;        context-&gt;<a class="code" href="classv8_1_1Context.html#a4339a06a2e0c87454c15c6dada37164f">GetAlignedPointerFromEmbedderData</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a9c7b861e48f503c3d8feea91c88f6959">kInspectorClientIndex</a>));</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    <span class="keywordflow">return</span> inspector_client-&gt;<a class="code" href="classv8_1_1InspectorClient.html#ae9b20b93cb9b9196102881524a79bf13">session_</a>.get();</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;  }</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160; </div>
<div class="line"><a name="l05118"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a9805a640b07a95ce19841344a3f83c27"> 5118</a></span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> <a class="code" href="classv8_1_1InspectorClient.html#a9805a640b07a95ce19841344a3f83c27">ensureDefaultContextInGroup</a>(<span class="keywordtype">int</span> group_id)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(kContextGroupId, group_id);</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;    <span class="keywordflow">return</span> context_.Get(<a class="code" href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">isolate_</a>);</div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  }</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160; </div>
<div class="line"><a name="l05124"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#ae30685632e230d4b815725b5b4f64e64"> 5124</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1InspectorClient.html#ae30685632e230d4b815725b5b4f64e64">SendInspectorMessage</a>(</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">v8::HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(isolate));</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> message = info[0]-&gt;ToString(context).ToLocalChecked();</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;    <a class="code" href="classv8__inspector_1_1V8InspectorSession.html">v8_inspector::V8InspectorSession</a>* session =</div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;        <a class="code" href="classv8_1_1InspectorClient.html#acbe7df14ac38ff92879f9b85b1e634ae">InspectorClient::GetSession</a>(context);</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = message-&gt;Length();</div>
<div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;    std::unique_ptr&lt;uint16_t[]&gt; buffer(<span class="keyword">new</span> <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>]);</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;    message-&gt;WriteV2(isolate, 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, buffer.get());</div>
<div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <a class="code" href="classv8__inspector_1_1StringView.html">v8_inspector::StringView</a> message_view(buffer.get(), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;    {</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;      <a class="code" href="classv8_1_1SealHandleScope.html">v8::SealHandleScope</a> seal_handle_scope(isolate);</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;      session-&gt;<a class="code" href="classv8__inspector_1_1V8InspectorSession.html#aae2fc063675a465bbb4bb6a79c6b215b">dispatchProtocolMessage</a>(message_view);</div>
<div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;    }</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8.html#a93165d7e200a02042e92d5776c160b87">True</a>(isolate));</div>
<div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;  }</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160; </div>
<div class="line"><a name="l05145"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a1a4e640819b9bde3ea3af9cb5c7984e9"> 5145</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kContextGroupId = 1;</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160; </div>
<div class="line"><a name="l05147"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#abff6960071bae54d448850cb8862d107"> 5147</a></span>&#160;  std::unique_ptr&lt;v8_inspector::V8Inspector&gt; <a class="code" href="classv8_1_1InspectorClient.html#abff6960071bae54d448850cb8862d107">inspector_</a>;</div>
<div class="line"><a name="l05148"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#ae9b20b93cb9b9196102881524a79bf13"> 5148</a></span>&#160;  std::unique_ptr&lt;v8_inspector::V8InspectorSession&gt; <a class="code" href="classv8_1_1InspectorClient.html#ae9b20b93cb9b9196102881524a79bf13">session_</a>;</div>
<div class="line"><a name="l05149"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#af5f8ef28b07e3fa1f1d0297fec4c43d0"> 5149</a></span>&#160;  std::unique_ptr&lt;v8_inspector::V8Inspector::Channel&gt; <a class="code" href="classv8_1_1InspectorClient.html#af5f8ef28b07e3fa1f1d0297fec4c43d0">channel_</a>;</div>
<div class="line"><a name="l05150"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#acec7d139961829d9cecb886efe0f2b84"> 5150</a></span>&#160;  <span class="keywordtype">bool</span> is_paused = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05151"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a15c2cedba05b42b1cfe4b1583c1ec960"> 5151</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="classv8_1_1InspectorClient.html#a15c2cedba05b42b1cfe4b1583c1ec960">context_</a>;</div>
<div class="line"><a name="l05152"></a><span class="lineno"><a class="line" href="classv8_1_1InspectorClient.html#a58e013fd98947937df16400e495a749b"> 5152</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1InspectorClient.html#a58e013fd98947937df16400e495a749b">isolate_</a>;</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;};</div>
<div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160; </div>
<div class="line"><a name="l05155"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup.html#ab447d30ee21aac93cd5b7f3aae1f2a1a"> 5155</a></span>&#160;<a class="code" href="classv8_1_1SourceGroup.html#ab447d30ee21aac93cd5b7f3aae1f2a1a">SourceGroup::~SourceGroup</a>() {</div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;  <span class="keyword">delete</span> thread_;</div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;  thread_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;}</div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160; </div>
<div class="line"><a name="l05160"></a><span class="lineno"><a class="line" href="namespacev8.html#a2baa5273ccac96a5dafbc49c0164a882"> 5160</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a2baa5273ccac96a5dafbc49c0164a882">ends_with</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* input, <span class="keyword">const</span> <span class="keywordtype">char</span>* suffix) {</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;  <span class="keywordtype">size_t</span> input_length = strlen(input);</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;  <span class="keywordtype">size_t</span> suffix_length = strlen(suffix);</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;  <span class="keywordflow">if</span> (suffix_length &lt;= input_length) {</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;    <span class="keywordflow">return</span> strcmp(input + input_length - suffix_length, suffix) == 0;</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;  }</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;}</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160; </div>
<div class="line"><a name="l05169"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup.html#aee5f2902d76fc9e208091a44268dd58e"> 5169</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1SourceGroup.html#aee5f2902d76fc9e208091a44268dd58e">SourceGroup::Execute</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;  <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a>) {</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> file_name =</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;        <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, <span class="stringliteral">&quot;fuzzcode.js&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>)</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;            .ToLocalChecked();</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160; </div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;    <span class="keywordtype">size_t</span> script_size;</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(read(<a class="code" href="fuzzilli_8h.html#a7ac5624a7e0bd19d90e48cfd28092e7f">REPRL_CRFD</a>, &amp;script_size, 8), 8);</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;    <span class="keywordtype">char</span>* buffer = <span class="keyword">new</span> <span class="keywordtype">char</span>[script_size + 1];</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;    <span class="keywordtype">char</span>* ptr = buffer;</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;    <span class="keywordtype">size_t</span> remaining = script_size;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;    <span class="keywordflow">while</span> (remaining &gt; 0) {</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;      ssize_t rv = read(<a class="code" href="fuzzilli_8h.html#a18fe3a82799bada1390dec88591d6220">REPRL_DRFD</a>, ptr, remaining);</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a>(rv, 0);</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;      remaining -= rv;</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;      ptr += rv;</div>
<div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;    }</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    buffer[script_size] = 0;</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160; </div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source =</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;        <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, buffer, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>)</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;            .ToLocalChecked();</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    <span class="keyword">delete</span>[] buffer;</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <a class="code" href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">Shell::set_script_executed</a>();</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">Shell::ExecuteString</a>(isolate, source, file_name,</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;                              <a class="code" href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99">Shell::kReportExceptions</a>)) {</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;    }</div>
<div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;  }</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_FUZZILLI</span></div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = begin_offset_; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; end_offset_; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* arg = argv_[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    <span class="keywordflow">if</span> (strcmp(arg, <span class="stringliteral">&quot;-e&quot;</span>) == 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal.html">i</a> + 1 &lt; end_offset_) {</div>
<div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;      <span class="comment">// Execute argument given to -e option directly.</span></div>
<div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;      <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> file_name = <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(isolate, <span class="stringliteral">&quot;unnamed&quot;</span>);</div>
<div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source =</div>
<div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, argv_[<a class="code" href="namespacev8_1_1internal.html">i</a> + 1]).ToLocalChecked();</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">Shell::set_script_executed</a>();</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">Shell::ExecuteString</a>(isolate, source, file_name,</div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;                                <a class="code" href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99">Shell::kReportExceptions</a>)) {</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;        success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;      }</div>
<div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;      ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>;</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8.html#a2baa5273ccac96a5dafbc49c0164a882">ends_with</a>(arg, <span class="stringliteral">&quot;.mjs&quot;</span>)) {</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">Shell::set_script_executed</a>();</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a1f76c0129b87a9da7d54e060827c025e">Shell::ExecuteModule</a>(isolate, arg)) {</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;        success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;      }</div>
<div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg, <span class="stringliteral">&quot;--module&quot;</span>) == 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal.html">i</a> + 1 &lt; end_offset_) {</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;      <span class="comment">// Treat the next file as a module.</span></div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;      arg = argv_[++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">Shell::set_script_executed</a>();</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a1f76c0129b87a9da7d54e060827c025e">Shell::ExecuteModule</a>(isolate, arg)) {</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;        success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;      }</div>
<div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(arg, <span class="stringliteral">&quot;--json&quot;</span>) == 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal.html">i</a> + 1 &lt; end_offset_) {</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;      <span class="comment">// Treat the next file as a JSON file.</span></div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;      arg = argv_[++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">Shell::set_script_executed</a>();</div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#ab1b5ed0da283c14b6751207935a97135">Shell::LoadJSON</a>(isolate, arg)) {</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;        success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;      }</div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (arg[0] == <span class="charliteral">&#39;-&#39;</span>) {</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;      <span class="comment">// Ignore other options. They have been parsed already.</span></div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;    }</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160; </div>
<div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    <span class="comment">// Use all other arguments as names of files to load and run.</span></div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> file_name =</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;        <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, arg).ToLocalChecked();</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source;</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">Shell::ReadFile</a>(isolate, arg).ToLocal(&amp;source)) {</div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;      printf(<span class="stringliteral">&quot;Error reading &#39;%s&#39;\n&quot;</span>, arg);</div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;      <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">base::OS::ExitProcess</a>(1);</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;    }</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;    <a class="code" href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">Shell::set_script_executed</a>();</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a108f17f2c5a46910e3340f10fedec2d3">Shell::update_script_size</a>(source-&gt;Length());</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">Shell::ExecuteString</a>(isolate, source, file_name,</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;                              <a class="code" href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99">Shell::kReportExceptions</a>)) {</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;      success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    }</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;  }</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;  <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;}</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160; </div>
<div class="line"><a name="l05268"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup_1_1IsolateThread.html#a0c3a0c21d6ca05b5ee9e40c259c87562"> 5268</a></span>&#160;<a class="code" href="classv8_1_1SourceGroup_1_1IsolateThread.html#a0c3a0c21d6ca05b5ee9e40c259c87562">SourceGroup::IsolateThread::IsolateThread</a>(<a class="code" href="classv8_1_1SourceGroup.html">SourceGroup</a>* group)</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    : base::Thread(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afd84d7474ca591066c201d273b5c691b">GetThreadOptions</a>(<span class="stringliteral">&quot;IsolateThread&quot;</span>)), group_(group) {}</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160; </div>
<div class="line"><a name="l05271"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup.html#ace4ff2f9f504224fbb16a8a3dd261e79"> 5271</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1SourceGroup.html#ace4ff2f9f504224fbb16a8a3dd261e79">SourceGroup::ExecuteInThread</a>() {</div>
<div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;  <a class="code" href="classv8_1_1base_1_1FlushDenormalsScope.html">v8::base::FlushDenormalsScope</a> denormals_scope(<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.flush_denormals);</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160; </div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;  <a class="code" href="structv8_1_1Isolate_1_1CreateParams.html">Isolate::CreateParams</a> create_params;</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;  create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a7c663f70b64290392eeaf164f57585f9">array_buffer_allocator</a> = <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a>;</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#abab88b427984481cb58c371f6cb30005">Isolate::New</a>(create_params);</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160; </div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;  {</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    <a class="code" href="classv8_1_1Isolate_1_1Scope.html">Isolate::Scope</a> isolate_scope(isolate);</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <a class="code" href="classv8_1_1D8Console.html">D8Console</a> console(isolate);</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;    <a class="code" href="classv8_1_1Shell.html#acee16f3ab0828ed804bbd884a8ca984e">Shell::Initialize</a>(isolate, &amp;console, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a> data(isolate);</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160; </div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.<a class="code" href="classv8_1_1ShellOptions.html#ad3fe67af94d41baa7e8cef79b74d3fa0">stress_runs</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;      <a class="code" href="classv8_1_1SourceGroup.html#a6d36e11263c8bc31a11fbbf0ff45e0c2">next_semaphore_</a>.<a class="code" href="classv8_1_1internal_1_1ParkingSemaphore.html#a60aa48d0855b56e4ac570608e9031d8d">ParkedWait</a>(</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)-&gt;main_thread_local_isolate());</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;      {</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;        <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> global_context;</div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;        <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;        {</div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context;</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#a098daee69d3912d35b8ff76ccd0d11e1">Shell::CreateEvaluationContext</a>(isolate).ToLocal(&amp;context)) {</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;            <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>());</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;          }</div>
<div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;          global_context.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, context);</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;        }</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;        <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html">PerIsolateData::RealmScope</a> realm_scope(isolate, global_context);</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;        <a class="code" href="classv8_1_1InspectorClient.html">InspectorClient</a> inspector_client(isolate, global_context,</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;                                         <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.enable_inspector);</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;        {</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;          <span class="comment">// We cannot use a Context::Scope here, as it keeps a local handle to</span></div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;          <span class="comment">// the context and SourceGroup::Execute may execute a non-nestable</span></div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;          <span class="comment">// task, e.g. a stackless GC.</span></div>
<div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;          global_context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate)-&gt;Enter();</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;          <a class="code" href="classv8_1_1SourceGroup.html#aee5f2902d76fc9e208091a44268dd58e">Execute</a>(isolate);</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;          global_context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate)-&gt;Exit();</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;        }</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;        <a class="code" href="classv8_1_1Shell.html#afdd76cdac95763cd72176d522b938348">Shell::FinishExecuting</a>(isolate, global_context);</div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;      }</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad46dde06dc1dbf8c048b6ad7c55686c9">Shell::CollectGarbage</a>(isolate);</div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;      <a class="code" href="classv8_1_1SourceGroup.html#ae8d1c2001edd27dcf703f477e3aa7119">done_semaphore_</a>.<a class="code" href="classv8_1_1base_1_1Semaphore.html#a95ee194fdea88172c20132a95ac8ca59">Signal</a>();</div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    }</div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160; </div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a3a8748666c6e4a15af5154cd990a53d5">Shell::ResetOnProfileEndListener</a>(isolate);</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;  }</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160; </div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a1a5a5762e4221aff8c6b10f9e3cec0af">Dispose</a>();</div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;}</div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160; </div>
<div class="line"><a name="l05321"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup.html#a6e6a61155ca7c4553a363ce22e755eae"> 5321</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1SourceGroup.html#a6e6a61155ca7c4553a363ce22e755eae">SourceGroup::StartExecuteInThread</a>() {</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">thread_</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;    <a class="code" href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">thread_</a> = <span class="keyword">new</span> <a class="code" href="classv8_1_1SourceGroup_1_1IsolateThread.html">IsolateThread</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">thread_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread.html#a4c2159b224419ce01ca653ffcd5e28c2">Start</a>());</div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;  }</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;  <a class="code" href="classv8_1_1SourceGroup.html#a6d36e11263c8bc31a11fbbf0ff45e0c2">next_semaphore_</a>.<a class="code" href="classv8_1_1base_1_1Semaphore.html#a95ee194fdea88172c20132a95ac8ca59">Signal</a>();</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;}</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160; </div>
<div class="line"><a name="l05329"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup.html#af1661d01a656e627f54d1eed63f7260e"> 5329</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1SourceGroup.html#af1661d01a656e627f54d1eed63f7260e">SourceGroup::WaitForThread</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) {</div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">thread_</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;  <a class="code" href="classv8_1_1SourceGroup.html#ae8d1c2001edd27dcf703f477e3aa7119">done_semaphore_</a>.<a class="code" href="classv8_1_1internal_1_1ParkingSemaphore.html#a60aa48d0855b56e4ac570608e9031d8d">ParkedWait</a>(parked);</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;}</div>
<div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160; </div>
<div class="line"><a name="l05334"></a><span class="lineno"><a class="line" href="classv8_1_1SourceGroup.html#a02807c759be36fe8c0feb2e6f5f43ff4"> 5334</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1SourceGroup.html#a02807c759be36fe8c0feb2e6f5f43ff4">SourceGroup::JoinThread</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) {</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(parked);</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">thread_</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;  <a class="code" href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">thread_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread.html#a03b039733dcd3df63085e74c587df9b7">Join</a>();</div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;}</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160; </div>
<div class="line"><a name="l05340"></a><span class="lineno"><a class="line" href="classv8_1_1SerializationDataQueue.html#a29553b2dbd5de7b71087c0fc09c63174"> 5340</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1SerializationDataQueue.html#a29553b2dbd5de7b71087c0fc09c63174">SerializationDataQueue::Enqueue</a>(std::unique_ptr&lt;SerializationData&gt; data) {</div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;mutex_);</div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;  data_.push_back(std::move(data));</div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;}</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160; </div>
<div class="line"><a name="l05345"></a><span class="lineno"><a class="line" href="classv8_1_1SerializationDataQueue.html#a484b964c7f57003203c3c80905abd384"> 5345</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1SerializationDataQueue.html#a484b964c7f57003203c3c80905abd384">SerializationDataQueue::Dequeue</a>(</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;    std::unique_ptr&lt;SerializationData&gt;* out_data) {</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;  out_data-&gt;reset();</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;mutex_);</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;  <span class="keywordflow">if</span> (data_.empty()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;  *out_data = std::move(data_[0]);</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;  data_.erase(data_.begin());</div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;}</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160; </div>
<div class="line"><a name="l05355"></a><span class="lineno"><a class="line" href="classv8_1_1SerializationDataQueue.html#a9103ef577bcfe534f12347a6c8480062"> 5355</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1SerializationDataQueue.html#a9103ef577bcfe534f12347a6c8480062">SerializationDataQueue::IsEmpty</a>() {</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;mutex_);</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;  <span class="keywordflow">return</span> data_.empty();</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;}</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160; </div>
<div class="line"><a name="l05360"></a><span class="lineno"><a class="line" href="classv8_1_1SerializationDataQueue.html#ab01f3774e08176cfb4d1dddfda6d04a4"> 5360</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1SerializationDataQueue.html#ab01f3774e08176cfb4d1dddfda6d04a4">SerializationDataQueue::Clear</a>() {</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;mutex_);</div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;  data_.clear();</div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;}</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160; </div>
<div class="line"><a name="l05365"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a79af45d8af140aff113eabcfac52af70"> 5365</a></span>&#160;<a class="code" href="classv8_1_1Worker.html#a79af45d8af140aff113eabcfac52af70">Worker::Worker</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* parent_isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>,</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;               <span class="keywordtype">bool</span> flush_denormals)</div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    : script_(<a class="code" href="namespacev8_1_1internal.html">i</a>::<a class="code" href="namespacev8_1_1internal.html#a7cd299af39afd3e3f7efe45c2afbd6c0">StrDup</a>(<a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>)),</div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;      flush_denormals_(flush_denormals),</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;      parent_isolate_(parent_isolate) {</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">state_</a>.store(<a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a25d5606fe07425ea73f245c48612c039">State::kReady</a>);</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;}</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160; </div>
<div class="line"><a name="l05373"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#abca405daad2b4cfd6db900fb7f5df164"> 5373</a></span>&#160;<a class="code" href="classv8_1_1Worker.html#abca405daad2b4cfd6db900fb7f5df164">Worker::~Worker</a>() {</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">state_</a>.load() == <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a790ff187421ccafd6083c04549b89602">State::kTerminated</a>);</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classv8_1_1Worker.html#a3a9fc4f1c37b3e2f8770ec12b2701931">thread_</a>;</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a3a9fc4f1c37b3e2f8770ec12b2701931">thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;  <span class="keyword">delete</span>[] <a class="code" href="classv8_1_1Worker.html#a25c144ae432f3ae26786e481c7d0a206">script_</a>;</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a25c144ae432f3ae26786e481c7d0a206">script_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;}</div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160; </div>
<div class="line"><a name="l05382"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807"> 5382</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">Worker::is_running</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">state_</a>.load() == <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a2fc7fbf0d19294f85dd3880460dd3c0a">State::kRunning</a>; }</div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160; </div>
<div class="line"><a name="l05384"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a96a1733c55125cbedf65f6eeffbd20d8"> 5384</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Worker.html#a96a1733c55125cbedf65f6eeffbd20d8">Worker::StartWorkerThread</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* requester,</div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;                               std::shared_ptr&lt;Worker&gt; worker,</div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;                               <a class="code" href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5">base::Thread::Priority</a> priority) {</div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;  <span class="keyword">auto</span> expected = <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a25d5606fe07425ea73f245c48612c039">State::kReady</a>;</div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;      worker-&gt;state_.compare_exchange_strong(expected, <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a532fa4b0d162f7155e2528e6051863e2">State::kPrepareRunning</a>));</div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;  <span class="keyword">auto</span> thread = <span class="keyword">new</span> <a class="code" href="classv8_1_1Worker_1_1WorkerThread.html">WorkerThread</a>(worker, priority);</div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;  worker-&gt;thread_ = thread;</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;  <span class="keywordflow">if</span> (!thread-&gt;Start()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;  <span class="comment">// Wait until the worker is ready to receive messages.</span></div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;  worker-&gt;started_semaphore_.ParkedWait(</div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(requester)-&gt;main_thread_local_isolate());</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;  <a class="code" href="classv8_1_1Shell.html#ae2e178438d914872bee54f788624bc6e">Shell::AddRunningWorker</a>(std::move(worker));</div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;}</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160; </div>
<div class="line"><a name="l05400"></a><span class="lineno"><a class="line" href="classv8_1_1Worker_1_1WorkerThread.html#aa5348ac97d4d7f8c01d8d53184165eb9"> 5400</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker_1_1WorkerThread.html#aa5348ac97d4d7f8c01d8d53184165eb9">Worker::WorkerThread::Run</a>() {</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;  <span class="comment">// Prevent a lifetime cycle from Worker -&gt; WorkerThread -&gt; Worker.</span></div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;  <span class="comment">// We must clear the worker_ field of the thread, but we keep the</span></div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;  <span class="comment">// worker alive via a stack root until the thread finishes execution</span></div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;  <span class="comment">// and removes itself from the running set. Thereafter the only</span></div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;  <span class="comment">// remaining reference can be from a JavaScript object via a Managed.</span></div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;  <span class="keyword">auto</span> worker = std::move(<a class="code" href="classv8_1_1Worker_1_1WorkerThread.html#acf3192cb2599c2efe6b88eeb8ede9779">worker_</a>);</div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;  <a class="code" href="classv8_1_1Worker_1_1WorkerThread.html#acf3192cb2599c2efe6b88eeb8ede9779">worker_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;  worker-&gt;ExecuteInThread();</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;  <a class="code" href="classv8_1_1Shell.html#aa573a1158e8806c655e9031ab56cdbb5">Shell::RemoveRunningWorker</a>(worker);</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;}</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160; </div>
<div class="line"><a name="l05412"></a><span class="lineno"><a class="line" href="classv8_1_1ProcessMessageTask.html"> 5412</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ProcessMessageTask.html">ProcessMessageTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1CancelableTask.html">i::CancelableTask</a> {</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05414"></a><span class="lineno"><a class="line" href="classv8_1_1ProcessMessageTask.html#ab23307ee2bf37934e1ab3f0b2011cf92"> 5414</a></span>&#160;  <a class="code" href="classv8_1_1ProcessMessageTask.html#ab23307ee2bf37934e1ab3f0b2011cf92">ProcessMessageTask</a>(<a class="code" href="classv8_1_1internal_1_1CancelableTaskManager.html">i::CancelableTaskManager</a>* task_manager,</div>
<div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;                     std::shared_ptr&lt;Worker&gt; worker,</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;                     std::unique_ptr&lt;SerializationData&gt; data)</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;      : <a class="code" href="namespacev8_1_1internal.html">i</a>::CancelableTask(task_manager),</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;        worker_(worker),</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;        data_(std::move(data)) {}</div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160; </div>
<div class="line"><a name="l05421"></a><span class="lineno"><a class="line" href="classv8_1_1ProcessMessageTask.html#a9793633580dc5d2ea6202105b5168095"> 5421</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1ProcessMessageTask.html#a9793633580dc5d2ea6202105b5168095">RunInternal</a>()<span class="keyword"> override </span>{ worker_-&gt;ProcessMessage(std::move(data_)); }</div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160; </div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05424"></a><span class="lineno"><a class="line" href="classv8_1_1ProcessMessageTask.html#a40f1bbd0f6d2c83ef177199cc2ea1eee"> 5424</a></span>&#160;  std::shared_ptr&lt;Worker&gt; <a class="code" href="classv8_1_1ProcessMessageTask.html#a40f1bbd0f6d2c83ef177199cc2ea1eee">worker_</a>;</div>
<div class="line"><a name="l05425"></a><span class="lineno"><a class="line" href="classv8_1_1ProcessMessageTask.html#a65d07dda13708b8394591c99628084a6"> 5425</a></span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1ProcessMessageTask.html#a65d07dda13708b8394591c99628084a6">data_</a>;</div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;};</div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160; </div>
<div class="line"><a name="l05428"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a7ac418941c1380bebe89708a76477468"> 5428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a7ac418941c1380bebe89708a76477468">Worker::PostMessage</a>(std::unique_ptr&lt;SerializationData&gt; data) {</div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;<a class="code" href="classv8_1_1Worker.html#a67de5cfbeb04b6347bd8c17ece769267">worker_mutex_</a>);</div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">is_running</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;  std::unique_ptr&lt;v8::Task&gt; task(<span class="keyword">new</span> <a class="code" href="classv8_1_1Worker.html#a5e04e70103d56ddb62a7c02224b53d6a">ProcessMessageTask</a>(</div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;      <a class="code" href="classv8_1_1Worker.html#a05a66b2a7144522362514b293c139edd">task_manager_</a>, shared_from_this(), std::move(data)));</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a2efa1951b7359de8cfa32fe3ba826245">task_runner_</a>-&gt;PostNonNestableTask(std::move(task));</div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;}</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160; </div>
<div class="line"><a name="l05436"></a><span class="lineno"><a class="line" href="classv8_1_1TerminateTask.html"> 5436</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1TerminateTask.html">TerminateTask</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1CancelableTask.html">i::CancelableTask</a> {</div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05438"></a><span class="lineno"><a class="line" href="classv8_1_1TerminateTask.html#a6e6500457aa0473fbfb1eefa702a490d"> 5438</a></span>&#160;  <a class="code" href="classv8_1_1TerminateTask.html#a6e6500457aa0473fbfb1eefa702a490d">TerminateTask</a>(<a class="code" href="classv8_1_1internal_1_1CancelableTaskManager.html">i::CancelableTaskManager</a>* task_manager,</div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;                std::shared_ptr&lt;Worker&gt; worker)</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;      : <a class="code" href="namespacev8_1_1internal.html">i</a>::CancelableTask(task_manager), worker_(worker) {}</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160; </div>
<div class="line"><a name="l05442"></a><span class="lineno"><a class="line" href="classv8_1_1TerminateTask.html#a8a75b2c549d47b373d2bed69811af814"> 5442</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TerminateTask.html#a8a75b2c549d47b373d2bed69811af814">RunInternal</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;    <span class="keyword">auto</span> expected = <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a565f31fd6e6a7251958cd91de2d701e5">Worker::State::kTerminating</a>;</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(worker_-&gt;state_.compare_exchange_strong(expected,</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;                                                  <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a790ff187421ccafd6083c04549b89602">Worker::State::kTerminated</a>));</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;  }</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160; </div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05449"></a><span class="lineno"><a class="line" href="classv8_1_1TerminateTask.html#a2dc544a415fe258fa0659159e378f0c3"> 5449</a></span>&#160;  std::shared_ptr&lt;Worker&gt; <a class="code" href="classv8_1_1TerminateTask.html#a2dc544a415fe258fa0659159e378f0c3">worker_</a>;</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;};</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160; </div>
<div class="line"><a name="l05452"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a9f6e465334e805f5479a35abed345ddc"> 5452</a></span>&#160;std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1Worker.html#a9f6e465334e805f5479a35abed345ddc">Worker::GetMessage</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* requester) {</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;  <span class="keywordflow">while</span> (!<a class="code" href="classv8_1_1Worker.html#abff27c3a3a357a1cc380d884aba419b8">out_queue_</a>.<a class="code" href="classv8_1_1SerializationDataQueue.html#a484b964c7f57003203c3c80905abd384">Dequeue</a>(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    <span class="comment">// If the worker is no longer running, and there are no messages in the</span></div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;    <span class="comment">// queue, don&#39;t expect any more messages from it.</span></div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">is_running</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    <a class="code" href="classv8_1_1Worker.html#a8226cc21a21d02cf34e5c0c3ed150914">out_semaphore_</a>.<a class="code" href="classv8_1_1internal_1_1ParkingSemaphore.html#a60aa48d0855b56e4ac570608e9031d8d">ParkedWait</a>(</div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(requester)-&gt;main_thread_local_isolate());</div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;  }</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;}</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160; </div>
<div class="line"><a name="l05464"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a3895f0ff32bb3273b32c52cb827afa32"> 5464</a></span>&#160;std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1Worker.html#a3895f0ff32bb3273b32c52cb827afa32">Worker::TryGetMessage</a>() {</div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#abff27c3a3a357a1cc380d884aba419b8">out_queue_</a>.<a class="code" href="classv8_1_1SerializationDataQueue.html#a484b964c7f57003203c3c80905abd384">Dequeue</a>(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)) {</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;  }</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;}</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160; </div>
<div class="line"><a name="l05472"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#ab8e7ca573e4af2e3d6d8357827bfbe4a"> 5472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#ab8e7ca573e4af2e3d6d8357827bfbe4a">Worker::TerminateAndWaitForThread</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) {</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(parked);</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a9252812cf431f134826c80898de978e6">Terminate</a>();</div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;  {</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;<a class="code" href="classv8_1_1Worker.html#a67de5cfbeb04b6347bd8c17ece769267">worker_mutex_</a>);</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;    <span class="comment">// Prevent double-joining.</span></div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Worker.html#a62db550e45cbd88947a687e0d382ba76">is_joined_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;    <a class="code" href="classv8_1_1Worker.html#a62db550e45cbd88947a687e0d382ba76">is_joined_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;  }</div>
<div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a3a9fc4f1c37b3e2f8770ec12b2701931">thread_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread.html#a03b039733dcd3df63085e74c587df9b7">Join</a>();</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;}</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160; </div>
<div class="line"><a name="l05484"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a9252812cf431f134826c80898de978e6"> 5484</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a9252812cf431f134826c80898de978e6">Worker::Terminate</a>() {</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;<a class="code" href="classv8_1_1Worker.html#a67de5cfbeb04b6347bd8c17ece769267">worker_mutex_</a>);</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;  <span class="keyword">auto</span> expected = <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a2fc7fbf0d19294f85dd3880460dd3c0a">State::kRunning</a>;</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">state_</a>.compare_exchange_strong(expected, <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a565f31fd6e6a7251958cd91de2d701e5">State::kTerminating</a>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;  std::unique_ptr&lt;v8::Task&gt; task(</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;      <span class="keyword">new</span> <a class="code" href="classv8_1_1Worker.html#a6b9b4d01d4b5aa643c761e43f765d255">TerminateTask</a>(<a class="code" href="classv8_1_1Worker.html#a05a66b2a7144522362514b293c139edd">task_manager_</a>, shared_from_this()));</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a2efa1951b7359de8cfa32fe3ba826245">task_runner_</a>-&gt;PostTask(std::move(task));</div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;  <span class="comment">// Also schedule an interrupt in case the worker is running code and never</span></div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;  <span class="comment">// returning to the event queue. Since we checked the state before, and we are</span></div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;  <span class="comment">// holding the {worker_mutex_}, it&#39;s safe to access the isolate.</span></div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#ad212b2e0b66ff5d586cd79cfa0b555fb">TerminateExecution</a>();</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;}</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160; </div>
<div class="line"><a name="l05497"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a7adb299125b1a66e5dc0fb4a5a6d2354"> 5497</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a7adb299125b1a66e5dc0fb4a5a6d2354">Worker::EnterTerminatedState</a>() {</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(&amp;<a class="code" href="classv8_1_1Worker.html#a67de5cfbeb04b6347bd8c17ece769267">worker_mutex_</a>);</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">state_</a>.store(<a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a790ff187421ccafd6083c04549b89602">State::kTerminated</a>);</div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">is_running</a>());</div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a2efa1951b7359de8cfa32fe3ba826245">task_runner_</a>.reset();</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a05a66b2a7144522362514b293c139edd">task_manager_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;}</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160; </div>
<div class="line"><a name="l05505"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a4814205d0e4c61fdbd84f1e54c91fc53"> 5505</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a4814205d0e4c61fdbd84f1e54c91fc53">Worker::ProcessMessage</a>(std::unique_ptr&lt;SerializationData&gt; data) {</div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">is_running</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.Get(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;  <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> global = context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>();</div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160; </div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  <span class="comment">// Get the message handler.</span></div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_onmessage = global-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(</div>
<div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;      context, <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;onmessage&quot;</span>,</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;                                          <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>));</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> onmessage;</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;  <span class="keywordflow">if</span> (!maybe_onmessage.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;onmessage) || !onmessage-&gt;IsFunction()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> onmessage_fun = onmessage.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Function.html">Function</a>&gt;();</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160; </div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">v8::TryCatch</a> try_catch(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;  try_catch.SetVerbose(<span class="keyword">true</span>);</div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#a23e9db916ab7fb980709bee587d431bb">Shell::DeserializeValue</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, std::move(data)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>());</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <span class="keyword">event</span> = <a class="code" href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">Object::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    <span class="keyword">event</span></div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;        -&gt;CreateDataProperty(</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;            context,</div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;            <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;data&quot;</span>,</div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;                                       <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;        .ToChecked();</div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> argv[] = {<span class="keyword">event</span>};</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = onmessage_fun-&gt;Call(context, global, 1, argv);</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;  }</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) {</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;    <span class="comment">// Re-schedule an interrupt in case the worker is going to run more code</span></div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;    <span class="comment">// and never return to the event queue.</span></div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;    <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#ad212b2e0b66ff5d586cd79cfa0b555fb">TerminateExecution</a>();</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;  }</div>
<div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;}</div>
<div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160; </div>
<div class="line"><a name="l05545"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c"> 5545</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">Worker::ProcessMessages</a>() {</div>
<div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SaveAndSwitchContext.html">i::SaveAndSwitchContext</a> saved_context(i_isolate, <a class="code" href="classv8_1_1internal_1_1Context.html">i::Context</a>());</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;  <a class="code" href="classv8_1_1SealHandleScope.html">SealHandleScope</a> shs(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160; </div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;  try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160; </div>
<div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">is_running</a>() &amp;&amp; <a class="code" href="namespacev8_1_1platform.html#a7e3e8b26667bf9246da1d2ca4d249f83">v8::platform::PumpMessageLoop</a>(</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;                             <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>,</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;                             <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29ac993f8cfee60538f6d2b6b6dc7b89a79">platform::MessageLoopBehavior::kWaitForWork</a>)) {</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;    <span class="keywordflow">if</span> (try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">is_running</a>()) {</div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;      <a class="code" href="classv8_1_1MicrotasksScope.html#a7c181251fc02bd2b5a1051e5de8fe4ed">MicrotasksScope::PerformCheckpoint</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;    }</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;  }</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;}</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160; </div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l05564"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#ab44f03713d6c01bd8c2e8a77c3e5a2ab"> 5564</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#ab44f03713d6c01bd8c2e8a77c3e5a2ab">Worker::SetCurrentWorker</a>(<a class="code" href="classv8_1_1Worker.html">Worker</a>* worker) {</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3c4e52e274e903c3f00dc579926c96ec">current_worker_</a>);</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3c4e52e274e903c3f00dc579926c96ec">current_worker_</a> = worker;</div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;}</div>
<div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160; </div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l05570"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#afda5ce466252e4a4aaebd7a1a34eb637"> 5570</a></span>&#160;<a class="code" href="classv8_1_1Worker.html">Worker</a>* <a class="code" href="classv8_1_1Worker.html#afda5ce466252e4a4aaebd7a1a34eb637">Worker::GetCurrentWorker</a>() { <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3c4e52e274e903c3f00dc579926c96ec">current_worker_</a>; }</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160; </div>
<div class="line"><a name="l05572"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a366fa9c43d9d6ff2051d38a6dd41cb9e"> 5572</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a366fa9c43d9d6ff2051d38a6dd41cb9e">Worker::ExecuteInThread</a>() {</div>
<div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  <a class="code" href="classv8_1_1base_1_1FlushDenormalsScope.html">v8::base::FlushDenormalsScope</a> denormals_scope(<a class="code" href="classv8_1_1Worker.html#a2ec0bf60ded57afe2225b7dfabb66c3d">flush_denormals_</a>);</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160; </div>
<div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  <a class="code" href="structv8_1_1Isolate_1_1CreateParams.html">Isolate::CreateParams</a> create_params;</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;  create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a7c663f70b64290392eeaf164f57585f9">array_buffer_allocator</a> = <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a>;</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a> = <a class="code" href="classv8_1_1Isolate.html#abab88b427984481cb58c371f6cb30005">Isolate::New</a>(create_params);</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160; </div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;  <span class="comment">// Make the Worker instance available to the whole thread.</span></div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;  <a class="code" href="classv8_1_1Worker.html#ab44f03713d6c01bd8c2e8a77c3e5a2ab">SetCurrentWorker</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160; </div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a2efa1951b7359de8cfa32fe3ba826245">task_runner_</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>-&gt;<a class="code" href="classv8_1_1Platform.html#a098c125aa524aa3f3cde02dd158a143e">GetForegroundTaskRunner</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a05a66b2a7144522362514b293c139edd">task_manager_</a> =</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>)-&gt;cancelable_task_manager();</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160; </div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;  <span class="keyword">auto</span> expected = <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a532fa4b0d162f7155e2528e6051863e2">State::kPrepareRunning</a>;</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">state_</a>.compare_exchange_strong(expected, <a class="code" href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a2fc7fbf0d19294f85dd3880460dd3c0a">State::kRunning</a>));</div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160; </div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;  <span class="comment">// The Worker is now ready to receive messages.</span></div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a4fcc635fc43abec5d29e492aab900743">started_semaphore_</a>.<a class="code" href="classv8_1_1base_1_1Semaphore.html#a95ee194fdea88172c20132a95ac8ca59">Signal</a>();</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160; </div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;  {</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;    <a class="code" href="classv8_1_1Isolate_1_1Scope.html">Isolate::Scope</a> isolate_scope(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;    <a class="code" href="classv8_1_1D8Console.html">D8Console</a> console(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;    <a class="code" href="classv8_1_1Shell.html#acee16f3ab0828ed804bbd884a8ca984e">Shell::Initialize</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, &amp;console, <span class="keyword">false</span>);</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a> data(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160; </div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;    <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.IsEmpty());</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160; </div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;    {</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;      <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context;</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#a098daee69d3912d35b8ff76ccd0d11e1">Shell::CreateEvaluationContext</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>).ToLocal(&amp;context)) {</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;        <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.Reset(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, context);</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;        <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.IsEmpty());</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;      }</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;    }</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160; </div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.IsEmpty()) {</div>
<div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;      {</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;        <span class="keywordtype">bool</span> success;</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;        <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html">PerIsolateData::RealmScope</a> realm_scope(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>);</div>
<div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;        {</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;          <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.Get(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;          <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160; </div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> global = context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>();</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> this_value = <a class="code" href="classv8_1_1External.html#a881b71b771ce579154757c0b89ba53a1">External::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160; </div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> postmessage_fun_template =</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;              <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <a class="code" href="classv8_1_1Worker.html#a7a04653d0514743346802d3da98608e1">Worker::PostMessageOut</a>,</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;                                    this_value);</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> postmessage_fun;</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;          <span class="keywordflow">if</span> (postmessage_fun_template-&gt;GetFunction(context).ToLocal(</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;                  &amp;postmessage_fun)) {</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;            global</div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;                -&gt;<a class="code" href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">Set</a>(</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;                    context,</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;                    <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;                        <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;postMessage&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;                    postmessage_fun)</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;                .FromJust();</div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;          }</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160; </div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> close_fun_template =</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;              <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <a class="code" href="classv8_1_1Worker.html#a76e8ccadafba5298c49d5a1e74c86b3e">Worker::Close</a>, this_value);</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> close_fun;</div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;          <span class="keywordflow">if</span> (close_fun_template-&gt;GetFunction(context).ToLocal(&amp;close_fun)) {</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;            global</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;                -&gt;<a class="code" href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">Set</a>(context,</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;                      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;                          <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;close&quot;</span>, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;                      close_fun)</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;                .FromJust();</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;          }</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160; </div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> importScripts_fun_template =</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;              <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <a class="code" href="classv8_1_1Worker.html#ae8e3bce716beb50a1f7fce4c47ef5ed4">Worker::ImportScripts</a>,</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;                                    this_value);</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a> importScripts_fun;</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;          <span class="keywordflow">if</span> (importScripts_fun_template-&gt;GetFunction(context).ToLocal(</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;                  &amp;importScripts_fun)) {</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;            global</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;                -&gt;<a class="code" href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">Set</a>(context,</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;                      <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a>(</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;                          <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;importScripts&quot;</span>,</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;                          <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>),</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;                      importScripts_fun)</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;                .FromJust();</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;          }</div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160; </div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;          <span class="comment">// First run the script</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> file_name =</div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;              <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;unnamed&quot;</span>);</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> source =</div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;              <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <a class="code" href="classv8_1_1Worker.html#a25c144ae432f3ae26786e481c7d0a206">script_</a>).ToLocalChecked();</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;          success = <a class="code" href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">Shell::ExecuteString</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, source, file_name,</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;                                         <a class="code" href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99">Shell::kReportExceptions</a>);</div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;        }</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Shell.html#afdd76cdac95763cd72176d522b938348">Shell::FinishExecuting</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>)) success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;        <span class="keywordflow">if</span> (success) {</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;          <span class="keywordtype">bool</span> handler_present;</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;          {</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;            <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;            <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.Get(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;            <a class="code" href="classv8_1_1Context_1_1Scope.html">Context::Scope</a> context_scope(context);</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;            <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> global = context-&gt;<a class="code" href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">Global</a>();</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;            <span class="comment">// Check that there&#39;s a message handler</span></div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;            <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe_onmessage = global-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(</div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;                context,</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;                <a class="code" href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">String::NewFromUtf8Literal</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, <span class="stringliteral">&quot;onmessage&quot;</span>,</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;                                           <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">NewStringType::kInternalized</a>));</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;            <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> onmessage;</div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;            handler_present =</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;                maybe_onmessage.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;onmessage) &amp;&amp; onmessage-&gt;IsFunction();</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;          }</div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;          <span class="keywordflow">if</span> (handler_present) {</div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;            <span class="comment">// Now wait for messages.</span></div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;            <a class="code" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">ProcessMessages</a>();</div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;          }</div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;        }</div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;      }</div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad46dde06dc1dbf8c048b6ad7c55686c9">Shell::CollectGarbage</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    }</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160; </div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;    <a class="code" href="classv8_1_1Worker.html#a7adb299125b1a66e5dc0fb4a5a6d2354">EnterTerminatedState</a>();</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160; </div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;    <a class="code" href="classv8_1_1Shell.html#a3a8748666c6e4a15af5154cd990a53d5">Shell::ResetOnProfileEndListener</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;    <a class="code" href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">context_</a>.Reset();</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;    <a class="code" href="namespacev8_1_1platform.html#acc8f10da942f6a509ba5ba1e9cc19876">platform::NotifyIsolateShutdown</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>);</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;  }</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160; </div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#a1a5a5762e4221aff8c6b10f9e3cec0af">Dispose</a>();</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160; </div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;  <span class="comment">// Post nullptr to wake the thread waiting on GetMessage() if there is one.</span></div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;  <a class="code" href="classv8_1_1Worker.html#abff27c3a3a357a1cc380d884aba419b8">out_queue_</a>.<a class="code" href="classv8_1_1SerializationDataQueue.html#a29553b2dbd5de7b71087c0fc09c63174">Enqueue</a>(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;  <a class="code" href="classv8_1_1Worker.html#a8226cc21a21d02cf34e5c0c3ed150914">out_semaphore_</a>.<a class="code" href="classv8_1_1base_1_1Semaphore.html#a95ee194fdea88172c20132a95ac8ca59">Signal</a>();</div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;  <span class="comment">// Also post an cleanup task to the parent isolate, so that it sees that this</span></div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;  <span class="comment">// worker is terminated and can clean it up in a thread-safe way.</span></div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>-&gt;GetForegroundTaskRunner(<a class="code" href="classv8_1_1Worker.html#af872ee72b01a28ee4107322b4d7cc1a3">parent_isolate_</a>)</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;      -&gt;PostTask(std::make_unique&lt;CleanUpWorkerTask&gt;(<a class="code" href="classv8_1_1Worker.html#af872ee72b01a28ee4107322b4d7cc1a3">parent_isolate_</a>,</div>
<div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;                                                     this-&gt;shared_from_this()));</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;}</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160; </div>
<div class="line"><a name="l05717"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a7a04653d0514743346802d3da98608e1"> 5717</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a7a04653d0514743346802d3da98608e1">Worker::PostMessageOut</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160; </div>
<div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1) {</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">ThrowError</a>(isolate, <span class="stringliteral">&quot;Invalid argument&quot;</span>);</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;  }</div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160; </div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> message = info[0];</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> transfer = <a class="code" href="namespacev8.html#a2ff3682899e967e165efa3460661c851">Undefined</a>(isolate);</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  std::unique_ptr&lt;SerializationData&gt; data =</div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad460c6d00a2acaa3d51a7a076ddd98d0">Shell::SerializeValue</a>(isolate, message, transfer);</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;  <span class="keywordflow">if</span> (data) {</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>()-&gt;IsExternal());</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;External&gt;</a> this_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>().As&lt;<a class="code" href="classv8_1_1External.html">External</a>&gt;();</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;    <a class="code" href="classv8_1_1Worker.html">Worker</a>* worker = <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1Worker.html">Worker</a>*<span class="keyword">&gt;</span>(this_value-&gt;Value());</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160; </div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    worker-&gt;<a class="code" href="classv8_1_1Worker.html#abff27c3a3a357a1cc380d884aba419b8">out_queue_</a>.<a class="code" href="classv8_1_1SerializationDataQueue.html#a29553b2dbd5de7b71087c0fc09c63174">Enqueue</a>(std::move(data));</div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    worker-&gt;out_semaphore_.Signal();</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>-&gt;GetForegroundTaskRunner(worker-&gt;parent_isolate_)</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;        -&gt;PostTask(std::make_unique&lt;CheckMessageFromWorkerTask&gt;(</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;            worker-&gt;parent_isolate_, worker-&gt;shared_from_this()));</div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;  }</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;}</div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160; </div>
<div class="line"><a name="l05744"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#ae8e3bce716beb50a1f7fce4c47ef5ed4"> 5744</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#ae8e3bce716beb50a1f7fce4c47ef5ed4">Worker::ImportScripts</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;  <a class="code" href="classv8_1_1Shell.html#ad1b686b80504d92570f2dd37a8a4e147">Shell::ExecuteFile</a>(info);</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;}</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160; </div>
<div class="line"><a name="l05748"></a><span class="lineno"><a class="line" href="classv8_1_1Worker.html#a76e8ccadafba5298c49d5a1e74c86b3e"> 5748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Worker.html#a76e8ccadafba5298c49d5a1e74c86b3e">Worker::Close</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>()-&gt;IsExternal());</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;External&gt;</a> this_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>().As&lt;<a class="code" href="classv8_1_1External.html">External</a>&gt;();</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;  <a class="code" href="classv8_1_1Worker.html">Worker</a>* worker = <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1Worker.html">Worker</a>*<span class="keyword">&gt;</span>(this_value-&gt;Value());</div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;  worker-&gt;<a class="code" href="classv8_1_1Worker.html#a9252812cf431f134826c80898de978e6">Terminate</a>();</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;}</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160; </div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;<span class="preprocessor">#ifdef V8_TARGET_OS_WIN</span></div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;<span class="comment">// Enable support for unicode filename path on windows.</span></div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;<span class="comment">// We first convert ansi encoded argv[i] to utf16 encoded, and then</span></div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;<span class="comment">// convert utf16 encoded to utf8 encoded with setting the argv[i]</span></div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;<span class="comment">// to the utf8 encoded arg. We allocate memory for the utf8 encoded</span></div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;<span class="comment">// arg, and we will free it and reset it to nullptr after using</span></div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;<span class="comment">// the filename path arg. And because Execute may be called multiple</span></div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;<span class="comment">// times, we need to free the allocated unicode filename when exit.</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160; </div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;<span class="comment">// Save the allocated utf8 filenames, and we will free them when exit.</span></div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;std::vector&lt;char*&gt; utf8_filenames;</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;<span class="preprocessor">#include &lt;shellapi.h&gt;</span></div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;<span class="comment">// Convert utf-16 encoded string to utf-8 encoded.</span></div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;<span class="keywordtype">char</span>* ConvertUtf16StringToUtf8(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* str) {</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;  <span class="comment">// On Windows wchar_t must be a 16-bit value.</span></div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;  static_assert(<span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>) == 2, <span class="stringliteral">&quot;wrong wchar_t size&quot;</span>);</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;  <span class="keywordtype">int</span> len =</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;      WideCharToMultiByte(CP_UTF8, 0, str, -1, <span class="keyword">nullptr</span>, 0, <span class="keyword">nullptr</span>, FALSE);</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, len);</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;  <span class="keywordtype">char</span>* utf8_str = <span class="keyword">new</span> <span class="keywordtype">char</span>[len];</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;  utf8_filenames.push_back(utf8_str);</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;  WideCharToMultiByte(CP_UTF8, 0, str, -1, utf8_str, len, <span class="keyword">nullptr</span>, FALSE);</div>
<div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;  <span class="keywordflow">return</span> utf8_str;</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;}</div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160; </div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;<span class="comment">// Convert ansi encoded argv[i] to utf8 encoded.</span></div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;<span class="keywordtype">void</span> PreProcessUnicodeFilenameArg(<span class="keywordtype">char</span>* argv[], <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;  <span class="keywordtype">int</span> argc;</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;  <span class="keywordtype">wchar_t</span>** wargv = CommandLineToArgvW(GetCommandLineW(), &amp;argc);</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;  argv[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = ConvertUtf16StringToUtf8(wargv[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;  LocalFree(wargv);</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;}</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160; </div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160; </div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160; </div>
<div class="line"><a name="l05795"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6"> 5795</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* flag, <span class="keywordtype">char</span>** arg, <span class="keywordtype">bool</span> keep_flag = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;  <span class="keywordflow">if</span> (strcmp(*arg, flag) == 0) {</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;    <span class="keywordflow">if</span> (!keep_flag) {</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;      *arg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;    }</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;  }</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;}</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160; </div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N&gt;</div>
<div class="line"><a name="l05806"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb"> 5806</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> (&amp;flag)[<a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a>], <span class="keywordtype">char</span>** flag_value, <span class="keywordtype">int</span> argc,</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;                        <span class="keywordtype">char</span>* argv[], <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html">i</a>) {</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;  <span class="keywordtype">char</span>* current_arg = argv[*<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160; </div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;  <span class="comment">// Compare the flag up to the last character of the flag name (not including</span></div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;  <span class="comment">// the null terminator).</span></div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;  <span class="keywordflow">if</span> (strncmp(current_arg, flag, <a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> - 1) == 0) {</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;    <span class="comment">// Match against --flag=value</span></div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;    <span class="keywordflow">if</span> (current_arg[<a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> - 1] == <span class="charliteral">&#39;=&#39;</span>) {</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;      *flag_value = argv[*<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] + <a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a>;</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;      argv[*<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;    }</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;    <span class="comment">// Match against --flag value</span></div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;    <span class="keywordflow">if</span> (current_arg[<a class="code" href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">N</a> - 1] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a>(*<a class="code" href="namespacev8_1_1internal.html">i</a>, argc - 1);</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;      argv[*<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;      (*i)++;</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;      *flag_value = argv[*<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;      argv[*<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;    }</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;  }</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160; </div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;  flag_value = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;}</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160; </div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160; </div>
<div class="line"><a name="l05836"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aa722cb722ec69d5dcb591053ba705674"> 5836</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#aa722cb722ec69d5dcb591053ba705674">Shell::SetOptions</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;  <span class="keywordtype">bool</span> logfile_per_isolate = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;  options.d8_path = argv[0];</div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; argc; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;    <span class="keywordtype">char</span>* flag_value = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;      <a class="code" href="namespacev8_1_1internal.html">i</a>++;</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;      <span class="keywordflow">for</span> (; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; argc; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;        options.arguments.push_back(argv[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;        argv[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;      }</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-arguments&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;      options.include_arguments = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--simulate-errors&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;      options.simulate_errors = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--fuzzing&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>], <span class="comment">/*keep_flag=*/</span><span class="keyword">true</span>) ||</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;               <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-abort-on-contradictory-flags&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>],</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;                           <span class="comment">/*keep_flag=*/</span><span class="keyword">true</span>) ||</div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;               <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--noabort-on-contradictory-flags&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>],</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;                           <span class="comment">/*keep_flag=*/</span><span class="keyword">true</span>)) {</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;      <a class="code" href="namespacev8.html#a9894968a06b13ddf9cfacec5757ae53f">check_d8_flag_contradictions</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--abort-on-contradictory-flags&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>],</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;                           <span class="comment">/*keep_flag=*/</span><span class="keyword">true</span>)) {</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;      <a class="code" href="namespacev8.html#a9894968a06b13ddf9cfacec5757ae53f">check_d8_flag_contradictions</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--logfile-per-isolate&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;      logfile_per_isolate = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--shell&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;      options.interactive_shell = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--test&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;      options.test_shell = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--notest&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>]) ||</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;               <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-test&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;      options.test_shell = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--send-idle-notification&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;      options.send_idle_notification = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--invoke-weak-callbacks&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;      options.invoke_weak_callbacks = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;      <span class="comment">// TODO(v8:3351): Invoking weak callbacks does not always collect all</span></div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;      <span class="comment">// available garbage.</span></div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;      options.send_idle_notification = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--omit-quit&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;      options.omit_quit = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-wait-for-background-tasks&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;      <span class="comment">// TODO(herhut) Remove this flag once wasm compilation is fully</span></div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;      <span class="comment">// isolate-independent.</span></div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;      options.wait_for_background_tasks = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;-f&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>], <span class="comment">/*keep_flag=*/</span><span class="keyword">true</span>)) {</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;      <span class="comment">// Ignore any -f flags for compatibility with other stand-alone</span></div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;      <span class="comment">// JavaScript engines.</span></div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--ignore-unhandled-promises&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;      options.ignore_unhandled_promises = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--isolate&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>], <span class="comment">/*keep_flag=*/</span><span class="keyword">true</span>)) {</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;      options.num_isolates++;</div>
<div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--throws&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;      options.expected_to_throw = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-fail&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;      options.no_fail = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--dump-counters&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;      options.dump_counters = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--dump-counters-nvp&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;      options.dump_counters_nvp = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--dump-system-memory-stats&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;      options.dump_system_memory_stats = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--icu-data-file&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;      options.icu_data_file = flag_value;</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--icu-locale&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;      options.icu_locale = flag_value;</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;<span class="preprocessor">#ifdef V8_USE_EXTERNAL_STARTUP_DATA</span></div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--snapshot_blob&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;      options.snapshot_blob = flag_value;</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_EXTERNAL_STARTUP_DATA</span></div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--cache&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>]) ||</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;               <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--cache&quot;</span>, &amp;flag_value, argc, argv, &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;      <span class="keywordflow">if</span> (!flag_value || strcmp(flag_value, <span class="stringliteral">&quot;code&quot;</span>) == 0) {</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;        options.compile_options = <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">v8::ScriptCompiler::kNoCompileOptions</a>;</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;        options.code_cache_options =</div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;            ShellOptions::CodeCacheOptions::kProduceCache;</div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(flag_value, <span class="stringliteral">&quot;none&quot;</span>) == 0) {</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;        options.compile_options = <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">v8::ScriptCompiler::kNoCompileOptions</a>;</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;        options.code_cache_options = <a class="code" href="classv8_1_1ShellOptions.html#a38ba14acf737feba62acfc9183bacd81ac05485773061a38ac923f95bb025e929">ShellOptions::kNoProduceCache</a>;</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(flag_value, <span class="stringliteral">&quot;after-execute&quot;</span>) == 0) {</div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;        options.compile_options = <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">v8::ScriptCompiler::kNoCompileOptions</a>;</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;        options.code_cache_options =</div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;            ShellOptions::CodeCacheOptions::kProduceCacheAfterExecute;</div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(flag_value, <span class="stringliteral">&quot;full-code-cache&quot;</span>) == 0) {</div>
<div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        options.compile_options = <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a5d5d2899ff9a09f76c91c4126d6b253e">v8::ScriptCompiler::kEagerCompile</a>;</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;        options.code_cache_options =</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;            ShellOptions::CodeCacheOptions::kProduceCache;</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;Unknown option to --cache.\n&quot;</span>);</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;      }</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--streaming-compile&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;      options.streaming_compile = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-streaming-compile&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) ||</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;               (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--nostreaming-compile&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>]))) {</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;      options.streaming_compile = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--enable-tracing&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;      options.trace_enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--trace-path&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;      options.trace_path = flag_value;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--trace-config&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;      options.trace_config = flag_value;</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--enable-inspector&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;      options.enable_inspector = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--lcov&quot;</span>, &amp;flag_value, argc, argv, &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;      options.lcov_file = flag_value;</div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--scope-linux-perf-to-mark-measure&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;      options.scope_linux_perf_to_mark_measure = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--perf-ctl-fd&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;      options.perf_ctl_fd = atoi(flag_value);</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--perf-ack-fd&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;      options.perf_ack_fd = atoi(flag_value);</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--disable-in-process-stack-traces&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;      options.disable_in_process_stack_traces = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;<span class="preprocessor">#ifdef V8_OS_POSIX</span></div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--read-from-tcp-port&quot;</span>, &amp;flag_value, argc,</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;                                  argv, &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;      options.read_from_tcp_port = atoi(flag_value);</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_POSIX</span></div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--enable-os-system&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;      options.enable_os_system = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-apply-priority&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;      options.apply_priority = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--quiet-load&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;      options.quiet_load = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--thread-pool-size&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;      options.thread_pool_size = atoi(flag_value);</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--stress-delay-tasks&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;      <span class="comment">// Delay execution of tasks by 0-100ms randomly (based on --random-seed).</span></div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;      options.stress_delay_tasks = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--cpu-profiler&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;      options.cpu_profiler = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--cpu-profiler-print&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;      options.cpu_profiler = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;      options.cpu_profiler_print = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--stress-deserialize&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;      options.stress_deserialize = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--compile-only&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;      options.compile_only = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--repeat-compile&quot;</span>, &amp;flag_value, argc, argv,</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;                                  &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;      options.repeat_compile = atoi(flag_value);</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">FlagWithArgMatches</a>(<span class="stringliteral">&quot;--max-serializer-memory&quot;</span>, &amp;flag_value, argc,</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;                                  argv, &amp;<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;      <span class="comment">// Value is expressed in MB.</span></div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;      options.max_serializer_memory = atoi(flag_value) * <a class="code" href="flag-definitions_8h.html#a67f6e75911a1c9e16076ff4db599e681">i::MB</a>;</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--fuzzilli-enable-builtins-coverage&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;      options.fuzzilli_enable_builtins_coverage = <span class="keyword">true</span>;</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--fuzzilli-coverage-statistics&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;      options.fuzzilli_coverage_statistics = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-fuzzy-module-file-extensions&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;      <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(options.fuzzy_module_file_extensions);</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;      options.fuzzy_module_file_extensions = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;<span class="preprocessor">#if defined(V8_ENABLE_ETW_STACK_WALKING)</span></div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--enable-etw-stack-walking&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;      options.enable_etw_stack_walking = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;      <span class="comment">// This needs to be manually triggered for JIT ETW events to work.</span></div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.enable_etw_stack_walking = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;<span class="preprocessor">#if defined(V8_ENABLE_SYSTEM_INSTRUMENTATION)</span></div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--enable-system-instrumentation&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;      options.enable_system_instrumentation = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;      options.trace_enabled = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;      <span class="comment">// Guard this bc the flag has a lot of overhead and is not currently used</span></div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;      <span class="comment">// by macos</span></div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.interpreted_frames_native_stack = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--wasm-trap-handler&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;      options.wasm_trap_handler = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--no-wasm-trap-handler&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;      options.wasm_trap_handler = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--expose-fast-api&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;      options.expose_fast_api = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">FlagMatches</a>(<span class="stringliteral">&quot;--flush-denormals&quot;</span>, &amp;argv[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;      options.flush_denormals = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;<span class="preprocessor">#ifdef V8_TARGET_OS_WIN</span></div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;      PreProcessUnicodeFilenameArg(argv, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;    }</div>
<div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;  }</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160; </div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;  <span class="keywordflow">if</span> (options.scope_linux_perf_to_mark_measure) {</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <span class="keywordflow">if</span> (options.perf_ctl_fd == -1 || options.perf_ack_fd == -1) {</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;      fprintf(stderr,</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;              <span class="stringliteral">&quot;Flag --scope-linux-perf-to-mark-measure requires both &quot;</span></div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;              <span class="stringliteral">&quot;--perf-ctl-fd and --perf-ack-fd\n&quot;</span>);</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;    }</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    SendPerfControlCommand(<span class="stringliteral">&quot;disable&quot;</span>);</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;  }</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160; </div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* usage =</div>
<div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;      <span class="stringliteral">&quot;Synopsis:\n&quot;</span></div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;      <span class="stringliteral">&quot;  shell [options] [--shell] [&lt;file&gt;...]\n&quot;</span></div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;      <span class="stringliteral">&quot;  d8 [options] [-e &lt;string&gt;] [--shell] [--module|]&quot;</span></div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;      <span class="stringliteral">&quot; &lt;file&gt;...]\n\n&quot;</span></div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;      <span class="stringliteral">&quot;  -e        execute a string in V8\n&quot;</span></div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;      <span class="stringliteral">&quot;  --shell   run an interactive JavaScript shell\n&quot;</span></div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;      <span class="stringliteral">&quot;  --module  execute a file as a JavaScript module\n&quot;</span>;</div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;  <span class="keyword">using</span> HelpOptions = i::FlagList::HelpOptions;</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.abort_on_contradictory_flags = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;  <a class="code" href="classv8_1_1internal_1_1FlagList.html#a8e921e09e137b8e327b81e9450f53207">i::FlagList::SetFlagsFromCommandLine</a>(&amp;argc, argv, <span class="keyword">true</span>,</div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;                                       HelpOptions(HelpOptions::kExit, usage));</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;  <a class="code" href="classv8_1_1internal_1_1FlagList.html#adc6e8ed22d7136dd039b4368ad0b2846">i::FlagList::ResolveContradictionsWhenFuzzing</a>();</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160; </div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;  options.mock_arraybuffer_allocator = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.mock_arraybuffer_allocator;</div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;  options.mock_arraybuffer_allocator_limit =</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.mock_arraybuffer_allocator_limit;</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;  options.multi_mapped_mock_allocator = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.multi_mapped_mock_allocator;</div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160; </div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_snapshot &amp;&amp; options.expose_fast_api &amp;&amp;</div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;      <a class="code" href="namespacev8.html#a9894968a06b13ddf9cfacec5757ae53f">check_d8_flag_contradictions</a>) {</div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Flag --expose-fast-api is incompatible with --stress-snapshot.&quot;</span>);</div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;  }</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160; </div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;  <span class="comment">// Set up isolated source groups.</span></div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;  options.isolate_sources = <span class="keyword">new</span> <a class="code" href="classv8_1_1SourceGroup.html">SourceGroup</a>[options.num_isolates];</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a63c9385f715eb7c4aba5d75f90a250f0">internal::g_num_isolates_for_testing</a> = options.num_isolates;</div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;  <a class="code" href="classv8_1_1SourceGroup.html">SourceGroup</a>* current = options.isolate_sources;</div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;  current-&gt;<a class="code" href="classv8_1_1SourceGroup.html#a1a4522bd45001d3ee6d4b31547e78783">Begin</a>(argv, 1);</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; argc; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* str = argv[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;    <span class="keywordflow">if</span> (strcmp(str, <span class="stringliteral">&quot;--isolate&quot;</span>) == 0) {</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;      current-&gt;<a class="code" href="classv8_1_1SourceGroup.html#a6381d03bcd46b18c3099c3b56a86abae">End</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;      current++;</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;      current-&gt;<a class="code" href="classv8_1_1SourceGroup.html#a1a4522bd45001d3ee6d4b31547e78783">Begin</a>(argv, <a class="code" href="namespacev8_1_1internal.html">i</a> + 1);</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(str, <span class="stringliteral">&quot;--module&quot;</span>) == 0 || strcmp(str, <span class="stringliteral">&quot;--json&quot;</span>) == 0) {</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;      <span class="comment">// Pass on to SourceGroup, which understands these options.</span></div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(str, <span class="stringliteral">&quot;--&quot;</span>, 2) == 0) {</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions) {</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;        printf(<span class="stringliteral">&quot;Warning: unknown flag %s.\nTry --help for options\n&quot;</span>, str);</div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;      }</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(str, <span class="stringliteral">&quot;-e&quot;</span>) == 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal.html">i</a> + 1 &lt; argc) {</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;      set_script_executed();</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strncmp(str, <span class="stringliteral">&quot;-&quot;</span>, 1) != 0) {</div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;      <span class="comment">// Not a flag, so it must be a script to execute.</span></div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;      set_script_executed();</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;    }</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;  }</div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;  current-&gt;<a class="code" href="classv8_1_1SourceGroup.html#a6381d03bcd46b18c3099c3b56a86abae">End</a>(argc);</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160; </div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;  <span class="keywordflow">if</span> (!logfile_per_isolate &amp;&amp; options.num_isolates) {</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;    <a class="code" href="classv8_1_1V8.html#af0296148b7e4898f809b21f0401d9d29">V8::SetFlagsFromString</a>(<span class="stringliteral">&quot;--no-logfile-per-isolate&quot;</span>);</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;  }</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160; </div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;}</div>
<div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160; </div>
<div class="line"><a name="l06108"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a60cd6e696b885bd5faec1fc07a2850f5"> 6108</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1Shell.html#a60cd6e696b885bd5faec1fc07a2850f5">Shell::RunMain</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keywordtype">bool</span> last_run) {</div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160; </div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; options.num_isolates; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;    options.isolate_sources[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].StartExecuteInThread();</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;  }</div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160; </div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;  <span class="comment">// The Context object, created inside RunMainIsolate, is used after the method</span></div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;  <span class="comment">// returns in some situations:</span></div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> keep_context_alive =</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;      last_run &amp;&amp; (use_interactive_shell() || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_snapshot);</div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;  <span class="keywordtype">bool</span> success = RunMainIsolate(isolate, keep_context_alive);</div>
<div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;  CollectGarbage(isolate);</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160; </div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;  <span class="comment">// Park the main thread here to prevent deadlocks in shared GCs when</span></div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;  <span class="comment">// waiting in JoinThread.</span></div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;  i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ad3901de072f06f3039b055f236dd4db9">main_thread_local_heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1LocalHeap.html#aa365e67e52ec061178f13527177d9c82">ExecuteMainThreadWhileParked</a>(</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;      [last_run](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) {</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; options.num_isolates; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;          <span class="keywordflow">if</span> (last_run) {</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;            options.isolate_sources[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].JoinThread(parked);</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;            options.isolate_sources[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].WaitForThread(parked);</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;          }</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;        }</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;        WaitForRunningWorkers(parked);</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;      });</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160; </div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;  <span class="comment">// Other threads have terminated, we can now run the artificial</span></div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;  <span class="comment">// serialize-deserialize pass (which destructively mutates heap state).</span></div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;  <span class="keywordflow">if</span> (success &amp;&amp; last_run &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_snapshot) {</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;    <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> handle_scope(isolate);</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;    <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> kClearRecompilableData = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;    <span class="keyword">auto</span> context = <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">v8::Local&lt;v8::Context&gt;::New</a>(isolate, evaluation_context_);</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Context&gt;</a> i_context = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*context);</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;    <span class="comment">// Stop concurrent compiles before mutating the heap.</span></div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ad2b367fff0549b42f75e6390d1729d68">concurrent_recompilation_enabled</a>()) {</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6c0aa7adb516c0df9e03e9b7cee59729">optimizing_compile_dispatcher</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1OptimizingCompileDispatcher.html#a1e5bcbd2494d1e023d50bc8abe21625d">StartTearDown</a>();</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6c0aa7adb516c0df9e03e9b7cee59729">optimizing_compile_dispatcher</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1OptimizingCompileDispatcher.html#a4caa94d78c9ea412b01309290b7df7ae">FinishTearDown</a>();</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    }</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;<span class="preprocessor">#if V8_ENABLE_MAGLEV</span></div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;maglev_concurrent_dispatcher()-&gt;is_enabled()) {</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;      i_isolate-&gt;maglev_concurrent_dispatcher()-&gt;AwaitCompileJobs();</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;    }</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_MAGLEV</span></div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    <span class="comment">// TODO(jgruber,v8:10500): Don&#39;t deoptimize once we support serialization</span></div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;    <span class="comment">// of optimized code.</span></div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Deoptimizer.html#a6bb35276c37391b101bba2759894c2d0">i::Deoptimizer::DeoptimizeAll</a>(i_isolate);</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;    <span class="comment">// Trigger GC to better align with production code. Also needed by</span></div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;    <span class="comment">// ClearReconstructableDataForSerialization to not look into dead objects.</span></div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3dbe0c298eb537ec10028ff2054f7cbd">CollectAllAvailableGarbage</a>(</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;        i::GarbageCollectionReason::kSnapshotCreator);</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Snapshot.html#a2477cce681f8872b03ea2d763a6df165">i::Snapshot::ClearReconstructableDataForSerialization</a>(</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;        i_isolate, kClearRecompilableData);</div>
<div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Snapshot.html#a28b4f9df415675bda833d449e659206b">i::Snapshot::SerializeDeserializeAndVerifyForTesting</a>(i_isolate, i_context);</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;  }</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160; </div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">Shell::unhandled_promise_rejections_</a>.load() &gt; 0) {</div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    printf(<span class="stringliteral">&quot;%i pending unhandled Promise rejection(s) detected.\n&quot;</span>,</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;           <a class="code" href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">Shell::unhandled_promise_rejections_</a>.load());</div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    <span class="comment">// RunMain may be executed multiple times, e.g. in REPRL mode, so we have to</span></div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;    <span class="comment">// reset this counter.</span></div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;    <a class="code" href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">Shell::unhandled_promise_rejections_</a>.store(0);</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;  }</div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;  <span class="comment">// In order to finish successfully, success must be != expected_to_throw.</span></div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.no_fail) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;  <span class="comment">// Fuzzers aren&#39;t expected to use --throws, but may pick it up from testcases.</span></div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;  <span class="comment">// In that case, just ignore the flag.</span></div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzing &amp;&amp; <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.expected_to_throw) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;  <span class="keywordflow">return</span> (success == <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.expected_to_throw ? 1 : 0);</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;}</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160; </div>
<div class="line"><a name="l06181"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a39e34a8feef2558237905d508a7c28cf"> 6181</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#a39e34a8feef2558237905d508a7c28cf">Shell::RunMainIsolate</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keywordtype">bool</span> keep_context_alive) {</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;  <span class="keywordflow">if</span> (options.lcov_file) {</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    <a class="code" href="classv8_1_1debug_1_1Coverage.html#a309757af878e0894236b19bfd7bde692">debug::Coverage::SelectMode</a>(isolate, <a class="code" href="namespacev8_1_1debug.html#a6fe9cf9b9175111f411b64dc5460c5d0abe82278339b4872cc00b9daa8f1559ca">debug::CoverageMode::kBlockCount</a>);</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;  }</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> global_context;</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;  {</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context;</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;    <span class="keywordflow">if</span> (!CreateEvaluationContext(isolate).ToLocal(&amp;context)) {</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;      <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>());</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;      <span class="comment">// We must not exit early here in REPRL mode as that would cause the next</span></div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;      <span class="comment">// testcase sent by Fuzzilli to be skipped, which will desynchronize the</span></div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;      <span class="comment">// communication between d8 and Fuzzilli, leading to a crash.</span></div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;      <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a>);</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;    }</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;    global_context.<a class="code" href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">Reset</a>(isolate, context);</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <span class="keywordflow">if</span> (keep_context_alive) {</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;      evaluation_context_.Reset(isolate, context);</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    }</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;  }</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData_1_1RealmScope.html">PerIsolateData::RealmScope</a> realm_scope(isolate, global_context);</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;  <a class="code" href="classv8_1_1InspectorClient.html">InspectorClient</a> inspector_client(isolate, global_context,</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;                                   options.enable_inspector);</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;  <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;  {</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    <span class="comment">// We cannot use a Context::Scope here, as it keeps a local handle to the</span></div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    <span class="comment">// context and SourceGroup::Execute may execute a non-nestable task, e.g. a</span></div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    <span class="comment">// stackless GC.</span></div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    global_context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate)-&gt;Enter();</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;    <span class="keywordflow">if</span> (!options.isolate_sources[0].Execute(isolate)) success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;    global_context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate)-&gt;Exit();</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;  }</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;  <span class="keywordflow">if</span> (!FinishExecuting(isolate, global_context)) success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;  WriteLcovData(isolate, options.lcov_file);</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;  <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;}</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160; </div>
<div class="line"><a name="l06219"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad46dde06dc1dbf8c048b6ad7c55686c9"> 6219</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ad46dde06dc1dbf8c048b6ad7c55686c9">Shell::CollectGarbage</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;  <span class="keywordflow">if</span> (options.send_idle_notification) {</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a4b5216bbb1792211422aee575d02f442">ContextDisposedNotification</a>(</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;        <a class="code" href="namespacev8.html#a4c253cc9b41dad8e3b1ce1aa7a2dbe0ca5a2ba12bdd7c3f27a5cab1fcd7bd985b">v8::ContextDependants::kSomeDependants</a>);</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;  }</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;  <span class="keywordflow">if</span> (options.invoke_weak_callbacks) {</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;    <span class="comment">// By sending a low memory notifications, we will try hard to collect all</span></div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;    <span class="comment">// garbage and will therefore also invoke all weak callbacks of actually</span></div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;    <span class="comment">// unreachable persistent handles.</span></div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aaf446f4877e4707a93d2c406fffd9fd6">LowMemoryNotification</a>();</div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;  }</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;}</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160; </div>
<div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l06233"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a09182efb40ec5ac6be042fc45b19deb5"> 6233</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">ProcessMessages</a>(</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;    <span class="keyword">const</span> std::function&lt;<a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29">platform::MessageLoopBehavior</a>()&gt;&amp; behavior) {</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SaveAndSwitchContext.html">i::SaveAndSwitchContext</a> saved_context(i_isolate, <a class="code" href="classv8_1_1internal_1_1Context.html">i::Context</a>());</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;  <a class="code" href="classv8_1_1SealHandleScope.html">SealHandleScope</a> shs(isolate);</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160; </div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;  <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> try_catch(isolate);</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;  try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160; </div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;    <span class="keywordtype">bool</span> ran_a_task;</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;    ran_a_task =</div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;        <a class="code" href="namespacev8_1_1platform.html#a7e3e8b26667bf9246da1d2ca4d249f83">v8::platform::PumpMessageLoop</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, isolate, behavior());</div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;    <span class="keywordflow">if</span> (try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;    <span class="keywordflow">if</span> (ran_a_task) <a class="code" href="classv8_1_1MicrotasksScope.html#a7c181251fc02bd2b5a1051e5de8fe4ed">MicrotasksScope::PerformCheckpoint</a>(isolate);</div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160; </div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    <span class="comment">// In predictable mode we push all background tasks into the foreground</span></div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;    <span class="comment">// task queue of the {kProcessGlobalPredictablePlatformWorkerTaskQueue}</span></div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;    <span class="comment">// isolate. We execute all background tasks after running one foreground</span></div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;    <span class="comment">// task.</span></div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.verify_predictable) {</div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;      <a class="code" href="classv8_1_1TryCatch.html">TryCatch</a> inner_try_catch(isolate);</div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;      inner_try_catch.<a class="code" href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">SetVerbose</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;      <span class="keywordflow">while</span> (<a class="code" href="namespacev8_1_1platform.html#a7e3e8b26667bf9246da1d2ca4d249f83">v8::platform::PumpMessageLoop</a>(</div>
<div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;          <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, <a class="code" href="namespacev8.html#a79cf7147cac264d4342e2e6cff3473ed">kProcessGlobalPredictablePlatformWorkerTaskQueue</a>,</div>
<div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;          <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29a6778c39fa9c5405c3b43b199000842df">platform::MessageLoopBehavior::kDoNotWait</a>)) {</div>
<div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;        ran_a_task = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;        <span class="keywordflow">if</span> (inner_try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;        <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;      }</div>
<div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;    }</div>
<div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160; </div>
<div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;    <span class="keywordflow">if</span> (!ran_a_task) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;  }</div>
<div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>-&gt;<a class="code" href="classv8_1_1Platform.html#ad229642bf16a066d2e8d866dc128141e">IdleTasksEnabled</a>(isolate)) {</div>
<div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;    <a class="code" href="namespacev8_1_1platform.html#a7a2acc6effa6c08af7211fe815b95165">v8::platform::RunIdleTasks</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, isolate,</div>
<div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;                               50.0 / <a class="code" href="classv8_1_1base_1_1TimeConstants.html#ad0495a90be57e1e77906fcaa98e9aece">base::Time::kMillisecondsPerSecond</a>);</div>
<div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;    <span class="keywordflow">if</span> (try_catch.<a class="code" href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">HasCaught</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">IsExecutionTerminating</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;  }</div>
<div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;}</div>
<div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;}  <span class="comment">// anonymous namespace</span></div>
<div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160; </div>
<div class="line"><a name="l06281"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#accceb686c72a043c5645a3d56246b01f"> 6281</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#accceb686c72a043c5645a3d56246b01f">Shell::CompleteMessageLoop</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;  <span class="keyword">auto</span> get_waiting_behaviour = [isolate]() {</div>
<div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;    <span class="keywordflow">if</span> (options.wait_for_background_tasks &amp;&amp;</div>
<div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#abf891ae8a74ee328b203d9d82ea45d5c">HasPendingBackgroundTasks</a>()) {</div>
<div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29ac993f8cfee60538f6d2b6b6dc7b89a79">platform::MessageLoopBehavior::kWaitForWork</a>;</div>
<div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    }</div>
<div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate)-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#a7012cdc36d141f52206e64c8c4a71169">HasRunningSubscribedWorkers</a>()) {</div>
<div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29ac993f8cfee60538f6d2b6b6dc7b89a79">platform::MessageLoopBehavior::kWaitForWork</a>;</div>
<div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    }</div>
<div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29a6778c39fa9c5405c3b43b199000842df">platform::MessageLoopBehavior::kDoNotWait</a>;</div>
<div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;  };</div>
<div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.verify_predictable) {</div>
<div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;    <span class="keywordtype">bool</span> ran_tasks = <a class="code" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">ProcessMessages</a>(</div>
<div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;        isolate, [] { <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29a6778c39fa9c5405c3b43b199000842df">platform::MessageLoopBehavior::kDoNotWait</a>; });</div>
<div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;    <span class="keywordflow">if</span> (get_waiting_behaviour() ==</div>
<div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;        <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29ac993f8cfee60538f6d2b6b6dc7b89a79">platform::MessageLoopBehavior::kWaitForWork</a>) {</div>
<div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(</div>
<div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;          <span class="stringliteral">&quot;There is outstanding work after executing all tasks in predictable &quot;</span></div>
<div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;          <span class="stringliteral">&quot;mode -- this would deadlock.&quot;</span>);</div>
<div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;    }</div>
<div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;    <span class="keywordflow">return</span> ran_tasks;</div>
<div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;  }</div>
<div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">ProcessMessages</a>(isolate, get_waiting_behaviour);</div>
<div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;}</div>
<div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160; </div>
<div class="line"><a name="l06306"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#afdd76cdac95763cd72176d522b938348"> 6306</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#afdd76cdac95763cd72176d522b938348">Shell::FinishExecuting</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a>&amp; context) {</div>
<div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;  <span class="keywordflow">if</span> (!CompleteMessageLoop(isolate)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;  <span class="comment">// We cannot use a Context::Scope here, as it keeps a local handle to the</span></div>
<div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;  <span class="comment">// context and HandleUnhandledPromiseRejections may execute a non-nestable</span></div>
<div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;  <span class="comment">// task, e.g. a stackless GC.</span></div>
<div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;  context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate)-&gt;Enter();</div>
<div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = HandleUnhandledPromiseRejections(isolate);</div>
<div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;  context.<a class="code" href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">Get</a>(isolate)-&gt;Exit();</div>
<div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;}</div>
<div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160; </div>
<div class="line"><a name="l06318"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#af8e2f54e646c0e31d1d9031306306084"> 6318</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#af8e2f54e646c0e31d1d9031306306084">Shell::EmptyMessageQueues</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">ProcessMessages</a>(</div>
<div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;      isolate, []() { <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29a6778c39fa9c5405c3b43b199000842df">platform::MessageLoopBehavior::kDoNotWait</a>; });</div>
<div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;}</div>
<div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160; </div>
<div class="line"><a name="l06323"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#abd158f745f991e2b10c9fb0398c3d667"> 6323</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Shell.html#abd158f745f991e2b10c9fb0398c3d667">Shell::HandleUnhandledPromiseRejections</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;  <span class="keywordflow">if</span> (options.ignore_unhandled_promises) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;  <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a>* data = <a class="code" href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">PerIsolateData::Get</a>(isolate);</div>
<div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;  <span class="keywordtype">int</span> count = data-&gt;<a class="code" href="classv8_1_1PerIsolateData.html#afcba066acffeb62ea2280126513d1816">HandleUnhandledPromiseRejections</a>();</div>
<div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;  <a class="code" href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">Shell::unhandled_promise_rejections_</a>.store(</div>
<div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">Shell::unhandled_promise_rejections_</a>.load() + count);</div>
<div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;  <span class="keywordflow">return</span> count == 0;</div>
<div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;}</div>
<div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160; </div>
<div class="line"><a name="l06332"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html"> 6332</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1Serializer.html">Serializer</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1ValueSerializer_1_1Delegate.html">ValueSerializer::Delegate</a> {</div>
<div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l06334"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a4cf48df134b20c6f157f5aeaa8ee91ad"> 6334</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1Serializer.html#a4cf48df134b20c6f157f5aeaa8ee91ad">Serializer</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;      : <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>(isolate),</div>
<div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;        serializer_(isolate, <a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>),</div>
<div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;        current_memory_usage_(0) {}</div>
<div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160; </div>
<div class="line"><a name="l06339"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#ac7c1d6f1243fed40cddadf4223fb4768"> 6339</a></span>&#160;  <a class="code" href="classv8_1_1Serializer.html#ac7c1d6f1243fed40cddadf4223fb4768">Serializer</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1Serializer.html">Serializer</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l06340"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#accfdcb90312419da55d8dda5caf63188"> 6340</a></span>&#160;  <a class="code" href="classv8_1_1Serializer.html">Serializer</a>&amp; <a class="code" href="classv8_1_1Serializer.html#accfdcb90312419da55d8dda5caf63188">operator=</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1Serializer.html">Serializer</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160; </div>
<div class="line"><a name="l06342"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a8d2e55c1cbd58dfc09dc66d6d36e1e25"> 6342</a></span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="classv8_1_1Serializer.html#a8d2e55c1cbd58dfc09dc66d6d36e1e25">WriteValue</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;                         <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> transfer) {</div>
<div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;    <span class="keywordtype">bool</span> ok;</div>
<div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;    <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!data_);</div>
<div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    data_.reset(<span class="keyword">new</span> <a class="code" href="classv8_1_1SerializationData.html">SerializationData</a>);</div>
<div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;    <span class="keywordflow">if</span> (!PrepareTransfer(context, transfer).To(&amp;ok)) {</div>
<div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;      <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;    }</div>
<div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;    serializer_.WriteHeader();</div>
<div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160; </div>
<div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;    <span class="keywordflow">if</span> (!serializer_.WriteValue(context, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>).To(&amp;ok)) {</div>
<div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;      data_.reset();</div>
<div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;      <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;    }</div>
<div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160; </div>
<div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;    <span class="keywordflow">if</span> (!FinalizeTransfer().To(&amp;ok)) {</div>
<div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;      <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;    }</div>
<div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160; </div>
<div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;    std::pair&lt;uint8_t*, size_t&gt; pair = serializer_.Release();</div>
<div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    data_-&gt;data_.reset(pair.first);</div>
<div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;    data_-&gt;size_ = pair.second;</div>
<div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;  }</div>
<div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160; </div>
<div class="line"><a name="l06367"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a9d18106c1908b9d3f0242cf84a3e302c"> 6367</a></span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1Serializer.html#a9d18106c1908b9d3f0242cf84a3e302c">Release</a>() { <span class="keywordflow">return</span> std::move(data_); }</div>
<div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160; </div>
<div class="line"><a name="l06369"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a6b2edc74a100b5cf6e3b5fb5f354459a"> 6369</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Serializer.html#a6b2edc74a100b5cf6e3b5fb5f354459a">AppendBackingStoresTo</a>(std::vector&lt;std::shared_ptr&lt;BackingStore&gt;&gt;* to) {</div>
<div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;    to-&gt;insert(to-&gt;end(), std::make_move_iterator(backing_stores_.begin()),</div>
<div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;               std::make_move_iterator(backing_stores_.end()));</div>
<div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;    backing_stores_.clear();</div>
<div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;  }</div>
<div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160; </div>
<div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;  <span class="comment">// Implements ValueSerializer::Delegate.</span></div>
<div class="line"><a name="l06377"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a97707713e9bfe28e117bd15d40e3afc6"> 6377</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Serializer.html#a97707713e9bfe28e117bd15d40e3afc6">ThrowDataCloneError</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> message)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;    <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#ad2d4dd42267c374a37b93df403ef11ac">ThrowException</a>(<a class="code" href="classv8_1_1Exception.html#a67c28710ee5681066d04cfcd21544827">Exception::Error</a>(message));</div>
<div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;  }</div>
<div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160; </div>
<div class="line"><a name="l06381"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a573f904a1db660126a98ecec16f142be"> 6381</a></span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;uint32_t&gt;</a> <a class="code" href="classv8_1_1Serializer.html#a573f904a1db660126a98ecec16f142be">GetSharedArrayBufferId</a>(</div>
<div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;SharedArrayBuffer&gt;</a> shared_array_buffer)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(data_);</div>
<div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; shared_array_buffers_.size(); ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;      <span class="keywordflow">if</span> (shared_array_buffers_[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] == shared_array_buffer) {</div>
<div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;        <span class="keywordflow">return</span> Just&lt;uint32_t&gt;(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;      }</div>
<div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;    }</div>
<div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160; </div>
<div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = shared_array_buffers_.size();</div>
<div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;    shared_array_buffers_.emplace_back(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, shared_array_buffer);</div>
<div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;    data_-&gt;sab_backing_stores_.push_back(</div>
<div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;        shared_array_buffer-&gt;GetBackingStore());</div>
<div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;    <span class="keywordflow">return</span> Just&lt;uint32_t&gt;(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;  }</div>
<div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160; </div>
<div class="line"><a name="l06397"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#ad80848a9dfe7dbed01db35aec95e933a"> 6397</a></span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;uint32_t&gt;</a> <a class="code" href="classv8_1_1Serializer.html#ad80848a9dfe7dbed01db35aec95e933a">GetWasmModuleTransferId</a>(</div>
<div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;WasmModuleObject&gt;</a> module)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(data_);</div>
<div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt; wasm_modules_.size(); ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;      <span class="keywordflow">if</span> (wasm_modules_[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>] == module) {</div>
<div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;        <span class="keywordflow">return</span> Just&lt;uint32_t&gt;(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;      }</div>
<div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;    }</div>
<div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160; </div>
<div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = wasm_modules_.size();</div>
<div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;    wasm_modules_.emplace_back(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, module);</div>
<div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;    data_-&gt;compiled_wasm_modules_.push_back(module-&gt;GetCompiledModule());</div>
<div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;    <span class="keywordflow">return</span> Just&lt;uint32_t&gt;(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;  }</div>
<div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160; </div>
<div class="line"><a name="l06412"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a0642983ee43067669e17c87411167a02"> 6412</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1Serializer.html#a0642983ee43067669e17c87411167a02">ReallocateBufferMemory</a>(<span class="keywordtype">void</span>* old_buffer, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;                               <span class="keywordtype">size_t</span>* actual_size)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;    <span class="comment">// Not accurate, because we don&#39;t take into account reallocated buffers,</span></div>
<div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;    <span class="comment">// but this is fine for testing.</span></div>
<div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;    current_memory_usage_ += <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;    <span class="keywordflow">if</span> (current_memory_usage_ &gt; <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.max_serializer_memory) {</div>
<div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    }</div>
<div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160; </div>
<div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1base.html#a0829c9fb8df0e697a28abb1ab8fea523">base::Realloc</a>(old_buffer, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    *actual_size = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> ? <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> : 0;</div>
<div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;  }</div>
<div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160; </div>
<div class="line"><a name="l06426"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#af406a9e21fccfce3a5faed52182a69a6"> 6426</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Serializer.html#af406a9e21fccfce3a5faed52182a69a6">FreeBufferMemory</a>(<span class="keywordtype">void</span>* buffer)<span class="keyword"> override </span>{ <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">base::Free</a>(buffer); }</div>
<div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160; </div>
<div class="line"><a name="l06428"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a54d5467f7d1e9b35ec95f36f7f88b2b9"> 6428</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Serializer.html#a54d5467f7d1e9b35ec95f36f7f88b2b9">AdoptSharedValueConveyor</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;                                <a class="code" href="classv8_1_1SharedValueConveyor.html">SharedValueConveyor</a>&amp;&amp; conveyor)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;    data_-&gt;shared_value_conveyor_.emplace(std::move(conveyor));</div>
<div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;  }</div>
<div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160; </div>
<div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l06435"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a8ed438d3dec9648290cb412993644461"> 6435</a></span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="classv8_1_1Serializer.html#a8ed438d3dec9648290cb412993644461">PrepareTransfer</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> transfer) {</div>
<div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;    <span class="keywordflow">if</span> (transfer-&gt;IsArray()) {</div>
<div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> transfer_array = transfer.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Array.html">Array</a>&gt;();</div>
<div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = transfer_array-&gt;Length();</div>
<div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;      <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;        <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> element;</div>
<div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;        <span class="keywordflow">if</span> (transfer_array-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>).ToLocal(&amp;element)) {</div>
<div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;          <span class="keywordflow">if</span> (!element-&gt;IsArrayBuffer()) {</div>
<div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;            <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;                <span class="stringliteral">&quot;Transfer array elements must be an ArrayBuffer&quot;</span>);</div>
<div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;            <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;          }</div>
<div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160; </div>
<div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;          <a class="code" href="classv8_1_1Local.html">Local&lt;ArrayBuffer&gt;</a> array_buffer = element.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1ArrayBuffer.html">ArrayBuffer</a>&gt;();</div>
<div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160; </div>
<div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;          <span class="keywordflow">if</span> (std::find(array_buffers_.begin(), array_buffers_.end(),</div>
<div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;                        array_buffer) != array_buffers_.end()) {</div>
<div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;            <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;                <span class="stringliteral">&quot;ArrayBuffer occurs in the transfer array more than once&quot;</span>);</div>
<div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;            <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;          }</div>
<div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160; </div>
<div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;          serializer_.TransferArrayBuffer(</div>
<div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;              <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(array_buffers_.size()), array_buffer);</div>
<div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;          array_buffers_.emplace_back(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, array_buffer);</div>
<div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;          <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;        }</div>
<div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;      }</div>
<div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (transfer-&gt;IsUndefined()) {</div>
<div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;      <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Transfer list must be an Array or undefined&quot;</span>);</div>
<div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;      <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;    }</div>
<div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;  }</div>
<div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160; </div>
<div class="line"><a name="l06473"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a16f0dd0bb1c02d6200f35f9f5b27fe62"> 6473</a></span>&#160;  <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="classv8_1_1Serializer.html#a16f0dd0bb1c02d6200f35f9f5b27fe62">FinalizeTransfer</a>() {</div>
<div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; global_array_buffer : array_buffers_) {</div>
<div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;ArrayBuffer&gt;</a> array_buffer =</div>
<div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;          <a class="code" href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">Local&lt;ArrayBuffer&gt;::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, global_array_buffer);</div>
<div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;      <span class="keywordflow">if</span> (!array_buffer-&gt;IsDetachable()) {</div>
<div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;        <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;            <span class="stringliteral">&quot;ArrayBuffer is not detachable and could not be transferred&quot;</span>);</div>
<div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;        <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;      }</div>
<div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160; </div>
<div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;      <span class="keyword">auto</span> backing_store = array_buffer-&gt;GetBackingStore();</div>
<div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;      data_-&gt;backing_stores_.push_back(std::move(backing_store));</div>
<div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;      <span class="keywordflow">if</span> (array_buffer-&gt;Detach(<a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a>()).IsNothing()) {</div>
<div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        <span class="keywordflow">return</span> Nothing&lt;bool&gt;();</div>
<div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;      }</div>
<div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;    }</div>
<div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160; </div>
<div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;  }</div>
<div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160; </div>
<div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;  <span class="comment">// This must come before ValueSerializer as it caches this value.</span></div>
<div class="line"><a name="l06494"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a4f521cfb3eebc1c97dfdd978533e87f4"> 6494</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1Serializer.html#a4f521cfb3eebc1c97dfdd978533e87f4">isolate_</a>;</div>
<div class="line"><a name="l06495"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#af1a3b0dd864c21b9f33c10430aa1d91a"> 6495</a></span>&#160;  <a class="code" href="classv8_1_1ValueSerializer.html">ValueSerializer</a> <a class="code" href="classv8_1_1Serializer.html#af1a3b0dd864c21b9f33c10430aa1d91a">serializer_</a>;</div>
<div class="line"><a name="l06496"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a8c0fc9453c101ae9166fa06e20572e30"> 6496</a></span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1Serializer.html#a8c0fc9453c101ae9166fa06e20572e30">data_</a>;</div>
<div class="line"><a name="l06497"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#aae4c79f2f6579c42c9230b986c78b826"> 6497</a></span>&#160;  std::vector&lt;Global&lt;ArrayBuffer&gt;&gt; <a class="code" href="classv8_1_1Serializer.html#aae4c79f2f6579c42c9230b986c78b826">array_buffers_</a>;</div>
<div class="line"><a name="l06498"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a0d6bb4ff18c17151dbd0243da229e179"> 6498</a></span>&#160;  std::vector&lt;Global&lt;SharedArrayBuffer&gt;&gt; <a class="code" href="classv8_1_1Serializer.html#a0d6bb4ff18c17151dbd0243da229e179">shared_array_buffers_</a>;</div>
<div class="line"><a name="l06499"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a2affdb569edaf5ff2acd52041cc0c23b"> 6499</a></span>&#160;  std::vector&lt;Global&lt;WasmModuleObject&gt;&gt; <a class="code" href="classv8_1_1Serializer.html#a2affdb569edaf5ff2acd52041cc0c23b">wasm_modules_</a>;</div>
<div class="line"><a name="l06500"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#a0d82e134ed7673c0580481959d23da44"> 6500</a></span>&#160;  std::vector&lt;std::shared_ptr&lt;v8::BackingStore&gt;&gt; <a class="code" href="classv8_1_1Serializer.html#a0d82e134ed7673c0580481959d23da44">backing_stores_</a>;</div>
<div class="line"><a name="l06501"></a><span class="lineno"><a class="line" href="classv8_1_1Serializer.html#afd62a6e0c905a70818c45e2c3fc7e237"> 6501</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1Serializer.html#afd62a6e0c905a70818c45e2c3fc7e237">current_memory_usage_</a>;</div>
<div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;};</div>
<div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160; </div>
<div class="line"><a name="l06504"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html"> 6504</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1Deserializer.html">Deserializer</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1ValueDeserializer_1_1Delegate.html">ValueDeserializer::Delegate</a> {</div>
<div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l06506"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#a4f08262812387a2eec174b211a9a391f"> 6506</a></span>&#160;  <a class="code" href="classv8_1_1Deserializer.html#a4f08262812387a2eec174b211a9a391f">Deserializer</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, std::unique_ptr&lt;SerializationData&gt; data)</div>
<div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;      : <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>(isolate),</div>
<div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;        deserializer_(isolate, data-&gt;data(), data-&gt;<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>(), <a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>),</div>
<div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;        data_(std::move(data)) {</div>
<div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    deserializer_.SetSupportsLegacyWireFormat(<span class="keyword">true</span>);</div>
<div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;  }</div>
<div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160; </div>
<div class="line"><a name="l06513"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#aad63c24862727d12c983a77794c59def"> 6513</a></span>&#160;  <a class="code" href="classv8_1_1Deserializer.html#aad63c24862727d12c983a77794c59def">Deserializer</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1Deserializer.html">Deserializer</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l06514"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#a944bacaaa78bae09fb64d7d44ab168f8"> 6514</a></span>&#160;  <a class="code" href="classv8_1_1Deserializer.html">Deserializer</a>&amp; <a class="code" href="classv8_1_1Deserializer.html#a944bacaaa78bae09fb64d7d44ab168f8">operator=</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1Deserializer.html">Deserializer</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160; </div>
<div class="line"><a name="l06516"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#aa42930b466c15faee0993f586eaa59ec"> 6516</a></span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="classv8_1_1Deserializer.html#aa42930b466c15faee0993f586eaa59ec">ReadValue</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context) {</div>
<div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    <span class="keywordtype">bool</span> read_header;</div>
<div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;    <span class="keywordflow">if</span> (!deserializer_.ReadHeader(context).To(&amp;read_header)) {</div>
<div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a>();</div>
<div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;    }</div>
<div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160; </div>
<div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0;</div>
<div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; backing_store : data_-&gt;backing_stores()) {</div>
<div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;ArrayBuffer&gt;</a> array_buffer =</div>
<div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;          <a class="code" href="classv8_1_1ArrayBuffer.html#a205ebfae531dd7819fbd486a49b46816">ArrayBuffer::New</a>(<a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, std::move(backing_store));</div>
<div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;      deserializer_.TransferArrayBuffer(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++, array_buffer);</div>
<div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;    }</div>
<div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160; </div>
<div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;    <span class="keywordflow">return</span> deserializer_.ReadValue(context);</div>
<div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;  }</div>
<div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160; </div>
<div class="line"><a name="l06532"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#a2a0c866dd14f5482bf5e131dcd181bd5"> 6532</a></span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;SharedArrayBuffer&gt;</a> <a class="code" href="classv8_1_1Deserializer.html#a2a0c866dd14f5482bf5e131dcd181bd5">GetSharedArrayBufferFromId</a>(</div>
<div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, uint32_t clone_id)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(data_);</div>
<div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;    <span class="keywordflow">if</span> (clone_id &lt; data_-&gt;sab_backing_stores().<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>()) {</div>
<div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1SharedArrayBuffer.html#acf8b56257e1e58ba331337991f18079c">SharedArrayBuffer::New</a>(</div>
<div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;          <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, std::move(data_-&gt;sab_backing_stores().at(clone_id)));</div>
<div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    }</div>
<div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;SharedArrayBuffer&gt;</a>();</div>
<div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;  }</div>
<div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160; </div>
<div class="line"><a name="l06542"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#afab37445363271e97d8b9aa671a89f9f"> 6542</a></span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;WasmModuleObject&gt;</a> <a class="code" href="classv8_1_1Deserializer.html#afab37445363271e97d8b9aa671a89f9f">GetWasmModuleFromId</a>(</div>
<div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, uint32_t transfer_id)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(data_);</div>
<div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;    <span class="keywordflow">if</span> (transfer_id &gt;= data_-&gt;compiled_wasm_modules().size()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1WasmModuleObject.html#aac05f6b7dcf0b22e46db6ec0b3b47ab6">WasmModuleObject::FromCompiledModule</a>(</div>
<div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;        <a class="code" href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">isolate_</a>, data_-&gt;compiled_wasm_modules().at(transfer_id));</div>
<div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;  }</div>
<div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160; </div>
<div class="line"><a name="l06550"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#a2a45456b297a1691f0308e3419bfc1e2"> 6550</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1SharedValueConveyor.html">SharedValueConveyor</a>* <a class="code" href="classv8_1_1Deserializer.html#a2a45456b297a1691f0308e3419bfc1e2">GetSharedValueConveyor</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(data_);</div>
<div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;    <span class="keywordflow">if</span> (data_-&gt;shared_value_conveyor()) {</div>
<div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;      <span class="keywordflow">return</span> &amp;data_-&gt;shared_value_conveyor().value();</div>
<div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;    }</div>
<div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;  }</div>
<div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160; </div>
<div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l06559"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#a81a8222e8dd556a088e59ff173f4e6c2"> 6559</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1Deserializer.html#a81a8222e8dd556a088e59ff173f4e6c2">isolate_</a>;</div>
<div class="line"><a name="l06560"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#ae28715c765fd3ef6b842292afc184865"> 6560</a></span>&#160;  <a class="code" href="classv8_1_1ValueDeserializer.html">ValueDeserializer</a> <a class="code" href="classv8_1_1Deserializer.html#ae28715c765fd3ef6b842292afc184865">deserializer_</a>;</div>
<div class="line"><a name="l06561"></a><span class="lineno"><a class="line" href="classv8_1_1Deserializer.html#ad63c0ece6237f342571e12e08a8ba3b5"> 6561</a></span>&#160;  std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1Deserializer.html#ad63c0ece6237f342571e12e08a8ba3b5">data_</a>;</div>
<div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;};</div>
<div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160; </div>
<div class="line"><a name="l06564"></a><span class="lineno"><a class="line" href="classv8_1_1D8Testing.html"> 6564</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1D8Testing.html">D8Testing</a> {</div>
<div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;<span class="comment">   * Get the number of runs of a given test that is required to get the full</span></div>
<div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;<span class="comment">   * stress coverage.</span></div>
<div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l06570"></a><span class="lineno"><a class="line" href="classv8_1_1D8Testing.html#a3c542625d5303020d50deeca8a3121a0"> 6570</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1D8Testing.html#a3c542625d5303020d50deeca8a3121a0">GetStressRuns</a>() {</div>
<div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_runs != 0) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_runs;</div>
<div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;    <span class="comment">// In debug mode the code runs much slower so stressing will only make two</span></div>
<div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;    <span class="comment">// runs.</span></div>
<div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;    <span class="keywordflow">return</span> 2;</div>
<div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;    <span class="keywordflow">return</span> 5;</div>
<div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;  }</div>
<div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;<span class="comment">   * Force deoptimization of all functions.</span></div>
<div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l06584"></a><span class="lineno"><a class="line" href="classv8_1_1D8Testing.html#acfecd318e8d7d70b8112d68e06b917f1"> 6584</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1D8Testing.html#acfecd318e8d7d70b8112d68e06b917f1">DeoptimizeAll</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HandleScope.html">i::HandleScope</a> scope(i_isolate);</div>
<div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Deoptimizer.html#a6bb35276c37391b101bba2759894c2d0">i::Deoptimizer::DeoptimizeAll</a>(i_isolate);</div>
<div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;  }</div>
<div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;};</div>
<div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160; </div>
<div class="line"><a name="l06591"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad460c6d00a2acaa3d51a7a076ddd98d0"> 6591</a></span>&#160;std::unique_ptr&lt;SerializationData&gt; <a class="code" href="classv8_1_1Shell.html#ad460c6d00a2acaa3d51a7a076ddd98d0">Shell::SerializeValue</a>(</div>
<div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> transfer) {</div>
<div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;  <span class="keywordtype">bool</span> ok;</div>
<div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;  <a class="code" href="classv8_1_1Serializer.html">Serializer</a> serializer(isolate);</div>
<div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;  std::unique_ptr&lt;SerializationData&gt; data;</div>
<div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;  <span class="keywordflow">if</span> (serializer.<a class="code" href="classv8_1_1Serializer.html#a8d2e55c1cbd58dfc09dc66d6d36e1e25">WriteValue</a>(context, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, transfer).To(&amp;ok)) {</div>
<div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;    data = serializer.<a class="code" href="classv8_1_1Serializer.html#a9d18106c1908b9d3f0242cf84a3e302c">Release</a>();</div>
<div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;  }</div>
<div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;  <span class="keywordflow">return</span> data;</div>
<div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;}</div>
<div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160; </div>
<div class="line"><a name="l06603"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a23e9db916ab7fb980709bee587d431bb"> 6603</a></span>&#160;<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <a class="code" href="classv8_1_1Shell.html#a23e9db916ab7fb980709bee587d431bb">Shell::DeserializeValue</a>(</div>
<div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, std::unique_ptr&lt;SerializationData&gt; data) {</div>
<div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;  <a class="code" href="classv8_1_1Deserializer.html">Deserializer</a> deserializer(isolate, std::move(data));</div>
<div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;  <span class="keywordflow">return</span> deserializer.<a class="code" href="classv8_1_1Deserializer.html#aa42930b466c15faee0993f586eaa59ec">ReadValue</a>(context);</div>
<div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;}</div>
<div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160; </div>
<div class="line"><a name="l06610"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ae2e178438d914872bee54f788624bc6e"> 6610</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ae2e178438d914872bee54f788624bc6e">Shell::AddRunningWorker</a>(std::shared_ptr&lt;Worker&gt; worker) {</div>
<div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;  workers_mutex_.Pointer()-&gt;AssertHeld();  <span class="comment">// caller should hold the mutex.</span></div>
<div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;  running_workers_.insert(worker);</div>
<div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;}</div>
<div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160; </div>
<div class="line"><a name="l06615"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aa573a1158e8806c655e9031ab56cdbb5"> 6615</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aa573a1158e8806c655e9031ab56cdbb5">Shell::RemoveRunningWorker</a>(<span class="keyword">const</span> std::shared_ptr&lt;Worker&gt;&amp; worker) {</div>
<div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(workers_mutex_.Pointer());</div>
<div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;  <span class="keyword">auto</span> it = running_workers_.find(worker);</div>
<div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;  <span class="keywordflow">if</span> (it != running_workers_.end()) running_workers_.erase(it);</div>
<div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;}</div>
<div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160; </div>
<div class="line"><a name="l06621"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a53cbb08881b960fcb19d82035e415900"> 6621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a53cbb08881b960fcb19d82035e415900">Shell::WaitForRunningWorkers</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ParkedScope.html">i::ParkedScope</a>&amp; parked) {</div>
<div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;  <span class="comment">// Make a copy of running_workers_, because we don&#39;t want to call</span></div>
<div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;  <span class="comment">// Worker::Terminate while holding the workers_mutex_ lock. Otherwise, if a</span></div>
<div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;  <span class="comment">// worker is about to create a new Worker, it would deadlock.</span></div>
<div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;  std::unordered_set&lt;std::shared_ptr&lt;Worker&gt;&gt; workers_copy;</div>
<div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;  {</div>
<div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(workers_mutex_.Pointer());</div>
<div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;    allow_new_workers_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;    workers_copy.swap(running_workers_);</div>
<div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;  }</div>
<div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160; </div>
<div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : workers_copy) {</div>
<div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    worker-&gt;TerminateAndWaitForThread(parked);</div>
<div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;  }</div>
<div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160; </div>
<div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;  <span class="comment">// Now that all workers are terminated, we can re-enable Worker creation.</span></div>
<div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock_guard(workers_mutex_.Pointer());</div>
<div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;  <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(running_workers_.empty());</div>
<div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;  allow_new_workers_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;}</div>
<div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160; </div>
<div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160; </div>
<div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;<span class="preprocessor">#ifdef V8_OS_POSIX</span></div>
<div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;<span class="keywordtype">void</span> d8_sigterm_handler(<span class="keywordtype">int</span> signal, siginfo_t* info, <span class="keywordtype">void</span>* context) {</div>
<div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;  <span class="comment">// Dump stacktraces when terminating d8 instances with SIGTERM.</span></div>
<div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;  <span class="comment">// SIGKILL is not intercepted.</span></div>
<div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;  <span class="keywordflow">if</span> (signal == SIGTERM) {</div>
<div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;d8: Received SIGTERM signal (likely due to a TIMEOUT)\n&quot;</span>);</div>
<div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;  }</div>
<div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;}</div>
<div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_POSIX</span></div>
<div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160; </div>
<div class="line"><a name="l06656"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae16779ca8f3f8a80b47517733562338a"> 6656</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae16779ca8f3f8a80b47517733562338a">d8_install_sigterm_handler</a>() {</div>
<div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;<span class="preprocessor">#ifdef V8_OS_POSIX</span></div>
<div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;  <a class="code" href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzing);</div>
<div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;  <span class="keyword">struct </span>sigaction sa;</div>
<div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;  sa.sa_sigaction = d8_sigterm_handler;</div>
<div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;  sigemptyset(&amp;sa.sa_mask);</div>
<div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;  sa.sa_flags = 0;</div>
<div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;  <span class="keywordflow">if</span> (sigaction(SIGTERM, &amp;sa, NULL) == -1) {</div>
<div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Could not install SIGTERM handler&quot;</span>);</div>
<div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;  }</div>
<div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_POSIX</span></div>
<div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;}</div>
<div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160; </div>
<div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160; </div>
<div class="line"><a name="l06671"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a057dfc36cac04373f5f6868b051be008"> 6671</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1Shell.html#a057dfc36cac04373f5f6868b051be008">Shell::Main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;<span class="preprocessor">#if defined(V8_ENABLE_PARTITION_ALLOC)</span></div>
<div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;<span class="preprocessor">#if PA_BUILDFLAG(USE_PARTITION_ALLOC_AS_MALLOC)</span></div>
<div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;  allocator_shim::ConfigurePartitionsForTesting();</div>
<div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;  allocator_shim::internal::PartitionAllocMalloc::Allocator()</div>
<div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;      -&gt;EnableThreadCacheIfSupported();</div>
<div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// PA_BUILDFLAG(USE_PARTITION_ALLOC_AS_MALLOC)</span></div>
<div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a91f20c33c351426e1f20d09809d84a07">v8::base::EnsureConsoleOutput</a>();</div>
<div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;  <span class="keywordflow">if</span> (!SetOptions(argc, argv)) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzing) <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae16779ca8f3f8a80b47517733562338a">d8_install_sigterm_handler</a>();</div>
<div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160; </div>
<div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;  <a class="code" href="classv8_1_1base_1_1FlushDenormalsScope.html">v8::base::FlushDenormalsScope</a> denormals_scope(options.flush_denormals);</div>
<div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160; </div>
<div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;  <a class="code" href="classv8_1_1V8.html#a96042535991bd9929647abb24784e0fc">v8::V8::InitializeICUDefaultLocation</a>(argv[0], options.icu_data_file);</div>
<div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160; </div>
<div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;<span class="preprocessor">#ifdef V8_OS_DARWIN</span></div>
<div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;  <span class="keywordflow">if</span> (options.apply_priority) {</div>
<div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;    <span class="keyword">struct </span>task_category_policy category = {.role =</div>
<div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;                                                TASK_FOREGROUND_APPLICATION};</div>
<div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;    task_policy_set(mach_task_self(), TASK_CATEGORY_POLICY,</div>
<div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;                    (task_policy_t)&amp;category, TASK_CATEGORY_POLICY_COUNT);</div>
<div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;    pthread_set_qos_class_self_np(QOS_CLASS_USER_INTERACTIVE, 0);</div>
<div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;  }</div>
<div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160; </div>
<div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;<span class="preprocessor">#ifdef V8_INTL_SUPPORT</span></div>
<div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;  <span class="keywordflow">if</span> (options.icu_locale != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;    icu::Locale locale(options.icu_locale);</div>
<div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;    UErrorCode error_code = U_ZERO_ERROR;</div>
<div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;    icu::Locale::setDefault(locale, error_code);</div>
<div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;  }</div>
<div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_INTL_SUPPORT</span></div>
<div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160; </div>
<div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;  <a class="code" href="namespacev8_1_1platform.html#ac9dba75667058fba3443e60ca0356591">v8::platform::InProcessStackDumping</a> in_process_stack_dumping =</div>
<div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;      options.disable_in_process_stack_traces</div>
<div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;          ? <a class="code" href="namespacev8_1_1platform.html#ac9dba75667058fba3443e60ca0356591a7b04d8795f5fd03c761ce70dab985fee">v8::platform::InProcessStackDumping::kDisabled</a></div>
<div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;          : <a class="code" href="namespacev8_1_1platform.html#ac9dba75667058fba3443e60ca0356591ade1ec1870756a80dffbdc4cda53153e0">v8::platform::InProcessStackDumping::kEnabled</a>;</div>
<div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160; </div>
<div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;  std::ofstream trace_file;</div>
<div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;  std::unique_ptr&lt;platform::tracing::TracingController&gt; tracing;</div>
<div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;  <span class="keywordflow">if</span> (options.trace_enabled &amp;&amp; !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.verify_predictable) {</div>
<div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;    tracing = std::make_unique&lt;platform::tracing::TracingController&gt;();</div>
<div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160; </div>
<div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;    <span class="keywordflow">if</span> (!options.enable_etw_stack_walking) {</div>
<div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* trace_path =</div>
<div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;          options.trace_path ? options.trace_path : <span class="stringliteral">&quot;v8_trace.json&quot;</span>;</div>
<div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;      trace_file.open(trace_path);</div>
<div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;      <span class="keywordflow">if</span> (!trace_file.good()) {</div>
<div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;        printf(<span class="stringliteral">&quot;Cannot open trace file &#39;%s&#39; for writing: %s.\n&quot;</span>, trace_path,</div>
<div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;               strerror(errno));</div>
<div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;      }</div>
<div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;    }</div>
<div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160; </div>
<div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;<span class="preprocessor">#ifdef V8_USE_PERFETTO</span></div>
<div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;    <span class="comment">// Set up the in-process backend that the tracing controller will connect</span></div>
<div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;    <span class="comment">// to.</span></div>
<div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;    perfetto::TracingInitArgs init_args;</div>
<div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;    init_args.backends = perfetto::BackendType::kInProcessBackend;</div>
<div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;    perfetto::Tracing::Initialize(init_args);</div>
<div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160; </div>
<div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;    tracing-&gt;InitializeForPerfetto(&amp;trace_file);</div>
<div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;    <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html">platform::tracing::TraceBuffer</a>* trace_buffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;<span class="preprocessor">#if defined(V8_ENABLE_SYSTEM_INSTRUMENTATION)</span></div>
<div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;    <span class="keywordflow">if</span> (options.enable_system_instrumentation) {</div>
<div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;      trace_buffer =</div>
<div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;          <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html#a470a0bf66ee97337ac700de9e39c8942">platform::tracing::TraceBuffer::CreateTraceBufferRingBuffer</a>(</div>
<div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;              <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html#a4957aae5f855daac2d581de0734f0d49">platform::tracing::TraceBuffer::kRingBufferChunks</a>,</div>
<div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;              <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceWriter.html">platform::tracing::TraceWriter</a>::</div>
<div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;                  CreateSystemInstrumentationTraceWriter());</div>
<div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;    }</div>
<div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SYSTEM_INSTRUMENTATION</span></div>
<div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;    <span class="keywordflow">if</span> (!trace_buffer) {</div>
<div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;      trace_buffer =</div>
<div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;          <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html#a470a0bf66ee97337ac700de9e39c8942">platform::tracing::TraceBuffer::CreateTraceBufferRingBuffer</a>(</div>
<div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;              <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html#a4957aae5f855daac2d581de0734f0d49">platform::tracing::TraceBuffer::kRingBufferChunks</a>,</div>
<div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;              <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceWriter.html#aa311d849efeb96b7a2d6c00e6525535e">platform::tracing::TraceWriter::CreateJSONTraceWriter</a>(</div>
<div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;                  trace_file));</div>
<div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;    }</div>
<div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;    tracing-&gt;Initialize(trace_buffer);</div>
<div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_PERFETTO</span></div>
<div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;  }</div>
<div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160; </div>
<div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;  <a class="code" href="classv8_1_1SandboxHardwareSupport.html#a669b40dffc0df78a8f194149e5c774d1">v8::SandboxHardwareSupport::InitializeBeforeThreadCreation</a>();</div>
<div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160; </div>
<div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;  <a class="code" href="classv8_1_1platform_1_1tracing_1_1TracingController.html">platform::tracing::TracingController</a>* tracing_controller = tracing.get();</div>
<div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.single_threaded) {</div>
<div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a> = <a class="code" href="namespacev8_1_1platform.html#a7cf5c17f7b63c3dadfc009209c044d64">v8::platform::NewSingleThreadedDefaultPlatform</a>(</div>
<div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;        <a class="code" href="namespacev8_1_1platform.html#abfec9b5c3f79b64e8edbf023708be318ade1ec1870756a80dffbdc4cda53153e0">v8::platform::IdleTaskSupport::kEnabled</a>, in_process_stack_dumping,</div>
<div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;        std::move(tracing));</div>
<div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a> = <a class="code" href="namespacev8_1_1platform.html#acfab14c1076e4c2cc8fa2f1d1c76f1ac">v8::platform::NewDefaultPlatform</a>(</div>
<div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;        options.thread_pool_size, <a class="code" href="namespacev8_1_1platform.html#abfec9b5c3f79b64e8edbf023708be318ade1ec1870756a80dffbdc4cda53153e0">v8::platform::IdleTaskSupport::kEnabled</a>,</div>
<div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;        in_process_stack_dumping, std::move(tracing),</div>
<div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;        options.apply_priority ? <a class="code" href="namespacev8_1_1platform.html#ab5a2e78439aa380777ece667cb230a72a3a2bb7b3d33936f92948ae759fcdfac8">v8::platform::PriorityMode::kApply</a></div>
<div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;                               : <a class="code" href="namespacev8_1_1platform.html#ab5a2e78439aa380777ece667cb230a72af84ae028f1cfaed674ee907937e152fa">v8::platform::PriorityMode::kDontApply</a>);</div>
<div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;  }</div>
<div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>.get();</div>
<div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.predictable) {</div>
<div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a> = <a class="code" href="namespacev8.html#a89567c5b2a338ced32e39e8a85191b5b">MakePredictablePlatform</a>(std::move(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>));</div>
<div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;  }</div>
<div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;  <span class="keywordflow">if</span> (options.stress_delay_tasks) {</div>
<div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;    int64_t random_seed = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.fuzzer_random_seed;</div>
<div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;    <span class="keywordflow">if</span> (!random_seed) random_seed = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.random_seed;</div>
<div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;    <span class="comment">// If random_seed is still 0 here, the {DelayedTasksPlatform} will choose a</span></div>
<div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;    <span class="comment">// random seed.</span></div>
<div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a> = <a class="code" href="namespacev8.html#ac87ab353f197393b9c3cbe83d662ff97">MakeDelayedTasksPlatform</a>(std::move(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>), random_seed);</div>
<div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;  }</div>
<div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160; </div>
<div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.trace_turbo_cfg_file == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;    <a class="code" href="classv8_1_1V8.html#af0296148b7e4898f809b21f0401d9d29">V8::SetFlagsFromString</a>(<span class="stringliteral">&quot;--trace-turbo-cfg-file=turbo.cfg&quot;</span>);</div>
<div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;  }</div>
<div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.redirect_code_traces_to == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;    <a class="code" href="classv8_1_1V8.html#af0296148b7e4898f809b21f0401d9d29">V8::SetFlagsFromString</a>(<span class="stringliteral">&quot;--redirect-code-traces-to=code.asm&quot;</span>);</div>
<div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;  }</div>
<div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;  <a class="code" href="classv8_1_1V8.html#a79a2ecd6b949acdbddd9154630ad84ec">v8::V8::InitializePlatform</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>.get());</div>
<div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160; </div>
<div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;  <span class="comment">// Disable flag freezing if we are producing a code cache, because for that we</span></div>
<div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;  <span class="comment">// modify v8_flags.hash_seed (below).</span></div>
<div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;  <span class="keywordflow">if</span> (options.code_cache_options != <a class="code" href="classv8_1_1ShellOptions.html#a38ba14acf737feba62acfc9183bacd81ac05485773061a38ac923f95bb025e929">ShellOptions::kNoProduceCache</a>) {</div>
<div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.freeze_flags_after_init = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;  }</div>
<div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160; </div>
<div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;  <a class="code" href="classv8_1_1V8.html#a40daec93ce44bdd922567fc121be9db8">v8::V8::Initialize</a>();</div>
<div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;  <span class="keywordflow">if</span> (options.snapshot_blob) {</div>
<div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;    <a class="code" href="classv8_1_1V8.html#a6a3823f2242648694cd04451a2a19750">v8::V8::InitializeExternalStartupDataFromFile</a>(options.snapshot_blob);</div>
<div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;    <a class="code" href="classv8_1_1V8.html#a943c1dbe5b91deb69efdeeaef26c46c7">v8::V8::InitializeExternalStartupData</a>(argv[0]);</div>
<div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;  }</div>
<div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;  <a class="code" href="structv8_1_1Isolate_1_1CreateParams.html">Isolate::CreateParams</a> create_params;</div>
<div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;  ShellArrayBufferAllocator shell_array_buffer_allocator;</div>
<div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;  MockArrayBufferAllocator mock_arraybuffer_allocator;</div>
<div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> memory_limit =</div>
<div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;      options.mock_arraybuffer_allocator_limit * options.num_isolates;</div>
<div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;  MockArrayBufferAllocatiorWithLimit mock_arraybuffer_allocator_with_limit(</div>
<div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;      memory_limit &gt;= options.mock_arraybuffer_allocator_limit</div>
<div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;          ? memory_limit</div>
<div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;          : std::numeric_limits&lt;size_t&gt;::max());</div>
<div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;  MultiMappedAllocator multi_mapped_mock_allocator;</div>
<div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;  <span class="keywordflow">if</span> (options.mock_arraybuffer_allocator) {</div>
<div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;    <span class="keywordflow">if</span> (memory_limit) {</div>
<div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a> = &amp;mock_arraybuffer_allocator_with_limit;</div>
<div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;      <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a> = &amp;mock_arraybuffer_allocator;</div>
<div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;    }</div>
<div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (options.multi_mapped_mock_allocator) {</div>
<div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;    <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a> = &amp;multi_mapped_mock_allocator;</div>
<div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;    <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a> = &amp;shell_array_buffer_allocator;</div>
<div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;  }</div>
<div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;  create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a7c663f70b64290392eeaf164f57585f9">array_buffer_allocator</a> = <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a>;</div>
<div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;<span class="preprocessor">#ifdef ENABLE_VTUNE_JIT_INTERFACE</span></div>
<div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.enable_vtunejit) {</div>
<div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;    create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a783e3eba90ce6e2800bdd69197bbccdd">code_event_handler</a> = vTune::GetVtuneCodeEventHandler();</div>
<div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;  }</div>
<div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// ENABLE_VTUNE_JIT_INTERFACE</span></div>
<div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;  create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a2c570b306aa8c1c24cfe70e8eee50fa1">constraints</a>.<a class="code" href="classv8_1_1ResourceConstraints.html#aeeaaee4017e8d5f8f0439af2af2ed3a5">ConfigureDefaults</a>(</div>
<div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;      <a class="code" href="classv8_1_1base_1_1SysInfo.html#a97f971a5174d8cb9ec1bc9b42b77a893">base::SysInfo::AmountOfPhysicalMemory</a>(),</div>
<div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;      <a class="code" href="classv8_1_1base_1_1SysInfo.html#af9f658e742009f9c9205088afb6d5c18">base::SysInfo::AmountOfVirtualMemory</a>());</div>
<div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160; </div>
<div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;  <a class="code" href="classv8_1_1Shell.html#ab9f883a0bbde53aaac3f404f0edfee8b">Shell::counter_map_</a> = <span class="keyword">new</span> <a class="code" href="namespacev8.html#aa636073db573290356200ce93100b66d">CounterMap</a>();</div>
<div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;  <span class="keywordflow">if</span> (options.dump_counters || options.dump_counters_nvp ||</div>
<div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.trace_number_string_cache ||</div>
<div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;      <a class="code" href="structv8_1_1internal_1_1TracingFlags.html#a6ae2ff9ff9df795354e7f9bcda063268">i::TracingFlags::is_gc_stats_enabled</a>()) {</div>
<div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;    create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a10441abadd0b83a938303c92e7444fb6">counter_lookup_callback</a> = LookupCounter;</div>
<div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;    create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a11acf5fb9cdbc4c8bf15baf542507b49">create_histogram_callback</a> = CreateHistogram;</div>
<div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;    create_params.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a3e0fb886996eb1f498b6cc157e11e280">add_histogram_sample_callback</a> = AddHistogramSample;</div>
<div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;  }</div>
<div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160; </div>
<div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="trap-handler_8h.html#a110a8293a9894b82b057ff7a6cec01f6">V8_TRAP_HANDLER_SUPPORTED</a> &amp;&amp; options.wasm_trap_handler) {</div>
<div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;    constexpr <span class="keywordtype">bool</span> kUseDefaultTrapHandler = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1V8.html#afce2bd301d31e03daa7918781f3c1409">v8::V8::EnableWebAssemblyTrapHandler</a>(kUseDefaultTrapHandler)) {</div>
<div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Could not register trap handler&quot;</span>);</div>
<div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;    }</div>
<div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;  }</div>
<div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160; </div>
<div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental) {</div>
<div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;    <span class="comment">// This message is printed to stderr so that it is also visible in</span></div>
<div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;    <span class="comment">// Clusterfuzz reports.</span></div>
<div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;    fprintf(stderr,</div>
<div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;            <span class="stringliteral">&quot;V8 is running with experimental features enabled. Stability and &quot;</span></div>
<div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;            <span class="stringliteral">&quot;security will suffer.\n&quot;</span>);</div>
<div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;  }</div>
<div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160; </div>
<div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <a class="code" href="classv8_1_1Isolate.html#abab88b427984481cb58c371f6cb30005">Isolate::New</a>(create_params);</div>
<div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160; </div>
<div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;  <span class="comment">// Let the parent process (Fuzzilli) know we are ready.</span></div>
<div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;  <span class="keywordflow">if</span> (options.fuzzilli_enable_builtins_coverage) {</div>
<div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;    <a class="code" href="cov_8cc.html#a7470bba54fd80c33553f62e135a5f32e">cov_init_builtins_edges</a>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;        <a class="code" href="classv8_1_1internal_1_1BasicBlockProfiler.html#a9ac07f4d19501975a58df37f6c998813">i::BasicBlockProfiler::Get</a>()</div>
<div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;            -&gt;GetCoverageBitmap(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate))</div>
<div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;            .<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>()));</div>
<div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;  }</div>
<div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;  <span class="keywordtype">char</span> helo[] = <span class="stringliteral">&quot;HELO&quot;</span>;</div>
<div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;  <span class="keywordflow">if</span> (write(<a class="code" href="fuzzilli_8h.html#a26512f0233951a1a55e9a11fdc389ef8">REPRL_CWFD</a>, helo, 4) != 4 || read(<a class="code" href="fuzzilli_8h.html#a7ac5624a7e0bd19d90e48cfd28092e7f">REPRL_CRFD</a>, helo, 4) != 4) {</div>
<div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;    <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;  }</div>
<div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160; </div>
<div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;  <span class="keywordflow">if</span> (memcmp(helo, <span class="stringliteral">&quot;HELO&quot;</span>, 4) != 0) {</div>
<div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;REPRL: Invalid response from parent&quot;</span>);</div>
<div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;  }</div>
<div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_FUZZILLI</span></div>
<div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160; </div>
<div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;  {</div>
<div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;    <a class="code" href="classv8_1_1Isolate_1_1Scope.html">Isolate::Scope</a> scope(isolate);</div>
<div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;    <a class="code" href="classv8_1_1D8Console.html">D8Console</a> console(isolate);</div>
<div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;    Initialize(isolate, &amp;console);</div>
<div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;    <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a> data(isolate);</div>
<div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160; </div>
<div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;    <span class="comment">// Fuzzilli REPRL = read-eval-print-loop</span></div>
<div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a>) {</div>
<div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;        <span class="keywordtype">unsigned</span> action = 0;</div>
<div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;        ssize_t nread = read(<a class="code" href="fuzzilli_8h.html#a7ac5624a7e0bd19d90e48cfd28092e7f">REPRL_CRFD</a>, &amp;action, 4);</div>
<div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;        <span class="keywordflow">if</span> (nread != 4 || action != <span class="stringliteral">&#39;cexe&#39;</span>) {</div>
<div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;REPRL: Unknown action: %u&quot;</span>, action);</div>
<div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;        }</div>
<div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;      }</div>
<div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_FUZZILLI</span></div>
<div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160; </div>
<div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = 0;</div>
<div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160; </div>
<div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;      <span class="keywordflow">if</span> (options.trace_enabled) {</div>
<div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;        <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">platform::tracing::TraceConfig</a>* trace_config;</div>
<div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;        <span class="keywordflow">if</span> (options.trace_config) {</div>
<div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;          <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = 0;</div>
<div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;          <span class="keywordtype">char</span>* trace_config_json_str = ReadChars(options.trace_config, &amp;<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;          trace_config = <a class="code" href="namespacev8_1_1tracing.html#aeb1e0341abc6e29b49c94c726c3f7646">tracing::CreateTraceConfigFromJSON</a>(</div>
<div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;              isolate, trace_config_json_str);</div>
<div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;          <span class="keyword">delete</span>[] trace_config_json_str;</div>
<div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;          trace_config =</div>
<div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;              <a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html#a66b99c8db80e4834a682ccc95b139b2c">platform::tracing::TraceConfig::CreateDefaultTraceConfig</a>();</div>
<div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;          <span class="keywordflow">if</span> (options.enable_system_instrumentation) {</div>
<div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;            trace_config-&gt;<a class="code" href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html#a5d5941e02cdfd629b71b043a684bd776">AddIncludedCategory</a>(<span class="stringliteral">&quot;disabled-by-default-v8.compile&quot;</span>);</div>
<div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;          }</div>
<div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;        }</div>
<div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;        tracing_controller-&gt;<a class="code" href="classv8_1_1platform_1_1tracing_1_1TracingController.html#a3362b081a3ba0eeff68655402d604e8f">StartTracing</a>(trace_config);</div>
<div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;      }</div>
<div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160; </div>
<div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;      <a class="code" href="classv8_1_1CpuProfiler.html">CpuProfiler</a>* cpu_profiler;</div>
<div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;      <span class="keywordflow">if</span> (options.cpu_profiler) {</div>
<div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;        cpu_profiler = <a class="code" href="classv8_1_1CpuProfiler.html#a85370a47fe5b6b2803d9226294306df7">CpuProfiler::New</a>(isolate);</div>
<div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;        cpu_profiler-&gt;<a class="code" href="classv8_1_1CpuProfiler.html#a1a33d63b6d9994f902199fb2099ec464">StartProfiling</a>(<a class="code" href="classv8_1_1String.html#aa393d47baa54467fe57001065e49194b">String::Empty</a>(isolate),</div>
<div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;                                     <a class="code" href="classv8_1_1CpuProfilingOptions.html">CpuProfilingOptions</a>{});</div>
<div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;      }</div>
<div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160; </div>
<div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_runs &gt; 0) {</div>
<div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;        options.stress_runs = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.stress_runs;</div>
<div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; options.stress_runs &amp;&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == 0; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;          printf(<span class="stringliteral">&quot;============ Run %d/%d ============\n&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a> + 1,</div>
<div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;                 options.stress_runs.get());</div>
<div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;          <span class="keywordtype">bool</span> last_run = <a class="code" href="namespacev8_1_1internal.html">i</a> == options.stress_runs - 1;</div>
<div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = RunMain(isolate, last_run);</div>
<div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;        }</div>
<div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (options.code_cache_options != <a class="code" href="classv8_1_1ShellOptions.html#a38ba14acf737feba62acfc9183bacd81ac05485773061a38ac923f95bb025e929">ShellOptions::kNoProduceCache</a>) {</div>
<div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;        <span class="comment">// Park the main thread here in case the new isolate wants to perform</span></div>
<div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;        <span class="comment">// a shared GC to prevent a deadlock.</span></div>
<div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate)</div>
<div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;            -&gt;main_thread_local_isolate()</div>
<div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;            -&gt;ExecuteMainThreadWhileParked([&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>]() {</div>
<div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;              printf(<span class="stringliteral">&quot;============ Run: Produce code cache ============\n&quot;</span>);</div>
<div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;              <span class="comment">// First run to produce the cache</span></div>
<div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;              <a class="code" href="structv8_1_1Isolate_1_1CreateParams.html">Isolate::CreateParams</a> create_params2;</div>
<div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;              create_params2.<a class="code" href="structv8_1_1Isolate_1_1CreateParams.html#a7c663f70b64290392eeaf164f57585f9">array_buffer_allocator</a> =</div>
<div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;                  <a class="code" href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">Shell::array_buffer_allocator</a>;</div>
<div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;              <span class="comment">// Use a different hash seed.</span></div>
<div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.hash_seed = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.hash_seed ^ 1337;</div>
<div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;              <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate2 = <a class="code" href="classv8_1_1Isolate.html#abab88b427984481cb58c371f6cb30005">Isolate::New</a>(create_params2);</div>
<div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;              <span class="comment">// Restore old hash seed.</span></div>
<div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.hash_seed = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.hash_seed ^ 1337;</div>
<div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;              {</div>
<div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;                <a class="code" href="classv8_1_1Isolate_1_1Scope.html">Isolate::Scope</a> isolate_scope(isolate2);</div>
<div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;                <a class="code" href="classv8_1_1D8Console.html">D8Console</a> console2(isolate2);</div>
<div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;                Initialize(isolate2, &amp;console2);</div>
<div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;                <a class="code" href="classv8_1_1PerIsolateData.html">PerIsolateData</a> data2(isolate2);</div>
<div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160; </div>
<div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;                <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = RunMain(isolate2, <span class="keyword">false</span>);</div>
<div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;                ResetOnProfileEndListener(isolate2);</div>
<div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;              }</div>
<div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;              <span class="comment">// D8WasmAsyncResolvePromiseTask may be still in the runner at</span></div>
<div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;              <span class="comment">// this point. We need to terminate the task runners before the</span></div>
<div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;              <span class="comment">// Isolate to avoid retaining stray tasks with v8::Global pointing</span></div>
<div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;              <span class="comment">// into a reclaimed Isolate.</span></div>
<div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;              <a class="code" href="namespacev8_1_1platform.html#acc8f10da942f6a509ba5ba1e9cc19876">platform::NotifyIsolateShutdown</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">g_default_platform</a>, isolate2);</div>
<div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;              isolate2-&gt;<a class="code" href="classv8_1_1Isolate.html#a1a5a5762e4221aff8c6b10f9e3cec0af">Dispose</a>();</div>
<div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;            });</div>
<div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160; </div>
<div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;        <span class="comment">// Change the options to consume cache</span></div>
<div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;        <a class="code" href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(options.compile_options == <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a5d5d2899ff9a09f76c91c4126d6b253e">v8::ScriptCompiler::kEagerCompile</a> ||</div>
<div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;               options.compile_options ==</div>
<div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;                   <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">v8::ScriptCompiler::kNoCompileOptions</a>);</div>
<div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;        options.compile_options.Overwrite(</div>
<div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;            <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818afbc9e8e1bb024c696d68e5253100d0f7">v8::ScriptCompiler::kConsumeCodeCache</a>);</div>
<div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;        options.code_cache_options.Overwrite(<a class="code" href="classv8_1_1ShellOptions.html#a38ba14acf737feba62acfc9183bacd81ac05485773061a38ac923f95bb025e929">ShellOptions::kNoProduceCache</a>);</div>
<div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160; </div>
<div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;        printf(<span class="stringliteral">&quot;============ Run: Consume code cache ============\n&quot;</span>);</div>
<div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;        <span class="comment">// Second run to consume the cache in current isolate</span></div>
<div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = RunMain(isolate, <span class="keyword">true</span>);</div>
<div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;        options.compile_options.Overwrite(</div>
<div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;            <a class="code" href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">v8::ScriptCompiler::kNoCompileOptions</a>);</div>
<div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;        <span class="keywordtype">bool</span> last_run = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = RunMain(isolate, last_run);</div>
<div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;      }</div>
<div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160; </div>
<div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;      <span class="comment">// Run interactive shell if explicitly requested or if no script has been</span></div>
<div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;      <span class="comment">// executed, but never on --test</span></div>
<div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;      <span class="keywordflow">if</span> (use_interactive_shell()) {</div>
<div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;        RunShell(isolate);</div>
<div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;      }</div>
<div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160; </div>
<div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.trace_ignition_dispatches_output_file != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;        WriteIgnitionDispatchCountersFile(isolate);</div>
<div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;      }</div>
<div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160; </div>
<div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;      <span class="keywordflow">if</span> (options.cpu_profiler) {</div>
<div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;        <a class="code" href="classv8_1_1CpuProfile.html">CpuProfile</a>* profile =</div>
<div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;            cpu_profiler-&gt;<a class="code" href="classv8_1_1CpuProfiler.html#aa25e1c2d218e4206311e7dff890c0009">StopProfiling</a>(<a class="code" href="classv8_1_1String.html#aa393d47baa54467fe57001065e49194b">String::Empty</a>(isolate));</div>
<div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;        <span class="keywordflow">if</span> (options.cpu_profiler_print) {</div>
<div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;          <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1ProfileNode.html">internal::ProfileNode</a>* root =</div>
<div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classv8_1_1internal_1_1ProfileNode.html">internal::ProfileNode</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;                  profile-&gt;<a class="code" href="classv8_1_1CpuProfile.html#a0078414604a4d7617809281e650cb9d6">GetTopDownRoot</a>());</div>
<div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;          root-&gt;<a class="code" href="classv8_1_1internal_1_1ProfileNode.html#a248ab739281297b37074ed351083667d">Print</a>(0);</div>
<div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;        }</div>
<div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;        profile-&gt;<a class="code" href="classv8_1_1CpuProfile.html#a70c93f0c14d07a7e1bad42ee95665ca0">Delete</a>();</div>
<div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;        cpu_profiler-&gt;<a class="code" href="classv8_1_1CpuProfiler.html#ab49b3f25a897dc6a359571b3014cd225">Dispose</a>();</div>
<div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;      }</div>
<div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160; </div>
<div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;<span class="preprocessor">#ifdef V8_FUZZILLI</span></div>
<div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;      <span class="comment">// Send result to parent (fuzzilli) and reset edge guards.</span></div>
<div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a>) {</div>
<div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a> = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> &lt;&lt; 8;</div>
<div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;        std::vector&lt;bool&gt; bitmap;</div>
<div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;        <span class="keywordflow">if</span> (options.fuzzilli_enable_builtins_coverage) {</div>
<div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;          bitmap = <a class="code" href="classv8_1_1internal_1_1BasicBlockProfiler.html#a9ac07f4d19501975a58df37f6c998813">i::BasicBlockProfiler::Get</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1BasicBlockProfiler.html#ab65b430fe5e9c99ff298aff108eebff2">GetCoverageBitmap</a>(</div>
<div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;          <a class="code" href="cov_8cc.html#a3be14f6f0ac6fcb3de6cd2709c0f737a">cov_update_builtins_basic_block_coverage</a>(bitmap);</div>
<div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;        }</div>
<div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;        <span class="keywordflow">if</span> (options.fuzzilli_coverage_statistics) {</div>
<div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;          <span class="keywordtype">int</span> tot = 0;</div>
<div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> b : bitmap) {</div>
<div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;            <span class="keywordflow">if</span> (b) tot++;</div>
<div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;          }</div>
<div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;          <span class="keyword">static</span> <span class="keywordtype">int</span> iteration_counter = 0;</div>
<div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;          std::ofstream covlog(<span class="stringliteral">&quot;covlog.txt&quot;</span>, std::ios::app);</div>
<div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;          covlog &lt;&lt; iteration_counter &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; tot &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;                 &lt;&lt; <a class="code" href="cov_8cc.html#a32f32858f0a21c5ab824acc870c00846">sanitizer_cov_count_discovered_edges</a>() &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;                 &lt;&lt; bitmap.size() &lt;&lt; std::endl;</div>
<div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;          iteration_counter++;</div>
<div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;        }</div>
<div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;        <span class="comment">// In REPRL mode, stdout and stderr can be regular files, so they need</span></div>
<div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;        <span class="comment">// to be flushed after every execution</span></div>
<div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;        fflush(stdout);</div>
<div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;        fflush(stderr);</div>
<div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(write(<a class="code" href="fuzzilli_8h.html#a26512f0233951a1a55e9a11fdc389ef8">REPRL_CWFD</a>, &amp;<a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>, 4), 4);</div>
<div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;        <a class="code" href="cov_8cc.html#a2b1c73a9a6d945a63686fa089d885e18">sanitizer_cov_reset_edgeguards</a>();</div>
<div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;        <span class="keywordflow">if</span> (options.fuzzilli_enable_builtins_coverage) {</div>
<div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;          <a class="code" href="classv8_1_1internal_1_1BasicBlockProfiler.html#a9ac07f4d19501975a58df37f6c998813">i::BasicBlockProfiler::Get</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1BasicBlockProfiler.html#adb3adc0bf500c0df62cb1ea866833a73">ResetCounts</a>(</div>
<div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;              <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;        }</div>
<div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;      }</div>
<div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_FUZZILLI</span></div>
<div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;    } <span class="keywordflow">while</span> (<a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">fuzzilli_reprl</a>);</div>
<div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160; </div>
<div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;    <span class="comment">// Shut down contexts and collect garbage.</span></div>
<div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;    cached_code_map_.clear();</div>
<div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;    evaluation_context_.Reset();</div>
<div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;    stringify_function_.Reset();</div>
<div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;    ResetOnProfileEndListener(isolate);</div>
<div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;    CollectGarbage(isolate);</div>
<div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;  }</div>
<div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;  OnExit(isolate, <span class="keyword">true</span>);</div>
<div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160; </div>
<div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;  <span class="comment">// Delete the platform explicitly here to write the tracing output to the</span></div>
<div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;  <span class="comment">// tracing file.</span></div>
<div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;  <span class="keywordflow">if</span> (options.trace_enabled) {</div>
<div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;    tracing_controller-&gt;<a class="code" href="classv8_1_1platform_1_1tracing_1_1TracingController.html#a7d617c726ecbd7a80bff714911957168">StopTracing</a>();</div>
<div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;  }</div>
<div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">g_platform</a>.reset();</div>
<div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160; </div>
<div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;<span class="preprocessor">#ifdef V8_TARGET_OS_WIN</span></div>
<div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;  <span class="comment">// We need to free the allocated utf8 filenames in</span></div>
<div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;  <span class="comment">// PreProcessUnicodeFilenameArg.</span></div>
<div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">char</span>* utf8_str : utf8_filenames) {</div>
<div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;    <span class="keyword">delete</span>[] utf8_str;</div>
<div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;  }</div>
<div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;  utf8_filenames.clear();</div>
<div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160; </div>
<div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;}</div>
<div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160; </div>
<div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160; </div>
<div class="line"><a name="l07077"></a><span class="lineno"><a class="line" href="d8_8cc.html#a0ddf1224851353fc92bfbff6f499fa97"> 7077</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="d8_8cc.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Shell.html#a057dfc36cac04373f5f6868b051be008">v8::Shell::Main</a>(argc, argv); }</div>
<div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160; </div>
<div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;<span class="preprocessor">#undef CHECK</span></div>
<div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;<span class="preprocessor">#undef DCHECK</span></div>
<div class="ttc" id="aapi-inl_8h_html"><div class="ttname"><a href="api-inl_8h.html">api-inl.h</a></div></div>
<div class="ttc" id="abase_2platform_2memory_8h_html"><div class="ttname"><a href="base_2platform_2memory_8h.html">memory.h</a></div></div>
<div class="ttc" id="abasic-block-profiler_8h_html"><div class="ttname"><a href="basic-block-profiler_8h.html">basic-block-profiler.h</a></div></div>
<div class="ttc" id="acancelable-task_8h_html"><div class="ttname"><a href="cancelable-task_8h.html">cancelable-task.h</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1ArrayBuffer_1_1Allocator_html"><div class="ttname"><a href="classv8_1_1ArrayBuffer_1_1Allocator.html">v8::ArrayBuffer::Allocator</a></div><div class="ttdoc">A thread-safe allocator that V8 uses to allocate |ArrayBuffer|'s memory.</div><div class="ttdef"><b>Definition:</b> <a href="v8-array-buffer_8h_source.html#l00148">v8-array-buffer.h:148</a></div></div>
<div class="ttc" id="aclassv8_1_1ArrayBuffer_html"><div class="ttname"><a href="classv8_1_1ArrayBuffer.html">v8::ArrayBuffer</a></div><div class="ttdoc">An instance of the built-in ArrayBuffer constructor (ES6 draft 15.13.5).</div><div class="ttdef"><b>Definition:</b> <a href="v8-array-buffer_8h_source.html#l00131">v8-array-buffer.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1ArrayBuffer_html_a205ebfae531dd7819fbd486a49b46816"><div class="ttname"><a href="classv8_1_1ArrayBuffer.html#a205ebfae531dd7819fbd486a49b46816">v8::ArrayBuffer::New</a></div><div class="ttdeci">static Local&lt; ArrayBuffer &gt; New(Isolate *isolate, size_t byte_length, BackingStoreInitializationMode initialization_mode=BackingStoreInitializationMode::kZeroInitialized)</div><div class="ttdoc">Create a new ArrayBuffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09002">api.cc:9002</a></div></div>
<div class="ttc" id="aclassv8_1_1Array_html"><div class="ttname"><a href="classv8_1_1Array.html">v8::Array</a></div><div class="ttdoc">An instance of the built-in array constructor (ECMA-262, 15.4.2).</div><div class="ttdef"><b>Definition:</b> <a href="v8-container_8h_source.html#l00025">v8-container.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1Array_html_a369cbd533bf7aa08d9ce1e2ddb4e6536"><div class="ttname"><a href="classv8_1_1Array.html#a369cbd533bf7aa08d9ce1e2ddb4e6536">v8::Array::New</a></div><div class="ttdeci">static Local&lt; Array &gt; New(Isolate *isolate, int length=0)</div><div class="ttdoc">Creates a JavaScript array with the given length.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08091">api.cc:8091</a></div></div>
<div class="ttc" id="aclassv8_1_1AsyncHooks_html"><div class="ttname"><a href="classv8_1_1AsyncHooks.html">v8::AsyncHooks</a></div><div class="ttdef"><b>Definition:</b> <a href="async-hooks-wrapper_8h_source.html#l00060">async-hooks-wrapper.h:60</a></div></div>
<div class="ttc" id="aclassv8_1_1AsyncHooks_html_afa0b093ad05424f97f4cc78303573b67"><div class="ttname"><a href="classv8_1_1AsyncHooks.html#afa0b093ad05424f97f4cc78303573b67">v8::AsyncHooks::CreateHook</a></div><div class="ttdeci">Local&lt; Object &gt; CreateHook(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="async-hooks-wrapper_8cc_source.html#l00126">async-hooks-wrapper.cc:126</a></div></div>
<div class="ttc" id="aclassv8_1_1Boolean_html"><div class="ttname"><a href="classv8_1_1Boolean.html">v8::Boolean</a></div><div class="ttdoc">A primitive boolean value (ECMA-262, 4.3.14).</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00035">v8-primitive.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1CheckMessageFromWorkerTask_html"><div class="ttname"><a href="classv8_1_1CheckMessageFromWorkerTask.html">v8::CheckMessageFromWorkerTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03510">d8.cc:3510</a></div></div>
<div class="ttc" id="aclassv8_1_1CheckMessageFromWorkerTask_html_a21f0d77ebd6622a29b7318a70e494b36"><div class="ttname"><a href="classv8_1_1CheckMessageFromWorkerTask.html#a21f0d77ebd6622a29b7318a70e494b36">v8::CheckMessageFromWorkerTask::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03516">d8.cc:3516</a></div></div>
<div class="ttc" id="aclassv8_1_1CheckMessageFromWorkerTask_html_a52cf9e5e68c3f5927388f5f8c30a3419"><div class="ttname"><a href="classv8_1_1CheckMessageFromWorkerTask.html#a52cf9e5e68c3f5927388f5f8c30a3419">v8::CheckMessageFromWorkerTask::CheckMessageFromWorkerTask</a></div><div class="ttdeci">CheckMessageFromWorkerTask(v8::Isolate *isolate, std::shared_ptr&lt; Worker &gt; worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03512">d8.cc:3512</a></div></div>
<div class="ttc" id="aclassv8_1_1CheckMessageFromWorkerTask_html_ab38cf7af287c61dc02af1534416aba57"><div class="ttname"><a href="classv8_1_1CheckMessageFromWorkerTask.html#ab38cf7af287c61dc02af1534416aba57">v8::CheckMessageFromWorkerTask::isolate_</a></div><div class="ttdeci">v8::Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03542">d8.cc:3542</a></div></div>
<div class="ttc" id="aclassv8_1_1CheckMessageFromWorkerTask_html_afee6655c603fe2ec6fb5d2c65bf77007"><div class="ttname"><a href="classv8_1_1CheckMessageFromWorkerTask.html#afee6655c603fe2ec6fb5d2c65bf77007">v8::CheckMessageFromWorkerTask::worker_</a></div><div class="ttdeci">std::shared_ptr&lt; Worker &gt; worker_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03543">d8.cc:3543</a></div></div>
<div class="ttc" id="aclassv8_1_1CleanUpWorkerTask_html"><div class="ttname"><a href="classv8_1_1CleanUpWorkerTask.html">v8::CleanUpWorkerTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03550">d8.cc:3550</a></div></div>
<div class="ttc" id="aclassv8_1_1CleanUpWorkerTask_html_a06900a155bad69816084ac1501a28bb5"><div class="ttname"><a href="classv8_1_1CleanUpWorkerTask.html#a06900a155bad69816084ac1501a28bb5">v8::CleanUpWorkerTask::isolate_</a></div><div class="ttdeci">v8::Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03560">d8.cc:3560</a></div></div>
<div class="ttc" id="aclassv8_1_1CleanUpWorkerTask_html_a0e649f2b15c10ad2c43e1163c78cc535"><div class="ttname"><a href="classv8_1_1CleanUpWorkerTask.html#a0e649f2b15c10ad2c43e1163c78cc535">v8::CleanUpWorkerTask::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03555">d8.cc:3555</a></div></div>
<div class="ttc" id="aclassv8_1_1CleanUpWorkerTask_html_a24b04a2a8811b7015f234e4c44ab833c"><div class="ttname"><a href="classv8_1_1CleanUpWorkerTask.html#a24b04a2a8811b7015f234e4c44ab833c">v8::CleanUpWorkerTask::worker_</a></div><div class="ttdeci">std::shared_ptr&lt; Worker &gt; worker_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03561">d8.cc:3561</a></div></div>
<div class="ttc" id="aclassv8_1_1CleanUpWorkerTask_html_a31f13af51f4ff9e37d7945deaf0224ad"><div class="ttname"><a href="classv8_1_1CleanUpWorkerTask.html#a31f13af51f4ff9e37d7945deaf0224ad">v8::CleanUpWorkerTask::CleanUpWorkerTask</a></div><div class="ttdeci">CleanUpWorkerTask(v8::Isolate *isolate, std::shared_ptr&lt; Worker &gt; worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03552">d8.cc:3552</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_1_1Scope_html"><div class="ttname"><a href="classv8_1_1Context_1_1Scope.html">v8::Context::Scope</a></div><div class="ttdoc">Stack-allocated class which sets the execution context for all operations executed within a local sco...</div><div class="ttdef"><b>Definition:</b> <a href="v8-context_8h_source.html#l00386">v8-context.h:386</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a11648311890e6127d92335fc438b8211"><div class="ttname"><a href="classv8_1_1Context.html#a11648311890e6127d92335fc438b8211">v8::Context::New</a></div><div class="ttdeci">static Local&lt; Context &gt; New(Isolate *isolate, ExtensionConfiguration *extensions=nullptr, MaybeLocal&lt; ObjectTemplate &gt; global_template=MaybeLocal&lt; ObjectTemplate &gt;(), MaybeLocal&lt; Value &gt; global_object=MaybeLocal&lt; Value &gt;(), DeserializeInternalFieldsCallback internal_fields_deserializer=DeserializeInternalFieldsCallback(), MicrotaskQueue *microtask_queue=nullptr, DeserializeContextDataCallback context_data_deserializer=DeserializeContextDataCallback(), DeserializeAPIWrapperCallback api_wrapper_deserializer=DeserializeAPIWrapperCallback())</div><div class="ttdoc">Creates a new context and returns a handle to the newly allocated context.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06728">api.cc:6728</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a1f2f3da0b9c3d9b68a5384b757d607d2"><div class="ttname"><a href="classv8_1_1Context.html#a1f2f3da0b9c3d9b68a5384b757d607d2">v8::Context::SetEmbedderData</a></div><div class="ttdeci">void SetEmbedderData(int index, Local&lt; Value &gt; value)</div><div class="ttdoc">Sets the embedder data with the given index, growing the data as needed.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00929">api.cc:929</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a216ef605c502da6559fff96209e4c9a9"><div class="ttname"><a href="classv8_1_1Context.html#a216ef605c502da6559fff96209e4c9a9">v8::Context::SetPromiseHooks</a></div><div class="ttdeci">void SetPromiseHooks(Local&lt; Function &gt; init_hook, Local&lt; Function &gt; before_hook, Local&lt; Function &gt; after_hook, Local&lt; Function &gt; resolve_hook)</div><div class="ttdoc">Set or clear hooks to be invoked for promise lifecycle operations.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07222">api.cc:7222</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a2351d9bdf4450d5f23734033289ba3ab"><div class="ttname"><a href="classv8_1_1Context.html#a2351d9bdf4450d5f23734033289ba3ab">v8::Context::SetSecurityToken</a></div><div class="ttdeci">void SetSecurityToken(Local&lt; Value &gt; token)</div><div class="ttdoc">Sets the security token for the context.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06796">api.cc:6796</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a2db09d4fefb26023a40d88972a4c1599"><div class="ttname"><a href="classv8_1_1Context.html#a2db09d4fefb26023a40d88972a4c1599">v8::Context::Exit</a></div><div class="ttdeci">void Exit()</div><div class="ttdoc">Exit this context.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00842">api.cc:842</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a4339a06a2e0c87454c15c6dada37164f"><div class="ttname"><a href="classv8_1_1Context.html#a4339a06a2e0c87454c15c6dada37164f">v8::Context::GetAlignedPointerFromEmbedderData</a></div><div class="ttdeci">void * GetAlignedPointerFromEmbedderData(Isolate *isolate, int index)</div><div class="ttdoc">Gets a 2-byte-aligned native pointer from the embedder data with the given index, which must have bee...</div><div class="ttdef"><b>Definition:</b> <a href="v8-context_8h_source.html#l00464">v8-context.h:464</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a522063c88e4c2832f5ff4f3980815f58"><div class="ttname"><a href="classv8_1_1Context.html#a522063c88e4c2832f5ff4f3980815f58">v8::Context::SetAlignedPointerInEmbedderData</a></div><div class="ttdeci">void SetAlignedPointerInEmbedderData(int index, void *value)</div><div class="ttdoc">Sets a 2-byte-aligned native pointer in the embedder data with the given index, growing the data as n...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00954">api.cc:954</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a6995c49d9897eb49053f07874b825133"><div class="ttname"><a href="classv8_1_1Context.html#a6995c49d9897eb49053f07874b825133">v8::Context::Enter</a></div><div class="ttdeci">void Enter()</div><div class="ttdoc">Enter this context.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00831">api.cc:831</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a82990c1621f1e825db5832f668caabfd"><div class="ttname"><a href="classv8_1_1Context.html#a82990c1621f1e825db5832f668caabfd">v8::Context::GetSecurityToken</a></div><div class="ttdeci">Local&lt; Value &gt; GetSecurityToken()</div><div class="ttdoc">Returns the security token of this context.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06807">api.cc:6807</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a841c7dd92eb8c57df92a268a164dea97"><div class="ttname"><a href="classv8_1_1Context.html#a841c7dd92eb8c57df92a268a164dea97">v8::Context::DetachGlobal</a></div><div class="ttdeci">void DetachGlobal()</div><div class="ttdoc">Detaches the global object from its context before the global object can be reused to create a new co...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07169">api.cc:7169</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_a9cfafe0ac56f6aee17eb80a913489296"><div class="ttname"><a href="classv8_1_1Context.html#a9cfafe0ac56f6aee17eb80a913489296">v8::Context::GetEmbedderData</a></div><div class="ttdeci">Local&lt; Value &gt; GetEmbedderData(int index)</div><div class="ttdoc">Gets the embedder data with the given index, which must have been set by a previous call to SetEmbedd...</div><div class="ttdef"><b>Definition:</b> <a href="v8-context_8h_source.html#l00441">v8-context.h:441</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_aa26f7db81111d908492327a1e254b232"><div class="ttname"><a href="classv8_1_1Context.html#aa26f7db81111d908492327a1e254b232">v8::Context::GetExtrasBindingObject</a></div><div class="ttdeci">Local&lt; Object &gt; GetExtrasBindingObject()</div><div class="ttdoc">Gets the binding object used by V8 extras.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07176">api.cc:7176</a></div></div>
<div class="ttc" id="aclassv8_1_1Context_html_aa4cef79528eabe1dd238752095d769cf"><div class="ttname"><a href="classv8_1_1Context.html#aa4cef79528eabe1dd238752095d769cf">v8::Context::Global</a></div><div class="ttdeci">Local&lt; Object &gt; Global()</div><div class="ttdoc">Returns the global proxy object.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07156">api.cc:7156</a></div></div>
<div class="ttc" id="aclassv8_1_1CounterCollection_html"><div class="ttname"><a href="classv8_1_1CounterCollection.html">v8::CounterCollection</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00072">d8.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1CounterCollection_html_a4128a32c8d86237235ea2c7dde6a62f2"><div class="ttname"><a href="classv8_1_1CounterCollection.html#a4128a32c8d86237235ea2c7dde6a62f2">v8::CounterCollection::CounterCollection</a></div><div class="ttdeci">CounterCollection()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03797">d8.cc:3797</a></div></div>
<div class="ttc" id="aclassv8_1_1CounterCollection_html_a8233c61ab7e4db3d340be7ab7c1bbc1c"><div class="ttname"><a href="classv8_1_1CounterCollection.html#a8233c61ab7e4db3d340be7ab7c1bbc1c">v8::CounterCollection::GetNextCounter</a></div><div class="ttdeci">Counter * GetNextCounter()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03804">d8.cc:3804</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html"><div class="ttname"><a href="classv8_1_1Counter.html">v8::Counter</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00046">d8.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_a1cfe3bc3c4ebf9fed4a577246cf6cfcb"><div class="ttname"><a href="classv8_1_1Counter.html#a1cfe3bc3c4ebf9fed4a577246cf6cfcb">v8::Counter::is_histogram</a></div><div class="ttdeci">bool is_histogram() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00059">d8.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_a68190a203e323062cc379d07451db2fb"><div class="ttname"><a href="classv8_1_1Counter.html#a68190a203e323062cc379d07451db2fb">v8::Counter::sample_total</a></div><div class="ttdeci">int sample_total() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00056">d8.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_a706545f71074bdbebc9def4f07c76c85"><div class="ttname"><a href="classv8_1_1Counter.html#a706545f71074bdbebc9def4f07c76c85">v8::Counter::kMaxNameSize</a></div><div class="ttdeci">static const int kMaxNameSize</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00048">d8.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_a7930c87bf88c19e8cf9afd763adb09ed"><div class="ttname"><a href="classv8_1_1Counter.html#a7930c87bf88c19e8cf9afd763adb09ed">v8::Counter::ptr</a></div><div class="ttdeci">int * ptr()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00051">d8.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_abbbd22f5905b9787b26bf7fd307ab973"><div class="ttname"><a href="classv8_1_1Counter.html#abbbd22f5905b9787b26bf7fd307ab973">v8::Counter::count</a></div><div class="ttdeci">int count() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00055">d8.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_abd9d75513302bcae5db283c564140b7f"><div class="ttname"><a href="classv8_1_1Counter.html#abd9d75513302bcae5db283c564140b7f">v8::Counter::Bind</a></div><div class="ttdeci">void Bind(const char *name, bool histogram)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03785">d8.cc:3785</a></div></div>
<div class="ttc" id="aclassv8_1_1Counter_html_ae66b172d2409a791fdcb9836037b8a1b"><div class="ttname"><a href="classv8_1_1Counter.html#ae66b172d2409a791fdcb9836037b8a1b">v8::Counter::AddSample</a></div><div class="ttdeci">void AddSample(int32_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03792">d8.cc:3792</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfile_html"><div class="ttname"><a href="classv8_1_1CpuProfile.html">v8::CpuProfile</a></div><div class="ttdoc">CpuProfile contains a CPU profile in a form of top-down call tree (from main() down to functions that...</div><div class="ttdef"><b>Definition:</b> <a href="v8-profiler_8h_source.html#l00214">v8-profiler.h:214</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfile_html_a0078414604a4d7617809281e650cb9d6"><div class="ttname"><a href="classv8_1_1CpuProfile.html#a0078414604a4d7617809281e650cb9d6">v8::CpuProfile::GetTopDownRoot</a></div><div class="ttdeci">const CpuProfileNode * GetTopDownRoot() const</div><div class="ttdoc">Returns the root node of the top down call tree.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11354">api.cc:11354</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfile_html_a70c93f0c14d07a7e1bad42ee95665ca0"><div class="ttname"><a href="classv8_1_1CpuProfile.html#a70c93f0c14d07a7e1bad42ee95665ca0">v8::CpuProfile::Delete</a></div><div class="ttdeci">void Delete()</div><div class="ttdoc">Deletes the profile and removes it from CpuProfiler's list.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11340">api.cc:11340</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfiler_html"><div class="ttname"><a href="classv8_1_1CpuProfiler.html">v8::CpuProfiler</a></div><div class="ttdoc">Interface for controlling CPU profiling.</div><div class="ttdef"><b>Definition:</b> <a href="v8-profiler_8h_source.html#l00410">v8-profiler.h:410</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfiler_html_a1a33d63b6d9994f902199fb2099ec464"><div class="ttname"><a href="classv8_1_1CpuProfiler.html#a1a33d63b6d9994f902199fb2099ec464">v8::CpuProfiler::StartProfiling</a></div><div class="ttdeci">CpuProfilingStatus StartProfiling(Local&lt; String &gt; title, CpuProfilingOptions options, std::unique_ptr&lt; DiscardedSamplesDelegate &gt; delegate=nullptr)</div><div class="ttdoc">Starts collecting a CPU profile.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11494">api.cc:11494</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfiler_html_a85370a47fe5b6b2803d9226294306df7"><div class="ttname"><a href="classv8_1_1CpuProfiler.html#a85370a47fe5b6b2803d9226294306df7">v8::CpuProfiler::New</a></div><div class="ttdeci">static CpuProfiler * New(Isolate *isolate, CpuProfilingNamingMode=kDebugNaming, CpuProfilingLoggingMode=kLazyLogging)</div><div class="ttdoc">Creates a new CPU profiler for the |isolate|.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11411">api.cc:11411</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfiler_html_a9a553b51c49a4160a93af536035c8e72"><div class="ttname"><a href="classv8_1_1CpuProfiler.html#a9a553b51c49a4160a93af536035c8e72">v8::CpuProfiler::CollectSample</a></div><div class="ttdeci">static void CollectSample(Isolate *isolate, const std::optional&lt; uint64_t &gt; trace_id=std::nullopt)</div><div class="ttdoc">Synchronously collect current stack sample in all profilers attached to the |isolate|.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11444">api.cc:11444</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfiler_html_aa25e1c2d218e4206311e7dff890c0009"><div class="ttname"><a href="classv8_1_1CpuProfiler.html#aa25e1c2d218e4206311e7dff890c0009">v8::CpuProfiler::StopProfiling</a></div><div class="ttdeci">CpuProfile * StopProfiling(Local&lt; String &gt; title)</div><div class="ttdoc">Stops collecting CPU profile with a given title and returns it.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11512">api.cc:11512</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfiler_html_ab49b3f25a897dc6a359571b3014cd225"><div class="ttname"><a href="classv8_1_1CpuProfiler.html#ab49b3f25a897dc6a359571b3014cd225">v8::CpuProfiler::Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Disposes the CPU profiler object.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11439">api.cc:11439</a></div></div>
<div class="ttc" id="aclassv8_1_1CpuProfilingOptions_html"><div class="ttname"><a href="classv8_1_1CpuProfilingOptions.html">v8::CpuProfilingOptions</a></div><div class="ttdoc">Optional profiling attributes.</div><div class="ttdef"><b>Definition:</b> <a href="v8-profiler_8h_source.html#l00362">v8-profiler.h:362</a></div></div>
<div class="ttc" id="aclassv8_1_1D8Console_html"><div class="ttname"><a href="classv8_1_1D8Console.html">v8::D8Console</a></div><div class="ttdef"><b>Definition:</b> <a href="d8-console_8h_source.html#l00017">d8-console.h:17</a></div></div>
<div class="ttc" id="aclassv8_1_1D8Console_html_a60485833290fd48667ae3206ea988086"><div class="ttname"><a href="classv8_1_1D8Console.html#a60485833290fd48667ae3206ea988086">v8::D8Console::profiler</a></div><div class="ttdeci">CpuProfiler * profiler() const</div><div class="ttdef"><b>Definition:</b> <a href="d8-console_8h_source.html#l00022">d8-console.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1D8Console_html_abf483864020467abffe1bdf748f6a571"><div class="ttname"><a href="classv8_1_1D8Console.html#abf483864020467abffe1bdf748f6a571">v8::D8Console::DisposeProfiler</a></div><div class="ttdeci">void DisposeProfiler()</div><div class="ttdef"><b>Definition:</b> <a href="d8-console_8cc_source.html#l00064">d8-console.cc:64</a></div></div>
<div class="ttc" id="aclassv8_1_1D8Testing_html"><div class="ttname"><a href="classv8_1_1D8Testing.html">v8::D8Testing</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06564">d8.cc:6564</a></div></div>
<div class="ttc" id="aclassv8_1_1D8Testing_html_a3c542625d5303020d50deeca8a3121a0"><div class="ttname"><a href="classv8_1_1D8Testing.html#a3c542625d5303020d50deeca8a3121a0">v8::D8Testing::GetStressRuns</a></div><div class="ttdeci">static int GetStressRuns()</div><div class="ttdoc">Get the number of runs of a given test that is required to get the full stress coverage.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06570">d8.cc:6570</a></div></div>
<div class="ttc" id="aclassv8_1_1D8Testing_html_acfecd318e8d7d70b8112d68e06b917f1"><div class="ttname"><a href="classv8_1_1D8Testing.html#acfecd318e8d7d70b8112d68e06b917f1">v8::D8Testing::DeoptimizeAll</a></div><div class="ttdeci">static void DeoptimizeAll(Isolate *isolate)</div><div class="ttdoc">Force deoptimization of all functions.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06584">d8.cc:6584</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html"><div class="ttname"><a href="classv8_1_1Deserializer.html">v8::Deserializer</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06504">d8.cc:6504</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_a2a0c866dd14f5482bf5e131dcd181bd5"><div class="ttname"><a href="classv8_1_1Deserializer.html#a2a0c866dd14f5482bf5e131dcd181bd5">v8::Deserializer::GetSharedArrayBufferFromId</a></div><div class="ttdeci">MaybeLocal&lt; SharedArrayBuffer &gt; GetSharedArrayBufferFromId(Isolate *isolate, uint32_t clone_id) override</div><div class="ttdoc">Get a SharedArrayBuffer given a clone_id previously provided by ValueSerializer::Delegate::GetSharedA...</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06532">d8.cc:6532</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_a2a45456b297a1691f0308e3419bfc1e2"><div class="ttname"><a href="classv8_1_1Deserializer.html#a2a45456b297a1691f0308e3419bfc1e2">v8::Deserializer::GetSharedValueConveyor</a></div><div class="ttdeci">const SharedValueConveyor * GetSharedValueConveyor(Isolate *isolate) override</div><div class="ttdoc">Get the SharedValueConveyor previously provided by ValueSerializer::Delegate::AdoptSharedValueConveyo...</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06550">d8.cc:6550</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_a4f08262812387a2eec174b211a9a391f"><div class="ttname"><a href="classv8_1_1Deserializer.html#a4f08262812387a2eec174b211a9a391f">v8::Deserializer::Deserializer</a></div><div class="ttdeci">Deserializer(Isolate *isolate, std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06506">d8.cc:6506</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_a81a8222e8dd556a088e59ff173f4e6c2"><div class="ttname"><a href="classv8_1_1Deserializer.html#a81a8222e8dd556a088e59ff173f4e6c2">v8::Deserializer::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06559">d8.cc:6559</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_a944bacaaa78bae09fb64d7d44ab168f8"><div class="ttname"><a href="classv8_1_1Deserializer.html#a944bacaaa78bae09fb64d7d44ab168f8">v8::Deserializer::operator=</a></div><div class="ttdeci">Deserializer &amp; operator=(const Deserializer &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_aa42930b466c15faee0993f586eaa59ec"><div class="ttname"><a href="classv8_1_1Deserializer.html#aa42930b466c15faee0993f586eaa59ec">v8::Deserializer::ReadValue</a></div><div class="ttdeci">MaybeLocal&lt; Value &gt; ReadValue(Local&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06516">d8.cc:6516</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_aad63c24862727d12c983a77794c59def"><div class="ttname"><a href="classv8_1_1Deserializer.html#aad63c24862727d12c983a77794c59def">v8::Deserializer::Deserializer</a></div><div class="ttdeci">Deserializer(const Deserializer &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_ad63c0ece6237f342571e12e08a8ba3b5"><div class="ttname"><a href="classv8_1_1Deserializer.html#ad63c0ece6237f342571e12e08a8ba3b5">v8::Deserializer::data_</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; data_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06561">d8.cc:6561</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_ae28715c765fd3ef6b842292afc184865"><div class="ttname"><a href="classv8_1_1Deserializer.html#ae28715c765fd3ef6b842292afc184865">v8::Deserializer::deserializer_</a></div><div class="ttdeci">ValueDeserializer deserializer_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06560">d8.cc:6560</a></div></div>
<div class="ttc" id="aclassv8_1_1Deserializer_html_afab37445363271e97d8b9aa671a89f9f"><div class="ttname"><a href="classv8_1_1Deserializer.html#afab37445363271e97d8b9aa671a89f9f">v8::Deserializer::GetWasmModuleFromId</a></div><div class="ttdeci">MaybeLocal&lt; WasmModuleObject &gt; GetWasmModuleFromId(Isolate *isolate, uint32_t transfer_id) override</div><div class="ttdoc">Get a WasmModuleObject given a transfer_id previously provided by ValueSerializer::Delegate::GetWasmM...</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06542">d8.cc:6542</a></div></div>
<div class="ttc" id="aclassv8_1_1DummySourceStream_html"><div class="ttname"><a href="classv8_1_1DummySourceStream.html">v8::DummySourceStream</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00600">d8.cc:600</a></div></div>
<div class="ttc" id="aclassv8_1_1DummySourceStream_html_a0b4b9e3f0d0747d169ba75e68fe596d7"><div class="ttname"><a href="classv8_1_1DummySourceStream.html#a0b4b9e3f0d0747d169ba75e68fe596d7">v8::DummySourceStream::GetMoreData</a></div><div class="ttdeci">size_t GetMoreData(const uint8_t **src) override</div><div class="ttdoc">V8 calls this to request the next chunk of data from the embedder.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00608">d8.cc:608</a></div></div>
<div class="ttc" id="aclassv8_1_1DummySourceStream_html_a1a61b9dfbdda8a3870b15b0ee45d3d2a"><div class="ttname"><a href="classv8_1_1DummySourceStream.html#a1a61b9dfbdda8a3870b15b0ee45d3d2a">v8::DummySourceStream::done_</a></div><div class="ttdeci">bool done_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00621">d8.cc:621</a></div></div>
<div class="ttc" id="aclassv8_1_1DummySourceStream_html_a8b469771828bcb5662cb88ef71d4b839"><div class="ttname"><a href="classv8_1_1DummySourceStream.html#a8b469771828bcb5662cb88ef71d4b839">v8::DummySourceStream::DummySourceStream</a></div><div class="ttdeci">DummySourceStream(Isolate *isolate, Local&lt; String &gt; source)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00602">d8.cc:602</a></div></div>
<div class="ttc" id="aclassv8_1_1DummySourceStream_html_ad4e26e340f206eebf9bbaffe0a0fc216"><div class="ttname"><a href="classv8_1_1DummySourceStream.html#ad4e26e340f206eebf9bbaffe0a0fc216">v8::DummySourceStream::source_buffer_</a></div><div class="ttdeci">std::unique_ptr&lt; uint16_t[]&gt; source_buffer_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00620">d8.cc:620</a></div></div>
<div class="ttc" id="aclassv8_1_1DummySourceStream_html_ae5fca0014cf40fc9da29039c4154c697"><div class="ttname"><a href="classv8_1_1DummySourceStream.html#ae5fca0014cf40fc9da29039c4154c697">v8::DummySourceStream::source_length_</a></div><div class="ttdeci">uint32_t source_length_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00619">d8.cc:619</a></div></div>
<div class="ttc" id="aclassv8_1_1EscapableHandleScope_html"><div class="ttname"><a href="classv8_1_1EscapableHandleScope.html">v8::EscapableHandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00768">v8-local-handle.h:769</a></div></div>
<div class="ttc" id="aclassv8_1_1EscapableHandleScope_html_a3e89ba97802c3e6e7d967f0ddf244555"><div class="ttname"><a href="classv8_1_1EscapableHandleScope.html#a3e89ba97802c3e6e7d967f0ddf244555">v8::EscapableHandleScope::Escape</a></div><div class="ttdeci">Local&lt; T &gt; Escape(Local&lt; T &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00775">v8-local-handle.h:775</a></div></div>
<div class="ttc" id="aclassv8_1_1Exception_html_a05bdd41395488f34482eadaafc70b6cb"><div class="ttname"><a href="classv8_1_1Exception.html#a05bdd41395488f34482eadaafc70b6cb">v8::Exception::CreateMessage</a></div><div class="ttdeci">static Local&lt; Message &gt; CreateMessage(Isolate *isolate, Local&lt; Value &gt; exception)</div><div class="ttdoc">Creates an error message for the given exception.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11163">api.cc:11163</a></div></div>
<div class="ttc" id="aclassv8_1_1Exception_html_a67c28710ee5681066d04cfcd21544827"><div class="ttname"><a href="classv8_1_1Exception.html#a67c28710ee5681066d04cfcd21544827">v8::Exception::Error</a></div><div class="ttdeci">static Local&lt; Value &gt; Error(Local&lt; String &gt; message, Local&lt; Value &gt; options={})</div></div>
<div class="ttc" id="aclassv8_1_1Exception_html_a7f214e64f91a4c2c8c3ae46c1b6c8829"><div class="ttname"><a href="classv8_1_1Exception.html#a7f214e64f91a4c2c8c3ae46c1b6c8829">v8::Exception::SyntaxError</a></div><div class="ttdeci">static Local&lt; Value &gt; SyntaxError(Local&lt; String &gt; message, Local&lt; Value &gt; options={})</div></div>
<div class="ttc" id="aclassv8_1_1Exception_html_a8d5562e582f43e715f5574d88dea985c"><div class="ttname"><a href="classv8_1_1Exception.html#a8d5562e582f43e715f5574d88dea985c">v8::Exception::TypeError</a></div><div class="ttdeci">static Local&lt; Value &gt; TypeError(Local&lt; String &gt; message, Local&lt; Value &gt; options={})</div></div>
<div class="ttc" id="aclassv8_1_1ExternalOwningOneByteStringResource_html"><div class="ttname"><a href="classv8_1_1ExternalOwningOneByteStringResource.html">v8::ExternalOwningOneByteStringResource</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00516">d8.cc:517</a></div></div>
<div class="ttc" id="aclassv8_1_1ExternalOwningOneByteStringResource_html_a162cec5c2469a2acf26efe384ceffe32"><div class="ttname"><a href="classv8_1_1ExternalOwningOneByteStringResource.html#a162cec5c2469a2acf26efe384ceffe32">v8::ExternalOwningOneByteStringResource::length</a></div><div class="ttdeci">size_t length() const override</div><div class="ttdoc">The number of Latin-1 characters in the string.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00526">d8.cc:526</a></div></div>
<div class="ttc" id="aclassv8_1_1ExternalOwningOneByteStringResource_html_a212c07a5f7faba9bd71544bdb6dbd321"><div class="ttname"><a href="classv8_1_1ExternalOwningOneByteStringResource.html#a212c07a5f7faba9bd71544bdb6dbd321">v8::ExternalOwningOneByteStringResource::data</a></div><div class="ttdeci">const char * data() const override</div><div class="ttdoc">The string data from the underlying buffer.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00523">d8.cc:523</a></div></div>
<div class="ttc" id="aclassv8_1_1ExternalOwningOneByteStringResource_html_a68d1c348d735d92c3309b67fcca83bb2"><div class="ttname"><a href="classv8_1_1ExternalOwningOneByteStringResource.html#a68d1c348d735d92c3309b67fcca83bb2">v8::ExternalOwningOneByteStringResource::ExternalOwningOneByteStringResource</a></div><div class="ttdeci">ExternalOwningOneByteStringResource(std::unique_ptr&lt; base::OS::MemoryMappedFile &gt; file)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00520">d8.cc:520</a></div></div>
<div class="ttc" id="aclassv8_1_1ExternalOwningOneByteStringResource_html_a8c85b37960c99ffa41041ffd77ccfaf5"><div class="ttname"><a href="classv8_1_1ExternalOwningOneByteStringResource.html#a8c85b37960c99ffa41041ffd77ccfaf5">v8::ExternalOwningOneByteStringResource::ExternalOwningOneByteStringResource</a></div><div class="ttdeci">ExternalOwningOneByteStringResource()=default</div></div>
<div class="ttc" id="aclassv8_1_1ExternalOwningOneByteStringResource_html_ad6c9d9763154b5616deb93c974e571c4"><div class="ttname"><a href="classv8_1_1ExternalOwningOneByteStringResource.html#ad6c9d9763154b5616deb93c974e571c4">v8::ExternalOwningOneByteStringResource::file_</a></div><div class="ttdeci">std::unique_ptr&lt; base::OS::MemoryMappedFile &gt; file_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00529">d8.cc:529</a></div></div>
<div class="ttc" id="aclassv8_1_1External_html"><div class="ttname"><a href="classv8_1_1External.html">v8::External</a></div><div class="ttdoc">A JavaScript value that wraps a C++ void*.</div><div class="ttdef"><b>Definition:</b> <a href="v8-external_8h_source.html#l00019">v8-external.h:19</a></div></div>
<div class="ttc" id="aclassv8_1_1External_html_a881b71b771ce579154757c0b89ba53a1"><div class="ttname"><a href="classv8_1_1External.html#a881b71b771ce579154757c0b89ba53a1">v8::External::New</a></div><div class="ttdeci">static Local&lt; External &gt; New(Isolate *isolate, void *value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07434">api.cc:7434</a></div></div>
<div class="ttc" id="aclassv8_1_1FixedArray_html"><div class="ttname"><a href="classv8_1_1FixedArray.html">v8::FixedArray</a></div><div class="ttdoc">A fixed-sized array with elements of type Data.</div><div class="ttdef"><b>Definition:</b> <a href="v8-data_8h_source.html#l00072">v8-data.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a></div><div class="ttdoc">The argument information given to function call callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00118">v8-function-callback.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a2cb41afe1e098a46d27d901b4cc1e6f5"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">v8::FunctionCallbackInfo::GetReturnValue</a></div><div class="ttdeci">ReturnValue&lt; T &gt; GetReturnValue() const</div><div class="ttdoc">The ReturnValue for the call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00650">v8-function-callback.h:650</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a4ddfd6d21732dff1c4c55d5441a8a5ca"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">v8::FunctionCallbackInfo::This</a></div><div class="ttdeci">Local&lt; Object &gt; This() const</div><div class="ttdoc">Returns the receiver.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00628">v8-function-callback.h:628</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a7eee713a6f95d5707ce788861754682f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">v8::FunctionCallbackInfo::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdoc">The current Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00645">v8-function-callback.h:645</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ab0ebfc2ea43af2fdfc3d085272bf499f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">v8::FunctionCallbackInfo::Data</a></div><div class="ttdeci">Local&lt; Value &gt; Data() const</div><div class="ttdoc">The data argument specified when creating the callback.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00639">v8-function-callback.h:639</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ad2105b93e9b4d02f42b7338fa5950cbc"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">v8::FunctionCallbackInfo::IsConstructCall</a></div><div class="ttdeci">bool IsConstructCall() const</div><div class="ttdoc">Indicates whether this is a regular call or a construct call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00655">v8-function-callback.h:655</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_af97dd3f1cb01ed039f9479152ad63a84"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">v8::FunctionCallbackInfo::Length</a></div><div class="ttdeci">int Length() const</div><div class="ttdoc">The number of available arguments.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00660">v8-function-callback.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionTemplate_html_a41c3051fd8bba064a0de7f2d16488d99"><div class="ttname"><a href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">v8::FunctionTemplate::New</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; New(Isolate *isolate, FunctionCallback callback=nullptr, Local&lt; Value &gt; data=Local&lt; Value &gt;(), Local&lt; Signature &gt; signature=Local&lt; Signature &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, const CFunction *c_function=nullptr, uint16_t instance_type=0, uint16_t allowed_receiver_instance_type_range_start=0, uint16_t allowed_receiver_instance_type_range_end=0)</div><div class="ttdoc">Creates a function template.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01114">api.cc:1114</a></div></div>
<div class="ttc" id="aclassv8_1_1Function_html"><div class="ttname"><a href="classv8_1_1Function.html">v8::Function</a></div><div class="ttdoc">A JavaScript function object (ECMA-262, 15.3).</div><div class="ttdef"><b>Definition:</b> <a href="v8-function_8h_source.html#l00027">v8-function.h:27</a></div></div>
<div class="ttc" id="aclassv8_1_1Function_html_a22f451f67d33a8403286d27f22d9ecb3"><div class="ttname"><a href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a></div><div class="ttdeci">static MaybeLocal&lt; Function &gt; New(Local&lt; Context &gt; context, FunctionCallback callback, Local&lt; Value &gt; data=Local&lt; Value &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdoc">Create a function in the current execution context for a given FunctionCallback.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l05297">api.cc:5297</a></div></div>
<div class="ttc" id="aclassv8_1_1Function_html_ac44115494773a32d87a63584b60709da"><div class="ttname"><a href="classv8_1_1Function.html#ac44115494773a32d87a63584b60709da">v8::Function::Call</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeLocal&lt; Value &gt; Call(v8::Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Value &gt; recv, int argc, Local&lt; Value &gt; argv[])</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l05347">api.cc:5347</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_a0915493cf1fa08c0230235dc48a82b05"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#a0915493cf1fa08c0230235dc48a82b05">v8::FuzzerMonitor::ControlFlowViolation</a></div><div class="ttdeci">static void ControlFlowViolation()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04769">d8.cc:4769</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_a204b20555dced1182968ca02193aafbd"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#a204b20555dced1182968ca02193aafbd">v8::FuzzerMonitor::ObservableDifference</a></div><div class="ttdeci">static void ObservableDifference()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04785">d8.cc:4785</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_a41c040a66b1b1736a373e612ef27ea4d"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#a41c040a66b1b1736a373e612ef27ea4d">v8::FuzzerMonitor::UseAfterFree</a></div><div class="ttdeci">static void UseAfterFree()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04796">d8.cc:4796</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_a45f7042df585d6847c5e003c13f97def"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#a45f7042df585d6847c5e003c13f97def">v8::FuzzerMonitor::Fatal</a></div><div class="ttdeci">static void Fatal()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04780">d8.cc:4780</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_a4b19057c06a148e4a2c46edf446050d7"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#a4b19057c06a148e4a2c46edf446050d7">v8::FuzzerMonitor::UseOfUninitializedValue</a></div><div class="ttdeci">static void UseOfUninitializedValue()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04805">d8.cc:4805</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_a686760fc6cb7c775bc02986b53abf743"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#a686760fc6cb7c775bc02986b53abf743">v8::FuzzerMonitor::UndefinedBehavior</a></div><div class="ttdeci">static void UndefinedBehavior()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04790">d8.cc:4790</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_aae9d76164912bb890824f12611b46b92"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#aae9d76164912bb890824f12611b46b92">v8::FuzzerMonitor::SimulateErrors</a></div><div class="ttdeci">static void SimulateErrors()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04741">d8.cc:4741</a></div></div>
<div class="ttc" id="aclassv8_1_1FuzzerMonitor_html_ac2800d3152ad73156347ef352dd286ff"><div class="ttname"><a href="classv8_1_1FuzzerMonitor.html#ac2800d3152ad73156347ef352dd286ff">v8::FuzzerMonitor::DCheck</a></div><div class="ttdeci">static void DCheck()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04775">d8.cc:4775</a></div></div>
<div class="ttc" id="aclassv8_1_1Global_html"><div class="ttname"><a href="classv8_1_1Global.html">v8::Global</a></div><div class="ttdoc">A PersistentBase which has move semantics.</div><div class="ttdef"><b>Definition:</b> <a href="v8-persistent-handle_8h_source.html#l00349">v8-persistent-handle.h:349</a></div></div>
<div class="ttc" id="aclassv8_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1HandleScope.html">v8::HandleScope</a></div><div class="ttdoc">A stack-allocated class that governs a number of local handles.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00119">v8-local-handle.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html"><div class="ttname"><a href="classv8_1_1InspectorClient.html">v8::InspectorClient</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05051">d8.cc:5051</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_a048c0b7720a9d012b49c3e4f5adb0a6e"><div class="ttname"><a href="classv8_1_1InspectorClient.html#a048c0b7720a9d012b49c3e4f5adb0a6e">v8::InspectorClient::runMessageLoopOnPause</a></div><div class="ttdeci">void runMessageLoopOnPause(int contextGroupId) override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05079">d8.cc:5079</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_a15c2cedba05b42b1cfe4b1583c1ec960"><div class="ttname"><a href="classv8_1_1InspectorClient.html#a15c2cedba05b42b1cfe4b1583c1ec960">v8::InspectorClient::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05151">d8.cc:5151</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_a3baa45da861a5f841291c41b843b1463"><div class="ttname"><a href="classv8_1_1InspectorClient.html#a3baa45da861a5f841291c41b843b1463">v8::InspectorClient::quitMessageLoopOnPause</a></div><div class="ttdeci">void quitMessageLoopOnPause() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05109">d8.cc:5109</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_a58e013fd98947937df16400e495a749b"><div class="ttname"><a href="classv8_1_1InspectorClient.html#a58e013fd98947937df16400e495a749b">v8::InspectorClient::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05152">d8.cc:5152</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_a71d50a38e952fda7b1642fa92b586a30"><div class="ttname"><a href="classv8_1_1InspectorClient.html#a71d50a38e952fda7b1642fa92b586a30">v8::InspectorClient::InspectorClient</a></div><div class="ttdeci">InspectorClient(Isolate *isolate, const Global&lt; Context &gt; &amp;global_context, bool connect)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05053">d8.cc:5053</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_a9805a640b07a95ce19841344a3f83c27"><div class="ttname"><a href="classv8_1_1InspectorClient.html#a9805a640b07a95ce19841344a3f83c27">v8::InspectorClient::ensureDefaultContextInGroup</a></div><div class="ttdeci">Local&lt; Context &gt; ensureDefaultContextInGroup(int group_id) override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05118">d8.cc:5118</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_abff6960071bae54d448850cb8862d107"><div class="ttname"><a href="classv8_1_1InspectorClient.html#abff6960071bae54d448850cb8862d107">v8::InspectorClient::inspector_</a></div><div class="ttdeci">std::unique_ptr&lt; v8_inspector::V8Inspector &gt; inspector_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05147">d8.cc:5147</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_acbe7df14ac38ff92879f9b85b1e634ae"><div class="ttname"><a href="classv8_1_1InspectorClient.html#acbe7df14ac38ff92879f9b85b1e634ae">v8::InspectorClient::GetSession</a></div><div class="ttdeci">static v8_inspector::V8InspectorSession * GetSession(Local&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05112">d8.cc:5112</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_ae30685632e230d4b815725b5b4f64e64"><div class="ttname"><a href="classv8_1_1InspectorClient.html#ae30685632e230d4b815725b5b4f64e64">v8::InspectorClient::SendInspectorMessage</a></div><div class="ttdeci">static void SendInspectorMessage(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05124">d8.cc:5124</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_ae9b20b93cb9b9196102881524a79bf13"><div class="ttname"><a href="classv8_1_1InspectorClient.html#ae9b20b93cb9b9196102881524a79bf13">v8::InspectorClient::session_</a></div><div class="ttdeci">std::unique_ptr&lt; v8_inspector::V8InspectorSession &gt; session_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05148">d8.cc:5148</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorClient_html_af5f8ef28b07e3fa1f1d0297fec4c43d0"><div class="ttname"><a href="classv8_1_1InspectorClient.html#af5f8ef28b07e3fa1f1d0297fec4c43d0">v8::InspectorClient::channel_</a></div><div class="ttdeci">std::unique_ptr&lt; v8_inspector::V8Inspector::Channel &gt; channel_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05149">d8.cc:5149</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html">v8::InspectorFrontend</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04988">d8.cc:4988</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_a0e7c6317f6b15062aebeb0cd6f95f6be"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#a0e7c6317f6b15062aebeb0cd6f95f6be">v8::InspectorFrontend::flushProtocolNotifications</a></div><div class="ttdeci">void flushProtocolNotifications() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05006">d8.cc:5006</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_a112ea41675459dba30f2ed4ee8aeacbf"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#a112ea41675459dba30f2ed4ee8aeacbf">v8::InspectorFrontend::~InspectorFrontend</a></div><div class="ttdeci">~InspectorFrontend() override=default</div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_a13b4fde39f2b7b73b0f19dce1d7e05ce"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#a13b4fde39f2b7b73b0f19dce1d7e05ce">v8::InspectorFrontend::sendResponse</a></div><div class="ttdeci">void sendResponse(int callId, std::unique_ptr&lt; v8_inspector::StringBuffer &gt; message) override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04997">d8.cc:4997</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_a18f97b325f5c32138b0d8b3b2d4c8905"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#a18f97b325f5c32138b0d8b3b2d4c8905">v8::InspectorFrontend::sendNotification</a></div><div class="ttdeci">void sendNotification(std::unique_ptr&lt; v8_inspector::StringBuffer &gt; message) override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05002">d8.cc:5002</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_a7ce836c6333535cf510076ff5ebed268"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#a7ce836c6333535cf510076ff5ebed268">v8::InspectorFrontend::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05047">d8.cc:5047</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_a9863dc649e3980b33c4258f9936c4572"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#a9863dc649e3980b33c4258f9936c4572">v8::InspectorFrontend::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05048">d8.cc:5048</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_acbac1549245fea16e0df2513a7d75199"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#acbac1549245fea16e0df2513a7d75199">v8::InspectorFrontend::Send</a></div><div class="ttdeci">void Send(const v8_inspector::StringView &amp;string)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05008">d8.cc:5008</a></div></div>
<div class="ttc" id="aclassv8_1_1InspectorFrontend_html_af68f270ba7258b7bc072d9b8f1001262"><div class="ttname"><a href="classv8_1_1InspectorFrontend.html#af68f270ba7258b7bc072d9b8f1001262">v8::InspectorFrontend::InspectorFrontend</a></div><div class="ttdeci">InspectorFrontend(Local&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04990">d8.cc:4990</a></div></div>
<div class="ttc" id="aclassv8_1_1Integer_html_acd94a64ebeb75a97c42a20c15738fca4"><div class="ttname"><a href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a></div><div class="ttdeci">static Local&lt; Integer &gt; New(Isolate *isolate, int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09543">api.cc:9543</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_1_1AllowJavascriptExecutionScope_html"><div class="ttname"><a href="classv8_1_1Isolate_1_1AllowJavascriptExecutionScope.html">v8::Isolate::AllowJavascriptExecutionScope</a></div><div class="ttdoc">Introduce exception to DisallowJavascriptExecutionScope.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00420">v8-isolate.h:420</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_1_1Scope_html"><div class="ttname"><a href="classv8_1_1Isolate_1_1Scope.html">v8::Isolate::Scope</a></div><div class="ttdoc">Stack-allocated class which sets the isolate for all operations executed within a local scope.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00379">v8-isolate.h:379</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a0ea70b9953abf15184a20eba6aab389f"><div class="ttname"><a href="classv8_1_1Isolate.html#a0ea70b9953abf15184a20eba6aab389f">v8::Isolate::SetCaptureStackTraceForUncaughtExceptions</a></div><div class="ttdeci">void SetCaptureStackTraceForUncaughtExceptions(bool capture, int frame_limit=10, StackTrace::StackTraceOptions options=StackTrace::kOverview)</div><div class="ttdoc">Tells V8 to capture current stack trace when uncaught exception occurs and report it to the message l...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10887">api.cc:10887</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a0f0fe33b344ad47c28dcb08838c142a9"><div class="ttname"><a href="classv8_1_1Isolate.html#a0f0fe33b344ad47c28dcb08838c142a9">v8::Isolate::SetWasmJSPIEnabledCallback</a></div><div class="ttdeci">void SetWasmJSPIEnabledCallback(WasmJSPIEnabledCallback callback)</div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a1393298ca557f6cbc312116d77c9b501"><div class="ttname"><a href="classv8_1_1Isolate.html#a1393298ca557f6cbc312116d77c9b501">v8::Isolate::MeasureMemory</a></div><div class="ttdeci">bool MeasureMemory(std::unique_ptr&lt; MeasureMemoryDelegate &gt; delegate, MeasureMemoryExecution execution=MeasureMemoryExecution::kDefault)</div><div class="ttdoc">This API is experimental and may change significantly.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10418">api.cc:10418</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a1a5a5762e4221aff8c6b10f9e3cec0af"><div class="ttname"><a href="classv8_1_1Isolate.html#a1a5a5762e4221aff8c6b10f9e3cec0af">v8::Isolate::Dispose</a></div><div class="ttdeci">void Dispose()</div><div class="ttdoc">Deinitializes and frees the isolate.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10070">api.cc:10070</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a2915583f307fd1c5084a2af4a83eeb48"><div class="ttname"><a href="classv8_1_1Isolate.html#a2915583f307fd1c5084a2af4a83eeb48">v8::Isolate::AddMessageListenerWithErrorLevel</a></div><div class="ttdeci">bool AddMessageListenerWithErrorLevel(MessageCallback callback, int message_levels, Local&lt; Value &gt; data=Local&lt; Value &gt;())</div><div class="ttdoc">Adds a message listener.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10835">api.cc:10835</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a2ae968a7ff8a397f1ac09d32990883f6"><div class="ttname"><a href="classv8_1_1Isolate.html#a2ae968a7ff8a397f1ac09d32990883f6">v8::Isolate::SetData</a></div><div class="ttdeci">void SetData(uint32_t slot, void *data)</div><div class="ttdoc">Associate embedder-specific data with the isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l01860">v8-isolate.h:1860</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a4b5216bbb1792211422aee575d02f442"><div class="ttname"><a href="classv8_1_1Isolate.html#a4b5216bbb1792211422aee575d02f442">v8::Isolate::ContextDisposedNotification</a></div><div class="ttdeci">Use version that passes ContextDependants int ContextDisposedNotification(bool dependant_context=true)</div><div class="ttdoc">Optional notification that a context has been disposed.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10589">api.cc:10589</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a4db8edb57f0ae6d4758314e7c9c7fd4e"><div class="ttname"><a href="classv8_1_1Isolate.html#a4db8edb57f0ae6d4758314e7c9c7fd4e">v8::Isolate::InstallConditionalFeatures</a></div><div class="ttdeci">void InstallConditionalFeatures(Local&lt; Context &gt; context)</div><div class="ttdoc">This function can be called by the embedder to signal V8 that the dynamic enabling of features has fi...</div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a630166a6a770ece436ebcea8f27e8da8"><div class="ttname"><a href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">v8::Isolate::ThrowError</a></div><div class="ttdeci">Local&lt; Value &gt; ThrowError(const char(&amp;message)[N])</div><div class="ttdoc">Schedules a v8::Exception::Error with the given message.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l01122">v8-isolate.h:1122</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a64546846b6d7f33f464ffd2006d88b93"><div class="ttname"><a href="classv8_1_1Isolate.html#a64546846b6d7f33f464ffd2006d88b93">v8::Isolate::DumpAndResetStats</a></div><div class="ttdeci">void DumpAndResetStats()</div><div class="ttdoc">Dumps activated low-level V8 internal stats.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10094">api.cc:10094</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a64a3cec46b3d6a8f437da81ae1a61f84"><div class="ttname"><a href="classv8_1_1Isolate.html#a64a3cec46b3d6a8f437da81ae1a61f84">v8::Isolate::SetHostImportModuleDynamicallyCallback</a></div><div class="ttdeci">void SetHostImportModuleDynamicallyCallback(HostImportModuleDynamicallyCallback callback)</div><div class="ttdoc">This specifies the callback called by the upcoming dynamic import() language feature to load modules.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10120">api.cc:10120</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a64a8503cafd00d1d2cadfbb0c2345054"><div class="ttname"><a href="classv8_1_1Isolate.html#a64a8503cafd00d1d2cadfbb0c2345054">v8::Isolate::Exit</a></div><div class="ttdeci">void Exit()</div><div class="ttdoc">Exits this isolate by restoring the previously entered one in the current thread.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10109">api.cc:10109</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a702f0ba4e5dee8a98aeb92239d58784e"><div class="ttname"><a href="classv8_1_1Isolate.html#a702f0ba4e5dee8a98aeb92239d58784e">v8::Isolate::SetPromiseRejectCallback</a></div><div class="ttdeci">void SetPromiseRejectCallback(PromiseRejectCallback callback)</div><div class="ttdoc">Set callback to notify about promise reject with no handler, or revocation of such a previous notific...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10484">api.cc:10484</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a76959d74a51aa2ca3f7fe78a2f3aff83"><div class="ttname"><a href="classv8_1_1Isolate.html#a76959d74a51aa2ca3f7fe78a2f3aff83">v8::Isolate::SetHostCreateShadowRealmContextCallback</a></div><div class="ttdeci">void SetHostCreateShadowRealmContextCallback(HostCreateShadowRealmContextCallback callback)</div><div class="ttdoc">This specifies the callback called by the upcoming ShadowRealm construction language feature to retri...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10138">api.cc:10138</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a79a222a1a662d08479d5a1880c6793c5"><div class="ttname"><a href="classv8_1_1Isolate.html#a79a222a1a662d08479d5a1880c6793c5">v8::Isolate::EnqueueMicrotask</a></div><div class="ttdeci">void EnqueueMicrotask(Local&lt; Function &gt; microtask)</div><div class="ttdoc">Enqueues the callback to the default MicrotaskQueue.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10503">api.cc:10503</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_aaf446f4877e4707a93d2c406fffd9fd6"><div class="ttname"><a href="classv8_1_1Isolate.html#aaf446f4877e4707a93d2c406fffd9fd6">v8::Isolate::LowMemoryNotification</a></div><div class="ttdeci">void LowMemoryNotification()</div><div class="ttdoc">Optional notification that the system is running low on memory.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10578">api.cc:10578</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_aafdbb3ad17978a641d8f27cd6106b4ef"><div class="ttname"><a href="classv8_1_1Isolate.html#aafdbb3ad17978a641d8f27cd6106b4ef">v8::Isolate::GetEnteredOrMicrotaskContext</a></div><div class="ttdeci">Local&lt; Context &gt; GetEnteredOrMicrotaskContext()</div><div class="ttdoc">Returns either the last context entered through V8's C++ API, or the context of the currently running...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09737">api.cc:9737</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ab4dfc8c57169d36cc4caae4bc85ca567"><div class="ttname"><a href="classv8_1_1Isolate.html#ab4dfc8c57169d36cc4caae4bc85ca567">v8::Isolate::SetWasmAsyncResolvePromiseCallback</a></div><div class="ttdeci">void SetWasmAsyncResolvePromiseCallback(WasmAsyncResolvePromiseCallback callback)</div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ab59a904591d417ebb3889b5fa507447b"><div class="ttname"><a href="classv8_1_1Isolate.html#ab59a904591d417ebb3889b5fa507447b">v8::Isolate::SetCounterFunction</a></div><div class="ttdeci">void SetCounterFunction(CounterLookupCallback)</div><div class="ttdoc">Enables the host application to provide a mechanism for recording statistics counters.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10549">api.cc:10549</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_abab88b427984481cb58c371f6cb30005"><div class="ttname"><a href="classv8_1_1Isolate.html#abab88b427984481cb58c371f6cb30005">v8::Isolate::New</a></div><div class="ttdeci">static Isolate * New(const CreateParams &amp;params)</div><div class="ttdoc">Creates a new isolate.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10059">api.cc:10059</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_abf891ae8a74ee328b203d9d82ea45d5c"><div class="ttname"><a href="classv8_1_1Isolate.html#abf891ae8a74ee328b203d9d82ea45d5c">v8::Isolate::HasPendingBackgroundTasks</a></div><div class="ttdeci">bool HasPendingBackgroundTasks()</div><div class="ttdoc">Returns true if there is ongoing background work within V8 that will eventually post a foreground tas...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09879">api.cc:9879</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ace5a7f4d4103bf636ce6ac7ce9c30851"><div class="ttname"><a href="classv8_1_1Isolate.html#ace5a7f4d4103bf636ce6ac7ce9c30851">v8::Isolate::GetContinuationPreservedEmbedderDataV2</a></div><div class="ttdeci">Local&lt; Data &gt; GetContinuationPreservedEmbedderDataV2()</div><div class="ttdoc">Returns the value set by SetContinuationPreservedEmbedderDataV2() or restored during microtask execut...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10252">api.cc:10252</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_acfc7c4d5c93913201249045e2655d3dda03727ef6f9ae3fd2c4b8dcfff05ec2a6"><div class="ttname"><a href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda03727ef6f9ae3fd2c4b8dcfff05ec2a6">v8::Isolate::kMessageInfo</a></div><div class="ttdeci">@ kMessageInfo</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00666">v8-isolate.h:666</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_acfc7c4d5c93913201249045e2655d3dda212c2fd735c3e517e56c7cc39efad2be"><div class="ttname"><a href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda212c2fd735c3e517e56c7cc39efad2be">v8::Isolate::kMessageLog</a></div><div class="ttdeci">@ kMessageLog</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00664">v8-isolate.h:664</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_acfc7c4d5c93913201249045e2655d3dda6e0ed3c5047d7dba0f0a7889a74569e9"><div class="ttname"><a href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda6e0ed3c5047d7dba0f0a7889a74569e9">v8::Isolate::kMessageDebug</a></div><div class="ttdeci">@ kMessageDebug</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00665">v8-isolate.h:665</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_acfc7c4d5c93913201249045e2655d3dda8327df155e4de05f54ae63a56e529e1b"><div class="ttname"><a href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3dda8327df155e4de05f54ae63a56e529e1b">v8::Isolate::kMessageError</a></div><div class="ttdeci">@ kMessageError</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00667">v8-isolate.h:667</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_acfc7c4d5c93913201249045e2655d3ddab954b1b5390d996328add7bc1521af6b"><div class="ttname"><a href="classv8_1_1Isolate.html#acfc7c4d5c93913201249045e2655d3ddab954b1b5390d996328add7bc1521af6b">v8::Isolate::kMessageWarning</a></div><div class="ttdeci">@ kMessageWarning</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00668">v8-isolate.h:668</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ad212b2e0b66ff5d586cd79cfa0b555fb"><div class="ttname"><a href="classv8_1_1Isolate.html#ad212b2e0b66ff5d586cd79cfa0b555fb">v8::Isolate::TerminateExecution</a></div><div class="ttdeci">void TerminateExecution()</div><div class="ttdoc">Forcefully terminate the current thread of JavaScript execution in the given isolate.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09858">api.cc:9858</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ad2d4dd42267c374a37b93df403ef11ac"><div class="ttname"><a href="classv8_1_1Isolate.html#ad2d4dd42267c374a37b93df403ef11ac">v8::Isolate::ThrowException</a></div><div class="ttdeci">Local&lt; Value &gt; ThrowException(Local&lt; Value &gt; exception)</div><div class="ttdoc">Schedules an exception to be thrown when returning to JavaScript.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09763">api.cc:9763</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ad5525cb1e8d0722df9cf1d163204c765"><div class="ttname"><a href="classv8_1_1Isolate.html#ad5525cb1e8d0722df9cf1d163204c765">v8::Isolate::SetHostInitializeImportMetaObjectCallback</a></div><div class="ttdeci">void SetHostInitializeImportMetaObjectCallback(HostInitializeImportMetaObjectCallback callback)</div><div class="ttdoc">This specifies the callback called by the upcoming import.meta language feature to retrieve host-defi...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10132">api.cc:10132</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ad6081293192949556c0cb877dd3c4a51"><div class="ttname"><a href="classv8_1_1Isolate.html#ad6081293192949556c0cb877dd3c4a51">v8::Isolate::SetWasmLoadSourceMapCallback</a></div><div class="ttdeci">void SetWasmLoadSourceMapCallback(WasmLoadSourceMapCallback callback)</div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_ae5c813518efe1cfaccd0262ad6ed2f82"><div class="ttname"><a href="classv8_1_1Isolate.html#ae5c813518efe1cfaccd0262ad6ed2f82">v8::Isolate::SetAddHistogramSampleFunction</a></div><div class="ttdeci">void SetAddHistogramSampleFunction(AddHistogramSampleCallback)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10559">api.cc:10559</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_aee57283198c192e83afe5e7d12d42e85"><div class="ttname"><a href="classv8_1_1Isolate.html#aee57283198c192e83afe5e7d12d42e85">v8::Isolate::IsExecutionTerminating</a></div><div class="ttdeci">bool IsExecutionTerminating()</div><div class="ttdoc">Is V8 terminating JavaScript execution.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09863">api.cc:9863</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_af68803b1b9fb0bf76107f56a7a762fac"><div class="ttname"><a href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">v8::Isolate::GetCurrentContext</a></div><div class="ttdeci">Local&lt; Context &gt; GetCurrentContext()</div><div class="ttdoc">Returns the context of the currently running JavaScript, or the context on the top of the stack if no...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09728">api.cc:9728</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_afc65ce9c7baf74bf27f2db0d25d9a38b"><div class="ttname"><a href="classv8_1_1Isolate.html#afc65ce9c7baf74bf27f2db0d25d9a38b">v8::Isolate::SetHostImportModuleWithPhaseDynamicallyCallback</a></div><div class="ttdeci">void SetHostImportModuleWithPhaseDynamicallyCallback(HostImportModuleWithPhaseDynamicallyCallback callback)</div><div class="ttdoc">This specifies the callback called by the upcoming dynamic import() and import.source() language feat...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10126">api.cc:10126</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_afd624c7e429a061c1cd9e5959ce6ebf0"><div class="ttname"><a href="classv8_1_1Isolate.html#afd624c7e429a061c1cd9e5959ce6ebf0">v8::Isolate::SetCreateHistogramFunction</a></div><div class="ttdeci">void SetCreateHistogramFunction(CreateHistogramCallback)</div><div class="ttdoc">Enables the host application to provide a mechanism for recording histograms.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10554">api.cc:10554</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_afd8c10d0f01e2ae43522c3ddf0bb053d"><div class="ttname"><a href="classv8_1_1Isolate.html#afd8c10d0f01e2ae43522c3ddf0bb053d">v8::Isolate::GetCurrent</a></div><div class="ttdeci">static Isolate * GetCurrent()</div><div class="ttdoc">Returns the entered isolate for the current thread or NULL in case there is no current isolate.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09919">api.cc:9919</a></div></div>
<div class="ttc" id="aclassv8_1_1JSON_html_a2d760d688469ecf890cc9bf2d1b5b966"><div class="ttname"><a href="classv8_1_1JSON.html#a2d760d688469ecf890cc9bf2d1b5b966">v8::JSON::Stringify</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; Stringify(Local&lt; Context &gt; context, Local&lt; Value &gt; json_object, Local&lt; String &gt; gap=Local&lt; String &gt;())</div><div class="ttdoc">Tries to stringify the JSON-serializable object |json_object| and returns it as string if successful.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03226">api.cc:3226</a></div></div>
<div class="ttc" id="aclassv8_1_1JSON_html_a32156057e84d1e4406e43df386922a2b"><div class="ttname"><a href="classv8_1_1JSON.html#a32156057e84d1e4406e43df386922a2b">v8::JSON::Parse</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Value &gt; Parse(Local&lt; Context &gt; context, Local&lt; String &gt; json_string)</div><div class="ttdoc">Tries to parse the string |json_string| and returns it as value if successful.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03212">api.cc:3212</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html"><div class="ttname"><a href="classv8_1_1Local.html">v8::Local</a></div><div class="ttdoc">An object reference managed by the v8 garbage collector.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00291">v8-local-handle.h:297</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html_a00dcb92006284768dc2661c2940f935a"><div class="ttname"><a href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">v8::Local::As</a></div><div class="ttdeci">Local&lt; S &gt; As() const</div><div class="ttdoc">Calling this is equivalent to Local&lt;S&gt;::Cast().</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00370">v8-local-handle.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html_a8362e3ec202364df44711f87da64215c"><div class="ttname"><a href="classv8_1_1Local.html#a8362e3ec202364df44711f87da64215c">v8::Local::New</a></div><div class="ttdeci">static Local&lt; T &gt; New(Isolate *isolate, Local&lt; T &gt; that)</div><div class="ttdoc">Create a local handle for the content of another handle.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00379">v8-local-handle.h:379</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html_a8e76791c0614ec0feed0e5a3a9d6e9f8"><div class="ttname"><a href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">v8::Local::Cast</a></div><div class="ttdeci">static Local&lt; T &gt; Cast(Local&lt; S &gt; that)</div><div class="ttdoc">Cast a handle to a subclass, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00354">v8-local-handle.h:354</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html"><div class="ttname"><a href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt; Value &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_a2877fe9d5892dd5d182353ea9bbfff07"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">v8::MaybeLocal::ToLocalChecked</a></div><div class="ttdeci">Local&lt; T &gt; ToLocalChecked()</div><div class="ttdoc">Converts this MaybeLocal&lt;&gt; to a Local&lt;&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00700">v8-local-handle.h:700</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_ab0a3cc3dada965f5f6f602fb9b0893d2"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#ab0a3cc3dada965f5f6f602fb9b0893d2">v8::MaybeLocal::FromMaybe</a></div><div class="ttdeci">Local&lt; S &gt; FromMaybe(Local&lt; S &gt; default_value) const</div><div class="ttdoc">Converts this MaybeLocal&lt;&gt; to a Local&lt;&gt;, using a default value if this MaybeLocal&lt;&gt; is empty.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00710">v8-local-handle.h:710</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_ac976c78900f2f8f5b92c7e5ded195277"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">v8::MaybeLocal::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00684">v8-local-handle.h:684</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_adcbf09f789c51def0e48e859d5b8da57"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">v8::MaybeLocal::ToLocal</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool ToLocal(Local&lt; S &gt; *out) const</div><div class="ttdoc">Converts this MaybeLocal&lt;&gt; to a Local&lt;&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00691">v8-local-handle.h:691</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html"><div class="ttname"><a href="classv8_1_1Maybe.html">v8::Maybe</a></div><div class="ttdoc">A simple Maybe type, representing an object which may or may not have a value, see https://hackage....</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00033">v8-maybe.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html_a6778de7b38b00e4bfff77d3dbc566f1c"><div class="ttname"><a href="classv8_1_1Maybe.html#a6778de7b38b00e4bfff77d3dbc566f1c">v8::Maybe::FromJust</a></div><div class="ttdeci">T FromJust() const &amp;</div><div class="ttdoc">Converts this Maybe&lt;&gt; to a value of type T.</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00076">v8-maybe.h:76</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html_ad2eaaef8cd0988f1fc95f2a71c1888c5"><div class="ttname"><a href="classv8_1_1Maybe.html#ad2eaaef8cd0988f1fc95f2a71c1888c5">v8::Maybe::IsJust</a></div><div class="ttdeci">bool IsJust() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00038">v8-maybe.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1MeasureMemoryDelegate_html_aac50e901a249a74d4e221bc8da468903"><div class="ttname"><a href="classv8_1_1MeasureMemoryDelegate.html#aac50e901a249a74d4e221bc8da468903">v8::MeasureMemoryDelegate::Default</a></div><div class="ttdeci">static std::unique_ptr&lt; MeasureMemoryDelegate &gt; Default(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Promise::Resolver &gt; promise_resolver, MeasureMemoryMode mode)</div><div class="ttdoc">Returns a default delegate that resolves the given promise when the memory measurement completes.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l10424">api.cc:10424</a></div></div>
<div class="ttc" id="aclassv8_1_1MemorySpan_html"><div class="ttname"><a href="classv8_1_1MemorySpan.html">v8::MemorySpan</a></div><div class="ttdoc">Points to an unowned contiguous buffer holding a known number of elements.</div><div class="ttdef"><b>Definition:</b> <a href="v8-memory-span_8h_source.html#l00064">v8-memory-span.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1MicrotasksScope_html"><div class="ttname"><a href="classv8_1_1MicrotasksScope.html">v8::MicrotasksScope</a></div><div class="ttdoc">This scope is used to control microtasks when MicrotasksPolicy::kScoped is used on Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-microtask-queue_8h_source.html#l00117">v8-microtask-queue.h:117</a></div></div>
<div class="ttc" id="aclassv8_1_1MicrotasksScope_html_a7c181251fc02bd2b5a1051e5de8fe4ed"><div class="ttname"><a href="classv8_1_1MicrotasksScope.html#a7c181251fc02bd2b5a1051e5de8fe4ed">v8::MicrotasksScope::PerformCheckpoint</a></div><div class="ttdeci">static void PerformCheckpoint(Isolate *isolate)</div><div class="ttdoc">Runs microtasks if no kRunMicrotasks scope is currently active.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11034">api.cc:11034</a></div></div>
<div class="ttc" id="aclassv8_1_1MicrotasksScope_html_a826cf210978221741a0467cd9be6996fa3b5b353f412e54f021cfac950b787f34"><div class="ttname"><a href="classv8_1_1MicrotasksScope.html#a826cf210978221741a0467cd9be6996fa3b5b353f412e54f021cfac950b787f34">v8::MicrotasksScope::kDoNotRunMicrotasks</a></div><div class="ttdeci">@ kDoNotRunMicrotasks</div><div class="ttdef"><b>Definition:</b> <a href="v8-microtask-queue_8h_source.html#l00119">v8-microtask-queue.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1ModuleRequest_html"><div class="ttname"><a href="classv8_1_1ModuleRequest.html">v8::ModuleRequest</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00125">v8-script.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1Module_html_a61b904b51e5f9d8595efd04c2fd631ae"><div class="ttname"><a href="classv8_1_1Module.html#a61b904b51e5f9d8595efd04c2fd631ae">v8::Module::CreateSyntheticModule</a></div><div class="ttdeci">static Local&lt; Module &gt; CreateSyntheticModule(Isolate *isolate, Local&lt; String &gt; module_name, const MemorySpan&lt; const Local&lt; String &gt;&gt; &amp;export_names, SyntheticModuleEvaluationSteps evaluation_steps)</div><div class="ttdoc">Creates a new SyntheticModule with the specified export names, where evaluation_steps will be execute...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02301">api.cc:2301</a></div></div>
<div class="ttc" id="aclassv8_1_1Number_html"><div class="ttname"><a href="classv8_1_1Number.html">v8::Number</a></div><div class="ttdoc">A JavaScript number value (ECMA-262, 4.3.20)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00848">v8-primitive.h:848</a></div></div>
<div class="ttc" id="aclassv8_1_1Number_html_a4d8822be251214dab4cf0212475ede76"><div class="ttname"><a href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a></div><div class="ttdeci">static Local&lt; Number &gt; New(Isolate *isolate, double value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09531">api.cc:9531</a></div></div>
<div class="ttc" id="aclassv8_1_1ObjectTemplate_html_a092e8adf656359d4dead412d28313ebb"><div class="ttname"><a href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">v8::ObjectTemplate::New</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; New(Isolate *isolate, Local&lt; FunctionTemplate &gt; constructor=Local&lt; FunctionTemplate &gt;())</div><div class="ttdoc">Creates an ObjectTemplate.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01392">api.cc:1392</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html"><div class="ttname"><a href="classv8_1_1Object.html">v8::Object</a></div><div class="ttdoc">A JavaScript object (ECMA-262, 4.3.3)</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00235">v8-object.h:235</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_a2732a4ef43af9e3fd6925028b8a94005"><div class="ttname"><a href="classv8_1_1Object.html#a2732a4ef43af9e3fd6925028b8a94005">v8::Object::GetCreationContext</a></div><div class="ttdeci">MaybeLocal&lt; Context &gt; GetCreationContext(v8::Isolate *isolate)</div><div class="ttdoc">Returns the context in which the object was created.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l05132">api.cc:5132</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_a3451edb58d1984b18652d925ec0bf756"><div class="ttname"><a href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">v8::Object::New</a></div><div class="ttdeci">static Local&lt; Object &gt; New(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07732">api.cc:7732</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_a38d88fed4393a0bfefcfa436e414f567"><div class="ttname"><a href="classv8_1_1Object.html#a38d88fed4393a0bfefcfa436e414f567">v8::Object::DefineOwnProperty</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; DefineOwnProperty(Local&lt; Context &gt; context, Local&lt; Name &gt; key, Local&lt; Value &gt; value, PropertyAttribute attributes=None)</div><div class="ttdoc">Implements [[DefineOwnProperty]] for data property case, see https://tc39.es/ecma262/#table-essential...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04491">api.cc:4491</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_a61306713b33ac8ef3d31d28e54dc5bad"><div class="ttname"><a href="classv8_1_1Object.html#a61306713b33ac8ef3d31d28e54dc5bad">v8::Object::Set</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; Set(Local&lt; Context &gt; context, Local&lt; Value &gt; key, Local&lt; Value &gt; value)</div><div class="ttdoc">Set only return Just(true) or Empty(), so if it should never fail, use result.Check().</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04300">api.cc:4300</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_a826077e71c717f94deeeaa9bfca1b249"><div class="ttname"><a href="classv8_1_1Object.html#a826077e71c717f94deeeaa9bfca1b249">v8::Object::CreateDataProperty</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; CreateDataProperty(Local&lt; Context &gt; context, Local&lt; Name &gt; key, Local&lt; Value &gt; value)</div><div class="ttdoc">Implements CreateDataProperty(O, P, V), see https://tc39.es/ecma262/#sec-createdataproperty.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04351">api.cc:4351</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_aa1e9645c7313bc2882da85732281b405"><div class="ttname"><a href="classv8_1_1Object.html#aa1e9645c7313bc2882da85732281b405">v8::Object::InternalFieldCount</a></div><div class="ttdeci">int InternalFieldCount() const</div><div class="ttdoc">Gets the number of internal fields for this Object.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06219">api.cc:6219</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_aa369f735e99f0741d8f36b77244d2ce3"><div class="ttname"><a href="classv8_1_1Object.html#aa369f735e99f0741d8f36b77244d2ce3">v8::Object::GetInternalField</a></div><div class="ttdeci">Local&lt; Data &gt; GetInternalField(int index)</div><div class="ttdoc">Gets the data from an internal field.</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00915">v8-object.h:915</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_abe2967d3b14fe56c00718cc29441d67b"><div class="ttname"><a href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">v8::Object::Get</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeLocal&lt; Value &gt; Get(Local&lt; Context &gt; context, Local&lt; Value &gt; key)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04568">api.cc:4568</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_ac58ef882458d9596ce2a596341d53323"><div class="ttname"><a href="classv8_1_1Object.html#ac58ef882458d9596ce2a596341d53323">v8::Object::SetInternalField</a></div><div class="ttdeci">void SetInternalField(int index, Local&lt; Data &gt; data)</div><div class="ttdoc">Sets the data in an internal field.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06242">api.cc:6242</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html">v8::OnMessageFromWorkerTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03456">d8.cc:3456</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html_a18a49125f6cd876b05af56f11d91b5d0"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html#a18a49125f6cd876b05af56f11d91b5d0">v8::OnMessageFromWorkerTask::callback_</a></div><div class="ttdeci">v8::Global&lt; v8::Value &gt; callback_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03502">d8.cc:3502</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html_a71fa4aceca0628f32b50d8035716756c"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html#a71fa4aceca0628f32b50d8035716756c">v8::OnMessageFromWorkerTask::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03466">d8.cc:3466</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html_a905cb32bd9ed4521db31f1b8267478f3"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html#a905cb32bd9ed4521db31f1b8267478f3">v8::OnMessageFromWorkerTask::OnMessageFromWorkerTask</a></div><div class="ttdeci">OnMessageFromWorkerTask(v8::Isolate *isolate, v8::Local&lt; v8::Context &gt; context, v8::Local&lt; v8::Value &gt; callback, std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03458">d8.cc:3458</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html_aba5e056a867e419fd140d3fb1e578663"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html#aba5e056a867e419fd140d3fb1e578663">v8::OnMessageFromWorkerTask::context_</a></div><div class="ttdeci">v8::Global&lt; v8::Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03501">d8.cc:3501</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html_ac3b83f708ef4a23f5de2de6944a97a2a"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html#ac3b83f708ef4a23f5de2de6944a97a2a">v8::OnMessageFromWorkerTask::data_</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; data_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03503">d8.cc:3503</a></div></div>
<div class="ttc" id="aclassv8_1_1OnMessageFromWorkerTask_html_aeb9170ba5a5efccb5334c52d6268efd5"><div class="ttname"><a href="classv8_1_1OnMessageFromWorkerTask.html#aeb9170ba5a5efccb5334c52d6268efd5">v8::OnMessageFromWorkerTask::isolate_</a></div><div class="ttdeci">v8::Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03500">d8.cc:3500</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html"><div class="ttname"><a href="classv8_1_1PageAllocator.html">v8::PageAllocator</a></div><div class="ttdoc">A V8 memory page allocator.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00455">v8-platform.h:455</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a">v8::PageAllocator::kReadWrite</a></div><div class="ttdeci">@ kReadWrite</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00489">v8-platform.h:489</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a92c2f6dbb3afa6c47dafd4c12ab4641f"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">v8::PageAllocator::AllocatePageSize</a></div><div class="ttdeci">virtual size_t AllocatePageSize()=0</div><div class="ttdoc">Gets the page granularity for AllocatePages and FreePages.</div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html">v8::PerIsolateData::ExplicitRealmScope</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00315">d8.h:315</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html_a1a2e8d43269e26f5f5bbc42c0d3a5f2b"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a1a2e8d43269e26f5f5bbc42c0d3a5f2b">v8::PerIsolateData::ExplicitRealmScope::~ExplicitRealmScope</a></div><div class="ttdeci">~ExplicitRealmScope()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02088">d8.cc:2088</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html_a401c28e8506b0b8579e0bbea5d110099"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a401c28e8506b0b8579e0bbea5d110099">v8::PerIsolateData::ExplicitRealmScope::previous_index_</a></div><div class="ttdeci">int previous_index_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00326">d8.h:326</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html_a4101c66fc7fed37d058400cea23f56ca"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a4101c66fc7fed37d058400cea23f56ca">v8::PerIsolateData::ExplicitRealmScope::ExplicitRealmScope</a></div><div class="ttdeci">ExplicitRealmScope(PerIsolateData *data, int index)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02079">d8.cc:2079</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html_a6a408f41147153e3285a3ed8131cd4bd"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a6a408f41147153e3285a3ed8131cd4bd">v8::PerIsolateData::ExplicitRealmScope::index_</a></div><div class="ttdeci">int index_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00325">d8.h:325</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html_a726b7e429e90738a736617d8e3dc7fb6"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#a726b7e429e90738a736617d8e3dc7fb6">v8::PerIsolateData::ExplicitRealmScope::realm_</a></div><div class="ttdeci">Local&lt; Context &gt; realm_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00324">d8.h:324</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1ExplicitRealmScope_html_ad4c51d0c3e1a93027a3095b0eccc3c42"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1ExplicitRealmScope.html#ad4c51d0c3e1a93027a3095b0eccc3c42">v8::PerIsolateData::ExplicitRealmScope::context</a></div><div class="ttdeci">Local&lt; Context &gt; context() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02093">d8.cc:2093</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1RealmScope_html"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1RealmScope.html">v8::PerIsolateData::RealmScope</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00304">d8.h:304</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1RealmScope_html_a4f8ade5f990ffe3651747998f98e609e"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1RealmScope.html#a4f8ade5f990ffe3651747998f98e609e">v8::PerIsolateData::RealmScope::RealmScope</a></div><div class="ttdeci">RealmScope(Isolate *isolate, const Global&lt; Context &gt; &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02063">d8.cc:2063</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1RealmScope_html_a632c018c4f301ec8b736a198e9b231a4"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1RealmScope.html#a632c018c4f301ec8b736a198e9b231a4">v8::PerIsolateData::RealmScope::data_</a></div><div class="ttdeci">PerIsolateData * data_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00310">d8.h:310</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_1_1RealmScope_html_af9b2846229058d6dbdbec7794865f60e"><div class="ttname"><a href="classv8_1_1PerIsolateData_1_1RealmScope.html#af9b2846229058d6dbdbec7794865f60e">v8::PerIsolateData::RealmScope::~RealmScope</a></div><div class="ttdeci">~RealmScope()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02073">d8.cc:2073</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html"><div class="ttname"><a href="classv8_1_1PerIsolateData.html">v8::PerIsolateData</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00294">d8.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a1181202fed9d57f47b84969451fb2e04"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a1181202fed9d57f47b84969451fb2e04">v8::PerIsolateData::GetWorkerOnMessage</a></div><div class="ttdeci">std::pair&lt; Local&lt; Context &gt;, Local&lt; Function &gt; &gt; GetWorkerOnMessage(const std::shared_ptr&lt; Worker &gt; &amp;worker) const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02049">d8.cc:2049</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a13efddf00c29eed046e5586c978d8c09"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a13efddf00c29eed046e5586c978d8c09">v8::PerIsolateData::GetDomNodeCtor</a></div><div class="ttdeci">Local&lt; FunctionTemplate &gt; GetDomNodeCtor() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02014">d8.cc:2014</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a1551d74217cba1cfdb8c35d9892a361b"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a1551d74217cba1cfdb8c35d9892a361b">v8::PerIsolateData::UnregisterWorker</a></div><div class="ttdeci">void UnregisterWorker(const std::shared_ptr&lt; Worker &gt; &amp;worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02058">d8.cc:2058</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a1cc49aeb2d17182e5eda29c18ba97d32"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a1cc49aeb2d17182e5eda29c18ba97d32">v8::PerIsolateData::AddDynamicImportData</a></div><div class="ttdeci">void AddDynamicImportData(DynamicImportData *)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01994">d8.cc:1994</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a30dc5ae046f91b57ae02df20471af9e3"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a30dc5ae046f91b57ae02df20471af9e3">v8::PerIsolateData::SubscribeWorkerOnMessage</a></div><div class="ttdeci">void SubscribeWorkerOnMessage(const std::shared_ptr&lt; Worker &gt; &amp;worker, Local&lt; Context &gt; context, Local&lt; Function &gt; callback)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02032">d8.cc:2032</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a44daa59f54615295d15798074542e990"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a44daa59f54615295d15798074542e990">v8::PerIsolateData::~PerIsolateData</a></div><div class="ttdeci">~PerIsolateData()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01940">d8.cc:1940</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a451df8cab8c0473d66ab88c80778f1d3"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a451df8cab8c0473d66ab88c80778f1d3">v8::PerIsolateData::realms_</a></div><div class="ttdeci">Global&lt; Context &gt; * realms_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00363">d8.h:363</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a471046921fceb365a0aaf30322c1da63"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a471046921fceb365a0aaf30322c1da63">v8::PerIsolateData::registered_workers_</a></div><div class="ttdeci">std::set&lt; std::shared_ptr&lt; Worker &gt; &gt; registered_workers_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00378">d8.h:378</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a4b7ebf27819b45106bd217c69650a3e2"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a4b7ebf27819b45106bd217c69650a3e2">v8::PerIsolateData::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00359">d8.h:359</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a539f5ea594b96d81200609a199570732"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a539f5ea594b96d81200609a199570732">v8::PerIsolateData::SetDomNodeCtor</a></div><div class="ttdeci">void SetDomNodeCtor(Local&lt; FunctionTemplate &gt; ctor)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02018">d8.cc:2018</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a5fdbc1b1e53c68791ac345bee93553f1"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a5fdbc1b1e53c68791ac345bee93553f1">v8::PerIsolateData::realm_shared_</a></div><div class="ttdeci">Global&lt; Value &gt; realm_shared_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00364">d8.h:364</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a613769bbd9c1f47f37d8695f60fd0ce7"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a613769bbd9c1f47f37d8695f60fd0ce7">v8::PerIsolateData::test_api_object_ctor_</a></div><div class="ttdeci">Global&lt; FunctionTemplate &gt; test_api_object_ctor_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00372">d8.h:372</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a62b53027292fe134c75ee7c0280b7b30"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a62b53027292fe134c75ee7c0280b7b30">v8::PerIsolateData::RemoveUnhandledPromise</a></div><div class="ttdeci">void RemoveUnhandledPromise(Local&lt; Promise &gt; promise)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01952">d8.cc:1952</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a6442cddde00d0a634f3ee920849bea8c"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a6442cddde00d0a634f3ee920849bea8c">v8::PerIsolateData::async_hooks_wrapper_</a></div><div class="ttdeci">AsyncHooks * async_hooks_wrapper_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00368">d8.h:368</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a7012cdc36d141f52206e64c8c4a71169"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a7012cdc36d141f52206e64c8c4a71169">v8::PerIsolateData::HasRunningSubscribedWorkers</a></div><div class="ttdeci">bool HasRunningSubscribedWorkers()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02022">d8.cc:2022</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a768a5cf550e2cc2caa5520d9956a91a9"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a768a5cf550e2cc2caa5520d9956a91a9">v8::PerIsolateData::ignore_unhandled_promises_</a></div><div class="ttdeci">bool ignore_unhandled_promises_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00365">d8.h:365</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a85becec8223e97d3593c30cef8682892"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a85becec8223e97d3593c30cef8682892">v8::PerIsolateData::RegisterWorker</a></div><div class="ttdeci">void RegisterWorker(std::shared_ptr&lt; Worker &gt; worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02028">d8.cc:2028</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a8c50c76bec7441901da20e0107c20e7b"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a8c50c76bec7441901da20e0107c20e7b">v8::PerIsolateData::dom_node_ctor_</a></div><div class="ttdeci">Global&lt; FunctionTemplate &gt; dom_node_ctor_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00373">d8.h:373</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a9caacbc35683dd07557879424a369a5e"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a9caacbc35683dd07557879424a369a5e">v8::PerIsolateData::realm_current_</a></div><div class="ttdeci">int realm_current_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00361">d8.h:361</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a9de418c6c940efb33d025df38c2c0c67"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a9de418c6c940efb33d025df38c2c0c67">v8::PerIsolateData::RealmFind</a></div><div class="ttdeci">int RealmFind(Local&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02097">d8.cc:2097</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_a9fd8b1b160fec93edb0ebedb3506e57b"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#a9fd8b1b160fec93edb0ebedb3506e57b">v8::PerIsolateData::realm_switch_</a></div><div class="ttdeci">int realm_switch_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00362">d8.h:362</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_aa17501de2d70dd2fc3e7cbbe32f9b182"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#aa17501de2d70dd2fc3e7cbbe32f9b182">v8::PerIsolateData::PerIsolateData</a></div><div class="ttdeci">PerIsolateData(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01931">d8.cc:1931</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_aa34af1f6db6b32621bad44ef98a2e08e"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#aa34af1f6db6b32621bad44ef98a2e08e">v8::PerIsolateData::GetAsyncHooks</a></div><div class="ttdeci">AsyncHooks * GetAsyncHooks()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00329">d8.h:329</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_aaae79576a0b6568574bc5bfa1c762d50"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#aaae79576a0b6568574bc5bfa1c762d50">v8::PerIsolateData::DeleteDynamicImportData</a></div><div class="ttdeci">void DeleteDynamicImportData(DynamicImportData *)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01999">d8.cc:1999</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_aab8382a3a0df7bfbb6f70ce14da27b66"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#aab8382a3a0df7bfbb6f70ce14da27b66">v8::PerIsolateData::realm_count_</a></div><div class="ttdeci">int realm_count_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00360">d8.h:360</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_aaf40f574119f428e50bb2d032ab9a23d"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#aaf40f574119f428e50bb2d032ab9a23d">v8::PerIsolateData::AddUnhandledPromise</a></div><div class="ttdeci">void AddUnhandledPromise(Local&lt; Promise &gt; promise, Local&lt; Message &gt; message, Local&lt; Value &gt; exception)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01965">d8.cc:1965</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_ab6e2fbdd85ad3d76c80964e7e5afdf6b"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#ab6e2fbdd85ad3d76c80964e7e5afdf6b">v8::PerIsolateData::GetTestApiObjectCtor</a></div><div class="ttdeci">Local&lt; FunctionTemplate &gt; GetTestApiObjectCtor() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02006">d8.cc:2006</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_abe810fde415a5b416f279d774f6b1f3d"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#abe810fde415a5b416f279d774f6b1f3d">v8::PerIsolateData::RealmIndexOrThrow</a></div><div class="ttdeci">int RealmIndexOrThrow(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int arg_offset)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02104">d8.cc:2104</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_ac68091363b94bd315772cc885627c81f"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#ac68091363b94bd315772cc885627c81f">v8::PerIsolateData::worker_message_callbacks_</a></div><div class="ttdeci">std::map&lt; std::shared_ptr&lt; Worker &gt;, std::pair&lt; Global&lt; Context &gt;, Global&lt; Function &gt; &gt; &gt; worker_message_callbacks_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00381">d8.h:381</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_adab91788ae2645c5afe549b93b0fe4c5"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#adab91788ae2645c5afe549b93b0fe4c5">v8::PerIsolateData::unhandled_promises_</a></div><div class="ttdeci">std::vector&lt; std::tuple&lt; Global&lt; Promise &gt;, Global&lt; Message &gt;, Global&lt; Value &gt; &gt; &gt; unhandled_promises_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00367">d8.h:367</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_adb0772e04fefdf4c51d199539b5eba5a"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#adb0772e04fefdf4c51d199539b5eba5a">v8::PerIsolateData::Get</a></div><div class="ttdeci">static PerIsolateData * Get(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00300">d8.h:300</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_ae4a7d9ed2a6a2f819d5a7e458f21d80e"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#ae4a7d9ed2a6a2f819d5a7e458f21d80e">v8::PerIsolateData::SetTestApiObjectCtor</a></div><div class="ttdeci">void SetTestApiObjectCtor(Local&lt; FunctionTemplate &gt; ctor)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02010">d8.cc:2010</a></div></div>
<div class="ttc" id="aclassv8_1_1PerIsolateData_html_afcba066acffeb62ea2280126513d1816"><div class="ttname"><a href="classv8_1_1PerIsolateData.html#afcba066acffeb62ea2280126513d1816">v8::PerIsolateData::HandleUnhandledPromiseRejections</a></div><div class="ttdeci">int HandleUnhandledPromiseRejections()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01975">d8.cc:1975</a></div></div>
<div class="ttc" id="aclassv8_1_1PersistentBase_html_a174bb1e45b18fd4eeaee033622825bb8"><div class="ttname"><a href="classv8_1_1PersistentBase.html#a174bb1e45b18fd4eeaee033622825bb8">v8::PersistentBase::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdoc">If non-empty, destroy the underlying storage cell IsEmpty() will return true after this call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-persistent-handle_8h_source.html#l00449">v8-persistent-handle.h:449</a></div></div>
<div class="ttc" id="aclassv8_1_1PersistentBase_html_a27ddb6118b13225207e9641c1e6c8c91"><div class="ttname"><a href="classv8_1_1PersistentBase.html#a27ddb6118b13225207e9641c1e6c8c91">v8::PersistentBase::AnnotateStrongRetainer</a></div><div class="ttdeci">void AnnotateStrongRetainer(const char *label)</div><div class="ttdoc">Annotates the strong handle with the given label, which is then used by the heap snapshot generator a...</div><div class="ttdef"><b>Definition:</b> <a href="v8-persistent-handle_8h_source.html#l00511">v8-persistent-handle.h:511</a></div></div>
<div class="ttc" id="aclassv8_1_1PersistentBase_html_afc2feb7652b6d60b86a51eb2279be463"><div class="ttname"><a href="classv8_1_1PersistentBase.html#afc2feb7652b6d60b86a51eb2279be463">v8::PersistentBase::Get</a></div><div class="ttdeci">Local&lt; T &gt; Get(Isolate *isolate) const</div><div class="ttdef"><b>Definition:</b> <a href="v8-persistent-handle_8h_source.html#l00115">v8-persistent-handle.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html"><div class="ttname"><a href="classv8_1_1Platform.html">v8::Platform</a></div><div class="ttdoc">V8 Platform abstraction layer.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01097">v8-platform.h:1097</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a098c125aa524aa3f3cde02dd158a143e"><div class="ttname"><a href="classv8_1_1Platform.html#a098c125aa524aa3f3cde02dd158a143e">v8::Platform::GetForegroundTaskRunner</a></div><div class="ttdeci">std::shared_ptr&lt; v8::TaskRunner &gt; GetForegroundTaskRunner(Isolate *isolate)</div><div class="ttdoc">Returns a TaskRunner which can be used to post a task on the foreground.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01141">v8-platform.h:1141</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_ad229642bf16a066d2e8d866dc128141e"><div class="ttname"><a href="classv8_1_1Platform.html#ad229642bf16a066d2e8d866dc128141e">v8::Platform::IdleTasksEnabled</a></div><div class="ttdeci">virtual bool IdleTasksEnabled(Isolate *isolate)</div><div class="ttdoc">Returns true if idle tasks are enabled for the given |isolate|.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01240">v8-platform.h:1240</a></div></div>
<div class="ttc" id="aclassv8_1_1PrimitiveArray_html_a71af2d7e5be17432a02b6fffc7a8f1a1"><div class="ttname"><a href="classv8_1_1PrimitiveArray.html#a71af2d7e5be17432a02b6fffc7a8f1a1">v8::PrimitiveArray::New</a></div><div class="ttdeci">static Local&lt; PrimitiveArray &gt; New(Isolate *isolate, int length)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02058">api.cc:2058</a></div></div>
<div class="ttc" id="aclassv8_1_1ProcessMessageTask_html"><div class="ttname"><a href="classv8_1_1ProcessMessageTask.html">v8::ProcessMessageTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05412">d8.cc:5412</a></div></div>
<div class="ttc" id="aclassv8_1_1ProcessMessageTask_html_a40f1bbd0f6d2c83ef177199cc2ea1eee"><div class="ttname"><a href="classv8_1_1ProcessMessageTask.html#a40f1bbd0f6d2c83ef177199cc2ea1eee">v8::ProcessMessageTask::worker_</a></div><div class="ttdeci">std::shared_ptr&lt; Worker &gt; worker_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05424">d8.cc:5424</a></div></div>
<div class="ttc" id="aclassv8_1_1ProcessMessageTask_html_a65d07dda13708b8394591c99628084a6"><div class="ttname"><a href="classv8_1_1ProcessMessageTask.html#a65d07dda13708b8394591c99628084a6">v8::ProcessMessageTask::data_</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; data_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05425">d8.cc:5425</a></div></div>
<div class="ttc" id="aclassv8_1_1ProcessMessageTask_html_a9793633580dc5d2ea6202105b5168095"><div class="ttname"><a href="classv8_1_1ProcessMessageTask.html#a9793633580dc5d2ea6202105b5168095">v8::ProcessMessageTask::RunInternal</a></div><div class="ttdeci">void RunInternal() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05421">d8.cc:5421</a></div></div>
<div class="ttc" id="aclassv8_1_1ProcessMessageTask_html_ab23307ee2bf37934e1ab3f0b2011cf92"><div class="ttname"><a href="classv8_1_1ProcessMessageTask.html#ab23307ee2bf37934e1ab3f0b2011cf92">v8::ProcessMessageTask::ProcessMessageTask</a></div><div class="ttdeci">ProcessMessageTask(i::CancelableTaskManager *task_manager, std::shared_ptr&lt; Worker &gt; worker, std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05414">d8.cc:5414</a></div></div>
<div class="ttc" id="aclassv8_1_1PromiseRejectMessage_html"><div class="ttname"><a href="classv8_1_1PromiseRejectMessage.html">v8::PromiseRejectMessage</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00154">v8-promise.h:154</a></div></div>
<div class="ttc" id="aclassv8_1_1PromiseRejectMessage_html_a0108777e5f0a08fd0b260464de1624f6"><div class="ttname"><a href="classv8_1_1PromiseRejectMessage.html#a0108777e5f0a08fd0b260464de1624f6">v8::PromiseRejectMessage::GetPromise</a></div><div class="ttdeci">Local&lt; Promise &gt; GetPromise() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00160">v8-promise.h:160</a></div></div>
<div class="ttc" id="aclassv8_1_1PromiseRejectMessage_html_a6faaa07f9bb78ee482b84ef7553c3245"><div class="ttname"><a href="classv8_1_1PromiseRejectMessage.html#a6faaa07f9bb78ee482b84ef7553c3245">v8::PromiseRejectMessage::GetEvent</a></div><div class="ttdeci">PromiseRejectEvent GetEvent() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00161">v8-promise.h:161</a></div></div>
<div class="ttc" id="aclassv8_1_1PromiseRejectMessage_html_ad8eb9c951a027df6568bebb1c4767d2b"><div class="ttname"><a href="classv8_1_1PromiseRejectMessage.html#ad8eb9c951a027df6568bebb1c4767d2b">v8::PromiseRejectMessage::GetValue</a></div><div class="ttdeci">Local&lt; Value &gt; GetValue() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00162">v8-promise.h:162</a></div></div>
<div class="ttc" id="aclassv8_1_1Promise_1_1Resolver_html"><div class="ttname"><a href="classv8_1_1Promise_1_1Resolver.html">v8::Promise::Resolver</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00032">v8-promise.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1Promise_1_1Resolver_html_a39d73fbb8db9bb44de553674e2d39409"><div class="ttname"><a href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">v8::Promise::Resolver::New</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Resolver &gt; New(Local&lt; Context &gt; context)</div><div class="ttdoc">Create a new resolver, along with an associated promise in pending state.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08609">api.cc:8609</a></div></div>
<div class="ttc" id="aclassv8_1_1Promise_html"><div class="ttname"><a href="classv8_1_1Promise.html">v8::Promise</a></div><div class="ttdoc">An instance of the built-in Promise constructor (ES6 draft).</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00024">v8-promise.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1Promise_html_a0c357b9d99a634f98a5a203b0a322544a5ced64bc0b4332d27a1f8b9a1925e361"><div class="ttname"><a href="classv8_1_1Promise.html#a0c357b9d99a634f98a5a203b0a322544a5ced64bc0b4332d27a1f8b9a1925e361">v8::Promise::kRejected</a></div><div class="ttdeci">@ kRejected</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00030">v8-promise.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1Promise_html_a0c357b9d99a634f98a5a203b0a322544a8dce1224e4cc6a5d9352b7dc0fe381cc"><div class="ttname"><a href="classv8_1_1Promise.html#a0c357b9d99a634f98a5a203b0a322544a8dce1224e4cc6a5d9352b7dc0fe381cc">v8::Promise::kPending</a></div><div class="ttdeci">@ kPending</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00030">v8-promise.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1PropertyCallbackInfo_html"><div class="ttname"><a href="classv8_1_1PropertyCallbackInfo.html">v8::PropertyCallbackInfo</a></div><div class="ttdoc">The information passed to a property callback about the context of the property access.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00187">v8-function-callback.h:187</a></div></div>
<div class="ttc" id="aclassv8_1_1PropertyCallbackInfo_html_aa0882946929c3c4df6d131fe0d8d6746"><div class="ttname"><a href="classv8_1_1PropertyCallbackInfo.html#aa0882946929c3c4df6d131fe0d8d6746">v8::PropertyCallbackInfo::GetReturnValue</a></div><div class="ttdeci">ReturnValue&lt; T &gt; GetReturnValue() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00702">v8-function-callback.h:702</a></div></div>
<div class="ttc" id="aclassv8_1_1PropertyCallbackInfo_html_aff7b838ede308ab8a42890962eb9271c"><div class="ttname"><a href="classv8_1_1PropertyCallbackInfo.html#aff7b838ede308ab8a42890962eb9271c">v8::PropertyCallbackInfo::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00665">v8-function-callback.h:665</a></div></div>
<div class="ttc" id="aclassv8_1_1ResourceConstraints_html_aeeaaee4017e8d5f8f0439af2af2ed3a5"><div class="ttname"><a href="classv8_1_1ResourceConstraints.html#aeeaaee4017e8d5f8f0439af2af2ed3a5">v8::ResourceConstraints::ConfigureDefaults</a></div><div class="ttdeci">void ConfigureDefaults(uint64_t physical_memory, uint64_t virtual_memory_limit)</div><div class="ttdoc">Configures the constraints with reasonable default values based on the capabilities of the current de...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00533">api.cc:533</a></div></div>
<div class="ttc" id="aclassv8_1_1SandboxHardwareSupport_html_a669b40dffc0df78a8f194149e5c774d1"><div class="ttname"><a href="classv8_1_1SandboxHardwareSupport.html#a669b40dffc0df78a8f194149e5c774d1">v8::SandboxHardwareSupport::InitializeBeforeThreadCreation</a></div><div class="ttdeci">static void InitializeBeforeThreadCreation()</div><div class="ttdoc">Initialize sandbox hardware support.</div><div class="ttdef"><b>Definition:</b> <a href="v8_8cc_source.html#l00309">v8.cc:309</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_1_1ExternalSourceStream_html"><div class="ttname"><a href="classv8_1_1ScriptCompiler_1_1ExternalSourceStream.html">v8::ScriptCompiler::ExternalSourceStream</a></div><div class="ttdoc">For streaming incomplete script data to V8.</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00548">v8-script.h:548</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_1_1ScriptStreamingTask_html"><div class="ttname"><a href="classv8_1_1ScriptCompiler_1_1ScriptStreamingTask.html">v8::ScriptCompiler::ScriptStreamingTask</a></div><div class="ttdoc">A streaming task which the embedder must run on a background thread to stream scripts into V8.</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00610">v8-script.h:610</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_1_1ScriptStreamingTask_html_ac4900e34a2045112d3ed10db8228165b"><div class="ttname"><a href="classv8_1_1ScriptCompiler_1_1ScriptStreamingTask.html#ac4900e34a2045112d3ed10db8228165b">v8::ScriptCompiler::ScriptStreamingTask::Run</a></div><div class="ttdeci">void Run()</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02571">api.cc:2571</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_1_1Source_html"><div class="ttname"><a href="classv8_1_1ScriptCompiler_1_1Source.html">v8::ScriptCompiler::Source</a></div><div class="ttdoc">Source code which can be then compiled to a UnboundScript or Script.</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00492">v8-script.h:492</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_1_1StreamedSource_html"><div class="ttname"><a href="classv8_1_1ScriptCompiler_1_1StreamedSource.html">v8::ScriptCompiler::StreamedSource</a></div><div class="ttdoc">Source code which can be streamed into V8 in pieces.</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00582">v8-script.h:582</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_1_1StreamedSource_html_a17b52f85ac22120e687b16357d662da2a6140d5dcb20cd13613287f366c9c99d2"><div class="ttname"><a href="classv8_1_1ScriptCompiler_1_1StreamedSource.html#a17b52f85ac22120e687b16357d662da2a6140d5dcb20cd13613287f366c9c99d2">v8::ScriptCompiler::StreamedSource::TWO_BYTE</a></div><div class="ttdeci">@ TWO_BYTE</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00584">v8-script.h:584</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_a1f94625c81c0346c48b21ef1c9c73587"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#a1f94625c81c0346c48b21ef1c9c73587">v8::ScriptCompiler::CreateCodeCache</a></div><div class="ttdeci">static CachedData * CreateCodeCache(Local&lt; UnboundScript &gt; unbound_script)</div><div class="ttdoc">Creates and returns code cache for the specified unbound_script.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02712">api.cc:2712</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_a3b3aed3622a957a4af4ced80348dcb9e"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#a3b3aed3622a957a4af4ced80348dcb9e">v8::ScriptCompiler::CompileModule</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Module &gt; CompileModule(Isolate *isolate, Source *source, CompileOptions options=kNoCompileOptions, NoCacheReason no_cache_reason=kNoCacheNoReason)</div><div class="ttdoc">Compile an ES module, returning a Module that encapsulates the compiled code.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02485">api.cc:2485</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_a3df9c0af702e46303ded03e84fc5e519"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#a3df9c0af702e46303ded03e84fc5e519">v8::ScriptCompiler::Compile</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Script &gt; Compile(Local&lt; Context &gt; context, Source *source, CompileOptions options=kNoCompileOptions, NoCacheReason no_cache_reason=kNoCacheNoReason)</div><div class="ttdoc">Compiles the specified script (bound to current context).</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02469">api.cc:2469</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_a65f85be54b26efb1f47543c5895f7008"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#a65f85be54b26efb1f47543c5895f7008">v8::ScriptCompiler::CompileUnboundScript</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; UnboundScript &gt; CompileUnboundScript(Isolate *isolate, Source *source, CompileOptions options=kNoCompileOptions, NoCacheReason no_cache_reason=kNoCacheNoReason)</div><div class="ttdoc">Compiles the specified script (context-independent).</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02459">api.cc:2459</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_aa6db7774ab5d8793cd88db6b35a71818"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818">v8::ScriptCompiler::CompileOptions</a></div><div class="ttdeci">CompileOptions</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00673">v8-script.h:673</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_aa6db7774ab5d8793cd88db6b35a71818a5d5d2899ff9a09f76c91c4126d6b253e"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a5d5d2899ff9a09f76c91c4126d6b253e">v8::ScriptCompiler::kEagerCompile</a></div><div class="ttdeci">@ kEagerCompile</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00676">v8-script.h:676</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818a970141565d7803152054802077acdbc1">v8::ScriptCompiler::kNoCompileOptions</a></div><div class="ttdeci">@ kNoCompileOptions</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00674">v8-script.h:674</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_aa6db7774ab5d8793cd88db6b35a71818afbc9e8e1bb024c696d68e5253100d0f7"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#aa6db7774ab5d8793cd88db6b35a71818afbc9e8e1bb024c696d68e5253100d0f7">v8::ScriptCompiler::kConsumeCodeCache</a></div><div class="ttdeci">@ kConsumeCodeCache</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00675">v8-script.h:675</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptCompiler_html_af368b2b8709c56e6f21a33b9729d59eb"><div class="ttname"><a href="classv8_1_1ScriptCompiler.html#af368b2b8709c56e6f21a33b9729d59eb">v8::ScriptCompiler::StartStreaming</a></div><div class="ttdeci">static ScriptStreamingTask * StartStreaming(Isolate *isolate, StreamedSource *source, ScriptType type=ScriptType::kClassic, CompileOptions options=kNoCompileOptions, CompileHintCallback compile_hint_callback=nullptr, void *compile_hint_callback_data=nullptr)</div><div class="ttdoc">Returns a task which streams script data into V8, or NULL if the script cannot be streamed.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02573">api.cc:2573</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptOriginOptions_html"><div class="ttname"><a href="classv8_1_1ScriptOriginOptions.html">v8::ScriptOriginOptions</a></div><div class="ttdoc">The optional attributes of ScriptOrigin.</div><div class="ttdef"><b>Definition:</b> <a href="v8-message_8h_source.html#l00029">v8-message.h:29</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptOrigin_html"><div class="ttname"><a href="classv8_1_1ScriptOrigin.html">v8::ScriptOrigin</a></div><div class="ttdoc">The origin, within a file, of a script.</div><div class="ttdef"><b>Definition:</b> <a href="v8-message_8h_source.html#l00063">v8-message.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1ScriptOrigin_html_afa5db26ed16fb6a9dfcb71e92fa3f295"><div class="ttname"><a href="classv8_1_1ScriptOrigin.html#afa5db26ed16fb6a9dfcb71e92fa3f295">v8::ScriptOrigin::GetHostDefinedOptions</a></div><div class="ttdeci">Local&lt; Data &gt; GetHostDefinedOptions() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-message_8h_source.html#l00209">v8-message.h:209</a></div></div>
<div class="ttc" id="aclassv8_1_1Script_html_acf5759f7f53b2a0eb57e835b32108452"><div class="ttname"><a href="classv8_1_1Script.html#acf5759f7f53b2a0eb57e835b32108452">v8::Script::Compile</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Script &gt; Compile(Local&lt; Context &gt; context, Local&lt; String &gt; source, ScriptOrigin *origin=nullptr)</div><div class="ttdoc">A shorthand for ScriptCompiler::Compile().</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02760">api.cc:2760</a></div></div>
<div class="ttc" id="aclassv8_1_1SealHandleScope_html"><div class="ttname"><a href="classv8_1_1SealHandleScope.html">v8::SealHandleScope</a></div><div class="ttdoc">A SealHandleScope acts like a handle scope in which no handle allocations are allowed.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00795">v8-local-handle.h:795</a></div></div>
<div class="ttc" id="aclassv8_1_1SerializationDataQueue_html_a29553b2dbd5de7b71087c0fc09c63174"><div class="ttname"><a href="classv8_1_1SerializationDataQueue.html#a29553b2dbd5de7b71087c0fc09c63174">v8::SerializationDataQueue::Enqueue</a></div><div class="ttdeci">void Enqueue(std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05340">d8.cc:5340</a></div></div>
<div class="ttc" id="aclassv8_1_1SerializationDataQueue_html_a484b964c7f57003203c3c80905abd384"><div class="ttname"><a href="classv8_1_1SerializationDataQueue.html#a484b964c7f57003203c3c80905abd384">v8::SerializationDataQueue::Dequeue</a></div><div class="ttdeci">bool Dequeue(std::unique_ptr&lt; SerializationData &gt; *data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05345">d8.cc:5345</a></div></div>
<div class="ttc" id="aclassv8_1_1SerializationDataQueue_html_a9103ef577bcfe534f12347a6c8480062"><div class="ttname"><a href="classv8_1_1SerializationDataQueue.html#a9103ef577bcfe534f12347a6c8480062">v8::SerializationDataQueue::IsEmpty</a></div><div class="ttdeci">bool IsEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05355">d8.cc:5355</a></div></div>
<div class="ttc" id="aclassv8_1_1SerializationDataQueue_html_ab01f3774e08176cfb4d1dddfda6d04a4"><div class="ttname"><a href="classv8_1_1SerializationDataQueue.html#ab01f3774e08176cfb4d1dddfda6d04a4">v8::SerializationDataQueue::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05360">d8.cc:5360</a></div></div>
<div class="ttc" id="aclassv8_1_1SerializationData_html"><div class="ttname"><a href="classv8_1_1SerializationData.html">v8::SerializationData</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00138">d8.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html"><div class="ttname"><a href="classv8_1_1Serializer.html">v8::Serializer</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06332">d8.cc:6332</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a0642983ee43067669e17c87411167a02"><div class="ttname"><a href="classv8_1_1Serializer.html#a0642983ee43067669e17c87411167a02">v8::Serializer::ReallocateBufferMemory</a></div><div class="ttdeci">void * ReallocateBufferMemory(void *old_buffer, size_t size, size_t *actual_size) override</div><div class="ttdoc">Allocates memory for the buffer of at least the size provided.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06412">d8.cc:6412</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a0d6bb4ff18c17151dbd0243da229e179"><div class="ttname"><a href="classv8_1_1Serializer.html#a0d6bb4ff18c17151dbd0243da229e179">v8::Serializer::shared_array_buffers_</a></div><div class="ttdeci">std::vector&lt; Global&lt; SharedArrayBuffer &gt; &gt; shared_array_buffers_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06498">d8.cc:6498</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a0d82e134ed7673c0580481959d23da44"><div class="ttname"><a href="classv8_1_1Serializer.html#a0d82e134ed7673c0580481959d23da44">v8::Serializer::backing_stores_</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; v8::BackingStore &gt; &gt; backing_stores_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06500">d8.cc:6500</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a16f0dd0bb1c02d6200f35f9f5b27fe62"><div class="ttname"><a href="classv8_1_1Serializer.html#a16f0dd0bb1c02d6200f35f9f5b27fe62">v8::Serializer::FinalizeTransfer</a></div><div class="ttdeci">Maybe&lt; bool &gt; FinalizeTransfer()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06473">d8.cc:6473</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a2affdb569edaf5ff2acd52041cc0c23b"><div class="ttname"><a href="classv8_1_1Serializer.html#a2affdb569edaf5ff2acd52041cc0c23b">v8::Serializer::wasm_modules_</a></div><div class="ttdeci">std::vector&lt; Global&lt; WasmModuleObject &gt; &gt; wasm_modules_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06499">d8.cc:6499</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a4cf48df134b20c6f157f5aeaa8ee91ad"><div class="ttname"><a href="classv8_1_1Serializer.html#a4cf48df134b20c6f157f5aeaa8ee91ad">v8::Serializer::Serializer</a></div><div class="ttdeci">Serializer(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06334">d8.cc:6334</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a4f521cfb3eebc1c97dfdd978533e87f4"><div class="ttname"><a href="classv8_1_1Serializer.html#a4f521cfb3eebc1c97dfdd978533e87f4">v8::Serializer::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06494">d8.cc:6494</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a54d5467f7d1e9b35ec95f36f7f88b2b9"><div class="ttname"><a href="classv8_1_1Serializer.html#a54d5467f7d1e9b35ec95f36f7f88b2b9">v8::Serializer::AdoptSharedValueConveyor</a></div><div class="ttdeci">bool AdoptSharedValueConveyor(Isolate *isolate, SharedValueConveyor &amp;&amp;conveyor) override</div><div class="ttdoc">Called when the first shared value is serialized.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06428">d8.cc:6428</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a573f904a1db660126a98ecec16f142be"><div class="ttname"><a href="classv8_1_1Serializer.html#a573f904a1db660126a98ecec16f142be">v8::Serializer::GetSharedArrayBufferId</a></div><div class="ttdeci">Maybe&lt; uint32_t &gt; GetSharedArrayBufferId(Isolate *isolate, Local&lt; SharedArrayBuffer &gt; shared_array_buffer) override</div><div class="ttdoc">Called when the ValueSerializer is going to serialize a SharedArrayBuffer object.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06381">d8.cc:6381</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a6b2edc74a100b5cf6e3b5fb5f354459a"><div class="ttname"><a href="classv8_1_1Serializer.html#a6b2edc74a100b5cf6e3b5fb5f354459a">v8::Serializer::AppendBackingStoresTo</a></div><div class="ttdeci">void AppendBackingStoresTo(std::vector&lt; std::shared_ptr&lt; BackingStore &gt;&gt; *to)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06369">d8.cc:6369</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a8c0fc9453c101ae9166fa06e20572e30"><div class="ttname"><a href="classv8_1_1Serializer.html#a8c0fc9453c101ae9166fa06e20572e30">v8::Serializer::data_</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; data_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06496">d8.cc:6496</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a8d2e55c1cbd58dfc09dc66d6d36e1e25"><div class="ttname"><a href="classv8_1_1Serializer.html#a8d2e55c1cbd58dfc09dc66d6d36e1e25">v8::Serializer::WriteValue</a></div><div class="ttdeci">Maybe&lt; bool &gt; WriteValue(Local&lt; Context &gt; context, Local&lt; Value &gt; value, Local&lt; Value &gt; transfer)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06342">d8.cc:6342</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a8ed438d3dec9648290cb412993644461"><div class="ttname"><a href="classv8_1_1Serializer.html#a8ed438d3dec9648290cb412993644461">v8::Serializer::PrepareTransfer</a></div><div class="ttdeci">Maybe&lt; bool &gt; PrepareTransfer(Local&lt; Context &gt; context, Local&lt; Value &gt; transfer)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06435">d8.cc:6435</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a97707713e9bfe28e117bd15d40e3afc6"><div class="ttname"><a href="classv8_1_1Serializer.html#a97707713e9bfe28e117bd15d40e3afc6">v8::Serializer::ThrowDataCloneError</a></div><div class="ttdeci">void ThrowDataCloneError(Local&lt; String &gt; message) override</div><div class="ttdoc">Handles the case where a DataCloneError would be thrown in the structured clone spec.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06377">d8.cc:6377</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_a9d18106c1908b9d3f0242cf84a3e302c"><div class="ttname"><a href="classv8_1_1Serializer.html#a9d18106c1908b9d3f0242cf84a3e302c">v8::Serializer::Release</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; Release()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06367">d8.cc:6367</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_aae4c79f2f6579c42c9230b986c78b826"><div class="ttname"><a href="classv8_1_1Serializer.html#aae4c79f2f6579c42c9230b986c78b826">v8::Serializer::array_buffers_</a></div><div class="ttdeci">std::vector&lt; Global&lt; ArrayBuffer &gt; &gt; array_buffers_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06497">d8.cc:6497</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_ac7c1d6f1243fed40cddadf4223fb4768"><div class="ttname"><a href="classv8_1_1Serializer.html#ac7c1d6f1243fed40cddadf4223fb4768">v8::Serializer::Serializer</a></div><div class="ttdeci">Serializer(const Serializer &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_accfdcb90312419da55d8dda5caf63188"><div class="ttname"><a href="classv8_1_1Serializer.html#accfdcb90312419da55d8dda5caf63188">v8::Serializer::operator=</a></div><div class="ttdeci">Serializer &amp; operator=(const Serializer &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_ad80848a9dfe7dbed01db35aec95e933a"><div class="ttname"><a href="classv8_1_1Serializer.html#ad80848a9dfe7dbed01db35aec95e933a">v8::Serializer::GetWasmModuleTransferId</a></div><div class="ttdeci">Maybe&lt; uint32_t &gt; GetWasmModuleTransferId(Isolate *isolate, Local&lt; WasmModuleObject &gt; module) override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06397">d8.cc:6397</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_af1a3b0dd864c21b9f33c10430aa1d91a"><div class="ttname"><a href="classv8_1_1Serializer.html#af1a3b0dd864c21b9f33c10430aa1d91a">v8::Serializer::serializer_</a></div><div class="ttdeci">ValueSerializer serializer_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06495">d8.cc:6495</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_af406a9e21fccfce3a5faed52182a69a6"><div class="ttname"><a href="classv8_1_1Serializer.html#af406a9e21fccfce3a5faed52182a69a6">v8::Serializer::FreeBufferMemory</a></div><div class="ttdeci">void FreeBufferMemory(void *buffer) override</div><div class="ttdoc">Frees a buffer allocated with |ReallocateBufferMemory|.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06426">d8.cc:6426</a></div></div>
<div class="ttc" id="aclassv8_1_1Serializer_html_afd62a6e0c905a70818c45e2c3fc7e237"><div class="ttname"><a href="classv8_1_1Serializer.html#afd62a6e0c905a70818c45e2c3fc7e237">v8::Serializer::current_memory_usage_</a></div><div class="ttdeci">size_t current_memory_usage_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06501">d8.cc:6501</a></div></div>
<div class="ttc" id="aclassv8_1_1SetTimeoutTask_html"><div class="ttname"><a href="classv8_1_1SetTimeoutTask.html">v8::SetTimeoutTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03149">d8.cc:3149</a></div></div>
<div class="ttc" id="aclassv8_1_1SetTimeoutTask_html_a069706f02b79ea650833530943f66f57"><div class="ttname"><a href="classv8_1_1SetTimeoutTask.html#a069706f02b79ea650833530943f66f57">v8::SetTimeoutTask::isolate_</a></div><div class="ttdeci">v8::Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03168">d8.cc:3168</a></div></div>
<div class="ttc" id="aclassv8_1_1SetTimeoutTask_html_a0edbe864d3e85c621b443c88f40bed71"><div class="ttname"><a href="classv8_1_1SetTimeoutTask.html#a0edbe864d3e85c621b443c88f40bed71">v8::SetTimeoutTask::callback_</a></div><div class="ttdeci">v8::Global&lt; v8::Function &gt; callback_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03170">d8.cc:3170</a></div></div>
<div class="ttc" id="aclassv8_1_1SetTimeoutTask_html_a15287cbb83a8381d2a347cb7d4591a4d"><div class="ttname"><a href="classv8_1_1SetTimeoutTask.html#a15287cbb83a8381d2a347cb7d4591a4d">v8::SetTimeoutTask::SetTimeoutTask</a></div><div class="ttdeci">SetTimeoutTask(v8::Isolate *isolate, v8::Local&lt; v8::Context &gt; context, v8::Local&lt; v8::Function &gt; callback)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03151">d8.cc:3151</a></div></div>
<div class="ttc" id="aclassv8_1_1SetTimeoutTask_html_a76a2615327788ff4f37f1bd691b27bda"><div class="ttname"><a href="classv8_1_1SetTimeoutTask.html#a76a2615327788ff4f37f1bd691b27bda">v8::SetTimeoutTask::context_</a></div><div class="ttdeci">v8::Global&lt; v8::Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03169">d8.cc:3169</a></div></div>
<div class="ttc" id="aclassv8_1_1SetTimeoutTask_html_a937cfe26bd9f1f5f80cf8b105a06ad29"><div class="ttname"><a href="classv8_1_1SetTimeoutTask.html#a937cfe26bd9f1f5f80cf8b105a06ad29">v8::SetTimeoutTask::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03157">d8.cc:3157</a></div></div>
<div class="ttc" id="aclassv8_1_1Set_html"><div class="ttname"><a href="classv8_1_1Set.html">v8::Set</a></div><div class="ttdoc">An instance of the built-in Set constructor (ECMA-262, 6th Edition, 23.2.1).</div><div class="ttdef"><b>Definition:</b> <a href="v8-container_8h_source.html#l00148">v8-container.h:148</a></div></div>
<div class="ttc" id="aclassv8_1_1SharedArrayBuffer_html_acf8b56257e1e58ba331337991f18079c"><div class="ttname"><a href="classv8_1_1SharedArrayBuffer.html#acf8b56257e1e58ba331337991f18079c">v8::SharedArrayBuffer::New</a></div><div class="ttdeci">static Local&lt; SharedArrayBuffer &gt; New(Isolate *isolate, size_t byte_length, BackingStoreInitializationMode initialization_mode=BackingStoreInitializationMode::kZeroInitialized)</div><div class="ttdoc">Create a new SharedArrayBuffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09359">api.cc:9359</a></div></div>
<div class="ttc" id="aclassv8_1_1SharedValueConveyor_html"><div class="ttname"><a href="classv8_1_1SharedValueConveyor.html">v8::SharedValueConveyor</a></div><div class="ttdoc">A move-only class for managing the lifetime of shared value conveyors used by V8 to keep JS shared va...</div><div class="ttdef"><b>Definition:</b> <a href="v8-value-serializer_8h_source.html#l00045">v8-value-serializer.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html"><div class="ttname"><a href="classv8_1_1ShellOptions.html">v8::ShellOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00390">d8.h:390</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_a2f5364e95158a4e37b3c67c1900c019b"><div class="ttname"><a href="classv8_1_1ShellOptions.html#a2f5364e95158a4e37b3c67c1900c019b">v8::ShellOptions::code_cache_options</a></div><div class="ttdeci">DisallowReassignment&lt; CodeCacheOptions, true &gt; code_cache_options</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00470">d8.h:470</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_a38ba14acf737feba62acfc9183bacd81ac05485773061a38ac923f95bb025e929"><div class="ttname"><a href="classv8_1_1ShellOptions.html#a38ba14acf737feba62acfc9183bacd81ac05485773061a38ac923f95bb025e929">v8::ShellOptions::kNoProduceCache</a></div><div class="ttdeci">@ kNoProduceCache</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00393">d8.h:393</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_a5f8f46a71fdd8ba601595e26dfbe7f01"><div class="ttname"><a href="classv8_1_1ShellOptions.html#a5f8f46a71fdd8ba601595e26dfbe7f01">v8::ShellOptions::streaming_compile</a></div><div class="ttdeci">DisallowReassignment&lt; bool &gt; streaming_compile</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00472">d8.h:472</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_a779cafb27e633156efc434121e5326ca"><div class="ttname"><a href="classv8_1_1ShellOptions.html#a779cafb27e633156efc434121e5326ca">v8::ShellOptions::compile_only</a></div><div class="ttdeci">DisallowReassignment&lt; bool &gt; compile_only</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00510">d8.h:510</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_a98e7b3cd676b68a3a40070eb9664545f"><div class="ttname"><a href="classv8_1_1ShellOptions.html#a98e7b3cd676b68a3a40070eb9664545f">v8::ShellOptions::repeat_compile</a></div><div class="ttdeci">DisallowReassignment&lt; int &gt; repeat_compile</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00511">d8.h:511</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_abaf0070334638e19b773f8aea1848b83"><div class="ttname"><a href="classv8_1_1ShellOptions.html#abaf0070334638e19b773f8aea1848b83">v8::ShellOptions::compile_options</a></div><div class="ttdeci">DisallowReassignment&lt; v8::ScriptCompiler::CompileOptions, true &gt; compile_options</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00469">d8.h:469</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_ad13dfdf79c59d626a5f6c641e7f953bd"><div class="ttname"><a href="classv8_1_1ShellOptions.html#ad13dfdf79c59d626a5f6c641e7f953bd">v8::ShellOptions::fuzzy_module_file_extensions</a></div><div class="ttdeci">DisallowReassignment&lt; bool &gt; fuzzy_module_file_extensions</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00502">d8.h:502</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_ad3fe67af94d41baa7e8cef79b74d3fa0"><div class="ttname"><a href="classv8_1_1ShellOptions.html#ad3fe67af94d41baa7e8cef79b74d3fa0">v8::ShellOptions::stress_runs</a></div><div class="ttdeci">DisallowReassignment&lt; int &gt; stress_runs</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00449">d8.h:449</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a01ac02626bd7a9186ce63b4969193a43"><div class="ttname"><a href="classv8_1_1Shell.html#a01ac02626bd7a9186ce63b4969193a43">v8::Shell::RealmCurrent</a></div><div class="ttdeci">static void RealmCurrent(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02332">d8.cc:2332</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a01c8c2af72b732665066b27f1bc47ea2"><div class="ttname"><a href="classv8_1_1Shell.html#a01c8c2af72b732665066b27f1bc47ea2">v8::Shell::InstallConditionalFeatures</a></div><div class="ttdeci">static void InstallConditionalFeatures(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02725">d8.cc:2725</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a04582ddfc3ced2a2385b6dceb1cb2cd3"><div class="ttname"><a href="classv8_1_1Shell.html#a04582ddfc3ced2a2385b6dceb1cb2cd3">v8::Shell::WriteChars</a></div><div class="ttdeci">static void WriteChars(const char *name, uint8_t *buffer, size_t buffer_size)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04936">d8.cc:4936</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a04b449749ef6e5d30ebdc4ef96a2d268"><div class="ttname"><a href="classv8_1_1Shell.html#a04b449749ef6e5d30ebdc4ef96a2d268">v8::Shell::WriteStdout</a></div><div class="ttdeci">static void WriteStdout(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02986">d8.cc:2986</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a057dfc36cac04373f5f6868b051be008"><div class="ttname"><a href="classv8_1_1Shell.html#a057dfc36cac04373f5f6868b051be008">v8::Shell::Main</a></div><div class="ttdeci">static int Main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06671">d8.cc:6671</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a080d20ce42351a91805f4351df005481"><div class="ttname"><a href="classv8_1_1Shell.html#a080d20ce42351a91805f4351df005481">v8::Shell::counters_</a></div><div class="ttdeci">static CounterCollection * counters_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00806">d8.h:806</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a08246b551b226ae924294d07485f4400"><div class="ttname"><a href="classv8_1_1Shell.html#a08246b551b226ae924294d07485f4400">v8::Shell::CodeType</a></div><div class="ttdeci">CodeType</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00532">d8.h:532</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a089e8d2813f8691cf5ea333259d74f9f"><div class="ttname"><a href="classv8_1_1Shell.html#a089e8d2813f8691cf5ea333259d74f9f">v8::Shell::WorkerTerminateAndWait</a></div><div class="ttdeci">static void WorkerTerminateAndWait(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03617">d8.cc:3617</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a08aa8d4683f0626bdbce8e96d382c03e"><div class="ttname"><a href="classv8_1_1Shell.html#a08aa8d4683f0626bdbce8e96d382c03e">v8::Shell::HostImportModuleDynamically</a></div><div class="ttdeci">static MaybeLocal&lt; Promise &gt; HostImportModuleDynamically(Local&lt; Context &gt; context, Local&lt; Data &gt; host_defined_options, Local&lt; Value &gt; resource_name, Local&lt; String &gt; specifier, Local&lt; FixedArray &gt; import_attributes)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01529">d8.cc:1529</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a098daee69d3912d35b8ff76ccd0d11e1"><div class="ttname"><a href="classv8_1_1Shell.html#a098daee69d3912d35b8ff76ccd0d11e1">v8::Shell::CreateEvaluationContext</a></div><div class="ttdeci">static MaybeLocal&lt; Context &gt; CreateEvaluationContext(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04362">d8.cc:4362</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a0a1b3ff04a7253ba159519945ee7e2e8"><div class="ttname"><a href="classv8_1_1Shell.html#a0a1b3ff04a7253ba159519945ee7e2e8">v8::Shell::AddHistogramSample</a></div><div class="ttdeci">static void AddHistogramSample(void *histogram, int sample)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03864">d8.cc:3864</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a0b1b0c3fa7af5bb1cf2b337bc71642d5"><div class="ttname"><a href="classv8_1_1Shell.html#a0b1b0c3fa7af5bb1cf2b337bc71642d5">v8::Shell::counters_file_</a></div><div class="ttdeci">static base::OS::MemoryMappedFile * counters_file_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00807">d8.h:807</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a108f17f2c5a46910e3340f10fedec2d3"><div class="ttname"><a href="classv8_1_1Shell.html#a108f17f2c5a46910e3340f10fedec2d3">v8::Shell::update_script_size</a></div><div class="ttdeci">static void update_script_size(int size)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00773">d8.h:773</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a121bab207ba5505c2676cba05b4976fb"><div class="ttname"><a href="classv8_1_1Shell.html#a121bab207ba5505c2676cba05b4976fb">v8::Shell::profiler_end_callback_</a></div><div class="ttdeci">static std::map&lt; Isolate *, std::pair&lt; Global&lt; Function &gt;, Global&lt; Context &gt; &gt; &gt; profiler_end_callback_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00798">d8.h:798</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a13bec82e51ed3f6a324fd580cd0942e5"><div class="ttname"><a href="classv8_1_1Shell.html#a13bec82e51ed3f6a324fd580cd0942e5">v8::Shell::RealmGlobal</a></div><div class="ttdeci">static void RealmGlobal(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02369">d8.cc:2369</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a142c77e5c532f48cb96acb8b5ca67a81"><div class="ttname"><a href="classv8_1_1Shell.html#a142c77e5c532f48cb96acb8b5ca67a81">v8::Shell::CreatePerformanceTemplate</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; CreatePerformanceTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04069">d8.cc:4069</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a175ddb50519cf86fa2f445ced8e4cdbb"><div class="ttname"><a href="classv8_1_1Shell.html#a175ddb50519cf86fa2f445ced8e4cdbb">v8::Shell::RealmCreate</a></div><div class="ttdeci">static void RealmCreate(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02441">d8.cc:2441</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a179ef355456c8f085c784f9fbe47dd23"><div class="ttname"><a href="classv8_1_1Shell.html#a179ef355456c8f085c784f9fbe47dd23">v8::Shell::PerformanceMark</a></div><div class="ttdeci">static void PerformanceMark(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02173">d8.cc:2173</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a1959e01e859955de7ff2953b266cf987"><div class="ttname"><a href="classv8_1_1Shell.html#a1959e01e859955de7ff2953b266cf987">v8::Shell::stringify_function_</a></div><div class="ttdeci">static Global&lt; Function &gt; stringify_function_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00794">d8.h:794</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a1ed5bedafcf9d402413a75855f744876"><div class="ttname"><a href="classv8_1_1Shell.html#a1ed5bedafcf9d402413a75855f744876">v8::Shell::ScheduleTermination</a></div><div class="ttdeci">static void ScheduleTermination(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03692">d8.cc:3692</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a1f76c0129b87a9da7d54e060827c025e"><div class="ttname"><a href="classv8_1_1Shell.html#a1f76c0129b87a9da7d54e060827c025e">v8::Shell::ExecuteModule</a></div><div class="ttdeci">static bool ExecuteModule(Isolate *isolate, const char *file_name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01797">d8.cc:1797</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a20b1db32a6a2bad951d16c1f9b5df750"><div class="ttname"><a href="classv8_1_1Shell.html#a20b1db32a6a2bad951d16c1f9b5df750">v8::Shell::ReadFileData</a></div><div class="ttdeci">static std::unique_ptr&lt; base::OS::MemoryMappedFile &gt; ReadFileData(Isolate *isolate, const char *name, bool should_throw=true)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04900">d8.cc:4900</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a2245212e9b2c806ff76f10c4b84f2427"><div class="ttname"><a href="classv8_1_1Shell.html#a2245212e9b2c806ff76f10c4b84f2427">v8::Shell::cached_code_map_</a></div><div class="ttdeci">static std::map&lt; std::string, std::unique_ptr&lt; ScriptCompiler::CachedData &gt; &gt; cached_code_map_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00878">d8.h:878</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a238a726c9f08e869bab11bfad34c49bf"><div class="ttname"><a href="classv8_1_1Shell.html#a238a726c9f08e869bab11bfad34c49bf">v8::Shell::CreateLeafInterfaceTypeTemplate</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; CreateLeafInterfaceTypeTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8-test_8cc_source.html#l02008">d8-test.cc:2008</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a23e9db916ab7fb980709bee587d431bb"><div class="ttname"><a href="classv8_1_1Shell.html#a23e9db916ab7fb980709bee587d431bb">v8::Shell::DeserializeValue</a></div><div class="ttdeci">static MaybeLocal&lt; Value &gt; DeserializeValue(Isolate *isolate, std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06603">d8.cc:6603</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a26309591def4c11d29fefe669658437c"><div class="ttname"><a href="classv8_1_1Shell.html#a26309591def4c11d29fefe669658437c">v8::Shell::CreateEventTargetTemplate</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; CreateEventTargetTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03915">d8.cc:3915</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a2837ddec8ddfabc9a5f19dc6b14d59bb"><div class="ttname"><a href="classv8_1_1Shell.html#a2837ddec8ddfabc9a5f19dc6b14d59bb">v8::Shell::PerformanceMeasure</a></div><div class="ttdeci">static void PerformanceMeasure(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02218">d8.cc:2218</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a28904100c6e68c0787a544080077773e"><div class="ttname"><a href="classv8_1_1Shell.html#a28904100c6e68c0787a544080077773e">v8::Shell::CreateD8Template</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; CreateD8Template(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04112">d8.cc:4112</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a292c8030f246fce8511436db1843976f"><div class="ttname"><a href="classv8_1_1Shell.html#a292c8030f246fce8511436db1843976f">v8::Shell::WorkerOnMessageGetter</a></div><div class="ttdeci">static void WorkerOnMessageGetter(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03564">d8.cc:3564</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a29a875b58e4a004c0e83dcca3e7bc245"><div class="ttname"><a href="classv8_1_1Shell.html#a29a875b58e4a004c0e83dcca3e7bc245">v8::Shell::ProfilerTriggerSample</a></div><div class="ttdeci">static void ProfilerTriggerSample(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02911">d8.cc:2911</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a2a362a4b5599726c65e86fc6ff6abb4f"><div class="ttname"><a href="classv8_1_1Shell.html#a2a362a4b5599726c65e86fc6ff6abb4f">v8::Shell::cached_code_mutex_</a></div><div class="ttdeci">static base::LazyMutex cached_code_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00876">d8.h:876</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a2b07623263305f9cf9890f7f701b34de"><div class="ttname"><a href="classv8_1_1Shell.html#a2b07623263305f9cf9890f7f701b34de">v8::Shell::ReadChars</a></div><div class="ttdeci">static char * ReadChars(const char *name, int *size_out)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04813">d8.cc:4813</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a2cea920708ce15cbc751f96042b9329f"><div class="ttname"><a href="classv8_1_1Shell.html#a2cea920708ce15cbc751f96042b9329f">v8::Shell::ReadCodeTypeAndArguments</a></div><div class="ttdeci">static void ReadCodeTypeAndArguments(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int index, CodeType *code_type, Local&lt; Value &gt; *arguments=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03204">d8.cc:3204</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a30929e3d1b0c4d6c21937a4e31ac1d9a"><div class="ttname"><a href="classv8_1_1Shell.html#a30929e3d1b0c4d6c21937a4e31ac1d9a">v8::Shell::CreateWasmMemoryMapDescriptor</a></div><div class="ttdeci">static void CreateWasmMemoryMapDescriptor(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a30b420d4c4688d9077163ff197cca8ab"><div class="ttname"><a href="classv8_1_1Shell.html#a30b420d4c4688d9077163ff197cca8ab">v8::Shell::WriteLcovData</a></div><div class="ttdeci">static void WriteLcovData(v8::Isolate *isolate, const char *file)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04570">d8.cc:4570</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a391a143e582f5c79a6d4151e28a8a9fd"><div class="ttname"><a href="classv8_1_1Shell.html#a391a143e582f5c79a6d4151e28a8a9fd">v8::Shell::RealmDetachGlobal</a></div><div class="ttdeci">static void RealmDetachGlobal(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02490">d8.cc:2490</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a395d1043252bbebc47fe2135c175d013"><div class="ttname"><a href="classv8_1_1Shell.html#a395d1043252bbebc47fe2135c175d013">v8::Shell::AsyncHooksExecutionAsyncId</a></div><div class="ttdeci">static void AsyncHooksExecutionAsyncId(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02769">d8.cc:2769</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a39af9b480d536fb69938ff9152e358b4"><div class="ttname"><a href="classv8_1_1Shell.html#a39af9b480d536fb69938ff9152e358b4">v8::Shell::running_workers_</a></div><div class="ttdeci">static std::unordered_set&lt; std::shared_ptr&lt; Worker &gt; &gt; running_workers_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00813">d8.h:813</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a39e34a8feef2558237905d508a7c28cf"><div class="ttname"><a href="classv8_1_1Shell.html#a39e34a8feef2558237905d508a7c28cf">v8::Shell::RunMainIsolate</a></div><div class="ttdeci">static bool RunMainIsolate(Isolate *isolate, bool keep_context_alive)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06181">d8.cc:6181</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a3a8748666c6e4a15af5154cd990a53d5"><div class="ttname"><a href="classv8_1_1Shell.html#a3a8748666c6e4a15af5154cd990a53d5">v8::Shell::ResetOnProfileEndListener</a></div><div class="ttdeci">static void ResetOnProfileEndListener(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02894">d8.cc:2894</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a3d4bdbb3c132d23a9faeff96c9b6b687"><div class="ttname"><a href="classv8_1_1Shell.html#a3d4bdbb3c132d23a9faeff96c9b6b687">v8::Shell::SetFlushDenormals</a></div><div class="ttdeci">static void SetFlushDenormals(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02737">d8.cc:2737</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a40aa54738308b38b7c69cf9a88bd229f"><div class="ttname"><a href="classv8_1_1Shell.html#a40aa54738308b38b7c69cf9a88bd229f">v8::Shell::CreateRealmTemplate</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; CreateRealmTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04083">d8.cc:4083</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a41e0618aad9f0eba818cb2c6923a6bf4"><div class="ttname"><a href="classv8_1_1Shell.html#a41e0618aad9f0eba818cb2c6923a6bf4">v8::Shell::quit_once_</a></div><div class="ttdeci">static base::OnceType quit_once_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00793">d8.h:793</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a44a62fda0fd26f27b32987c851624c68"><div class="ttname"><a href="classv8_1_1Shell.html#a44a62fda0fd26f27b32987c851624c68">v8::Shell::WorkerPostMessage</a></div><div class="ttdeci">static void WorkerPostMessage(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03410">d8.cc:3410</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a49ceef326ec8ab01aebf7de8f99f5c77"><div class="ttname"><a href="classv8_1_1Shell.html#a49ceef326ec8ab01aebf7de8f99f5c77">v8::Shell::PerformanceMeasureMemory</a></div><div class="ttdeci">static void PerformanceMeasureMemory(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02304">d8.cc:2304</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a4aad012052842abfddadab204f611447"><div class="ttname"><a href="classv8_1_1Shell.html#a4aad012052842abfddadab204f611447">v8::Shell::RealmSharedGet</a></div><div class="ttdeci">static void RealmSharedGet(Local&lt; Name &gt; property, const PropertyCallbackInfo&lt; Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02573">d8.cc:2573</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a513eab74826f1c75c8094269b963704a"><div class="ttname"><a href="classv8_1_1Shell.html#a513eab74826f1c75c8094269b963704a">v8::Shell::EnableDebugger</a></div><div class="ttdeci">static void EnableDebugger(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02789">d8.cc:2789</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a53cbb08881b960fcb19d82035e415900"><div class="ttname"><a href="classv8_1_1Shell.html#a53cbb08881b960fcb19d82035e415900">v8::Shell::WaitForRunningWorkers</a></div><div class="ttdeci">static void WaitForRunningWorkers(const i::ParkedScope &amp;parked)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06621">d8.cc:6621</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a592f6c6159bc044819b8444a502a325d"><div class="ttname"><a href="classv8_1_1Shell.html#a592f6c6159bc044819b8444a502a325d">v8::Shell::WasmLoadSourceMapCallback</a></div><div class="ttdeci">static Local&lt; String &gt; WasmLoadSourceMapCallback(Isolate *isolate, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04357">d8.cc:4357</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a59e39d63603b1766c86614c7a9db0545"><div class="ttname"><a href="classv8_1_1Shell.html#a59e39d63603b1766c86614c7a9db0545">v8::Shell::CreateHistogram</a></div><div class="ttdeci">static void * CreateHistogram(const char *name, int min, int max, size_t buckets)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03859">d8.cc:3859</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a5a3d82ae4c6ec24feabf1baf8137d9bb"><div class="ttname"><a href="classv8_1_1Shell.html#a5a3d82ae4c6ec24feabf1baf8137d9bb">v8::Shell::NodeTypeCallback</a></div><div class="ttdeci">static void NodeTypeCallback(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03891">d8.cc:3891</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a5a5d3600d2f91fd519c5fbed8671fc04"><div class="ttname"><a href="classv8_1_1Shell.html#a5a5d3600d2f91fd519c5fbed8671fc04">v8::Shell::WorkerTerminate</a></div><div class="ttdeci">static void WorkerTerminate(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03607">d8.cc:3607</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a5dec9773b7fd5afe85a9b3af0b83eca9"><div class="ttname"><a href="classv8_1_1Shell.html#a5dec9773b7fd5afe85a9b3af0b83eca9">v8::Shell::SerializerSerialize</a></div><div class="ttdeci">static void SerializerSerialize(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02828">d8.cc:2828</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a60bd32273b4d883c85bf9cf81337dc80"><div class="ttname"><a href="classv8_1_1Shell.html#a60bd32273b4d883c85bf9cf81337dc80">v8::Shell::ExecuteString</a></div><div class="ttdeci">static bool ExecuteString(Isolate *isolate, Local&lt; String &gt; source, Local&lt; String &gt; name, ReportExceptions report_exceptions, Global&lt; Value &gt; *out_result=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00936">d8.cc:936</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a60cd6e696b885bd5faec1fc07a2850f5"><div class="ttname"><a href="classv8_1_1Shell.html#a60cd6e696b885bd5faec1fc07a2850f5">v8::Shell::RunMain</a></div><div class="ttdeci">static int RunMain(Isolate *isolate, bool last_run)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06108">d8.cc:6108</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a62c2c22cd762686f1b7382edc7eaa39d"><div class="ttname"><a href="classv8_1_1Shell.html#a62c2c22cd762686f1b7382edc7eaa39d">v8::Shell::ReadLines</a></div><div class="ttdeci">static MaybeLocal&lt; PrimitiveArray &gt; ReadLines(Isolate *isolate, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04840">d8.cc:4840</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a661a5379481a860a7a14365de63180dd"><div class="ttname"><a href="classv8_1_1Shell.html#a661a5379481a860a7a14365de63180dd">v8::Shell::RealmSharedSet</a></div><div class="ttdeci">static void RealmSharedSet(Local&lt; Name &gt; property, Local&lt; Value &gt; value, const PropertyCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02582">d8.cc:2582</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a6876b6707fc164bf081682da76d5236d"><div class="ttname"><a href="classv8_1_1Shell.html#a6876b6707fc164bf081682da76d5236d">v8::Shell::AsyncHooksTriggerAsyncId</a></div><div class="ttdeci">static void AsyncHooksTriggerAsyncId(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02778">d8.cc:2778</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a7308cf8bd5256bcfe03c1d4eb688f6d9"><div class="ttname"><a href="classv8_1_1Shell.html#a7308cf8bd5256bcfe03c1d4eb688f6d9">v8::Shell::ReadBuffer</a></div><div class="ttdeci">static void ReadBuffer(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04870">d8.cc:4870</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a77d7b375b0a689340018c8acbd7a8780"><div class="ttname"><a href="classv8_1_1Shell.html#a77d7b375b0a689340018c8acbd7a8780">v8::Shell::RealmSwitch</a></div><div class="ttdeci">static void RealmSwitch(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02523">d8.cc:2523</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a78b0a922bcc329b887225e955011178c"><div class="ttname"><a href="classv8_1_1Shell.html#a78b0a922bcc329b887225e955011178c">v8::Shell::HostInitializeImportMetaObject</a></div><div class="ttdeci">static void HostInitializeImportMetaObject(Local&lt; Context &gt; context, Local&lt; Module &gt; module, Local&lt; Object &gt; meta)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01566">d8.cc:1566</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a7d9f3353a469854431d81b7dda4fe436"><div class="ttname"><a href="classv8_1_1Shell.html#a7d9f3353a469854431d81b7dda4fe436">v8::Shell::ModuleResolutionSuccessCallback</a></div><div class="ttdeci">static void ModuleResolutionSuccessCallback(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01484">d8.cc:1484</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a80fb8a286ab4cf65768e4d95b022db6e"><div class="ttname"><a href="classv8_1_1Shell.html#a80fb8a286ab4cf65768e4d95b022db6e">v8::Shell::DumpCounters</a></div><div class="ttdeci">static void DumpCounters()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04691">d8.cc:4691</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a81de5b4ca09dc165b94db0ee54ec7da7"><div class="ttname"><a href="classv8_1_1Shell.html#a81de5b4ca09dc165b94db0ee54ec7da7">v8::Shell::allow_new_workers_</a></div><div class="ttdeci">static bool allow_new_workers_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00812">d8.h:812</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8489526f05ecc8ef98f89674febcf915"><div class="ttname"><a href="classv8_1_1Shell.html#a8489526f05ecc8ef98f89674febcf915">v8::Shell::DeserializationRunCount</a></div><div class="ttdeci">static int DeserializationRunCount()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00788">d8.h:788</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a86df8f9d2c160471580129708c5449a0"><div class="ttname"><a href="classv8_1_1Shell.html#a86df8f9d2c160471580129708c5449a0">v8::Shell::Quit</a></div><div class="ttdeci">static void Quit(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03701">d8.cc:3701</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8a0beb2fe6e5e311da574a436d7d506c"><div class="ttname"><a href="classv8_1_1Shell.html#a8a0beb2fe6e5e311da574a436d7d506c">v8::Shell::AsyncHooksCreateHook</a></div><div class="ttdeci">static void AsyncHooksCreateHook(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02760">d8.cc:2760</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8a6e11de72c88210672d0769a2772f65"><div class="ttname"><a href="classv8_1_1Shell.html#a8a6e11de72c88210672d0769a2772f65">v8::Shell::WriteFile</a></div><div class="ttdeci">static void WriteFile(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02999">d8.cc:2999</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8c06d07d9dcea2d50a75d2cbfd347968"><div class="ttname"><a href="classv8_1_1Shell.html#a8c06d07d9dcea2d50a75d2cbfd347968">v8::Shell::HostCreateShadowRealmContext</a></div><div class="ttdeci">static MaybeLocal&lt; Context &gt; HostCreateShadowRealmContext(Local&lt; Context &gt; initiator_context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01583">d8.cc:1583</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8ce96d071721913ed8b19103f198a4e9"><div class="ttname"><a href="classv8_1_1Shell.html#a8ce96d071721913ed8b19103f198a4e9">v8::Shell::Version</a></div><div class="ttdeci">static void Version(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03707">d8.cc:3707</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8efa3d2d7962acc3d7a1301456aa836b"><div class="ttname"><a href="classv8_1_1Shell.html#a8efa3d2d7962acc3d7a1301456aa836b">v8::Shell::RunShell</a></div><div class="ttdeci">static void RunShell(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04943">d8.cc:4943</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a8f0584e863e58abf79d19e963bbd5e58"><div class="ttname"><a href="classv8_1_1Shell.html#a8f0584e863e58abf79d19e963bbd5e58">v8::Shell::TestVerifySourcePositions</a></div><div class="ttdeci">static void TestVerifySourcePositions(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02629">d8.cc:2629</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a93a6927ea5799467bd80638a4d2d3cc5"><div class="ttname"><a href="classv8_1_1Shell.html#a93a6927ea5799467bd80638a4d2d3cc5">v8::Shell::workers_mutex_</a></div><div class="ttdeci">static base::LazyMutex workers_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00811">d8.h:811</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a93aa8cd8a02c26313ddc8a7848e7cc13"><div class="ttname"><a href="classv8_1_1Shell.html#a93aa8cd8a02c26313ddc8a7848e7cc13">v8::Shell::SetPromiseHooks</a></div><div class="ttdeci">static void SetPromiseHooks(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02797">d8.cc:2797</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9454835b474fa94dc33277188732e58e"><div class="ttname"><a href="classv8_1_1Shell.html#a9454835b474fa94dc33277188732e58e">v8::Shell::FetchModuleSource</a></div><div class="ttdeci">static MaybeLocal&lt; Object &gt; FetchModuleSource(v8::Local&lt; v8::Module &gt; origin_module, v8::Local&lt; v8::Context &gt; context, const std::string &amp;file_name, ModuleType module_type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01217">d8.cc:1217</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a949002e789fd1891789faf65891908f9"><div class="ttname"><a href="classv8_1_1Shell.html#a949002e789fd1891789faf65891908f9">v8::Shell::valid_fuzz_script_</a></div><div class="ttdeci">static std::atomic&lt; bool &gt; valid_fuzz_script_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00817">d8.h:817</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a95cf71016e62f8324f84666d7196c6f9"><div class="ttname"><a href="classv8_1_1Shell.html#a95cf71016e62f8324f84666d7196c6f9">v8::Shell::counter_mutex_</a></div><div class="ttdeci">static base::Mutex counter_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00802">d8.h:802</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9629a1cf547716b1b801b7f94931bc7e"><div class="ttname"><a href="classv8_1_1Shell.html#a9629a1cf547716b1b801b7f94931bc7e">v8::Shell::CreateOSTemplate</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; CreateOSTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04008">d8.cc:4008</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a99d31ba14620aa85df20e39e9df45597"><div class="ttname"><a href="classv8_1_1Shell.html#a99d31ba14620aa85df20e39e9df45597">v8::Shell::kInitialTicks</a></div><div class="ttdeci">static const base::TimeTicks kInitialTicks</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00809">d8.h:809</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9a27fc787b741806d3039c66a44cc9d5"><div class="ttname"><a href="classv8_1_1Shell.html#a9a27fc787b741806d3039c66a44cc9d5">v8::Shell::DoHostImportModuleDynamically</a></div><div class="ttdeci">static void DoHostImportModuleDynamically(void *data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01653">d8.cc:1653</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9a5636db4f56ddf15181aa2fb4dc2e0b"><div class="ttname"><a href="classv8_1_1Shell.html#a9a5636db4f56ddf15181aa2fb4dc2e0b">v8::Shell::profiler_end_callback_lock_</a></div><div class="ttdeci">static base::Mutex profiler_end_callback_lock_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00796">d8.h:796</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9a9a749cfd7970fd97ab86cc1423e6d1"><div class="ttname"><a href="classv8_1_1Shell.html#a9a9a749cfd7970fd97ab86cc1423e6d1">v8::Shell::GetCounter</a></div><div class="ttdeci">static Counter * GetCounter(const char *name, bool is_histogram)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03824">d8.cc:3824</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9af0acdf9d281cb0b4f988d149fba66d"><div class="ttname"><a href="classv8_1_1Shell.html#a9af0acdf9d281cb0b4f988d149fba66d">v8::Shell::TriggerOnProfileEndListener</a></div><div class="ttdeci">static void TriggerOnProfileEndListener(Isolate *isolate, std::string profile)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02922">d8.cc:2922</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9e3c5a63dc6d60a94fab0c2e661fb505"><div class="ttname"><a href="classv8_1_1Shell.html#a9e3c5a63dc6d60a94fab0c2e661fb505">v8::Shell::CreateNodeTemplates</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; CreateNodeTemplates(Isolate *isolate, Local&lt; FunctionTemplate &gt; event_target)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03921">d8.cc:3921</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aa03b7ea05816a2de3501865bb51034be"><div class="ttname"><a href="classv8_1_1Shell.html#aa03b7ea05816a2de3501865bb51034be">v8::Shell::FunctionAndArgumentsToString</a></div><div class="ttdeci">static bool FunctionAndArgumentsToString(Local&lt; Function &gt; function, Local&lt; Value &gt; arguments, Local&lt; String &gt; *source, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03242">d8.cc:3242</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aa43a600bd3ee7e8f40043f217f6ff25b"><div class="ttname"><a href="classv8_1_1Shell.html#aa43a600bd3ee7e8f40043f217f6ff25b">v8::Shell::OnExit</a></div><div class="ttdeci">static void OnExit(Isolate *isolate, bool dispose)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04638">d8.cc:4638</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aa573a1158e8806c655e9031ab56cdbb5"><div class="ttname"><a href="classv8_1_1Shell.html#aa573a1158e8806c655e9031ab56cdbb5">v8::Shell::RemoveRunningWorker</a></div><div class="ttdeci">static void RemoveRunningWorker(const std::shared_ptr&lt; Worker &gt; &amp;worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06615">d8.cc:6615</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aa722cb722ec69d5dcb591053ba705674"><div class="ttname"><a href="classv8_1_1Shell.html#aa722cb722ec69d5dcb591053ba705674">v8::Shell::SetOptions</a></div><div class="ttdeci">static bool SetOptions(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05836">d8.cc:5836</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aa8c7b7a814c6514fedfb07bd90b4cd74"><div class="ttname"><a href="classv8_1_1Shell.html#aa8c7b7a814c6514fedfb07bd90b4cd74">v8::Shell::RealmDispose</a></div><div class="ttdeci">static void RealmDispose(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02508">d8.cc:2508</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aaa41255bb07bf2218b8aa535ed29cee6"><div class="ttname"><a href="classv8_1_1Shell.html#aaa41255bb07bf2218b8aa535ed29cee6">v8::Shell::CreateRealm</a></div><div class="ttdeci">static MaybeLocal&lt; Context &gt; CreateRealm(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int index, v8::MaybeLocal&lt; Value &gt; global_object)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02391">d8.cc:2391</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aaa5ac756ea3f5e2cebf07a346ced2499"><div class="ttname"><a href="classv8_1_1Shell.html#aaa5ac756ea3f5e2cebf07a346ced2499">v8::Shell::CreateWorkerTemplate</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; CreateWorkerTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04021">d8.cc:4021</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aae05bc647bcf660c39019059a27a0c7b"><div class="ttname"><a href="classv8_1_1Shell.html#aae05bc647bcf660c39019059a27a0c7b">v8::Shell::ReadLine</a></div><div class="ttdeci">static void ReadLine(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04894">d8.cc:4894</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aafcd3728abcfe65c0cb0ea6f77ea85a7"><div class="ttname"><a href="classv8_1_1Shell.html#aafcd3728abcfe65c0cb0ea6f77ea85a7">v8::Shell::SerializerDeserialize</a></div><div class="ttdeci">static void SerializerDeserialize(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02851">d8.cc:2851</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab1b5ed0da283c14b6751207935a97135"><div class="ttname"><a href="classv8_1_1Shell.html#ab1b5ed0da283c14b6751207935a97135">v8::Shell::LoadJSON</a></div><div class="ttdeci">static bool LoadJSON(Isolate *isolate, const char *file_name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01897">d8.cc:1897</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab1e2fd5d866e652201f095acb63c34f9"><div class="ttname"><a href="classv8_1_1Shell.html#ab1e2fd5d866e652201f095acb63c34f9">v8::Shell::CreateAsyncHookTemplate</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; CreateAsyncHookTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04056">d8.cc:4056</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab287ce838bfa1502b11e146a31b328d4"><div class="ttname"><a href="classv8_1_1Shell.html#ab287ce838bfa1502b11e146a31b328d4">v8::Shell::WorkerOnMessageSetter</a></div><div class="ttdeci">static void WorkerOnMessageSetter(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03583">d8.cc:3583</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab3c2e43e32a1543b0a78f728bb3df63a"><div class="ttname"><a href="classv8_1_1Shell.html#ab3c2e43e32a1543b0a78f728bb3df63a">v8::Shell::LookupCounter</a></div><div class="ttdeci">static int * LookupCounter(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03854">d8.cc:3854</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab5b0caaa7bcc8e512e2eeea713909fd7"><div class="ttname"><a href="classv8_1_1Shell.html#ab5b0caaa7bcc8e512e2eeea713909fd7">v8::Shell::PerformanceNow</a></div><div class="ttdeci">static void PerformanceNow(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02166">d8.cc:2166</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab794cb00a2d9052ce267324b0d4bdf3c"><div class="ttname"><a href="classv8_1_1Shell.html#ab794cb00a2d9052ce267324b0d4bdf3c">v8::Shell::ReadFile</a></div><div class="ttdeci">static MaybeLocal&lt; String &gt; ReadFile(Isolate *isolate, const char *name, bool should_throw=true)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04920">d8.cc:4920</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab794dde4bb278559dce864d81d4e0e69"><div class="ttname"><a href="classv8_1_1Shell.html#ab794dde4bb278559dce864d81d4e0e69">v8::Shell::local_counters_</a></div><div class="ttdeci">static CounterCollection local_counters_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00805">d8.h:805</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab95d667830e69a0b8c4d165d40d38478"><div class="ttname"><a href="classv8_1_1Shell.html#ab95d667830e69a0b8c4d165d40d38478">v8::Shell::WriteIgnitionDispatchCountersFile</a></div><div class="ttdeci">static void WriteIgnitionDispatchCountersFile(v8::Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04407">d8.cc:4407</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ab9f883a0bbde53aaac3f404f0edfee8b"><div class="ttname"><a href="classv8_1_1Shell.html#ab9f883a0bbde53aaac3f404f0edfee8b">v8::Shell::counter_map_</a></div><div class="ttdeci">static CounterMap * counter_map_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00801">d8.h:801</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aba2ae3d011aef1c7f6a146d617a70b8e"><div class="ttname"><a href="classv8_1_1Shell.html#aba2ae3d011aef1c7f6a146d617a70b8e">v8::Shell::LogGetAndStop</a></div><div class="ttdeci">static void LogGetAndStop(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02590">d8.cc:2590</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_abad0d7abe069422f4a40dd201b4b4283"><div class="ttname"><a href="classv8_1_1Shell.html#abad0d7abe069422f4a40dd201b4b4283">v8::Shell::GetTracingTimestampFromPerformanceTimestamp</a></div><div class="ttdeci">static uint64_t GetTracingTimestampFromPerformanceTimestamp(double performance_timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02131">d8.cc:2131</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_abcaa88b75e84e38f76419e6f698a89ae"><div class="ttname"><a href="classv8_1_1Shell.html#abcaa88b75e84e38f76419e6f698a89ae">v8::Shell::PromiseRejectCallback</a></div><div class="ttdeci">static void PromiseRejectCallback(v8::PromiseRejectMessage reject_message)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04289">d8.cc:4289</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_abd158f745f991e2b10c9fb0398c3d667"><div class="ttname"><a href="classv8_1_1Shell.html#abd158f745f991e2b10c9fb0398c3d667">v8::Shell::HandleUnhandledPromiseRejections</a></div><div class="ttdeci">static bool HandleUnhandledPromiseRejections(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06323">d8.cc:6323</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_abdc9c10bd825ae69f00105b8ee3a2206"><div class="ttname"><a href="classv8_1_1Shell.html#abdc9c10bd825ae69f00105b8ee3a2206">v8::Shell::QuitOnce</a></div><div class="ttdeci">static void QuitOnce(v8::FunctionCallbackInfo&lt; v8::Value &gt; *info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03635">d8.cc:3635</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_abeb224f7162030be17c9b4e5441af497"><div class="ttname"><a href="classv8_1_1Shell.html#abeb224f7162030be17c9b4e5441af497">v8::Shell::GetTimestamp</a></div><div class="ttdeci">static double GetTimestamp()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02123">d8.cc:2123</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac111a7294146bb0c93e7a51a58cbc5be"><div class="ttname"><a href="classv8_1_1Shell.html#ac111a7294146bb0c93e7a51a58cbc5be">v8::Shell::HasOnProfileEndListener</a></div><div class="ttdeci">static bool HasOnProfileEndListener(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02889">d8.cc:2889</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac14c26f879d3fb33e437bca7038ccb3e"><div class="ttname"><a href="classv8_1_1Shell.html#ac14c26f879d3fb33e437bca7038ccb3e">v8::Shell::EnableJSPI</a></div><div class="ttdeci">static void EnableJSPI(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02731">d8.cc:2731</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac1c44a68b6da89b08c45931cbce46065"><div class="ttname"><a href="classv8_1_1Shell.html#ac1c44a68b6da89b08c45931cbce46065">v8::Shell::SetTimeout</a></div><div class="ttdeci">static void SetTimeout(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03173">d8.cc:3173</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac35ffcdb759c89431f9efaef22e8321d"><div class="ttname"><a href="classv8_1_1Shell.html#ac35ffcdb759c89431f9efaef22e8321d">v8::Shell::set_script_executed</a></div><div class="ttdeci">static void set_script_executed()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00767">d8.h:767</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac3a884f8e1d88e26b5f43f50baa416b1"><div class="ttname"><a href="classv8_1_1Shell.html#ac3a884f8e1d88e26b5f43f50baa416b1">v8::Shell::FetchModuleTree</a></div><div class="ttdeci">static MaybeLocal&lt; Module &gt; FetchModuleTree(v8::Local&lt; v8::Module &gt; origin_module, v8::Local&lt; v8::Context &gt; context, const std::string &amp;file_name, ModuleType module_type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01284">d8.cc:1284</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac566e95b4fc7a9c89378e28fb55c4a68"><div class="ttname"><a href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68">v8::Shell::ReportExceptions</a></div><div class="ttdeci">ReportExceptions</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00524">d8.h:524</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99"><div class="ttname"><a href="classv8_1_1Shell.html#ac566e95b4fc7a9c89378e28fb55c4a68a78609b2f8c109a4e530b8ef7cae26f99">v8::Shell::kReportExceptions</a></div><div class="ttdeci">@ kReportExceptions</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00525">d8.h:525</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac8922e849682dbbe30f7edf335975fa3"><div class="ttname"><a href="classv8_1_1Shell.html#ac8922e849682dbbe30f7edf335975fa3">v8::Shell::script_executed_</a></div><div class="ttdeci">static std::atomic&lt; bool &gt; script_executed_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00816">d8.h:816</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac9e618d37d20075ed1b70e704ecc6e64"><div class="ttname"><a href="classv8_1_1Shell.html#ac9e618d37d20075ed1b70e704ecc6e64">v8::Shell::evaluation_context_</a></div><div class="ttdeci">static Global&lt; Context &gt; evaluation_context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00792">d8.h:792</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_accceb686c72a043c5645a3d56246b01f"><div class="ttname"><a href="classv8_1_1Shell.html#accceb686c72a043c5645a3d56246b01f">v8::Shell::CompleteMessageLoop</a></div><div class="ttdeci">static bool CompleteMessageLoop(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06281">d8.cc:6281</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_acee16f3ab0828ed804bbd884a8ca984e"><div class="ttname"><a href="classv8_1_1Shell.html#acee16f3ab0828ed804bbd884a8ca984e">v8::Shell::Initialize</a></div><div class="ttdeci">static void Initialize(Isolate *isolate, D8Console *console, bool isOnMainThread=true)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04327">d8.cc:4327</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad1b686b80504d92570f2dd37a8a4e147"><div class="ttname"><a href="classv8_1_1Shell.html#ad1b686b80504d92570f2dd37a8a4e147">v8::Shell::ExecuteFile</a></div><div class="ttdeci">static void ExecuteFile(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03119">d8.cc:3119</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad311375692ab88b5c862374dad8563ec"><div class="ttname"><a href="classv8_1_1Shell.html#ad311375692ab88b5c862374dad8563ec">v8::Shell::Stringify</a></div><div class="ttdeci">static Local&lt; String &gt; Stringify(Isolate *isolate, Local&lt; Value &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03870">d8.cc:3870</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad460c6d00a2acaa3d51a7a076ddd98d0"><div class="ttname"><a href="classv8_1_1Shell.html#ad460c6d00a2acaa3d51a7a076ddd98d0">v8::Shell::SerializeValue</a></div><div class="ttdeci">static std::unique_ptr&lt; SerializationData &gt; SerializeValue(Isolate *isolate, Local&lt; Value &gt; value, Local&lt; Value &gt; transfer)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06591">d8.cc:6591</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad46dde06dc1dbf8c048b6ad7c55686c9"><div class="ttname"><a href="classv8_1_1Shell.html#ad46dde06dc1dbf8c048b6ad7c55686c9">v8::Shell::CollectGarbage</a></div><div class="ttdeci">static void CollectGarbage(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06219">d8.cc:6219</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad4c78f85bef07f7389ebc2d33c734546"><div class="ttname"><a href="classv8_1_1Shell.html#ad4c78f85bef07f7389ebc2d33c734546">v8::Shell::unhandled_promise_rejections_</a></div><div class="ttdeci">static std::atomic&lt; int &gt; unhandled_promise_rejections_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00879">d8.h:879</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad706b940496e9cccf4807a21424c7cc3"><div class="ttname"><a href="classv8_1_1Shell.html#ad706b940496e9cccf4807a21424c7cc3">v8::Shell::array_buffer_allocator</a></div><div class="ttdeci">static ArrayBuffer::Allocator * array_buffer_allocator</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00761">d8.h:761</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad732678fd6cda4b0afced800ec0f689c"><div class="ttname"><a href="classv8_1_1Shell.html#ad732678fd6cda4b0afced800ec0f689c">v8::Shell::TerminateNow</a></div><div class="ttdeci">static void TerminateNow(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03681">d8.cc:3681</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad80d84efc209e82796d9e60765491b8a"><div class="ttname"><a href="classv8_1_1Shell.html#ad80d84efc209e82796d9e60765491b8a">v8::Shell::RealmCreateAllowCrossRealmAccess</a></div><div class="ttdeci">static void RealmCreateAllowCrossRealmAccess(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02448">d8.cc:2448</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_adbab8878bb9cb0aa2bdbb992de15c4fd"><div class="ttname"><a href="classv8_1_1Shell.html#adbab8878bb9cb0aa2bdbb992de15c4fd">v8::Shell::CreateTestFastCApiTemplate</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; CreateTestFastCApiTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8-test_8cc_source.html#l01511">d8-test.cc:1511</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_adbef961cf04710a0d0446ee35da4ba64"><div class="ttname"><a href="classv8_1_1Shell.html#adbef961cf04710a0d0446ee35da4ba64">v8::Shell::StoreInCodeCache</a></div><div class="ttdeci">static void StoreInCodeCache(Isolate *isolate, Local&lt; Value &gt; name, const ScriptCompiler::CachedData *data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00581">d8.cc:581</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_add38c62d72b085740f85b27b194ea2e1"><div class="ttname"><a href="classv8_1_1Shell.html#add38c62d72b085740f85b27b194ea2e1">v8::Shell::RealmEval</a></div><div class="ttdeci">static void RealmEval(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02533">d8.cc:2533</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ade1f002ea3faf9234f00696e50ed64be"><div class="ttname"><a href="classv8_1_1Shell.html#ade1f002ea3faf9234f00696e50ed64be">v8::Shell::RealmOwner</a></div><div class="ttdeci">static void RealmOwner(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02342">d8.cc:2342</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ade6a3f7fd06593b40ca2123b9560e069"><div class="ttname"><a href="classv8_1_1Shell.html#ade6a3f7fd06593b40ca2123b9560e069">v8::Shell::ReadSource</a></div><div class="ttdeci">static MaybeLocal&lt; String &gt; ReadSource(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int index, CodeType default_type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03291">d8.cc:3291</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ade6d7e65e57381290044973a47cf962e"><div class="ttname"><a href="classv8_1_1Shell.html#ade6d7e65e57381290044973a47cf962e">v8::Shell::DisableDebugger</a></div><div class="ttdeci">static void DisableDebugger(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02793">d8.cc:2793</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_adfb10c672508b29c6abfae42a69d2984"><div class="ttname"><a href="classv8_1_1Shell.html#adfb10c672508b29c6abfae42a69d2984">v8::Shell::RealmNavigate</a></div><div class="ttdeci">static void RealmNavigate(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02460">d8.cc:2460</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae2e178438d914872bee54f788624bc6e"><div class="ttname"><a href="classv8_1_1Shell.html#ae2e178438d914872bee54f788624bc6e">v8::Shell::AddRunningWorker</a></div><div class="ttdeci">static void AddRunningWorker(std::shared_ptr&lt; Worker &gt; worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06610">d8.cc:6610</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae6b8301c8cccb4895f8dec845800a9c8"><div class="ttname"><a href="classv8_1_1Shell.html#ae6b8301c8cccb4895f8dec845800a9c8">v8::Shell::ProfilerSetOnProfileEndListener</a></div><div class="ttdeci">static void ProfilerSetOnProfileEndListener(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02874">d8.cc:2874</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae6e891b9483f7ea1f32931e51bfec1c2"><div class="ttname"><a href="classv8_1_1Shell.html#ae6e891b9483f7ea1f32931e51bfec1c2">v8::Shell::HostImportModuleWithPhaseDynamically</a></div><div class="ttdeci">static MaybeLocal&lt; Promise &gt; HostImportModuleWithPhaseDynamically(Local&lt; Context &gt; context, Local&lt; Data &gt; host_defined_options, Local&lt; Value &gt; resource_name, Local&lt; String &gt; specifier, ModuleImportPhase phase, Local&lt; FixedArray &gt; import_attributes)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01538">d8.cc:1538</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae7a857220b6f30c5aa255ca91e650c83"><div class="ttname"><a href="classv8_1_1Shell.html#ae7a857220b6f30c5aa255ca91e650c83">v8::Shell::context_mutex_</a></div><div class="ttdeci">static base::LazyMutex context_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00808">d8.h:808</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae940ff9cde3abf34c36a0bee4ed3f490"><div class="ttname"><a href="classv8_1_1Shell.html#ae940ff9cde3abf34c36a0bee4ed3f490">v8::Shell::CreateGlobalTemplate</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; CreateGlobalTemplate(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03957">d8.cc:3957</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae992223449a8a4f831ee50c1bafbbb2a"><div class="ttname"><a href="classv8_1_1Shell.html#ae992223449a8a4f831ee50c1bafbbb2a">v8::Shell::LookupCodeCache</a></div><div class="ttdeci">static ScriptCompiler::CachedData * LookupCodeCache(Isolate *isolate, Local&lt; Value &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00561">d8.cc:561</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ae9c7f2660361eda847ca2066270efe0c"><div class="ttname"><a href="classv8_1_1Shell.html#ae9c7f2660361eda847ca2066270efe0c">v8::Shell::DisposeRealm</a></div><div class="ttdeci">static void DisposeRealm(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int index)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02427">d8.cc:2427</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aeb3dc361989c67b8025804bb2ae086cf"><div class="ttname"><a href="classv8_1_1Shell.html#aeb3dc361989c67b8025804bb2ae086cf">v8::Shell::JSONModuleEvaluationSteps</a></div><div class="ttdeci">static MaybeLocal&lt; Value &gt; JSONModuleEvaluationSteps(Local&lt; Context &gt; context, Local&lt; Module &gt; module)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01425">d8.cc:1425</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aedbe06af26de0fe7e4618cac0ce45790"><div class="ttname"><a href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">v8::Shell::options</a></div><div class="ttdeci">static ShellOptions options</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00760">d8.h:760</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aeffcbe8ff936e18f7d6bb728baf9252e"><div class="ttname"><a href="classv8_1_1Shell.html#aeffcbe8ff936e18f7d6bb728baf9252e">v8::Shell::ModuleResolutionFailureCallback</a></div><div class="ttdeci">static void ModuleResolutionFailureCallback(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01508">d8.cc:1508</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af0bc6c9ba5af53b1fb4d1863643d3a43"><div class="ttname"><a href="classv8_1_1Shell.html#af0bc6c9ba5af53b1fb4d1863643d3a43">v8::Shell::ReportException</a></div><div class="ttdeci">static void ReportException(Isolate *isolate, Local&lt; Message &gt; message, Local&lt; Value &gt; exception)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03714">d8.cc:3714</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af124155f18f8b443b4491d7572b3c7c0"><div class="ttname"><a href="classv8_1_1Shell.html#af124155f18f8b443b4491d7572b3c7c0">v8::Shell::Print</a></div><div class="ttdeci">static void Print(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02978">d8.cc:2978</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af7d8d9ce55913f22c512c6d61e60ca53"><div class="ttname"><a href="classv8_1_1Shell.html#af7d8d9ce55913f22c512c6d61e60ca53">v8::Shell::PrintErr</a></div><div class="ttdeci">static void PrintErr(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02982">d8.cc:2982</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af8182ac67bc56ce92dc0825d897115df"><div class="ttname"><a href="classv8_1_1Shell.html#af8182ac67bc56ce92dc0825d897115df">v8::Shell::WorkerGetMessage</a></div><div class="ttdeci">static void WorkerGetMessage(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03436">d8.cc:3436</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af8dc3050b831dab01d9532612f517a9c"><div class="ttname"><a href="classv8_1_1Shell.html#af8dc3050b831dab01d9532612f517a9c">v8::Shell::MapCounters</a></div><div class="ttdeci">static void MapCounters(v8::Isolate *isolate, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03809">d8.cc:3809</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af8e2f54e646c0e31d1d9031306306084"><div class="ttname"><a href="classv8_1_1Shell.html#af8e2f54e646c0e31d1d9031306306084">v8::Shell::EmptyMessageQueues</a></div><div class="ttdeci">static bool EmptyMessageQueues(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06318">d8.cc:6318</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_af99e5294adc7bc2f9e4971f8baa6adbf"><div class="ttname"><a href="classv8_1_1Shell.html#af99e5294adc7bc2f9e4971f8baa6adbf">v8::Shell::GetExtrasBindingObject</a></div><div class="ttdeci">static void GetExtrasBindingObject(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03198">d8.cc:3198</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_afb82badf350d80fbf825cc5f5db85b17"><div class="ttname"><a href="classv8_1_1Shell.html#afb82badf350d80fbf825cc5f5db85b17">v8::Shell::WorkerNew</a></div><div class="ttdeci">static void WorkerNew(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03337">d8.cc:3337</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_afc4ac604ee375a1effbf9d8e55423db1"><div class="ttname"><a href="classv8_1_1Shell.html#afc4ac604ee375a1effbf9d8e55423db1">v8::Shell::ReadFromStdin</a></div><div class="ttdeci">static Local&lt; String &gt; ReadFromStdin(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03079">d8.cc:3079</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_afdd76cdac95763cd72176d522b938348"><div class="ttname"><a href="classv8_1_1Shell.html#afdd76cdac95763cd72176d522b938348">v8::Shell::FinishExecuting</a></div><div class="ttdeci">static bool FinishExecuting(Isolate *isolate, const Global&lt; Context &gt; &amp;context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06306">d8.cc:6306</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_afff70b57153af78611e8e5df84d58f30"><div class="ttname"><a href="classv8_1_1Shell.html#afff70b57153af78611e8e5df84d58f30">v8::Shell::CompileString</a></div><div class="ttdeci">static MaybeLocal&lt; T &gt; CompileString(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; String &gt; source, const ScriptOrigin &amp;origin)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00688">d8.cc:688</a></div></div>
<div class="ttc" id="aclassv8_1_1Signature_html_abdc9d0abab0e564ed667045e13beeb3e"><div class="ttname"><a href="classv8_1_1Signature.html#abdc9d0abab0e564ed667045e13beeb3e">v8::Signature::New</a></div><div class="ttdeci">static Local&lt; Signature &gt; New(Isolate *isolate, Local&lt; FunctionTemplate &gt; receiver=Local&lt; FunctionTemplate &gt;())</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01220">api.cc:1220</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_1_1IsolateThread_html"><div class="ttname"><a href="classv8_1_1SourceGroup_1_1IsolateThread.html">v8::SourceGroup::IsolateThread</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00115">d8.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_1_1IsolateThread_html_a0c3a0c21d6ca05b5ee9e40c259c87562"><div class="ttname"><a href="classv8_1_1SourceGroup_1_1IsolateThread.html#a0c3a0c21d6ca05b5ee9e40c259c87562">v8::SourceGroup::IsolateThread::IsolateThread</a></div><div class="ttdeci">IsolateThread(SourceGroup *group)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05268">d8.cc:5268</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html"><div class="ttname"><a href="classv8_1_1SourceGroup.html">v8::SourceGroup</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00088">d8.h:88</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_a02807c759be36fe8c0feb2e6f5f43ff4"><div class="ttname"><a href="classv8_1_1SourceGroup.html#a02807c759be36fe8c0feb2e6f5f43ff4">v8::SourceGroup::JoinThread</a></div><div class="ttdeci">void JoinThread(const i::ParkedScope &amp;parked)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05334">d8.cc:5334</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_a1a4522bd45001d3ee6d4b31547e78783"><div class="ttname"><a href="classv8_1_1SourceGroup.html#a1a4522bd45001d3ee6d4b31547e78783">v8::SourceGroup::Begin</a></div><div class="ttdeci">void Begin(char **argv, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00100">d8.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_a243924c1bb052d2e8d6a400e42675078"><div class="ttname"><a href="classv8_1_1SourceGroup.html#a243924c1bb052d2e8d6a400e42675078">v8::SourceGroup::thread_</a></div><div class="ttdeci">base::Thread * thread_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00129">d8.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_a6381d03bcd46b18c3099c3b56a86abae"><div class="ttname"><a href="classv8_1_1SourceGroup.html#a6381d03bcd46b18c3099c3b56a86abae">v8::SourceGroup::End</a></div><div class="ttdeci">void End(int offset)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00105">d8.h:105</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_a6d36e11263c8bc31a11fbbf0ff45e0c2"><div class="ttname"><a href="classv8_1_1SourceGroup.html#a6d36e11263c8bc31a11fbbf0ff45e0c2">v8::SourceGroup::next_semaphore_</a></div><div class="ttdeci">i::ParkingSemaphore next_semaphore_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00127">d8.h:127</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_a6e6a61155ca7c4553a363ce22e755eae"><div class="ttname"><a href="classv8_1_1SourceGroup.html#a6e6a61155ca7c4553a363ce22e755eae">v8::SourceGroup::StartExecuteInThread</a></div><div class="ttdeci">void StartExecuteInThread()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05321">d8.cc:5321</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_ab447d30ee21aac93cd5b7f3aae1f2a1a"><div class="ttname"><a href="classv8_1_1SourceGroup.html#ab447d30ee21aac93cd5b7f3aae1f2a1a">v8::SourceGroup::~SourceGroup</a></div><div class="ttdeci">~SourceGroup()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05155">d8.cc:5155</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_ace4ff2f9f504224fbb16a8a3dd261e79"><div class="ttname"><a href="classv8_1_1SourceGroup.html#ace4ff2f9f504224fbb16a8a3dd261e79">v8::SourceGroup::ExecuteInThread</a></div><div class="ttdeci">void ExecuteInThread()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05271">d8.cc:5271</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_ae8d1c2001edd27dcf703f477e3aa7119"><div class="ttname"><a href="classv8_1_1SourceGroup.html#ae8d1c2001edd27dcf703f477e3aa7119">v8::SourceGroup::done_semaphore_</a></div><div class="ttdeci">i::ParkingSemaphore done_semaphore_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00128">d8.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_aee5f2902d76fc9e208091a44268dd58e"><div class="ttname"><a href="classv8_1_1SourceGroup.html#aee5f2902d76fc9e208091a44268dd58e">v8::SourceGroup::Execute</a></div><div class="ttdeci">bool Execute(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05169">d8.cc:5169</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceGroup_html_af1661d01a656e627f54d1eed63f7260e"><div class="ttname"><a href="classv8_1_1SourceGroup.html#af1661d01a656e627f54d1eed63f7260e">v8::SourceGroup::WaitForThread</a></div><div class="ttdeci">void WaitForThread(const i::ParkedScope &amp;parked)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05329">d8.cc:5329</a></div></div>
<div class="ttc" id="aclassv8_1_1StreamerThread_html"><div class="ttname"><a href="classv8_1_1StreamerThread.html">v8::StreamerThread</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00625">d8.cc:625</a></div></div>
<div class="ttc" id="aclassv8_1_1StreamerThread_html_a4e36a6667f5a38f419fafb38fb0e55bc"><div class="ttname"><a href="classv8_1_1StreamerThread.html#a4e36a6667f5a38f419fafb38fb0e55bc">v8::StreamerThread::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00637">d8.cc:637</a></div></div>
<div class="ttc" id="aclassv8_1_1StreamerThread_html_abaf3ef7239af31271ffa7c379cbafd33"><div class="ttname"><a href="classv8_1_1StreamerThread.html#abaf3ef7239af31271ffa7c379cbafd33">v8::StreamerThread::StartThreadForTaskAndJoin</a></div><div class="ttdeci">static void StartThreadForTaskAndJoin(v8::ScriptCompiler::ScriptStreamingTask *task)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00627">d8.cc:627</a></div></div>
<div class="ttc" id="aclassv8_1_1StreamerThread_html_ae93e68c33f899fd016afcc154c02c999"><div class="ttname"><a href="classv8_1_1StreamerThread.html#ae93e68c33f899fd016afcc154c02c999">v8::StreamerThread::StreamerThread</a></div><div class="ttdeci">StreamerThread(v8::ScriptCompiler::ScriptStreamingTask *task)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00634">d8.cc:634</a></div></div>
<div class="ttc" id="aclassv8_1_1StreamerThread_html_afca269d5a5a93b996a5f4237f57fbbc2"><div class="ttname"><a href="classv8_1_1StreamerThread.html#afca269d5a5a93b996a5f4237f57fbbc2">v8::StreamerThread::task_</a></div><div class="ttdeci">v8::ScriptCompiler::ScriptStreamingTask * task_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00640">d8.cc:640</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalOneByteStringResource_html"><div class="ttname"><a href="classv8_1_1String_1_1ExternalOneByteStringResource.html">v8::String::ExternalOneByteStringResource</a></div><div class="ttdoc">An ExternalOneByteStringResource is a wrapper around an one-byte string buffer that resides outside V...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00444">v8-primitive.h:445</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1Utf8Value_html"><div class="ttname"><a href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a></div><div class="ttdoc">Converts an object to a null-terminated UTF-8-encoded character array.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00647">v8-primitive.h:647</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1Utf8Value_html_acfaec2ea68bce4b40cab2f77692e759b"><div class="ttname"><a href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">v8::String::Utf8Value::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00653">v8-primitive.h:653</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html"><div class="ttname"><a href="classv8_1_1String.html">v8::String</a></div><div class="ttdoc">A JavaScript string value (ECMA-262, 4.3.17).</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00124">v8-primitive.h:124</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a66259940a4836974906729017ff25fd2"><div class="ttname"><a href="classv8_1_1String.html#a66259940a4836974906729017ff25fd2">v8::String::kMaxLength</a></div><div class="ttdeci">static constexpr int kMaxLength</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00126">v8-primitive.h:126</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a6aca1685df0fc16b7e3c4ff957dd8205"><div class="ttname"><a href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; NewFromUtf8(Isolate *isolate, const char *data, NewStringType type=NewStringType::kNormal, int length=-1)</div><div class="ttdoc">Allocates a new string from UTF-8 data.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07567">api.cc:7567</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a7173d65b0e50225bf63d98d179b9821c"><div class="ttname"><a href="classv8_1_1String.html#a7173d65b0e50225bf63d98d179b9821c">v8::String::NewFromUtf8Literal</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Local&lt; String &gt; NewFromUtf8Literal(Isolate *isolate, const char(&amp;literal)[N], NewStringType type=NewStringType::kNormal)</div><div class="ttdoc">Allocates a new string from a UTF-8 literal.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00526">v8-primitive.h:526</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a7ca729608359a02c17631fcc8ae7b8d7"><div class="ttname"><a href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">v8::String::Concat</a></div><div class="ttdeci">static Local&lt; String &gt; Concat(Isolate *isolate, Local&lt; String &gt; left, Local&lt; String &gt; right)</div><div class="ttdoc">Creates a new string by concatenating the left and the right strings passed in as parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07587">api.cc:7587</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a7f104356e56751f0a0223e28786cd801"><div class="ttname"><a href="classv8_1_1String.html#a7f104356e56751f0a0223e28786cd801">v8::String::NewExternalOneByte</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; NewExternalOneByte(Isolate *isolate, ExternalOneByteStringResource *resource)</div><div class="ttdoc">Creates a new external string using the one-byte data defined in the given resource.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07631">api.cc:7631</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_aa393d47baa54467fe57001065e49194b"><div class="ttname"><a href="classv8_1_1String.html#aa393d47baa54467fe57001065e49194b">v8::String::Empty</a></div><div class="ttdeci">static Local&lt; String &gt; Empty(Isolate *isolate)</div><div class="ttdoc">A zero length string.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00980">v8-primitive.h:980</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_ae552920ea93de20683cad25f9e4a3c4f"><div class="ttname"><a href="classv8_1_1String.html#ae552920ea93de20683cad25f9e4a3c4f">v8::String::NewFromTwoByte</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; NewFromTwoByte(Isolate *isolate, const uint16_t *data, NewStringType type=NewStringType::kNormal, int length=-1)</div><div class="ttdoc">Allocates a new string from UTF-16 data.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07580">api.cc:7580</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_ae79a33fdd62ca7cf6464fbf9a205ee26"><div class="ttname"><a href="classv8_1_1String.html#ae79a33fdd62ca7cf6464fbf9a205ee26">v8::String::NewFromOneByte</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; NewFromOneByte(Isolate *isolate, const uint8_t *data, NewStringType type=NewStringType::kNormal, int length=-1)</div><div class="ttdoc">Allocates a new string from Latin-1 data.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07573">api.cc:7573</a></div></div>
<div class="ttc" id="aclassv8_1_1Symbol_html"><div class="ttname"><a href="classv8_1_1Symbol.html">v8::Symbol</a></div><div class="ttdoc">A JavaScript symbol (ECMA-262 edition 6)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00778">v8-primitive.h:778</a></div></div>
<div class="ttc" id="aclassv8_1_1Symbol_html_ab595ae7100ce23e4b1677ecab02f5972"><div class="ttname"><a href="classv8_1_1Symbol.html#ab595ae7100ce23e4b1677ecab02f5972">v8::Symbol::GetToStringTag</a></div><div class="ttdeci">static Local&lt; Symbol &gt; GetToStringTag(Isolate *isolate)</div></div>
<div class="ttc" id="aclassv8_1_1Task_html"><div class="ttname"><a href="classv8_1_1Task.html">v8::Task</a></div><div class="ttdoc">A Task represents a unit of work.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00049">v8-platform.h:49</a></div></div>
<div class="ttc" id="aclassv8_1_1TerminateTask_html"><div class="ttname"><a href="classv8_1_1TerminateTask.html">v8::TerminateTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05436">d8.cc:5436</a></div></div>
<div class="ttc" id="aclassv8_1_1TerminateTask_html_a2dc544a415fe258fa0659159e378f0c3"><div class="ttname"><a href="classv8_1_1TerminateTask.html#a2dc544a415fe258fa0659159e378f0c3">v8::TerminateTask::worker_</a></div><div class="ttdeci">std::shared_ptr&lt; Worker &gt; worker_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05449">d8.cc:5449</a></div></div>
<div class="ttc" id="aclassv8_1_1TerminateTask_html_a6e6500457aa0473fbfb1eefa702a490d"><div class="ttname"><a href="classv8_1_1TerminateTask.html#a6e6500457aa0473fbfb1eefa702a490d">v8::TerminateTask::TerminateTask</a></div><div class="ttdeci">TerminateTask(i::CancelableTaskManager *task_manager, std::shared_ptr&lt; Worker &gt; worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05438">d8.cc:5438</a></div></div>
<div class="ttc" id="aclassv8_1_1TerminateTask_html_a8a75b2c549d47b373d2bed69811af814"><div class="ttname"><a href="classv8_1_1TerminateTask.html#a8a75b2c549d47b373d2bed69811af814">v8::TerminateTask::RunInternal</a></div><div class="ttdeci">void RunInternal() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05442">d8.cc:5442</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html"><div class="ttname"><a href="classv8_1_1TryCatch.html">v8::TryCatch</a></div><div class="ttdoc">An external exception handler.</div><div class="ttdef"><b>Definition:</b> <a href="v8-exception_8h_source.html#l00138">v8-exception.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_a032cd889d76bd596e2616df11ced8682"><div class="ttname"><a href="classv8_1_1TryCatch.html#a032cd889d76bd596e2616df11ced8682">v8::TryCatch::SetVerbose</a></div><div class="ttdeci">void SetVerbose(bool value)</div><div class="ttdoc">Set verbosity of the external exception handler.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02894">api.cc:2894</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_a05651b0b264e592de56f5e16bc80057f"><div class="ttname"><a href="classv8_1_1TryCatch.html#a05651b0b264e592de56f5e16bc80057f">v8::TryCatch::Message</a></div><div class="ttdeci">Local&lt; v8::Message &gt; Message() const</div><div class="ttdoc">Returns the message associated with this exception.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02867">api.cc:2867</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_a3175391e782afc092495616b4d35b91b"><div class="ttname"><a href="classv8_1_1TryCatch.html#a3175391e782afc092495616b4d35b91b">v8::TryCatch::HasTerminated</a></div><div class="ttdeci">bool HasTerminated() const</div><div class="ttdoc">Returns true if an exception has been caught due to script execution being terminated.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02829">api.cc:2829</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_a5b86f4229e0725a3eacc69826da2e984"><div class="ttname"><a href="classv8_1_1TryCatch.html#a5b86f4229e0725a3eacc69826da2e984">v8::TryCatch::Exception</a></div><div class="ttdeci">Local&lt; Value &gt; Exception() const</div><div class="ttdoc">Returns the exception caught by this try/catch block.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02840">api.cc:2840</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_a5d80d54b34da0973f1acb30857add186"><div class="ttname"><a href="classv8_1_1TryCatch.html#a5d80d54b34da0973f1acb30857add186">v8::TryCatch::StackTrace</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Value &gt; StackTrace(Local&lt; Context &gt; context, Local&lt; Value &gt; exception)</div><div class="ttdoc">Returns the .stack property of an object.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02848">api.cc:2848</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_ab2cbdeeea106bcda2026b980e94c29ba"><div class="ttname"><a href="classv8_1_1TryCatch.html#ab2cbdeeea106bcda2026b980e94c29ba">v8::TryCatch::ReThrow</a></div><div class="ttdeci">Local&lt; Value &gt; ReThrow()</div><div class="ttdoc">Throws the exception caught by this TryCatch in a way that avoids it being caught again by this same ...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02834">api.cc:2834</a></div></div>
<div class="ttc" id="aclassv8_1_1TryCatch_html_ab77b36a4adf5681da59abfe43adc4e4e"><div class="ttname"><a href="classv8_1_1TryCatch.html#ab77b36a4adf5681da59abfe43adc4e4e">v8::TryCatch::HasCaught</a></div><div class="ttdeci">bool HasCaught() const</div><div class="ttdoc">Returns true if an exception has been caught by this try/catch block.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l02823">api.cc:2823</a></div></div>
<div class="ttc" id="aclassv8_1_1Utils_html_a9d3ed89b4ca4e995ba472f8091ea424f"><div class="ttname"><a href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">v8::Utils::OpenDirectHandle</a></div><div class="ttdeci">static i::DirectHandle&lt; To &gt; OpenDirectHandle(v8::Local&lt; From &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="api_8h_source.html#l00299">api.h:299</a></div></div>
<div class="ttc" id="aclassv8_1_1Utils_html_aea3e5682d909c5f546b8d0342e3cc1a4"><div class="ttname"><a href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">v8::Utils::OpenHandle</a></div><div class="ttdeci">static i::Handle&lt; To &gt; OpenHandle(v8::Local&lt; From &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="api_8h_source.html#l00294">api.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a23afcb889f24d2d1823d0fbdc7fc0212"><div class="ttname"><a href="classv8_1_1V8.html#a23afcb889f24d2d1823d0fbdc7fc0212">v8::V8::DisposePlatform</a></div><div class="ttdeci">static void DisposePlatform()</div><div class="ttdoc">Clears all references to the v8::Platform.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06334">api.cc:6334</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a40daec93ce44bdd922567fc121be9db8"><div class="ttname"><a href="classv8_1_1V8.html#a40daec93ce44bdd922567fc121be9db8">v8::V8::Initialize</a></div><div class="ttdeci">static bool Initialize()</div><div class="ttdoc">Initializes V8.</div><div class="ttdef"><b>Definition:</b> <a href="v8-initialization_8h_source.html#l00108">v8-initialization.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a4dfaa8ece8141a26f7de6c6eec914720"><div class="ttname"><a href="classv8_1_1V8.html#a4dfaa8ece8141a26f7de6c6eec914720">v8::V8::GetVersion</a></div><div class="ttdeci">static const char * GetVersion()</div><div class="ttdoc">Get the version string.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06519">api.cc:6519</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a6a3823f2242648694cd04451a2a19750"><div class="ttname"><a href="classv8_1_1V8.html#a6a3823f2242648694cd04451a2a19750">v8::V8::InitializeExternalStartupDataFromFile</a></div><div class="ttdeci">static void InitializeExternalStartupDataFromFile(const char *snapshot_blob)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06515">api.cc:6515</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a79a2ecd6b949acdbddd9154630ad84ec"><div class="ttname"><a href="classv8_1_1V8.html#a79a2ecd6b949acdbddd9154630ad84ec">v8::V8::InitializePlatform</a></div><div class="ttdeci">static void InitializePlatform(Platform *platform)</div><div class="ttdoc">Sets the v8::Platform to use.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06330">api.cc:6330</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a943c1dbe5b91deb69efdeeaef26c46c7"><div class="ttname"><a href="classv8_1_1V8.html#a943c1dbe5b91deb69efdeeaef26c46c7">v8::V8::InitializeExternalStartupData</a></div><div class="ttdeci">static void InitializeExternalStartupData(const char *directory_path)</div><div class="ttdoc">Initialize the external startup data.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06510">api.cc:6510</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_a96042535991bd9929647abb24784e0fc"><div class="ttname"><a href="classv8_1_1V8.html#a96042535991bd9929647abb24784e0fc">v8::V8::InitializeICUDefaultLocation</a></div><div class="ttdeci">static bool InitializeICUDefaultLocation(const char *exec_path, const char *icu_data_file=nullptr)</div><div class="ttdoc">Initialize the ICU library bundled with V8.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06505">api.cc:6505</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_af0296148b7e4898f809b21f0401d9d29"><div class="ttname"><a href="classv8_1_1V8.html#af0296148b7e4898f809b21f0401d9d29">v8::V8::SetFlagsFromString</a></div><div class="ttdeci">static void SetFlagsFromString(const char *str)</div><div class="ttdoc">Sets V8 flags from a string.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00436">api.cc:436</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_af761970f495ed98e940808fd4fa5caff"><div class="ttname"><a href="classv8_1_1V8.html#af761970f495ed98e940808fd4fa5caff">v8::V8::Dispose</a></div><div class="ttdeci">static bool Dispose()</div><div class="ttdoc">Releases any resources used by v8 and stops any utility threads that may be running.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06458">api.cc:6458</a></div></div>
<div class="ttc" id="aclassv8_1_1V8_html_afce2bd301d31e03daa7918781f3c1409"><div class="ttname"><a href="classv8_1_1V8.html#afce2bd301d31e03daa7918781f3c1409">v8::V8::EnableWebAssemblyTrapHandler</a></div><div class="ttdeci">static bool EnableWebAssemblyTrapHandler(bool use_v8_signal_handler)</div><div class="ttdoc">Activate trap-based bounds checking for WebAssembly.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l06424">api.cc:6424</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueDeserializer_1_1Delegate_html"><div class="ttname"><a href="classv8_1_1ValueDeserializer_1_1Delegate.html">v8::ValueDeserializer::Delegate</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-value-serializer_8h_source.html#l00217">v8-value-serializer.h:217</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueDeserializer_html"><div class="ttname"><a href="classv8_1_1ValueDeserializer.html">v8::ValueDeserializer</a></div><div class="ttdoc">Deserializes values from data written with ValueSerializer, or a compatible implementation.</div><div class="ttdef"><b>Definition:</b> <a href="v8-value-serializer_8h_source.html#l00215">v8-value-serializer.h:215</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueDeserializer_html_a96d813a90d2de3fff2232f0a1e0f3b8b"><div class="ttname"><a href="classv8_1_1ValueDeserializer.html#a96d813a90d2de3fff2232f0a1e0f3b8b">v8::ValueDeserializer::ReadHeader</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; ReadHeader(Local&lt; Context &gt; context)</div><div class="ttdoc">Reads and validates a header (including the format version).</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03438">api.cc:3438</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueDeserializer_html_aa8b6efe5d8e47a2160b2b4e30ab3faa4"><div class="ttname"><a href="classv8_1_1ValueDeserializer.html#aa8b6efe5d8e47a2160b2b4e30ab3faa4">v8::ValueDeserializer::ReadValue</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeLocal&lt; Value &gt; ReadValue(Local&lt; Context &gt; context)</div><div class="ttdoc">Deserializes a JavaScript value from the buffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03467">api.cc:3467</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueSerializer_1_1Delegate_html"><div class="ttname"><a href="classv8_1_1ValueSerializer_1_1Delegate.html">v8::ValueSerializer::Delegate</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-value-serializer_8h_source.html#l00067">v8-value-serializer.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueSerializer_html"><div class="ttname"><a href="classv8_1_1ValueSerializer.html">v8::ValueSerializer</a></div><div class="ttdoc">Value serialization compatible with the HTML structured clone algorithm.</div><div class="ttdef"><b>Definition:</b> <a href="v8-value-serializer_8h_source.html#l00065">v8-value-serializer.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueSerializer_html_a5e15aee37a321fd0dc3e92dd87e1334f"><div class="ttname"><a href="classv8_1_1ValueSerializer.html#a5e15aee37a321fd0dc3e92dd87e1334f">v8::ValueSerializer::Release</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT std::pair&lt; uint8_t *, size_t &gt; Release()</div><div class="ttdoc">Returns the stored data (allocated using the delegate's ReallocateBufferMemory) and its size.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03354">api.cc:3354</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueSerializer_html_abaaf71649f106af23c1c43f12e6a8394"><div class="ttname"><a href="classv8_1_1ValueSerializer.html#abaaf71649f106af23c1c43f12e6a8394">v8::ValueSerializer::WriteValue</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; WriteValue(Local&lt; Context &gt; context, Local&lt; Value &gt; value)</div><div class="ttdoc">Serializes a JavaScript value into the buffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03345">api.cc:3345</a></div></div>
<div class="ttc" id="aclassv8_1_1ValueSerializer_html_ac0bdf1a7731ee4e93823dabdfa8c8661"><div class="ttname"><a href="classv8_1_1ValueSerializer.html#ac0bdf1a7731ee4e93823dabdfa8c8661">v8::ValueSerializer::WriteHeader</a></div><div class="ttdeci">void WriteHeader()</div><div class="ttdoc">Writes out a header, which includes the format version.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03339">api.cc:3339</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html"><div class="ttname"><a href="classv8_1_1Value.html">v8::Value</a></div><div class="ttdoc">The superclass of all JavaScript values and objects.</div><div class="ttdef"><b>Definition:</b> <a href="v8-value_8h_source.html#l00032">v8-value.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a00fb01ca03d847407a2ed9a262035ebc"><div class="ttname"><a href="classv8_1_1Value.html#a00fb01ca03d847407a2ed9a262035ebc">v8::Value::BooleanValue</a></div><div class="ttdeci">bool BooleanValue(Isolate *isolate) const</div><div class="ttdoc">Returns the equivalent of ToBoolean()-&gt;Value().</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03757">api.cc:3757</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a3a8f4984c524f2c30a8b00a6b8bff41a"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a3a8f4984c524f2c30a8b00a6b8bff41a">v8::VirtualAddressSpace::kNoHint</a></div><div class="ttdeci">static constexpr Address kNoHint</div><div class="ttdoc">Allocates private memory pages with the given alignment and permissions.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00880">v8-platform.h:880</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmMemoryMapDescriptor_html_a063f4d747215f425345cb62da59469bc"><div class="ttname"><a href="classv8_1_1WasmMemoryMapDescriptor.html#a063f4d747215f425345cb62da59469bc">v8::WasmMemoryMapDescriptor::WasmFileDescriptor</a></div><div class="ttdeci">int32_t WasmFileDescriptor</div><div class="ttdef"><b>Definition:</b> <a href="v8-wasm_8h_source.html#l00218">v8-wasm.h:218</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmMemoryMapDescriptor_html_ae548055222160db6caca90e809528e4b"><div class="ttname"><a href="classv8_1_1WasmMemoryMapDescriptor.html#ae548055222160db6caca90e809528e4b">v8::WasmMemoryMapDescriptor::New</a></div><div class="ttdeci">static Local&lt; WasmMemoryMapDescriptor &gt; New(Isolate *isolate, WasmFileDescriptor fd)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08873">api.cc:8873</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmModuleObject_html_a5f084ba0d4f143950b69bc93ea642d0f"><div class="ttname"><a href="classv8_1_1WasmModuleObject.html#a5f084ba0d4f143950b69bc93ea642d0f">v8::WasmModuleObject::Compile</a></div><div class="ttdeci">static MaybeLocal&lt; WasmModuleObject &gt; Compile(Isolate *isolate, MemorySpan&lt; const uint8_t &gt; wire_bytes)</div><div class="ttdoc">Compile a Wasm module from the provided uncompiled bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08844">api.cc:8844</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmModuleObject_html_aac05f6b7dcf0b22e46db6ec0b3b47ab6"><div class="ttname"><a href="classv8_1_1WasmModuleObject.html#aac05f6b7dcf0b22e46db6ec0b3b47ab6">v8::WasmModuleObject::FromCompiledModule</a></div><div class="ttdeci">static MaybeLocal&lt; WasmModuleObject &gt; FromCompiledModule(Isolate *isolate, const CompiledWasmModule &amp;)</div><div class="ttdoc">Efficiently re-create a WasmModuleObject, without recompiling, from a CompiledWasmModule.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08830">api.cc:8830</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_1_1WorkerThread_html"><div class="ttname"><a href="classv8_1_1Worker_1_1WorkerThread.html">v8::Worker::WorkerThread</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00246">d8.h:246</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_1_1WorkerThread_html_aa5348ac97d4d7f8c01d8d53184165eb9"><div class="ttname"><a href="classv8_1_1Worker_1_1WorkerThread.html#aa5348ac97d4d7f8c01d8d53184165eb9">v8::Worker::WorkerThread::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05400">d8.cc:5400</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_1_1WorkerThread_html_acf3192cb2599c2efe6b88eeb8ede9779"><div class="ttname"><a href="classv8_1_1Worker_1_1WorkerThread.html#acf3192cb2599c2efe6b88eeb8ede9779">v8::Worker::WorkerThread::worker_</a></div><div class="ttdeci">std::shared_ptr&lt; Worker &gt; worker_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00256">d8.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html"><div class="ttname"><a href="classv8_1_1Worker.html">v8::Worker</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00187">d8.h:187</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a05a66b2a7144522362514b293c139edd"><div class="ttname"><a href="classv8_1_1Worker.html#a05a66b2a7144522362514b293c139edd">v8::Worker::task_manager_</a></div><div class="ttdeci">i::CancelableTaskManager * task_manager_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00279">d8.h:279</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a25c144ae432f3ae26786e481c7d0a206"><div class="ttname"><a href="classv8_1_1Worker.html#a25c144ae432f3ae26786e481c7d0a206">v8::Worker::script_</a></div><div class="ttdeci">char * script_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00270">d8.h:270</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a2ec0bf60ded57afe2225b7dfabb66c3d"><div class="ttname"><a href="classv8_1_1Worker.html#a2ec0bf60ded57afe2225b7dfabb66c3d">v8::Worker::flush_denormals_</a></div><div class="ttdeci">bool flush_denormals_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00271">d8.h:271</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a2efa1951b7359de8cfa32fe3ba826245"><div class="ttname"><a href="classv8_1_1Worker.html#a2efa1951b7359de8cfa32fe3ba826245">v8::Worker::task_runner_</a></div><div class="ttdeci">std::shared_ptr&lt; TaskRunner &gt; task_runner_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00278">d8.h:278</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a366fa9c43d9d6ff2051d38a6dd41cb9e"><div class="ttname"><a href="classv8_1_1Worker.html#a366fa9c43d9d6ff2051d38a6dd41cb9e">v8::Worker::ExecuteInThread</a></div><div class="ttdeci">void ExecuteInThread()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05572">d8.cc:5572</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a3895f0ff32bb3273b32c52cb827afa32"><div class="ttname"><a href="classv8_1_1Worker.html#a3895f0ff32bb3273b32c52cb827afa32">v8::Worker::TryGetMessage</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; TryGetMessage()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05464">d8.cc:5464</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a3a9fc4f1c37b3e2f8770ec12b2701931"><div class="ttname"><a href="classv8_1_1Worker.html#a3a9fc4f1c37b3e2f8770ec12b2701931">v8::Worker::thread_</a></div><div class="ttdeci">base::Thread * thread_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00269">d8.h:269</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a4814205d0e4c61fdbd84f1e54c91fc53"><div class="ttname"><a href="classv8_1_1Worker.html#a4814205d0e4c61fdbd84f1e54c91fc53">v8::Worker::ProcessMessage</a></div><div class="ttdeci">void ProcessMessage(std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05505">d8.cc:5505</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a4fcc635fc43abec5d29e492aab900743"><div class="ttname"><a href="classv8_1_1Worker.html#a4fcc635fc43abec5d29e492aab900743">v8::Worker::started_semaphore_</a></div><div class="ttdeci">i::ParkingSemaphore started_semaphore_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00275">d8.h:275</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a5e04e70103d56ddb62a7c02224b53d6a"><div class="ttname"><a href="classv8_1_1Worker.html#a5e04e70103d56ddb62a7c02224b53d6a">v8::Worker::ProcessMessageTask</a></div><div class="ttdeci">friend class ProcessMessageTask</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00231">d8.h:231</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a62db550e45cbd88947a687e0d382ba76"><div class="ttname"><a href="classv8_1_1Worker.html#a62db550e45cbd88947a687e0d382ba76">v8::Worker::is_joined_</a></div><div class="ttdeci">bool is_joined_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00273">d8.h:273</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a67de5cfbeb04b6347bd8c17ece769267"><div class="ttname"><a href="classv8_1_1Worker.html#a67de5cfbeb04b6347bd8c17ece769267">v8::Worker::worker_mutex_</a></div><div class="ttdeci">base::Mutex worker_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00283">d8.h:283</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a6b9b4d01d4b5aa643c761e43f765d255"><div class="ttname"><a href="classv8_1_1Worker.html#a6b9b4d01d4b5aa643c761e43f765d255">v8::Worker::TerminateTask</a></div><div class="ttdeci">friend class TerminateTask</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00232">d8.h:232</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a76e8ccadafba5298c49d5a1e74c86b3e"><div class="ttname"><a href="classv8_1_1Worker.html#a76e8ccadafba5298c49d5a1e74c86b3e">v8::Worker::Close</a></div><div class="ttdeci">static void Close(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05748">d8.cc:5748</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a79af45d8af140aff113eabcfac52af70"><div class="ttname"><a href="classv8_1_1Worker.html#a79af45d8af140aff113eabcfac52af70">v8::Worker::Worker</a></div><div class="ttdeci">Worker(Isolate *parent_isolate, const char *script, bool flush_denormals)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05365">d8.cc:5365</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a79b372db47439b7760f1def44c157e24"><div class="ttname"><a href="classv8_1_1Worker.html#a79b372db47439b7760f1def44c157e24">v8::Worker::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00291">d8.h:291</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a7a04653d0514743346802d3da98608e1"><div class="ttname"><a href="classv8_1_1Worker.html#a7a04653d0514743346802d3da98608e1">v8::Worker::PostMessageOut</a></div><div class="ttdeci">static void PostMessageOut(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05717">d8.cc:5717</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a7ac418941c1380bebe89708a76477468"><div class="ttname"><a href="classv8_1_1Worker.html#a7ac418941c1380bebe89708a76477468">v8::Worker::PostMessage</a></div><div class="ttdeci">void PostMessage(std::unique_ptr&lt; SerializationData &gt; data)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05428">d8.cc:5428</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a7adb299125b1a66e5dc0fb4a5a6d2354"><div class="ttname"><a href="classv8_1_1Worker.html#a7adb299125b1a66e5dc0fb4a5a6d2354">v8::Worker::EnterTerminatedState</a></div><div class="ttdeci">void EnterTerminatedState()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05497">d8.cc:5497</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a7f8d39e3e914771a12de5b4b9ea34ec5"><div class="ttname"><a href="classv8_1_1Worker.html#a7f8d39e3e914771a12de5b4b9ea34ec5">v8::Worker::state_</a></div><div class="ttdeci">std::atomic&lt; State &gt; state_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00272">d8.h:272</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a8226cc21a21d02cf34e5c0c3ed150914"><div class="ttname"><a href="classv8_1_1Worker.html#a8226cc21a21d02cf34e5c0c3ed150914">v8::Worker::out_semaphore_</a></div><div class="ttdeci">i::ParkingSemaphore out_semaphore_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00266">d8.h:266</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a86a2648fac25a3f4605f1b79549bdbcf"><div class="ttname"><a href="classv8_1_1Worker.html#a86a2648fac25a3f4605f1b79549bdbcf">v8::Worker::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00287">d8.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a9252812cf431f134826c80898de978e6"><div class="ttname"><a href="classv8_1_1Worker.html#a9252812cf431f134826c80898de978e6">v8::Worker::Terminate</a></div><div class="ttdeci">void Terminate()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05484">d8.cc:5484</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a96a1733c55125cbedf65f6eeffbd20d8"><div class="ttname"><a href="classv8_1_1Worker.html#a96a1733c55125cbedf65f6eeffbd20d8">v8::Worker::StartWorkerThread</a></div><div class="ttdeci">static bool StartWorkerThread(Isolate *requester, std::shared_ptr&lt; Worker &gt; worker, base::Thread::Priority priority)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05384">d8.cc:5384</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_a9f6e465334e805f5479a35abed345ddc"><div class="ttname"><a href="classv8_1_1Worker.html#a9f6e465334e805f5479a35abed345ddc">v8::Worker::GetMessage</a></div><div class="ttdeci">std::unique_ptr&lt; SerializationData &gt; GetMessage(Isolate *requester)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05452">d8.cc:5452</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_ab44f03713d6c01bd8c2e8a77c3e5a2ab"><div class="ttname"><a href="classv8_1_1Worker.html#ab44f03713d6c01bd8c2e8a77c3e5a2ab">v8::Worker::SetCurrentWorker</a></div><div class="ttdeci">static void SetCurrentWorker(Worker *worker)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05564">d8.cc:5564</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_ab8e7ca573e4af2e3d6d8357827bfbe4a"><div class="ttname"><a href="classv8_1_1Worker.html#ab8e7ca573e4af2e3d6d8357827bfbe4a">v8::Worker::TerminateAndWaitForThread</a></div><div class="ttdeci">void TerminateAndWaitForThread(const i::ParkedScope &amp;parked)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05472">d8.cc:5472</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_abca405daad2b4cfd6db900fb7f5df164"><div class="ttname"><a href="classv8_1_1Worker.html#abca405daad2b4cfd6db900fb7f5df164">v8::Worker::~Worker</a></div><div class="ttdeci">~Worker()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05373">d8.cc:5373</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_abd30157b1af0be25a3598bde64395807"><div class="ttname"><a href="classv8_1_1Worker.html#abd30157b1af0be25a3598bde64395807">v8::Worker::is_running</a></div><div class="ttdeci">bool is_running() const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05382">d8.cc:5382</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_abff27c3a3a357a1cc380d884aba419b8"><div class="ttname"><a href="classv8_1_1Worker.html#abff27c3a3a357a1cc380d884aba419b8">v8::Worker::out_queue_</a></div><div class="ttdeci">SerializationDataQueue out_queue_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00267">d8.h:267</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_acbdd70b8c8d23e7b6c9a8b1ecbffd492a25d5606fe07425ea73f245c48612c039"><div class="ttname"><a href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a25d5606fe07425ea73f245c48612c039">v8::Worker::State::kReady</a></div><div class="ttdeci">@ kReady</div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_acbdd70b8c8d23e7b6c9a8b1ecbffd492a2fc7fbf0d19294f85dd3880460dd3c0a"><div class="ttname"><a href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a2fc7fbf0d19294f85dd3880460dd3c0a">v8::Worker::State::kRunning</a></div><div class="ttdeci">@ kRunning</div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_acbdd70b8c8d23e7b6c9a8b1ecbffd492a532fa4b0d162f7155e2528e6051863e2"><div class="ttname"><a href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a532fa4b0d162f7155e2528e6051863e2">v8::Worker::State::kPrepareRunning</a></div><div class="ttdeci">@ kPrepareRunning</div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_acbdd70b8c8d23e7b6c9a8b1ecbffd492a565f31fd6e6a7251958cd91de2d701e5"><div class="ttname"><a href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a565f31fd6e6a7251958cd91de2d701e5">v8::Worker::State::kTerminating</a></div><div class="ttdeci">@ kTerminating</div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_acbdd70b8c8d23e7b6c9a8b1ecbffd492a790ff187421ccafd6083c04549b89602"><div class="ttname"><a href="classv8_1_1Worker.html#acbdd70b8c8d23e7b6c9a8b1ecbffd492a790ff187421ccafd6083c04549b89602">v8::Worker::State::kTerminated</a></div><div class="ttdeci">@ kTerminated</div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_ae8bfcb5f0261f58b49526bbf09191e8c"><div class="ttname"><a href="classv8_1_1Worker.html#ae8bfcb5f0261f58b49526bbf09191e8c">v8::Worker::ProcessMessages</a></div><div class="ttdeci">void ProcessMessages()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05545">d8.cc:5545</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_ae8e3bce716beb50a1f7fce4c47ef5ed4"><div class="ttname"><a href="classv8_1_1Worker.html#ae8e3bce716beb50a1f7fce4c47ef5ed4">v8::Worker::ImportScripts</a></div><div class="ttdeci">static void ImportScripts(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05744">d8.cc:5744</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_af872ee72b01a28ee4107322b4d7cc1a3"><div class="ttname"><a href="classv8_1_1Worker.html#af872ee72b01a28ee4107322b4d7cc1a3">v8::Worker::parent_isolate_</a></div><div class="ttdeci">Isolate * parent_isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00288">d8.h:288</a></div></div>
<div class="ttc" id="aclassv8_1_1Worker_html_afda5ce466252e4a4aaebd7a1a34eb637"><div class="ttname"><a href="classv8_1_1Worker.html#afda5ce466252e4a4aaebd7a1a34eb637">v8::Worker::GetCurrentWorker</a></div><div class="ttdeci">static Worker * GetCurrentWorker()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05570">d8.cc:5570</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html">v8::anonymous_namespace{d8.cc}::ArrayBufferAllocatorBase</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00146">d8.cc:146</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase_html_a2f30e532725f499b6477d40014381526"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a2f30e532725f499b6477d40014381526">v8::anonymous_namespace{d8.cc}::ArrayBufferAllocatorBase::Allocate</a></div><div class="ttdeci">void * Allocate(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00148">d8.cc:148</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase_html_a4793426dabbd9e03a19c5db2f817a887"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a4793426dabbd9e03a19c5db2f817a887">v8::anonymous_namespace{d8.cc}::ArrayBufferAllocatorBase::Free</a></div><div class="ttdeci">void Free(void *data, size_t length) override</div><div class="ttdoc">Free the memory block of size |length|, pointed to by |data|.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00156">d8.cc:156</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase_html_a68b31fdac15d706c8067fc2968ff5e0c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#a68b31fdac15d706c8067fc2968ff5e0c">v8::anonymous_namespace{d8.cc}::ArrayBufferAllocatorBase::AllocateUninitialized</a></div><div class="ttdeci">void * AllocateUninitialized(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00152">d8.cc:152</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase_html_abcf6e6c89907229093087674dda7ebaf"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ArrayBufferAllocatorBase.html#abcf6e6c89907229093087674dda7ebaf">v8::anonymous_namespace{d8.cc}::ArrayBufferAllocatorBase::GetPageAllocator</a></div><div class="ttdeci">PageAllocator * GetPageAllocator() override</div><div class="ttdoc">Returns page allocator used by this Allocator instance.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00160">d8.cc:160</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00883">d8.cc:883</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_a27537c2832c9024c6d0bce039e87003e"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a27537c2832c9024c6d0bce039e87003e">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::success_</a></div><div class="ttdeci">WasmAsyncSuccess success_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00918">d8.cc:918</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_a4eda0e0b05b0dcbc11050015694524bf"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a4eda0e0b05b0dcbc11050015694524bf">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00896">d8.cc:896</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_a4fccbee3928da0bd80f4f74a0a6dd719"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a4fccbee3928da0bd80f4f74a0a6dd719">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::resolver_</a></div><div class="ttdeci">v8::Global&lt; v8::Promise::Resolver &gt; resolver_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00916">d8.cc:916</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_a80fe6a473b6b8347cefcc9cd4d65fb9c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a80fe6a473b6b8347cefcc9cd4d65fb9c">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::D8WasmAsyncResolvePromiseTask</a></div><div class="ttdeci">D8WasmAsyncResolvePromiseTask(v8::Isolate *isolate, v8::Local&lt; v8::Context &gt; context, v8::Local&lt; v8::Promise::Resolver &gt; resolver, v8::Local&lt; v8::Value &gt; result, WasmAsyncSuccess success)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00885">d8.cc:885</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_a9d73601f03d1b3e142db713903f1ac99"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#a9d73601f03d1b3e142db713903f1ac99">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::result_</a></div><div class="ttdeci">v8::Global&lt; v8::Value &gt; result_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00917">d8.cc:917</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_ac1bbbeb9fc0d64218c788801fef4f202"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#ac1bbbeb9fc0d64218c788801fef4f202">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::context_</a></div><div class="ttdeci">v8::Global&lt; v8::Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00915">d8.cc:915</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask_html_ae0756602ffdddfb11dbe019ebbcdcd66"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1D8WasmAsyncResolvePromiseTask.html#ae0756602ffdddfb11dbe019ebbcdcd66">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseTask::isolate_</a></div><div class="ttdeci">v8::Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00914">d8.cc:914</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00234">d8.cc:234</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_a5090052406e711dc24216b100585885c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a5090052406e711dc24216b100585885c">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::Free</a></div><div class="ttdeci">void Free(void *data, size_t length) override</div><div class="ttdoc">Free the memory block of size |length|, pointed to by |data|.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00256">d8.cc:256</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_a544f533c57dfcd258394d5ebe772de25"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a544f533c57dfcd258394d5ebe772de25">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::Allocate</a></div><div class="ttdeci">void * Allocate(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00240">d8.cc:240</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_a6833f3074e3e8df5ecf4e75b329aebfe"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a6833f3074e3e8df5ecf4e75b329aebfe">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::AllocateUninitialized</a></div><div class="ttdeci">void * AllocateUninitialized(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00248">d8.cc:248</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_a849237c6357c7386ad010a403963363a"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a849237c6357c7386ad010a403963363a">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::space_left_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; space_left_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00265">d8.cc:265</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_a91513683e88901c67dab1cb912b8d9b1"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#a91513683e88901c67dab1cb912b8d9b1">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::MockArrayBufferAllocatiorWithLimit</a></div><div class="ttdeci">MockArrayBufferAllocatiorWithLimit(size_t allocation_limit)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00236">d8.cc:236</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_ad80b12c929eba6dad561db3a73bf0794"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#ad80b12c929eba6dad561db3a73bf0794">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::MaxAllocationSize</a></div><div class="ttdeci">size_t MaxAllocationSize() const override</div><div class="ttdoc">Returns a size_t that determines the largest ArrayBuffer that can be allocated.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00261">d8.cc:261</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit_html_ae0b1121a7c233bff79fbdb5f1b7cd500"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocatiorWithLimit.html#ae0b1121a7c233bff79fbdb5f1b7cd500">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocatiorWithLimit::limit_</a></div><div class="ttdeci">size_t limit_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00264">d8.cc:264</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00211">d8.cc:211</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator_html_a2d789627ca21c910ad75e059af7c1aa2"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a2d789627ca21c910ad75e059af7c1aa2">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocator::Allocate</a></div><div class="ttdeci">void * Allocate(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00213">d8.cc:213</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator_html_a7853a97ea94b07b7302dde04032878b4"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a7853a97ea94b07b7302dde04032878b4">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocator::Free</a></div><div class="ttdeci">void Free(void *data, size_t length) override</div><div class="ttdoc">Free the memory block of size |length|, pointed to by |data|.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00221">d8.cc:221</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator_html_a9b04ac7740c62984786493644960fc7c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#a9b04ac7740c62984786493644960fc7c">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocator::Adjust</a></div><div class="ttdeci">size_t Adjust(size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00226">d8.cc:226</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator_html_adc91de5dbb7feee3e049f024eecb521c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1MockArrayBufferAllocator.html#adc91de5dbb7feee3e049f024eecb521c">v8::anonymous_namespace{d8.cc}::MockArrayBufferAllocator::AllocateUninitialized</a></div><div class="ttdeci">void * AllocateUninitialized(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00217">d8.cc:217</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::ModuleGlobalHash</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00735">d8.cc:735</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash_html_aab0a39b76467e3c1a704b1162ac0117f"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#aab0a39b76467e3c1a704b1162ac0117f">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::ModuleGlobalHash::ModuleGlobalHash</a></div><div class="ttdeci">ModuleGlobalHash(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00737">d8.cc:737</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash_html_aab997b5603b8b20f1decbf5ee7b4a1dc"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#aab997b5603b8b20f1decbf5ee7b4a1dc">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::ModuleGlobalHash::operator()</a></div><div class="ttdeci">size_t operator()(const Global&lt; Module &gt; &amp;module) const</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00738">d8.cc:738</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash_html_ac5ffe404305bfeaff98bc8d41daf4182"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_1_1ModuleGlobalHash.html#ac5ffe404305bfeaff98bc8d41daf4182">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::ModuleGlobalHash::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00743">d8.cc:743</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00733">d8.cc:733</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a17b108dc53269212b93d45d713f8a100"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a17b108dc53269212b93d45d713f8a100">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::GetModuleSpecifier</a></div><div class="ttdeci">std::string GetModuleSpecifier(Local&lt; Module &gt; module)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00756">d8.cc:756</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a1c276ad7030c356763076c081faf4027"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a1c276ad7030c356763076c081faf4027">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::ModuleTypeFromImportSpecifierAndAttributes</a></div><div class="ttdeci">static ModuleType ModuleTypeFromImportSpecifierAndAttributes(Local&lt; Context &gt; context, const std::string &amp;specifier, Local&lt; FixedArray &gt; import_attributes, bool hasPositions)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00784">d8.cc:784</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a20176ff65da545412f565a13b926d789"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a20176ff65da545412f565a13b926d789">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::module_to_specifier_map</a></div><div class="ttdeci">std::unordered_map&lt; Global&lt; Module &gt;, std::string, ModuleGlobalHash &gt; module_to_specifier_map</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00823">d8.cc:823</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a33eec71ae5efdfa0cd425d3a1ce44482"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a33eec71ae5efdfa0cd425d3a1ce44482">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00815">d8.cc:815</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a51177e7900bd93069c1e80f561e824fd"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a51177e7900bd93069c1e80f561e824fd">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::module_source_map</a></div><div class="ttdeci">std::map&lt; std::pair&lt; std::string, ModuleType &gt;, Global&lt; Object &gt; &gt; module_source_map</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00820">d8.cc:820</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a5c20ace21571e43a400286b973abbf62"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a5c20ace21571e43a400286b973abbf62">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::GetModuleSource</a></div><div class="ttdeci">Local&lt; Object &gt; GetModuleSource(std::pair&lt; std::string, ModuleType &gt; module_specifier_and_type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00770">d8.cc:770</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_a6cdbbdcb4bcdf8ded62f8055c34ba76c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#a6cdbbdcb4bcdf8ded62f8055c34ba76c">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::GetJsonModuleValue</a></div><div class="ttdeci">Local&lt; Value &gt; GetJsonModuleValue(Local&lt; Module &gt; module)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00777">d8.cc:777</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_aa9398941d98f47dbe420ef6154217642"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#aa9398941d98f47dbe420ef6154217642">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::ModuleEmbedderData</a></div><div class="ttdeci">ModuleEmbedderData(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00750">d8.cc:750</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_ab55d776855d139adb6b2e72a10afd1a0"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#ab55d776855d139adb6b2e72a10afd1a0">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::GetModule</a></div><div class="ttdeci">Local&lt; Module &gt; GetModule(std::pair&lt; std::string, ModuleType &gt; module_specifier_and_type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00763">d8.cc:763</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_abb00ee876f14ce480272e2c9a3f4768e"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#abb00ee876f14ce480272e2c9a3f4768e">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::json_module_to_parsed_json_map</a></div><div class="ttdeci">std::unordered_map&lt; Global&lt; Module &gt;, Global&lt; Value &gt;, ModuleGlobalHash &gt; json_module_to_parsed_json_map</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00827">d8.cc:827</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_ae22dbf658a8e819b625f5cc3ecc1a80a"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#ae22dbf658a8e819b625f5cc3ecc1a80a">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::origin</a></div><div class="ttdeci">std::string origin</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00830">d8.cc:830</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData_html_afd54c9d6b1d9f61a26ec51480a65858a"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ModuleEmbedderData.html#afd54c9d6b1d9f61a26ec51480a65858a">v8::anonymous_namespace{d8.cc}::ModuleEmbedderData::module_map</a></div><div class="ttdeci">std::map&lt; std::pair&lt; std::string, ModuleType &gt;, Global&lt; Module &gt; &gt; module_map</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00817">d8.cc:817</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html">v8::anonymous_namespace{d8.cc}::ShellArrayBufferAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00170">d8.cc:170</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator_html_a34e023cb9eb69c908445289909e8e1a0"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a34e023cb9eb69c908445289909e8e1a0">v8::anonymous_namespace{d8.cc}::ShellArrayBufferAllocator::Allocate</a></div><div class="ttdeci">void * Allocate(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00172">d8.cc:172</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator_html_a477e1803c4dfd262147308a23ac9f457"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a477e1803c4dfd262147308a23ac9f457">v8::anonymous_namespace{d8.cc}::ShellArrayBufferAllocator::AllocateVM</a></div><div class="ttdeci">void * AllocateVM(size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00193">d8.cc:193</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator_html_a984c3a9773d4cba870ade4813e867843"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#a984c3a9773d4cba870ade4813e867843">v8::anonymous_namespace{d8.cc}::ShellArrayBufferAllocator::FreeVM</a></div><div class="ttdeci">void FreeVM(void *data, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00202">d8.cc:202</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator_html_aa134a5382d7f970c2a68f0550d9b5e2b"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#aa134a5382d7f970c2a68f0550d9b5e2b">v8::anonymous_namespace{d8.cc}::ShellArrayBufferAllocator::Free</a></div><div class="ttdeci">void Free(void *data, size_t length) override</div><div class="ttdoc">Free the memory block of size |length|, pointed to by |data|.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00182">d8.cc:182</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator_html_abd74e8ee1e87cb4e3557e6d652ab7c27"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02d8_8cc_03_1_1ShellArrayBufferAllocator.html#abd74e8ee1e87cb4e3557e6d652ab7c27">v8::anonymous_namespace{d8.cc}::ShellArrayBufferAllocator::AllocateUninitialized</a></div><div class="ttdeci">void * AllocateUninitialized(size_t length) override</div><div class="ttdoc">Allocate |length| bytes.</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00177">d8.cc:177</a></div></div>
<div class="ttc" id="aclassv8_1_1api__internal_1_1IndirectHandleBase_html_ab505cc6c5f12d0a44149b7170b37411f"><div class="ttname"><a href="classv8_1_1api__internal_1_1IndirectHandleBase.html#ab505cc6c5f12d0a44149b7170b37411f">v8::api_internal::IndirectHandleBase::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-handle-base_8h_source.html#l00060">v8-handle-base.h:60</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1FPU_html_a3ff62a501dd635fad8cf25c98bd304e3"><div class="ttname"><a href="classv8_1_1base_1_1FPU.html#a3ff62a501dd635fad8cf25c98bd304e3">v8::base::FPU::GetFlushDenormals</a></div><div class="ttdeci">static V8_BASE_EXPORT bool GetFlushDenormals()</div><div class="ttdef"><b>Definition:</b> <a href="fpu_8cc_source.html#l00096">fpu.cc:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1FPU_html_a6d64d1865ee3ca453b4d3bf6820ae32b"><div class="ttname"><a href="classv8_1_1base_1_1FPU.html#a6d64d1865ee3ca453b4d3bf6820ae32b">v8::base::FPU::SetFlushDenormals</a></div><div class="ttdeci">static V8_BASE_EXPORT void SetFlushDenormals(bool)</div><div class="ttdef"><b>Definition:</b> <a href="fpu_8cc_source.html#l00097">fpu.cc:97</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1FlushDenormalsScope_html"><div class="ttname"><a href="classv8_1_1base_1_1FlushDenormalsScope.html">v8::base::FlushDenormalsScope</a></div><div class="ttdef"><b>Definition:</b> <a href="fpu_8h_source.html#l00016">fpu.h:16</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Mutex_html"><div class="ttname"><a href="classv8_1_1base_1_1Mutex.html">v8::base::Mutex</a></div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00036">mutex.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html">v8::base::OS::MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00256">platform.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_a3c10e7c6b424824c2c6cc8dc1dd65f68"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a3c10e7c6b424824c2c6cc8dc1dd65f68">v8::base::OS::MemoryMappedFile::create</a></div><div class="ttdeci">static MemoryMappedFile * create(const char *name, size_t size, void *initial)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00854">platform-posix.cc:854</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d">v8::base::OS::MemoryMappedFile::FileMode::kReadOnly</a></div><div class="ttdeci">@ kReadOnly</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_acf4def71902b724f3ed274f2b4ad3051"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#acf4def71902b724f3ed274f2b4ad3051">v8::base::OS::MemoryMappedFile::open</a></div><div class="ttdeci">static MemoryMappedFile * open(const char *name, FileMode mode=FileMode::kReadWrite)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00823">platform-posix.cc:823</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a287990fe7c0e39359181673f0da8a8cc"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">v8::base::OS::ExitProcess</a></div><div class="ttdeci">static void ExitProcess(int exit_code)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00902">platform-posix.cc:902</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a847804239d3654d9dc61325fd7a8b195"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a847804239d3654d9dc61325fd7a8b195">v8::base::OS::FOpen</a></div><div class="ttdeci">static FILE * FOpen(const char *path, const char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00970">platform-posix.cc:970</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a8b6f63d09e8e0bad9dd9f7a91cc7e106"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a8b6f63d09e8e0bad9dd9f7a91cc7e106">v8::base::OS::GetPeakMemoryUsageKb</a></div><div class="ttdeci">static int GetPeakMemoryUsageKb()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00925">platform-posix.cc:925</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_aa2d5f71adc225182f5266fb2e4db2251"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#aa2d5f71adc225182f5266fb2e4db2251">v8::base::OS::StrNCpy</a></div><div class="ttdeci">static void StrNCpy(char *dest, int length, const char *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01085">platform-posix.cc:1085</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Semaphore_html_a95ee194fdea88172c20132a95ac8ca59"><div class="ttname"><a href="classv8_1_1base_1_1Semaphore.html#a95ee194fdea88172c20132a95ac8ca59">v8::base::Semaphore::Signal</a></div><div class="ttdeci">void Signal()</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SysInfo_html_a97f971a5174d8cb9ec1bc9b42b77a893"><div class="ttname"><a href="classv8_1_1base_1_1SysInfo.html#a97f971a5174d8cb9ec1bc9b42b77a893">v8::base::SysInfo::AmountOfPhysicalMemory</a></div><div class="ttdeci">static int64_t AmountOfPhysicalMemory()</div><div class="ttdef"><b>Definition:</b> <a href="sys-info_8cc_source.html#l00066">sys-info.cc:66</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SysInfo_html_af9f658e742009f9c9205088afb6d5c18"><div class="ttname"><a href="classv8_1_1base_1_1SysInfo.html#af9f658e742009f9c9205088afb6d5c18">v8::base::SysInfo::AmountOfVirtualMemory</a></div><div class="ttdeci">static int64_t AmountOfVirtualMemory()</div><div class="ttdef"><b>Definition:</b> <a href="sys-info_8cc_source.html#l00120">sys-info.cc:120</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1Options_html"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1Options.html">v8::base::Thread::Options</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00553">platform.h:553</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html">v8::base::Thread</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00538">platform.h:538</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a03b039733dcd3df63085e74c587df9b7"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a03b039733dcd3df63085e74c587df9b7">v8::base::Thread::Join</a></div><div class="ttdeci">void Join()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01311">platform-posix.cc:1311</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a2aa417033f76f771344890c3d9cf46a5"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5">v8::base::Thread::Priority</a></div><div class="ttdeci">Priority</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00551">platform.h:551</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a2aa417033f76f771344890c3d9cf46a5a495bb545d1c5053ead9743a8b7692209"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5a495bb545d1c5053ead9743a8b7692209">v8::base::Thread::Priority::kUserBlocking</a></div><div class="ttdeci">@ kUserBlocking</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a2aa417033f76f771344890c3d9cf46a5a6867faeaa475fda467e48267db2bb8a8"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a2aa417033f76f771344890c3d9cf46a5a6867faeaa475fda467e48267db2bb8a8">v8::base::Thread::Priority::kDefault</a></div><div class="ttdeci">@ kDefault</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a3ddcd0a37fd3751be4e1cac06bedc447"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a3ddcd0a37fd3751be4e1cac06bedc447">v8::base::Thread::Thread</a></div><div class="ttdeci">Thread(const Options &amp;options)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01189">platform-posix.cc:1189</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a4c2159b224419ce01ca653ffcd5e28c2"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a4c2159b224419ce01ca653ffcd5e28c2">v8::base::Thread::Start</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool Start()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01280">platform-posix.cc:1280</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeConstants_html_ad0495a90be57e1e77906fcaa98e9aece"><div class="ttname"><a href="classv8_1_1base_1_1TimeConstants.html#ad0495a90be57e1e77906fcaa98e9aece">v8::base::TimeConstants::kMillisecondsPerSecond</a></div><div class="ttdeci">static constexpr int64_t kMillisecondsPerSecond</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00045">time.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00070">time.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a33e9690c073397a6e9de97b5fc4d551c"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a33e9690c073397a6e9de97b5fc4d551c">v8::base::TimeDelta::FromMillisecondsD</a></div><div class="ttdeci">static constexpr TimeDelta FromMillisecondsD(double milliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00100">time.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a494cc64764a7ba009367e2e8b64496de"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a494cc64764a7ba009367e2e8b64496de">v8::base::TimeDelta::InMillisecondsF</a></div><div class="ttdeci">double InMillisecondsF() const</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00226">time.cc:226</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a></div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00392">time.h:393</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html_ab0886bf0e84f1e1fcdc101021c2c0775"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a></div><div class="ttdeci">static TimeTicks Now()</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00736">time.cc:736</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1BlockData_html"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1BlockData.html">v8::debug::Coverage::BlockData</a></div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8h_source.html#l00401">debug-interface.h:401</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1BlockData_html_a04848ad04c7dc88ef41d48cf0b476837"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1BlockData.html#a04848ad04c7dc88ef41d48cf0b476837">v8::debug::Coverage::BlockData::EndOffset</a></div><div class="ttdeci">int EndOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01332">debug-interface.cc:1332</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1BlockData_html_a6e6381666f4827f841b854a0d89b6fd4"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1BlockData.html#a6e6381666f4827f841b854a0d89b6fd4">v8::debug::Coverage::BlockData::Count</a></div><div class="ttdeci">uint32_t Count() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01334">debug-interface.cc:1334</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1BlockData_html_a9d6f72a8ba4333c4673132c4302b6b7f"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1BlockData.html#a9d6f72a8ba4333c4673132c4302b6b7f">v8::debug::Coverage::BlockData::StartOffset</a></div><div class="ttdeci">int StartOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01330">debug-interface.cc:1330</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html">v8::debug::Coverage::FunctionData</a></div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8h_source.html#l00420">debug-interface.h:420</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html_a05b5319ff11a68e516471e70e79b2fe4"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a05b5319ff11a68e516471e70e79b2fe4">v8::debug::Coverage::FunctionData::StartOffset</a></div><div class="ttdeci">int StartOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01336">debug-interface.cc:1336</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html_a595738f91e9ad43119c0006bc49991ae"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a595738f91e9ad43119c0006bc49991ae">v8::debug::Coverage::FunctionData::EndOffset</a></div><div class="ttdeci">int EndOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01338">debug-interface.cc:1338</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html_a71bc27aca9f1718ef51a7fadbd7bbfb2"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a71bc27aca9f1718ef51a7fadbd7bbfb2">v8::debug::Coverage::FunctionData::GetBlockData</a></div><div class="ttdeci">BlockData GetBlockData(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01354">debug-interface.cc:1354</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html_a9b89b7702be7fed16121dacb3854f13a"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#a9b89b7702be7fed16121dacb3854f13a">v8::debug::Coverage::FunctionData::Count</a></div><div class="ttdeci">uint32_t Count() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01340">debug-interface.cc:1340</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html_ac91a4808f3eb6a66ff73f6bfc29e80d6"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#ac91a4808f3eb6a66ff73f6bfc29e80d6">v8::debug::Coverage::FunctionData::Name</a></div><div class="ttdeci">MaybeLocal&lt; String &gt; Name() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01342">debug-interface.cc:1342</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1FunctionData_html_ae060caa514cdd6dcb8636ffbad3a41e2"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1FunctionData.html#ae060caa514cdd6dcb8636ffbad3a41e2">v8::debug::Coverage::FunctionData::BlockCount</a></div><div class="ttdeci">size_t BlockCount() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01346">debug-interface.cc:1346</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1ScriptData_html"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html">v8::debug::Coverage::ScriptData</a></div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8h_source.html#l00443">debug-interface.h:443</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1ScriptData_html_a023fca04e61f2a1c1acf9ba070f8bb95"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html#a023fca04e61f2a1c1acf9ba070f8bb95">v8::debug::Coverage::ScriptData::GetFunctionData</a></div><div class="ttdeci">FunctionData GetFunctionData(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01366">debug-interface.cc:1366</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1ScriptData_html_a27455cd991eddab1b21dde85584dff9a"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html#a27455cd991eddab1b21dde85584dff9a">v8::debug::Coverage::ScriptData::FunctionCount</a></div><div class="ttdeci">size_t FunctionCount() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01362">debug-interface.cc:1362</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_1_1ScriptData_html_ac1e353436ee4e3848d85b01f32bee95a"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage_1_1ScriptData.html#ac1e353436ee4e3848d85b01f32bee95a">v8::debug::Coverage::ScriptData::GetScript</a></div><div class="ttdeci">Local&lt; debug::Script &gt; GetScript() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01358">debug-interface.cc:1358</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_html"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage.html">v8::debug::Coverage</a></div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8h_source.html#l00393">debug-interface.h:393</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_html_a309757af878e0894236b19bfd7bde692"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage.html#a309757af878e0894236b19bfd7bde692">v8::debug::Coverage::SelectMode</a></div><div class="ttdeci">static void SelectMode(Isolate *isolate, CoverageMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01397">debug-interface.cc:1397</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_html_a71fd7b3c093daca7d88cd4b45ecd3ef2"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage.html#a71fd7b3c093daca7d88cd4b45ecd3ef2">v8::debug::Coverage::CollectPrecise</a></div><div class="ttdeci">static Coverage CollectPrecise(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01380">debug-interface.cc:1380</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_html_a8ebb72efeb6dc234008be9255ed5477b"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage.html#a8ebb72efeb6dc234008be9255ed5477b">v8::debug::Coverage::GetScriptData</a></div><div class="ttdeci">ScriptData GetScriptData(size_t i) const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01376">debug-interface.cc:1376</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Coverage_html_afc0356c43296a0df11da5ebf1cab8049"><div class="ttname"><a href="classv8_1_1debug_1_1Coverage.html#afc0356c43296a0df11da5ebf1cab8049">v8::debug::Coverage::ScriptCount</a></div><div class="ttdeci">size_t ScriptCount() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01374">debug-interface.cc:1374</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1DebugDelegate_html"><div class="ttname"><a href="classv8_1_1debug_1_1DebugDelegate.html">v8::debug::DebugDelegate</a></div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8h_source.html#l00301">debug-interface.h:301</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Location_html"><div class="ttname"><a href="classv8_1_1debug_1_1Location.html">v8::debug::Location</a></div><div class="ttdoc">Defines location inside script.</div><div class="ttdef"><b>Definition:</b> <a href="interface-types_8h_source.html#l00030">interface-types.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Location_html_a16f4db252e89fb7da0f2db19c1e698fe"><div class="ttname"><a href="classv8_1_1debug_1_1Location.html#a16f4db252e89fb7da0f2db19c1e698fe">v8::debug::Location::GetColumnNumber</a></div><div class="ttdeci">int GetColumnNumber() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l00976">debug-interface.cc:976</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1Location_html_a2925f26933a27f9e00a1d755abf0db09"><div class="ttname"><a href="classv8_1_1debug_1_1Location.html#a2925f26933a27f9e00a1d755abf0db09">v8::debug::Location::GetLineNumber</a></div><div class="ttdeci">int GetLineNumber() const</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l00971">debug-interface.cc:971</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BasicBlockProfiler_html_a9ac07f4d19501975a58df37f6c998813"><div class="ttname"><a href="classv8_1_1internal_1_1BasicBlockProfiler.html#a9ac07f4d19501975a58df37f6c998813">v8::internal::BasicBlockProfiler::Get</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE BasicBlockProfiler * Get()</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BasicBlockProfiler_html_ab65b430fe5e9c99ff298aff108eebff2"><div class="ttname"><a href="classv8_1_1internal_1_1BasicBlockProfiler.html#ab65b430fe5e9c99ff298aff108eebff2">v8::internal::BasicBlockProfiler::GetCoverageBitmap</a></div><div class="ttdeci">V8_EXPORT_PRIVATE std::vector&lt; bool &gt; GetCoverageBitmap(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="basic-block-profiler_8cc_source.html#l00206">basic-block-profiler.cc:206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BasicBlockProfiler_html_adb3adc0bf500c0df62cb1ea866833a73"><div class="ttname"><a href="classv8_1_1internal_1_1BasicBlockProfiler.html#adb3adc0bf500c0df62cb1ea866833a73">v8::internal::BasicBlockProfiler::ResetCounts</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void ResetCounts(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="basic-block-profiler_8cc_source.html#l00146">basic-block-profiler.cc:146</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CancelableTaskManager_html"><div class="ttname"><a href="classv8_1_1internal_1_1CancelableTaskManager.html">v8::internal::CancelableTaskManager</a></div><div class="ttdef"><b>Definition:</b> <a href="cancelable-task_8h_source.html#l00031">cancelable-task.h:31</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CancelableTask_html"><div class="ttname"><a href="classv8_1_1internal_1_1CancelableTask.html">v8::internal::CancelableTask</a></div><div class="ttdef"><b>Definition:</b> <a href="cancelable-task_8h_source.html#l00144">cancelable-task.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Context_html"><div class="ttname"><a href="classv8_1_1internal_1_1Context.html">v8::internal::Context</a></div><div class="ttdef"><b>Definition:</b> <a href="contexts_8h_source.html#l00479">contexts.h:479</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Deoptimizer_html_a6bb35276c37391b101bba2759894c2d0"><div class="ttname"><a href="classv8_1_1internal_1_1Deoptimizer.html#a6bb35276c37391b101bba2759894c2d0">v8::internal::Deoptimizer::DeoptimizeAll</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void DeoptimizeAll(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="deoptimizer_8cc_source.html#l00454">deoptimizer.cc:454</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EmbedderStackStateScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1EmbedderStackStateScope.html">v8::internal::EmbedderStackStateScope</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02764">heap.h:2764</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FlagList_html_a8e921e09e137b8e327b81e9450f53207"><div class="ttname"><a href="classv8_1_1internal_1_1FlagList.html#a8e921e09e137b8e327b81e9450f53207">v8::internal::FlagList::SetFlagsFromCommandLine</a></div><div class="ttdeci">static int SetFlagsFromCommandLine(int *argc, char **argv, bool remove_flags, FlagList::HelpOptions help_options=FlagList::HelpOptions())</div><div class="ttdef"><b>Definition:</b> <a href="flags_8cc_source.html#l00601">flags.cc:601</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FlagList_html_adc6e8ed22d7136dd039b4368ad0b2846"><div class="ttname"><a href="classv8_1_1internal_1_1FlagList.html#adc6e8ed22d7136dd039b4368ad0b2846">v8::internal::FlagList::ResolveContradictionsWhenFuzzing</a></div><div class="ttdeci">static void ResolveContradictionsWhenFuzzing()</div><div class="ttdef"><b>Definition:</b> <a href="flags_8cc_source.html#l01100">flags.cc:1100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00263">handles.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00150">handles.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00212">heap.h:212</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a3dbe0c298eb537ec10028ff2054f7cbd"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a3dbe0c298eb537ec10028ff2054f7cbd">v8::internal::Heap::CollectAllAvailableGarbage</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void CollectAllAvailableGarbage(GarbageCollectionReason gc_reason)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l01351">heap.cc:1351</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a05a2b08b2b0f2d5aef8dc053e2ea3d9b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">v8::internal::Isolate::Current</a></div><div class="ttdeci">static Isolate * Current()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00035">isolate-inl.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a24109659c4260d0c6f281510b6091015"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">v8::internal::Isolate::is_shared_space_isolate</a></div><div class="ttdeci">bool is_shared_space_isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02332">isolate.h:2332</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a5f9a69909314d298c2fd816d1310ec38"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a5f9a69909314d298c2fd816d1310ec38">v8::internal::Isolate::is_execution_terminating</a></div><div class="ttdeci">bool is_execution_terminating()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00131">isolate-inl.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a6c0aa7adb516c0df9e03e9b7cee59729"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a6c0aa7adb516c0df9e03e9b7cee59729">v8::internal::Isolate::optimizing_compile_dispatcher</a></div><div class="ttdeci">OptimizingCompileDispatcher * optimizing_compile_dispatcher()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01755">isolate.h:1755</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7d651964318bc41040dda0bc730388e5"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7d651964318bc41040dda0bc730388e5">v8::internal::Isolate::main_thread_local_isolate</a></div><div class="ttdeci">LocalIsolate * main_thread_local_isolate()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02223">isolate.h:2223</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a882f723633515de4bfb4ce6e620c7971"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a882f723633515de4bfb4ce6e620c7971">v8::internal::Isolate::console_delegate</a></div><div class="ttdeci">debug::ConsoleDelegate * console_delegate()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01060">isolate.h:1060</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aa545c48eb0657135e0ae543d655f493c"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aa545c48eb0657135e0ae543d655f493c">v8::internal::Isolate::TerminateExecution</a></div><div class="ttdeci">Tagged&lt; Object &gt; TerminateExecution()</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l01959">isolate.cc:1959</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac6110f3a8b82649eba191bd6f21804cd"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac6110f3a8b82649eba191bd6f21804cd">v8::internal::Isolate::get_capture_stack_trace_for_uncaught_exceptions</a></div><div class="ttdeci">bool get_capture_stack_trace_for_uncaught_exceptions() const</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l03689">isolate.cc:3689</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac6b31523bed359ea1302f5ee9d6fe1ab"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac6b31523bed359ea1302f5ee9d6fe1ab">v8::internal::Isolate::v8_file_logger</a></div><div class="ttdeci">V8FileLogger * v8_file_logger() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01207">isolate.h:1207</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac78415b3291d2f8842ab1448b20a43f2"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac78415b3291d2f8842ab1448b20a43f2">v8::internal::Isolate::thread_manager</a></div><div class="ttdeci">ThreadManager * thread_manager() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01437">isolate.h:1437</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ad2b367fff0549b42f75e6390d1729d68"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ad2b367fff0549b42f75e6390d1729d68">v8::internal::Isolate::concurrent_recompilation_enabled</a></div><div class="ttdeci">bool concurrent_recompilation_enabled()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01745">isolate.h:1745</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ad3901de072f06f3039b055f236dd4db9"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ad3901de072f06f3039b055f236dd4db9">v8::internal::Isolate::main_thread_local_heap</a></div><div class="ttdeci">LocalHeap * main_thread_local_heap()</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l07604">isolate.cc:7604</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ae3b1ed161b9a3645b85332a2737ddae4"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ae3b1ed161b9a3645b85332a2737ddae4">v8::internal::Isolate::StackOverflow</a></div><div class="ttdeci">Tagged&lt; Object &gt; StackOverflow()</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l01871">isolate.cc:1871</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSArray_html_af2654f0d32f5e5d3aa74a174f590a9ce"><div class="ttname"><a href="classv8_1_1internal_1_1JSArray.html#af2654f0d32f5e5d3aa74a174f590a9ce">v8::internal::JSArray::kMaxFastArrayLength</a></div><div class="ttdeci">static constexpr uint32_t kMaxFastArrayLength</div><div class="ttdef"><b>Definition:</b> <a href="js-array_8h_source.html#l00140">js-array.h:140</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LocalHeap_html_aa365e67e52ec061178f13527177d9c82"><div class="ttname"><a href="classv8_1_1internal_1_1LocalHeap.html#aa365e67e52ec061178f13527177d9c82">v8::internal::LocalHeap::ExecuteMainThreadWhileParked</a></div><div class="ttdeci">void ExecuteMainThreadWhileParked(Callback callback)</div><div class="ttdef"><b>Definition:</b> <a href="local-heap-inl_8h_source.html#l00092">local-heap-inl.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LocalIsolate_html_a4e8b9316baf370fa64cdb548f3d58f6b"><div class="ttname"><a href="classv8_1_1internal_1_1LocalIsolate.html#a4e8b9316baf370fa64cdb548f3d58f6b">v8::internal::LocalIsolate::ExecuteMainThreadWhileParked</a></div><div class="ttdeci">void ExecuteMainThreadWhileParked(Callback callback)</div><div class="ttdef"><b>Definition:</b> <a href="local-isolate-inl_8h_source.html#l00043">local-isolate-inl.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LogFile_html_a596622a2735e86b53baf7ea616a18c16"><div class="ttname"><a href="classv8_1_1internal_1_1LogFile.html#a596622a2735e86b53baf7ea616a18c16">v8::internal::LogFile::IsLoggingToTemporaryFile</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool IsLoggingToTemporaryFile(std::string file_name)</div><div class="ttdef"><b>Definition:</b> <a href="log-file_8cc_source.html#l00051">log-file.cc:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html_a1c10cb948281b864db32d8af25a7b7d9"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">v8::internal::Managed::From</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="managed-inl_8h_source.html#l00027">managed-inl.h:27</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OptimizingCompileDispatcher_html_a1e5bcbd2494d1e023d50bc8abe21625d"><div class="ttname"><a href="classv8_1_1internal_1_1OptimizingCompileDispatcher.html#a1e5bcbd2494d1e023d50bc8abe21625d">v8::internal::OptimizingCompileDispatcher::StartTearDown</a></div><div class="ttdeci">void StartTearDown()</div><div class="ttdef"><b>Definition:</b> <a href="optimizing-compile-dispatcher_8cc_source.html#l00314">optimizing-compile-dispatcher.cc:314</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OptimizingCompileDispatcher_html_a4caa94d78c9ea412b01309290b7df7ae"><div class="ttname"><a href="classv8_1_1internal_1_1OptimizingCompileDispatcher.html#a4caa94d78c9ea412b01309290b7df7ae">v8::internal::OptimizingCompileDispatcher::FinishTearDown</a></div><div class="ttdeci">void FinishTearDown()</div><div class="ttdef"><b>Definition:</b> <a href="optimizing-compile-dispatcher_8cc_source.html#l00276">optimizing-compile-dispatcher.cc:276</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParkedMutexGuard_html"><div class="ttname"><a href="classv8_1_1internal_1_1ParkedMutexGuard.html">v8::internal::ParkedMutexGuard</a></div><div class="ttdef"><b>Definition:</b> <a href="parked-scope_8h_source.html#l00074">parked-scope.h:74</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParkedScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1ParkedScope.html">v8::internal::ParkedScope</a></div><div class="ttdef"><b>Definition:</b> <a href="parked-scope_8h_source.html#l00022">parked-scope.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParkingSemaphore_html_a60aa48d0855b56e4ac570608e9031d8d"><div class="ttname"><a href="classv8_1_1internal_1_1ParkingSemaphore.html#a60aa48d0855b56e4ac570608e9031d8d">v8::internal::ParkingSemaphore::ParkedWait</a></div><div class="ttdeci">void ParkedWait(LocalIsolate *local_isolate)</div><div class="ttdef"><b>Definition:</b> <a href="parked-scope-inl_8h_source.html#l00090">parked-scope-inl.h:90</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParseInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1ParseInfo.html">v8::internal::ParseInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8h_source.html#l00227">parse-info.h:227</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParseInfo_html_a822b903695e435c2b91c8bffa3deabec"><div class="ttname"><a href="classv8_1_1internal_1_1ParseInfo.html#a822b903695e435c2b91c8bffa3deabec">v8::internal::ParseInfo::ast_value_factory</a></div><div class="ttdeci">AstValueFactory * ast_value_factory() const</div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8h_source.html#l00310">parse-info.h:310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParseInfo_html_a9959c55a017a3648ba8a31707b6089fe"><div class="ttname"><a href="classv8_1_1internal_1_1ParseInfo.html#a9959c55a017a3648ba8a31707b6089fe">v8::internal::ParseInfo::pending_error_handler</a></div><div class="ttdeci">PendingCompilationErrorHandler * pending_error_handler()</div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8h_source.html#l00268">parse-info.h:268</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParseInfo_html_ae79a5c2d379de4a7f458c88fca31fd4f"><div class="ttname"><a href="classv8_1_1internal_1_1ParseInfo.html#ae79a5c2d379de4a7f458c88fca31fd4f">v8::internal::ParseInfo::CreateScript</a></div><div class="ttdeci">Handle&lt; Script &gt; CreateScript(IsolateT *isolate, DirectHandle&lt; String &gt; source, MaybeDirectHandle&lt; FixedArray &gt; maybe_wrapped_arguments, ScriptOriginOptions origin_options, NativesFlag natives=NOT_NATIVES_CODE)</div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8cc_source.html#l00239">parse-info.cc:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PendingCompilationErrorHandler_html_a466e18ae8ae91652b5a28ae1938d0cf8"><div class="ttname"><a href="classv8_1_1internal_1_1PendingCompilationErrorHandler.html#a466e18ae8ae91652b5a28ae1938d0cf8">v8::internal::PendingCompilationErrorHandler::ReportErrors</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void ReportErrors(Isolate *isolate, Handle&lt; Script &gt; script) const</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PendingCompilationErrorHandler_html_af3479c9e7d9874bece9838ca1a63d5ed"><div class="ttname"><a href="classv8_1_1internal_1_1PendingCompilationErrorHandler.html#af3479c9e7d9874bece9838ca1a63d5ed">v8::internal::PendingCompilationErrorHandler::PrepareErrors</a></div><div class="ttdeci">void PrepareErrors(IsolateT *isolate, AstValueFactory *ast_value_factory)</div><div class="ttdef"><b>Definition:</b> <a href="pending-compilation-error-handler_8cc_source.html#l00160">pending-compilation-error-handler.cc:160</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ProfileNode_html"><div class="ttname"><a href="classv8_1_1internal_1_1ProfileNode.html">v8::internal::ProfileNode</a></div><div class="ttdef"><b>Definition:</b> <a href="profile-generator_8h_source.html#l00300">profile-generator.h:300</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ProfileNode_html_a248ab739281297b37074ed351083667d"><div class="ttname"><a href="classv8_1_1internal_1_1ProfileNode.html#a248ab739281297b37074ed351083667d">v8::internal::ProfileNode::Print</a></div><div class="ttdeci">void Print(int indent) const</div><div class="ttdef"><b>Definition:</b> <a href="profile-generator_8cc_source.html#l00426">profile-generator.cc:426</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReusableUnoptimizedCompileState_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReusableUnoptimizedCompileState.html">v8::internal::ReusableUnoptimizedCompileState</a></div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8h_source.html#l00182">parse-info.h:182</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SaveAndSwitchContext_html"><div class="ttname"><a href="classv8_1_1internal_1_1SaveAndSwitchContext.html">v8::internal::SaveAndSwitchContext</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l03018">isolate.h:3018</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Snapshot_html_a2477cce681f8872b03ea2d763a6df165"><div class="ttname"><a href="classv8_1_1internal_1_1Snapshot.html#a2477cce681f8872b03ea2d763a6df165">v8::internal::Snapshot::ClearReconstructableDataForSerialization</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void ClearReconstructableDataForSerialization(Isolate *isolate, bool clear_recompilable_data)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot_8cc_source.html#l00221">snapshot.cc:221</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Snapshot_html_a28b4f9df415675bda833d449e659206b"><div class="ttname"><a href="classv8_1_1internal_1_1Snapshot.html#a28b4f9df415675bda833d449e659206b">v8::internal::Snapshot::SerializeDeserializeAndVerifyForTesting</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void SerializeDeserializeAndVerifyForTesting(Isolate *isolate, DirectHandle&lt; Context &gt; default_context)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot_8cc_source.html#l00340">snapshot.cc:340</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackLimitCheck_html"><div class="ttname"><a href="classv8_1_1internal_1_1StackLimitCheck.html">v8::internal::StackLimitCheck</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l03073">isolate.h:3073</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a33a79c203e5bad51a55406ad58e412e0"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a33a79c203e5bad51a55406ad58e412e0">v8::internal::String::IsAscii</a></div><div class="ttdeci">static bool IsAscii(const char *chars, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00592">string.h:592</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadManager_html_aa010051a059cfda7e45228fc28a3ff52"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadManager.html#aa010051a059cfda7e45228fc28a3ff52">v8::internal::ThreadManager::IsLockedByCurrentThread</a></div><div class="ttdeci">bool IsLockedByCurrentThread() const</div><div class="ttdef"><b>Definition:</b> <a href="v8threads_8h_source.html#l00073">v8threads.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadManager_html_ab7d0f390011373f4b036548923add1bf"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadManager.html#ab7d0f390011373f4b036548923add1bf">v8::internal::ThreadManager::Unlock</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Unlock()</div><div class="ttdef"><b>Definition:</b> <a href="v8threads_8cc_source.html#l00155">v8threads.cc:155</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnoptimizedCompileFlags_html"><div class="ttname"><a href="classv8_1_1internal_1_1UnoptimizedCompileFlags.html">v8::internal::UnoptimizedCompileFlags</a></div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8h_source.html#l00070">parse-info.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnoptimizedCompileFlags_html_a18a4df48b132392c60207a95e015f7c1"><div class="ttname"><a href="classv8_1_1internal_1_1UnoptimizedCompileFlags.html#a18a4df48b132392c60207a95e015f7c1">v8::internal::UnoptimizedCompileFlags::ForToplevelCompile</a></div><div class="ttdeci">static UnoptimizedCompileFlags ForToplevelCompile(Isolate *isolate, bool is_user_javascript, LanguageMode language_mode, REPLMode repl_mode, ScriptType type, bool lazy)</div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8cc_source.html#l00088">parse-info.cc:88</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UnoptimizedCompileState_html"><div class="ttname"><a href="classv8_1_1internal_1_1UnoptimizedCompileState.html">v8::internal::UnoptimizedCompileState</a></div><div class="ttdef"><b>Definition:</b> <a href="parse-info_8h_source.html#l00163">parse-info.h:163</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8FileLogger_html_a0025eacbe114c3134bf7256b89100b46"><div class="ttname"><a href="classv8_1_1internal_1_1V8FileLogger.html#a0025eacbe114c3134bf7256b89100b46">v8::internal::V8FileLogger::file_name</a></div><div class="ttdeci">V8_EXPORT_PRIVATE std::string file_name() const</div><div class="ttdef"><b>Definition:</b> <a href="log_8cc_source.html#l02445">log.cc:2445</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8FileLogger_html_a1870a329d548ee1be50411ce64ea4799"><div class="ttname"><a href="classv8_1_1internal_1_1V8FileLogger.html#a1870a329d548ee1be50411ce64ea4799">v8::internal::V8FileLogger::is_logging</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool is_logging()</div><div class="ttdef"><b>Definition:</b> <a href="log_8cc_source.html#l01332">log.cc:1332</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8FileLogger_html_a57d2e2df680d1ffaa2fdd64b02dd1865"><div class="ttname"><a href="classv8_1_1internal_1_1V8FileLogger.html#a57d2e2df680d1ffaa2fdd64b02dd1865">v8::internal::V8FileLogger::TearDownAndGetLogFile</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FILE * TearDownAndGetLogFile()</div><div class="ttdef"><b>Definition:</b> <a href="log_8cc_source.html#l02456">log.cc:2456</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VMState_html"><div class="ttname"><a href="classv8_1_1internal_1_1VMState.html">v8::internal::VMState</a></div><div class="ttdef"><b>Definition:</b> <a href="vm-state_8h_source.html#l00021">vm-state.h:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ValueHelper_html_a6b4b21d2530a18511ebb84d5c40cdd41"><div class="ttname"><a href="classv8_1_1internal_1_1ValueHelper.html#a6b4b21d2530a18511ebb84d5c40cdd41">v8::internal::ValueHelper::HandleAsValue</a></div><div class="ttdeci">static T * HandleAsValue(const H&lt; T, Ms... &gt; &amp;handle)</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l01690">v8-internal.h:1690</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceBuffer_html"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html">v8::platform::tracing::TraceBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-tracing_8h_source.html#l00158">v8-tracing.h:158</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceBuffer_html_a470a0bf66ee97337ac700de9e39c8942"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html#a470a0bf66ee97337ac700de9e39c8942">v8::platform::tracing::TraceBuffer::CreateTraceBufferRingBuffer</a></div><div class="ttdeci">static TraceBuffer * CreateTraceBufferRingBuffer(size_t max_chunks, TraceWriter *trace_writer)</div><div class="ttdef"><b>Definition:</b> <a href="trace-buffer_8cc_source.html#l00100">trace-buffer.cc:100</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceBuffer_html_a4957aae5f855daac2d581de0734f0d49"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceBuffer.html#a4957aae5f855daac2d581de0734f0d49">v8::platform::tracing::TraceBuffer::kRingBufferChunks</a></div><div class="ttdeci">static const size_t kRingBufferChunks</div><div class="ttdef"><b>Definition:</b> <a href="v8-tracing_8h_source.html#l00167">v8-tracing.h:167</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceConfig_html"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html">v8::platform::tracing::TraceConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-tracing_8h_source.html#l00194">v8-tracing.h:194</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceConfig_html_a5d5941e02cdfd629b71b043a684bd776"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html#a5d5941e02cdfd629b71b043a684bd776">v8::platform::tracing::TraceConfig::AddIncludedCategory</a></div><div class="ttdeci">void AddIncludedCategory(const char *included_category)</div><div class="ttdef"><b>Definition:</b> <a href="trace-config_8cc_source.html#l00035">trace-config.cc:35</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceConfig_html_a66b99c8db80e4834a682ccc95b139b2c"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceConfig.html#a66b99c8db80e4834a682ccc95b139b2c">v8::platform::tracing::TraceConfig::CreateDefaultTraceConfig</a></div><div class="ttdeci">static TraceConfig * CreateDefaultTraceConfig()</div><div class="ttdef"><b>Definition:</b> <a href="trace-config_8cc_source.html#l00017">trace-config.cc:17</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceWriter_html"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceWriter.html">v8::platform::tracing::TraceWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-tracing_8h_source.html#l00115">v8-tracing.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TraceWriter_html_aa311d849efeb96b7a2d6c00e6525535e"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TraceWriter.html#aa311d849efeb96b7a2d6c00e6525535e">v8::platform::tracing::TraceWriter::CreateJSONTraceWriter</a></div><div class="ttdeci">static TraceWriter * CreateJSONTraceWriter(std::ostream &amp;stream)</div><div class="ttdef"><b>Definition:</b> <a href="trace-writer_8cc_source.html#l00188">trace-writer.cc:188</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TracingController_html"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TracingController.html">v8::platform::tracing::TracingController</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-tracing_8h_source.html#l00234">v8-tracing.h:235</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TracingController_html_a3362b081a3ba0eeff68655402d604e8f"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TracingController.html#a3362b081a3ba0eeff68655402d604e8f">v8::platform::tracing::TracingController::StartTracing</a></div><div class="ttdeci">void StartTracing(TraceConfig *trace_config)</div><div class="ttdef"><b>Definition:</b> <a href="tracing-controller_8cc_source.html#l00181">tracing-controller.cc:181</a></div></div>
<div class="ttc" id="aclassv8_1_1platform_1_1tracing_1_1TracingController_html_a7d617c726ecbd7a80bff714911957168"><div class="ttname"><a href="classv8_1_1platform_1_1tracing_1_1TracingController.html#a7d617c726ecbd7a80bff714911957168">v8::platform::tracing::TracingController::StopTracing</a></div><div class="ttdeci">void StopTracing()</div><div class="ttdef"><b>Definition:</b> <a href="tracing-controller_8cc_source.html#l00223">tracing-controller.cc:223</a></div></div>
<div class="ttc" id="aclassv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser_html"><div class="ttname"><a href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html">v8::tracing::anonymous_namespace{d8.cc}::TraceConfigParser</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00456">d8.cc:456</a></div></div>
<div class="ttc" id="aclassv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser_html_a4f30dbac15a6999979a56b51cb3edb39"><div class="ttname"><a href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html#a4f30dbac15a6999979a56b51cb3edb39">v8::tracing::anonymous_namespace{d8.cc}::TraceConfigParser::UpdateIncludedCategoriesList</a></div><div class="ttdeci">static int UpdateIncludedCategoriesList(v8::Isolate *isolate, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; object, platform::tracing::TraceConfig *trace_config)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00483">d8.cc:483</a></div></div>
<div class="ttc" id="aclassv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser_html_a51c8b545f613deda5a64c13212578c2e"><div class="ttname"><a href="classv8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_1_1TraceConfigParser.html#a51c8b545f613deda5a64c13212578c2e">v8::tracing::anonymous_namespace{d8.cc}::TraceConfigParser::FillTraceConfig</a></div><div class="ttdeci">static void FillTraceConfig(v8::Isolate *isolate, platform::tracing::TraceConfig *trace_config, const char *json_str)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00458">d8.cc:458</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1StringView_html"><div class="ttname"><a href="classv8__inspector_1_1StringView.html">v8_inspector::StringView</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00050">v8-inspector.h:50</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8ContextInfo_html"><div class="ttname"><a href="classv8__inspector_1_1V8ContextInfo.html">v8_inspector::V8ContextInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00085">v8-inspector.h:85</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8InspectorClient_html"><div class="ttname"><a href="classv8__inspector_1_1V8InspectorClient.html">v8_inspector::V8InspectorClient</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00251">v8-inspector.h:251</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8InspectorSession_html"><div class="ttname"><a href="classv8__inspector_1_1V8InspectorSession.html">v8_inspector::V8InspectorSession</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00166">v8-inspector.h:166</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8InspectorSession_html_aae2fc063675a465bbb4bb6a79c6b215b"><div class="ttname"><a href="classv8__inspector_1_1V8InspectorSession.html#aae2fc063675a465bbb4bb6a79c6b215b">v8_inspector::V8InspectorSession::dispatchProtocolMessage</a></div><div class="ttdeci">virtual void dispatchProtocolMessage(StringView message)=0</div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8Inspector_1_1Channel_html"><div class="ttname"><a href="classv8__inspector_1_1V8Inspector_1_1Channel.html">v8_inspector::V8Inspector::Channel</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00400">v8-inspector.h:400</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8Inspector_html_a9a2e03efe985976a6885b1d152091cdb"><div class="ttname"><a href="classv8__inspector_1_1V8Inspector.html#a9a2e03efe985976a6885b1d152091cdb">v8_inspector::V8Inspector::create</a></div><div class="ttdeci">static std::unique_ptr&lt; V8Inspector &gt; create(v8::Isolate *, V8InspectorClient *)</div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector-impl_8cc_source.html#l00058">v8-inspector-impl.cc:58</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8Inspector_html_ab65275d3ab8d2fccd7a0316d9fb42faba20176ca40cd5c9f31309599509086a48"><div class="ttname"><a href="classv8__inspector_1_1V8Inspector.html#ab65275d3ab8d2fccd7a0316d9fb42faba20176ca40cd5c9f31309599509086a48">v8_inspector::V8Inspector::kNotWaitingForDebugger</a></div><div class="ttdeci">@ kNotWaitingForDebugger</div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00409">v8-inspector.h:409</a></div></div>
<div class="ttc" id="aclassv8__inspector_1_1V8Inspector_html_ac773f495eceb33da26a30ded4f6fc7aea2888d7d14661caafc24d4d61e4d41d05"><div class="ttname"><a href="classv8__inspector_1_1V8Inspector.html#ac773f495eceb33da26a30ded4f6fc7aea2888d7d14661caafc24d4d61e4d41d05">v8_inspector::V8Inspector::kFullyTrusted</a></div><div class="ttdeci">@ kFullyTrusted</div><div class="ttdef"><b>Definition:</b> <a href="v8-inspector_8h_source.html#l00408">v8-inspector.h:408</a></div></div>
<div class="ttc" id="acounters_8h_html"><div class="ttname"><a href="counters_8h.html">counters.h</a></div></div>
<div class="ttc" id="acov_8cc_html_a2b1c73a9a6d945a63686fa089d885e18"><div class="ttname"><a href="cov_8cc.html#a2b1c73a9a6d945a63686fa089d885e18">sanitizer_cov_reset_edgeguards</a></div><div class="ttdeci">void sanitizer_cov_reset_edgeguards()</div><div class="ttdef"><b>Definition:</b> <a href="cov_8cc_source.html#l00033">cov.cc:33</a></div></div>
<div class="ttc" id="acov_8cc_html_a32f32858f0a21c5ab824acc870c00846"><div class="ttname"><a href="cov_8cc.html#a32f32858f0a21c5ab824acc870c00846">sanitizer_cov_count_discovered_edges</a></div><div class="ttdeci">uint32_t sanitizer_cov_count_discovered_edges()</div><div class="ttdef"><b>Definition:</b> <a href="cov_8cc_source.html#l00088">cov.cc:88</a></div></div>
<div class="ttc" id="acov_8cc_html_a3be14f6f0ac6fcb3de6cd2709c0f737a"><div class="ttname"><a href="cov_8cc.html#a3be14f6f0ac6fcb3de6cd2709c0f737a">cov_update_builtins_basic_block_coverage</a></div><div class="ttdeci">void cov_update_builtins_basic_block_coverage(const std::vector&lt; bool &gt; &amp;cov_map)</div><div class="ttdef"><b>Definition:</b> <a href="cov_8cc_source.html#l00129">cov.cc:129</a></div></div>
<div class="ttc" id="acov_8cc_html_a7470bba54fd80c33553f62e135a5f32e"><div class="ttname"><a href="cov_8cc.html#a7470bba54fd80c33553f62e135a5f32e">cov_init_builtins_edges</a></div><div class="ttdeci">void cov_init_builtins_edges(uint32_t num_edges)</div><div class="ttdef"><b>Definition:</b> <a href="cov_8cc_source.html#l00112">cov.cc:112</a></div></div>
<div class="ttc" id="acov_8h_html"><div class="ttname"><a href="cov_8h.html">cov.h</a></div></div>
<div class="ttc" id="acpu_8h_html"><div class="ttname"><a href="cpu_8h.html">cpu.h</a></div></div>
<div class="ttc" id="ad8-console_8h_html"><div class="ttname"><a href="d8-console_8h.html">d8-console.h</a></div></div>
<div class="ttc" id="ad8-platforms_8h_html"><div class="ttname"><a href="d8-platforms_8h.html">d8-platforms.h</a></div></div>
<div class="ttc" id="ad8_8cc_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="d8_8cc.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l07077">d8.cc:7077</a></div></div>
<div class="ttc" id="ad8_8cc_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="d8_8cc.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00128">d8.cc:128</a></div></div>
<div class="ttc" id="ad8_8cc_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="d8_8cc.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00124">d8.cc:124</a></div></div>
<div class="ttc" id="ad8_8h_html"><div class="ttname"><a href="d8_8h.html">d8.h</a></div></div>
<div class="ttc" id="adebug-interface_8h_html"><div class="ttname"><a href="debug-interface_8h.html">debug-interface.h</a></div></div>
<div class="ttc" id="adeoptimizer_8h_html"><div class="ttname"><a href="deoptimizer_8h.html">deoptimizer.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3a9beadc89284d3f78a7d4945b1b4d8c"><div class="ttname"><a href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00238">flag-definitions.h:238</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3ced3697c19e78b3fb4994a89f46945e"><div class="ttname"><a href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02171">flag-definitions.h:2171</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a583245cb1ce76ddbc0cf3db5354b33c1"><div class="ttname"><a href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this file(requires that V8 was built with v8_enable_builtins_profiling=true)&quot;) DEFINE_BOOL(reorder_builtins</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a67f6e75911a1c9e16076ff4db599e681"><div class="ttname"><a href="flag-definitions_8h.html#a67f6e75911a1c9e16076ff4db599e681">MB</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage * MB</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02282">flag-definitions.h:2282</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a761e4e5929b1553283fd6a532822bb17"><div class="ttname"><a href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a></div><div class="ttdeci">other heap size max size of the shared heap(in Mbytes)</div></div>
<div class="ttc" id="aflag-definitions_8h_html_aca14fbede0905858c819226fce3678cc"><div class="ttname"><a href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></div><div class="ttdeci">refactor address components for immediate indexing make OptimizeMaglevOnNextCall optimize to turbofan instead of maglev filter for tracing turbofan compilation nullptr</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l01280">flag-definitions.h:1280</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_af0832cf93cb1767d6e6e287bb7dcdf72"><div class="ttname"><a href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a></div><div class="ttdeci">other heap size flags(e.g. initial_heap_size) take precedence&quot;) DEFINE_SIZE_T( max_shared_heap_size</div></div>
<div class="ttc" id="aflags_2flags_8h_html"><div class="ttname"><a href="flags_2flags_8h.html">flags.h</a></div></div>
<div class="ttc" id="afpu_8h_html"><div class="ttname"><a href="fpu_8h.html">fpu.h</a></div></div>
<div class="ttc" id="afuzzilli_8h_html"><div class="ttname"><a href="fuzzilli_8h.html">fuzzilli.h</a></div></div>
<div class="ttc" id="afuzzilli_8h_html_a18fe3a82799bada1390dec88591d6220"><div class="ttname"><a href="fuzzilli_8h.html#a18fe3a82799bada1390dec88591d6220">REPRL_DRFD</a></div><div class="ttdeci">#define REPRL_DRFD</div><div class="ttdef"><b>Definition:</b> <a href="fuzzilli_8h_source.html#l00017">fuzzilli.h:17</a></div></div>
<div class="ttc" id="afuzzilli_8h_html_a26512f0233951a1a55e9a11fdc389ef8"><div class="ttname"><a href="fuzzilli_8h.html#a26512f0233951a1a55e9a11fdc389ef8">REPRL_CWFD</a></div><div class="ttdeci">#define REPRL_CWFD</div><div class="ttdef"><b>Definition:</b> <a href="fuzzilli_8h_source.html#l00016">fuzzilli.h:16</a></div></div>
<div class="ttc" id="afuzzilli_8h_html_a7ac5624a7e0bd19d90e48cfd28092e7f"><div class="ttname"><a href="fuzzilli_8h.html#a7ac5624a7e0bd19d90e48cfd28092e7f">REPRL_CRFD</a></div><div class="ttdeci">#define REPRL_CRFD</div><div class="ttdef"><b>Definition:</b> <a href="fuzzilli_8h_source.html#l00015">fuzzilli.h:15</a></div></div>
<div class="ttc" id="ainterpreter_8h_html"><div class="ttname"><a href="interpreter_8h.html">interpreter.h</a></div></div>
<div class="ttc" id="ajs-array_8h_html"><div class="ttname"><a href="js-array_8h.html">js-array.h</a></div></div>
<div class="ttc" id="alibplatform_8h_html"><div class="ttname"><a href="libplatform_8h.html">libplatform.h</a></div></div>
<div class="ttc" id="alog-file_8h_html"><div class="ttname"><a href="log-file_8h.html">log-file.h</a></div></div>
<div class="ttc" id="amaglev-concurrent-dispatcher_8h_html"><div class="ttname"><a href="maglev-concurrent-dispatcher_8h.html">maglev-concurrent-dispatcher.h</a></div></div>
<div class="ttc" id="amanaged-inl_8h_html"><div class="ttname"><a href="managed-inl_8h.html">managed-inl.h</a></div></div>
<div class="ttc" id="amaybe-handles_8h_html"><div class="ttname"><a href="maybe-handles_8h.html">maybe-handles.h</a></div></div>
<div class="ttc" id="amicrotask-queue_8h_html"><div class="ttname"><a href="microtask-queue_8h.html">microtask-queue.h</a></div></div>
<div class="ttc" id="amsan_8h_html"><div class="ttname"><a href="msan_8h.html">msan.h</a></div></div>
<div class="ttc" id="anamespaceanonymous__namespace_02mksnapshot_8cc_03_html_ac81897c4b659edda33911e6bd62829e9"><div class="ttname"><a href="namespaceanonymous__namespace_02mksnapshot_8cc_03.html#ac81897c4b659edda33911e6bd62829e9">anonymous_namespace{mksnapshot.cc}::counter_map_</a></div><div class="ttdeci">CounterMap * counter_map_</div><div class="ttdef"><b>Definition:</b> <a href="mksnapshot_8cc_source.html#l00200">mksnapshot.cc:200</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a53ef3643e679385c014b494e7e349221"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a53ef3643e679385c014b494e7e349221">cppgc::internal::Fatal</a></div><div class="ttdeci">void Fatal(const std::string &amp;reason, const SourceLocation &amp;loc)</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2platform_8cc_source.html#l00047">platform.cc:47</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a0740b62000998e74c8aca44c60684bc4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a0740b62000998e74c8aca44c60684bc4">v8::anonymous_namespace{d8.cc}::kHostDefinedOptionsMagicConstant</a></div><div class="ttdeci">const uint32_t kHostDefinedOptionsMagicConstant</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00720">d8.cc:720</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a16f771694c3c59eab52f981df02b3c5b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5b">v8::anonymous_namespace{d8.cc}::ModuleResolutionDataIndex</a></div><div class="ttdeci">ModuleResolutionDataIndex</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01477">d8.cc:1477</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba1a1cd6c1927a9d1c45d41f309cb202e8">v8::anonymous_namespace{d8.cc}::kResolver</a></div><div class="ttdeci">@ kResolver</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01478">d8.cc:1478</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a16f771694c3c59eab52f981df02b3c5ba5b02a2dfbe70469f3c909951b4f04cef"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a16f771694c3c59eab52f981df02b3c5ba5b02a2dfbe70469f3c909951b4f04cef">v8::anonymous_namespace{d8.cc}::kNamespaceOrSource</a></div><div class="ttdeci">@ kNamespaceOrSource</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01479">d8.cc:1479</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a19596e9a1f55f804ad2d17ed888e808a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a19596e9a1f55f804ad2d17ed888e808a">v8::anonymous_namespace{d8.cc}::GetValue</a></div><div class="ttdeci">static Local&lt; Value &gt; GetValue(v8::Isolate *isolate, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; object, const char *property)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00417">d8.cc:417</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a2073bd84698838d6e4e06e09979bd9db"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2073bd84698838d6e4e06e09979bd9db">v8::anonymous_namespace{d8.cc}::kHostDefinedOptionsLength</a></div><div class="ttdeci">const int kHostDefinedOptionsLength</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00719">d8.cc:719</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a2c9192bc65366483ccea1a35d96bf587"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a2c9192bc65366483ccea1a35d96bf587">v8::anonymous_namespace{d8.cc}::GetWorkerFromInternalField</a></div><div class="ttdeci">std::shared_ptr&lt; Worker &gt; GetWorkerFromInternalField(Isolate *isolate, Local&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00422">d8.cc:422</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a39342a54170fcd6868925770d053776c"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a39342a54170fcd6868925770d053776c">v8::anonymous_namespace{d8.cc}::Compile</a></div><div class="ttdeci">MaybeLocal&lt; Script &gt; Compile(Local&lt; Context &gt; context, ScriptCompiler::Source *source, ScriptCompiler::CompileOptions options)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00672">d8.cc:672</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a3c4e52e274e903c3f00dc579926c96ec"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a3c4e52e274e903c3f00dc579926c96ec">v8::anonymous_namespace{d8.cc}::current_worker_</a></div><div class="ttdeci">thread_local Worker * current_worker_</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00136">d8.cc:136</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a40e158cc946b88173b76309bb0abffeb"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a40e158cc946b88173b76309bb0abffeb">v8::anonymous_namespace{d8.cc}::FlagWithArgMatches</a></div><div class="ttdeci">bool FlagWithArgMatches(const char(&amp;flag)[N], char **flag_value, int argc, char *argv[], int *i)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05806">d8.cc:5806</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a4258cd35a0f9016ee808b0f138c787a4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4258cd35a0f9016ee808b0f138c787a4">v8::anonymous_namespace{d8.cc}::CreateScriptOrigin</a></div><div class="ttdeci">ScriptOrigin CreateScriptOrigin(Isolate *isolate, Local&lt; String &gt; resource_name, v8::ScriptType type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00859">d8.cc:859</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a4855a1705b76d8ed81fecc3c8f501fe7"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a4855a1705b76d8ed81fecc3c8f501fe7">v8::anonymous_namespace{d8.cc}::SkipTerminationForFuzzing</a></div><div class="ttdeci">bool SkipTerminationForFuzzing()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03667">d8.cc:3667</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a5534465470b92fc4091f0e6e48da85af"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a5534465470b92fc4091f0e6e48da85af">v8::anonymous_namespace{d8.cc}::fuzzilli_reprl</a></div><div class="ttdeci">bool fuzzilli_reprl</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00141">d8.cc:141</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a65992d184fdd8c0e1c871b6c73f57542"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a65992d184fdd8c0e1c871b6c73f57542">v8::anonymous_namespace{d8.cc}::NormalizeModuleSpecifier</a></div><div class="ttdeci">std::string NormalizeModuleSpecifier(const std::string &amp;specifier, const std::string &amp;dir_name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01157">d8.cc:1157</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a6aa8c9d37320a82ed1ec8448a92fd630"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6aa8c9d37320a82ed1ec8448a92fd630">v8::anonymous_namespace{d8.cc}::ResolveModuleCallback</a></div><div class="ttdeci">MaybeLocal&lt; Module &gt; ResolveModuleCallback(Local&lt; Context &gt; context, Local&lt; String &gt; specifier, Local&lt; FixedArray &gt; import_attributes, Local&lt; Module &gt; referrer)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01179">d8.cc:1179</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a6f221edc4da2605512ec115ad45ddff6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a6f221edc4da2605512ec115ad45ddff6">v8::anonymous_namespace{d8.cc}::FlagMatches</a></div><div class="ttdeci">bool FlagMatches(const char *flag, char **arg, bool keep_flag=false)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05795">d8.cc:5795</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a70af3c48dfaebf392a11359aae96c9d9"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a70af3c48dfaebf392a11359aae96c9d9">v8::anonymous_namespace{d8.cc}::LineFromOffset</a></div><div class="ttdeci">int LineFromOffset(Local&lt; debug::Script &gt; script, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04424">d8.cc:4424</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a77c975dc044f16fb2b2def465815b2d0"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a77c975dc044f16fb2b2def465815b2d0">v8::anonymous_namespace{d8.cc}::ResolveModuleSourceCallback</a></div><div class="ttdeci">MaybeLocal&lt; Object &gt; ResolveModuleSourceCallback(Local&lt; Context &gt; context, Local&lt; String &gt; specifier, Local&lt; FixedArray &gt; import_attributes, Local&lt; Module &gt; referrer)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01197">d8.cc:1197</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a781d76aceeb4842e7540a1c96d1e48bc"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a781d76aceeb4842e7540a1c96d1e48bc">v8::anonymous_namespace{d8.cc}::IsAbsolutePath</a></div><div class="ttdeci">bool IsAbsolutePath(const std::string &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01063">d8.cc:1063</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a7d5e7aa61cd8df5cfeee1f827ed52de7a42e9287d63a0f8fb8a8275bc1cd600b2"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a42e9287d63a0f8fb8a8275bc1cd600b2">v8::anonymous_namespace{d8.cc}::kModuleEmbedderDataIndex</a></div><div class="ttdeci">@ kModuleEmbedderDataIndex</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00833">d8.cc:833</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a7d5e7aa61cd8df5cfeee1f827ed52de7a9c7b861e48f503c3d8feea91c88f6959"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7d5e7aa61cd8df5cfeee1f827ed52de7a9c7b861e48f503c3d8feea91c88f6959">v8::anonymous_namespace{d8.cc}::kInspectorClientIndex</a></div><div class="ttdeci">@ kInspectorClientIndex</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00833">d8.cc:833</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a7f9023f22c2df6b69776fb810386cebb"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a7f9023f22c2df6b69776fb810386cebb">v8::anonymous_namespace{d8.cc}::WriteLcovDataForNamedRange</a></div><div class="ttdeci">void WriteLcovDataForNamedRange(std::ostream &amp;sink, std::vector&lt; uint32_t &gt; *lines, const std::string &amp;name, int start_line, int end_line, uint32_t count)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04441">d8.cc:4441</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a823510885f03ad8b24cb01a39dd89d2b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a823510885f03ad8b24cb01a39dd89d2b">v8::anonymous_namespace{d8.cc}::D8WasmAsyncResolvePromiseCallback</a></div><div class="ttdeci">void D8WasmAsyncResolvePromiseCallback(v8::Isolate *isolate, v8::Local&lt; v8::Context &gt; context, v8::Local&lt; v8::Promise::Resolver &gt; resolver, v8::Local&lt; v8::Value &gt; result, WasmAsyncSuccess success)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00921">d8.cc:921</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a8717a10ccdc3eead61a6d023456af1f5"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a8717a10ccdc3eead61a6d023456af1f5">v8::anonymous_namespace{d8.cc}::CompileStreamed</a></div><div class="ttdeci">MaybeLocal&lt; Script &gt; CompileStreamed(Local&lt; Context &gt; context, ScriptCompiler::StreamedSource *v8_source, Local&lt; String &gt; full_source_string, const ScriptOrigin &amp;origin)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00651">d8.cc:651</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a897c05990e8e4ffebc298ce93241b31b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a897c05990e8e4ffebc298ce93241b31b">v8::anonymous_namespace{d8.cc}::kDataURLPrefix</a></div><div class="ttdeci">const char kDataURLPrefix[]</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00722">d8.cc:722</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a9258adea2b59c27e5caeccc627ed0bd0"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9258adea2b59c27e5caeccc627ed0bd0">v8::anonymous_namespace{d8.cc}::InitializeModuleEmbedderData</a></div><div class="ttdeci">std::shared_ptr&lt; ModuleEmbedderData &gt; InitializeModuleEmbedderData(Local&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00835">d8.cc:835</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_a9710b9b9d11d6e46b965b86dc1cd039e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#a9710b9b9d11d6e46b965b86dc1cd039e">v8::anonymous_namespace{d8.cc}::ThrowException</a></div><div class="ttdeci">void ThrowException(Isolate *isolate, Local&lt; Value &gt; exception)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00403">d8.cc:403</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_aa155183b0b4835a8edf1d52ef0cf2109"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa155183b0b4835a8edf1d52ef0cf2109">v8::anonymous_namespace{d8.cc}::ChainDynamicImportPromise</a></div><div class="ttdeci">Maybe&lt; bool &gt; ChainDynamicImportPromise(Isolate *isolate, Local&lt; Context &gt; realm, v8::Local&lt; v8::Promise::Resolver &gt; resolver, Local&lt; Promise &gt; result_promise, Local&lt; Value &gt; namespace_or_source)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01612">d8.cc:1612</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_aa411a91fd7f98d87b3bb5a8b9abf2cc6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#aa411a91fd7f98d87b3bb5a8b9abf2cc6">v8::anonymous_namespace{d8.cc}::RejectPromiseIfExecutionIsNotTerminating</a></div><div class="ttdeci">void RejectPromiseIfExecutionIsNotTerminating(Isolate *isolate, Local&lt; Context &gt; realm, Local&lt; Promise::Resolver &gt; resolver, const TryCatch &amp;try_catch)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01600">d8.cc:1600</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ab0a2f9ceeabdcf222ef95933eb9a7f2c"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab0a2f9ceeabdcf222ef95933eb9a7f2c">v8::anonymous_namespace{d8.cc}::g_default_platform</a></div><div class="ttdeci">v8::Platform * g_default_platform</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00389">d8.cc:389</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ab33238e53444c457d732084c08f1cbff"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ab33238e53444c457d732084c08f1cbff">v8::anonymous_namespace{d8.cc}::WriteLcovDataForRange</a></div><div class="ttdeci">void WriteLcovDataForRange(std::vector&lt; uint32_t &gt; *lines, int start_line, int end_line, uint32_t count)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04429">d8.cc:4429</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_abae18897d64c4b1c289159a9afe89188"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abae18897d64c4b1c289159a9afe89188">v8::anonymous_namespace{d8.cc}::ThrowError</a></div><div class="ttdeci">void ThrowError(Isolate *isolate, Local&lt; String &gt; message)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00398">d8.cc:398</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_abeb3024230aca075408b8f4b853f863a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abeb3024230aca075408b8f4b853f863a">v8::anonymous_namespace{d8.cc}::TryGetValue</a></div><div class="ttdeci">static MaybeLocal&lt; Value &gt; TryGetValue(v8::Isolate *isolate, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; object, const char *property)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00408">d8.cc:408</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_abfdd326330c2183833a121b14a0ffbc8"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#abfdd326330c2183833a121b14a0ffbc8">v8::anonymous_namespace{d8.cc}::DirName</a></div><div class="ttdeci">std::string DirName(const std::string &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01089">d8.cc:1089</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ac240b307a304afe03f8700392d8d04a3"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac240b307a304afe03f8700392d8d04a3">v8::anonymous_namespace{d8.cc}::IsValidHostDefinedOptions</a></div><div class="ttdeci">bool IsValidHostDefinedOptions(Local&lt; Context &gt; context, Local&lt; Data &gt; options, Local&lt; Value &gt; resource_name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00870">d8.cc:870</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ac9468629331b6222166a36999924687d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ac9468629331b6222166a36999924687d">v8::anonymous_namespace{d8.cc}::GetModuleDataFromContext</a></div><div class="ttdeci">std::shared_ptr&lt; ModuleEmbedderData &gt; GetModuleDataFromContext(Local&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00849">d8.cc:849</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ad22b0befc78a924403075df9f847c73f"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ad22b0befc78a924403075df9f847c73f">v8::anonymous_namespace{d8.cc}::ToSTLString</a></div><div class="ttdeci">std::string ToSTLString(Isolate *isolate, Local&lt; String &gt; v8_str)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00724">d8.cc:724</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ae16779ca8f3f8a80b47517733562338a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae16779ca8f3f8a80b47517733562338a">v8::anonymous_namespace{d8.cc}::d8_install_sigterm_handler</a></div><div class="ttdeci">void d8_install_sigterm_handler()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l06656">d8.cc:6656</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_ae728e90cf7e880e14634bc8e8d00f05d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#ae728e90cf7e880e14634bc8e8d00f05d">v8::anonymous_namespace{d8.cc}::NormalizePath</a></div><div class="ttdeci">std::string NormalizePath(const std::string &amp;path, const std::string &amp;dir_name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01100">d8.cc:1100</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_af29d0e6ae287a4a5ab0db4cf15194498"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#af29d0e6ae287a4a5ab0db4cf15194498">v8::anonymous_namespace{d8.cc}::GetWorkingDirectory</a></div><div class="ttdeci">std::string GetWorkingDirectory()</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01073">d8.cc:1073</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_afd84d7474ca591066c201d273b5c691b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afd84d7474ca591066c201d273b5c691b">v8::anonymous_namespace{d8.cc}::GetThreadOptions</a></div><div class="ttdeci">base::Thread::Options GetThreadOptions(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00439">d8.cc:439</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8_8cc_03_html_afddd512caaba087922f669c473b1b80b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8_8cc_03.html#afddd512caaba087922f669c473b1b80b">v8::anonymous_namespace{d8.cc}::g_platform</a></div><div class="ttdeci">std::unique_ptr&lt; v8::Platform &gt; g_platform</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00390">d8.cc:390</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a134697b93e055ed94fb9f0922c75e9d3"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8::anonymous_namespace{wasm-js.cc}::v8_str</a></div><div class="ttdeci">i::DirectHandle&lt; i::String &gt; v8_str(i::Isolate *isolate, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00174">wasm-js.cc:174</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03_html_a85c792759a8f677e481c149d6d9bb5f2"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-posix_8cc_03.html#a85c792759a8f677e481c149d6d9bb5f2">v8::base::anonymous_namespace{platform-posix.cc}::Allocate</a></div><div class="ttdeci">void * Allocate(void *hint, size_t size, OS::MemoryPermission access, PageType page_type)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00166">platform-posix.cc:166</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a0829c9fb8df0e697a28abb1ab8fea523"><div class="ttname"><a href="namespacev8_1_1base.html#a0829c9fb8df0e697a28abb1ab8fea523">v8::base::Realloc</a></div><div class="ttdeci">void * Realloc(void *memory, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2memory_8h_source.html#l00048">memory.h:48</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1164c4a4843f31b51527e1661ff36565"><div class="ttname"><a href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">v8::base::format</a></div><div class="ttdeci">V8_BASE_EXPORT int const char * format</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00023">strings.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a3bd25eac4abfeaa53389ab881003596d"><div class="ttname"><a href="namespacev8_1_1base.html#a3bd25eac4abfeaa53389ab881003596d">v8::base::CallOnce</a></div><div class="ttdeci">void CallOnce(OnceType *once, std::function&lt; void()&gt; init_func)</div><div class="ttdef"><b>Definition:</b> <a href="once_8h_source.html#l00090">once.h:90</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5c78a9800cbcf09478d155ac69cdbd0f"><div class="ttname"><a href="namespacev8_1_1base.html#a5c78a9800cbcf09478d155ac69cdbd0f">v8::base::Fclose</a></div><div class="ttdeci">int Fclose(FILE *stream)</div><div class="ttdef"><b>Definition:</b> <a href="wrappers_8h_source.html#l00022">wrappers.h:22</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8a454cb5837a8dfd68f5d6eefb23c1ba"><div class="ttname"><a href="namespacev8_1_1base.html#a8a454cb5837a8dfd68f5d6eefb23c1ba">v8::base::Fopen</a></div><div class="ttdeci">FILE * Fopen(const char *filename, const char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="wrappers_8h_source.html#l00014">wrappers.h:14</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a91f20c33c351426e1f20d09809d84a07"><div class="ttname"><a href="namespacev8_1_1base.html#a91f20c33c351426e1f20d09809d84a07">v8::base::EnsureConsoleOutput</a></div><div class="ttdeci">void EnsureConsoleOutput()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00440">platform.h:440</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aa78ef93a1a9251e73b9c227dfdc7722c"><div class="ttname"><a href="namespacev8_1_1base.html#aa78ef93a1a9251e73b9c227dfdc7722c">v8::base::LazyMutex</a></div><div class="ttdeci">LazyStaticInstance&lt; Mutex, DefaultConstructTrait&lt; Mutex &gt;, ThreadSafeInitOnceTrait &gt;::type LazyMutex</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00103">mutex.h:104</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ab6238b7d6dca42d8e7660ac39b677674"><div class="ttname"><a href="namespacev8_1_1base.html#ab6238b7d6dca42d8e7660ac39b677674">v8::base::OnceType</a></div><div class="ttdeci">std::atomic&lt; uint8_t &gt; OnceType</div><div class="ttdef"><b>Definition:</b> <a href="once_8h_source.html#l00067">once.h:67</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_abd21c4db15aaf03b5c13eac392cd930a"><div class="ttname"><a href="namespacev8_1_1base.html#abd21c4db15aaf03b5c13eac392cd930a">v8::base::hash_combine</a></div><div class="ttdeci">size_t hash_combine(size_t seed, size_t hash)</div><div class="ttdef"><b>Definition:</b> <a href="hashing_8h_source.html#l00077">hashing.h:77</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad03b241da4e98adde3145092fe54be8b"><div class="ttname"><a href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">v8::base::args</a></div><div class="ttdeci">V8_BASE_EXPORT int const char va_list args</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00023">strings.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae8575343c68d7ad91cf7aaf24cd6643f"><div class="ttname"><a href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">v8::base::sort</a></div><div class="ttdeci">void sort(C &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00111">container-utils.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af0b04fe9288a783d9de7a19dcfc55fa3"><div class="ttname"><a href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">v8::base::Free</a></div><div class="ttdeci">void Free(void *memory)</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1debug_html_a63887f4dc8c8940cf98fb74383ad760f"><div class="ttname"><a href="namespacev8_1_1debug.html#a63887f4dc8c8940cf98fb74383ad760f">v8::debug::SetConsoleDelegate</a></div><div class="ttdeci">void SetConsoleDelegate(Isolate *v8_isolate, ConsoleDelegate *delegate)</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01159">debug-interface.cc:1159</a></div></div>
<div class="ttc" id="anamespacev8_1_1debug_html_a6fe9cf9b9175111f411b64dc5460c5d0abe82278339b4872cc00b9daa8f1559ca"><div class="ttname"><a href="namespacev8_1_1debug.html#a6fe9cf9b9175111f411b64dc5460c5d0abe82278339b4872cc00b9daa8f1559ca">v8::debug::CoverageMode::kBlockCount</a></div><div class="ttdeci">@ kBlockCount</div></div>
<div class="ttc" id="anamespacev8_1_1debug_html_af5caa49a625b06e2658f1ac59bc80785"><div class="ttname"><a href="namespacev8_1_1debug.html#af5caa49a625b06e2658f1ac59bc80785">v8::debug::SetDebugDelegate</a></div><div class="ttdeci">void SetDebugDelegate(Isolate *v8_isolate, DebugDelegate *delegate)</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l01078">debug-interface.cc:1078</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_ad49d99267ef9853837edb5c3e212d954"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">v8::internal::InstanceTypeChecker::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00313">instance-type-inl.h:313</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03_html_afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03.html#afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91">v8::internal::anonymous_namespace{isolate.cc}::kInvalid</a></div><div class="ttdeci">@ kInvalid</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l03334">isolate.cc:3334</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02setup-builtins-internal_8cc_03_html_aaf91439cfd8e6acdbf165becfe9df8ff"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02setup-builtins-internal_8cc_03.html#aaf91439cfd8e6acdbf165becfe9df8ff">v8::internal::anonymous_namespace{setup-builtins-internal.cc}::kBufferSize</a></div><div class="ttdeci">const int kBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="setup-builtins-internal_8cc_source.html#l00082">setup-builtins-internal.cc:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l01242">graph.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1parsing_html_abcb59b8c5e08f48edf82ba4d186c249b"><div class="ttname"><a href="namespacev8_1_1internal_1_1parsing.html#abcb59b8c5e08f48edf82ba4d186c249b">v8::internal::parsing::ParseProgram</a></div><div class="ttdeci">bool ParseProgram(ParseInfo *info, DirectHandle&lt; Script &gt; script, MaybeDirectHandle&lt; ScopeInfo &gt; maybe_outer_scope_info, Isolate *isolate, ReportStatisticsMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="parsing_8cc_source.html#l00039">parsing.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02torque-compiler_8cc_03_html_afd2d129330694bae7a20bb5265aa042a"><div class="ttname"><a href="namespacev8_1_1internal_1_1torque_1_1anonymous__namespace_02torque-compiler_8cc_03.html#afd2d129330694bae7a20bb5265aa042a">v8::internal::torque::anonymous_namespace{torque-compiler.cc}::ReadFile</a></div><div class="ttdeci">std::optional&lt; std::string &gt; ReadFile(const std::string &amp;path)</div><div class="ttdef"><b>Definition:</b> <a href="torque-compiler_8cc_source.html#l00021">torque-compiler.cc:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1torque_1_1ls_html_afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8"><div class="ttname"><a href="namespacev8_1_1internal_1_1torque_1_1ls.html#afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8">v8::internal::torque::ls::kFunction</a></div><div class="ttdeci">@ kFunction</div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00300">message.h:300</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abd9cf6cdda997dfabf862a6048202195"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">v8::internal::wasm::declared_function_index</a></div><div class="ttdeci">int declared_function_index(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l01076">wasm-module.h:1076</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a09dbf9baefb793fd78912d6ef89f9dde"><div class="ttname"><a href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">v8::internal::WasmModule</a></div><div class="ttdeci">wasm::WasmModule WasmModule</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00110">wasm-objects.cc:110</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0af2dd3e6c268be55adee8896e85cc04"><div class="ttname"><a href="namespacev8_1_1internal.html#a0af2dd3e6c268be55adee8896e85cc04">v8::internal::kFunctionEntryBytecodeOffset</a></div><div class="ttdeci">constexpr int kFunctionEntryBytecodeOffset</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00845">globals.h:845</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a12bba79f0b2c466b43e23e173e34465d"><div class="ttname"><a href="namespacev8_1_1internal.html#a12bba79f0b2c466b43e23e173e34465d">v8::internal::kNullMaybeHandle</a></div><div class="ttdeci">constexpr NullMaybeHandleType kNullMaybeHandle</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00017">maybe-handles.h:17</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a26cc5526734229e89016abbb975d45e8a8cc8e60acfa3ae6089df773013fd73a2"><div class="ttname"><a href="namespacev8_1_1internal.html#a26cc5526734229e89016abbb975d45e8a8cc8e60acfa3ae6089df773013fd73a2">v8::internal::REPLMode::kNo</a></div><div class="ttdeci">@ kNo</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3483f39c23e0616216bebaf3f205b6ad"><div class="ttname"><a href="namespacev8_1_1internal.html#a3483f39c23e0616216bebaf3f205b6ad">v8::internal::ReadLine</a></div><div class="ttdeci">char * ReadLine(const char *prompt)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00069">utils.cc:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3ce652c7cf886797e12fd8404dca14c0"><div class="ttname"><a href="namespacev8_1_1internal.html#a3ce652c7cf886797e12fd8404dca14c0">v8::internal::AllocatePages</a></div><div class="ttdeci">void * AllocatePages(v8::PageAllocator *page_allocator, size_t size, size_t alignment, PageAllocator::Permission access, PageAllocator::AllocationHint hint)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00165">allocation.cc:165</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a58578a07334d81a9c8cd700020ff9b78"><div class="ttname"><a href="namespacev8_1_1internal.html#a58578a07334d81a9c8cd700020ff9b78">v8::internal::N</a></div><div class="ttdeci">constexpr int N</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00179">constants-arm.h:179</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a63c9385f715eb7c4aba5d75f90a250f0"><div class="ttname"><a href="namespacev8_1_1internal.html#a63c9385f715eb7c4aba5d75f90a250f0">v8::internal::g_num_isolates_for_testing</a></div><div class="ttdeci">int g_num_isolates_for_testing</div><div class="ttdef"><b>Definition:</b> <a href="runtime_8cc_source.html#l00381">runtime.cc:381</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6b717bb53640adb6d9de62f718e70b3a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">v8::internal::Print</a></div><div class="ttdeci">void Print(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00772">objects.h:772</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7cd299af39afd3e3f7efe45c2afbd6c0"><div class="ttname"><a href="namespacev8_1_1internal.html#a7cd299af39afd3e3f7efe45c2afbd6c0">v8::internal::StrDup</a></div><div class="ttdeci">char * StrDup(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00106">allocation.cc:106</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9f5507dc03f0b35f38b119fc3285586a"><div class="ttname"><a href="namespacev8_1_1internal.html#a9f5507dc03f0b35f38b119fc3285586a">v8::internal::AllocatePageSize</a></div><div class="ttdeci">size_t AllocatePageSize()</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00155">allocation.cc:155</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa0a84af2b2a0cf0453cc75fc22679b28"><div class="ttname"><a href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">v8::internal::ValidateCallbackInfo</a></div><div class="ttdeci">bool ValidateCallbackInfo(const FunctionCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l12320">api.cc:12320</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbc"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">v8::internal::ExternalPointerTag</a></div><div class="ttdeci">ExternalPointerTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00552">v8-internal.h:552</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbca590953023631a2479a99d46335183fb5"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca590953023631a2479a99d46335183fb5">v8::internal::kD8ModuleEmbedderDataTag</a></div><div class="ttdeci">@ kD8ModuleEmbedderDataTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00647">v8-internal.h:647</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac299e59759eecb4621f6bad64d5db952"><div class="ttname"><a href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">v8::internal::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00666">objects.h:666</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac3ae3605bcdba7262f327c91f0b90ae0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">v8::internal::this</a></div><div class="ttdeci">!IsContextMap this</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00891">map-inl.h:891</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acee23f5dd80dfe67fe4e081574462052"><div class="ttname"><a href="namespacev8_1_1internal.html#acee23f5dd80dfe67fe4e081574462052">v8::internal::construct_language_mode</a></div><div class="ttdeci">LanguageMode construct_language_mode(bool strict_bit)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00777">globals.h:777</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aee315e6fdfed61d0c5a8b4d88d9e85b6"><div class="ttname"><a href="namespacev8_1_1internal.html#aee315e6fdfed61d0c5a8b4d88d9e85b6">v8::internal::WasmFunction</a></div><div class="ttdeci">wasm::WasmFunction WasmFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00109">wasm-objects.cc:109</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="js-disposable-stack-inl_8h_source.html#l00034">js-disposable-stack-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af33be30dc6995646ac5a541bdf0ede03"><div class="ttname"><a href="namespacev8_1_1internal.html#af33be30dc6995646ac5a541bdf0ede03">v8::internal::FreePages</a></div><div class="ttdeci">void FreePages(v8::PageAllocator *page_allocator, void *address, const size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00184">allocation.cc:184</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af9d618655c2d99f3399f146387fd1586"><div class="ttname"><a href="namespacev8_1_1internal.html#af9d618655c2d99f3399f146387fd1586">v8::internal::kMaxFixedArrayCapacity</a></div><div class="ttdeci">static constexpr int kMaxFixedArrayCapacity</div><div class="ttdef"><b>Definition:</b> <a href="fixed-array_8h_source.html#l00035">fixed-array.h:35</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb7e5cd394b9632dddc2e7807b11b2ab"><div class="ttname"><a href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">v8::internal::script</a></div><div class="ttdeci">kInterpreterTrampolineOffset script</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_a7a2acc6effa6c08af7211fe815b95165"><div class="ttname"><a href="namespacev8_1_1platform.html#a7a2acc6effa6c08af7211fe815b95165">v8::platform::RunIdleTasks</a></div><div class="ttdeci">void RunIdleTasks(v8::Platform *platform, v8::Isolate *isolate, double idle_time_in_seconds)</div><div class="ttdoc">Runs pending idle tasks for at most |idle_time_in_seconds| seconds.</div><div class="ttdef"><b>Definition:</b> <a href="default-platform_8cc_source.html#l00085">default-platform.cc:85</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_a7cf5c17f7b63c3dadfc009209c044d64"><div class="ttname"><a href="namespacev8_1_1platform.html#a7cf5c17f7b63c3dadfc009209c044d64">v8::platform::NewSingleThreadedDefaultPlatform</a></div><div class="ttdeci">std::unique_ptr&lt; v8::Platform &gt; NewSingleThreadedDefaultPlatform(IdleTaskSupport idle_task_support, InProcessStackDumping in_process_stack_dumping, std::unique_ptr&lt; v8::TracingController &gt; tracing_controller)</div><div class="ttdoc">The same as NewDefaultPlatform but disables the worker thread pool.</div><div class="ttdef"><b>Definition:</b> <a href="default-platform_8cc_source.html#l00060">default-platform.cc:60</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_a7e3e8b26667bf9246da1d2ca4d249f83"><div class="ttname"><a href="namespacev8_1_1platform.html#a7e3e8b26667bf9246da1d2ca4d249f83">v8::platform::PumpMessageLoop</a></div><div class="ttdeci">bool PumpMessageLoop(v8::Platform *platform, v8::Isolate *isolate, MessageLoopBehavior behavior)</div><div class="ttdoc">Pumps the message loop for the given isolate.</div><div class="ttdef"><b>Definition:</b> <a href="default-platform_8cc_source.html#l00079">default-platform.cc:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_aaed21fcd10dae3bb689464b7e951fb29"><div class="ttname"><a href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29">v8::platform::MessageLoopBehavior</a></div><div class="ttdeci">MessageLoopBehavior</div><div class="ttdef"><b>Definition:</b> <a href="libplatform_8h_source.html#l00021">libplatform.h:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_aaed21fcd10dae3bb689464b7e951fb29a6778c39fa9c5405c3b43b199000842df"><div class="ttname"><a href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29a6778c39fa9c5405c3b43b199000842df">v8::platform::MessageLoopBehavior::kDoNotWait</a></div><div class="ttdeci">@ kDoNotWait</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_aaed21fcd10dae3bb689464b7e951fb29ac993f8cfee60538f6d2b6b6dc7b89a79"><div class="ttname"><a href="namespacev8_1_1platform.html#aaed21fcd10dae3bb689464b7e951fb29ac993f8cfee60538f6d2b6b6dc7b89a79">v8::platform::MessageLoopBehavior::kWaitForWork</a></div><div class="ttdeci">@ kWaitForWork</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_ab5a2e78439aa380777ece667cb230a72a3a2bb7b3d33936f92948ae759fcdfac8"><div class="ttname"><a href="namespacev8_1_1platform.html#ab5a2e78439aa380777ece667cb230a72a3a2bb7b3d33936f92948ae759fcdfac8">v8::platform::PriorityMode::kApply</a></div><div class="ttdeci">@ kApply</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_ab5a2e78439aa380777ece667cb230a72af84ae028f1cfaed674ee907937e152fa"><div class="ttname"><a href="namespacev8_1_1platform.html#ab5a2e78439aa380777ece667cb230a72af84ae028f1cfaed674ee907937e152fa">v8::platform::PriorityMode::kDontApply</a></div><div class="ttdeci">@ kDontApply</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_abfec9b5c3f79b64e8edbf023708be318ade1ec1870756a80dffbdc4cda53153e0"><div class="ttname"><a href="namespacev8_1_1platform.html#abfec9b5c3f79b64e8edbf023708be318ade1ec1870756a80dffbdc4cda53153e0">v8::platform::IdleTaskSupport::kEnabled</a></div><div class="ttdeci">@ kEnabled</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_ac9dba75667058fba3443e60ca0356591"><div class="ttname"><a href="namespacev8_1_1platform.html#ac9dba75667058fba3443e60ca0356591">v8::platform::InProcessStackDumping</a></div><div class="ttdeci">InProcessStackDumping</div><div class="ttdef"><b>Definition:</b> <a href="libplatform_8h_source.html#l00019">libplatform.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_ac9dba75667058fba3443e60ca0356591a7b04d8795f5fd03c761ce70dab985fee"><div class="ttname"><a href="namespacev8_1_1platform.html#ac9dba75667058fba3443e60ca0356591a7b04d8795f5fd03c761ce70dab985fee">v8::platform::InProcessStackDumping::kDisabled</a></div><div class="ttdeci">@ kDisabled</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_ac9dba75667058fba3443e60ca0356591ade1ec1870756a80dffbdc4cda53153e0"><div class="ttname"><a href="namespacev8_1_1platform.html#ac9dba75667058fba3443e60ca0356591ade1ec1870756a80dffbdc4cda53153e0">v8::platform::InProcessStackDumping::kEnabled</a></div><div class="ttdeci">@ kEnabled</div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_acc8f10da942f6a509ba5ba1e9cc19876"><div class="ttname"><a href="namespacev8_1_1platform.html#acc8f10da942f6a509ba5ba1e9cc19876">v8::platform::NotifyIsolateShutdown</a></div><div class="ttdeci">void NotifyIsolateShutdown(v8::Platform *platform, Isolate *isolate)</div><div class="ttdoc">Notifies the given platform about the Isolate getting deleted soon.</div><div class="ttdef"><b>Definition:</b> <a href="default-platform_8cc_source.html#l00091">default-platform.cc:91</a></div></div>
<div class="ttc" id="anamespacev8_1_1platform_html_acfab14c1076e4c2cc8fa2f1d1c76f1ac"><div class="ttname"><a href="namespacev8_1_1platform.html#acfab14c1076e4c2cc8fa2f1d1c76f1ac">v8::platform::NewDefaultPlatform</a></div><div class="ttdeci">std::unique_ptr&lt; v8::Platform &gt; NewDefaultPlatform(int thread_pool_size, IdleTaskSupport idle_task_support, InProcessStackDumping in_process_stack_dumping, std::unique_ptr&lt; v8::TracingController &gt; tracing_controller, PriorityMode priority_mode)</div><div class="ttdoc">Returns a new instance of the default v8::Platform implementation.</div><div class="ttdef"><b>Definition:</b> <a href="default-platform_8cc_source.html#l00045">default-platform.cc:45</a></div></div>
<div class="ttc" id="anamespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_html_a8cb8a25bcb70f7bac92883aefb033d28"><div class="ttname"><a href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#a8cb8a25bcb70f7bac92883aefb033d28">v8::tracing::anonymous_namespace{d8.cc}::kTraceConfigParam</a></div><div class="ttdeci">static constexpr char kTraceConfigParam[]</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00454">d8.cc:454</a></div></div>
<div class="ttc" id="anamespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03_html_ae4f8b93a4670bbb4c0871a3e2d7d1e9e"><div class="ttname"><a href="namespacev8_1_1tracing_1_1anonymous__namespace_02d8_8cc_03.html#ae4f8b93a4670bbb4c0871a3e2d7d1e9e">v8::tracing::anonymous_namespace{d8.cc}::kIncludedCategoriesParam</a></div><div class="ttdeci">static constexpr char kIncludedCategoriesParam[]</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00453">d8.cc:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1tracing_html_aeb1e0341abc6e29b49c94c726c3f7646"><div class="ttname"><a href="namespacev8_1_1tracing.html#aeb1e0341abc6e29b49c94c726c3f7646">v8::tracing::CreateTraceConfigFromJSON</a></div><div class="ttdeci">static platform::tracing::TraceConfig * CreateTraceConfigFromJSON(v8::Isolate *isolate, const char *json_str)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00506">d8.cc:506</a></div></div>
<div class="ttc" id="anamespacev8__inspector_1_1anonymous__namespace_02injected-script_8cc_03_html_a742bebd5683ebd0733d6ec065dccd9c1"><div class="ttname"><a href="namespacev8__inspector_1_1anonymous__namespace_02injected-script_8cc_03.html#a742bebd5683ebd0733d6ec065dccd9c1">v8_inspector::anonymous_namespace{injected-script.cc}::kGlobalHandleLabel</a></div><div class="ttdeci">const char kGlobalHandleLabel[]</div><div class="ttdef"><b>Definition:</b> <a href="injected-script_8cc_source.html#l00061">injected-script.cc:61</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3"><div class="ttname"><a href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87ae573d0077ef51499dfd8cb937c1fb9c3">v8::ReadOnly</a></div><div class="ttdeci">@ ReadOnly</div><div class="ttdoc">ReadOnly, i.e., not writable.</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00145">v8-object.h:145</a></div></div>
<div class="ttc" id="anamespacev8_html_a17f260ada2971f8b2f0fb4c6e6ce5dd4"><div class="ttname"><a href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4">v8::ModuleType</a></div><div class="ttdeci">ModuleType</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00037">d8.h:37</a></div></div>
<div class="ttc" id="anamespacev8_html_a17f260ada2971f8b2f0fb4c6e6ce5dd4a241c5d1c8eebe4298191c9eb9dfba84a"><div class="ttname"><a href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a241c5d1c8eebe4298191c9eb9dfba84a">v8::ModuleType::kWebAssembly</a></div><div class="ttdeci">@ kWebAssembly</div></div>
<div class="ttc" id="anamespacev8_html_a17f260ada2971f8b2f0fb4c6e6ce5dd4a686c2e66bfe8ecb4657beb1ee04ada24"><div class="ttname"><a href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a686c2e66bfe8ecb4657beb1ee04ada24">v8::ModuleType::kJavaScript</a></div><div class="ttdeci">@ kJavaScript</div></div>
<div class="ttc" id="anamespacev8_html_a17f260ada2971f8b2f0fb4c6e6ce5dd4a7820f24be07e92b4ed8ef25f129cf422"><div class="ttname"><a href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4a7820f24be07e92b4ed8ef25f129cf422">v8::ModuleType::kJSON</a></div><div class="ttdeci">@ kJSON</div></div>
<div class="ttc" id="anamespacev8_html_a17f260ada2971f8b2f0fb4c6e6ce5dd4ab10913c938482a8aa4ba85b7a1116cb4"><div class="ttname"><a href="namespacev8.html#a17f260ada2971f8b2f0fb4c6e6ce5dd4ab10913c938482a8aa4ba85b7a1116cb4">v8::ModuleType::kInvalid</a></div><div class="ttdeci">@ kInvalid</div></div>
<div class="ttc" id="anamespacev8_html_a1aecb07744976db25970beb0734d7c62"><div class="ttname"><a href="namespacev8.html#a1aecb07744976db25970beb0734d7c62">v8::Null</a></div><div class="ttdeci">Local&lt; Primitive &gt; Null(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l01063">v8-primitive.h:1063</a></div></div>
<div class="ttc" id="anamespacev8_html_a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46"><div class="ttname"><a href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">v8::SideEffectType::kHasSideEffect</a></div><div class="ttdeci">@ kHasSideEffect</div></div>
<div class="ttc" id="anamespacev8_html_a2baa5273ccac96a5dafbc49c0164a882"><div class="ttname"><a href="namespacev8.html#a2baa5273ccac96a5dafbc49c0164a882">v8::ends_with</a></div><div class="ttdeci">bool ends_with(const char *input, const char *suffix)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l05160">d8.cc:5160</a></div></div>
<div class="ttc" id="anamespacev8_html_a2ff3682899e967e165efa3460661c851"><div class="ttname"><a href="namespacev8.html#a2ff3682899e967e165efa3460661c851">v8::Undefined</a></div><div class="ttdeci">Local&lt; Primitive &gt; Undefined(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l01055">v8-primitive.h:1055</a></div></div>
<div class="ttc" id="anamespacev8_html_a307b3674d4966684f8170a4fbd932eafa2476035af9faba8f74f74be70cf8152b"><div class="ttname"><a href="namespacev8.html#a307b3674d4966684f8170a4fbd932eafa2476035af9faba8f74f74be70cf8152b">v8::kPromiseHandlerAddedAfterReject</a></div><div class="ttdeci">@ kPromiseHandlerAddedAfterReject</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00149">v8-promise.h:149</a></div></div>
<div class="ttc" id="anamespacev8_html_a307b3674d4966684f8170a4fbd932eafa9f3a022284c493477fb978bb7bd69e17"><div class="ttname"><a href="namespacev8.html#a307b3674d4966684f8170a4fbd932eafa9f3a022284c493477fb978bb7bd69e17">v8::kPromiseRejectAfterResolved</a></div><div class="ttdeci">@ kPromiseRejectAfterResolved</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00150">v8-promise.h:150</a></div></div>
<div class="ttc" id="anamespacev8_html_a307b3674d4966684f8170a4fbd932eafaa86f8bca82fa1105623342815112ccb0"><div class="ttname"><a href="namespacev8.html#a307b3674d4966684f8170a4fbd932eafaa86f8bca82fa1105623342815112ccb0">v8::kPromiseResolveAfterResolved</a></div><div class="ttdeci">@ kPromiseResolveAfterResolved</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00151">v8-promise.h:151</a></div></div>
<div class="ttc" id="anamespacev8_html_a41014504eaed8d1447157e71667d08d5"><div class="ttname"><a href="namespacev8.html#a41014504eaed8d1447157e71667d08d5">v8::WriteToFile</a></div><div class="ttdeci">void WriteToFile(FILE *file, const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int first_arg_index=0)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02939">d8.cc:2939</a></div></div>
<div class="ttc" id="anamespacev8_html_a41f0e280eadfba6ac9afd833fdd540cf"><div class="ttname"><a href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">v8::Just</a></div><div class="ttdeci">Maybe&lt; T &gt; Just(const T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00126">v8-maybe.h:126</a></div></div>
<div class="ttc" id="anamespacev8_html_a4c253cc9b41dad8e3b1ce1aa7a2dbe0ca5a2ba12bdd7c3f27a5cab1fcd7bd985b"><div class="ttname"><a href="namespacev8.html#a4c253cc9b41dad8e3b1ce1aa7a2dbe0ca5a2ba12bdd7c3f27a5cab1fcd7bd985b">v8::ContextDependants::kSomeDependants</a></div><div class="ttdeci">@ kSomeDependants</div><div class="ttdoc">Context has some dependants, i.e., it may depend on other contexts.</div></div>
<div class="ttc" id="anamespacev8_html_a6dde848dc347e67e7ace972f36c13d87"><div class="ttname"><a href="namespacev8.html#a6dde848dc347e67e7ace972f36c13d87">v8::PrintMessageCallback</a></div><div class="ttdeci">static void PrintMessageCallback(Local&lt; Message &gt; message, Local&lt; Value &gt; error)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04255">d8.cc:4255</a></div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d">v8::ConstructorBehavior::kThrow</a></div><div class="ttdeci">@ kThrow</div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94">v8::ConstructorBehavior::kAllow</a></div><div class="ttdeci">@ kAllow</div></div>
<div class="ttc" id="anamespacev8_html_a79cf7147cac264d4342e2e6cff3473ed"><div class="ttname"><a href="namespacev8.html#a79cf7147cac264d4342e2e6cff3473ed">v8::kProcessGlobalPredictablePlatformWorkerTaskQueue</a></div><div class="ttdeci">constexpr Isolate * kProcessGlobalPredictablePlatformWorkerTaskQueue</div><div class="ttdef"><b>Definition:</b> <a href="d8-platforms_8h_source.html#l00033">d8-platforms.h:33</a></div></div>
<div class="ttc" id="anamespacev8_html_a89567c5b2a338ced32e39e8a85191b5b"><div class="ttname"><a href="namespacev8.html#a89567c5b2a338ced32e39e8a85191b5b">v8::MakePredictablePlatform</a></div><div class="ttdeci">std::unique_ptr&lt; Platform &gt; MakePredictablePlatform(std::unique_ptr&lt; Platform &gt; platform)</div><div class="ttdef"><b>Definition:</b> <a href="d8-platforms_8cc_source.html#l00116">d8-platforms.cc:116</a></div></div>
<div class="ttc" id="anamespacev8_html_a93165d7e200a02042e92d5776c160b87"><div class="ttname"><a href="namespacev8.html#a93165d7e200a02042e92d5776c160b87">v8::True</a></div><div class="ttdeci">Local&lt; Boolean &gt; True(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l01071">v8-primitive.h:1071</a></div></div>
<div class="ttc" id="anamespacev8_html_a9894968a06b13ddf9cfacec5757ae53f"><div class="ttname"><a href="namespacev8.html#a9894968a06b13ddf9cfacec5757ae53f">v8::check_d8_flag_contradictions</a></div><div class="ttdeci">bool check_d8_flag_contradictions</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l00557">d8.cc:557</a></div></div>
<div class="ttc" id="anamespacev8_html_aa636073db573290356200ce93100b66d"><div class="ttname"><a href="namespacev8.html#aa636073db573290356200ce93100b66d">v8::CounterMap</a></div><div class="ttdeci">std::unordered_map&lt; std::string, Counter * &gt; CounterMap</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00086">d8.h:86</a></div></div>
<div class="ttc" id="anamespacev8_html_ab73dc190ee98badd240190d177af3e6a"><div class="ttname"><a href="namespacev8.html#ab73dc190ee98badd240190d177af3e6a">v8::WriteAndFlush</a></div><div class="ttdeci">void WriteAndFlush(FILE *file, const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02970">d8.cc:2970</a></div></div>
<div class="ttc" id="anamespacev8_html_abe9cd7b76c8aeb2bdc0ff3bec860dc21"><div class="ttname"><a href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21">v8::WasmAsyncSuccess</a></div><div class="ttdeci">WasmAsyncSuccess</div><div class="ttdef"><b>Definition:</b> <a href="v8-callbacks_8h_source.html#l00313">v8-callbacks.h:313</a></div></div>
<div class="ttc" id="anamespacev8_html_abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782"><div class="ttname"><a href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782">v8::WasmAsyncSuccess::kSuccess</a></div><div class="ttdeci">@ kSuccess</div></div>
<div class="ttc" id="anamespacev8_html_abebb1406ab5c4a24110273e06e8fa9be"><div class="ttname"><a href="namespacev8.html#abebb1406ab5c4a24110273e06e8fa9be">v8::PromiseRejectCallback</a></div><div class="ttdeci">void(*)(PromiseRejectMessage message) PromiseRejectCallback</div><div class="ttdef"><b>Definition:</b> <a href="v8-promise_8h_source.html#l00170">v8-promise.h:170</a></div></div>
<div class="ttc" id="anamespacev8_html_abee20cc2dda1c35a994564795cc8e867"><div class="ttname"><a href="namespacev8.html#abee20cc2dda1c35a994564795cc8e867">v8::NewDOMFunctionTemplate</a></div><div class="ttdeci">Local&lt; FunctionTemplate &gt; NewDOMFunctionTemplate(Isolate *isolate, JSApiInstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03907">d8.cc:3907</a></div></div>
<div class="ttc" id="anamespacev8_html_ac650e19aff88fabc2d187261fd631a99"><div class="ttname"><a href="namespacev8.html#ac650e19aff88fabc2d187261fd631a99">v8::Dummy</a></div><div class="ttdeci">void Dummy(char *arg)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l04739">d8.cc:4739</a></div></div>
<div class="ttc" id="anamespacev8_html_ac87ab353f197393b9c3cbe83d662ff97"><div class="ttname"><a href="namespacev8.html#ac87ab353f197393b9c3cbe83d662ff97">v8::MakeDelayedTasksPlatform</a></div><div class="ttdeci">std::unique_ptr&lt; Platform &gt; MakeDelayedTasksPlatform(std::unique_ptr&lt; Platform &gt; platform, int64_t random_seed)</div><div class="ttdef"><b>Definition:</b> <a href="d8-platforms_8cc_source.html#l00356">d8-platforms.cc:356</a></div></div>
<div class="ttc" id="anamespacev8_html_ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416"><div class="ttname"><a href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">v8::NewStringType::kNormal</a></div><div class="ttdeci">@ kNormal</div><div class="ttdoc">Create a new string, always allocating new storage memory.</div></div>
<div class="ttc" id="anamespacev8_html_ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295"><div class="ttname"><a href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095ade6a7f11cd845d59e52b388d18929295">v8::NewStringType::kInternalized</a></div><div class="ttdeci">@ kInternalized</div><div class="ttdoc">Acts as a hint that the string should be created in the old generation heap space and be deduplicated...</div></div>
<div class="ttc" id="anamespacev8_html_aca926f946c06e2386db7aefa032bef75"><div class="ttname"><a href="namespacev8.html#aca926f946c06e2386db7aefa032bef75">v8::dummy_delegate</a></div><div class="ttdeci">static v8::debug::DebugDelegate dummy_delegate</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l02787">d8.cc:2787</a></div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452f"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452f">v8::JSApiInstanceType</a></div><div class="ttdeci">JSApiInstanceType</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l03898">d8.cc:3898</a></div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452fa512e0fe26faf1df69dddc9fe7832e35c"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa512e0fe26faf1df69dddc9fe7832e35c">v8::JSApiInstanceType::kEventTarget</a></div><div class="ttdeci">@ kEventTarget</div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452fa723400cf5787bdfccceeee5f9447e326"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa723400cf5787bdfccceeee5f9447e326">v8::JSApiInstanceType::kHTMLElement</a></div><div class="ttdeci">@ kHTMLElement</div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452fa8f20532ac08b5e0dd0cae58258b5f238"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa8f20532ac08b5e0dd0cae58258b5f238">v8::JSApiInstanceType::kGenericApiObject</a></div><div class="ttdeci">@ kGenericApiObject</div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452fa9c8c5408a8415d49d60b799fc9c5c14f"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452fa9c8c5408a8415d49d60b799fc9c5c14f">v8::JSApiInstanceType::kHTMLDivElement</a></div><div class="ttdeci">@ kHTMLDivElement</div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452fabd4d2eef8f039ed1f560c869f6f9520e"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452fabd4d2eef8f039ed1f560c869f6f9520e">v8::JSApiInstanceType::kNode</a></div><div class="ttdeci">@ kNode</div></div>
<div class="ttc" id="anamespacev8_html_ae01494a908e0f3df867de7e40593452fae5e1b004e431a2d12e979918c7229483"><div class="ttname"><a href="namespacev8.html#ae01494a908e0f3df867de7e40593452fae5e1b004e431a2d12e979918c7229483">v8::JSApiInstanceType::kElement</a></div><div class="ttdeci">@ kElement</div></div>
<div class="ttc" id="anamespacev8_html_ae7d05bf926fdcef988b14900496ea931a1f85c8fbccc9bb4fcda482bf840bc3e2"><div class="ttname"><a href="namespacev8.html#ae7d05bf926fdcef988b14900496ea931a1f85c8fbccc9bb4fcda482bf840bc3e2">v8::MeasureMemoryExecution::kEager</a></div><div class="ttdeci">@ kEager</div></div>
<div class="ttc" id="anamespacev8_html_aefa7213d04d46fe1d92221757c4ad10a"><div class="ttname"><a href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10a">v8::ModuleImportPhase</a></div><div class="ttdeci">ModuleImportPhase</div><div class="ttdoc">Import phases in import requests.</div><div class="ttdef"><b>Definition:</b> <a href="v8-callbacks_8h_source.html#l00337">v8-callbacks.h:337</a></div></div>
<div class="ttc" id="anamespacev8_html_aefa7213d04d46fe1d92221757c4ad10aa346bc9a934c8efdaded7eb6f74d86d0f"><div class="ttname"><a href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10aa346bc9a934c8efdaded7eb6f74d86d0f">v8::ModuleImportPhase::kEvaluation</a></div><div class="ttdeci">@ kEvaluation</div></div>
<div class="ttc" id="anamespacev8_html_aefa7213d04d46fe1d92221757c4ad10aac1c0088a4e8654d4dc2f5fdf247381b0"><div class="ttname"><a href="namespacev8.html#aefa7213d04d46fe1d92221757c4ad10aac1c0088a4e8654d4dc2f5fdf247381b0">v8::ModuleImportPhase::kSource</a></div><div class="ttdeci">@ kSource</div></div>
<div class="ttc" id="anamespacev8_html_af0a35d935e967468adc5b6dc7f8da883"><div class="ttname"><a href="namespacev8.html#af0a35d935e967468adc5b6dc7f8da883">v8::MeasureMemoryMode</a></div><div class="ttdeci">MeasureMemoryMode</div><div class="ttdoc">Controls how the default MeasureMemoryDelegate reports the result of the memory measurement to JS.</div><div class="ttdef"><b>Definition:</b> <a href="v8-statistics_8h_source.html#l00034">v8-statistics.h:34</a></div></div>
<div class="ttc" id="anamespacev8_html_af0a35d935e967468adc5b6dc7f8da883a5316f21c59cf9dd9526061bcb5da9b76"><div class="ttname"><a href="namespacev8.html#af0a35d935e967468adc5b6dc7f8da883a5316f21c59cf9dd9526061bcb5da9b76">v8::MeasureMemoryMode::kSummary</a></div><div class="ttdeci">@ kSummary</div></div>
<div class="ttc" id="anamespacev8_html_af0a35d935e967468adc5b6dc7f8da883ade970de858c5ffbaccdc0250e117ea9c"><div class="ttname"><a href="namespacev8.html#af0a35d935e967468adc5b6dc7f8da883ade970de858c5ffbaccdc0250e117ea9c">v8::MeasureMemoryMode::kDetailed</a></div><div class="ttdeci">@ kDetailed</div></div>
<div class="ttc" id="anamespacev8_html_afb65700e7428e5e07665bcd0b9672b28"><div class="ttname"><a href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28">v8::ScriptType</a></div><div class="ttdeci">ScriptType</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00397">v8-script.h:397</a></div></div>
<div class="ttc" id="anamespacev8_html_afb65700e7428e5e07665bcd0b9672b28a135ed776c81ce676daeed6250f5d72f6"><div class="ttname"><a href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a135ed776c81ce676daeed6250f5d72f6">v8::ScriptType::kClassic</a></div><div class="ttdeci">@ kClassic</div></div>
<div class="ttc" id="anamespacev8_html_afb65700e7428e5e07665bcd0b9672b28a3d3648ae94129252d325fda4deeb2724"><div class="ttname"><a href="namespacev8.html#afb65700e7428e5e07665bcd0b9672b28a3d3648ae94129252d325fda4deeb2724">v8::ScriptType::kModule</a></div><div class="ttdeci">@ kModule</div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555af5d6f15f85f8db76149a52e2f4a2aa70"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555af5d6f15f85f8db76149a52e2f4a2aa70">v8::PagePermissions::kNoAccess</a></div><div class="ttdeci">@ kNoAccess</div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aobjects_8h_html"><div class="ttname"><a href="objects_8h.html">objects.h</a></div></div>
<div class="ttc" id="aonce_8h_html_ae65f62bf05cdea6c16f8253cfa9e2cbe"><div class="ttname"><a href="once_8h.html#ae65f62bf05cdea6c16f8253cfa9e2cbe">V8_ONCE_INIT</a></div><div class="ttdeci">#define V8_ONCE_INIT</div><div class="ttdef"><b>Definition:</b> <a href="once_8h_source.html#l00069">once.h:69</a></div></div>
<div class="ttc" id="aoptimizing-compile-dispatcher_8h_html"><div class="ttname"><a href="optimizing-compile-dispatcher_8h.html">optimizing-compile-dispatcher.h</a></div></div>
<div class="ttc" id="aostreams_8h_html"><div class="ttname"><a href="ostreams_8h.html">ostreams.h</a></div></div>
<div class="ttc" id="aparked-scope-inl_8h_html"><div class="ttname"><a href="parked-scope-inl_8h.html">parked-scope-inl.h</a></div></div>
<div class="ttc" id="aparse-info_8h_html"><div class="ttname"><a href="parse-info_8h.html">parse-info.h</a></div></div>
<div class="ttc" id="aparsing_8h_html"><div class="ttname"><a href="parsing_8h.html">parsing.h</a></div></div>
<div class="ttc" id="aprofile-generator_8h_html"><div class="ttname"><a href="profile-generator_8h.html">profile-generator.h</a></div></div>
<div class="ttc" id="arandom-number-generator_8h_html"><div class="ttname"><a href="random-number-generator_8h.html">random-number-generator.h</a></div></div>
<div class="ttc" id="ascanner-character-streams_8h_html"><div class="ttname"><a href="scanner-character-streams_8h.html">scanner-character-streams.h</a></div></div>
<div class="ttc" id="asnapshot_8h_html"><div class="ttname"><a href="snapshot_8h.html">snapshot.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a1c7c9b7f14b9a33ea69cbe4578016a19"><div class="ttname"><a href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a></div><div class="ttdeci">#define CHECK_GE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a43d2df1fb528ff7bee1e873e377e0323"><div class="ttname"><a href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a></div><div class="ttdeci">#define CHECK_GT(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a45a0717f39b7011dc823c1fe7b83e6fc"><div class="ttname"><a href="src_2base_2logging_8h.html#a45a0717f39b7011dc823c1fe7b83e6fc">CHECK_LT</a></div><div class="ttdeci">#define CHECK_LT(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7bf1ad59490562f507223cd6ca2cc6fa"><div class="ttname"><a href="src_2base_2logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a></div><div class="ttdeci">#define CHECK_NULL(val)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a9154b181227e4b02e465befe50219158"><div class="ttname"><a href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a></div><div class="ttdeci">#define CHECK_NOT_NULL(val)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00387">macros.h:387</a></div></div>
<div class="ttc" id="asrc_2base_2platform_2platform_8h_html"><div class="ttname"><a href="src_2base_2platform_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="asrc_2init_2v8_8h_html"><div class="ttname"><a href="src_2init_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="astring_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html"><div class="ttname"><a href="structv8_1_1DynamicImportData.html">v8::DynamicImportData</a></div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01450">d8.cc:1450</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a036ef760fce12fcb90a8f1c1a41480f1"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a036ef760fce12fcb90a8f1c1a41480f1">v8::DynamicImportData::specifier</a></div><div class="ttdeci">Global&lt; String &gt; specifier</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01469">d8.cc:1469</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a0cab95979fcbaa8bed0851c917b81f79"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a0cab95979fcbaa8bed0851c917b81f79">v8::DynamicImportData::DynamicImportData</a></div><div class="ttdeci">DynamicImportData(Isolate *isolate_, Local&lt; Context &gt; context_, Local&lt; Value &gt; referrer_, Local&lt; String &gt; specifier_, ModuleImportPhase phase_, Local&lt; FixedArray &gt; import_attributes_, Local&lt; Promise::Resolver &gt; resolver_)</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01451">d8.cc:1451</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a2186eeb0a47d1adeb47cc292e160aa23"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a2186eeb0a47d1adeb47cc292e160aa23">v8::DynamicImportData::referrer</a></div><div class="ttdeci">Global&lt; Value &gt; referrer</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01468">d8.cc:1468</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a4ea8864c998870623f02b223b309493f"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a4ea8864c998870623f02b223b309493f">v8::DynamicImportData::phase</a></div><div class="ttdeci">ModuleImportPhase phase</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01470">d8.cc:1470</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a503c2296476228ee9d0b185e7f8ebf86"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a503c2296476228ee9d0b185e7f8ebf86">v8::DynamicImportData::context</a></div><div class="ttdeci">Global&lt; Context &gt; context</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01467">d8.cc:1467</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a5530343fc266b6da51bc5f10cc5873d0"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a5530343fc266b6da51bc5f10cc5873d0">v8::DynamicImportData::resolver</a></div><div class="ttdeci">Global&lt; Promise::Resolver &gt; resolver</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01472">d8.cc:1472</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_a5b8caddc3e194c1a194e2989d5476dac"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#a5b8caddc3e194c1a194e2989d5476dac">v8::DynamicImportData::isolate</a></div><div class="ttdeci">Isolate * isolate</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01464">d8.cc:1464</a></div></div>
<div class="ttc" id="astructv8_1_1DynamicImportData_html_aa43a182ce3d056fa5a4ec1314b5ee088"><div class="ttname"><a href="structv8_1_1DynamicImportData.html#aa43a182ce3d056fa5a4ec1314b5ee088">v8::DynamicImportData::import_attributes</a></div><div class="ttdeci">Global&lt; FixedArray &gt; import_attributes</div><div class="ttdef"><b>Definition:</b> <a href="d8_8cc_source.html#l01471">d8.cc:1471</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html">v8::Isolate::CreateParams</a></div><div class="ttdoc">Initial configuration parameters for a new Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00290">v8-isolate.h:290</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html_a10441abadd0b83a938303c92e7444fb6"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html#a10441abadd0b83a938303c92e7444fb6">v8::Isolate::CreateParams::counter_lookup_callback</a></div><div class="ttdeci">CounterLookupCallback counter_lookup_callback</div><div class="ttdoc">Enables the host application to provide a mechanism for recording statistics counters.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00317">v8-isolate.h:317</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html_a11acf5fb9cdbc4c8bf15baf542507b49"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html#a11acf5fb9cdbc4c8bf15baf542507b49">v8::Isolate::CreateParams::create_histogram_callback</a></div><div class="ttdeci">CreateHistogramCallback create_histogram_callback</div><div class="ttdoc">Enables the host application to provide a mechanism for recording histograms.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00325">v8-isolate.h:325</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html_a2c570b306aa8c1c24cfe70e8eee50fa1"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html#a2c570b306aa8c1c24cfe70e8eee50fa1">v8::Isolate::CreateParams::constraints</a></div><div class="ttdeci">ResourceConstraints constraints</div><div class="ttdoc">ResourceConstraints to use for the new Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00305">v8-isolate.h:305</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html_a3e0fb886996eb1f498b6cc157e11e280"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html#a3e0fb886996eb1f498b6cc157e11e280">v8::Isolate::CreateParams::add_histogram_sample_callback</a></div><div class="ttdeci">AddHistogramSampleCallback add_histogram_sample_callback</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00326">v8-isolate.h:326</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html_a783e3eba90ce6e2800bdd69197bbccdd"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html#a783e3eba90ce6e2800bdd69197bbccdd">v8::Isolate::CreateParams::code_event_handler</a></div><div class="ttdeci">JitCodeEventHandler code_event_handler</div><div class="ttdoc">Allows the host application to provide the address of a function that is notified each time code is a...</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00300">v8-isolate.h:300</a></div></div>
<div class="ttc" id="astructv8_1_1Isolate_1_1CreateParams_html_a7c663f70b64290392eeaf164f57585f9"><div class="ttname"><a href="structv8_1_1Isolate_1_1CreateParams.html#a7c663f70b64290392eeaf164f57585f9">v8::Isolate::CreateParams::array_buffer_allocator</a></div><div class="ttdeci">ArrayBuffer::Allocator * array_buffer_allocator</div><div class="ttdoc">The ArrayBuffer::Allocator to use for allocating and freeing the backing store of ArrayBuffers.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00337">v8-isolate.h:337</a></div></div>
<div class="ttc" id="astructv8_1_1ScriptCompiler_1_1CachedData_html"><div class="ttname"><a href="structv8_1_1ScriptCompiler_1_1CachedData.html">v8::ScriptCompiler::CachedData</a></div><div class="ttdoc">Compilation data that the embedder can cache and pass back to speed up future compilations.</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00413">v8-script.h:413</a></div></div>
<div class="ttc" id="astructv8_1_1ScriptCompiler_1_1CachedData_html_a31e313a969170116f98d5a76c110fe61"><div class="ttname"><a href="structv8_1_1ScriptCompiler_1_1CachedData.html#a31e313a969170116f98d5a76c110fe61">v8::ScriptCompiler::CachedData::data</a></div><div class="ttdeci">const uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00452">v8-script.h:452</a></div></div>
<div class="ttc" id="astructv8_1_1ScriptCompiler_1_1CachedData_html_aa1d16fbd48957df19d4cc1c886afff8f"><div class="ttname"><a href="structv8_1_1ScriptCompiler_1_1CachedData.html#aa1d16fbd48957df19d4cc1c886afff8f">v8::ScriptCompiler::CachedData::rejected</a></div><div class="ttdeci">bool rejected</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00454">v8-script.h:454</a></div></div>
<div class="ttc" id="astructv8_1_1ScriptCompiler_1_1CachedData_html_ac1a1055d361e89b589c3fa98b79b9c25a51238ea1869c43f0fab950c7b8401bb3"><div class="ttname"><a href="structv8_1_1ScriptCompiler_1_1CachedData.html#ac1a1055d361e89b589c3fa98b79b9c25a51238ea1869c43f0fab950c7b8401bb3">v8::ScriptCompiler::CachedData::BufferOwned</a></div><div class="ttdeci">@ BufferOwned</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00414">v8-script.h:414</a></div></div>
<div class="ttc" id="astructv8_1_1ScriptCompiler_1_1CachedData_html_ad7b8b1b672095a2c33621d3d5b5c7f8f"><div class="ttname"><a href="structv8_1_1ScriptCompiler_1_1CachedData.html#ad7b8b1b672095a2c33621d3d5b5c7f8f">v8::ScriptCompiler::CachedData::length</a></div><div class="ttdeci">int length</div><div class="ttdef"><b>Definition:</b> <a href="v8-script_8h_source.html#l00453">v8-script.h:453</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstanceImpl_html"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstanceImpl.html">v8::base::LazyInstanceImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="lazy-instance_8h_source.html#l00165">lazy-instance.h:165</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstanceImpl_html_a731d414ae2f2f0fafb4df47502b21068"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstanceImpl.html#a731d414ae2f2f0fafb4df47502b21068">v8::base::LazyInstanceImpl::Pointer</a></div><div class="ttdeci">T * Pointer()</div><div class="ttdef"><b>Definition:</b> <a href="lazy-instance_8h_source.html#l00181">lazy-instance.h:181</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1TracingFlags_html_a6ae2ff9ff9df795354e7f9bcda063268"><div class="ttname"><a href="structv8_1_1internal_1_1TracingFlags.html#a6ae2ff9ff9df795354e7f9bcda063268">v8::internal::TracingFlags::is_gc_stats_enabled</a></div><div class="ttdeci">static bool is_gc_stats_enabled()</div><div class="ttdef"><b>Definition:</b> <a href="tracing-flags_8h_source.html#l00036">tracing-flags.h:36</a></div></div>
<div class="ttc" id="asys-info_8h_html"><div class="ttname"><a href="sys-info_8h.html">sys-info.h</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a663310659ff93e11801562c898d0216a"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a663310659ff93e11801562c898d0216a">TRACE_EVENT_COPY_NESTABLE_ASYNC_END_WITH_TIMESTAMP0</a></div><div class="ttdeci">#define TRACE_EVENT_COPY_NESTABLE_ASYNC_END_WITH_TIMESTAMP0( category_group, name, id, timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00706">trace-event-no-perfetto.h:706</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_aae32f4877a7aa02985b9491ccc886620"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#aae32f4877a7aa02985b9491ccc886620">TRACE_EVENT_COPY_NESTABLE_ASYNC_BEGIN_WITH_TIMESTAMP1</a></div><div class="ttdeci">#define TRACE_EVENT_COPY_NESTABLE_ASYNC_BEGIN_WITH_TIMESTAMP1( category_group, name, id, timestamp, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00700">trace-event-no-perfetto.h:700</a></div></div>
<div class="ttc" id="atrap-handler_8h_html"><div class="ttname"><a href="trap-handler_8h.html">trap-handler.h</a></div></div>
<div class="ttc" id="atrap-handler_8h_html_a110a8293a9894b82b057ff7a6cec01f6"><div class="ttname"><a href="trap-handler_8h.html#a110a8293a9894b82b057ff7a6cec01f6">V8_TRAP_HANDLER_SUPPORTED</a></div><div class="ttdeci">#define V8_TRAP_HANDLER_SUPPORTED</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00059">trap-handler.h:59</a></div></div>
<div class="ttc" id="autils_2utils_8h_html"><div class="ttname"><a href="utils_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="av8-function_8h_html"><div class="ttname"><a href="v8-function_8h.html">v8-function.h</a></div></div>
<div class="ttc" id="av8-initialization_8h_html"><div class="ttname"><a href="v8-initialization_8h.html">v8-initialization.h</a></div></div>
<div class="ttc" id="av8-inspector_8h_html"><div class="ttname"><a href="v8-inspector_8h.html">v8-inspector.h</a></div></div>
<div class="ttc" id="av8-isolate_8h_html"><div class="ttname"><a href="v8-isolate_8h.html">v8-isolate.h</a></div></div>
<div class="ttc" id="av8-json_8h_html"><div class="ttname"><a href="v8-json_8h.html">v8-json.h</a></div></div>
<div class="ttc" id="av8-locker_8h_html"><div class="ttname"><a href="v8-locker_8h.html">v8-locker.h</a></div></div>
<div class="ttc" id="av8-profiler_8h_html"><div class="ttname"><a href="v8-profiler_8h.html">v8-profiler.h</a></div></div>
<div class="ttc" id="av8-tracing_8h_html"><div class="ttname"><a href="v8-tracing_8h.html">v8-tracing.h</a></div></div>
<div class="ttc" id="av8-wasm_8h_html"><div class="ttname"><a href="v8-wasm_8h.html">v8-wasm.h</a></div></div>
<div class="ttc" id="av8config_8h_html_aad8af182592e00346da2d251123e7ac1"><div class="ttname"><a href="v8config_8h.html#aad8af182592e00346da2d251123e7ac1">V8_TARGET_OS_STRING</a></div><div class="ttdeci">#define V8_TARGET_OS_STRING</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00262">v8config.h:262</a></div></div>
<div class="ttc" id="av8config_8h_html_aae8e4cfdd8ebf80e774cb42d8b4980e6"><div class="ttname"><a href="v8config_8h.html#aae8e4cfdd8ebf80e774cb42d8b4980e6">V8_NOINLINE</a></div><div class="ttdeci">#define V8_NOINLINE</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00586">v8config.h:586</a></div></div>
<div class="ttc" id="av8threads_8h_html"><div class="ttname"><a href="v8threads_8h.html">v8threads.h</a></div></div>
<div class="ttc" id="avm-state-inl_8h_html"><div class="ttname"><a href="vm-state-inl_8h.html">vm-state-inl.h</a></div></div>
<div class="ttc" id="awasm-code-manager_8h_html"><div class="ttname"><a href="wasm-code-manager_8h.html">wasm-code-manager.h</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_ad342ac907eb044443153a22f964bf0af"><div class="ttname"><a href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a></div><div class="ttdeci">unsigned long DWORD</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00052">win32-headers.h:52</a></div></div>
<div class="ttc" id="awrappers_8h_html"><div class="ttname"><a href="wrappers_8h.html">wrappers.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_647742e9cc76af67f6cf3f315d92f35b.html">d8</a></li><li class="navelem"><a class="el" href="d8_8cc.html">d8.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:06 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
