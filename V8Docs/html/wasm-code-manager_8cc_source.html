<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/wasm/wasm-code-manager.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('wasm-code-manager_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">wasm-code-manager.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="wasm-code-manager_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2017 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-code-manager_8h.html">src/wasm/wasm-code-manager.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="atomicops_8h.html">src/base/atomicops.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="build__config_8h.html">src/base/build_config.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator_8h.html">src/base/iterator.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2macros_8h.html">src/base/macros.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2platform_2platform_8h.html">src/base/platform/platform.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wrappers_8h.html">src/base/platform/wrappers.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="small-vector_8h.html">src/base/small-vector.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-format_8h.html">src/base/string-format.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vector_8h.html">src/base/vector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="builtins-inl_8h.html">src/builtins/builtins-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assembler-inl_8h.html">src/codegen/assembler-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="macro-assembler-inl_8h.html">src/codegen/macro-assembler-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="macro-assembler_8h.html">src/codegen/macro-assembler.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="code-memory-access_8h.html">src/common/code-memory-access.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="deoptimizer_8h.html">src/deoptimizer/deoptimizer.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="disassembler_8h.html">src/diagnostics/disassembler.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="counters_8h.html">src/logging/counters.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">src/logging/log.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="embedded-data-inl_8h.html">src/snapshot/embedded/embedded-data-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ostreams_8h.html">src/utils/ostreams.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="code-space-access_8h.html">src/wasm/code-space-access.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="compilation-environment_8h.html">src/wasm/compilation-environment.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="function-compiler_8h.html">src/wasm/function-compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="jump-table-assembler_8h.html">src/wasm/jump-table-assembler.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="module-compiler_8h.html">src/wasm/module-compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="names-provider_8h.html">src/wasm/names-provider.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pgo_8h.html">src/wasm/pgo.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="std-object-sizes_8h.html">src/wasm/std-object-sizes.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-builtin-list_8h.html">src/wasm/wasm-builtin-list.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-code-coverage_8h.html">src/wasm/wasm-code-coverage.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-code-pointer-table-inl_8h.html">src/wasm/wasm-code-pointer-table-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-debug_8h.html">src/wasm/wasm-debug.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-deopt-data_8h.html">src/wasm/wasm-deopt-data.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-engine_8h.html">src/wasm/wasm-engine.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-import-wrapper-cache_8h.html">src/wasm/wasm-import-wrapper-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-module-sourcemap_8h.html">src/wasm/wasm-module-sourcemap.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-module_8h.html">src/wasm/wasm-module.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-objects-inl_8h.html">src/wasm/wasm-objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-objects_8h.html">src/wasm/wasm-objects.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="well-known-imports_8h.html">src/wasm/well-known-imports.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-interpreter-runtime_8h.html">src/wasm/interpreter/wasm-interpreter-runtime.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN64)</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="unwinding-info-win64_8h.html">src/diagnostics/unwinding-info-win64.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_WIN64</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">   63</a></span>&#160;<span class="preprocessor">#define TRACE_HEAP(...)                                       \</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">  do {                                                        \</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">    if (v8_flags.trace_wasm_native_heap) PrintF(__VA_ARGS__); \</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">  } while (false)</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacewasm.html">wasm</a> {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">using</span> trap_handler::ProtectedInstructionData;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// Check that {WasmCode} objects are sufficiently small. We create many of them,</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// often for rather small functions.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">// Increase the limit if needed, but first check if the size increase is</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// justified.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#ifndef V8_GC_MOLE</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;static_assert(<span class="keyword">sizeof</span>(WasmCode) &lt;= 112);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">   82</a></span>&#160;<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">DisjointAllocationPool::Merge</a>(</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> new_region) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// Find the possible insertion position by identifying the first region whose</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="comment">// start address is not less than that of {new_region}. Since there cannot be</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// any overlap between regions, this also means that the start of {above} is</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// bigger or equal than the *end* of {new_region}.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.lower_bound(new_region);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a> == <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.end() || <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>-&gt;begin() &gt;= new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// Check whether to merge with {above}.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a> != <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.end() &amp;&amp; new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>() == <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>-&gt;begin()) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> merged_region{new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(),</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                      new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>() + <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>-&gt;size()};</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(merged_region.end(), <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>-&gt;end());</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// Check whether to also merge with the region below.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a> != <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.begin()) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      --<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;end() == new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        merged_region = {<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;begin(), <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;size() + merged_region.size()};</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.erase(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keyword">auto</span> insert_pos = <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.erase(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(insert_pos, merged_region);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> merged_region;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">// No element below, and not adjavent to {above}: insert and done.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a> == <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.begin()) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>, new_region);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> new_region;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  --<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// Consistency check:</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a> == <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.end() || <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;end() &lt; <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>-&gt;begin());</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Adjacent to {below}: merge and done.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;end() == new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> merged_region{<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;begin(),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                      <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;size() + new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()};</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(merged_region.end(), new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.erase(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>, merged_region);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> merged_region;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Not adjacent to any existing region: insert between {below} and {above}.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">below</a>-&gt;end(), new_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">above</a>, new_region);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> new_region;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a5a78c9832c8962fdc94b954e5b0adb65">  137</a></span>&#160;<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a5a78c9832c8962fdc94b954e5b0adb65">DisjointAllocationPool::Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#aaae1e5e18b6363b94f228abe6521dd3b">AllocateInRegion</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                          {<a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>, std::numeric_limits&lt;size_t&gt;::max()});</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#aaae1e5e18b6363b94f228abe6521dd3b">  142</a></span>&#160;<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#aaae1e5e18b6363b94f228abe6521dd3b">DisjointAllocationPool::AllocateInRegion</a>(</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// Get an iterator to the first contained region whose start address is not</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">// smaller than the start address of {region}. Start the search from the</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// region one before that (the last one whose start address is smaller).</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.lower_bound(region);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (it != <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.begin()) --it;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.end(); it != <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++it) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> overlap = it-&gt;<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a65b3baa673fc67d3dde9fec305ccdebc">GetOverlap</a>(region);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &gt; overlap.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> ret{overlap.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>};</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> old = *it;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keyword">auto</span> insert_pos = <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.erase(it);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> == old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="comment">// We use the full region --&gt; nothing to add back.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret.begin() == old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// We return a region at the start --&gt; shrink old region from front.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(insert_pos, {old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>() + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>() - <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>});</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret.end() == old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>()) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="comment">// We return a region at the end --&gt; shrink remaining region.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(insert_pos, {old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>() - <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>});</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="comment">// We return something in the middle --&gt; split the remaining region</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="comment">// (insert the region with smaller address first).</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(insert_pos, {old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), ret.begin() - old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()});</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">regions_</a>.insert(insert_pos, {ret.end(), old.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>() - ret.end()});</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aec3d947bda334f5e27cf71c49674b10d">  175</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aec3d947bda334f5e27cf71c49674b10d">WasmCode::constant_pool</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="common_2globals_8h.html#a66ec6fa51a5427d80ac1b27a3b4f38d2">V8_EMBEDDED_CONSTANT_POOL_BOOL</a>) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">constant_pool_offset_</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#abfd3f79e7b7f51a7278a55530165f428">code_comments_offset_</a>) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() + <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">constant_pool_offset_</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00c5b3d34913272e9ce1cacfe05d4d33">  184</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00c5b3d34913272e9ce1cacfe05d4d33">WasmCode::handler_table</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() + <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a71f3169681cc2e1c7c6d86205eedd8f0">handler_table_offset_</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a5a78bb078a03d73444b991c277dd6194">  188</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a5a78bb078a03d73444b991c277dd6194">WasmCode::handler_table_size</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">constant_pool_offset_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a71f3169681cc2e1c7c6d86205eedd8f0">handler_table_offset_</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">constant_pool_offset_</a> - <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a71f3169681cc2e1c7c6d86205eedd8f0">handler_table_offset_</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8fe73eecc8f962c5a2d2172c9c54454">  193</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8fe73eecc8f962c5a2d2172c9c54454">WasmCode::code_comments</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() + <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#abfd3f79e7b7f51a7278a55530165f428">code_comments_offset_</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ae626a585fa560ca29921df489d63f35f">  197</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ae626a585fa560ca29921df489d63f35f">WasmCode::code_comments_size</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3cbd9324fef84e70f82e91a9d27b9f9d">jump_table_info_offset_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#abfd3f79e7b7f51a7278a55530165f428">code_comments_offset_</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3cbd9324fef84e70f82e91a9d27b9f9d">jump_table_info_offset_</a> - <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#abfd3f79e7b7f51a7278a55530165f428">code_comments_offset_</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd615bd514aca362158ac348d2da9eca">  202</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd615bd514aca362158ac348d2da9eca">WasmCode::jump_table_info</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() + <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3cbd9324fef84e70f82e91a9d27b9f9d">jump_table_info_offset_</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a91b7232f81a543b7f02c0349bedd8198">  206</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a91b7232f81a543b7f02c0349bedd8198">WasmCode::jump_table_info_size</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00b1dcdef3ccb74cb5ab7a1574a229db">unpadded_binary_size_</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3cbd9324fef84e70f82e91a9d27b9f9d">jump_table_info_offset_</a>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00b1dcdef3ccb74cb5ab7a1574a229db">unpadded_binary_size_</a> - <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3cbd9324fef84e70f82e91a9d27b9f9d">jump_table_info_offset_</a>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ae5c7ff530922890428304da450da5460">  211</a></span>&#160;std::unique_ptr&lt;const uint8_t[]&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ae5c7ff530922890428304da450da5460">WasmCode::ConcatenateBytes</a>(</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    std::initializer_list&lt;<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a>&gt; vectors) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordtype">size_t</span> total_size = 0;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vec : vectors) total_size += vec.size();</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">// Use default-initialization (== no initialization).</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  std::unique_ptr&lt;uint8_t[]&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>{<span class="keyword">new</span> uint8_t[total_size]};</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  uint8_t* ptr = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.get();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vec : vectors) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (vec.empty()) <span class="keywordflow">continue</span>;  <span class="comment">// Avoid nullptr in {memcpy}.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    memcpy(ptr, vec.begin(), vec.size());</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    ptr += vec.size();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a6910da2417b70818812344b655448b54">  226</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a6910da2417b70818812344b655448b54">WasmCode::RegisterTrapHandlerData</a>() {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3949626343ca943835f2666afb49bc8d">has_trap_handler_index</a>());</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>() != <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">WasmCode::kWasmFunction</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9fabcc878ce99f267448f3a1566cef60">protected_instructions_size_</a> == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> base = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>();</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keyword">auto</span> protected_instruction_data = this-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a83923f2a11512b3696758051fdf9c890">protected_instructions</a>();</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a> =</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#aaf9f89c4e04dbc3dd11d0994f585144e">RegisterHandlerData</a>(base, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, protected_instruction_data.size(),</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                          protected_instruction_data.begin());</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// TODO(eholk): if index is negative, fail.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a66d0c4639314b66374cb48c77554412a">set_trap_handler_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3949626343ca943835f2666afb49bc8d">has_trap_handler_index</a>());</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">  245</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">WasmCode::ShouldBeLogged</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// The return value is cached in {WasmEngine::IsolateData::log_codes}. Ensure</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// to call {WasmEngine::EnableCodeLogging} if this return value would change</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="comment">// for any isolate. Otherwise we might lose code events.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a19fe4bb8399a1f2a2b82caad4c832086">IsLoggingCodeCreation</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a309bc6c5680169670f74f25abc9ad0e2">  252</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a309bc6c5680169670f74f25abc9ad0e2">WasmCode::DebugName</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>()) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5">kWasmToCapiWrapper</a>:</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;wasm-to-c&quot;</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">kJumpTable</a>:</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;jump-table&quot;</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4">kWasmToJsWrapper</a>:</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;wasm-to-js&quot;</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">case</span> kInterpreterEntry:</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;interpreter entry&quot;</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">kWasmFunction</a>:</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="comment">// Gets handled below</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html">ModuleWireBytes</a> wire_bytes(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7cc22a87e48816ef3eae72130ffac2cb">native_module</a>()-&gt;wire_bytes());</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7cc22a87e48816ef3eae72130ffac2cb">native_module</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">WireBytesRef</a> name_ref =</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0968dbfaa7e6cf781764e9d2cf7336a5">lazily_generated_names</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1LazilyGeneratedNames.html#a18b1d6d0ec7a67bbb0ecac1da13d75db">LookupFunctionName</a>(wire_bytes, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a>());</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">WasmName</a> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a> = wire_bytes.<a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html#aad25d74a24c1f21b337f94460ecc662c">GetNameOrNull</a>(name_ref);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> name_buffer;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>.empty()) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    name_buffer.resize(32);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    name_buffer.resize(</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <a class="code" href="namespacev8_1_1base.html#a36caaf43a3f7761ae90d699b961f0239">SNPrintF</a>(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(&amp;name_buffer.front(), name_buffer.size()),</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                 <span class="stringliteral">&quot;wasm-function[%d]&quot;</span>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a>()));</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    name_buffer.append(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>.begin(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>.end());</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">return</span> name_buffer;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;}</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8812eaf47c0af7737451c411dd2f15f1">  286</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8812eaf47c0af7737451c411dd2f15f1">WasmCode::LogCode</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* source_url,</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                       <span class="keywordtype">int</span> script_id)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">ShouldBeLogged</a>(isolate));</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9e613d2e2b4efb89259f7e209d0911c2">IsAnonymous</a>() &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>() != WasmCode::Kind::kWasmToJsWrapper) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> fn_name = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a309bc6c5680169670f74f25abc9ad0e2">DebugName</a>();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">WasmName</a> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a> = <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(fn_name);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html">WasmDebugSymbols</a>&amp; symbol =</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a29343a7352161e7534f33ef4620338b3">debug_symbols</a>[WasmDebugSymbols::Type::SourceMap];</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keyword">auto</span> load_wasm_source_map = isolate-&gt;wasm_load_source_map_callback();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">auto</span> source_map = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adfb76e34f35dc0075dfa6458491ebc59">GetWasmSourceMap</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">if</span> (!source_map &amp;&amp; symbol.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html#a7ceab03e102013f6c054a06db16e12f5">type</a> == WasmDebugSymbols::Type::SourceMap &amp;&amp;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        !symbol.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html#a25ea0bb81982bd235229b5344509f9c1">external_url</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a45fb66d092f08cdf54005a1ebdfbd901">is_empty</a>() &amp;&amp; load_wasm_source_map) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html">ModuleWireBytes</a> wire_bytes(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>());</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <a class="code" href="classv8_1_1base_1_1Vector.html">WasmName</a> external_url = wire_bytes.<a class="code" href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html#aad25d74a24c1f21b337f94460ecc662c">GetNameOrNull</a>(symbol.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html#a25ea0bb81982bd235229b5344509f9c1">external_url</a>);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> external_url_string(external_url.<a class="code" href="classv8_1_1base_1_1Vector.html#a7ae17f2372808420997b1aff6addcdd0">data</a>(), external_url.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> scope(isolate);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* v8_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;v8::String&gt;</a> source_map_str =</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          load_wasm_source_map(v8_isolate, external_url_string.c_str());</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af7f35e6098885c81d9915c96d6b7cf9d">SetWasmSourceMap</a>(</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          std::make_unique&lt;WasmModuleSourceMap&gt;(v8_isolate, source_map_str));</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// Record source positions before adding code, otherwise when code is added,</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="comment">// there are no source positions to associate with the added code.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd1f6ec1feca2ba6c7b62388741b679a">source_positions</a>().empty()) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="log_8h.html#a2136964700ae2b6a19ce954e7848210b">LOG_CODE_EVENT</a>(isolate, WasmCodeLinePosInfoRecordEvent(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(),</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                           <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd1f6ec1feca2ba6c7b62388741b679a">source_positions</a>()));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordtype">int</span> code_offset = 0;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9e613d2e2b4efb89259f7e209d0911c2">IsAnonymous</a>()) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    code_offset = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a57a770b1b395975c299e3085f56832f1">index_</a>].code.offset();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <a class="code" href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a>(isolate, CodeCreateEvent(<a class="code" href="namespacev8_1_1internal_1_1torque_1_1ls.html#afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8">LogEventListener::CodeTag::kFunction</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>, source_url, code_offset, script_id));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html">  329</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a08e0030ca5b0ab15720168dafe9c5c0d">  330</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a08e0030ca5b0ab15720168dafe9c5c0d">ProtectedInstructionDataCompare</a>(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html">ProtectedInstructionData</a>&amp; left,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html">ProtectedInstructionData</a>&amp; right) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> left.<a class="code" href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html#ad53ed09d9db529dc778705518be5967f">instr_offset</a> &lt; right.<a class="code" href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html#ad53ed09d9db529dc778705518be5967f">instr_offset</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1951335f26c2a59efcd6997ad28b6157">  336</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1951335f26c2a59efcd6997ad28b6157">WasmCode::IsProtectedInstruction</a>(<a class="code" href="classuintptr__t.html">Address</a> pc) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const trap_handler::ProtectedInstructionData&gt;</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a> =</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a83923f2a11512b3696758051fdf9c890">protected_instructions</a>();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html">ProtectedInstructionData</a> offset{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(pc - <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>())};</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">return</span> std::binary_search(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>.<a class="code" href="classv8_1_1base_1_1Vector.html#a7bfe0c3b6061fe6b4cd032d31e425990">end</a>(), offset,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a08e0030ca5b0ab15720168dafe9c5c0d">ProtectedInstructionDataCompare</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8457a62709deef003163c655a448f756">  345</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8457a62709deef003163c655a448f756">WasmCode::Validate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// The packing strategy for {tagged_parameter_slots} only works if both the</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// max number of parameters and their max combined stack slot usage fits into</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// their respective half of the result value.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">wasm::kV8MaxWasmFunctionParams</a> &lt;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                std::numeric_limits&lt;uint16_t&gt;::max());</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> kMaxSlotsPerParam = 4;  <span class="comment">// S128 on 32-bit platforms.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">wasm::kV8MaxWasmFunctionParams</a> * kMaxSlotsPerParam &lt;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                std::numeric_limits&lt;uint16_t&gt;::max());</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">NativeModule::CallIndirectTargetMap</a> function_index_map;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    function_index_map =</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac075badc36b3fdb58a4f15b9a3dd12c9">CreateIndirectCallTargetToFunctionIndexMap</a>();</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// Scope for foreign WasmCode pointers.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// We expect certain relocation info modes to never appear in {WasmCode}</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">// objects or to be restricted to a small set of valid values. Hence the</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// iteration below does not use a mask, but visits all relocation data.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1RelocIterator.html">RelocIterator</a> it(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#af483aa8e46a841f74c33d9c904ead58c">reloc_info</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aec3d947bda334f5e27cf71c49674b10d">constant_pool</a>());</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;       !it.<a class="code" href="classv8_1_1internal_1_1RelocIteratorBase.html#a4e36ec3860d142b680388b2280014ea0">done</a>(); it.next()) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">RelocInfo::Mode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = it.rinfo()-&gt;rmode();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48">RelocInfo::WASM_CALL</a>: {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> target = it.rinfo()-&gt;wasm_call_address();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">Lookup</a>(target);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;kind());</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;contains(target));</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">RelocInfo::WASM_STUB_CALL</a>: {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> target = it.rinfo()-&gt;wasm_stub_call_address();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">Lookup</a>(target);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;kind());</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;contains(target));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea98c891fef4fdd3db6140ef54e117d01f">RelocInfo::WASM_CANONICAL_SIG_ID</a>: {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        uint32_t sig_id = it.rinfo()-&gt;wasm_canonical_sig_id();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(sig_id, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>()-&gt;GetCurrentNumberOfTypes());</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>: {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> call_target =</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            it.rinfo()-&gt;wasm_code_pointer_table_entry();</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        uint32_t function_index = function_index_map.at(call_target);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(call_target,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(function_index));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea723a8870ed824d0646f87123220c709c">RelocInfo::INTERNAL_REFERENCE</a>:</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea3b7f4cf84436d1c2c76bf8e06c2e53bd">RelocInfo::INTERNAL_REFERENCE_ENCODED</a>: {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> target = it.rinfo()-&gt;target_internal_reference();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a86612599c4a49e5ff328d3fd108ed267">contains</a>(target));</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea4749f69effc3746c91e2472a2e73d718">RelocInfo::EXTERNAL_REFERENCE</a>:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eac9e0110e19d8df8e93d56ae136b543e4">RelocInfo::CONST_POOL</a>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea5f7b01771fa839eba1164bdc0061a291">RelocInfo::VENEER_POOL</a>:</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="comment">// These are OK to appear.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;Unexpected mode: %d&quot;</span>, <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0f94a461ae1a32a2931d6cec086860e2">  417</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0f94a461ae1a32a2931d6cec086860e2">WasmCode::MaybePrint</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// Determines whether flags want this code to be printed.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordtype">bool</span> function_index_matches =</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9e613d2e2b4efb89259f7e209d0911c2">IsAnonymous</a>() &amp;&amp;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;       <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_code_function_index == <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a>()));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_code ||</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>() == <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">kWasmFunction</a></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;           ? (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_code || function_index_matches)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;           : <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_stub_code.value())) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a309bc6c5680169670f74f25abc9ad0e2">DebugName</a>();</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0fd2c078c0b8a5e5d2dfa2c253c58676">Print</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>.c_str());</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0fd2c078c0b8a5e5d2dfa2c253c58676">  431</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0fd2c078c0b8a5e5d2dfa2c253c58676">WasmCode::Print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StdoutStream.html">StdoutStream</a> os;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;--- WebAssembly code ---\n&quot;</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a67fc73055bd53a21c7fd76f8c9bb93c3">Disassemble</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>, os);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a> &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a32aeb7786fe56d49f56d6da667f940ca">HasDebugInfo</a>()) {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span>* debug_side_table =</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">native_module_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a773f6a9db3d5a181ca810d7a92e19da6">GetDebugInfo</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html#abd6a863dc47b07d34f5b383c79ee3e20">GetDebugSideTableIfExists</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      debug_side_table-&gt;Print(os);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    }</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;--- End code ---\n&quot;</span>;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;}</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a67fc73055bd53a21c7fd76f8c9bb93c3">  444</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a67fc73055bd53a21c7fd76f8c9bb93c3">WasmCode::Disassemble</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>, std::ostream&amp; os,</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                           <a class="code" href="classuintptr__t.html">Address</a> current_pc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a>) os &lt;&lt; <span class="stringliteral">&quot;name: &quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">name</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9e613d2e2b4efb89259f7e209d0911c2">IsAnonymous</a>()) os &lt;&lt; <span class="stringliteral">&quot;index: &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">index</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;kind: &quot;</span> &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7d4fcae80d23d6a3fd336b7ed70eee1e">GetWasmCodeKindAsString</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>()) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">kind</a>() == <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">kWasmFunction</a>) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8bd3de600f8533f15759f5770993cb34">is_liftoff</a>() || <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a135625ac865b7b381136e919e5e7c2bd">tier</a>() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* compiler =</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8bd3de600f8533f15759f5770993cb34">is_liftoff</a>() ? (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">for_debugging</a>() ? <span class="stringliteral">&quot;Liftoff (debug)&quot;</span> : <span class="stringliteral">&quot;Liftoff&quot;</span>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                     : <span class="stringliteral">&quot;TurboFan&quot;</span>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;compiler: &quot;</span> &lt;&lt; compiler &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordtype">size_t</span> padding = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() - <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00b1dcdef3ccb74cb5ab7a1574a229db">unpadded_binary_size_</a>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;Body (size = &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() &lt;&lt; <span class="stringliteral">&quot; = &quot;</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;     &lt;&lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00b1dcdef3ccb74cb5ab7a1574a229db">unpadded_binary_size_</a> &lt;&lt; <span class="stringliteral">&quot; + &quot;</span> &lt;&lt; padding &lt;&lt; <span class="stringliteral">&quot; padding)\n&quot;</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordtype">int</span> instruction_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00b1dcdef3ccb74cb5ab7a1574a229db">unpadded_binary_size_</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">constant_pool_offset_</a> &lt; instruction_size) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    instruction_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">constant_pool_offset_</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa76c67e880dd4df744a2d9754e912fb8">safepoint_table_offset_</a> &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa76c67e880dd4df744a2d9754e912fb8">safepoint_table_offset_</a> &lt; instruction_size) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    instruction_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa76c67e880dd4df744a2d9754e912fb8">safepoint_table_offset_</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a71f3169681cc2e1c7c6d86205eedd8f0">handler_table_offset_</a> &lt; instruction_size) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    instruction_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a71f3169681cc2e1c7c6d86205eedd8f0">handler_table_offset_</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, instruction_size);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">#ifdef ENABLE_DISASSEMBLER</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;Instructions (size = &quot;</span> &lt;&lt; instruction_size &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Disassembler.html#a3dbcf578257496f2a1b1f3db8966f119">Disassembler::Decode</a>(<span class="keyword">nullptr</span>, os, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>(),</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>() + instruction_size,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1CodeReference.html">CodeReference</a>(<span class="keyword">this</span>), current_pc);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a5a78bb078a03d73444b991c277dd6194">handler_table_size</a>() &gt; 0) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HandlerTable.html">HandlerTable</a> table(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;Exception Handler Table (size = &quot;</span> &lt;&lt; table.<a class="code" href="classv8_1_1internal_1_1HandlerTable.html#a2deadbbd6405c66f9d5739c89f5f4873">NumberOfReturnEntries</a>()</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;):\n&quot;</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    table.HandlerTableReturnPrint(os);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9fabcc878ce99f267448f3a1566cef60">protected_instructions_size_</a> &gt; 0) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;Protected instructions:\n pc offset\n&quot;</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a83923f2a11512b3696758051fdf9c890">protected_instructions</a>()) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      os &lt;&lt; std::setw(10) &lt;&lt; std::hex &lt;&lt; data.instr_offset &lt;&lt; std::setw(10)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd1f6ec1feca2ba6c7b62388741b679a">source_positions</a>().empty()) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;Source positions:\n pc offset  position\n&quot;</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1SourcePositionTableIterator.html">SourcePositionTableIterator</a> it(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd1f6ec1feca2ba6c7b62388741b679a">source_positions</a>()); !it.<a class="code" href="classv8_1_1internal_1_1SourcePositionTableIterator.html#a0845f40c6af62abe649e2a543efc057d">done</a>();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;         it.Advance()) {</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      os &lt;&lt; std::setw(10) &lt;&lt; std::hex &lt;&lt; it.code_offset() &lt;&lt; std::dec</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;         &lt;&lt; std::setw(10) &lt;&lt; it.source_position().ScriptOffset()</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;         &lt;&lt; (it.is_statement() ? <span class="stringliteral">&quot;  statement&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a901ca7733b4237c0741a672018cac9a5">deopt_data_size_</a> &gt; 0) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmDeoptView.html">WasmDeoptView</a> view(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7bb0d24a8ffd1a42cf31359bf02c22af">deopt_data</a>());</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html">WasmDeoptData</a> data = view.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmDeoptView.html#a3c11270aa822311187eb5b594d11d389">GetDeoptData</a>();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;Deopt exits (entries = &quot;</span> &lt;&lt; data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html#ae261d50f4a6d4f1ea1926dc527b30a21">entry_count</a></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;, byte size = &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a901ca7733b4237c0741a672018cac9a5">deopt_data_size_</a> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    constexpr <span class="keywordtype">char</span> pc_offset[] = <span class="stringliteral">&quot;pc-offset&quot;</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    constexpr <span class="keywordtype">char</span> source_offset[] = <span class="stringliteral">&quot; source-offset&quot;</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    constexpr <span class="keywordtype">char</span> translation_index[] = <span class="stringliteral">&quot; translation-index&quot;</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    os &lt;&lt; pc_offset &lt;&lt; source_offset &lt;&lt; translation_index &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    uint32_t code_offset = data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html#a6a499de286c875e0a744eb11cdd3d986">deopt_exit_start_offset</a>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html#ae261d50f4a6d4f1ea1926dc527b30a21">entry_count</a>; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptEntry.html">WasmDeoptEntry</a> entry = view.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmDeoptView.html#a47c97d84e8183f29fdd51be5b63c392b">GetDeoptEntry</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      os &lt;&lt; std::setw(<span class="keyword">sizeof</span> pc_offset - 1) &lt;&lt; std::hex &lt;&lt; code_offset</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;         &lt;&lt; std::dec &lt;&lt; std::setw(<span class="keyword">sizeof</span> source_offset - 1)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;         &lt;&lt; entry.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptEntry.html#a6d04a31802433fcc5d96dee5d14242dc">bytecode_offset</a> &lt;&lt; std::setw(<span class="keyword">sizeof</span> translation_index - 1)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;         &lt;&lt; entry.<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmDeoptEntry.html#a54f2c5c587bb8d6ca3c718bf143aa2f4">translation_index</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      code_offset += <a class="code" href="classv8_1_1internal_1_1Deoptimizer.html#a2baf047b2ee590dddae72e66e1386983">Deoptimizer::kEagerDeoptExitSize</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    os &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa76c67e880dd4df744a2d9754e912fb8">safepoint_table_offset_</a> &gt; 0) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SafepointTable.html">SafepointTable</a> table(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    table.<a class="code" href="classv8_1_1internal_1_1SafepointTable.html#a057e4f18218a4f7073b96148677e3571">Print</a>(os);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;RelocInfo (size = &quot;</span> &lt;&lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#af483aa8e46a841f74c33d9c904ead58c">reloc_info</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1RelocIterator.html">RelocIterator</a> it(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#af483aa8e46a841f74c33d9c904ead58c">reloc_info</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aec3d947bda334f5e27cf71c49674b10d">constant_pool</a>());</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;       !it.<a class="code" href="classv8_1_1internal_1_1RelocIteratorBase.html#a4e36ec3860d142b680388b2280014ea0">done</a>(); it.next()) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    it.rinfo()-&gt;Print(<span class="keyword">nullptr</span>, os);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !ENABLE_DISASSEMBLER</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  os &lt;&lt; <span class="stringliteral">&quot;Instructions (size = &quot;</span> &lt;&lt; instruction_size &lt;&lt; <span class="stringliteral">&quot;, &quot;</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;     &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()) &lt;&lt; <span class="stringliteral">&quot;-&quot;</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;     &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>() + instruction_size) &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !ENABLE_DISASSEMBLER</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#a7d4fcae80d23d6a3fd336b7ed70eee1e">  547</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7d4fcae80d23d6a3fd336b7ed70eee1e">GetWasmCodeKindAsString</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">switch</span> (kind) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">WasmCode::kWasmFunction</a>:</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;wasm function&quot;</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5">WasmCode::kWasmToCapiWrapper</a>:</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;wasm-to-capi&quot;</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4">WasmCode::kWasmToJsWrapper</a>:</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;wasm-to-js&quot;</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">case</span> WasmCode::kInterpreterEntry:</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;interpreter entry&quot;</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>:</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;jump table&quot;</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown kind&quot;</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a42a79bd135c2fe3f5aec43a4a39d2cb1">  565</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a42a79bd135c2fe3f5aec43a4a39d2cb1">WasmCode::~WasmCode</a>() {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3949626343ca943835f2666afb49bc8d">has_trap_handler_index</a>()) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1trap__handler.html#a6212dc14540b8761e5f9d7d46ac445ec">trap_handler::ReleaseHandlerData</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a6742ae1aea4468605362a555fa721db7">trap_handler_index</a>());</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;}</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a483b81a9f93ffb4d219666f1eaaa3208">  571</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a483b81a9f93ffb4d219666f1eaaa3208">WasmCode::DecRefOnPotentiallyDeadCode</a>() {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a6ad160f95280e9e5005ea39a3f1cb65b">AddPotentiallyDeadCode</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;}</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00576"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">  576</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">WasmCode::DecrementRefCount</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;WasmCode* const&gt;</a> code_vec) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// Decrement the ref counter of all given code objects. Keep the ones whose</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="comment">// ref count drops to zero.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a34ff6a2da3d8ef3b85ad087cc4316ebe">WasmEngine::DeadCodeMap</a> dead_code;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  std::vector&lt;WasmCode*&gt; dead_wrappers;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : code_vec) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;DecRef()) <span class="keywordflow">continue</span>;  <span class="comment">// Remaining references.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7cc22a87e48816ef3eae72130ffac2cb">native_module</a> = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;native_module();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7cc22a87e48816ef3eae72130ffac2cb">native_module</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      dead_code[<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7cc22a87e48816ef3eae72130ffac2cb">native_module</a>].push_back(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      dead_wrappers.push_back(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (dead_code.empty() &amp;&amp; dead_wrappers.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a7205b4150830ce82a81d687f9f0765af">FreeDeadCode</a>(dead_code, dead_wrappers);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa28996c5cbe5173fdf91835423281487">  596</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1SourcePosition.html">SourcePosition</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa28996c5cbe5173fdf91835423281487">WasmCode::GetSourcePositionBefore</a>(<span class="keywordtype">int</span> code_offset) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="classv8_1_1internal_1_1SourcePosition.html">SourcePosition</a> position;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1SourcePositionTableIterator.html">SourcePositionTableIterator</a> iterator(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd1f6ec1feca2ba6c7b62388741b679a">source_positions</a>());</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;       !iterator.<a class="code" href="classv8_1_1internal_1_1SourcePositionTableIterator.html#a0845f40c6af62abe649e2a543efc057d">done</a>() &amp;&amp; iterator.code_offset() &lt; code_offset;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;       iterator.Advance()) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    position = iterator.source_position();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">return</span> position;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd35922706de8e53f6636e2ffee15c47">  606</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd35922706de8e53f6636e2ffee15c47">WasmCode::GetSourceOffsetBefore</a>(<span class="keywordtype">int</span> code_offset) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa28996c5cbe5173fdf91835423281487">GetSourcePositionBefore</a>(code_offset).<a class="code" href="classv8_1_1internal_1_1SourcePosition.html#a303c0c4fa47bd9368489bdd75b5931ec">ScriptOffset</a>();</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0665c8539d19ce1d73de15e50a308ed0">  610</a></span>&#160;std::tuple&lt;int, bool, SourcePosition&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0665c8539d19ce1d73de15e50a308ed0">WasmCode::GetInliningPosition</a>(</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordtype">int</span> inlining_id)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> elem_size = <span class="keyword">sizeof</span>(<a class="code" href="classint.html">int</a>) + <span class="keyword">sizeof</span>(<span class="keywordtype">bool</span>) + <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1SourcePosition.html">SourcePosition</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keyword">const</span> uint8_t* start = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a32f7fa403d3e185b54917d99e2eabcce">inlining_positions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>() + elem_size * inlining_id;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(start, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a32f7fa403d3e185b54917d99e2eabcce">inlining_positions</a>().<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>());</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  std::tuple&lt;int, bool, SourcePosition&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  std::memcpy(&amp;std::get&lt;0&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>), start, <span class="keyword">sizeof</span> std::get&lt;0&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  std::memcpy(&amp;std::get&lt;1&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>), start + <span class="keyword">sizeof</span> std::get&lt;0&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>),</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;              <span class="keyword">sizeof</span> std::get&lt;1&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  std::memcpy(&amp;std::get&lt;2&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>),</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;              start + <span class="keyword">sizeof</span> std::get&lt;0&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) + <span class="keyword">sizeof</span> std::get&lt;1&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>),</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;              <span class="keyword">sizeof</span> std::get&lt;2&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;}</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160; </div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acbb10aa1640d3e9bfaeac3d22a4d15f7">  625</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acbb10aa1640d3e9bfaeac3d22a4d15f7">WasmCode::EstimateCurrentMemoryConsumption</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <a class="code" href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>, 112);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2265f4016946fd6cebc80a33de464e3">WasmCode</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="comment">// For meta_data_.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9fabcc878ce99f267448f3a1566cef60">protected_instructions_size_</a> + <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a5c0becdae6dc49bd39d8ccbc70a5ef6c">reloc_info_size_</a> +</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad4b585ddf940fd04fdd01001c2bd1d9f">source_positions_size_</a> + <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a386c227a312b191a1ca69739acf33738">inlining_positions_size_</a> +</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a901ca7733b4237c0741a672018cac9a5">deopt_data_size_</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aa289065d9ae1bb0c582cbbc494d37bdb">  635</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aa289065d9ae1bb0c582cbbc494d37bdb">WasmCodeAllocator::WasmCodeAllocator</a>(std::shared_ptr&lt;Counters&gt; async_counters)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    : async_counters_(std::move(async_counters)) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>.reserve(4);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9abc070754afe49eaea6f0d31a55da49">  640</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9abc070754afe49eaea6f0d31a55da49">WasmCodeAllocator::~WasmCodeAllocator</a>() {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a55a717894f5d005ae86062dd4647a3b2">GetWasmCodeManager</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a27ace0686f32545957a6b0948813db9a">FreeNativeModule</a>(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>),</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                                         <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9f5f12643315075f0a553f61c992fdb1">committed_code_space</a>());</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aac5c374b4b033bd08bb50481fda354db">  645</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aac5c374b4b033bd08bb50481fda354db">WasmCodeAllocator::Init</a>(<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> code_space) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>.empty());</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1f54429c1b62a241eeb0426458b7d388">free_code_space_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ae1c8c42c6b46181491ce58c3680e04a3">IsEmpty</a>());</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">if</span> (code_space.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a4e314fe91c3c610bb8495aa6435cba9f">IsReserved</a>()) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1f54429c1b62a241eeb0426458b7d388">free_code_space_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">Merge</a>(code_space.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a189b2051e0b85c97fd761d87f2ee207a">region</a>());</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>.emplace_back(std::move(code_space));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ab0e75298547c6a5e80fe8cd1e25a1742">async_counters_</a>-&gt;wasm_module_num_code_spaces()-&gt;AddSample(1);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ab0e75298547c6a5e80fe8cd1e25a1742">async_counters_</a>-&gt;wasm_module_num_code_spaces()-&gt;AddSample(0);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;}</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">// On Windows, we cannot commit a region that straddles different reservations</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">// of virtual memory. Because we bump-allocate, and because, if we need more</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">// memory, we append that memory at the end of the owned_code_space_ list, we</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">// traverse that list in reverse order to find the reservation(s) that guide how</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">// to chunk the region to commit.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#if V8_OS_WIN</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;constexpr <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ad801d53720b44441bc58d091080c84ff">kNeedsToSplitRangeByReservations</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00666"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ad801d53720b44441bc58d091080c84ff">  666</a></span>&#160;constexpr <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ad801d53720b44441bc58d091080c84ff">kNeedsToSplitRangeByReservations</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a6b9409414ed9e23ba58f7fd48c6f7937">  669</a></span>&#160;<a class="code" href="classv8_1_1base_1_1SmallVector.html">base::SmallVector&lt;base::AddressRegion, 1&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a6b9409414ed9e23ba58f7fd48c6f7937">SplitRangeByReservationsIfNeeded</a>(</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> range,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keyword">const</span> std::vector&lt;VirtualMemory&gt;&amp; owned_code_space) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ad801d53720b44441bc58d091080c84ff">kNeedsToSplitRangeByReservations</a>) <span class="keywordflow">return</span> {range};</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="classv8_1_1base_1_1SmallVector.html">base::SmallVector&lt;base::AddressRegion, 1&gt;</a> split_ranges;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordtype">size_t</span> missing_begin = range.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordtype">size_t</span> missing_end = range.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>();</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vmem : <a class="code" href="namespacev8_1_1base.html#a7364bf7dcb822d07f7380aeff8d2a77b">base::Reversed</a>(owned_code_space)) {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> overlap_begin = std::max(missing_begin, vmem.address());</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> overlap_end = std::min(missing_end, vmem.end());</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> (overlap_begin &gt;= overlap_end) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    split_ranges.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a52ba6afaadfb2e894fff71b9a44c38db">emplace_back</a>(overlap_begin, overlap_end - overlap_begin);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">// Opportunistically reduce the missing range. This might terminate the loop</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// early.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (missing_begin == overlap_begin) missing_begin = overlap_end;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (missing_end == overlap_end) missing_end = overlap_begin;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">if</span> (missing_begin &gt;= missing_end) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#ifdef ENABLE_SLOW_DCHECKS</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">// The returned vector should cover the full range.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keywordtype">size_t</span> total_split_size = 0;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a85908a2ac6abdcec9ee9c4f7e51e795f">split</a> : split_ranges) total_split_size += <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a85908a2ac6abdcec9ee9c4f7e51e795f">split</a>.size();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(range.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(), total_split_size);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="keywordflow">return</span> split_ranges;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">  697</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">NumWasmFunctionsInFarJumpTable</a>(uint32_t num_declared_functions) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">NativeModule::kNeedsFarJumpsBetweenCodeSpaces</a></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;             ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(num_declared_functions)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;             : 0;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;}</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">// Returns an overapproximation of the code size overhead per new code space</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">// created by the jump tables.</span></div>
<div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">  705</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">OverheadPerCodeSpace</a>(uint32_t num_declared_functions) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// Overhead for the jump table.</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordtype">size_t</span> overhead = RoundUp&lt;kCodeAlignment&gt;(</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a5515cdbbc42cf3c78581ea13768f74bb">JumpTableAssembler::SizeForNumberOfSlots</a>(num_declared_functions));</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN64)</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="comment">// On Win64, we need to reserve some pages at the beginning of an executable</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="comment">// space. See {AddCodeSpace}.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  overhead += <a class="code" href="classv8_1_1internal_1_1Heap.html#a163e8ada76f0d7319bf51a7fefc33074">Heap::GetCodeRangeReservedAreaSize</a>();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_WIN64</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160; </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// Overhead for the far jump table.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">if</span> constexpr (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">NativeModule::kNeedsFarJumpsBetweenCodeSpaces</a>) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    overhead +=</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a87add92ae969554c1b14d8ff3e8d7cd2">JumpTableAssembler::SizeForNumberOfFarJumpSlots</a>(</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(),</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">NumWasmFunctionsInFarJumpTable</a>(num_declared_functions)));</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">return</span> overhead;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;}</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">// Returns an estimate how much code space should be reserved, taking overhead</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">// per code space into account (for jump tables). This can be smaller than the</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">// passed-in {needed_size}, see comments in the code.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#af740a9a06db337429beba5125b64f657">  730</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#af740a9a06db337429beba5125b64f657">ReservationSizeForWasmCode</a>(<span class="keywordtype">size_t</span> needed_size,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                                  <span class="keywordtype">int</span> num_declared_functions,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                  <span class="keywordtype">size_t</span> total_reserved_so_far) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(needed_size == 0, num_declared_functions == 0);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">if</span> (needed_size == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordtype">size_t</span> overhead = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">OverheadPerCodeSpace</a>(num_declared_functions);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="comment">// Reserve the maximum of</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="comment">//   a) needed size + overhead (this is the minimum needed)</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="comment">//   b) 2 * overhead (to not waste too much space by overhead)</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">//   c) 1/4 of current total reservation size (to grow exponentially)</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="comment">// For the minimum size we only take the overhead into account and not the</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="comment">// code space estimate, for two reasons:</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">//  - The code space estimate is only an estimate; we might actually need less</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="comment">//    space later.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">//  - When called at module construction time we pass the estimate for all</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="comment">//    code in the module; this can still be split up into multiple spaces</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="comment">//    later.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordtype">size_t</span> minimum_size = 2 * overhead;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordtype">size_t</span> suggested_size = std::max(</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      std::max(RoundUp&lt;kCodeAlignment&gt;(needed_size) + overhead, minimum_size),</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      total_reserved_so_far / 4);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160; </div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> max_code_space_size =</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordtype">size_t</span>{<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb} * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(minimum_size &gt; max_code_space_size)) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;required reservation minimum (&quot;</span> &lt;&lt; minimum_size</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;) is bigger than supported maximum (&quot;</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                      &lt;&lt; max_code_space_size &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                <span class="stringliteral">&quot;Exceeding maximum wasm code space size&quot;</span>,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160; </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// Limit by the maximum code space size.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">return</span> std::min(max_code_space_size, suggested_size);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">// Same as above, but for wrapper code space which does not have jump tables.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a4a8acae24d59564ce8ce9890d59852ee">  772</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a4a8acae24d59564ce8ce9890d59852ee">ReservationSizeForWrappers</a>(<span class="keywordtype">size_t</span> needed_size,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                  <span class="keywordtype">size_t</span> total_reserved_so_far) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  needed_size = RoundUp&lt;kCodeAlignment&gt;(needed_size);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">// Reserve the maximum of</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="comment">//   a) needed size</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="comment">//   c) 1/4 of current total reservation size (to grow exponentially)</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keywordtype">size_t</span> suggested_size = std::max(needed_size, total_reserved_so_far / 4);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> max_code_space_size =</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordtype">size_t</span>{<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb} * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(needed_size &gt; max_code_space_size)) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;required reservation minimum (&quot;</span> &lt;&lt; needed_size</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;) is bigger than supported maximum (&quot;</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                      &lt;&lt; max_code_space_size &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                                <span class="stringliteral">&quot;Exceeding maximum wasm code space size&quot;</span>,</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                                oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// Limit by the maximum code space size.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">return</span> std::min(max_code_space_size, suggested_size);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;}</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">// Sentinel value to be used for {AllocateForCodeInRegion} for specifying no</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">// restriction on the region to allocate in.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">  799</a></span>&#160;constexpr <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">kUnrestrictedRegion</a>{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>, std::numeric_limits&lt;size_t&gt;::max()};</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">  804</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">WasmCodeAllocator::InitializeCodeRange</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* native_module,</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                                            <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN64)</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// On some platforms, specifically Win64, we need to reserve some pages at</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="comment">// the beginning of an executable space.</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="comment">// See src/heap/spaces.cc, MemoryAllocator::InitializeCodePageAllocator() and</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="comment">// https://cs.chromium.org/chromium/src/components/crash/content/app/crashpad_win.cc?rcl=fd680447881449fba2edcf0589320e7253719212&amp;l=204</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">// for details.</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2af86e498cb6c3f31bc898c6b40d287e">WasmCodeManager::CanRegisterUnwindInfoForNonABICompliantCodeRange</a>()) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="classv8_1_1internal_1_1Heap.html#a163e8ada76f0d7319bf51a7fefc33074">Heap::GetCodeRangeReservedAreaSize</a>();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> padding =</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">AllocateForCodeInRegion</a>(native_module, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, region);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(padding.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()), region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>());</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2409db5c20b55125a1f38d2eecf2341b">win64_unwindinfo::RegisterNonABICompliantCodeRange</a>(</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()), region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>());</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_WIN64</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">  824</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">WasmCodeAllocator::AllocateForCode</a>(</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* native_module, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">AllocateForCodeInRegion</a>(native_module, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">kUnrestrictedRegion</a>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;}</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae4803a09e4d6892714a7fd22fe31446e">  829</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae4803a09e4d6892714a7fd22fe31446e">WasmCodeAllocator::AllocateForWrapper</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">AllocateForCodeInRegion</a>(<span class="keyword">nullptr</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">kUnrestrictedRegion</a>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;}</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160; </div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">// {native_module} may be {nullptr} when allocating wrapper code.</span></div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">  834</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">WasmCodeAllocator::AllocateForCodeInRegion</a>(</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* native_module, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keyword">auto</span>* code_manager = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a55a717894f5d005ae86062dd4647a3b2">GetWasmCodeManager</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> code_space =</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1f54429c1b62a241eeb0426458b7d388">free_code_space_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#aaae1e5e18b6363b94f228abe6521dd3b">AllocateInRegion</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, region);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a29afd92431f4eb737887d7c7ff9b9396">is_empty</a>())) {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// Only allocations without a specific region are allowed to fail. Otherwise</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// the region must have been allocated big enough to hold all initial</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// allocations (jump tables etc).</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">kUnrestrictedRegion</a>, region);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">size_t</span> total_reserved = 0;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vmem : <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>) total_reserved += vmem.size();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordtype">size_t</span> reserve_size =</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        native_module</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            ? <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#af740a9a06db337429beba5125b64f657">ReservationSizeForWasmCode</a>(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                  <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, native_module-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>,</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                  total_reserved)</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            : <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a4a8acae24d59564ce8ce9890d59852ee">ReservationSizeForWrappers</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, total_reserved);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (reserve_size &lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;cannot reserve space for &quot;</span> &lt;&lt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;bytes of code (maximum reservation size is &quot;</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                        &lt;&lt; reserve_size &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Grow wasm code space&quot;</span>,</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                  oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    }</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> new_mem = code_manager-&gt;TryAllocate(reserve_size);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (!new_mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a4e314fe91c3c610bb8495aa6435cba9f">IsReserved</a>()) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;cannot allocate more code space (&quot;</span> &lt;&lt; reserve_size</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; bytes, currently &quot;</span> &lt;&lt; total_reserved &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Grow wasm code space&quot;</span>,</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                                  oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    }</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160; </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> new_region = new_mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a189b2051e0b85c97fd761d87f2ee207a">region</a>();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1f54429c1b62a241eeb0426458b7d388">free_code_space_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">Merge</a>(new_region);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>.emplace_back(std::move(new_mem));</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">InitializeCodeRange</a>(native_module, new_region);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordflow">if</span> (native_module) {</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      code_manager-&gt;AssignRange(new_region, native_module);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      native_module-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">AddCodeSpaceLocked</a>(new_region);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ab0e75298547c6a5e80fe8cd1e25a1742">async_counters_</a>-&gt;wasm_module_num_code_spaces()-&gt;AddSample(</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>.size()));</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1f54429c1b62a241eeb0426458b7d388">free_code_space_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a5a78c9832c8962fdc94b954e5b0adb65">Allocate</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a29afd92431f4eb737887d7c7ff9b9396">is_empty</a>());</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">Address</a> commit_page_size = <a class="code" href="namespacev8_1_1internal.html#a6a5f128ae031000011e13ca7534dfc91">CommitPageSize</a>();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> commit_start = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), commit_page_size);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> commit_end = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>(), commit_page_size);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="comment">// {commit_start} will be either code_space.start or the start of the next</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="comment">// page. {commit_end} will be the start of the page after the one in which</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// the allocation ends.</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="comment">// We start from an aligned start, and we know we allocated vmem in</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// page multiples.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="comment">// We just need to commit what&#39;s not committed. The page in which we</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="comment">// start is already committed (or we start at the beginning of a page).</span></div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="comment">// The end needs to be committed all through the end of the page.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="keywordflow">if</span> (commit_start &lt; commit_end) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> split_range : <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a6b9409414ed9e23ba58f7fd48c6f7937">SplitRangeByReservationsIfNeeded</a>(</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;             {commit_start, commit_end - commit_start}, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>)) {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      code_manager-&gt;Commit(split_range);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a33d82e350396396c61facd7fec7180fd">committed_code_space_</a>.fetch_add(commit_end - commit_start);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">// Committed code cannot grow bigger than maximum code space size.</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a33d82e350396396c61facd7fec7180fd">committed_code_space_</a>.load(),</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_committed_code_mb * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), <a class="code" href="namespacev8_1_1internal.html#a52434390901f205f6bdb0402a183aef3">kCodeAlignment</a>));</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a2aacac2f51bed124e8a0a167874cb698">generated_code_size_</a>.fetch_add(code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(), std::memory_order_relaxed);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;Code alloc for %p: 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;,+%zu\n&quot;</span>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;             code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">return</span> {<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()), code_space.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()};</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;}</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00917"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae6d33802bb8ba17667cb1ae5b32e1aae">  917</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae6d33802bb8ba17667cb1ae5b32e1aae">WasmCodeAllocator::FreeCode</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;WasmCode* const&gt;</a> codes) {</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Zap code area and collect freed code regions.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html">DisjointAllocationPool</a> freed_regions;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordtype">size_t</span> code_size = 0;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : codes) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    code_size += <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instructions().size();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    freed_regions.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">Merge</a>(<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a>{<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(),</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                            <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instructions().size()});</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae13414c0ae7d8ac16347aa93bf7b5771">ThreadIsolation::UnregisterWasmAllocation</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(),</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                              <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instructions().size());</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  }</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a761bcecaa44aafed04cd2b97cdf26c11">freed_code_size_</a>.fetch_add(code_size);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// Merge {freed_regions} into {freed_code_space_} and put all ranges of full</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="comment">// pages to decommit into {regions_to_decommit} (decommitting is expensive,</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <span class="comment">// so try to merge regions before decommitting).</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html">DisjointAllocationPool</a> regions_to_decommit;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <span class="keywordtype">size_t</span> commit_page_size = <a class="code" href="namespacev8_1_1internal.html#a6a5f128ae031000011e13ca7534dfc91">CommitPageSize</a>();</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> region : freed_regions.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a9200d92cb26cb60769e4f5a5b6dbfc7c">regions</a>()) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keyword">auto</span> merged_region = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac2a529eb2d65d067fea506c7f10eb11d">freed_code_space_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">Merge</a>(region);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> discard_start =</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        std::max(<a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(merged_region.begin(), commit_page_size),</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                 <a class="code" href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a>(region.begin(), commit_page_size));</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> discard_end =</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        std::min(<a class="code" href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a>(merged_region.end(), commit_page_size),</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                 <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(region.end(), commit_page_size));</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">if</span> (discard_start &gt;= discard_end) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    regions_to_decommit.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">Merge</a>({discard_start, discard_end - discard_start});</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">auto</span>* code_manager = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a55a717894f5d005ae86062dd4647a3b2">GetWasmCodeManager</a>();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> region : regions_to_decommit.<a class="code" href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a9200d92cb26cb60769e4f5a5b6dbfc7c">regions</a>()) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    [[maybe_unused]] <span class="keywordtype">size_t</span> old_committed =</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a33d82e350396396c61facd7fec7180fd">committed_code_space_</a>.fetch_sub(region.size());</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(old_committed, region.size());</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> split_range :</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;         <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a6b9409414ed9e23ba58f7fd48c6f7937">SplitRangeByReservationsIfNeeded</a>(region, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>)) {</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      code_manager-&gt;Decommit(split_range);</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;}</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a5d094d325d0686a0da62db1dd40c2688">  959</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a5d094d325d0686a0da62db1dd40c2688">WasmCodeAllocator::GetNumCodeSpaces</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">owned_code_space_</a>.size();</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;}</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html">  964</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html">CoverageFileWriter</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1debug_1_1DisassemblyCollector.html">v8::debug::DisassemblyCollector</a> {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00966"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#ac363e78882e1ca36c8626fdb8c5f92dd">  966</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#ac363e78882e1ca36c8626fdb8c5f92dd">CoverageFileWriter</a>(std::ostream&amp; out,</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                     std::map&lt;uint32_t, uint32_t&gt;&amp; bytecode_disasm_offsets)</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      : out_(out), offsets_map_(bytecode_disasm_offsets) {}</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#aff71b296312ecabdaf8d7359b4825c7b">  970</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#aff71b296312ecabdaf8d7359b4825c7b">ReserveLineCount</a>(<span class="keywordtype">size_t</span> <a class="code" href="structv8_1_1internal_1_1count.html">count</a>)<span class="keyword"> override </span>{}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a33618ed2d13cae106c54a6adef6a3c7d">  972</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a33618ed2d13cae106c54a6adef6a3c7d">AddLine</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* src, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;               uint32_t bytecode_offset)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    offsets_map_.emplace(bytecode_offset, current_line_++);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    out_.write(src, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    out_ &lt;&lt; std::endl;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a3a49710673327e3866fbf6850eaefc70">  979</a></span>&#160;  uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a3a49710673327e3866fbf6850eaefc70">GetLineCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> current_line_; }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a04aa94c2be83219603985acf3a735bbe">  982</a></span>&#160;  std::ostream&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a04aa94c2be83219603985acf3a735bbe">out_</a>;</div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a668e9f1e9cdc4497f193c5084ce6a70f">  983</a></span>&#160;  std::map&lt;uint32_t, uint32_t&gt;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a668e9f1e9cdc4497f193c5084ce6a70f">offsets_map_</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#ae0e4d1c1087e34c55d36de43e231daad">  984</a></span>&#160;  uint32_t current_line_ = 0;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;};</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160; </div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ba7b7564b408b1e7b459849e0e886e4">  988</a></span>&#160;uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ba7b7564b408b1e7b459849e0e886e4">NativeModule::DisassembleForLcov</a>(</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    std::ostream&amp; out, std::vector&lt;int&gt;&amp; function_body_offsets,</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    std::map&lt;uint32_t, uint32_t&gt;&amp; bytecode_disasm_offsets) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  CoverageFileWriter coverage_file_writer(out, bytecode_disasm_offsets);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a705cc48582d146ceda18f8e7c337c4c2">debug::Disassemble</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>(), &amp;coverage_file_writer,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                     &amp;function_body_offsets);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">return</span> coverage_file_writer.GetLineCount();</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;}</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab367709dc7ecbb7ba68e24333e7f4e8a">  997</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">NativeModule::NativeModule</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a> enabled_features,</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> detected_features,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a> compile_imports,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> code_space,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                           std::shared_ptr&lt;const WasmModule&gt; module,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                           std::shared_ptr&lt;Counters&gt; async_counters,</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                           std::shared_ptr&lt;NativeModule&gt;* shared_this)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    : engine_scope_(</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;GetBarrierForBackgroundCompile()-&gt;TryLock()),</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      code_allocator_(async_counters),</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      enabled_features_(enabled_features),</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      compile_imports_(std::move(compile_imports)),</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      module_(std::move(module)),</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      fast_api_targets_(</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;          new std::atomic&lt;<a class="code" href="classuintptr__t.html">Address</a>&gt;[module_-&gt;num_imported_functions]()),</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      fast_api_signatures_(</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          new std::atomic&lt;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;              const <a class="code" href="classv8_1_1internal_1_1Signature.html">MachineSignature</a>*&gt;[module_-&gt;num_imported_functions]()) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6545f7c0dd32533af15bfea737c3afec">engine_scope_</a>);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="comment">// We receive a pointer to an empty {std::shared_ptr}, and install ourselve</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="comment">// there.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(shared_this);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(*shared_this);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  shared_this-&gt;reset(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1CompilationState.html#aa483870e07defd3034a0d0a88e41ad8c">CompilationState::New</a>(</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      *shared_this, std::move(async_counters), detected_features);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;InitCompileJob();</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions &gt; 0) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a> =</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        std::make_unique&lt;WasmCode*[]&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8">InitializeCodePointerTableHandles</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a> = std::make_unique&lt;std::atomic&lt;uint32_t&gt;[]&gt;(</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// The tiering budget is accessed directly from generated code.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    static_assert(<span class="keyword">sizeof</span>(*<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get()) == <span class="keyword">sizeof</span>(uint32_t));</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160; </div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    std::fill_n(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_tiering_budget);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="comment">// Even though there cannot be another thread using this object (since we</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="comment">// are just constructing it), we need to hold the mutex to fulfill the</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;  <span class="comment">// precondition of {WasmCodeAllocator::Init}, which calls</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <span class="comment">// {NativeModule::AddCodeSpaceLocked}.</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="keyword">auto</span> initial_region = code_space.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a189b2051e0b85c97fd761d87f2ee207a">region</a>();</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aac5c374b4b033bd08bb50481fda354db">Init</a>(std::move(code_space));</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> has_code_space = initial_region.size() &gt; 0;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(has_code_space, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions != 0);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  <span class="keywordflow">if</span> (has_code_space) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">InitializeCodeRange</a>(<span class="keyword">this</span>, initial_region);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">AddCodeSpaceLocked</a>(initial_region);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_code_coverage &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>) {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ebebb9d6e7368d1969447662c82f320">coverage_data_</a> = std::make_shared&lt;WasmModuleCoverageData&gt;(</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;}</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5dcbc5c21a8a83b7787033a13b7c48ad"> 1060</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5dcbc5c21a8a83b7787033a13b7c48ad">NativeModule::LogWasmCodes</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Script&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">WasmCode::ShouldBeLogged</a>(isolate)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.LogWasmCodes&quot;</span>, <span class="stringliteral">&quot;functions&quot;</span>,</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;               <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> url_obj = <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;name();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsString(url_obj) || IsUndefined(url_obj));</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  std::unique_ptr&lt;char[]&gt; source_url =</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      IsString(url_obj) ? Cast&lt;String&gt;(url_obj)-&gt;ToCString()</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                        : std::unique_ptr&lt;char[]&gt;(<span class="keyword">new</span> <span class="keywordtype">char</span>[1]{<span class="charliteral">&#39;\0&#39;</span>});</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// Log all owned code, not just the current entries in the code table. This</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// will also include import wrappers.</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7">SnapshotAllOwnedCode</a>()) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;LogCode(isolate, source_url.get(), <a class="code" href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">script</a>-&gt;id());</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;}</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160; </div>
<div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abdeee50fefaf3f7666243cff1a13b3da"> 1081</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abdeee50fefaf3f7666243cff1a13b3da">NativeModule::AddCodeForTesting</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Code&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>,</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                                          uint64_t signature_hash) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> relocation_size = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;relocation_size();</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;uint8_t&gt;</a> reloc_info =</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af618ed7682968ef3b68fdf4db5b67809">base::OwnedCopyOf</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;relocation_start(), relocation_size);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;TrustedByteArray&gt;</a> source_pos_table(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;source_position_table(),</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                                                  <a class="code" href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">Isolate::Current</a>());</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keywordtype">int</span> source_pos_len = source_pos_table-&gt;length();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;uint8_t&gt;</a> source_pos =</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af618ed7682968ef3b68fdf4db5b67809">base::OwnedCopyOf</a>(source_pos_table-&gt;begin(), source_pos_len);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1InstructionStream.html#ae5c1b203ad1007bffb349881cdf8bec3">InstructionStream::kOnHeapBodyIsContiguous</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> instructions(</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;body_start()),</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;body_size()));</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> stack_slots = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;stack_slots();</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// Metadata offsets in InstructionStream objects are relative to the start of</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// the metadata section, whereas WasmCode expects offsets relative to</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="comment">// instruction_start.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> base_offset = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_size();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">// TODO(jgruber,v8:8758): Remove this translation. It exists only because</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="comment">// InstructionStream objects contains real offsets but WasmCode expects an</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="comment">// offset of 0 to mean &#39;empty&#39;.</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> safepoint_table_offset =</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;has_safepoint_table() ? base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;safepoint_table_offset()</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                  : 0;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> handler_table_offset = base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;handler_table_offset();</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> constant_pool_offset = base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;constant_pool_offset();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> code_comments_offset = base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;code_comments_offset();</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> jump_table_info_offset =</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      base_offset + <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;jump_table_info_offset();</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160; </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> dst_code_bytes =</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, instructions.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  {</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">ThreadIsolation::RegisterJitAllocation</a>(</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()),</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(),</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    jit_allocation.<a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#a5214a39ff535864c1f6ae1968547208d">CopyCode</a>(0, instructions.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), instructions.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">// Apply the relocation delta by iterating over the RelocInfo.</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    intptr_t delta = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()) -</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                     <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordtype">int</span> mode_mask =</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a3674f1738fbd7b36d670397d0fbd363e">RelocInfo::kApplyMask</a> | <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">RelocInfo::WASM_STUB_CALL</a>) |</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keyword">auto</span> jump_tables_ref =</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(dst_code_bytes));</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> dst_code_addr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>());</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> constant_pool_start = dst_code_addr + constant_pool_offset;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RelocIterator.html">RelocIterator</a> orig_it(*<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, mode_mask);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1WritableRelocIterator.html">WritableRelocIterator</a> it(jit_allocation, dst_code_bytes,</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                  reloc_info.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a92493de71e39144915ee01fb717e1891">as_vector</a>(), constant_pool_start,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                  mode_mask);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;         !it.<a class="code" href="classv8_1_1internal_1_1RelocIteratorBase.html#a4e36ec3860d142b680388b2280014ea0">done</a>(); it.next(), orig_it.<a class="code" href="classv8_1_1internal_1_1RelocIteratorBase.html#a571153ba88b558f4994e7ef8b6b6d71f">next</a>()) {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">RelocInfo::Mode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = it.rinfo()-&gt;rmode();</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a9b6cc7beedb93c75dda2852cb6af822e">RelocInfo::IsWasmStubCall</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        uint32_t stub_call_tag = orig_it.<a class="code" href="classv8_1_1internal_1_1RelocIteratorBase.html#af97bdcf6733d5fd57bd31830cadf84aa">rinfo</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4532875f67c1658431b317da15aaa1b9">wasm_call_tag</a>();</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(stub_call_tag,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                  <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(Builtin::kFirstBytecodeHandler));</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> builtin = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a><span class="keyword">&gt;</span>(stub_call_tag);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> entry = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">GetJumpTableEntryForBuiltin</a>(builtin, jump_tables_ref);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        it.rinfo()-&gt;set_wasm_stub_call_address(entry);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ace9340a0c27b322249d990c3b6351cea">RelocInfo::IsWasmCodePointerTableEntry</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        uint32_t function_index =</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;            it.rinfo()-&gt;wasm_code_pointer_table_entry().value();</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> target = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(function_index);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        it.rinfo()-&gt;set_wasm_code_pointer_table_entry(target,</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                                                      <a class="code" href="namespacev8_1_1internal.html#abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390">SKIP_ICACHE_FLUSH</a>);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        it.rinfo()-&gt;apply(delta);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">// Flush the i-cache after relocation.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a4ae783a89fc65122f5edc866f1209176">FlushInstructionCache</a>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160; </div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  std::unique_ptr&lt;WasmCode&gt; new_code{</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>{<span class="keyword">this</span>,                     <span class="comment">// native_module</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a>,      <span class="comment">// index</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                   dst_code_bytes,           <span class="comment">// instructions</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                   stack_slots,              <span class="comment">// stack_slots</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                   0,                        <span class="comment">// ool_spills</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                   0,                        <span class="comment">// tagged_parameter_slots</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                   safepoint_table_offset,   <span class="comment">// safepoint_table_offset</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                   handler_table_offset,     <span class="comment">// handler_table_offset</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                   constant_pool_offset,     <span class="comment">// constant_pool_offset</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                   code_comments_offset,     <span class="comment">// code_comments_offset</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                   jump_table_info_offset,   <span class="comment">// jump_table_info_offset</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                   instructions.<a class="code" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>(),    <span class="comment">// unpadded_binary_size</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                   {},                       <span class="comment">// protected_instructions</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                   reloc_info.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a92493de71e39144915ee01fb717e1891">as_vector</a>(),   <span class="comment">// reloc_info</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                   source_pos.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a92493de71e39144915ee01fb717e1891">as_vector</a>(),   <span class="comment">// source positions</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                   {},                       <span class="comment">// inlining positions</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                   {},                       <span class="comment">// deopt data</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">WasmCode::kWasmFunction</a>,  <span class="comment">// kind</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>,     <span class="comment">// tier</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>,         <span class="comment">// for_debugging</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                   signature_hash}};         <span class="comment">// signature_hash</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  new_code-&gt;MaybePrint();</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  new_code-&gt;Validate();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(new_code),</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                           <a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a4c0e64721e6f0d179c1b2151a97bbc4a">UnpublishedWasmCode::kNoAssumptions</a>);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66"> 1192</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66">NativeModule::InitializeJumpTableForLazyCompilation</a>(</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    uint32_t num_wasm_functions) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (!num_wasm_functions) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d">CreateEmptyJumpTableLocked</a>(</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a52670982950dc90851cb4a1de6e97781">JumpTableAssembler::SizeForNumberOfLazyFunctions</a>(num_wasm_functions),</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">JumpTableType::kLazyCompileTable</a>);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(1, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.size());</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a>&amp; code_space_data = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>[0];</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>);</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; </div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> compile_lazy_address =</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a282118f97cf3fce4133b63c1c15906bc">BuiltinLookup::JumptableIndexForBuiltin</a>(Builtin::kWasmCompileLazy));</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ae71b16baa415877eb767aeb926b938e5">JumpTableAssembler::GenerateLazyCompileTable</a>(</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), num_wasm_functions,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions, compile_lazy_address);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a8d1850fd6a11a830c0b62ccfe4906baf">JumpTableAssembler::InitializeJumpsToLazyCompileTable</a>(</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), num_wasm_functions,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>());</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html">WasmCodePointerTable</a>* code_pointer_table =</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>();</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RwxMemoryWriteScope.html">WasmCodePointerTable::WriteScope</a> write_scope(</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="stringliteral">&quot;Initialize WasmCodePointerTable&quot;</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(num_wasm_functions, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a>);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html">TypeCanonicalizer</a>* type_canonicalizer = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_wasm_functions; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    uint64_t signature_hash = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        type_canonicalizer, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions + <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    code_pointer_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ab4376a858eb1237ab620dca61294d690">SetEntrypointWithWriteScope</a>(</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>],</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>),</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        signature_hash, write_scope);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df"> 1237</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df">NativeModule::UseLazyStubLocked</a>(uint32_t func_index) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions, func_index);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(func_index,</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions + <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="comment">// Avoid opening a new write scope per function. The caller should hold the</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// scope instead.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// Add jump table entry for jump to the lazy compile stub.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  uint32_t slot_index = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), func_index);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_index]);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160; </div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> jump_table_target =</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> lazy_compile_target =</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ab9d14294753cfc3099f3612018a8d6e6">JumpTableAssembler::LazyCompileSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  uint64_t signature_hash =</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>(), func_index);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a>(slot_index, lazy_compile_target, jump_table_target,</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                        signature_hash);</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;}</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab37173d38eb0a6e707f8636ea5519a8d"> 1263</a></span>&#160;std::unique_ptr&lt;WasmCode&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab37173d38eb0a6e707f8636ea5519a8d">NativeModule::AddCode</a>(</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1CodeDesc.html">CodeDesc</a>&amp; desc, <span class="keywordtype">int</span> stack_slots, <span class="keywordtype">int</span> ool_spill_count,</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    uint32_t tagged_parameter_slots,</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> protected_instructions_data,</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> source_position_table,</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> inlining_positions,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> deopt_data, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind,</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a> for_debugging) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> code_space;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">NativeModule::JumpTablesRef</a> jump_table_ref;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#af887603bc5c17ab365f80879c2660727">instr_size</a>);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    jump_table_ref =</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(code_space));</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="comment">// Only Liftoff code can have the {frame_has_feedback_slot} bit set.</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="keywordtype">bool</span> frame_has_feedback_slot = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">ThreadIsolation::RegisterJitAllocation</a>(</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()), code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(),</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">AddCodeWithCodeSpace</a>(</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, desc, stack_slots, ool_spill_count, tagged_parameter_slots,</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      protected_instructions_data, source_position_table, inlining_positions,</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      deopt_data, kind, <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, for_debugging, frame_has_feedback_slot,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      code_space, jump_table_ref);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;}</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2"> 1292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">NativeModule::FreeCodePointerTableHandles</a>() {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html">WasmCodePointerTable</a>* code_pointer_table =</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>();</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    code_pointer_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65f15597b54747d33d9d892912b1c5f4">FreeEntry</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>]);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>.reset();</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> = 0;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;}</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8"> 1303</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8">NativeModule::InitializeCodePointerTableHandles</a>(</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    uint32_t num_wasm_functions) {</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> != 0) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="comment">// During testing, we might already have code pointer handles allocated.</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">FreeCodePointerTableHandles</a>();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a> =</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      std::make_unique&lt;WasmCodePointer[]&gt;(num_wasm_functions);</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a> = num_wasm_functions;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160; </div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html">WasmCodePointerTable</a>* code_pointer_table =</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>();</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_wasm_functions; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = code_pointer_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ad5e11c7f8d574045296d9d8c07f928f8">AllocateUninitializedEntry</a>();</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  }</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;}</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160; </div>
<div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea"> 1320</a></span>&#160;std::unique_ptr&lt;WasmCode&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">NativeModule::AddCodeWithCodeSpace</a>(</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1CodeDesc.html">CodeDesc</a>&amp; desc, <span class="keywordtype">int</span> stack_slots, <span class="keywordtype">int</span> ool_spill_count,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    uint32_t tagged_parameter_slots,</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> protected_instructions_data,</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> source_position_table,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> inlining_positions,</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> deopt_data, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a> for_debugging,</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordtype">bool</span> frame_has_feedback_slot, <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> dst_code_bytes,</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a>&amp; jump_tables) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> reloc_info{</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a0640b83e72c68ce482d00ce65b0732cf">buffer</a> + desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#ab886efa479651e14e7e6bc708a4be521">buffer_size</a> - desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a4ec6827a7510122e162e8849e387f33b">reloc_size</a>,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a4ec6827a7510122e162e8849e387f33b">reloc_size</a>)};</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a>(desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#af887603bc5c17ab365f80879c2660727">instr_size</a>, <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, for_debugging);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="comment">// TODO(jgruber,v8:8758): Remove this translation. It exists only because</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">// CodeDesc contains real offsets but WasmCode expects an offset of 0 to mean</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// &#39;empty&#39;.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> safepoint_table_offset =</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a0ef1d82572dad59b3e6aedc82bf1247f">safepoint_table_size</a> == 0 ? 0 : desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#ae607eb84e6b2870d1e80928c4e5e1cde">safepoint_table_offset</a>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> handler_table_offset = desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a67a9dadee748e8f0ab644b5a3e282cd9">handler_table_offset</a>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> constant_pool_offset = desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a95ad53de51277b77af42d916e2565e24">constant_pool_offset</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> code_comments_offset = desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#afd7aefc249b9a1db13e3d00f95f94e09">code_comments_offset</a>;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> jump_table_info_offset = desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#abdbe04110e1008182725b7b13cca9180">jump_table_info_offset</a>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> instr_size = desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#af887603bc5c17ab365f80879c2660727">instr_size</a>;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  {</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation = <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ad005e4948f48131f0f8727020bd52b68">ThreadIsolation::LookupJitAllocation</a>(</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()),</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(), <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>,</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="keyword">true</span>);</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    jit_allocation.<a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#a5214a39ff535864c1f6ae1968547208d">CopyCode</a>(0, desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a0640b83e72c68ce482d00ce65b0732cf">buffer</a>, desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#af887603bc5c17ab365f80879c2660727">instr_size</a>);</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="comment">// Apply the relocation delta by iterating over the RelocInfo.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    intptr_t delta = dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>() - desc.<a class="code" href="classv8_1_1internal_1_1CodeDesc.html#a0640b83e72c68ce482d00ce65b0732cf">buffer</a>;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordtype">int</span> mode_mask =</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a3674f1738fbd7b36d670397d0fbd363e">RelocInfo::kApplyMask</a> | <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48">RelocInfo::WASM_CALL</a>) |</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">RelocInfo::WASM_STUB_CALL</a>) |</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">RelocInfo::ModeMask</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> code_start = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> constant_pool_start = code_start + constant_pool_offset;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160; </div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1WritableRelocIterator.html">WritableRelocIterator</a> it(jit_allocation, dst_code_bytes, reloc_info,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                                  constant_pool_start, mode_mask);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;         !it.<a class="code" href="classv8_1_1internal_1_1RelocIteratorBase.html#a4e36ec3860d142b680388b2280014ea0">done</a>(); it.next()) {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">RelocInfo::Mode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> = it.rinfo()-&gt;rmode();</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a7ced4909c9b4b70bf6b682825d75b25e">RelocInfo::IsWasmCall</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        uint32_t call_tag = it.rinfo()-&gt;wasm_call_tag();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> target = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0">GetNearCallTargetForFunction</a>(call_tag, jump_tables);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        it.rinfo()-&gt;set_wasm_call_address(target);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a9b6cc7beedb93c75dda2852cb6af822e">RelocInfo::IsWasmStubCall</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        uint32_t stub_call_tag = it.rinfo()-&gt;wasm_call_tag();</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(stub_call_tag,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                  <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(Builtin::kFirstBytecodeHandler));</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> builtin = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a><span class="keyword">&gt;</span>(stub_call_tag);</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> entry = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">GetJumpTableEntryForBuiltin</a>(builtin, jump_tables);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        it.rinfo()-&gt;set_wasm_stub_call_address(entry);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ace9340a0c27b322249d990c3b6351cea">RelocInfo::IsWasmCodePointerTableEntry</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>)) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        uint32_t function_index =</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            it.rinfo()-&gt;wasm_code_pointer_table_entry().value();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> target = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(function_index);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        it.rinfo()-&gt;set_wasm_code_pointer_table_entry(target,</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                                      <a class="code" href="namespacev8_1_1internal.html#abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390">SKIP_ICACHE_FLUSH</a>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;        it.rinfo()-&gt;apply(delta);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      }</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    }</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160; </div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="comment">// Flush the i-cache after relocation.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a4ae783a89fc65122f5edc866f1209176">FlushInstructionCache</a>(dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), dst_code_bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160; </div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">// Liftoff code will not be relocated or serialized, thus do not store any</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="comment">// relocation information.</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>) reloc_info = {};</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  uint64_t signature_hash =</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  std::unique_ptr&lt;WasmCode&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>{<span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>{<span class="keyword">this</span>,</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                              <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                              dst_code_bytes,</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                              stack_slots,</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                                              ool_spill_count,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                              tagged_parameter_slots,</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                              safepoint_table_offset,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                                              handler_table_offset,</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                                              constant_pool_offset,</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                                              code_comments_offset,</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                                              jump_table_info_offset,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                                              instr_size,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                                              protected_instructions_data,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                                              reloc_info,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                              source_position_table,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                                              inlining_positions,</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                                              deopt_data,</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;                                              kind,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                                              <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>,</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                                              for_debugging,</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                                              signature_hash,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                                              frame_has_feedback_slot}};</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160; </div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;MaybePrint();</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;Validate();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160; </div>
<div class="line"><a name="l01428"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7"> 1428</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7">NativeModule::PublishCode</a>(<a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> unpublished_code) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;               <span class="stringliteral">&quot;wasm.PublishCode&quot;</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(unpublished_code.<a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#ad4eb73b61221a3f4358b84c8cece9809">code</a>),</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                           unpublished_code.<a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a72e7efdeb49dc77769f6b99e9e904aca">assumptions</a>.get());</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;}</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160; </div>
<div class="line"><a name="l01436"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a77032a9badd038815c22969e9f073578"> 1436</a></span>&#160;std::vector&lt;WasmCode*&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7">NativeModule::PublishCode</a>(</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;UnpublishedWasmCode&gt;</a> unpublished_codes) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;               <span class="stringliteral">&quot;wasm.PublishCode&quot;</span>, <span class="stringliteral">&quot;number&quot;</span>, unpublished_codes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  std::vector&lt;WasmCode*&gt; published_code;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  published_code.reserve(unpublished_codes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="comment">// The published code is put into the top-most surrounding {WasmCodeRefScope}.</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; unpublished_code : unpublished_codes) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(unpublished_code.code),</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                                       unpublished_code.assumptions.get());</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      <span class="comment">// There were invalid assumptions in the code.</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(unpublished_code.assumptions);</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    }</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    published_code.push_back(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  <span class="keywordflow">return</span> published_code;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;}</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160; </div>
<div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a02cf7c113ae0ade3b2943210fa4bd02a"> 1457</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a02cf7c113ae0ade3b2943210fa4bd02a">NativeModule::UpdateWellKnownImports</a>(</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;WellKnownImport&gt;</a> entries) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="comment">// The {~WasmCodeRefScope} destructor must run after releasing the {lock},</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="comment">// to avoid lock order inversion.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a> ref_scope;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5">WellKnownImportsList::UpdateResult</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;type_feedback.well_known_imports.Update(entries);</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == <a class="code" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648">WellKnownImportsList::UpdateResult::kFoundIncompatibility</a>) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f">RemoveCompiledCode</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">NativeModule::RemoveFilter::kRemoveTurbofanCode</a>);</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#ac5c325f4f80fa26ae7e7bd8fa6caed93"> 1470</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac5c325f4f80fa26ae7e7bd8fa6caed93">GetCodeKind</a>(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">WasmCompilationResult</a>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.kind) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html#a22182bebf65051a0260cbd4e9d7eccbca5bef4caf3c8a2a4189717b0fedf37d74">WasmCompilationResult::kWasmToJsWrapper</a>:</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <span class="keywordflow">return</span> WasmCode::Kind::kWasmToJsWrapper;</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keywordflow">case</span> WasmCompilationResult::kInterpreterEntry:</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <span class="keywordflow">return</span> WasmCode::Kind::kInterpreterEntry;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html#a22182bebf65051a0260cbd4e9d7eccbcababc9138086c84aecbc35644fa4e15f4">WasmCompilationResult::kFunction</a>:</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ac87a38a165cbd7423796063beb48dfe2a0580084be6562b9c6ce678acf564177b">WasmCode::Kind::kWasmFunction</a>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;}</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea"> 1485</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">NativeModule::PublishCodeLocked</a>(std::unique_ptr&lt;WasmCode&gt; owned_code,</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                                          <a class="code" href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html">AssumptionsJournal</a>* assumptions) {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(owned_code-&gt;index(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <span class="keywordflow">if</span> (assumptions != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="comment">// We should not allocate an empty set to avoid unnecessary overhead.</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!assumptions-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html#a00ba2ca56e635beb0b63bf374c726e6c">empty</a>());</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="comment">// Only Turbofan makes assumptions.</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>, owned_code-&gt;tier());</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <span class="comment">// Assumptions are not used for imports.</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(owned_code-&gt;index(),</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;              <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions));</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html">WellKnownImportsList</a>&amp; current = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;type_feedback.well_known_imports;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> [import_index, <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>] : assumptions-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html#ad56640d0c301b1a6f42199f90679ae63">import_statuses</a>()) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(current.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ac04c98fc419332403e4f6a49a06efd9e">get</a>(import_index) != <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>)) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;AllowAnotherTopTierJob(owned_code-&gt;index());</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      }</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    }</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;  }</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160; </div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = owned_code.get();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.emplace_back(std::move(owned_code));</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(owned_code);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="comment">// Add the code to the surrounding code ref scope, so the returned pointer is</span></div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// guaranteed to be valid.</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160; </div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index() &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions)) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;RegisterTrapHandlerData();</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// Assume an order of execution tiers that represents the quality of their</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="comment">// generated code.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &amp;&amp;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>,</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                <span class="stringliteral">&quot;Assume an order on execution tiers&quot;</span>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  uint32_t slot_idx = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* prior_code = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx];</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="comment">// If we are tiered down, install all debugging code (except for stepping</span></div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// code, which is only used for a single frame and never installed in the</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// code table of jump table). Otherwise, install code if it was compiled</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// with a higher tier.</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  static_assert(</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0">kForDebugging</a> &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a> &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5">kWithBreakpoints</a> &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0">kForDebugging</a>,</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="stringliteral">&quot;for_debugging is ordered&quot;</span>);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160; </div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d">should_update_code_table</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, prior_code)) {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx] = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="keywordflow">if</span> (prior_code) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(prior_code);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="comment">// The code is added to the current {WasmCodeRefScope}, hence the ref</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="comment">// count cannot drop to zero here.</span></div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      prior_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a004f698a68dbe3e468abbf2873ed5379">DecRefOnLiveCode</a>();</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160; </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a>(slot_idx, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(),</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                          <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;signature_hash());</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="comment">// The code tables does not hold a reference to the code, hence decrement</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="comment">// the initial ref count of 1. The code was added to the</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="comment">// {WasmCodeRefScope} though, so it cannot die here.</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;}</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160; </div>
<div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d"> 1558</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d">NativeModule::should_update_code_table</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* new_code,</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* prior_code)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;  <span class="keywordflow">if</span> (new_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">for_debugging</a>() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5badca2ce91f5a20ba7013f50c59576421e">kForStepping</a>) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">// Never install stepping code.</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d">kDebugging</a>) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (new_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">for_debugging</a>() == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="comment">// In debug state, only install debug code.</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">if</span> (prior_code &amp;&amp; prior_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">for_debugging</a>() &gt; new_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">for_debugging</a>()) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="comment">// In debug state, install breakpoints over normal debug code.</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="comment">// In kNoDebugging:</span></div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="comment">// Install if the tier is higher than before or we replace debugging code with</span></div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="comment">// non-debugging code.</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  <span class="comment">// Also allow installing a lower tier if deopt support is enabled and the</span></div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">// prior code has deopt data. (The check for deopt_data is needed as with</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="comment">// compilation hints, both baseline and top tier compilation run concurrently</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="comment">// in the background and can finish in any order.)</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  <span class="keywordflow">if</span> (prior_code &amp;&amp; !prior_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">for_debugging</a>() &amp;&amp;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      prior_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a135625ac865b7b381136e919e5e7c2bd">tier</a>() &gt; new_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a135625ac865b7b381136e919e5e7c2bd">tier</a>() &amp;&amp;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_deopt || prior_code-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7bb0d24a8ffd1a42cf31359bf02c22af">deopt_data</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>())) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  }</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160; </div>
<div class="line"><a name="l01589"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a813274940c91bd21cf6c10bcfd3b7c40"> 1589</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a813274940c91bd21cf6c10bcfd3b7c40">NativeModule::ReinstallDebugCode</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;native_module());</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5">kWithBreakpoints</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;for_debugging());</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IsAnonymous());</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>());</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// If the module is tiered up by now, do not reinstall debug code.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d">kDebugging</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160; </div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  uint32_t slot_idx = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;index());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* prior_code = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx]) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(prior_code);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <span class="comment">// The code is added to the current {WasmCodeRefScope}, hence the ref</span></div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="comment">// count cannot drop to zero here.</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    prior_code-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_idx] = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IncRef();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">PatchJumpTablesLocked</a>(slot_idx, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(),</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(), <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;signature_hash());</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;std::pair&lt;base::Vector&lt;uint8_t&gt;, <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">NativeModule::JumpTablesRef</a>&gt;</div>
<div class="line"><a name="l01616"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a460c056c89d554e3a4a8dfcb8ffc22b4"> 1616</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a460c056c89d554e3a4a8dfcb8ffc22b4">NativeModule::AllocateForDeserializedCode</a>(<span class="keywordtype">size_t</span> total_code_size) {</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> code_space =</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, total_code_size);</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  <span class="keyword">auto</span> jump_tables =</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(code_space));</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordflow">return</span> {code_space, jump_tables};</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5b0eed350253b9d2285ebda0bed60eab"> 1625</a></span>&#160;std::unique_ptr&lt;WasmCode&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5b0eed350253b9d2285ebda0bed60eab">NativeModule::AddDeserializedCode</a>(</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> instructions, <span class="keywordtype">int</span> stack_slots,</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordtype">int</span> ool_spills, uint32_t tagged_parameter_slots, <span class="keywordtype">int</span> safepoint_table_offset,</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordtype">int</span> handler_table_offset, <span class="keywordtype">int</span> constant_pool_offset,</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordtype">int</span> code_comments_offset, <span class="keywordtype">int</span> jump_table_info_offset,</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="keywordtype">int</span> unpadded_binary_size,</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> protected_instructions_data,</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> reloc_info,</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> source_position_table,</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> inlining_positions,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> deopt_data, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">WasmCode::Kind</a> kind,</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a>(instructions.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(), <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160; </div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  uint64_t signature_hash =</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;signature_hash(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">GetTypeCanonicalizer</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;WasmCode&gt;{<span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>{<span class="keyword">this</span>,</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                                                <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>,</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                                                instructions,</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                                                stack_slots,</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                                                ool_spills,</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                                                tagged_parameter_slots,</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                                safepoint_table_offset,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                                                handler_table_offset,</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                                                constant_pool_offset,</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                                                code_comments_offset,</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                                                jump_table_info_offset,</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                                                unpadded_binary_size,</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                                                protected_instructions_data,</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;                                                reloc_info,</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;                                                source_position_table,</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                inlining_positions,</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                                                deopt_data,</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                                                kind,</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                                <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>,</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                                                <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>,</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;                                                signature_hash}};</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;}</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;std::pair&lt;std::vector&lt;WasmCode*&gt;, std::vector&lt;WellKnownImport&gt;&gt;</div>
<div class="line"><a name="l01666"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a42240b9985270350c5a898e36da4dcf8"> 1666</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a42240b9985270350c5a898e36da4dcf8">NativeModule::SnapshotCodeTable</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>** start = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>.get();</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>** <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = start + <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> - start)) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  std::vector&lt;WellKnownImport&gt; import_statuses(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    import_statuses[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;type_feedback.well_known_imports.get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  }</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">return</span> {std::vector&lt;WasmCode*&gt;{start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>}, std::move(import_statuses)};</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7"> 1680</a></span>&#160;std::vector&lt;WasmCode*&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7">NativeModule::SnapshotAllOwnedCode</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a>();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  std::vector&lt;WasmCode*&gt; all_code(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.size());</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  std::transform(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.end(), all_code.begin(),</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                 [](<span class="keyword">auto</span>&amp; entry) { return entry.second.get(); });</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  std::for_each(all_code.begin(), all_code.end(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> all_code;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123"> 1691</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">NativeModule::GetCode</a>(uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)];</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;}</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7a50cdbc0772ef702c1401259707e93e"> 1698</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7a50cdbc0772ef702c1401259707e93e">NativeModule::HasCode</a>(uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)] != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160; </div>
<div class="line"><a name="l01703"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a74d82ac97a7bb02ac5781d209ffe2bc5"> 1703</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a74d82ac97a7bb02ac5781d209ffe2bc5">NativeModule::HasCodeWithTier</a>(uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)] != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;         <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)]-&gt;tier() == <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af7f35e6098885c81d9915c96d6b7cf9d"> 1709</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af7f35e6098885c81d9915c96d6b7cf9d">NativeModule::SetWasmSourceMap</a>(</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    std::unique_ptr&lt;WasmModuleSourceMap&gt; source_map) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a> = std::move(source_map);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;}</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adfb76e34f35dc0075dfa6458491ebc59"> 1714</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">WasmModuleSourceMap</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adfb76e34f35dc0075dfa6458491ebc59">NativeModule::GetWasmSourceMap</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a>.get();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;}</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d"> 1718</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d">NativeModule::CreateEmptyJumpTableLocked</a>(<span class="keywordtype">int</span> jump_table_size,</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                                                   <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a>(jump_table_size,</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                                            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">kUnrestrictedRegion</a>, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160; </div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a2badb95b32597d70458151d3b6a474ad"> 1726</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0e">ThreadIsolation::JitAllocationType</a> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a2badb95b32597d70458151d3b6a474ad">ToAllocationType</a>(</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">v8::internal::wasm::NativeModule::JumpTableType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">NativeModule::JumpTableType::kJumpTable</a>:</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea91a8fed74b604f7e84b3036af763ee8b">ThreadIsolation::JitAllocationType::kWasmJumpTable</a>;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">NativeModule::JumpTableType::kFarJumpTable</a>:</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5">ThreadIsolation::JitAllocationType::kWasmFarJumpTable</a>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">NativeModule::JumpTableType::kLazyCompileTable</a>:</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eadae8f9a2ade7ec362cbf97c727cb233c">ThreadIsolation::JitAllocationType::kWasmLazyCompileTable</a>;</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;}</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160; </div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160; </div>
<div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b"> 1740</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">NativeModule::CreateEmptyJumpTableInRegionLocked</a>(</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="keywordtype">int</span> jump_table_size, <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">JumpTableType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="comment">// Only call this if we really need a jump table.</span></div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, jump_table_size);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> code_space =</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">AllocateForCodeInRegion</a>(<span class="keyword">this</span>, jump_table_size, region);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>());</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">UpdateCodeSize</a>(jump_table_size, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">ThreadIsolation::RegisterJitAllocation</a>(</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()), code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(),</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a2badb95b32597d70458151d3b6a474ad">ToAllocationType</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    jit_allocation.<a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#a9ceea424d25a7087297d650a88c452af">ClearBytes</a>(0, code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  }</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  std::unique_ptr&lt;WasmCode&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>{</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>{<span class="keyword">this</span>,                  <span class="comment">// native_module</span></div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a>,   <span class="comment">// index</span></div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                   code_space,            <span class="comment">// instructions</span></div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                   0,                     <span class="comment">// stack_slots</span></div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                   0,                     <span class="comment">// ool_spills</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                   0,                     <span class="comment">// tagged_parameter_slots</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                   0,                     <span class="comment">// safepoint_table_offset</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                   jump_table_size,       <span class="comment">// handler_table_offset</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                   jump_table_size,       <span class="comment">// constant_pool_offset</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                   jump_table_size,       <span class="comment">// code_comments_offset</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                   jump_table_size,       <span class="comment">// jump_table_info_offset</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                   jump_table_size,       <span class="comment">// unpadded_binary_size</span></div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                   {},                    <span class="comment">// protected_instructions</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                   {},                    <span class="comment">// reloc_info</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                   {},                    <span class="comment">// source_pos</span></div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                   {},                    <span class="comment">// inlining pos</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                   {},                    <span class="comment">// deopt data</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>,  <span class="comment">// kind</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">ExecutionTier::kNone</a>,  <span class="comment">// tier</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                   <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>,      <span class="comment">// for_debugging</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                   0}};                   <span class="comment">// signature_hash</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">PublishCodeLocked</a>(std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>),</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                           <a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a4c0e64721e6f0d179c1b2151a97bbc4a">UnpublishedWasmCode::kNoAssumptions</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;}</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160; </div>
<div class="line"><a name="l01782"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda"> 1782</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">NativeModule::UpdateCodeSize</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">ExecutionTier</a> <a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a>,</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                                  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">ForDebugging</a> for_debugging) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  <span class="keywordflow">if</span> (for_debugging != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">kNotForDebugging</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="comment">// Count jump tables (ExecutionTier::kNone) for both Liftoff and TurboFan as</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="comment">// this is shared code.</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">ExecutionTier::kTurbofan</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5f57f21ee0ee562fb651068bbcda8c05">liftoff_code_size_</a>.fetch_add(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">ExecutionTier::kLiftoff</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">turbofan_code_size_</a>.fetch_add(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;}</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac"> 1791</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">NativeModule::PatchJumpTablesLocked</a>(uint32_t slot_index, <a class="code" href="classuintptr__t.html">Address</a> target,</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                                         <a class="code" href="classuintptr__t.html">Address</a> code_pointer_table_target,</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                         uint64_t signature_hash) {</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ae052cc798b9dd1e4970a6cdbcb2adb05">SetEntrypointAndSignature</a>(</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[slot_index], code_pointer_table_target,</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      signature_hash);</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space_data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="comment">// TODO(sroettger): need to unlock both jump tables together</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(code_space_data.jump_table, code_space_data.far_jump_table);</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">if</span> (!code_space_data.jump_table) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    WritableJumpTablePair writable_jump_tables =</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        ThreadIsolation::LookupJumpTableAllocations(</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            code_space_data.jump_table-&gt;instruction_start(),</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            code_space_data.jump_table-&gt;instructions_size_,</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            code_space_data.far_jump_table-&gt;instruction_start(),</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            code_space_data.far_jump_table-&gt;instructions_size_);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a>(writable_jump_tables, code_space_data, slot_index,</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                         target);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  }</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;}</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160; </div>
<div class="line"><a name="l01815"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb"> 1815</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">NativeModule::PatchJumpTableLocked</a>(WritableJumpTablePair&amp; jump_table_pair,</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a>&amp; code_space_data,</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                                        uint32_t slot_index, <a class="code" href="classuintptr__t.html">Address</a> target) {</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(slot_index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> jump_table_slot =</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;      code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  uint32_t far_jump_table_offset = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>() + slot_index);</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">// Only pass the far jump table start if the far jump table actually has a</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// slot for this function index (i.e. does not only contain runtime stubs).</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordtype">bool</span> has_far_jump_slot =</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;      far_jump_table_offset &lt;</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">instructions</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>();</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> far_jump_table_start =</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>();</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> far_jump_table_slot =</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      has_far_jump_slot ? far_jump_table_start + far_jump_table_offset</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                        : <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a0cabb404f2bfe1a9ef3ea35fe63f7cf3">JumpTableAssembler::PatchJumpTableSlot</a>(jump_table_pair, jump_table_slot,</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                                         far_jump_table_slot, target);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(slot_index, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">code_pointer_handles_size_</a>);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;}</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160; </div>
<div class="line"><a name="l01844"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539"> 1844</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">NativeModule::AddCodeSpaceLocked</a>(<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160; </div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="comment">// We do not need a code space if the NativeModule does not hold any</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="comment">// functions (wrappers live in the wrapper cache).</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="comment">// Each code space must be at least twice as large as the overhead per code</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <span class="comment">// space. Otherwise, we are wasting too much memory.</span></div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(),</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            2 * <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">OverheadPerCodeSpace</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac977ec4aaf9ab4a9c19776faeba24191">num_declared_functions</a>));</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160; </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* jump_table = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* far_jump_table = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keyword">const</span> uint32_t num_wasm_functions = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_first_code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.empty();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="comment">// We always need a far jump table, because it contains the runtime stubs.</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> needs_far_jump_table =</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      !<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(region).<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">is_valid</a>();</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> needs_jump_table = num_wasm_functions &gt; 0 &amp;&amp; needs_far_jump_table;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (needs_jump_table) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    <span class="comment">// Allocate additional jump tables just as big as the first one.</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="comment">// This is in particular needed in cctests which add functions to the module</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="comment">// after the jump tables are already created (see</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="comment">// https://crbug.com/v8/14213).</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <span class="keywordtype">int</span> jump_table_size =</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        is_first_code_space</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a5515cdbbc42cf3c78581ea13768f74bb">JumpTableAssembler::SizeForNumberOfSlots</a>(num_wasm_functions)</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a2e0f179aa20f7d266cdacf147f0ec197">instructions_size_</a>;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;    jump_table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a>(jump_table_size, region,</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                                                    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">JumpTableType::kJumpTable</a>);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#ad799a0c1d53c9117b94f95e6bc742e66">contains</a>(jump_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>()));</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160; </div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  <span class="keywordflow">if</span> (needs_far_jump_table) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordtype">int</span> num_function_slots = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">NumWasmFunctionsInFarJumpTable</a>(num_wasm_functions);</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    <span class="comment">// See comment above for the size computation.</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordtype">int</span> far_jump_table_size =</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        is_first_code_space</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a87add92ae969554c1b14d8ff3e8d7cd2">JumpTableAssembler::SizeForNumberOfFarJumpSlots</a>(</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                  <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(), num_function_slots)</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">main_far_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a2e0f179aa20f7d266cdacf147f0ec197">instructions_size_</a>;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    far_jump_table = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">CreateEmptyJumpTableInRegionLocked</a>(</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        far_jump_table_size, region, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">JumpTableType::kFarJumpTable</a>);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#ad799a0c1d53c9117b94f95e6bc742e66">contains</a>(far_jump_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>()));</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EmbeddedData.html">EmbeddedData</a> embedded_data = <a class="code" href="classv8_1_1internal_1_1EmbeddedData.html#a5f046101e1ed7d746979f87acbcb60e5">EmbeddedData::FromBlob</a>();</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    static_assert(<a class="code" href="classv8_1_1internal_1_1Builtins.html#a9272a472ad4885ecd59c1f55dcb16028">Builtins::kAllBuiltinsAreIsolateIndependent</a>);</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> builtin_addresses[<a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>()];</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      builtin_addresses[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = embedded_data.<a class="code" href="classv8_1_1internal_1_1EmbeddedData.html#a3ee374680ecbc4aae34314eab5fec477">InstructionStartOf</a>(</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a67dcedf7516507a705bc79ffd2e0a089">BuiltinLookup::BuiltinForJumptableIndex</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation = <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ad005e4948f48131f0f8727020bd52b68">ThreadIsolation::LookupJitAllocation</a>(</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        far_jump_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), far_jump_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a2e0f179aa20f7d266cdacf147f0ec197">instructions_size_</a>,</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5">ThreadIsolation::JitAllocationType::kWasmFarJumpTable</a>);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160; </div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a9429626ba78f937f1bdd773af25dda77">JumpTableAssembler::GenerateFarJumpTable</a>(</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;        jit_allocation, far_jump_table-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), builtin_addresses,</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(), num_function_slots);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160; </div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">if</span> (is_first_code_space) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="comment">// This can be updated and accessed without locks, since the addition of the</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="comment">// first code space happens during initialization of the {NativeModule},</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="comment">// where no concurrent accesses are possible.</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a> = jump_table;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">main_far_jump_table_</a> = far_jump_table;</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  }</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.push_back(<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a>{region, jump_table, far_jump_table});</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160; </div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordflow">if</span> (is_first_code_space) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66">InitializeJumpTableForLazyCompilation</a>(num_wasm_functions);</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  }</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160; </div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordflow">if</span> (jump_table &amp;&amp; !is_first_code_space) {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="comment">// Patch the new jump table(s) with existing functions. If this is the first</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="comment">// code space, there cannot be any functions that have been compiled yet.</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">CodeSpaceData</a>&amp; new_code_space_data = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>.back();</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="comment">// TODO(sroettger): need to create two write scopes? Or have a write scope</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="comment">// for multiple allocations.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    WritableJumpTablePair writable_jump_tables =</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        ThreadIsolation::LookupJumpTableAllocations(</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;            new_code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(),</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160; </div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            new_code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a2e0f179aa20f7d266cdacf147f0ec197">instructions_size_</a>,</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;            new_code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(),</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; </div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            new_code_space_data.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">far_jump_table</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a2e0f179aa20f7d266cdacf147f0ec197">instructions_size_</a>);</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">for</span> (uint32_t slot_index = 0; slot_index &lt; num_wasm_functions;</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;         ++slot_index) {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_index]) {</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a>(writable_jump_tables, new_code_space_data,</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                             slot_index,</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                             <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[slot_index]-&gt;instruction_start());</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">lazy_compile_table_</a>) {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        <span class="comment">// Use the main jump table as the target so that we don&#39;t have to add a</span></div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        <span class="comment">// landing pad instruction to the lazy compile table entries.</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <a class="code" href="classuintptr__t.html">Address</a> main_jump_table_target =</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">main_jump_table_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>() +</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_index);</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">PatchJumpTableLocked</a>(writable_jump_tables, new_code_space_data,</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                             slot_index, main_jump_table_target);</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;      }</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;}</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01955"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html"> 1955</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html">NativeModuleWireBytesStorage</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">WireBytesStorage</a> {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01957"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#ab6fba9c8a045c27425774748a11eeb2e"> 1957</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#ab6fba9c8a045c27425774748a11eeb2e">NativeModuleWireBytesStorage</a>(</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      std::shared_ptr&lt;<a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a>&gt; wire_bytes)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      : wire_bytes_(std::move(wire_bytes)) {}</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160; </div>
<div class="line"><a name="l01961"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#a89636375c6954ab2be469386acd27d35"> 1961</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#a89636375c6954ab2be469386acd27d35">GetCode</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">WireBytesRef</a> ref) <span class="keyword">const</span> <span class="keyword">final</span> {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">return</span> std::atomic_load(&amp;wire_bytes_)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        -&gt;as_vector()</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        .<a class="code" href="classv8_1_1base_1_1Vector.html#ae3db4c14cac8e648389541fdb745c6b0">SubVector</a>(ref.offset(), ref.end_offset());</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160; </div>
<div class="line"><a name="l01967"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#aa28338779845c52886bb995b0d232191"> 1967</a></span>&#160;  std::optional&lt;ModuleWireBytes&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#aa28338779845c52886bb995b0d232191">GetModuleBytes</a>() const final {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="keywordflow">return</span> std::optional&lt;ModuleWireBytes&gt;(</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        std::atomic_load(&amp;wire_bytes_)-&gt;as_vector());</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  }</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#a12920b791910499b4eb4f83df949a18d"> 1973</a></span>&#160;  <span class="keyword">const</span> std::shared_ptr&lt;base::OwnedVector&lt;const uint8_t&gt;&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#a12920b791910499b4eb4f83df949a18d">wire_bytes_</a>;</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;};</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160; </div>
<div class="line"><a name="l01977"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a61b6504416cddebca8e11c5635d5c203"> 1977</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a61b6504416cddebca8e11c5635d5c203">NativeModule::SetWireBytes</a>(<a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a> wire_bytes) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  <span class="keyword">auto</span> shared_wire_bytes =</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      std::make_shared&lt;base::OwnedVector&lt;const uint8_t&gt;&gt;(std::move(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>));</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  std::atomic_store(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a>, shared_wire_bytes);</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (!shared_wire_bytes-&gt;empty()) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;SetWireBytesStorage(</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        std::make_shared&lt;NativeModuleWireBytesStorage&gt;(</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            std::move(shared_wire_bytes)));</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  }</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;}</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160; </div>
<div class="line"><a name="l01988"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9a1111455be88abe59c4e98636c15314"> 1988</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9a1111455be88abe59c4e98636c15314">NativeModule::AddLazyCompilationTimeSample</a>(int64_t sample_in_micro_sec) {</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a203dfbaf27e80e6f9a30f2e29dcf15f2">num_lazy_compilations_</a>.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1a7ccb8d9aed0eed2230ebec996762dd">sum_lazy_compilation_time_in_micro_sec_</a>.fetch_add(sample_in_micro_sec,</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                                                    std::memory_order_relaxed);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  int64_t max =</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">max_lazy_compilation_time_in_micro_sec_</a>.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <span class="keywordflow">while</span> (sample_in_micro_sec &gt; max &amp;&amp;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;         !<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">max_lazy_compilation_time_in_micro_sec_</a>.compare_exchange_weak(</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;             max, sample_in_micro_sec, std::memory_order_relaxed,</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;             std::memory_order_relaxed)) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="comment">// Repeat until we set the new maximum sucessfully.</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160; </div>
<div class="line"><a name="l02002"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7"> 2002</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">NativeModule::TransferNewOwnedCodeLocked</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty());</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="comment">// Sort the {new_owned_code_} vector reversed, such that the position of the</span></div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="comment">// previously inserted element can be used as a hint for the next element. If</span></div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  <span class="comment">// elements in {new_owned_code_} are adjacent, this will guarantee</span></div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="comment">// constant-time insertion into the map.</span></div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  <a class="code" href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">std::sort</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.begin(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.end(),</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            [](<span class="keyword">const</span> std::unique_ptr&lt;WasmCode&gt;&amp; a,</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;               <span class="keyword">const</span> std::unique_ptr&lt;WasmCode&gt;&amp; b) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;              return a-&gt;instruction_start() &gt; b-&gt;instruction_start();</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            });</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keyword">auto</span> insertion_hint = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.end();</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.count(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start()));</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    <span class="comment">// Check plausibility of the insertion hint.</span></div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(insertion_hint == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.end() ||</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;           insertion_hint-&gt;first &gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start());</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    insertion_hint = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.emplace_hint(</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;        insertion_hint, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start(), std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.clear();</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;}</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0"> 2026</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">NativeModule::Lookup</a>(<a class="code" href="classuintptr__t.html">Address</a> pc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a>();</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="keyword">auto</span> iter = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.upper_bound(pc);</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keywordflow">if</span> (iter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.begin()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  --iter;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* candidate = iter-&gt;second.get();</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(candidate-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">instruction_start</a>(), iter-&gt;first);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <span class="keywordflow">if</span> (!candidate-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a86612599c4a49e5ff328d3fd108ed267">contains</a>(pc)) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(candidate);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">return</span> candidate;</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;}</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160; </div>
<div class="line"><a name="l02039"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7"> 2039</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">NativeModule::JumpTablesRef</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">NativeModule::FindJumpTablesForRegionLocked</a>(</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> code_region)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>.<a class="code" href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">AssertHeld</a>();</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  <span class="keyword">auto</span> jump_table_usable = [code_region](<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* jump_table) {</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="comment">// We only ever need to check for suitable jump tables if</span></div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="comment">// {kNeedsFarJumpsBetweenCodeSpaces} is true.</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">if</span> constexpr (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">kNeedsFarJumpsBetweenCodeSpaces</a>) <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> table_start = jump_table-&gt;instruction_start();</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> table_end = table_start + jump_table-&gt;instructions().size();</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="comment">// Compute the maximum distance from anywhere in the code region to anywhere</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="comment">// in the jump table, avoiding any underflow.</span></div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordtype">size_t</span> max_distance = std::max(</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        code_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>() &gt; table_start ? code_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>() - table_start : 0,</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;        table_end &gt; code_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>() ? table_end - code_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>() : 0);</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="comment">// kDefaultMaxWasmCodeSpaceSizeMb is &lt;= the maximum near call distance on</span></div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="comment">// the current platform.</span></div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="comment">// We can allow a max_distance that is equal to</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="comment">// kDefaultMaxWasmCodeSpaceSizeMb, because every call or jump will target an</span></div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="comment">// address *within* the region, but never exactly the end of the region. So</span></div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="comment">// all occuring offsets are actually smaller than max_distance.</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">return</span> max_distance &lt;= <a class="code" href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">kDefaultMaxWasmCodeSpaceSizeMb</a> * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  };</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space_data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>) {</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(code_space_data.jump_table, code_space_data.far_jump_table);</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">if</span> (!code_space_data.far_jump_table) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="comment">// Only return these jump tables if they are reachable from the whole</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    <span class="comment">// {code_region}.</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">kNeedsFarJumpsBetweenCodeSpaces</a> &amp;&amp;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        (!jump_table_usable(code_space_data.far_jump_table) ||</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;         (code_space_data.jump_table &amp;&amp;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;          !jump_table_usable(code_space_data.jump_table)))) {</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    }</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="keywordflow">return</span> {code_space_data.jump_table</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                ? code_space_data.jump_table-&gt;instruction_start()</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                : <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>,</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            code_space_data.far_jump_table-&gt;instruction_start()};</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  }</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;}</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160; </div>
<div class="line"><a name="l02081"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0"> 2081</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0">NativeModule::GetNearCallTargetForFunction</a>(</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    uint32_t func_index, <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a>&amp; jump_tables)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(jump_tables.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">is_valid</a>());</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  uint32_t slot_offset = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6a8744656191d24bad76f9c6562d9fdb">JumpTableOffset</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>(), func_index);</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <span class="keywordflow">return</span> jump_tables.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#a50f3e825d91e66fe4c340debaf6fc31a">jump_table_start</a> + slot_offset;</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;}</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160; </div>
<div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7"> 2088</a></span>&#160;<a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">NativeModule::GetJumpTableEntryForBuiltin</a>(</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> builtin, <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">JumpTablesRef</a>&amp; jump_tables)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(jump_tables.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">is_valid</a>());</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a282118f97cf3fce4133b63c1c15906bc">BuiltinLookup::JumptableIndexForBuiltin</a>(builtin);</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160; </div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <span class="keyword">auto</span> offset = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="keywordflow">return</span> jump_tables.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#a863fbb343af1151884091489dcb5b191">far_jump_table_start</a> + offset;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;}</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adda8e2ac30083dec687f18bca0ab5364"> 2097</a></span>&#160;uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adda8e2ac30083dec687f18bca0ab5364">NativeModule::GetFunctionIndexFromJumpTableSlot</a>(</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> slot_address)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a> code_refs;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">Lookup</a>(slot_address);</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">WasmCode::kJumpTable</a>, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;kind());</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  uint32_t slot_offset =</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(slot_address - <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start());</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  uint32_t slot_idx = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ada6cc7624595bb4befe6288661dc75ba">JumpTableAssembler::SlotOffsetToIndex</a>(slot_offset);</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(slot_idx, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(slot_address,</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;            <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start() +</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">JumpTableAssembler::JumpSlotIndexToOffset</a>(slot_idx));</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions + slot_idx;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;}</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160; </div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">NativeModule::CallIndirectTargetMap</a></div>
<div class="line"><a name="l02114"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac075badc36b3fdb58a4f15b9a3dd12c9"> 2114</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac075badc36b3fdb58a4f15b9a3dd12c9">NativeModule::CreateIndirectCallTargetToFunctionIndexMap</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">CallIndirectTargetMap</a> lookup_map;</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="keywordflow">for</span> (uint32_t func_index = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">num_imported_functions</a>();</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;       func_index &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>(); func_index++) {</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;    lookup_map.emplace(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">GetCodePointerHandle</a>(func_index), func_index);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  }</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <span class="keywordflow">return</span> lookup_map;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;}</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160; </div>
<div class="line"><a name="l02123"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a119487efc92641da665eb0252dcc9a18"> 2123</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">Builtin</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a119487efc92641da665eb0252dcc9a18">NativeModule::GetBuiltinInJumptableSlot</a>(<a class="code" href="classuintptr__t.html">Address</a> target)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160; </div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space_data : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>) {</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">if</span> (code_space_data.far_jump_table != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        code_space_data.far_jump_table-&gt;contains(target)) {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;      uint32_t offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;          target - code_space_data.far_jump_table-&gt;instruction_start());</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a01dc0a56e4bad49ae441513379eabe4d">JumpTableAssembler::FarJumpSlotOffsetToIndex</a>(offset);</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">JumpTableAssembler::FarJumpSlotIndexToOffset</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) != offset) {</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      }</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a67dcedf7516507a705bc79ffd2e0a089">BuiltinLookup::BuiltinForJumptableIndex</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;    }</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  }</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="comment">// Invalid address.</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88">Builtin::kNoBuiltinId</a>;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;}</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160; </div>
<div class="line"><a name="l02144"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd"> 2144</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1WasmCodePointer.html">WasmCodePointer</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">NativeModule::GetCodePointerHandle</a>(<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a>, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= 0);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">kAnonymousFuncIndex</a> ||</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions) {</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="comment">// TODO(sroettger): do ImportWrappers need a code pointer handle?</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">kInvalidWasmCodePointer</a>;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  }</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">code_pointer_handles_</a>[<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">declared_function_index</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(), <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)];</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;}</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a969ac2536a1c63951c940e7f1552c323"> 2154</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a969ac2536a1c63951c940e7f1552c323">NativeModule::~NativeModule</a>() {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;Deleting native module: %p\n&quot;</span>, <span class="keyword">this</span>);</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="comment">// Cancel all background compilation before resetting any field of the</span></div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="comment">// NativeModule or freeing anything.</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;CancelCompilation();</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160; </div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_offheap_memory_size)) {</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="comment">// Print the current memory consumption of both this Module *and* the whole</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <span class="comment">// engine before freeing this module. In a benchmark with a single module</span></div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="comment">// this will probably be the high watermark of memory usage for the whole</span></div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="comment">// engine.</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a">PrintCurrentMemoryConsumptionEstimate</a>();</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a32e34a8169c3a723824780c6ac126654">PrintCurrentMemoryConsumptionEstimate</a>();</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  }</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aaf9cd2000af17e8d1f3ebbb9d4cd7c09">FreeNativeModule</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160; </div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <span class="comment">// If experimental PGO support is enabled, serialize the PGO data now.</span></div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.experimental_wasm_pgo_to_file)) {</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab2ab774cdc5dfa0fea419719c89815f6">DumpProfileToFile</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">tiering_budgets_</a>.get());</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160; </div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">FreeCodePointerTableHandles</a>();</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;}</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a08c0531d703317ba61ae16c19a505f7a"> 2179</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a08c0531d703317ba61ae16c19a505f7a">WasmCodeManager::WasmCodeManager</a>()</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    : max_committed_code_space_(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_committed_code_mb * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>),</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;      critical_committed_code_space_(max_committed_code_space_ / 2),</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      next_code_space_hint_(reinterpret_cast&lt;<a class="code" href="classuintptr__t.html">Address</a>&gt;(</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a1b38d6a01927e639b91b6a039899ac1a">GetPlatformPageAllocator</a>()-&gt;<a class="code" href="namespacev8_1_1internal.html#a604a6dd52477843a9531577e32877ca5">GetRandomMmapAddr</a>())) {</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  <span class="comment">// Check that --wasm-max-code-space-size-mb is not set bigger than the default</span></div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  <span class="comment">// value. Otherwise we run into DCHECKs or other crashes later.</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a>(<a class="code" href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">kDefaultMaxWasmCodeSpaceSizeMb</a>,</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;}</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160; </div>
<div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#af407c29783d5ce7ad5d29928a54adca5"> 2190</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#af407c29783d5ce7ad5d29928a54adca5">WasmCodeManager::~WasmCodeManager</a>() {</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <span class="comment">// No more committed code space.</span></div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.load());</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;}</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN64)</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2af86e498cb6c3f31bc898c6b40d287e">WasmCodeManager::CanRegisterUnwindInfoForNonABICompliantCodeRange</a>() {</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2af86e498cb6c3f31bc898c6b40d287e">win64_unwindinfo::CanRegisterUnwindInfoForNonABICompliantCodeRange</a>() &amp;&amp;</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;         <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.win64_unwinding_info;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;}</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_WIN64</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160; </div>
<div class="line"><a name="l02203"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#ad4da2816276e107b3a3e54d32e08691a"> 2203</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#ad4da2816276e107b3a3e54d32e08691a">WasmCodeManager::Commit</a>(<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region) {</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), <a class="code" href="namespacev8_1_1internal.html#a6a5f128ae031000011e13ca7534dfc91">CommitPageSize</a>()));</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(), <a class="code" href="namespacev8_1_1internal.html#a6a5f128ae031000011e13ca7534dfc91">CommitPageSize</a>()));</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <span class="comment">// Reserve the size. Use CAS loop to avoid overflow on</span></div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="comment">// {total_committed_code_space_}.</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <span class="keywordtype">size_t</span> old_value = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.load();</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a102c2c6b55ae7094aaac669c22150174">max_committed_code_space_</a>, old_value);</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    <span class="keywordflow">if</span> (region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>() &gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a102c2c6b55ae7094aaac669c22150174">max_committed_code_space_</a> - old_value) {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;trying to commit &quot;</span> &lt;&lt; region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;, already committed &quot;</span> &lt;&lt; old_value;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                                  <span class="stringliteral">&quot;Exceeding maximum wasm committed code space&quot;</span>,</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                                  oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.compare_exchange_weak(</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;            old_value, old_value + region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>())) {</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    }</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  }</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160; </div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;Setting rwx permissions for 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;:0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;             region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>());</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <span class="keywordtype">bool</span> success = <a class="code" href="namespacev8_1_1internal.html#a1b38d6a01927e639b91b6a039899ac1a">GetPlatformPageAllocator</a>()-&gt;<a class="code" href="classv8_1_1PageAllocator.html#aa05bfd415492374b712dd1d3f6f4a1f9">RecommitPages</a>(</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()), region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(),</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;      <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">PageAllocator::kReadWriteExecute</a>);</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160; </div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(!success)) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{} &lt;&lt; <span class="stringliteral">&quot;region size: &quot;</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;                                              &lt;&lt; region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Commit wasm code space&quot;</span>,</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;                                oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  }</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;}</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160; </div>
<div class="line"><a name="l02241"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a1b32b6ad2137dab896d869457d0d21e7"> 2241</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a1b32b6ad2137dab896d869457d0d21e7">WasmCodeManager::Decommit</a>(<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region) {</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>* allocator = <a class="code" href="namespacev8_1_1internal.html#a1b38d6a01927e639b91b6a039899ac1a">GetPlatformPageAllocator</a>();</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#ad817d87004151e3824997415f2dc57e9">CommitPageSize</a>()));</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(), allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#ad817d87004151e3824997415f2dc57e9">CommitPageSize</a>()));</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;  [[maybe_unused]] <span class="keywordtype">size_t</span> old_committed =</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.fetch_sub(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>());</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>(), old_committed);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;Decommitting system pages 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;:0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;             region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>());</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(!allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#a8926cd902754e8d1788e6c172c3a72c2">DecommitPages</a>(</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>()), region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>()))) {</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="comment">// Decommit can fail in near-OOM situations.</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{} &lt;&lt; <span class="stringliteral">&quot;region size: &quot;</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                                              &lt;&lt; region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>();</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;Decommit Wasm code space&quot;</span>,</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                                oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  }</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;}</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160; </div>
<div class="line"><a name="l02260"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#aaf8b899ee355da1fbb00c3471867d762"> 2260</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#aaf8b899ee355da1fbb00c3471867d762">WasmCodeManager::AssignRange</a>(<a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> region,</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                                  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* native_module) {</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a4964601ddec44dd9566edc193900a11b">native_modules_mutex_</a>);</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">lookup_map_</a>.insert(std::make_pair(</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), std::make_pair(region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>(), native_module)));</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;}</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160; </div>
<div class="line"><a name="l02267"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a7ed36ebeb931a4b5b5cd1097891d60c1"> 2267</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a7ed36ebeb931a4b5b5cd1097891d60c1">WasmCodeManager::TryAllocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <a class="code" href="classv8_1_1PageAllocator.html">v8::PageAllocator</a>* page_allocator = <a class="code" href="namespacev8_1_1internal.html#a1b38d6a01927e639b91b6a039899ac1a">GetPlatformPageAllocator</a>();</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, 0);</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <span class="keywordtype">size_t</span> allocate_page_size = page_allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">AllocatePageSize</a>();</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, allocate_page_size);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> hint =</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a058cd97298c26c958e790365aa0153b9">next_code_space_hint_</a>.fetch_add(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, std::memory_order_relaxed);</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160; </div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <span class="comment">// When we start exposing Wasm in jitless mode, then the jitless flag</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;  <span class="comment">// will have to determine whether we set kMapAsJittable or not.</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.jitless);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;  <a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> mem(page_allocator, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;                    <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html">PageAllocator::AllocationHint</a>().WithAddress(</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;                        <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(hint)),</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;                    allocate_page_size,</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;                    PageAllocator::Permission::kNoAccessWillJitLater);</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="keywordflow">if</span> (!mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a4e314fe91c3c610bb8495aa6435cba9f">IsReserved</a>()) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <span class="comment">// Try resetting {next_code_space_hint_}, which might fail if another thread</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="comment">// bumped it in the meantime.</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> bumped_hint = hint + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a058cd97298c26c958e790365aa0153b9">next_code_space_hint_</a>.compare_exchange_weak(bumped_hint, hint,</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                                std::memory_order_relaxed);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  }</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;VMem alloc: 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;:0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot; (%zu)\n&quot;</span>, mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">address</a>(),</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;             mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a5dd4e21fcfe750201d1d054d088c1368">end</a>(), mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">size</a>());</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160; </div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="keywordflow">if</span> (mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">address</a>() != hint) {</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    <span class="comment">// If the hint was ignored, just store the end of the new vmem area</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="comment">// unconditionally, potentially racing with other concurrent allocations (it</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    <span class="comment">// does not really matter which end pointer we keep in that case).</span></div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a058cd97298c26c958e790365aa0153b9">next_code_space_hint_</a>.store(mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a5dd4e21fcfe750201d1d054d088c1368">end</a>(), std::memory_order_relaxed);</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  }</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160; </div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <span class="comment">// Don&#39;t pre-commit the code cage on Windows since it uses memory and it&#39;s not</span></div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="comment">// required for recommit.</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="comment">// iOS cannot adjust page permissions for MAP_JIT&#39;d pages, they are set as RWX</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="comment">// at the start.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="preprocessor">#if !defined(V8_OS_WIN) &amp;&amp; !defined(V8_OS_IOS)</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a930893209d531231682fce4cbef728ed">MemoryProtectionKeysEnabled</a>()) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="preprocessor">#if V8_HAS_PKU_JIT_WRITE_PROTECT</span></div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#a42ebfac4aa3bcade2327daf0cf5efb7f">ThreadIsolation::Enabled</a>()) {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#ad690ad6c8189d648d7cc8ec987d882c1">ThreadIsolation::MakeExecutable</a>(mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">address</a>(), mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">size</a>()));</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(base::MemoryProtectionKey::SetPermissionsAndKey(</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;          mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a189b2051e0b85c97fd761d87f2ee207a">region</a>(), <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">PageAllocator::kReadWriteExecute</a>,</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;          RwxMemoryWriteScope::memory_protection_key()));</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    }</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a0b20b06fc0f215d9b9eac890977a53e7">SetPermissions</a>(<a class="code" href="namespacev8_1_1internal.html#a1b38d6a01927e639b91b6a039899ac1a">GetPlatformPageAllocator</a>(), mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">address</a>(), mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">size</a>(),</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;                         <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">PageAllocator::kReadWriteExecute</a>));</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  }</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  page_allocator-&gt;<a class="code" href="classv8_1_1PageAllocator.html#ad0de847c922e25f63d82494d997f441d">DiscardSystemPages</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">address</a>()),</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;                                     mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">size</a>());</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(V8_OS_WIN) &amp;&amp; !defined(V8_OS_IOS)</span></div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160; </div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#a9fff9d0a2fb22b0853a69400bea0f618">ThreadIsolation::RegisterJitPage</a>(mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">address</a>(), mem.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">size</a>());</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160; </div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  <span class="keywordflow">return</span> mem;</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;}</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160; </div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="comment">// The numbers here are rough estimates, used to calculate the size of the</span></div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="comment">// initial code reservation and for estimating the amount of external memory</span></div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment">// reported to the GC.</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="comment">// They do not need to be accurate. Choosing them too small will result in</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="comment">// separate code spaces being allocated (compile time and runtime overhead),</span></div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="comment">// choosing them too large results in over-reservation (virtual address space</span></div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<span class="comment">// only).</span></div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;<span class="comment">// In doubt, choose the numbers slightly too large on 64-bit systems (where</span></div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="comment">// {kNeedsFarJumpsBetweenCodeSpaces} is {true}). Over-reservation is less</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="comment">// critical in a 64-bit address space, but separate code spaces cause overhead.</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;<span class="comment">// On 32-bit systems (where {kNeedsFarJumpsBetweenCodeSpaces} is {false}), the</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="comment">// opposite is true: Multiple code spaces are cheaper, and address space is</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;<span class="comment">// scarce, hence choose numbers slightly too small.</span></div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="comment">// Numbers can be determined by running benchmarks with</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;<span class="comment">// --trace-wasm-compilation-times, and piping the output through</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;<span class="comment">// tools/wasm/code-size-factors.py.</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="preprocessor">#if V8_TARGET_ARCH_X64</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">kTurbofanFunctionOverhead</a> = 24;</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">kTurbofanCodeSizeMultiplier</a> = 3;</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> = 56;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a> = 4;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_IA32</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">kTurbofanFunctionOverhead</a> = 20;</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">kTurbofanCodeSizeMultiplier</a> = 3;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> = 48;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a> = 3;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM</span></div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">kTurbofanFunctionOverhead</a> = 44;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">kTurbofanCodeSizeMultiplier</a> = 3;</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> = 96;</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a> = 5;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="preprocessor">#elif V8_TARGET_ARCH_ARM64</span></div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">kTurbofanFunctionOverhead</a> = 40;</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">kTurbofanCodeSizeMultiplier</a> = 3;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> = 68;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a> = 4;</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;<span class="comment">// Other platforms should add their own estimates for best performance. Numbers</span></div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;<span class="comment">// below are the maximum of other architectures.</span></div>
<div class="line"><a name="l02372"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852"> 2372</a></span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">kTurbofanFunctionOverhead</a> = 44;</div>
<div class="line"><a name="l02373"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7"> 2373</a></span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">kTurbofanCodeSizeMultiplier</a> = 4;</div>
<div class="line"><a name="l02374"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f"> 2374</a></span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> = 96;</div>
<div class="line"><a name="l02375"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4"> 2375</a></span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a> = 5;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160; </div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02380"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a0fcb42a940eb11201694e507b09fa04c"> 2380</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a0fcb42a940eb11201694e507b09fa04c">WasmCodeManager::EstimateLiftoffCodeSize</a>(<span class="keywordtype">int</span> body_size) {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> + <a class="code" href="namespacev8_1_1internal.html#a52434390901f205f6bdb0402a183aef3">kCodeAlignment</a> / 2 +</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;         body_size * <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a>;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;}</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160; </div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02386"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5b6cfe5d63b1c5f3b54fdb34ed91c863"> 2386</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5b6cfe5d63b1c5f3b54fdb34ed91c863">WasmCodeManager::EstimateNativeModuleCodeSize</a>(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module) {</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;  <span class="keywordtype">int</span> code_section_length = 0;</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  <span class="keywordflow">if</span> (module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a> &gt; 0) {</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>.size(),</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;              module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a> + module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>);</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    <span class="keyword">auto</span>* first_fn = &amp;module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">num_imported_functions</a>];</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keyword">auto</span>* last_fn = &amp;module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>.back();</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    code_section_length =</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(last_fn-&gt;code.end_offset() - first_fn-&gt;code.offset());</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  }</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5b6cfe5d63b1c5f3b54fdb34ed91c863">EstimateNativeModuleCodeSize</a>(module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>,</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                                      code_section_length);</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;}</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a1fbaa24f3a0fc9f3abd82032f97e2b53"> 2401</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5b6cfe5d63b1c5f3b54fdb34ed91c863">WasmCodeManager::EstimateNativeModuleCodeSize</a>(<span class="keywordtype">int</span> num_functions,</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;                                                     <span class="keywordtype">int</span> code_section_length) {</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="comment">// It can happen that even without any functions we still have a code section</span></div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  <span class="comment">// of size 1, defining 0 function bodies. Still report 0 overall in this case.</span></div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;  <span class="keywordflow">if</span> (num_functions == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160; </div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  <span class="comment">// The size for the jump table and far jump table is added later, per code</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;  <span class="comment">// space (see {OverheadPerCodeSpace}). We still need to add the overhead for</span></div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  <span class="comment">// the lazy compile table once, though. There are configurations where we do</span></div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <span class="comment">// not need it (non-asm.js, no dynamic tiering and no lazy compilation), but</span></div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="comment">// we ignore this here as most of the time we will need it.</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> lazy_compile_table_size =</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a52670982950dc90851cb4a1de6e97781">JumpTableAssembler::SizeForNumberOfLazyFunctions</a>(num_functions);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160; </div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> overhead_per_function_turbofan =</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">kTurbofanFunctionOverhead</a> + <a class="code" href="namespacev8_1_1internal.html#a52434390901f205f6bdb0402a183aef3">kCodeAlignment</a> / 2;</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="keywordtype">size_t</span> size_of_turbofan = overhead_per_function_turbofan * num_functions +</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                            <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">kTurbofanCodeSizeMultiplier</a> * code_section_length;</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160; </div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> overhead_per_function_liftoff =</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">kLiftoffFunctionOverhead</a> + <a class="code" href="namespacev8_1_1internal.html#a52434390901f205f6bdb0402a183aef3">kCodeAlignment</a> / 2;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <span class="comment">// Note: For asm.js we do not have Liftoff support, but this corner case is</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="comment">// being ignored here.</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="keywordtype">size_t</span> size_of_liftoff =</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.liftoff ? overhead_per_function_liftoff * num_functions +</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                             <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">kLiftoffCodeSizeMultiplier</a> * code_section_length</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                       : 0;</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  <span class="comment">// Expect that typically not more than half of the functions are actually</span></div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="comment">// compiled.</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_lazy_compilation) size_of_liftoff /= 2;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160; </div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="comment">// With dynamic tiering we don&#39;t expect to compile more than 25% with</span></div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="comment">// TurboFan. If there is no liftoff though then all code will get generated</span></div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="comment">// by TurboFan.</span></div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.liftoff &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_dynamic_tiering) size_of_turbofan /= 4;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordflow">return</span> lazy_compile_table_size + size_of_liftoff + size_of_turbofan;</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;}</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160; </div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02441"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a329950b560b30699bd218b9622eedda7"> 2441</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a329950b560b30699bd218b9622eedda7">WasmCodeManager::EstimateNativeModuleMetaDataSize</a>(</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">WasmModule</a>* module) {</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  <span class="keywordtype">size_t</span> wasm_module_estimate = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af469da976cc1ef6056b9a44b77356b21">EstimateStoredSize</a>();</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160; </div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  uint32_t num_wasm_functions = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">num_declared_functions</a>;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160; </div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  <span class="comment">// TODO(wasm): Include wire bytes size.</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;  <span class="keywordtype">size_t</span> native_module_estimate =</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>) +                      <span class="comment">// NativeModule struct</span></div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      (<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>*) * num_wasm_functions) +  <span class="comment">// code table size</span></div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;      (<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>) * num_wasm_functions);    <span class="comment">// code object size</span></div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  <span class="keywordtype">size_t</span> jump_table_size = RoundUp&lt;kCodeAlignment&gt;(</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a5515cdbbc42cf3c78581ea13768f74bb">JumpTableAssembler::SizeForNumberOfSlots</a>(num_wasm_functions));</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <span class="keywordtype">size_t</span> far_jump_table_size =</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a87add92ae969554c1b14d8ff3e8d7cd2">JumpTableAssembler::SizeForNumberOfFarJumpSlots</a>(</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;          <a class="code" href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">BuiltinLookup::BuiltinCount</a>(),</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">NumWasmFunctionsInFarJumpTable</a>(num_wasm_functions)));</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160; </div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <span class="keywordflow">return</span> wasm_module_estimate + native_module_estimate + jump_table_size +</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;         far_jump_table_size;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;}</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160; </div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02465"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a3efdc870dd21f075b3c408101c23feeb"> 2465</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a3efdc870dd21f075b3c408101c23feeb">WasmCodeManager::HasMemoryProtectionKeySupport</a>() {</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;<span class="preprocessor">#if V8_HAS_PKU_JIT_WRITE_PROTECT</span></div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1RwxMemoryWriteScope.html#a9771bab10900e92154b51ae8884ebd47">RwxMemoryWriteScope::IsSupported</a>();</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_HAS_PKU_JIT_WRITE_PROTECT</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;}</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160; </div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a930893209d531231682fce4cbef728ed"> 2474</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a930893209d531231682fce4cbef728ed">WasmCodeManager::MemoryProtectionKeysEnabled</a>() {</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a3efdc870dd21f075b3c408101c23feeb">HasMemoryProtectionKeySupport</a>();</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;}</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160; </div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l02479"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a2241851e1074b022606031a831966b17"> 2479</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a2241851e1074b022606031a831966b17">WasmCodeManager::MemoryProtectionKeyWritable</a>() {</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="preprocessor">#if V8_HAS_PKU_JIT_WRITE_PROTECT</span></div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="keywordflow">return</span> RwxMemoryWriteScope::IsPKUWritable();</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_HAS_PKU_JIT_WRITE_PROTECT</span></div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;}</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160; </div>
<div class="line"><a name="l02487"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8cbd92108ae1c153f66f40609aed5783"> 2487</a></span>&#160;std::shared_ptr&lt;NativeModule&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8cbd92108ae1c153f66f40609aed5783">WasmCodeManager::NewNativeModule</a>(</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">WasmEnabledFeatures</a> enabled_features,</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">WasmDetectedFeatures</a> detected_features, <a class="code" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a> compile_imports,</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    <span class="keywordtype">size_t</span> code_size_estimate, std::shared_ptr&lt;const WasmModule&gt; module) {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    <a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> code_space;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    std::shared_ptr&lt;NativeModule&gt; ret;</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>(enabled_features, detected_features, compile_imports,</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                     std::move(code_space), std::move(module),</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                     isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a0df8dc9e4eb119d45ed068d53277c709">async_counters</a>(), &amp;ret);</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    <span class="comment">// The constructor initialized the shared_ptr.</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(ret);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;New NativeModule (wasm-jitless) %p\n&quot;</span>, ret.get());</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;  }</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160; </div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.load() &gt;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5690c15d56eb42cffb868c23ac92f424">critical_committed_code_space_</a>.load()) {</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// Flush Liftoff code and record the flushed code size.</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_liftoff_code) {</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#ab84991e9216741ff8c932c1a64d5aced">FlushLiftoffCode</a>();</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    }</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    (<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate))</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        -&gt;MemoryPressureNotification(<a class="code" href="namespacev8.html#ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b">MemoryPressureLevel::kCritical</a>);</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <span class="keywordtype">size_t</span> committed = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.load();</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a102c2c6b55ae7094aaac669c22150174">max_committed_code_space_</a>, committed);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5690c15d56eb42cffb868c23ac92f424">critical_committed_code_space_</a>.store(</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;        committed + (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a102c2c6b55ae7094aaac669c22150174">max_committed_code_space_</a> - committed) / 2);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;  }</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160; </div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="comment">// On 32-bit platforms where no far jumps are needed between code spaces, use</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <span class="comment">// a reduced code size estimate. This saves some precious address space at the</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  <span class="comment">// cost of needing more code spaces, but those are cheaper if they do not</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="comment">// result in more far jumps.</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="comment">// For now it is the case that far jumps are only needed on 64-bit platforms,</span></div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;  <span class="comment">// so those two conditions can be interchanged. Think about which logic to use</span></div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;  <span class="comment">// once those diverge.</span></div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  static_assert(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">NativeModule::kNeedsFarJumpsBetweenCodeSpaces</a> ==</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                (<a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a> == <a class="code" href="namespacev8_1_1internal.html#a191fd08d000c1fc6a1c0d14655f1b711">kInt64Size</a>));</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  <span class="keywordflow">if</span> constexpr (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">NativeModule::kNeedsFarJumpsBetweenCodeSpaces</a>) {</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;    code_size_estimate /= 2;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  }</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="keywordtype">size_t</span> code_vmem_size = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#af740a9a06db337429beba5125b64f657">ReservationSizeForWasmCode</a>(</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;      code_size_estimate, module-&gt;num_declared_functions, 0);</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(code_vmem_size == 0, module-&gt;num_declared_functions == 0);</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160; </div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;  <span class="comment">// The &#39;--wasm-max-initial-code-space-reservation&#39; testing flag can be used to</span></div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  <span class="comment">// reduce the maximum size of the initial code space reservation (in MB).</span></div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_initial_code_space_reservation &gt; 0) {</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    <span class="keywordtype">size_t</span> flag_max_bytes =</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_initial_code_space_reservation) *</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="keywordflow">if</span> (flag_max_bytes &lt; code_vmem_size) code_vmem_size = flag_max_bytes;</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  }</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160; </div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;  <span class="comment">// Try up to two times; getting rid of dead JSArrayBuffer allocations might</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  <span class="comment">// require two GCs because the first GC maybe incremental and may have</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;  <span class="comment">// floating garbage.</span></div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> kAllocationRetries = 2;</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;  <a class="code" href="classv8_1_1internal_1_1VirtualMemory.html">VirtualMemory</a> code_space;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;  <a class="code" href="classv8_1_1base_1_1AddressRegion.html">base::AddressRegion</a> code_space_region;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;  <span class="keywordflow">if</span> (code_vmem_size != 0) {</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> retries = 0;; ++retries) {</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;      code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a7ed36ebeb931a4b5b5cd1097891d60c1">TryAllocate</a>(code_vmem_size);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;      <span class="keywordflow">if</span> (code_space.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a4e314fe91c3c610bb8495aa6435cba9f">IsReserved</a>()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keywordflow">if</span> (retries == kAllocationRetries) {</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;NewNativeModule cannot allocate code space of &quot;</span></div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;                          &lt;&lt; code_vmem_size &lt;&lt; <span class="stringliteral">&quot; bytes&quot;</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(isolate, <span class="stringliteral">&quot;Allocate initial wasm code space&quot;</span>,</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;                                    oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;      }</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;      <span class="comment">// Run one GC, then try the allocation again.</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#acc9176938d769fa33af39a380c2d9b13">MemoryPressureNotification</a>(</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;          <a class="code" href="namespacev8.html#ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b">MemoryPressureLevel::kCritical</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;    }</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    code_space_region = code_space.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a189b2051e0b85c97fd761d87f2ee207a">region</a>();</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(code_vmem_size, code_space.<a class="code" href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">size</a>());</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  }</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160; </div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  std::shared_ptr&lt;NativeModule&gt; ret;</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keyword">new</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>(enabled_features, detected_features,</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                   std::move(compile_imports),</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                   std::move(code_space), std::move(module),</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                   isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a0df8dc9e4eb119d45ed068d53277c709">async_counters</a>(), &amp;ret);</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <span class="comment">// The constructor initialized the shared_ptr.</span></div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(ret);</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;  <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;New NativeModule %p: Mem: 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;,+%zu\n&quot;</span>, ret.get(),</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;             code_space_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(), code_space_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">size</a>());</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160; </div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a4964601ddec44dd9566edc193900a11b">native_modules_mutex_</a>);</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">lookup_map_</a>.insert(</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;      std::make_pair(code_space_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">begin</a>(),</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                     std::make_pair(code_space_region.<a class="code" href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">end</a>(), ret.get())));</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;}</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; </div>
<div class="line"><a name="l02588"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae66433eec52661194dacaa6ded13bf6d"> 2588</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae66433eec52661194dacaa6ded13bf6d">NativeModule::SampleCodeSize</a>(<a class="code" href="classv8_1_1internal_1_1Counters.html">Counters</a>* counters)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordtype">size_t</span> code_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9f5f12643315075f0a553f61c992fdb1">committed_code_space</a>();</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <span class="keywordtype">int</span> code_size_mb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(code_size / <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;<span class="preprocessor">#if V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_jitless) {</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;interpreter_mutex_);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> interpreter = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;interpreter_.lock()) {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;      code_size_mb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(interpreter-&gt;TotalBytecodeSize() / <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>);</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    }</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  }</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_DRUMBRAKE</span></div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_code_size_mb()-&gt;AddSample(code_size_mb);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <span class="keywordtype">int</span> code_size_kb = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(code_size / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_code_size_kb()-&gt;AddSample(code_size_kb);</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  <span class="comment">// Record the size of metadata.</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Histogram.html">Histogram</a>* metadata_histogram = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_metadata_size_kb();</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span> (metadata_histogram-&gt;<a class="code" href="classv8_1_1internal_1_1Histogram.html#a8c6f22e6b5446dfc455a8af4e97eb21b">Enabled</a>()) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="comment">// TODO(349610478): EstimateCurrentMemoryConsumption() acquires a large</span></div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;    <span class="comment">// amount of locks per NativeModule. This estimation is run on every</span></div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;    <span class="comment">// mark-compact GC. Reconsider whether this should be run less frequently.</span></div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    <span class="comment">// (Probably incomplete) list of locks acquired:</span></div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;    <span class="comment">// - TypeFeedbackStorage::mutex</span></div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    <span class="comment">// - LazilyGeneratedNames::mutex_</span></div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="comment">// - CompilationStateImpl::mutex_</span></div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="comment">// - CompilationUnitQueues::queues_mutex_</span></div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <span class="comment">//   - per queue: QueueImpl::mutex</span></div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    <span class="comment">// - BigUnitsQueue::mutex</span></div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="comment">// - WasmImportWrapperCache::mutex_</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    <span class="comment">// - NativeModule::allocation_mutex_</span></div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    <span class="comment">// - LazilyGeneratedNames::mutex_</span></div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;    <span class="comment">// - DebugInfoImpl::debug_side_tables_mutex_</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    <span class="comment">// - DebugInfoImpl::mutex_</span></div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;    <span class="keywordtype">int</span> metadata_size_kb =</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">EstimateCurrentMemoryConsumption</a>() / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    metadata_histogram-&gt;<a class="code" href="classv8_1_1internal_1_1Histogram.html#a1fa018dc2756acdc3a1bb4fdbe97ae86">AddSample</a>(metadata_size_kb);</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;  }</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  <span class="comment">// If this is a wasm module of &gt;= 2MB, also sample the freed code size,</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;  <span class="comment">// absolute and relative. Code GC does not happen on asm.js</span></div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="comment">// modules, and small modules will never trigger GC anyway.</span></div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordtype">size_t</span> generated_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac228b5f49cf9bad916c9226c6e48e5a2">generated_code_size</a>();</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordflow">if</span> (generated_size &gt;= 2 * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a> &amp;&amp; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">origin</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">kWasmOrigin</a>) {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;    <span class="keywordtype">size_t</span> freed_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a3a969b7f9241a75ec3b51dd31aacf3ad">freed_code_size</a>();</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(freed_size, generated_size);</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    <span class="keywordtype">int</span> freed_percent = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(100 * freed_size / generated_size);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">counters</a>-&gt;wasm_module_freed_code_size_percent()-&gt;AddSample(freed_percent);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  }</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;}</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160; </div>
<div class="line"><a name="l02636"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed"> 2636</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">UnpublishedWasmCode</a> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">NativeModule::AddCompiledCode</a>(</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;    <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">WasmCompilationResult</a>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) {</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  std::vector&lt;UnpublishedWasmCode&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">AddCompiledCode</a>({&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, 1});</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <span class="keywordflow">return</span> std::move(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>[0]);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;}</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160; </div>
<div class="line"><a name="l02642"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad7de45595a2546cd0e533309b1389f00"> 2642</a></span>&#160;std::vector&lt;UnpublishedWasmCode&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">NativeModule::AddCompiledCode</a>(</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;WasmCompilationResult&gt;</a> results) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.wasm.detailed&quot;</span>),</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;               <span class="stringliteral">&quot;wasm.AddCompiledCode&quot;</span>, <span class="stringliteral">&quot;num&quot;</span>, results.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!results.<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>());</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;  std::vector&lt;UnpublishedWasmCode&gt; generated_code;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;  generated_code.reserve(results.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160; </div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;  <span class="comment">// First, allocate code space for all the results.</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <span class="comment">// Never add more than half of a code space at once. This leaves some space</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;  <span class="comment">// for jump tables and other overhead. We could use {OverheadPerCodeSpace},</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="comment">// but that&#39;s only an approximation, so we are conservative here and never use</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;  <span class="comment">// more than half a code space.</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;  <span class="keywordtype">size_t</span> max_code_batch_size = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a> / 2;</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;  <span class="keywordtype">size_t</span> total_code_space = 0;</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> : results) {</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.succeeded());</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <span class="keywordtype">size_t</span> new_code_space =</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.instr_size);</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordflow">if</span> (total_code_space + new_code_space &gt; max_code_batch_size) {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;      <span class="comment">// Split off the first part of the {results} vector and process it</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;      <span class="comment">// separately. This method then continues with the rest.</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;      <span class="keywordtype">size_t</span> split_point = &amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> - results.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>();</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;      <span class="keywordflow">if</span> (split_point == 0) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <span class="comment">// Fuzzers sometimes hit this by reducing --wasm-max-code-sapce-size-mb</span></div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        <span class="comment">// to an unreasonably small value. Make this an OOM to avoid getting a</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        <span class="comment">// CHECK failure in this case.</span></div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb &lt;</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">kDefaultMaxWasmCodeSpaceSizeMb</a> / 10) {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;          <span class="keyword">auto</span> oom_detail = <a class="code" href="classv8_1_1base_1_1FormattedString.html">base::FormattedString</a>{}</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;                            &lt;&lt; <span class="stringliteral">&quot;--wasm-max-code-space-size=&quot;</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;                            &lt;&lt; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_max_code_space_size_mb.value();</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;          <a class="code" href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">V8::FatalProcessOutOfMemory</a>(<span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;                                      <span class="stringliteral">&quot;A single code object needs more than &quot;</span></div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;                                      <span class="stringliteral">&quot;half of the code space size&quot;</span>,</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                                      oom_detail.PrintToArray().data());</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;          <span class="comment">// Otherwise make this a CHECK failure so we see if this is happening</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;          <span class="comment">// in the wild or in tests.</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;              <span class="stringliteral">&quot;A single code object needs more than half of the code space &quot;</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;              <span class="stringliteral">&quot;size&quot;</span>);</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;        }</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;      }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;      <span class="keyword">auto</span> first_results = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">AddCompiledCode</a>(results.<a class="code" href="classv8_1_1base_1_1Vector.html#ae3db4c14cac8e648389541fdb745c6b0">SubVector</a>(0, split_point));</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;      generated_code.insert(generated_code.end(),</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;                            std::make_move_iterator(first_results.begin()),</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;                            std::make_move_iterator(first_results.end()));</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;      <span class="comment">// Continue processing the rest of the vector. This change to the</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;      <span class="comment">// {results} vector does not invalidate iterators (which are just</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;      <span class="comment">// pointers). In particular, the end pointer stays the same.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;      results += split_point;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;      total_code_space = 0;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    }</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    total_code_space += new_code_space;</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;  }</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> code_space;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">NativeModule::JumpTablesRef</a> jump_tables;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  {</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    code_space = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">AllocateForCode</a>(<span class="keyword">this</span>, total_code_space);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="comment">// Lookup the jump tables to use once, then use for all code objects.</span></div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    jump_tables =</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">FindJumpTablesForRegionLocked</a>(<a class="code" href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">base::AddressRegionOf</a>(code_space));</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  }</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  <span class="comment">// If we happen to have a {total_code_space} which is bigger than</span></div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;  <span class="comment">// {kMaxCodeSpaceSize}, we would not find valid jump tables for the whole</span></div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="comment">// region. If this ever happens, we need to handle this case (by splitting the</span></div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;  <span class="comment">// {results} vector in smaller chunks).</span></div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(jump_tables.<a class="code" href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">is_valid</a>());</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  std::vector&lt;size_t&gt; sizes;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> : results) {</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    sizes.emplace_back(RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.instr_size));</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  }</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#a647c86b788456e7ec80f0bc1d365561a">ThreadIsolation::RegisterJitAllocations</a>(</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>()), sizes,</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">ThreadIsolation::JitAllocationType::kWasmCode</a>);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160; </div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;  <span class="comment">// Now copy the generated code into the code space and relocate it.</span></div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> : results) {</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.buffer, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.instr_buffer-&gt;start());</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordtype">size_t</span> code_size = RoundUp&lt;kCodeAlignment&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc.instr_size);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;uint8_t&gt;</a> this_code_space = code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#ae3db4c14cac8e648389541fdb745c6b0">SubVector</a>(0, code_size);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    code_space += code_size;</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    generated_code.emplace_back(</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">AddCodeWithCodeSpace</a>(</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.func_index, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.code_desc, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.frame_slot_count,</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ool_spill_count, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.tagged_parameter_slots,</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.protected_instructions_data.as_vector(),</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.source_positions.as_vector(),</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.inlining_positions.as_vector(),</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.deopt_data.as_vector(), <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac5c325f4f80fa26ae7e7bd8fa6caed93">GetCodeKind</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>),</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.result_tier, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.for_debugging,</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.frame_has_feedback_slot, this_code_space, jump_tables),</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;        std::move(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.assumptions));</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;  }</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, code_space.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160; </div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  <span class="comment">// Check that we added the expected amount of code objects, even if we split</span></div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="comment">// the {results} vector.</span></div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(generated_code.capacity(), generated_code.size());</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordflow">return</span> generated_code;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;}</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad3b78decf5b6f968e1e563f3759515b5"> 2748</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad3b78decf5b6f968e1e563f3759515b5">NativeModule::SetDebugState</a>(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">DebugState</a> new_debug_state) {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;  <span class="comment">// Do not tier down asm.js (just never change the tiering state).</span></div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">module</a>()-&gt;origin != <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">kWasmOrigin</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160; </div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">debug_state_</a> = new_debug_state;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;}</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160; </div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02757"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#acc4a1ad690326b2dec4450f288512cd0"> 2757</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#acc4a1ad690326b2dec4450f288512cd0">ShouldRemoveCode</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">NativeModule::RemoveFilter</a> filter) {</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;  <span class="keywordflow">if</span> (filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">NativeModule::RemoveFilter::kRemoveDebugCode</a> &amp;&amp;</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;      !<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;for_debugging()) {</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;  }</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;  <span class="keywordflow">if</span> (filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599caeb1f31c38f14cfa2fb295e63efdbdfbd">NativeModule::RemoveFilter::kRemoveNonDebugCode</a> &amp;&amp;</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;for_debugging()) {</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;  }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="keywordflow">if</span> (filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599cada482a20b84332aff73499e6174e6436">NativeModule::RemoveFilter::kRemoveLiftoffCode</a> &amp;&amp;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      !<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_liftoff()) {</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  }</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  <span class="keywordflow">if</span> (filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">NativeModule::RemoveFilter::kRemoveTurbofanCode</a> &amp;&amp;</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      !<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_turbofan()) {</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;  }</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;}</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160; </div>
<div class="line"><a name="l02778"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f"> 2778</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f">NativeModule::RemoveCompiledCode</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">RemoveFilter</a> filter) {</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;  <span class="keyword">const</span> uint32_t num_imports = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#acc4a1ad690326b2dec4450f288512cd0">ShouldRemoveCode</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, filter)) {</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;        <span class="comment">// Add the code to the {WasmCodeRefScope}, so the ref count cannot drop</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        <span class="comment">// to zero here. It might in the {WasmCodeRefScope} destructor, though.</span></div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;DecRefOnLiveCode();</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;        uint32_t func_index = <a class="code" href="namespacev8_1_1internal.html">i</a> + num_imports;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;        <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df">UseLazyStubLocked</a>(func_index);</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;      }</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;    }</div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;    <span class="comment">// To avoid lock order inversion, release the {allocation_mutex_} before</span></div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    <span class="comment">// acquiring the {type_feedback.mutex} inside {AllowAnother...} below.</span></div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;  }</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  <span class="comment">// When resuming optimized execution after a debugging session ends, or when</span></div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;  <span class="comment">// discarding optimized code that made outdated assumptions, allow another</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;  <span class="comment">// tier-up task to get scheduled.</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;  <span class="keywordflow">if</span> (filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">RemoveFilter::kRemoveDebugCode</a> ||</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;      filter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">RemoveFilter::kRemoveTurbofanCode</a>) {</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;AllowAnotherTopTierJobForAllFunctions();</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  }</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;}</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160; </div>
<div class="line"><a name="l02807"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a21586b2fdaae541148e2d8bdb100bf8b"> 2807</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a21586b2fdaae541148e2d8bdb100bf8b">NativeModule::SumLiftoffCodeSizeForTesting</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  <span class="keyword">const</span> uint32_t <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions;</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;  <span class="keywordtype">size_t</span> codesize_liftoff = 0;</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">num_functions</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">code_table_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> &amp;&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;is_liftoff()) {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;      codesize_liftoff += <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instructions_size();</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    }</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;  }</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  <span class="keywordflow">return</span> codesize_liftoff;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;}</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a169fd10581fcc34645b802baca380789"> 2820</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a169fd10581fcc34645b802baca380789">NativeModule::FreeCode</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;WasmCode* const&gt;</a> codes) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;  <span class="comment">// Free the code space.</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae6d33802bb8ba17667cb1ae5b32e1aae">FreeCode</a>(codes);</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>.empty()) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">TransferNewOwnedCodeLocked</a>();</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a>* debug_info = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>.get();</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;  <span class="comment">// Free the {WasmCode} objects. This will also unregister trap handler data.</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : codes) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(1, <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.count(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start()));</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="comment">// TODO(407003348): Drop this check if it doesn&#39;t trigger in the wild.</span></div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ab29eeae2aaa993948c6cde3c8f05ddad">WasmCode::refcount</a>(</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                 <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;ref_count_bitfield_.load(std::memory_order_acquire)),</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;             0);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>.erase(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_start());</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;  }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;  <span class="comment">// Remove debug side tables for all removed code objects, after releasing our</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  <span class="comment">// lock. This is to avoid lock order inversion.</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;  <span class="keywordflow">if</span> (debug_info) debug_info-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html#ad68da127ead8c18497a9a92b11f3f4d9">RemoveDebugSideTables</a>(codes);</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;}</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160; </div>
<div class="line"><a name="l02841"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac3706216da596aa8cf7337b8182d5e75"> 2841</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac3706216da596aa8cf7337b8182d5e75">NativeModule::GetNumberOfCodeSpacesForTesting</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard{&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>};</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">code_allocator_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a5d094d325d0686a0da62db1dd40c2688">GetNumCodeSpaces</a>();</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;}</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160; </div>
<div class="line"><a name="l02846"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a32aeb7786fe56d49f56d6da667f940ca"> 2846</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a32aeb7786fe56d49f56d6da667f940ca">NativeModule::HasDebugInfo</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;}</div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; </div>
<div class="line"><a name="l02851"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a773f6a9db3d5a181ca810d7a92e19da6"> 2851</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a773f6a9db3d5a181ca810d7a92e19da6">NativeModule::GetDebugInfo</a>() {</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>) <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a> = std::make_unique&lt;DebugInfo&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>.get();</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;}</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160; </div>
<div class="line"><a name="l02857"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae9941bdd4ef6ffa3b896d196231cf8c5"> 2857</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NamesProvider.html">NamesProvider</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae9941bdd4ef6ffa3b896d196231cf8c5">NativeModule::GetNamesProvider</a>() {</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">HasWireBytes</a>());</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> guard(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>) {</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a> =</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        std::make_unique&lt;NamesProvider&gt;(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>.get(), <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>());</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;  }</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>.get();</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;}</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160; </div>
<div class="line"><a name="l02867"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2"> 2867</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">NativeModule::EstimateCurrentMemoryConsumption</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;  <a class="code" href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>, 472);</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">NativeModule</a>);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160; </div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;  std::shared_ptr&lt;base::OwnedVector&lt;const uint8_t&gt;&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> =</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;      std::atomic_load(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">wire_bytes_</a>);</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;  <span class="keywordtype">size_t</span> wire_bytes_size = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a> ? <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">wire_bytes</a>-&gt;<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>() : 0;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += wire_bytes_size;</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160; </div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a>) {</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">source_map_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">compilation_state_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;  <span class="comment">// For {tiering_budgets_}.</span></div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions * <span class="keyword">sizeof</span>(uint32_t);</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160; </div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  <span class="keywordtype">size_t</span> external_storage = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">compile_imports_</a>.<a class="code" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html#a8946141e47cc84fcf753c04dd3eac88f">constants_module</a>().capacity();</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <span class="comment">// This is an approximation: the actual number of inline-stored characters</span></div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  <span class="comment">// is a little less than the result of `sizeof`.</span></div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;  <span class="keywordflow">if</span> (external_storage &gt; <span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>)) {</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += external_storage;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;  }</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; </div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;  <span class="comment">// For fast api call targets.</span></div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_imported_functions *</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;            (<span class="keyword">sizeof</span>(std::atomic&lt;Address&gt;) + <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1CFunctionInfo.html">CFunctionInfo</a>*));</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <span class="comment">// We cannot hold the `allocation_mutex_` while calling</span></div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;  <span class="comment">// `debug_info_-&gt;EstimateCurrentMemoryConsumption`, as we would run into a</span></div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <span class="comment">// lock-order-inversion when acquiring the `mutex_`. The reverse order happens</span></div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <span class="comment">// when calling `WasmScript::SetBreakPointForFunction`.</span></div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">DebugInfo</a>* debug_info;</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;  {</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">base::RecursiveMutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">allocation_mutex_</a>);</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>);</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [address, unique_code_ptr] : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">owned_code_</a>) {</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += unique_code_ptr-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <span class="keywordflow">for</span> (std::unique_ptr&lt;WasmCode&gt;&amp; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> : <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">new_owned_code_</a>) {</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    }</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="comment">// For {code_table_}.</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">module_</a>-&gt;num_declared_functions * <span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*);</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">ContentSize</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">code_space_data_</a>);</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    debug_info = <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">debug_info_</a>.get();</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>) {</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">names_provider_</a>-&gt;EstimateCurrentMemoryConsumption();</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;    }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  }</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  <span class="keywordflow">if</span> (debug_info) {</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> += debug_info-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html#a67a17d959961e67bc426f9aaa7ba2198">EstimateCurrentMemoryConsumption</a>();</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;  }</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160; </div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_wasm_offheap_memory) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;NativeModule wire bytes: %zu\n&quot;</span>, wire_bytes_size);</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;NativeModule: %zu\n&quot;</span>, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  }</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;}</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160; </div>
<div class="line"><a name="l02928"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a"> 2928</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a">NativeModule::PrintCurrentMemoryConsumptionEstimate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.print_wasm_offheap_memory_size);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;Off-heap memory size of NativeModule: %zu\n&quot;</span>,</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;         <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">EstimateCurrentMemoryConsumption</a>());</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;}</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160; </div>
<div class="line"><a name="l02934"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a27ace0686f32545957a6b0948813db9a"> 2934</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a27ace0686f32545957a6b0948813db9a">WasmCodeManager::FreeNativeModule</a>(</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;VirtualMemory&gt;</a> owned_code_space, <span class="keywordtype">size_t</span> committed_size) {</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a4964601ddec44dd9566edc193900a11b">native_modules_mutex_</a>);</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; code_space : owned_code_space) {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(code_space.IsReserved());</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    <a class="code" href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a>(<span class="stringliteral">&quot;VMem Release: 0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot;:0x%&quot;</span> PRIxPTR <span class="stringliteral">&quot; (%zu)\n&quot;</span>,</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;               code_space.address(), code_space.end(), code_space.size());</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160; </div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN64)</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2af86e498cb6c3f31bc898c6b40d287e">CanRegisterUnwindInfoForNonABICompliantCodeRange</a>()) {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a70f996f40a6b9c963c47bb920970d841">win64_unwindinfo::UnregisterNonABICompliantCodeRange</a>(</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(code_space.address()));</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    }</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_WIN64</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160; </div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">lookup_map_</a>.erase(code_space.address());</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#a6a523c13e4e0f1cd5dc4a57a754a616a">ThreadIsolation::UnregisterJitPage</a>(code_space.address(), code_space.size());</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    code_space.Free();</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!code_space.IsReserved());</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  }</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160; </div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(committed_size, <a class="code" href="namespacev8_1_1internal.html#a6a5f128ae031000011e13ca7534dfc91">CommitPageSize</a>()));</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  [[maybe_unused]] <span class="keywordtype">size_t</span> old_committed =</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;      <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">total_committed_code_space_</a>.fetch_sub(committed_size);</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(committed_size, old_committed);</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;}</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160; </div>
<div class="line"><a name="l02961"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a65237f5b80dae7a92d86f131b6df4461"> 2961</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a65237f5b80dae7a92d86f131b6df4461">WasmCodeManager::LookupNativeModule</a>(<a class="code" href="classuintptr__t.html">Address</a> pc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> lock(&amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a4964601ddec44dd9566edc193900a11b">native_modules_mutex_</a>);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">lookup_map_</a>.empty()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160; </div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <span class="keyword">auto</span> iter = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">lookup_map_</a>.upper_bound(pc);</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="keywordflow">if</span> (iter == <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">lookup_map_</a>.begin()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;  --iter;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> region_start = iter-&gt;first;</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> region_end = iter-&gt;second.first;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* candidate = iter-&gt;second.second;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160; </div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(candidate);</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  <span class="keywordflow">return</span> region_start &lt;= pc &amp;&amp; pc &lt; region_end ? candidate : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;}</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a2be288a7720a1f7bdf64f5060b7c782a"> 2976</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f">WasmCodeManager::LookupCode</a>(<a class="code" href="classuintptr__t.html">Address</a> pc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">NativeModule</a>* candidate = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a65237f5b80dae7a92d86f131b6df4461">LookupNativeModule</a>(pc);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;  <span class="keywordflow">if</span> (candidate) <span class="keywordflow">return</span> candidate-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">Lookup</a>(pc);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">GetWasmImportWrapperCache</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a14ee1f266c89689eb799afe5f843dc41">Lookup</a>(pc);</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;}</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160; </div>
<div class="line"><a name="l02982"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f"> 2982</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f">WasmCodeManager::LookupCode</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classuintptr__t.html">Address</a> pc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  <span class="comment">// Since kNullAddress is used as a sentinel value, we should not try</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;  <span class="comment">// to look it up in the cache</span></div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <span class="keywordflow">if</span> (pc == <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="comment">// If &#39;isolate&#39; is nullptr, do not use a cache. This can happen when</span></div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="comment">// called from function V8NameConverter::NameOfAddress</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <span class="keywordflow">if</span> (isolate) {</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;wasm_code_look_up_cache()-&gt;GetCacheEntry(pc)-&gt;code;</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f">LookupCode</a>(pc);</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  }</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;}</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160; </div>
<div class="line"><a name="l02996"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a589a55d2b33354d07415b1a22cb00d89"> 2996</a></span>&#160;std::pair&lt;WasmCode*, SafepointEntry&gt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a589a55d2b33354d07415b1a22cb00d89">WasmCodeManager::LookupCodeAndSafepoint</a>(</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classuintptr__t.html">Address</a> pc) {</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;  <span class="keyword">auto</span>* entry = isolate-&gt;wasm_code_look_up_cache()-&gt;GetCacheEntry(pc);</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = entry-&gt;code;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;  <span class="comment">// For protected instructions we usually do not emit a safepoint because the</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  <span class="comment">// frame will be unwound anyway. The exception is debugging code, where the</span></div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;  <span class="comment">// frame might be inspected if &quot;pause on exception&quot; is set.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;  <span class="comment">// For those instructions, we thus need to explicitly return an empty</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;  <span class="comment">// safepoint; using any previously registered safepoint can lead to crashes</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;  <span class="comment">// when we try to visit spill slots that do not hold tagged values at this</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;  <span class="comment">// point.</span></div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;  <span class="comment">// Evaluate this condition only on demand (the fast path does not need it).</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;  <span class="keyword">auto</span> expect_safepoint = [<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, pc]() {</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> is_protected_instruction = <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IsProtectedInstruction(</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        pc - WasmFrameConstants::kProtectedInstructionReturnAddressOffset);</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <span class="keywordflow">return</span> !is_protected_instruction || <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;for_debugging();</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;  };</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;  <span class="keywordflow">if</span> (!entry-&gt;safepoint_entry.is_initialized() &amp;&amp; expect_safepoint()) {</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    entry-&gt;safepoint_entry = <a class="code" href="classv8_1_1internal_1_1SafepointTable.html">SafepointTable</a>{<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>}.TryFindEntry(pc);</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(entry-&gt;safepoint_entry.is_initialized());</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expect_safepoint()) {</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(entry-&gt;safepoint_entry, <a class="code" href="classv8_1_1internal_1_1SafepointTable.html">SafepointTable</a>{code}.<a class="code" href="classv8_1_1internal_1_1SafepointTable.html#a079bbd9de5aee144ba660eb2ba3ab070">TryFindEntry</a>(pc));</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!entry-&gt;safepoint_entry.is_initialized());</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  }</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  <span class="keywordflow">return</span> std::make_pair(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, entry-&gt;safepoint_entry);</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;}</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160; </div>
<div class="line"><a name="l03025"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#aa5c5ecc61ab174d77400fa3082e73537"> 3025</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#aa5c5ecc61ab174d77400fa3082e73537">WasmCodeManager::FlushCodeLookupCache</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;wasm_code_look_up_cache()-&gt;Flush();</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;}</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160; </div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l03030"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7"> 3030</a></span>&#160;thread_local <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a>* <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160; </div>
<div class="line"><a name="l03033"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ab3bc479100dcf0b03b840a2151a736e1"> 3033</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ab3bc479100dcf0b03b840a2151a736e1">WasmCodeRefScope::WasmCodeRefScope</a>()</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    : previous_scope_(<a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a>) {</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;}</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160; </div>
<div class="line"><a name="l03038"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#af76812fa3508419520afef1ec8b67a7a"> 3038</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#af76812fa3508419520afef1ec8b67a7a">WasmCodeRefScope::~WasmCodeRefScope</a>() {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="keyword">this</span>, <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a>);</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a> = <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ae2470a2428b3b295c040652e3bcdb5ac">previous_scope_</a>;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">WasmCode::DecrementRefCount</a>(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ac17ed50735600a0e688e4e3568208d98">code_ptrs_</a>));</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;}</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160; </div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c"> 3045</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">WasmCodeRefScope::AddRef</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a>* current_scope = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a>;</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(current_scope);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  current_scope-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ac17ed50735600a0e688e4e3568208d98">code_ptrs_</a>.push_back(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IncRef();</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;}</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160; </div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03054"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ad0e87f38bf9d5b8078a9dde00e91df5d"> 3054</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ad0e87f38bf9d5b8078a9dde00e91df5d">WasmCodeRefScope::AddRefIfNotDying</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">WasmCode</a>* <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>) {</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;  <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">WasmCodeRefScope</a>* current_scope = <a class="code" href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">current_code_refs_scope</a>;</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(current_scope);</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IncRefIfNotDying()) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;  current_scope-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ac17ed50735600a0e688e4e3568208d98">code_ptrs_</a>.push_back(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;}</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160; </div>
<div class="line"><a name="l03063"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#adca325bae99c054c2b35b51bea069339"> 3063</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#adca325bae99c054c2b35b51bea069339">WasmCodeLookupCache::Flush</a>() {</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#af3398d97c58d813e2e4750bd40caf788">kWasmCodeLookupCacheSize</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++)</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#a87b03e3d44c319942808f57285903399">cache_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>].pc.store(<a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>, std::memory_order_release);</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;}</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160; </div>
<div class="line"><a name="l03068"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#a0ebfe32e04096d32c378226808d5a187"> 3068</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_1_1CacheEntry.html">WasmCodeLookupCache::CacheEntry</a>* <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#a0ebfe32e04096d32c378226808d5a187">WasmCodeLookupCache::GetCacheEntry</a>(</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> pc) {</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1base_1_1bits.html#af9eb752b538fa8a66badab8f26e0e000">base::bits::IsPowerOfTwo</a>(<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#af3398d97c58d813e2e4750bd40caf788">kWasmCodeLookupCacheSize</a>));</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(pc != <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>);</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  uint32_t hash = <a class="code" href="namespacev8_1_1internal.html#afc0fca463c2a3badf70e62abe7b61771">ComputeAddressHash</a>(pc);</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = hash &amp; (<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#af3398d97c58d813e2e4750bd40caf788">kWasmCodeLookupCacheSize</a> - 1);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_1_1CacheEntry.html">CacheEntry</a>* entry = &amp;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#a87b03e3d44c319942808f57285903399">cache_</a>[<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>];</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  <span class="keywordflow">if</span> (entry-&gt;pc.load(std::memory_order_acquire) == pc) {</div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <span class="comment">// Code can be deallocated at two points:</span></div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    <span class="comment">// - when the NativeModule that references it is garbage-</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <span class="comment">//   collected;</span></div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <span class="comment">// - when it is no longer referenced by its NativeModule, nor from</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <span class="comment">//   any stack.</span></div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="comment">// The cache is cleared when a NativeModule is destroyed, and when</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <span class="comment">// the isolate reports the set of code referenced from its stacks.</span></div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <span class="comment">// So, if the code is the cache, it is because it was live at some</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;    <span class="comment">// point (when inserted in the cache), its native module is still</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;    <span class="comment">// considered live, and it has not yet been reported as no longer</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;    <span class="comment">// referenced from any stack. It thus cannot have been released</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="comment">// yet.</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(entry-&gt;code, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a55a717894f5d005ae86062dd4647a3b2">wasm::GetWasmCodeManager</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f">LookupCode</a>(pc));</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <span class="comment">// For WebAssembly frames we perform a lookup in the handler table.</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <span class="comment">// This code ref scope is here to avoid a check failure when looking up</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;    <span class="comment">// the code. It&#39;s not actually necessary to keep the code alive as it&#39;s</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    <span class="comment">// currently being executed.</span></div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">wasm::WasmCodeRefScope</a> code_ref_scope;</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    entry-&gt;pc.store(pc, std::memory_order_release);</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;    entry-&gt;code = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a55a717894f5d005ae86062dd4647a3b2">wasm::GetWasmCodeManager</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f">LookupCode</a>(pc);</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    entry-&gt;safepoint_entry.Reset();</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;  }</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;  <span class="keywordflow">return</span> entry;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;}</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160; </div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;}  <span class="comment">// namespace wasm</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;<span class="preprocessor">#undef TRACE_HEAP</span></div>
<div class="ttc" id="aassembler-inl_8h_html"><div class="ttname"><a href="assembler-inl_8h.html">assembler-inl.h</a></div></div>
<div class="ttc" id="aatomicops_8h_html"><div class="ttname"><a href="atomicops_8h.html">atomicops.h</a></div></div>
<div class="ttc" id="abuild__config_8h_html"><div class="ttname"><a href="build__config_8h.html">build_config.h</a></div></div>
<div class="ttc" id="abuiltins-inl_8h_html"><div class="ttname"><a href="builtins-inl_8h.html">builtins-inl.h</a></div></div>
<div class="ttc" id="aclassint_html"><div class="ttname"><a href="classint.html">int</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1CFunctionInfo_html"><div class="ttname"><a href="classv8_1_1CFunctionInfo.html">v8::CFunctionInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-fast-api-calls_8h_source.html#l00339">v8-fast-api-calls.h:339</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html"><div class="ttname"><a href="classv8_1_1Local.html">v8::Local&lt; v8::String &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html">v8::PageAllocator::AllocationHint</a></div><div class="ttdoc">Optional hints for AllocatePages().</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00505">v8-platform.h:505</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html"><div class="ttname"><a href="classv8_1_1PageAllocator.html">v8::PageAllocator</a></div><div class="ttdoc">A V8 memory page allocator.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00455">v8-platform.h:455</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">v8::PageAllocator::kReadWriteExecute</a></div><div class="ttdeci">@ kReadWriteExecute</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00490">v8-platform.h:490</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a8926cd902754e8d1788e6c172c3a72c2"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a8926cd902754e8d1788e6c172c3a72c2">v8::PageAllocator::DecommitPages</a></div><div class="ttdeci">virtual bool DecommitPages(void *address, size_t size)=0</div><div class="ttdoc">Decommits any wired memory pages in the given range, allowing the OS to reclaim them,...</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a92c2f6dbb3afa6c47dafd4c12ab4641f"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">v8::PageAllocator::AllocatePageSize</a></div><div class="ttdeci">virtual size_t AllocatePageSize()=0</div><div class="ttdoc">Gets the page granularity for AllocatePages and FreePages.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_aa05bfd415492374b712dd1d3f6f4a1f9"><div class="ttname"><a href="classv8_1_1PageAllocator.html#aa05bfd415492374b712dd1d3f6f4a1f9">v8::PageAllocator::RecommitPages</a></div><div class="ttdeci">virtual bool RecommitPages(void *address, size_t length, Permission permissions)</div><div class="ttdoc">Recommits discarded pages in the given range with given permissions.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00577">v8-platform.h:577</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_ad0de847c922e25f63d82494d997f441d"><div class="ttname"><a href="classv8_1_1PageAllocator.html#ad0de847c922e25f63d82494d997f441d">v8::PageAllocator::DiscardSystemPages</a></div><div class="ttdeci">virtual bool DiscardSystemPages(void *address, size_t size)</div><div class="ttdoc">Frees memory in the given [address, address + size) range.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00590">v8-platform.h:590</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_ad817d87004151e3824997415f2dc57e9"><div class="ttname"><a href="classv8_1_1PageAllocator.html#ad817d87004151e3824997415f2dc57e9">v8::PageAllocator::CommitPageSize</a></div><div class="ttdeci">virtual size_t CommitPageSize()=0</div><div class="ttdoc">Gets the page granularity for SetPermissions and ReleasePages.</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html">v8::base::AddressRegion</a></div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00016">address-region.h:16</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a13bbde71869b71658a03746941a13f69"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a13bbde71869b71658a03746941a13f69">v8::base::AddressRegion::end</a></div><div class="ttdeci">Address end() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00034">address-region.h:34</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a29afd92431f4eb737887d7c7ff9b9396"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a29afd92431f4eb737887d7c7ff9b9396">v8::base::AddressRegion::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00039">address-region.h:39</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a65b3baa673fc67d3dde9fec305ccdebc"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a65b3baa673fc67d3dde9fec305ccdebc">v8::base::AddressRegion::GetOverlap</a></div><div class="ttdeci">base::AddressRegion GetOverlap(AddressRegion region) const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00056">address-region.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a753daf867d9e52511d3483b211a9f0b2"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a753daf867d9e52511d3483b211a9f0b2">v8::base::AddressRegion::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00036">address-region.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_a94a15b5dca8bef88c66880c9b00281ea"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#a94a15b5dca8bef88c66880c9b00281ea">v8::base::AddressRegion::begin</a></div><div class="ttdeci">Address begin() const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00033">address-region.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressRegion_html_ad799a0c1d53c9117b94f95e6bc742e66"><div class="ttname"><a href="classv8_1_1base_1_1AddressRegion.html#ad799a0c1d53c9117b94f95e6bc742e66">v8::base::AddressRegion::contains</a></div><div class="ttdeci">bool contains(Address address) const</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00041">address-region.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1FormattedString_html"><div class="ttname"><a href="classv8_1_1base_1_1FormattedString.html">v8::base::FormattedString</a></div><div class="ttdef"><b>Definition:</b> <a href="string-format_8h_source.html#l00137">string-format.h:137</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html">v8::base::OwnedVector&lt; uint8_t &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a92493de71e39144915ee01fb717e1891"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a92493de71e39144915ee01fb717e1891">v8::base::OwnedVector::as_vector</a></div><div class="ttdeci">Vector&lt; T &gt; as_vector() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00266">vector.h:266</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RecursiveMutex_html_a63e202453c65074f4a84b8f0b2435a21"><div class="ttname"><a href="classv8_1_1base_1_1RecursiveMutex.html#a63e202453c65074f4a84b8f0b2435a21">v8::base::RecursiveMutex::AssertHeld</a></div><div class="ttdeci">void AssertHeld() const</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00153">mutex.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html">v8::base::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00022">small-vector.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a52ba6afaadfb2e894fff71b9a44c38db"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a52ba6afaadfb2e894fff71b9a44c38db">v8::base::SmallVector::emplace_back</a></div><div class="ttdeci">void emplace_back(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00184">small-vector.h:184</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector&lt; const uint8_t &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a127410ecb29a2d265d49cbf575f676f9"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a1eb4ed5d322a219428bdb9f9a2cb6708"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">v8::base::Vector::length</a></div><div class="ttdeci">int length() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00064">vector.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a7ae17f2372808420997b1aff6addcdd0"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a7ae17f2372808420997b1aff6addcdd0">v8::base::Vector::data</a></div><div class="ttdeci">constexpr T * data() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00100">vector.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a7bfe0c3b6061fe6b4cd032d31e425990"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a7bfe0c3b6061fe6b4cd032d31e425990">v8::base::Vector::end</a></div><div class="ttdeci">constexpr T * end() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00103">vector.h:103</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8073322d2a3a5ad755e74dbda482b18c"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">v8::base::Vector::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00073">vector.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8f91dff816409fb9bceaa94c6caeec32"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">v8::base::Vector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00070">vector.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_ae3db4c14cac8e648389541fdb745c6b0"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#ae3db4c14cac8e648389541fdb745c6b0">v8::base::Vector::SubVector</a></div><div class="ttdeci">Vector&lt; T &gt; SubVector(size_t from, size_t to) const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00041">vector.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1debug_1_1DisassemblyCollector_html"><div class="ttname"><a href="classv8_1_1debug_1_1DisassemblyCollector.html">v8::debug::DisassemblyCollector</a></div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8h_source.html#l00245">debug-interface.h:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Builtins_html_a9272a472ad4885ecd59c1f55dcb16028"><div class="ttname"><a href="classv8_1_1internal_1_1Builtins.html#a9272a472ad4885ecd59c1f55dcb16028">v8::internal::Builtins::kAllBuiltinsAreIsolateIndependent</a></div><div class="ttdeci">static constexpr bool kAllBuiltinsAreIsolateIndependent</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00345">builtins.h:345</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html">v8::internal::CodeDesc</a></div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00030">code-desc.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_a0640b83e72c68ce482d00ce65b0732cf"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#a0640b83e72c68ce482d00ce65b0732cf">v8::internal::CodeDesc::buffer</a></div><div class="ttdeci">uint8_t * buffer</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00044">code-desc.h:44</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_a0ef1d82572dad59b3e6aedc82bf1247f"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#a0ef1d82572dad59b3e6aedc82bf1247f">v8::internal::CodeDesc::safepoint_table_size</a></div><div class="ttdeci">int safepoint_table_size</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00054">code-desc.h:54</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_a4ec6827a7510122e162e8849e387f33b"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#a4ec6827a7510122e162e8849e387f33b">v8::internal::CodeDesc::reloc_size</a></div><div class="ttdeci">int reloc_size</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00093">code-desc.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_a67a9dadee748e8f0ab644b5a3e282cd9"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#a67a9dadee748e8f0ab644b5a3e282cd9">v8::internal::CodeDesc::handler_table_offset</a></div><div class="ttdeci">int handler_table_offset</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00056">code-desc.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_a95ad53de51277b77af42d916e2565e24"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#a95ad53de51277b77af42d916e2565e24">v8::internal::CodeDesc::constant_pool_offset</a></div><div class="ttdeci">int constant_pool_offset</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00059">code-desc.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_ab886efa479651e14e7e6bc708a4be521"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#ab886efa479651e14e7e6bc708a4be521">v8::internal::CodeDesc::buffer_size</a></div><div class="ttdeci">int buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00045">code-desc.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_abdbe04110e1008182725b7b13cca9180"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#abdbe04110e1008182725b7b13cca9180">v8::internal::CodeDesc::jump_table_info_offset</a></div><div class="ttdeci">int jump_table_info_offset</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00065">code-desc.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_ae607eb84e6b2870d1e80928c4e5e1cde"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#ae607eb84e6b2870d1e80928c4e5e1cde">v8::internal::CodeDesc::safepoint_table_offset</a></div><div class="ttdeci">int safepoint_table_offset</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00053">code-desc.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_af887603bc5c17ab365f80879c2660727"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#af887603bc5c17ab365f80879c2660727">v8::internal::CodeDesc::instr_size</a></div><div class="ttdeci">int instr_size</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00049">code-desc.h:49</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeDesc_html_afd7aefc249b9a1db13e3d00f95f94e09"><div class="ttname"><a href="classv8_1_1internal_1_1CodeDesc.html#afd7aefc249b9a1db13e3d00f95f94e09">v8::internal::CodeDesc::code_comments_offset</a></div><div class="ttdeci">int code_comments_offset</div><div class="ttdef"><b>Definition:</b> <a href="code-desc_8h_source.html#l00062">code-desc.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CodeReference_html"><div class="ttname"><a href="classv8_1_1internal_1_1CodeReference.html">v8::internal::CodeReference</a></div><div class="ttdef"><b>Definition:</b> <a href="code-reference_8h_source.html#l00023">code-reference.h:23</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Counters_html"><div class="ttname"><a href="classv8_1_1internal_1_1Counters.html">v8::internal::Counters</a></div><div class="ttdef"><b>Definition:</b> <a href="counters_8h_source.html#l00504">counters.h:504</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Deoptimizer_html_a2baf047b2ee590dddae72e66e1386983"><div class="ttname"><a href="classv8_1_1internal_1_1Deoptimizer.html#a2baf047b2ee590dddae72e66e1386983">v8::internal::Deoptimizer::kEagerDeoptExitSize</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE const int kEagerDeoptExitSize</div><div class="ttdef"><b>Definition:</b> <a href="deoptimizer_8h_source.html#l00166">deoptimizer.h:166</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Disassembler_html_a3dbcf578257496f2a1b1f3db8966f119"><div class="ttname"><a href="classv8_1_1internal_1_1Disassembler.html#a3dbcf578257496f2a1b1f3db8966f119">v8::internal::Disassembler::Decode</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int Decode(Isolate *isolate, std::ostream &amp;os, uint8_t *begin, uint8_t *end, CodeReference code={}, Address current_pc=kNullAddress, size_t range_limit=0)</div><div class="ttdef"><b>Definition:</b> <a href="disassembler_8cc_source.html#l00512">disassembler.cc:512</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EmbeddedData_html"><div class="ttname"><a href="classv8_1_1internal_1_1EmbeddedData.html">v8::internal::EmbeddedData</a></div><div class="ttdef"><b>Definition:</b> <a href="embedded-data_8h_source.html#l00055">embedded-data.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EmbeddedData_html_a3ee374680ecbc4aae34314eab5fec477"><div class="ttname"><a href="classv8_1_1internal_1_1EmbeddedData.html#a3ee374680ecbc4aae34314eab5fec477">v8::internal::EmbeddedData::InstructionStartOf</a></div><div class="ttdeci">Address InstructionStartOf(Builtin builtin) const</div><div class="ttdef"><b>Definition:</b> <a href="embedded-data-inl_8h_source.html#l00014">embedded-data-inl.h:14</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EmbeddedData_html_a5f046101e1ed7d746979f87acbcb60e5"><div class="ttname"><a href="classv8_1_1internal_1_1EmbeddedData.html#a5f046101e1ed7d746979f87acbcb60e5">v8::internal::EmbeddedData::FromBlob</a></div><div class="ttdeci">static EmbeddedData FromBlob()</div><div class="ttdef"><b>Definition:</b> <a href="embedded-data_8h_source.html#l00062">embedded-data.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00263">handles.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandlerTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandlerTable.html">v8::internal::HandlerTable</a></div><div class="ttdef"><b>Definition:</b> <a href="handler-table_8h_source.html#l00037">handler-table.h:37</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandlerTable_html_a2deadbbd6405c66f9d5739c89f5f4873"><div class="ttname"><a href="classv8_1_1internal_1_1HandlerTable.html#a2deadbbd6405c66f9d5739c89f5f4873">v8::internal::HandlerTable::NumberOfReturnEntries</a></div><div class="ttdeci">int NumberOfReturnEntries() const</div><div class="ttdef"><b>Definition:</b> <a href="handler-table_8cc_source.html#l00180">handler-table.cc:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a163e8ada76f0d7319bf51a7fefc33074"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a163e8ada76f0d7319bf51a7fefc33074">v8::internal::Heap::GetCodeRangeReservedAreaSize</a></div><div class="ttdeci">static size_t GetCodeRangeReservedAreaSize()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03153">heap.cc:3153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_acc9176938d769fa33af39a380c2d9b13"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#acc9176938d769fa33af39a380c2d9b13">v8::internal::Heap::MemoryPressureNotification</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void MemoryPressureNotification(v8::MemoryPressureLevel level, bool is_isolate_locked)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l04330">heap.cc:4330</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Histogram_html"><div class="ttname"><a href="classv8_1_1internal_1_1Histogram.html">v8::internal::Histogram</a></div><div class="ttdef"><b>Definition:</b> <a href="counters_8h_source.html#l00158">counters.h:158</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Histogram_html_a1fa018dc2756acdc3a1bb4fdbe97ae86"><div class="ttname"><a href="classv8_1_1internal_1_1Histogram.html#a1fa018dc2756acdc3a1bb4fdbe97ae86">v8::internal::Histogram::AddSample</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void AddSample(int sample)</div><div class="ttdef"><b>Definition:</b> <a href="counters_8cc_source.html#l00050">counters.cc:50</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Histogram_html_a8c6f22e6b5446dfc455a8af4e97eb21b"><div class="ttname"><a href="classv8_1_1internal_1_1Histogram.html#a8c6f22e6b5446dfc455a8af4e97eb21b">v8::internal::Histogram::Enabled</a></div><div class="ttdeci">bool Enabled()</div><div class="ttdef"><b>Definition:</b> <a href="counters_8h_source.html#l00164">counters.h:164</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InstructionStream_html_ae5c1b203ad1007bffb349881cdf8bec3"><div class="ttname"><a href="classv8_1_1internal_1_1InstructionStream.html#ae5c1b203ad1007bffb349881cdf8bec3">v8::internal::InstructionStream::kOnHeapBodyIsContiguous</a></div><div class="ttdeci">static constexpr bool kOnHeapBodyIsContiguous</div><div class="ttdef"><b>Definition:</b> <a href="instruction-stream_8h_source.html#l00061">instruction-stream.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a05a2b08b2b0f2d5aef8dc053e2ea3d9b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">v8::internal::Isolate::Current</a></div><div class="ttdeci">static Isolate * Current()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00035">isolate-inl.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a0df8dc9e4eb119d45ed068d53277c709"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a0df8dc9e4eb119d45ed068d53277c709">v8::internal::Isolate::async_counters</a></div><div class="ttdeci">const std::shared_ptr&lt; Counters &gt; &amp; async_counters()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01197">isolate.h:1197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a19fe4bb8399a1f2a2b82caad4c832086"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a19fe4bb8399a1f2a2b82caad4c832086">v8::internal::Isolate::IsLoggingCodeCreation</a></div><div class="ttdeci">bool IsLoggingCodeCreation() const</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l06238">isolate.cc:6238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a3674f1738fbd7b36d670397d0fbd363e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a3674f1738fbd7b36d670397d0fbd363e">v8::internal::RelocInfo::kApplyMask</a></div><div class="ttdeci">static const int kApplyMask</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00370">reloc-info.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a4532875f67c1658431b317da15aaa1b9"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a4532875f67c1658431b317da15aaa1b9">v8::internal::RelocInfo::wasm_call_tag</a></div><div class="ttdeci">uint32_t wasm_call_tag() const</div><div class="ttdef"><b>Definition:</b> <a href="assembler-riscv_8cc_source.html#l00202">assembler-riscv.cc:202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a4bb9ca8ff590a4b9a46751997f9f9c5e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a4bb9ca8ff590a4b9a46751997f9f9c5e">v8::internal::RelocInfo::ModeMask</a></div><div class="ttdeci">static constexpr int ModeMask(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00273">reloc-info.h:273</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a7ced4909c9b4b70bf6b682825d75b25e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a7ced4909c9b4b70bf6b682825d75b25e">v8::internal::RelocInfo::IsWasmCall</a></div><div class="ttdeci">static constexpr bool IsWasmCall(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00214">reloc-info.h:214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a9b6cc7beedb93c75dda2852cb6af822e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a9b6cc7beedb93c75dda2852cb6af822e">v8::internal::RelocInfo::IsWasmStubCall</a></div><div class="ttdeci">static constexpr bool IsWasmStubCall(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00215">reloc-info.h:215</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ace9340a0c27b322249d990c3b6351cea"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ace9340a0c27b322249d990c3b6351cea">v8::internal::RelocInfo::IsWasmCodePointerTableEntry</a></div><div class="ttdeci">static constexpr bool IsWasmCodePointerTableEntry(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00221">reloc-info.h:221</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">v8::internal::RelocInfo::Mode</a></div><div class="ttdeci">Mode</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00106">reloc-info.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea1cc6db35064ce98174704bf423847a61">v8::internal::RelocInfo::WASM_CODE_POINTER_TABLE_ENTRY</a></div><div class="ttdeci">@ WASM_CODE_POINTER_TABLE_ENTRY</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00120">reloc-info.h:120</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea39bd1ffa884c00f07773f11ee5ea8f48">v8::internal::RelocInfo::WASM_CALL</a></div><div class="ttdeci">@ WASM_CALL</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00118">reloc-info.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea3b7f4cf84436d1c2c76bf8e06c2e53bd"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea3b7f4cf84436d1c2c76bf8e06c2e53bd">v8::internal::RelocInfo::INTERNAL_REFERENCE_ENCODED</a></div><div class="ttdeci">@ INTERNAL_REFERENCE_ENCODED</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00128">reloc-info.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea4749f69effc3746c91e2472a2e73d718"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea4749f69effc3746c91e2472a2e73d718">v8::internal::RelocInfo::EXTERNAL_REFERENCE</a></div><div class="ttdeci">@ EXTERNAL_REFERENCE</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00123">reloc-info.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea5f7b01771fa839eba1164bdc0061a291"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea5f7b01771fa839eba1164bdc0061a291">v8::internal::RelocInfo::VENEER_POOL</a></div><div class="ttdeci">@ VENEER_POOL</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00145">reloc-info.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea723a8870ed824d0646f87123220c709c"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea723a8870ed824d0646f87123220c709c">v8::internal::RelocInfo::INTERNAL_REFERENCE</a></div><div class="ttdeci">@ INTERNAL_REFERENCE</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00124">reloc-info.h:124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8ea98c891fef4fdd3db6140ef54e117d01f"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8ea98c891fef4fdd3db6140ef54e117d01f">v8::internal::RelocInfo::WASM_CANONICAL_SIG_ID</a></div><div class="ttdeci">@ WASM_CANONICAL_SIG_ID</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00121">reloc-info.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8eac9e0110e19d8df8e93d56ae136b543e4"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eac9e0110e19d8df8e93d56ae136b543e4">v8::internal::RelocInfo::CONST_POOL</a></div><div class="ttdeci">@ CONST_POOL</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00144">reloc-info.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8eaf44d1f5521a36a56293dd55fa8e269c6">v8::internal::RelocInfo::WASM_STUB_CALL</a></div><div class="ttdeci">@ WASM_STUB_CALL</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00119">reloc-info.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocIteratorBase_html_a4e36ec3860d142b680388b2280014ea0"><div class="ttname"><a href="classv8_1_1internal_1_1RelocIteratorBase.html#a4e36ec3860d142b680388b2280014ea0">v8::internal::RelocIteratorBase::done</a></div><div class="ttdeci">bool done() const</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00522">reloc-info.h:522</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocIteratorBase_html_a571153ba88b558f4994e7ef8b6b6d71f"><div class="ttname"><a href="classv8_1_1internal_1_1RelocIteratorBase.html#a571153ba88b558f4994e7ef8b6b6d71f">v8::internal::RelocIteratorBase::next</a></div><div class="ttdeci">void next()</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8cc_source.html#l00130">reloc-info.cc:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocIteratorBase_html_af97bdcf6733d5fd57bd31830cadf84aa"><div class="ttname"><a href="classv8_1_1internal_1_1RelocIteratorBase.html#af97bdcf6733d5fd57bd31830cadf84aa">v8::internal::RelocIteratorBase::rinfo</a></div><div class="ttdeci">RelocInfoT * rinfo()</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00526">reloc-info.h:526</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1RelocIterator.html">v8::internal::RelocIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00568">reloc-info.h:568</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RwxMemoryWriteScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1RwxMemoryWriteScope.html">v8::internal::RwxMemoryWriteScope</a></div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8h_source.html#l00090">code-memory-access.h:90</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RwxMemoryWriteScope_html_a9771bab10900e92154b51ae8884ebd47"><div class="ttname"><a href="classv8_1_1internal_1_1RwxMemoryWriteScope.html#a9771bab10900e92154b51ae8884ebd47">v8::internal::RwxMemoryWriteScope::IsSupported</a></div><div class="ttdeci">static bool IsSupported()</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00373">code-memory-access-inl.h:373</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SafepointTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1SafepointTable.html">v8::internal::SafepointTable</a></div><div class="ttdef"><b>Definition:</b> <a href="safepoint-table_8h_source.html#l00062">safepoint-table.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SafepointTable_html_a057e4f18218a4f7073b96148677e3571"><div class="ttname"><a href="classv8_1_1internal_1_1SafepointTable.html#a057e4f18218a4f7073b96148677e3571">v8::internal::SafepointTable::Print</a></div><div class="ttdeci">void Print(std::ostream &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="safepoint-table_8cc_source.html#l00100">safepoint-table.cc:100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SafepointTable_html_a079bbd9de5aee144ba660eb2ba3ab070"><div class="ttname"><a href="classv8_1_1internal_1_1SafepointTable.html#a079bbd9de5aee144ba660eb2ba3ab070">v8::internal::SafepointTable::TryFindEntry</a></div><div class="ttdeci">SafepointEntry TryFindEntry(Address pc) const</div><div class="ttdef"><b>Definition:</b> <a href="safepoint-table_8cc_source.html#l00063">safepoint-table.cc:63</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html">v8::internal::Signature</a></div><div class="ttdef"><b>Definition:</b> <a href="signature_8h_source.html#l00080">signature.h:80</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SourcePositionTableIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1SourcePositionTableIterator.html">v8::internal::SourcePositionTableIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="source-position-table_8h_source.html#l00079">source-position-table.h:79</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SourcePositionTableIterator_html_a0845f40c6af62abe649e2a543efc057d"><div class="ttname"><a href="classv8_1_1internal_1_1SourcePositionTableIterator.html#a0845f40c6af62abe649e2a543efc057d">v8::internal::SourcePositionTableIterator::done</a></div><div class="ttdeci">bool done() const</div><div class="ttdef"><b>Definition:</b> <a href="source-position-table_8h_source.html#l00143">source-position-table.h:143</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SourcePosition_html"><div class="ttname"><a href="classv8_1_1internal_1_1SourcePosition.html">v8::internal::SourcePosition</a></div><div class="ttdef"><b>Definition:</b> <a href="source-position_8h_source.html#l00045">source-position.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SourcePosition_html_a303c0c4fa47bd9368489bdd75b5931ec"><div class="ttname"><a href="classv8_1_1internal_1_1SourcePosition.html#a303c0c4fa47bd9368489bdd75b5931ec">v8::internal::SourcePosition::ScriptOffset</a></div><div class="ttdeci">int ScriptOffset() const</div><div class="ttdef"><b>Definition:</b> <a href="source-position_8h_source.html#l00091">source-position.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StdoutStream_html"><div class="ttname"><a href="classv8_1_1internal_1_1StdoutStream.html">v8::internal::StdoutStream</a></div><div class="ttdef"><b>Definition:</b> <a href="ostreams_8h_source.html#l00091">ostreams.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_a42ebfac4aa3bcade2327daf0cf5efb7f"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#a42ebfac4aa3bcade2327daf0cf5efb7f">v8::internal::ThreadIsolation::Enabled</a></div><div class="ttdeci">static bool Enabled()</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00042">code-memory-access.cc:42</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_a647c86b788456e7ec80f0bc1d365561a"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#a647c86b788456e7ec80f0bc1d365561a">v8::internal::ThreadIsolation::RegisterJitAllocations</a></div><div class="ttdeci">static void RegisterJitAllocations(Address start, const std::vector&lt; size_t &gt; &amp;sizes, JitAllocationType type)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00511">code-memory-access.cc:511</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_a6a523c13e4e0f1cd5dc4a57a754a616a"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#a6a523c13e4e0f1cd5dc4a57a754a616a">v8::internal::ThreadIsolation::UnregisterJitPage</a></div><div class="ttdeci">static void UnregisterJitPage(Address address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00430">code-memory-access.cc:430</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_a9fff9d0a2fb22b0853a69400bea0f618"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#a9fff9d0a2fb22b0853a69400bea0f618">v8::internal::ThreadIsolation::RegisterJitPage</a></div><div class="ttdeci">static void RegisterJitPage(Address address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00420">code-memory-access.cc:420</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_ad005e4948f48131f0f8727020bd52b68"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#ad005e4948f48131f0f8727020bd52b68">v8::internal::ThreadIsolation::LookupJitAllocation</a></div><div class="ttdeci">static WritableJitAllocation LookupJitAllocation(Address addr, size_t size, JitAllocationType type, bool enforce_write_api=false)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00503">code-memory-access.cc:503</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_ad690ad6c8189d648d7cc8ec987d882c1"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#ad690ad6c8189d648d7cc8ec987d882c1">v8::internal::ThreadIsolation::MakeExecutable</a></div><div class="ttdeci">static bool MakeExecutable(Address address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00474">code-memory-access.cc:474</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_ae13414c0ae7d8ac16347aa93bf7b5771"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#ae13414c0ae7d8ac16347aa93bf7b5771">v8::internal::ThreadIsolation::UnregisterWasmAllocation</a></div><div class="ttdeci">static void UnregisterWasmAllocation(Address addr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00544">code-memory-access.cc:544</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_ae2e342788fbcd47076ccce4a1996c464"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#ae2e342788fbcd47076ccce4a1996c464">v8::internal::ThreadIsolation::RegisterJitAllocation</a></div><div class="ttdeci">static WritableJitAllocation RegisterJitAllocation(Address addr, size_t size, JitAllocationType type, bool enforce_write_api=false)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00488">code-memory-access.cc:488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0e"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0e">v8::internal::ThreadIsolation::JitAllocationType</a></div><div class="ttdeci">JitAllocationType</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8h_source.html#l00142">code-memory-access.h:142</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea3d2a650902eeb3540a581b2abbb17bb8">v8::internal::ThreadIsolation::JitAllocationType::kWasmCode</a></div><div class="ttdeci">@ kWasmCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0ea91a8fed74b604f7e84b3036af763ee8b"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0ea91a8fed74b604f7e84b3036af763ee8b">v8::internal::ThreadIsolation::JitAllocationType::kWasmJumpTable</a></div><div class="ttdeci">@ kWasmJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eac2316abd3338b7d2e92c44dfde6164c5">v8::internal::ThreadIsolation::JitAllocationType::kWasmFarJumpTable</a></div><div class="ttdeci">@ kWasmFarJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_affba95694ddfc3cdf2e345f8ed110b0eadae8f9a2ade7ec362cbf97c727cb233c"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#affba95694ddfc3cdf2e345f8ed110b0eadae8f9a2ade7ec362cbf97c727cb233c">v8::internal::ThreadIsolation::JitAllocationType::kWasmLazyCompileTable</a></div><div class="ttdeci">@ kWasmLazyCompileTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8_html_a977b087d4ee58955efe72b33136a4e94"><div class="ttname"><a href="classv8_1_1internal_1_1V8.html#a977b087d4ee58955efe72b33136a4e94">v8::internal::V8::FatalProcessOutOfMemory</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void FatalProcessOutOfMemory(Isolate *isolate, const char *location, const OOMDetails &amp;details=kNoOOMDetails)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VirtualMemory_html"><div class="ttname"><a href="classv8_1_1internal_1_1VirtualMemory.html">v8::internal::VirtualMemory</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00193">allocation.h:193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VirtualMemory_html_a189b2051e0b85c97fd761d87f2ee207a"><div class="ttname"><a href="classv8_1_1internal_1_1VirtualMemory.html#a189b2051e0b85c97fd761d87f2ee207a">v8::internal::VirtualMemory::region</a></div><div class="ttdeci">const base::AddressRegion &amp; region() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00243">allocation.h:243</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VirtualMemory_html_a48f0249dbd8fb6b9fdd45b51037e9c90"><div class="ttname"><a href="classv8_1_1internal_1_1VirtualMemory.html#a48f0249dbd8fb6b9fdd45b51037e9c90">v8::internal::VirtualMemory::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00263">allocation.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VirtualMemory_html_a4e314fe91c3c610bb8495aa6435cba9f"><div class="ttname"><a href="classv8_1_1internal_1_1VirtualMemory.html#a4e314fe91c3c610bb8495aa6435cba9f">v8::internal::VirtualMemory::IsReserved</a></div><div class="ttdeci">bool IsReserved() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00236">allocation.h:236</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VirtualMemory_html_a5dd4e21fcfe750201d1d054d088c1368"><div class="ttname"><a href="classv8_1_1internal_1_1VirtualMemory.html#a5dd4e21fcfe750201d1d054d088c1368">v8::internal::VirtualMemory::end</a></div><div class="ttdeci">Address end() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00254">allocation.h:254</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1VirtualMemory_html_ae9a440f195e1f00ff57e360c163d9b33"><div class="ttname"><a href="classv8_1_1internal_1_1VirtualMemory.html#ae9a440f195e1f00ff57e360c163d9b33">v8::internal::VirtualMemory::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00249">allocation.h:249</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmCodePointer_html"><div class="ttname"><a href="classv8_1_1internal_1_1WasmCodePointer.html">v8::internal::WasmCodePointer</a></div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02891">globals.h:2891</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html">v8::internal::WritableJitAllocation</a></div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8h_source.html#l00387">code-memory-access.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html_a5214a39ff535864c1f6ae1968547208d"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html#a5214a39ff535864c1f6ae1968547208d">v8::internal::WritableJitAllocation::CopyCode</a></div><div class="ttdeci">void CopyCode(size_t dst_offset, const uint8_t *src, size_t num_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00245">code-memory-access-inl.h:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html_a9ceea424d25a7087297d650a88c452af"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html#a9ceea424d25a7087297d650a88c452af">v8::internal::WritableJitAllocation::ClearBytes</a></div><div class="ttdeci">void ClearBytes(size_t offset, size_t len)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00259">code-memory-access-inl.h:259</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableRelocIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1WritableRelocIterator.html">v8::internal::WritableRelocIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00594">reloc-info.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1AssumptionsJournal_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html">v8::internal::wasm::AssumptionsJournal</a></div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8h_source.html#l00039">function-compiler.h:39</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1AssumptionsJournal_html_a00ba2ca56e635beb0b63bf374c726e6c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html#a00ba2ca56e635beb0b63bf374c726e6c">v8::internal::wasm::AssumptionsJournal::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8h_source.html#l00051">function-compiler.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1AssumptionsJournal_html_ad56640d0c301b1a6f42199f90679ae63"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1AssumptionsJournal.html#ad56640d0c301b1a6f42199f90679ae63">v8::internal::wasm::AssumptionsJournal::import_statuses</a></div><div class="ttdeci">const std::vector&lt; std::pair&lt; uint32_t, WellKnownImport &gt; &gt; &amp; import_statuses()</div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8h_source.html#l00047">function-compiler.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1BuiltinLookup_html_a282118f97cf3fce4133b63c1c15906bc"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a282118f97cf3fce4133b63c1c15906bc">v8::internal::wasm::BuiltinLookup::JumptableIndexForBuiltin</a></div><div class="ttdeci">static constexpr int JumptableIndexForBuiltin(Builtin builtin)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-builtin-list_8h_source.html#l00191">wasm-builtin-list.h:191</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1BuiltinLookup_html_a67dcedf7516507a705bc79ffd2e0a089"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a67dcedf7516507a705bc79ffd2e0a089">v8::internal::wasm::BuiltinLookup::BuiltinForJumptableIndex</a></div><div class="ttdeci">static constexpr Builtin BuiltinForJumptableIndex(int index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-builtin-list_8h_source.html#l00197">wasm-builtin-list.h:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1BuiltinLookup_html_a934b529bc9c9104095b6c98ffaba9697"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1BuiltinLookup.html#a934b529bc9c9104095b6c98ffaba9697">v8::internal::wasm::BuiltinLookup::BuiltinCount</a></div><div class="ttdeci">static constexpr int BuiltinCount()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-builtin-list_8h_source.html#l00203">wasm-builtin-list.h:203</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CompilationState_html_aa483870e07defd3034a0d0a88e41ad8c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CompilationState.html#aa483870e07defd3034a0d0a88e41ad8c">v8::internal::wasm::CompilationState::New</a></div><div class="ttdeci">static std::unique_ptr&lt; CompilationState &gt; New(const std::shared_ptr&lt; NativeModule &gt; &amp;, std::shared_ptr&lt; Counters &gt;, WasmDetectedFeatures detected_features)</div><div class="ttdef"><b>Definition:</b> <a href="module-compiler_8cc_source.html#l00958">module-compiler.cc:958</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CompileTimeImports_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">v8::internal::wasm::CompileTimeImports</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00150">wasm-features.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CompileTimeImports_html_a8946141e47cc84fcf753c04dd3eac88f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html#a8946141e47cc84fcf753c04dd3eac88f">v8::internal::wasm::CompileTimeImports::constants_module</a></div><div class="ttdeci">std::string &amp; constants_module()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00191">wasm-features.h:191</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DebugInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html">v8::internal::wasm::DebugInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-debug_8h_source.html#l00173">wasm-debug.h:173</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DebugInfo_html_a67a17d959961e67bc426f9aaa7ba2198"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html#a67a17d959961e67bc426f9aaa7ba2198">v8::internal::wasm::DebugInfo::EstimateCurrentMemoryConsumption</a></div><div class="ttdeci">size_t EstimateCurrentMemoryConsumption() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-debug_8cc_source.html#l00891">wasm-debug.cc:891</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DebugInfo_html_abd6a863dc47b07d34f5b383c79ee3e20"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html#abd6a863dc47b07d34f5b383c79ee3e20">v8::internal::wasm::DebugInfo::GetDebugSideTableIfExists</a></div><div class="ttdeci">DebugSideTable * GetDebugSideTableIfExists(const WasmCode *) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-debug_8cc_source.html#l00882">wasm-debug.cc:882</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DebugInfo_html_ad68da127ead8c18497a9a92b11f3f4d9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DebugInfo.html#ad68da127ead8c18497a9a92b11f3f4d9">v8::internal::wasm::DebugInfo::RemoveDebugSideTables</a></div><div class="ttdeci">void RemoveDebugSideTables(base::Vector&lt; WasmCode *const &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-debug_8cc_source.html#l00878">wasm-debug.cc:878</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html">v8::internal::wasm::DisjointAllocationPool</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00061">wasm-code-manager.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html_a5a78c9832c8962fdc94b954e5b0adb65"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a5a78c9832c8962fdc94b954e5b0adb65">v8::internal::wasm::DisjointAllocationPool::Allocate</a></div><div class="ttdeci">base::AddressRegion Allocate(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00137">wasm-code-manager.cc:137</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html_a9200d92cb26cb60769e4f5a5b6dbfc7c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#a9200d92cb26cb60769e4f5a5b6dbfc7c">v8::internal::wasm::DisjointAllocationPool::regions</a></div><div class="ttdeci">const auto &amp; regions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00082">wasm-code-manager.h:82</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html_aaae1e5e18b6363b94f228abe6521dd3b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#aaae1e5e18b6363b94f228abe6521dd3b">v8::internal::wasm::DisjointAllocationPool::AllocateInRegion</a></div><div class="ttdeci">base::AddressRegion AllocateInRegion(size_t size, base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00142">wasm-code-manager.cc:142</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html_ad1a1b8cd58b67bae807fb76d3c1683f3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ad1a1b8cd58b67bae807fb76d3c1683f3">v8::internal::wasm::DisjointAllocationPool::regions_</a></div><div class="ttdeci">std::set&lt; base::AddressRegion, base::AddressRegion::StartAddressLess &gt; regions_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00085">wasm-code-manager.h:85</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html_ae1c8c42c6b46181491ce58c3680e04a3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#ae1c8c42c6b46181491ce58c3680e04a3">v8::internal::wasm::DisjointAllocationPool::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00080">wasm-code-manager.h:80</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1DisjointAllocationPool_html_afcf7458ff374176005a20707ab0fa556"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1DisjointAllocationPool.html#afcf7458ff374176005a20707ab0fa556">v8::internal::wasm::DisjointAllocationPool::Merge</a></div><div class="ttdeci">base::AddressRegion Merge(base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00082">wasm-code-manager.cc:82</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a01dc0a56e4bad49ae441513379eabe4d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a01dc0a56e4bad49ae441513379eabe4d">v8::internal::wasm::JumpTableAssembler::FarJumpSlotOffsetToIndex</a></div><div class="ttdeci">static uint32_t FarJumpSlotOffsetToIndex(uint32_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00092">jump-table-assembler.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a0cabb404f2bfe1a9ef3ea35fe63f7cf3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a0cabb404f2bfe1a9ef3ea35fe63f7cf3">v8::internal::wasm::JumpTableAssembler::PatchJumpTableSlot</a></div><div class="ttdeci">static void PatchJumpTableSlot(WritableJumpTablePair &amp;jump_table_pair, Address jump_table_slot, Address far_jump_table_slot, Address target)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00147">jump-table-assembler.h:147</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a4e616135983a522caacfc5b4bf44bcd3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a4e616135983a522caacfc5b4bf44bcd3">v8::internal::wasm::JumpTableAssembler::FarJumpSlotIndexToOffset</a></div><div class="ttdeci">static uint32_t FarJumpSlotIndexToOffset(uint32_t slot_index)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00087">jump-table-assembler.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a52670982950dc90851cb4a1de6e97781"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a52670982950dc90851cb4a1de6e97781">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfLazyFunctions</a></div><div class="ttdeci">static constexpr uint32_t SizeForNumberOfLazyFunctions(uint32_t slot_count)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00111">jump-table-assembler.h:111</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a5515cdbbc42cf3c78581ea13768f74bb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a5515cdbbc42cf3c78581ea13768f74bb">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfSlots</a></div><div class="ttdeci">static constexpr uint32_t SizeForNumberOfSlots(uint32_t slot_count)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00080">jump-table-assembler.h:80</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a75af4ab220bf462ded5d5cc62d9da9da"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a75af4ab220bf462ded5d5cc62d9da9da">v8::internal::wasm::JumpTableAssembler::JumpSlotIndexToOffset</a></div><div class="ttdeci">static uint32_t JumpSlotIndexToOffset(uint32_t slot_index)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00072">jump-table-assembler.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a87add92ae969554c1b14d8ff3e8d7cd2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a87add92ae969554c1b14d8ff3e8d7cd2">v8::internal::wasm::JumpTableAssembler::SizeForNumberOfFarJumpSlots</a></div><div class="ttdeci">static constexpr uint32_t SizeForNumberOfFarJumpSlots(int num_runtime_slots, int num_function_slots)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00099">jump-table-assembler.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a8d1850fd6a11a830c0b62ccfe4906baf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a8d1850fd6a11a830c0b62ccfe4906baf">v8::internal::wasm::JumpTableAssembler::InitializeJumpsToLazyCompileTable</a></div><div class="ttdeci">static void InitializeJumpsToLazyCompileTable(Address base, uint32_t num_slots, Address lazy_compile_table_start)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8cc_source.html#l00033">jump-table-assembler.cc:33</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_a9429626ba78f937f1bdd773af25dda77"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#a9429626ba78f937f1bdd773af25dda77">v8::internal::wasm::JumpTableAssembler::GenerateFarJumpTable</a></div><div class="ttdeci">static void GenerateFarJumpTable(WritableJitAllocation &amp;jit_allocation, Address base, Address *stub_targets, int num_runtime_slots, int num_function_slots)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00124">jump-table-assembler.h:124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_ab9d14294753cfc3099f3612018a8d6e6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ab9d14294753cfc3099f3612018a8d6e6">v8::internal::wasm::JumpTableAssembler::LazyCompileSlotIndexToOffset</a></div><div class="ttdeci">static uint32_t LazyCompileSlotIndexToOffset(uint32_t slot_index)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00106">jump-table-assembler.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_ada6cc7624595bb4befe6288661dc75ba"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ada6cc7624595bb4befe6288661dc75ba">v8::internal::wasm::JumpTableAssembler::SlotOffsetToIndex</a></div><div class="ttdeci">static uint32_t SlotOffsetToIndex(uint32_t slot_offset)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8h_source.html#l00063">jump-table-assembler.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1JumpTableAssembler_html_ae71b16baa415877eb767aeb926b938e5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1JumpTableAssembler.html#ae71b16baa415877eb767aeb926b938e5">v8::internal::wasm::JumpTableAssembler::GenerateLazyCompileTable</a></div><div class="ttdeci">static void GenerateLazyCompileTable(Address base, uint32_t num_slots, uint32_t num_imported_functions, Address wasm_compile_lazy_target)</div><div class="ttdef"><b>Definition:</b> <a href="jump-table-assembler_8cc_source.html#l00015">jump-table-assembler.cc:15</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1LazilyGeneratedNames_html_a18b1d6d0ec7a67bbb0ecac1da13d75db"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1LazilyGeneratedNames.html#a18b1d6d0ec7a67bbb0ecac1da13d75db">v8::internal::wasm::LazilyGeneratedNames::LookupFunctionName</a></div><div class="ttdeci">WireBytesRef LookupFunctionName(ModuleWireBytes wire_bytes, uint32_t function_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00085">wasm-module.cc:85</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NamesProvider_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NamesProvider.html">v8::internal::wasm::NamesProvider</a></div><div class="ttdef"><b>Definition:</b> <a href="names-provider_8h_source.html#l00026">names-provider.h:26</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html">v8::internal::wasm::NativeModule</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00603">wasm-code-manager.h:603</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a02cf7c113ae0ade3b2943210fa4bd02a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a02cf7c113ae0ade3b2943210fa4bd02a">v8::internal::wasm::NativeModule::UpdateWellKnownImports</a></div><div class="ttdeci">void UpdateWellKnownImports(base::Vector&lt; WellKnownImport &gt; entries)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01457">wasm-code-manager.cc:1457</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a04f2f50aa9d1cbc1dc28e60dbe687f74"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a04f2f50aa9d1cbc1dc28e60dbe687f74">v8::internal::wasm::NativeModule::module</a></div><div class="ttdeci">const WasmModule * module() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00766">wasm-code-manager.h:766</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a0758c148983046085c96a76a610a9ff6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0758c148983046085c96a76a610a9ff6">v8::internal::wasm::NativeModule::names_provider_</a></div><div class="ttdeci">std::unique_ptr&lt; NamesProvider &gt; names_provider_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01135">wasm-code-manager.h:1135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a09649a8d8356bcf64e4bc5f2d3eb1435"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a09649a8d8356bcf64e4bc5f2d3eb1435">v8::internal::wasm::NativeModule::code_space_data_</a></div><div class="ttdeci">std::vector&lt; CodeSpaceData &gt; code_space_data_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01127">wasm-code-manager.h:1127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a0ba7b7564b408b1e7b459849e0e886e4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a0ba7b7564b408b1e7b459849e0e886e4">v8::internal::wasm::NativeModule::DisassembleForLcov</a></div><div class="ttdeci">uint32_t DisassembleForLcov(std::ostream &amp;out, std::vector&lt; int &gt; &amp;function_body_offsets, std::map&lt; uint32_t, uint32_t &gt; &amp;bytecode_disasm_offsets)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00988">wasm-code-manager.cc:988</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a119487efc92641da665eb0252dcc9a18"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a119487efc92641da665eb0252dcc9a18">v8::internal::wasm::NativeModule::GetBuiltinInJumptableSlot</a></div><div class="ttdeci">Builtin GetBuiltinInJumptableSlot(Address target) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02123">wasm-code-manager.cc:2123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a13f6208a4e2ce867f817a5e73e481484"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a13f6208a4e2ce867f817a5e73e481484">v8::internal::wasm::NativeModule::main_jump_table_</a></div><div class="ttdeci">WasmCode * main_jump_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01074">wasm-code-manager.h:1074</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a16196a1962694773b11f2434c5d7becf"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a16196a1962694773b11f2434c5d7becf">v8::internal::wasm::NativeModule::NativeModule</a></div><div class="ttdeci">NativeModule(const NativeModule &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a169fd10581fcc34645b802baca380789"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a169fd10581fcc34645b802baca380789">v8::internal::wasm::NativeModule::FreeCode</a></div><div class="ttdeci">void FreeCode(base::Vector&lt; WasmCode *const &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02820">wasm-code-manager.cc:2820</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a18104681db5670057e0e3d3490b04426"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a18104681db5670057e0e3d3490b04426">v8::internal::wasm::NativeModule::wire_bytes_</a></div><div class="ttdeci">std::shared_ptr&lt; base::OwnedVector&lt; const uint8_t &gt; &gt; wire_bytes_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01069">wasm-code-manager.h:1069</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1a7ccb8d9aed0eed2230ebec996762dd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1a7ccb8d9aed0eed2230ebec996762dd">v8::internal::wasm::NativeModule::sum_lazy_compilation_time_in_micro_sec_</a></div><div class="ttdeci">std::atomic&lt; int64_t &gt; sum_lazy_compilation_time_in_micro_sec_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01149">wasm-code-manager.h:1149</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1c0e38351c07fa1377db0a30e94ac8c0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c0e38351c07fa1377db0a30e94ac8c0">v8::internal::wasm::NativeModule::GetNearCallTargetForFunction</a></div><div class="ttdeci">Address GetNearCallTargetForFunction(uint32_t func_index, const JumpTablesRef &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02081">wasm-code-manager.cc:2081</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1c38ae4d35483f2b9c6e5634c7bf4bd6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1c38ae4d35483f2b9c6e5634c7bf4bd6">v8::internal::wasm::NativeModule::kNeedsFarJumpsBetweenCodeSpaces</a></div><div class="ttdeci">static constexpr bool kNeedsFarJumpsBetweenCodeSpaces</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00621">wasm-code-manager.h:621</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a1de1343ab4cdce06843b517c1e2f1ede"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a1de1343ab4cdce06843b517c1e2f1ede">v8::internal::wasm::NativeModule::module_</a></div><div class="ttdeci">std::shared_ptr&lt; const WasmModule &gt; module_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01063">wasm-code-manager.h:1063</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a203dfbaf27e80e6f9a30f2e29dcf15f2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a203dfbaf27e80e6f9a30f2e29dcf15f2">v8::internal::wasm::NativeModule::num_lazy_compilations_</a></div><div class="ttdeci">std::atomic&lt; int &gt; num_lazy_compilations_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01148">wasm-code-manager.h:1148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a21586b2fdaae541148e2d8bdb100bf8b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a21586b2fdaae541148e2d8bdb100bf8b">v8::internal::wasm::NativeModule::SumLiftoffCodeSizeForTesting</a></div><div class="ttdeci">size_t SumLiftoffCodeSizeForTesting() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02807">wasm-code-manager.cc:2807</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a24ead28dfd80e92c25f7fc48bb0c310e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a24ead28dfd80e92c25f7fc48bb0c310e">v8::internal::wasm::NativeModule::source_map_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmModuleSourceMap &gt; source_map_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01065">wasm-code-manager.h:1065</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a254b2e8e7c781aa66779e302651293ed"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a254b2e8e7c781aa66779e302651293ed">v8::internal::wasm::NativeModule::owned_code_</a></div><div class="ttdeci">std::map&lt; Address, std::unique_ptr&lt; WasmCode &gt; &gt; owned_code_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01105">wasm-code-manager.h:1105</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a26241881bc9c29ebcbfe2109c4a64cf7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a26241881bc9c29ebcbfe2109c4a64cf7">v8::internal::wasm::NativeModule::SnapshotAllOwnedCode</a></div><div class="ttdeci">std::vector&lt; WasmCode * &gt; SnapshotAllOwnedCode() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01680">wasm-code-manager.cc:1680</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a28058f3ce35ecfd593d341c0219b21c7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a28058f3ce35ecfd593d341c0219b21c7">v8::internal::wasm::NativeModule::TransferNewOwnedCodeLocked</a></div><div class="ttdeci">void TransferNewOwnedCodeLocked() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02002">wasm-code-manager.cc:2002</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a2b2e70f05aba4cbb41820e840e79ab3a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b2e70f05aba4cbb41820e840e79ab3a">v8::internal::wasm::NativeModule::PrintCurrentMemoryConsumptionEstimate</a></div><div class="ttdeci">void PrintCurrentMemoryConsumptionEstimate() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02928">wasm-code-manager.cc:2928</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a2b68ddfcd3230a171f04c7a0b2231394"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a2b68ddfcd3230a171f04c7a0b2231394">v8::internal::wasm::NativeModule::compilation_state_</a></div><div class="ttdeci">std::unique_ptr&lt; CompilationState &gt; compilation_state_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01086">wasm-code-manager.h:1086</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a32aeb7786fe56d49f56d6da667f940ca"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a32aeb7786fe56d49f56d6da667f940ca">v8::internal::wasm::NativeModule::HasDebugInfo</a></div><div class="ttdeci">bool HasDebugInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02846">wasm-code-manager.cc:2846</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a37a8384fb8317a24c3d58cf66ff64123"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a37a8384fb8317a24c3d58cf66ff64123">v8::internal::wasm::NativeModule::GetCode</a></div><div class="ttdeci">WasmCode * GetCode(uint32_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01691">wasm-code-manager.cc:1691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a3a4dfefd1e5ed6ad2349de15781aee24"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a3a4dfefd1e5ed6ad2349de15781aee24">v8::internal::wasm::NativeModule::debug_info_</a></div><div class="ttdeci">std::unique_ptr&lt; DebugInfo &gt; debug_info_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01133">wasm-code-manager.h:1133</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a4210dcf60ee0c22b95de93af93f17f86"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a4210dcf60ee0c22b95de93af93f17f86">v8::internal::wasm::NativeModule::num_functions</a></div><div class="ttdeci">uint32_t num_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00752">wasm-code-manager.h:752</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a421b976045a5bd2009372a16e6b5e34a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a421b976045a5bd2009372a16e6b5e34a">v8::internal::wasm::NativeModule::allocation_mutex_</a></div><div class="ttdeci">base::RecursiveMutex allocation_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01097">wasm-code-manager.h:1097</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a42240b9985270350c5a898e36da4dcf8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a42240b9985270350c5a898e36da4dcf8">v8::internal::wasm::NativeModule::SnapshotCodeTable</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; WasmCode * &gt;, std::vector&lt; WellKnownImport &gt; &gt; SnapshotCodeTable() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01666">wasm-code-manager.cc:1666</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a460c056c89d554e3a4a8dfcb8ffc22b4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a460c056c89d554e3a4a8dfcb8ffc22b4">v8::internal::wasm::NativeModule::AllocateForDeserializedCode</a></div><div class="ttdeci">std::pair&lt; base::Vector&lt; uint8_t &gt;, JumpTablesRef &gt; AllocateForDeserializedCode(size_t total_code_size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01616">wasm-code-manager.cc:1616</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a46fa56beff1669a8eb218e9aec9fd8d2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a46fa56beff1669a8eb218e9aec9fd8d2">v8::internal::wasm::NativeModule::EstimateCurrentMemoryConsumption</a></div><div class="ttdeci">size_t EstimateCurrentMemoryConsumption() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02867">wasm-code-manager.cc:2867</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a51cd3da10c0980a4c5747dc6862f03ac"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a51cd3da10c0980a4c5747dc6862f03ac">v8::internal::wasm::NativeModule::PatchJumpTablesLocked</a></div><div class="ttdeci">void PatchJumpTablesLocked(uint32_t slot_index, Address target, Address code_pointer_table_target, uint64_t signature_hash)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01791">wasm-code-manager.cc:1791</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a53bed2d056d03e227cb3fd50df82a114"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a53bed2d056d03e227cb3fd50df82a114">v8::internal::wasm::NativeModule::HasWireBytes</a></div><div class="ttdeci">bool HasWireBytes() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00816">wasm-code-manager.h:816</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a58ee010c88ea49154c8528518931dbc2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a58ee010c88ea49154c8528518931dbc2">v8::internal::wasm::NativeModule::FreeCodePointerTableHandles</a></div><div class="ttdeci">void FreeCodePointerTableHandles()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01292">wasm-code-manager.cc:1292</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5b0eed350253b9d2285ebda0bed60eab"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5b0eed350253b9d2285ebda0bed60eab">v8::internal::wasm::NativeModule::AddDeserializedCode</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode &gt; AddDeserializedCode(int index, base::Vector&lt; uint8_t &gt; instructions, int stack_slots, int ool_spills, uint32_t tagged_parameter_slots, int safepoint_table_offset, int handler_table_offset, int constant_pool_offset, int code_comments_offset, int jump_table_info_offset, int unpadded_binary_size, base::Vector&lt; const uint8_t &gt; protected_instructions_data, base::Vector&lt; const uint8_t &gt; reloc_info, base::Vector&lt; const uint8_t &gt; source_position_table, base::Vector&lt; const uint8_t &gt; inlining_positions, base::Vector&lt; const uint8_t &gt; deopt_data, WasmCode::Kind kind, ExecutionTier tier)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01625">wasm-code-manager.cc:1625</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5bcdbc6019550ab5ed2f16d8c7c7745b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5bcdbc6019550ab5ed2f16d8c7c7745b">v8::internal::wasm::NativeModule::CreateEmptyJumpTableInRegionLocked</a></div><div class="ttdeci">WasmCode * CreateEmptyJumpTableInRegionLocked(int jump_table_size, base::AddressRegion, JumpTableType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01740">wasm-code-manager.cc:1740</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5cff149410fcd416933af17dab385ba0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5cff149410fcd416933af17dab385ba0">v8::internal::wasm::NativeModule::Lookup</a></div><div class="ttdeci">WasmCode * Lookup(Address) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02026">wasm-code-manager.cc:2026</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5d842383c864e12e83bdfb982954eb0f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5d842383c864e12e83bdfb982954eb0f">v8::internal::wasm::NativeModule::code_pointer_handles_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCodePointer[]&gt; code_pointer_handles_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01121">wasm-code-manager.h:1121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5dcbc5c21a8a83b7787033a13b7c48ad"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5dcbc5c21a8a83b7787033a13b7c48ad">v8::internal::wasm::NativeModule::LogWasmCodes</a></div><div class="ttdeci">void LogWasmCodes(Isolate *, Tagged&lt; Script &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01060">wasm-code-manager.cc:1060</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5ea4f6a28a06ce63c372bf00abbf0c24"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ea4f6a28a06ce63c372bf00abbf0c24">v8::internal::wasm::NativeModule::code_pointer_handles_size_</a></div><div class="ttdeci">size_t code_pointer_handles_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01124">wasm-code-manager.h:1124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5ebebb9d6e7368d1969447662c82f320"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5ebebb9d6e7368d1969447662c82f320">v8::internal::wasm::NativeModule::coverage_data_</a></div><div class="ttdeci">std::shared_ptr&lt; WasmModuleCoverageData &gt; coverage_data_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01167">wasm-code-manager.h:1167</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5f57f21ee0ee562fb651068bbcda8c05"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5f57f21ee0ee562fb651068bbcda8c05">v8::internal::wasm::NativeModule::liftoff_code_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; liftoff_code_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01144">wasm-code-manager.h:1144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a5fb2f2d026a39422d0282640939e2221"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a5fb2f2d026a39422d0282640939e2221">v8::internal::wasm::NativeModule::compile_imports_</a></div><div class="ttdeci">const CompileTimeImports compile_imports_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01059">wasm-code-manager.h:1059</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a60c23842429cfbc96419f922d252a4ea"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a60c23842429cfbc96419f922d252a4ea">v8::internal::wasm::NativeModule::PublishCodeLocked</a></div><div class="ttdeci">WasmCode * PublishCodeLocked(std::unique_ptr&lt; WasmCode &gt;, AssumptionsJournal *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01485">wasm-code-manager.cc:1485</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a61b6504416cddebca8e11c5635d5c203"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a61b6504416cddebca8e11c5635d5c203">v8::internal::wasm::NativeModule::SetWireBytes</a></div><div class="ttdeci">void SetWireBytes(base::OwnedVector&lt; const uint8_t &gt; wire_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01977">wasm-code-manager.cc:1977</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a63657aff1b54d8355c88d671645a62fd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a63657aff1b54d8355c88d671645a62fd">v8::internal::wasm::NativeModule::GetCodePointerHandle</a></div><div class="ttdeci">WasmCodePointer GetCodePointerHandle(int index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02144">wasm-code-manager.cc:2144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a6545f7c0dd32533af15bfea737c3afec"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a6545f7c0dd32533af15bfea737c3afec">v8::internal::wasm::NativeModule::engine_scope_</a></div><div class="ttdeci">OperationsBarrier::Token engine_scope_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01047">wasm-code-manager.h:1047</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7008f95ebaf5e50e98749f5ba25cd3f7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7008f95ebaf5e50e98749f5ba25cd3f7">v8::internal::wasm::NativeModule::FindJumpTablesForRegionLocked</a></div><div class="ttdeci">JumpTablesRef FindJumpTablesForRegionLocked(base::AddressRegion) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02039">wasm-code-manager.cc:2039</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a74d82ac97a7bb02ac5781d209ffe2bc5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a74d82ac97a7bb02ac5781d209ffe2bc5">v8::internal::wasm::NativeModule::HasCodeWithTier</a></div><div class="ttdeci">bool HasCodeWithTier(uint32_t index, ExecutionTier tier) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01703">wasm-code-manager.cc:1703</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a773f6a9db3d5a181ca810d7a92e19da6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a773f6a9db3d5a181ca810d7a92e19da6">v8::internal::wasm::NativeModule::GetDebugInfo</a></div><div class="ttdeci">DebugInfo * GetDebugInfo()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02851">wasm-code-manager.cc:2851</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7a50cdbc0772ef702c1401259707e93e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7a50cdbc0772ef702c1401259707e93e">v8::internal::wasm::NativeModule::HasCode</a></div><div class="ttdeci">bool HasCode(uint32_t index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01698">wasm-code-manager.cc:1698</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7ba45734b63b45fbed4e98f86795817d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7ba45734b63b45fbed4e98f86795817d">v8::internal::wasm::NativeModule::should_update_code_table</a></div><div class="ttdeci">bool should_update_code_table(WasmCode *new_code, WasmCode *prior_code) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01558">wasm-code-manager.cc:1558</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a7eebb8a25711eac01dfad476ab555f66"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a7eebb8a25711eac01dfad476ab555f66">v8::internal::wasm::NativeModule::InitializeJumpTableForLazyCompilation</a></div><div class="ttdeci">void InitializeJumpTableForLazyCompilation(uint32_t num_wasm_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01192">wasm-code-manager.cc:1192</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12">v8::internal::wasm::NativeModule::JumpTableType</a></div><div class="ttdeci">JumpTableType</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00905">wasm-code-manager.h:905</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a0aeb6cda2e68c213e2a6670941658d8b">v8::internal::wasm::NativeModule::JumpTableType::kLazyCompileTable</a></div><div class="ttdeci">@ kLazyCompileTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a4237d3e837c403339afce6a8387246cb">v8::internal::wasm::NativeModule::JumpTableType::kJumpTable</a></div><div class="ttdeci">@ kJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8125eaffd4b01d09e3e172cab5f94d12a693267f9d764c2f577d25c2afc461a10">v8::internal::wasm::NativeModule::JumpTableType::kFarJumpTable</a></div><div class="ttdeci">@ kFarJumpTable</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a813274940c91bd21cf6c10bcfd3b7c40"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a813274940c91bd21cf6c10bcfd3b7c40">v8::internal::wasm::NativeModule::ReinstallDebugCode</a></div><div class="ttdeci">void ReinstallDebugCode(WasmCode *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01589">wasm-code-manager.cc:1589</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8697f83af39e72a0327a6d299e1e23b7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8697f83af39e72a0327a6d299e1e23b7">v8::internal::wasm::NativeModule::GetJumpTableEntryForBuiltin</a></div><div class="ttdeci">Address GetJumpTableEntryForBuiltin(Builtin builtin, const JumpTablesRef &amp;) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02088">wasm-code-manager.cc:2088</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a8cd65fcbaf8d39fb8aca0c7814506f45"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a8cd65fcbaf8d39fb8aca0c7814506f45">v8::internal::wasm::NativeModule::max_lazy_compilation_time_in_micro_sec_</a></div><div class="ttdeci">std::atomic&lt; int64_t &gt; max_lazy_compilation_time_in_micro_sec_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01150">wasm-code-manager.h:1150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a91db58c0a3ed6efdba8d82e23a659fa7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91db58c0a3ed6efdba8d82e23a659fa7">v8::internal::wasm::NativeModule::PublishCode</a></div><div class="ttdeci">WasmCode * PublishCode(UnpublishedWasmCode)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01428">wasm-code-manager.cc:1428</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a91fa3ea02a42f6eb12f120ac558a8ec7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a91fa3ea02a42f6eb12f120ac558a8ec7">v8::internal::wasm::NativeModule::CallIndirectTargetMap</a></div><div class="ttdeci">absl::flat_hash_map&lt; WasmCodePointer, uint32_t &gt; CallIndirectTargetMap</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00740">wasm-code-manager.h:740</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a957b590c391c9dc0949cdaff8c94cf05"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a957b590c391c9dc0949cdaff8c94cf05">v8::internal::wasm::NativeModule::wire_bytes</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; wire_bytes() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00763">wasm-code-manager.h:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a969ac2536a1c63951c940e7f1552c323"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a969ac2536a1c63951c940e7f1552c323">v8::internal::wasm::NativeModule::~NativeModule</a></div><div class="ttdeci">~NativeModule()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02154">wasm-code-manager.cc:2154</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a96de8f1452ef286df5abc0ac17f07517"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a96de8f1452ef286df5abc0ac17f07517">v8::internal::wasm::NativeModule::debug_state_</a></div><div class="ttdeci">DebugState debug_state_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01137">wasm-code-manager.h:1137</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9772fe3f2a97d58b67bdb119ecccb1a4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9772fe3f2a97d58b67bdb119ecccb1a4">v8::internal::wasm::NativeModule::code_table_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode *[]&gt; code_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01116">wasm-code-manager.h:1116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9a1111455be88abe59c4e98636c15314"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9a1111455be88abe59c4e98636c15314">v8::internal::wasm::NativeModule::AddLazyCompilationTimeSample</a></div><div class="ttdeci">void AddLazyCompilationTimeSample(int64_t sample)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01988">wasm-code-manager.cc:1988</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9b24c8d07d1155bc7b7f7962cef5aaea"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9b24c8d07d1155bc7b7f7962cef5aaea">v8::internal::wasm::NativeModule::AddCodeWithCodeSpace</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode &gt; AddCodeWithCodeSpace(int index, const CodeDesc &amp;desc, int stack_slots, int ool_spill_count, uint32_t tagged_parameter_slots, base::Vector&lt; const uint8_t &gt; protected_instructions_data, base::Vector&lt; const uint8_t &gt; source_position_table, base::Vector&lt; const uint8_t &gt; inlining_positions, base::Vector&lt; const uint8_t &gt; deopt_data, WasmCode::Kind kind, ExecutionTier tier, ForDebugging for_debugging, bool frame_has_feedback_slot, base::Vector&lt; uint8_t &gt; code_space, const JumpTablesRef &amp;jump_tables_ref)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01320">wasm-code-manager.cc:1320</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_a9d54c7dc9c3d2729c81664ed3fa5172d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#a9d54c7dc9c3d2729c81664ed3fa5172d">v8::internal::wasm::NativeModule::CreateEmptyJumpTableLocked</a></div><div class="ttdeci">WasmCode * CreateEmptyJumpTableLocked(int jump_table_size, JumpTableType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01718">wasm-code-manager.cc:1718</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aafa35dbd8dcc12821a84cb56594ee2df"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aafa35dbd8dcc12821a84cb56594ee2df">v8::internal::wasm::NativeModule::UseLazyStubLocked</a></div><div class="ttdeci">void UseLazyStubLocked(uint32_t func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01237">wasm-code-manager.cc:1237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ab37173d38eb0a6e707f8636ea5519a8d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab37173d38eb0a6e707f8636ea5519a8d">v8::internal::wasm::NativeModule::AddCode</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode &gt; AddCode(int index, const CodeDesc &amp;desc, int stack_slots, int ool_spill_count, uint32_t tagged_parameter_slots, base::Vector&lt; const uint8_t &gt; protected_instructions, base::Vector&lt; const uint8_t &gt; source_position_table, base::Vector&lt; const uint8_t &gt; inlining_positions, base::Vector&lt; const uint8_t &gt; deopt_data, WasmCode::Kind kind, ExecutionTier tier, ForDebugging for_debugging)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01263">wasm-code-manager.cc:1263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ab8a1a00ef10cda726268c29b8bcedcda"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ab8a1a00ef10cda726268c29b8bcedcda">v8::internal::wasm::NativeModule::UpdateCodeSize</a></div><div class="ttdeci">void UpdateCodeSize(size_t, ExecutionTier, ForDebugging)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01782">wasm-code-manager.cc:1782</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_abc4f3edf1e0fcd8adc53f38952345aed"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abc4f3edf1e0fcd8adc53f38952345aed">v8::internal::wasm::NativeModule::AddCompiledCode</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT UnpublishedWasmCode AddCompiledCode(WasmCompilationResult &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02636">wasm-code-manager.cc:2636</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_abdeee50fefaf3f7666243cff1a13b3da"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#abdeee50fefaf3f7666243cff1a13b3da">v8::internal::wasm::NativeModule::AddCodeForTesting</a></div><div class="ttdeci">WasmCode * AddCodeForTesting(DirectHandle&lt; Code &gt; code, uint64_t signature_hash)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01081">wasm-code-manager.cc:1081</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac075badc36b3fdb58a4f15b9a3dd12c9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac075badc36b3fdb58a4f15b9a3dd12c9">v8::internal::wasm::NativeModule::CreateIndirectCallTargetToFunctionIndexMap</a></div><div class="ttdeci">CallIndirectTargetMap CreateIndirectCallTargetToFunctionIndexMap() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02114">wasm-code-manager.cc:2114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac3706216da596aa8cf7337b8182d5e75"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac3706216da596aa8cf7337b8182d5e75">v8::internal::wasm::NativeModule::GetNumberOfCodeSpacesForTesting</a></div><div class="ttdeci">size_t GetNumberOfCodeSpacesForTesting() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02841">wasm-code-manager.cc:2841</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac38f1b4fe42e19e644ec63dafe0cc450"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac38f1b4fe42e19e644ec63dafe0cc450">v8::internal::wasm::NativeModule::counters</a></div><div class="ttdeci">Counters * counters() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00890">wasm-code-manager.h:890</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac7e788f315225a2a75db5ecdba7f1da8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac7e788f315225a2a75db5ecdba7f1da8">v8::internal::wasm::NativeModule::InitializeCodePointerTableHandles</a></div><div class="ttdeci">void InitializeCodePointerTableHandles(uint32_t num_wasm_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01303">wasm-code-manager.cc:1303</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ac977ec4aaf9ab4a9c19776faeba24191"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ac977ec4aaf9ab4a9c19776faeba24191">v8::internal::wasm::NativeModule::num_declared_functions</a></div><div class="ttdeci">uint32_t num_declared_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00758">wasm-code-manager.h:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_acd3f32a91369d4cdb1e11b81b8f4d27f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#acd3f32a91369d4cdb1e11b81b8f4d27f">v8::internal::wasm::NativeModule::RemoveCompiledCode</a></div><div class="ttdeci">void RemoveCompiledCode(RemoveFilter filter)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02778">wasm-code-manager.cc:2778</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ad3b78decf5b6f968e1e563f3759515b5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad3b78decf5b6f968e1e563f3759515b5">v8::internal::wasm::NativeModule::SetDebugState</a></div><div class="ttdeci">void SetDebugState(DebugState)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02748">wasm-code-manager.cc:2748</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ad5d2cbe8a6fa3ebceb5d11d309fb38c8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ad5d2cbe8a6fa3ebceb5d11d309fb38c8">v8::internal::wasm::NativeModule::turbofan_code_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; turbofan_code_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01145">wasm-code-manager.h:1145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_adbdc70d6536478990345946c321af51e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adbdc70d6536478990345946c321af51e">v8::internal::wasm::NativeModule::tiering_budgets_</a></div><div class="ttdeci">std::unique_ptr&lt; std::atomic&lt; uint32_t &gt;[]&gt; tiering_budgets_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01089">wasm-code-manager.h:1089</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_adda8e2ac30083dec687f18bca0ab5364"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adda8e2ac30083dec687f18bca0ab5364">v8::internal::wasm::NativeModule::GetFunctionIndexFromJumpTableSlot</a></div><div class="ttdeci">uint32_t GetFunctionIndexFromJumpTableSlot(Address slot_address) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02097">wasm-code-manager.cc:2097</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599c">v8::internal::wasm::NativeModule::RemoveFilter</a></div><div class="ttdeci">RemoveFilter</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00853">wasm-code-manager.h:853</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca33cfac0f2f3fcd4f110550ece8698472">v8::internal::wasm::NativeModule::RemoveFilter::kRemoveDebugCode</a></div><div class="ttdeci">@ kRemoveDebugCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599ca69b3b2c8ba3f6cffe3967b55e0cb44fe">v8::internal::wasm::NativeModule::RemoveFilter::kRemoveTurbofanCode</a></div><div class="ttdeci">@ kRemoveTurbofanCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599cada482a20b84332aff73499e6174e6436"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599cada482a20b84332aff73499e6174e6436">v8::internal::wasm::NativeModule::RemoveFilter::kRemoveLiftoffCode</a></div><div class="ttdeci">@ kRemoveLiftoffCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_addb6002d53e166907484bf3715ff599caeb1f31c38f14cfa2fb295e63efdbdfbd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#addb6002d53e166907484bf3715ff599caeb1f31c38f14cfa2fb295e63efdbdfbd">v8::internal::wasm::NativeModule::RemoveFilter::kRemoveNonDebugCode</a></div><div class="ttdeci">@ kRemoveNonDebugCode</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_adfb76e34f35dc0075dfa6458491ebc59"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#adfb76e34f35dc0075dfa6458491ebc59">v8::internal::wasm::NativeModule::GetWasmSourceMap</a></div><div class="ttdeci">WasmModuleSourceMap * GetWasmSourceMap() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01714">wasm-code-manager.cc:1714</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae04709ff9dc0c24f62ccc498d14048bb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae04709ff9dc0c24f62ccc498d14048bb">v8::internal::wasm::NativeModule::PatchJumpTableLocked</a></div><div class="ttdeci">void PatchJumpTableLocked(WritableJumpTablePair &amp;jump_table_pair, const CodeSpaceData &amp;, uint32_t slot_index, Address target)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01815">wasm-code-manager.cc:1815</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae07d8be3c591174d7f19648d9615d929"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae07d8be3c591174d7f19648d9615d929">v8::internal::wasm::NativeModule::main_far_jump_table_</a></div><div class="ttdeci">WasmCode * main_far_jump_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01077">wasm-code-manager.h:1077</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae0bf556913299e7eba006b97843cb6ec"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae0bf556913299e7eba006b97843cb6ec">v8::internal::wasm::NativeModule::new_owned_code_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; WasmCode &gt; &gt; new_owned_code_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01110">wasm-code-manager.h:1110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae66433eec52661194dacaa6ded13bf6d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae66433eec52661194dacaa6ded13bf6d">v8::internal::wasm::NativeModule::SampleCodeSize</a></div><div class="ttdeci">void SampleCodeSize(Counters *) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02588">wasm-code-manager.cc:2588</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_ae9941bdd4ef6ffa3b896d196231cf8c5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#ae9941bdd4ef6ffa3b896d196231cf8c5">v8::internal::wasm::NativeModule::GetNamesProvider</a></div><div class="ttdeci">NamesProvider * GetNamesProvider()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02857">wasm-code-manager.cc:2857</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aee1bca8385445db4f32cb0b18d2f7539"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aee1bca8385445db4f32cb0b18d2f7539">v8::internal::wasm::NativeModule::AddCodeSpaceLocked</a></div><div class="ttdeci">void AddCodeSpaceLocked(base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01844">wasm-code-manager.cc:1844</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_aef6c06fd70d54f981aaccf59b8c8ec2f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#aef6c06fd70d54f981aaccf59b8c8ec2f">v8::internal::wasm::NativeModule::code_allocator_</a></div><div class="ttdeci">WasmCodeAllocator code_allocator_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01051">wasm-code-manager.h:1051</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_af7f35e6098885c81d9915c96d6b7cf9d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af7f35e6098885c81d9915c96d6b7cf9d">v8::internal::wasm::NativeModule::SetWasmSourceMap</a></div><div class="ttdeci">void SetWasmSourceMap(std::unique_ptr&lt; WasmModuleSourceMap &gt; source_map)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01709">wasm-code-manager.cc:1709</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_af886dc3d493824b7a1ae1e1f5ae02e42"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#af886dc3d493824b7a1ae1e1f5ae02e42">v8::internal::wasm::NativeModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00755">wasm-code-manager.h:755</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1NativeModule_html_afad6cb5c96183d22f6dea2a28a3c93e3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1NativeModule.html#afad6cb5c96183d22f6dea2a28a3c93e3">v8::internal::wasm::NativeModule::lazy_compile_table_</a></div><div class="ttdeci">WasmCode * lazy_compile_table_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01081">wasm-code-manager.h:1081</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html">v8::internal::wasm::TypeCanonicalizer</a></div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8h_source.html#l00049">canonical-types.h:49</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a1aa6c58339ee0dc3f42716472fc79fc8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1aa6c58339ee0dc3f42716472fc79fc8">v8::internal::wasm::WasmCodeAllocator::AllocateForCode</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; AllocateForCode(NativeModule *, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00824">wasm-code-manager.cc:824</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a1f54429c1b62a241eeb0426458b7d388"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a1f54429c1b62a241eeb0426458b7d388">v8::internal::wasm::WasmCodeAllocator::free_code_space_</a></div><div class="ttdeci">DisjointAllocationPool free_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00586">wasm-code-manager.h:586</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a24e7306c031d78f7744ca33ba091e0d9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a24e7306c031d78f7744ca33ba091e0d9">v8::internal::wasm::WasmCodeAllocator::AllocateForCodeInRegion</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; AllocateForCodeInRegion(NativeModule *, size_t size, base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00834">wasm-code-manager.cc:834</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a2aacac2f51bed124e8a0a167874cb698"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a2aacac2f51bed124e8a0a167874cb698">v8::internal::wasm::WasmCodeAllocator::generated_code_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; generated_code_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00597">wasm-code-manager.h:597</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a33d82e350396396c61facd7fec7180fd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a33d82e350396396c61facd7fec7180fd">v8::internal::wasm::WasmCodeAllocator::committed_code_space_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; committed_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00596">wasm-code-manager.h:596</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a347ce7c723cb2ec332cca5e5b15ed0b6"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a347ce7c723cb2ec332cca5e5b15ed0b6">v8::internal::wasm::WasmCodeAllocator::owned_code_space_</a></div><div class="ttdeci">std::vector&lt; VirtualMemory &gt; owned_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00591">wasm-code-manager.h:591</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a3a969b7f9241a75ec3b51dd31aacf3ad"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a3a969b7f9241a75ec3b51dd31aacf3ad">v8::internal::wasm::WasmCodeAllocator::freed_code_size</a></div><div class="ttdeci">size_t freed_code_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00554">wasm-code-manager.h:554</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a5d094d325d0686a0da62db1dd40c2688"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a5d094d325d0686a0da62db1dd40c2688">v8::internal::wasm::WasmCodeAllocator::GetNumCodeSpaces</a></div><div class="ttdeci">size_t GetNumCodeSpaces() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00959">wasm-code-manager.cc:959</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a761bcecaa44aafed04cd2b97cdf26c11"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a761bcecaa44aafed04cd2b97cdf26c11">v8::internal::wasm::WasmCodeAllocator::freed_code_size_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; freed_code_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00598">wasm-code-manager.h:598</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a9abc070754afe49eaea6f0d31a55da49"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9abc070754afe49eaea6f0d31a55da49">v8::internal::wasm::WasmCodeAllocator::~WasmCodeAllocator</a></div><div class="ttdeci">~WasmCodeAllocator()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00640">wasm-code-manager.cc:640</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_a9f5f12643315075f0a553f61c992fdb1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#a9f5f12643315075f0a553f61c992fdb1">v8::internal::wasm::WasmCodeAllocator::committed_code_space</a></div><div class="ttdeci">size_t committed_code_space() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00548">wasm-code-manager.h:548</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_aa289065d9ae1bb0c582cbbc494d37bdb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aa289065d9ae1bb0c582cbbc494d37bdb">v8::internal::wasm::WasmCodeAllocator::WasmCodeAllocator</a></div><div class="ttdeci">WasmCodeAllocator(std::shared_ptr&lt; Counters &gt; async_counters)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00635">wasm-code-manager.cc:635</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_aac5c374b4b033bd08bb50481fda354db"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#aac5c374b4b033bd08bb50481fda354db">v8::internal::wasm::WasmCodeAllocator::Init</a></div><div class="ttdeci">void Init(VirtualMemory code_space)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00645">wasm-code-manager.cc:645</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ab0e75298547c6a5e80fe8cd1e25a1742"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ab0e75298547c6a5e80fe8cd1e25a1742">v8::internal::wasm::WasmCodeAllocator::async_counters_</a></div><div class="ttdeci">std::shared_ptr&lt; Counters &gt; async_counters_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00600">wasm-code-manager.h:600</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ac228b5f49cf9bad916c9226c6e48e5a2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac228b5f49cf9bad916c9226c6e48e5a2">v8::internal::wasm::WasmCodeAllocator::generated_code_size</a></div><div class="ttdeci">size_t generated_code_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00551">wasm-code-manager.h:551</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ac2a529eb2d65d067fea506c7f10eb11d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ac2a529eb2d65d067fea506c7f10eb11d">v8::internal::wasm::WasmCodeAllocator::freed_code_space_</a></div><div class="ttdeci">DisjointAllocationPool freed_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00590">wasm-code-manager.h:590</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ae4803a09e4d6892714a7fd22fe31446e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae4803a09e4d6892714a7fd22fe31446e">v8::internal::wasm::WasmCodeAllocator::AllocateForWrapper</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; AllocateForWrapper(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00829">wasm-code-manager.cc:829</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_ae6d33802bb8ba17667cb1ae5b32e1aae"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#ae6d33802bb8ba17667cb1ae5b32e1aae">v8::internal::wasm::WasmCodeAllocator::FreeCode</a></div><div class="ttdeci">void FreeCode(base::Vector&lt; WasmCode *const &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00917">wasm-code-manager.cc:917</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeAllocator_html_af2b5295be5ab5f4b6371ab8dce603009"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator.html#af2b5295be5ab5f4b6371ab8dce603009">v8::internal::wasm::WasmCodeAllocator::InitializeCodeRange</a></div><div class="ttdeci">void InitializeCodeRange(NativeModule *native_module, base::AddressRegion region)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00804">wasm-code-manager.cc:804</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_html_a0ebfe32e04096d32c378226808d5a187"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#a0ebfe32e04096d32c378226808d5a187">v8::internal::wasm::WasmCodeLookupCache::GetCacheEntry</a></div><div class="ttdeci">CacheEntry * GetCacheEntry(Address pc)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03068">wasm-code-manager.cc:3068</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_html_a87b03e3d44c319942808f57285903399"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#a87b03e3d44c319942808f57285903399">v8::internal::wasm::WasmCodeLookupCache::cache_</a></div><div class="ttdeci">CacheEntry cache_[kWasmCodeLookupCacheSize]</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01318">wasm-code-manager.h:1318</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_html_adca325bae99c054c2b35b51bea069339"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#adca325bae99c054c2b35b51bea069339">v8::internal::wasm::WasmCodeLookupCache::Flush</a></div><div class="ttdeci">void Flush()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03063">wasm-code-manager.cc:3063</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_html_af3398d97c58d813e2e4750bd40caf788"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache.html#af3398d97c58d813e2e4750bd40caf788">v8::internal::wasm::WasmCodeLookupCache::kWasmCodeLookupCacheSize</a></div><div class="ttdeci">static const int kWasmCodeLookupCacheSize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01317">wasm-code-manager.h:1317</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a058cd97298c26c958e790365aa0153b9"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a058cd97298c26c958e790365aa0153b9">v8::internal::wasm::WasmCodeManager::next_code_space_hint_</a></div><div class="ttdeci">std::atomic&lt; Address &gt; next_code_space_hint_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01271">wasm-code-manager.h:1271</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a08c0531d703317ba61ae16c19a505f7a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a08c0531d703317ba61ae16c19a505f7a">v8::internal::wasm::WasmCodeManager::WasmCodeManager</a></div><div class="ttdeci">WasmCodeManager()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02179">wasm-code-manager.cc:2179</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a0fcb42a940eb11201694e507b09fa04c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a0fcb42a940eb11201694e507b09fa04c">v8::internal::wasm::WasmCodeManager::EstimateLiftoffCodeSize</a></div><div class="ttdeci">static size_t EstimateLiftoffCodeSize(int body_size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02380">wasm-code-manager.cc:2380</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a102c2c6b55ae7094aaac669c22150174"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a102c2c6b55ae7094aaac669c22150174">v8::internal::wasm::WasmCodeManager::max_committed_code_space_</a></div><div class="ttdeci">const size_t max_committed_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01246">wasm-code-manager.h:1246</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a1b32b6ad2137dab896d869457d0d21e7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a1b32b6ad2137dab896d869457d0d21e7">v8::internal::wasm::WasmCodeManager::Decommit</a></div><div class="ttdeci">void Decommit(base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02241">wasm-code-manager.cc:2241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a2241851e1074b022606031a831966b17"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a2241851e1074b022606031a831966b17">v8::internal::wasm::WasmCodeManager::MemoryProtectionKeyWritable</a></div><div class="ttdeci">static bool MemoryProtectionKeyWritable()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02479">wasm-code-manager.cc:2479</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a27ace0686f32545957a6b0948813db9a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a27ace0686f32545957a6b0948813db9a">v8::internal::wasm::WasmCodeManager::FreeNativeModule</a></div><div class="ttdeci">void FreeNativeModule(base::Vector&lt; VirtualMemory &gt; owned_code, size_t committed_size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02934">wasm-code-manager.cc:2934</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a282904997b2ddd09190c6b70245e1596"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a282904997b2ddd09190c6b70245e1596">v8::internal::wasm::WasmCodeManager::lookup_map_</a></div><div class="ttdeci">std::map&lt; Address, std::pair&lt; Address, NativeModule * &gt; &gt; lookup_map_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01260">wasm-code-manager.h:1260</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a329950b560b30699bd218b9622eedda7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a329950b560b30699bd218b9622eedda7">v8::internal::wasm::WasmCodeManager::EstimateNativeModuleMetaDataSize</a></div><div class="ttdeci">static size_t EstimateNativeModuleMetaDataSize(const WasmModule *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02441">wasm-code-manager.cc:2441</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a3efdc870dd21f075b3c408101c23feeb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a3efdc870dd21f075b3c408101c23feeb">v8::internal::wasm::WasmCodeManager::HasMemoryProtectionKeySupport</a></div><div class="ttdeci">static bool HasMemoryProtectionKeySupport()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02465">wasm-code-manager.cc:2465</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a4964601ddec44dd9566edc193900a11b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a4964601ddec44dd9566edc193900a11b">v8::internal::wasm::WasmCodeManager::native_modules_mutex_</a></div><div class="ttdeci">base::Mutex native_modules_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01255">wasm-code-manager.h:1255</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a5690c15d56eb42cffb868c23ac92f424"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5690c15d56eb42cffb868c23ac92f424">v8::internal::wasm::WasmCodeManager::critical_committed_code_space_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; critical_committed_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01253">wasm-code-manager.h:1253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a589a55d2b33354d07415b1a22cb00d89"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a589a55d2b33354d07415b1a22cb00d89">v8::internal::wasm::WasmCodeManager::LookupCodeAndSafepoint</a></div><div class="ttdeci">std::pair&lt; WasmCode *, SafepointEntry &gt; LookupCodeAndSafepoint(Isolate *isolate, Address pc)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02996">wasm-code-manager.cc:2996</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a5b6cfe5d63b1c5f3b54fdb34ed91c863"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a5b6cfe5d63b1c5f3b54fdb34ed91c863">v8::internal::wasm::WasmCodeManager::EstimateNativeModuleCodeSize</a></div><div class="ttdeci">static size_t EstimateNativeModuleCodeSize(const WasmModule *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02386">wasm-code-manager.cc:2386</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a65237f5b80dae7a92d86f131b6df4461"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a65237f5b80dae7a92d86f131b6df4461">v8::internal::wasm::WasmCodeManager::LookupNativeModule</a></div><div class="ttdeci">NativeModule * LookupNativeModule(Address pc) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02961">wasm-code-manager.cc:2961</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a7ed36ebeb931a4b5b5cd1097891d60c1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a7ed36ebeb931a4b5b5cd1097891d60c1">v8::internal::wasm::WasmCodeManager::TryAllocate</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT VirtualMemory TryAllocate(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02267">wasm-code-manager.cc:2267</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a8657534718f35b1a258f6e93d2ee07cd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8657534718f35b1a258f6e93d2ee07cd">v8::internal::wasm::WasmCodeManager::total_committed_code_space_</a></div><div class="ttdeci">std::atomic&lt; size_t &gt; total_committed_code_space_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01248">wasm-code-manager.h:1248</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a8b17776c8a4fe19718f2b1931544253f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8b17776c8a4fe19718f2b1931544253f">v8::internal::wasm::WasmCodeManager::LookupCode</a></div><div class="ttdeci">WasmCode * LookupCode(Isolate *isolate, Address pc) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02982">wasm-code-manager.cc:2982</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a8cbd92108ae1c153f66f40609aed5783"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a8cbd92108ae1c153f66f40609aed5783">v8::internal::wasm::WasmCodeManager::NewNativeModule</a></div><div class="ttdeci">std::shared_ptr&lt; NativeModule &gt; NewNativeModule(Isolate *isolate, WasmEnabledFeatures enabled_features, WasmDetectedFeatures detected_features, CompileTimeImports compile_imports, size_t code_size_estimate, std::shared_ptr&lt; const WasmModule &gt; module)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02487">wasm-code-manager.cc:2487</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_a930893209d531231682fce4cbef728ed"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#a930893209d531231682fce4cbef728ed">v8::internal::wasm::WasmCodeManager::MemoryProtectionKeysEnabled</a></div><div class="ttdeci">static bool MemoryProtectionKeysEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02474">wasm-code-manager.cc:2474</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_aa5c5ecc61ab174d77400fa3082e73537"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#aa5c5ecc61ab174d77400fa3082e73537">v8::internal::wasm::WasmCodeManager::FlushCodeLookupCache</a></div><div class="ttdeci">void FlushCodeLookupCache(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03025">wasm-code-manager.cc:3025</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_aaf8b899ee355da1fbb00c3471867d762"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#aaf8b899ee355da1fbb00c3471867d762">v8::internal::wasm::WasmCodeManager::AssignRange</a></div><div class="ttdeci">void AssignRange(base::AddressRegion, NativeModule *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02260">wasm-code-manager.cc:2260</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_ad4da2816276e107b3a3e54d32e08691a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#ad4da2816276e107b3a3e54d32e08691a">v8::internal::wasm::WasmCodeManager::Commit</a></div><div class="ttdeci">void Commit(base::AddressRegion)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02203">wasm-code-manager.cc:2203</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeManager_html_af407c29783d5ce7ad5d29928a54adca5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeManager.html#af407c29783d5ce7ad5d29928a54adca5">v8::internal::wasm::WasmCodeManager::~WasmCodeManager</a></div><div class="ttdeci">~WasmCodeManager()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02190">wasm-code-manager.cc:2190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html">v8::internal::wasm::WasmCodePointerTable</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table_8h_source.html#l00065">wasm-code-pointer-table.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_a65f15597b54747d33d9d892912b1c5f4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#a65f15597b54747d33d9d892912b1c5f4">v8::internal::wasm::WasmCodePointerTable::FreeEntry</a></div><div class="ttdeci">void FreeEntry(WasmCodePointer index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00196">wasm-code-pointer-table-inl.h:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_ab4376a858eb1237ab620dca61294d690"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ab4376a858eb1237ab620dca61294d690">v8::internal::wasm::WasmCodePointerTable::SetEntrypointWithWriteScope</a></div><div class="ttdeci">void SetEntrypointWithWriteScope(WasmCodePointer index, Address value, uint64_t signature_hash, WriteScope &amp;write_scope)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00089">wasm-code-pointer-table-inl.h:89</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_ad5e11c7f8d574045296d9d8c07f928f8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ad5e11c7f8d574045296d9d8c07f928f8">v8::internal::wasm::WasmCodePointerTable::AllocateUninitializedEntry</a></div><div class="ttdeci">WasmCodePointer AllocateUninitializedEntry()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00115">wasm-code-pointer-table-inl.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_ae052cc798b9dd1e4970a6cdbcb2adb05"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#ae052cc798b9dd1e4970a6cdbcb2adb05">v8::internal::wasm::WasmCodePointerTable::SetEntrypointAndSignature</a></div><div class="ttdeci">void SetEntrypointAndSignature(WasmCodePointer index, Address value, uint64_t signature_hash)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table-inl_8h_source.html#l00082">wasm-code-pointer-table-inl.h:82</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html">v8::internal::wasm::WasmCodeRefScope</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01277">wasm-code-manager.h:1277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_a9148e3cdeac9e7f3d97d518fa66f722c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#a9148e3cdeac9e7f3d97d518fa66f722c">v8::internal::wasm::WasmCodeRefScope::AddRef</a></div><div class="ttdeci">static void AddRef(WasmCode *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03045">wasm-code-manager.cc:3045</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_ab3bc479100dcf0b03b840a2151a736e1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ab3bc479100dcf0b03b840a2151a736e1">v8::internal::wasm::WasmCodeRefScope::WasmCodeRefScope</a></div><div class="ttdeci">WasmCodeRefScope()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03033">wasm-code-manager.cc:3033</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_ac17ed50735600a0e688e4e3568208d98"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ac17ed50735600a0e688e4e3568208d98">v8::internal::wasm::WasmCodeRefScope::code_ptrs_</a></div><div class="ttdeci">std::vector&lt; WasmCode * &gt; code_ptrs_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01294">wasm-code-manager.h:1294</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_ad0e87f38bf9d5b8078a9dde00e91df5d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ad0e87f38bf9d5b8078a9dde00e91df5d">v8::internal::wasm::WasmCodeRefScope::AddRefIfNotDying</a></div><div class="ttdeci">static WasmCode * AddRefIfNotDying(WasmCode *code)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03054">wasm-code-manager.cc:3054</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_ae2470a2428b3b295c040652e3bcdb5ac"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#ae2470a2428b3b295c040652e3bcdb5ac">v8::internal::wasm::WasmCodeRefScope::previous_scope_</a></div><div class="ttdeci">WasmCodeRefScope *const previous_scope_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01293">wasm-code-manager.h:1293</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodeRefScope_html_af76812fa3508419520afef1ec8b67a7a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodeRefScope.html#af76812fa3508419520afef1ec8b67a7a">v8::internal::wasm::WasmCodeRefScope::~WasmCodeRefScope</a></div><div class="ttdeci">~WasmCodeRefScope()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03038">wasm-code-manager.cc:3038</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html">v8::internal::wasm::WasmCode</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00091">wasm-code-manager.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a004f698a68dbe3e468abbf2873ed5379"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a004f698a68dbe3e468abbf2873ed5379">v8::internal::wasm::WasmCode::DecRefOnLiveCode</a></div><div class="ttdeci">void DecRefOnLiveCode()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00321">wasm-code-manager.h:321</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a00b1dcdef3ccb74cb5ab7a1574a229db"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00b1dcdef3ccb74cb5ab7a1574a229db">v8::internal::wasm::WasmCode::unpadded_binary_size_</a></div><div class="ttdeci">const int unpadded_binary_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00489">wasm-code-manager.h:489</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a00c5b3d34913272e9ce1cacfe05d4d33"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a00c5b3d34913272e9ce1cacfe05d4d33">v8::internal::wasm::WasmCode::handler_table</a></div><div class="ttdeci">Address handler_table() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00184">wasm-code-manager.cc:184</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0665c8539d19ce1d73de15e50a308ed0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0665c8539d19ce1d73de15e50a308ed0">v8::internal::wasm::WasmCode::GetInliningPosition</a></div><div class="ttdeci">std::tuple&lt; int, bool, SourcePosition &gt; GetInliningPosition(int inlining_id) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00610">wasm-code-manager.cc:610</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0d55fcf378e16413e74e88d7d102ee15"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0d55fcf378e16413e74e88d7d102ee15">v8::internal::wasm::WasmCode::instruction_start</a></div><div class="ttdeci">Address instruction_start() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00175">wasm-code-manager.h:175</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0f94a461ae1a32a2931d6cec086860e2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0f94a461ae1a32a2931d6cec086860e2">v8::internal::wasm::WasmCode::MaybePrint</a></div><div class="ttdeci">void MaybePrint() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00417">wasm-code-manager.cc:417</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a0fd2c078c0b8a5e5d2dfa2c253c58676"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a0fd2c078c0b8a5e5d2dfa2c253c58676">v8::internal::wasm::WasmCode::Print</a></div><div class="ttdeci">void Print(const char *name=nullptr) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00431">wasm-code-manager.cc:431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a135625ac865b7b381136e919e5e7c2bd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a135625ac865b7b381136e919e5e7c2bd">v8::internal::wasm::WasmCode::tier</a></div><div class="ttdeci">ExecutionTier tier() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00201">wasm-code-manager.h:201</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a1951335f26c2a59efcd6997ad28b6157"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1951335f26c2a59efcd6997ad28b6157">v8::internal::wasm::WasmCode::IsProtectedInstruction</a></div><div class="ttdeci">bool IsProtectedInstruction(Address pc)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00336">wasm-code-manager.cc:336</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a1d2da649ba5481413d60df187ba7099b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a1d2da649ba5481413d60df187ba7099b">v8::internal::wasm::WasmCode::instructions</a></div><div class="ttdeci">base::Vector&lt; uint8_t &gt; instructions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00171">wasm-code-manager.h:171</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04d">v8::internal::wasm::WasmCode::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00093">wasm-code-manager.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da45f1a70311368f7019a39332304561b1">v8::internal::wasm::WasmCode::kWasmFunction</a></div><div class="ttdeci">@ kWasmFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00094">wasm-code-manager.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da806ef6ecaaea44fafa40934e34fceef5">v8::internal::wasm::WasmCode::kWasmToCapiWrapper</a></div><div class="ttdeci">@ kWasmToCapiWrapper</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00095">wasm-code-manager.h:95</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04da95ce5c1324b114f4905ca3eb8e68c730">v8::internal::wasm::WasmCode::kJumpTable</a></div><div class="ttdeci">@ kJumpTable</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00101">wasm-code-manager.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a236d413616e672cc2cda31bb7a4fc04daef214dac33aaad4bde9322f48d8cc3e4">v8::internal::wasm::WasmCode::kWasmToJsWrapper</a></div><div class="ttdeci">@ kWasmToJsWrapper</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00096">wasm-code-manager.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a2e0f179aa20f7d266cdacf147f0ec197"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a2e0f179aa20f7d266cdacf147f0ec197">v8::internal::wasm::WasmCode::instructions_size_</a></div><div class="ttdeci">const int instructions_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00469">wasm-code-manager.h:469</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a309bc6c5680169670f74f25abc9ad0e2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a309bc6c5680169670f74f25abc9ad0e2">v8::internal::wasm::WasmCode::DebugName</a></div><div class="ttdeci">std::string DebugName() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00252">wasm-code-manager.cc:252</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a32f7fa403d3e185b54917d99e2eabcce"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a32f7fa403d3e185b54917d99e2eabcce">v8::internal::wasm::WasmCode::inlining_positions</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; inlining_positions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00188">wasm-code-manager.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a386c227a312b191a1ca69739acf33738"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a386c227a312b191a1ca69739acf33738">v8::internal::wasm::WasmCode::inlining_positions_size_</a></div><div class="ttdeci">const int inlining_positions_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00472">wasm-code-manager.h:472</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a3949626343ca943835f2666afb49bc8d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3949626343ca943835f2666afb49bc8d">v8::internal::wasm::WasmCode::has_trap_handler_index</a></div><div class="ttdeci">bool has_trap_handler_index() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00449">wasm-code-manager.h:449</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a3a11a518d68f998f4a5528729f7176cd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3a11a518d68f998f4a5528729f7176cd">v8::internal::wasm::WasmCode::constant_pool_offset_</a></div><div class="ttdeci">const int constant_pool_offset_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00476">wasm-code-manager.h:476</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a3cbd9324fef84e70f82e91a9d27b9f9d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a3cbd9324fef84e70f82e91a9d27b9f9d">v8::internal::wasm::WasmCode::jump_table_info_offset_</a></div><div class="ttdeci">const int jump_table_info_offset_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00488">wasm-code-manager.h:488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a41fcec1a1b74c208fe92d705c51f2a81"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a41fcec1a1b74c208fe92d705c51f2a81">v8::internal::wasm::WasmCode::index</a></div><div class="ttdeci">int index() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00196">wasm-code-manager.h:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a42a79bd135c2fe3f5aec43a4a39d2cb1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a42a79bd135c2fe3f5aec43a4a39d2cb1">v8::internal::wasm::WasmCode::~WasmCode</a></div><div class="ttdeci">~WasmCode()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00565">wasm-code-manager.cc:565</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a483b81a9f93ffb4d219666f1eaaa3208"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a483b81a9f93ffb4d219666f1eaaa3208">v8::internal::wasm::WasmCode::DecRefOnPotentiallyDeadCode</a></div><div class="ttdeci">V8_NOINLINE void DecRefOnPotentiallyDeadCode()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00571">wasm-code-manager.cc:571</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a57a770b1b395975c299e3085f56832f1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a57a770b1b395975c299e3085f56832f1">v8::internal::wasm::WasmCode::index_</a></div><div class="ttdeci">const int index_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00475">wasm-code-manager.h:475</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a5a78bb078a03d73444b991c277dd6194"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a5a78bb078a03d73444b991c277dd6194">v8::internal::wasm::WasmCode::handler_table_size</a></div><div class="ttdeci">int handler_table_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00188">wasm-code-manager.cc:188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a5c0becdae6dc49bd39d8ccbc70a5ef6c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a5c0becdae6dc49bd39d8ccbc70a5ef6c">v8::internal::wasm::WasmCode::reloc_info_size_</a></div><div class="ttdeci">const int reloc_info_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00470">wasm-code-manager.h:470</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a66d0c4639314b66374cb48c77554412a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a66d0c4639314b66374cb48c77554412a">v8::internal::wasm::WasmCode::set_trap_handler_index</a></div><div class="ttdeci">void set_trap_handler_index(int value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00445">wasm-code-manager.h:445</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a6742ae1aea4468605362a555fa721db7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a6742ae1aea4468605362a555fa721db7">v8::internal::wasm::WasmCode::trap_handler_index</a></div><div class="ttdeci">int trap_handler_index() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00441">wasm-code-manager.h:441</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a67fc73055bd53a21c7fd76f8c9bb93c3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a67fc73055bd53a21c7fd76f8c9bb93c3">v8::internal::wasm::WasmCode::Disassemble</a></div><div class="ttdeci">void Disassemble(const char *name, std::ostream &amp;os, Address current_pc=kNullAddress) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00444">wasm-code-manager.cc:444</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a6910da2417b70818812344b655448b54"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a6910da2417b70818812344b655448b54">v8::internal::wasm::WasmCode::RegisterTrapHandlerData</a></div><div class="ttdeci">void RegisterTrapHandlerData()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00226">wasm-code-manager.cc:226</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a71f3169681cc2e1c7c6d86205eedd8f0"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a71f3169681cc2e1c7c6d86205eedd8f0">v8::internal::wasm::WasmCode::handler_table_offset_</a></div><div class="ttdeci">const int handler_table_offset_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00486">wasm-code-manager.h:486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a7bb0d24a8ffd1a42cf31359bf02c22af"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7bb0d24a8ffd1a42cf31359bf02c22af">v8::internal::wasm::WasmCode::deopt_data</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; deopt_data() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00192">wasm-code-manager.h:192</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a7cc22a87e48816ef3eae72130ffac2cb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a7cc22a87e48816ef3eae72130ffac2cb">v8::internal::wasm::WasmCode::native_module</a></div><div class="ttdeci">NativeModule * native_module() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00200">wasm-code-manager.h:200</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a83923f2a11512b3696758051fdf9c890"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a83923f2a11512b3696758051fdf9c890">v8::internal::wasm::WasmCode::protected_instructions</a></div><div class="ttdeci">base::Vector&lt; const trap_handler::ProtectedInstructionData &gt; protected_instructions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00248">wasm-code-manager.h:248</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a8457a62709deef003163c655a448f756"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8457a62709deef003163c655a448f756">v8::internal::wasm::WasmCode::Validate</a></div><div class="ttdeci">void Validate() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00345">wasm-code-manager.cc:345</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a86612599c4a49e5ff328d3fd108ed267"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a86612599c4a49e5ff328d3fd108ed267">v8::internal::wasm::WasmCode::contains</a></div><div class="ttdeci">bool contains(Address pc) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00233">wasm-code-manager.h:233</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a8812eaf47c0af7737451c411dd2f15f1"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8812eaf47c0af7737451c411dd2f15f1">v8::internal::wasm::WasmCode::LogCode</a></div><div class="ttdeci">void LogCode(Isolate *isolate, const char *source_url, int script_id) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00286">wasm-code-manager.cc:286</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a8bd3de600f8533f15759f5770993cb34"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a8bd3de600f8533f15759f5770993cb34">v8::internal::wasm::WasmCode::is_liftoff</a></div><div class="ttdeci">bool is_liftoff() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00229">wasm-code-manager.h:229</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a901ca7733b4237c0741a672018cac9a5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a901ca7733b4237c0741a672018cac9a5">v8::internal::wasm::WasmCode::deopt_data_size_</a></div><div class="ttdeci">const int deopt_data_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00473">wasm-code-manager.h:473</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a91b7232f81a543b7f02c0349bedd8198"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a91b7232f81a543b7f02c0349bedd8198">v8::internal::wasm::WasmCode::jump_table_info_size</a></div><div class="ttdeci">int jump_table_info_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00206">wasm-code-manager.cc:206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a9e613d2e2b4efb89259f7e209d0911c2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9e613d2e2b4efb89259f7e209d0911c2">v8::internal::wasm::WasmCode::IsAnonymous</a></div><div class="ttdeci">bool IsAnonymous() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00198">wasm-code-manager.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_a9fabcc878ce99f267448f3a1566cef60"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#a9fabcc878ce99f267448f3a1566cef60">v8::internal::wasm::WasmCode::protected_instructions_size_</a></div><div class="ttdeci">const int protected_instructions_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00474">wasm-code-manager.h:474</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_aa28996c5cbe5173fdf91835423281487"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa28996c5cbe5173fdf91835423281487">v8::internal::wasm::WasmCode::GetSourcePositionBefore</a></div><div class="ttdeci">SourcePosition GetSourcePositionBefore(int code_offset)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00596">wasm-code-manager.cc:596</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_aa76c67e880dd4df744a2d9754e912fb8"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aa76c67e880dd4df744a2d9754e912fb8">v8::internal::wasm::WasmCode::safepoint_table_offset_</a></div><div class="ttdeci">const int safepoint_table_offset_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00485">wasm-code-manager.h:485</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_aabc336382e10df3a5f7c37ba95d15799"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aabc336382e10df3a5f7c37ba95d15799">v8::internal::wasm::WasmCode::DecrementRefCount</a></div><div class="ttdeci">static void DecrementRefCount(base::Vector&lt; WasmCode *const &gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00576">wasm-code-manager.cc:576</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ab29eeae2aaa993948c6cde3c8f05ddad"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ab29eeae2aaa993948c6cde3c8f05ddad">v8::internal::wasm::WasmCode::refcount</a></div><div class="ttdeci">static uint32_t refcount(uint32_t bit_field_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00367">wasm-code-manager.h:367</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_abfd3f79e7b7f51a7278a55530165f428"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#abfd3f79e7b7f51a7278a55530165f428">v8::internal::wasm::WasmCode::code_comments_offset_</a></div><div class="ttdeci">const int code_comments_offset_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00487">wasm-code-manager.h:487</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ac2265f4016946fd6cebc80a33de464e3"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2265f4016946fd6cebc80a33de464e3">v8::internal::wasm::WasmCode::WasmCode</a></div><div class="ttdeci">WasmCode(const WasmCode &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ac2ce5bb6b20806e0bbaab449f7d9a7f2"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac2ce5bb6b20806e0bbaab449f7d9a7f2">v8::internal::wasm::WasmCode::native_module_</a></div><div class="ttdeci">NativeModule *const native_module_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00459">wasm-code-manager.h:459</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ac92fbbfae3b4073dd57a49cd6a3d7c85"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ac92fbbfae3b4073dd57a49cd6a3d7c85">v8::internal::wasm::WasmCode::for_debugging</a></div><div class="ttdeci">ForDebugging for_debugging() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00357">wasm-code-manager.h:357</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_acb261693fa04ffc206a9289658201454"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acb261693fa04ffc206a9289658201454">v8::internal::wasm::WasmCode::ShouldBeLogged</a></div><div class="ttdeci">static bool ShouldBeLogged(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00245">wasm-code-manager.cc:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_acbb10aa1640d3e9bfaeac3d22a4d15f7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acbb10aa1640d3e9bfaeac3d22a4d15f7">v8::internal::wasm::WasmCode::EstimateCurrentMemoryConsumption</a></div><div class="ttdeci">size_t EstimateCurrentMemoryConsumption() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00625">wasm-code-manager.cc:625</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_acd1f6ec1feca2ba6c7b62388741b679a"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd1f6ec1feca2ba6c7b62388741b679a">v8::internal::wasm::WasmCode::source_positions</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; source_positions() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00185">wasm-code-manager.h:185</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_acd35922706de8e53f6636e2ffee15c47"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd35922706de8e53f6636e2ffee15c47">v8::internal::wasm::WasmCode::GetSourceOffsetBefore</a></div><div class="ttdeci">int GetSourceOffsetBefore(int code_offset)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00606">wasm-code-manager.cc:606</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_acd615bd514aca362158ac348d2da9eca"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#acd615bd514aca362158ac348d2da9eca">v8::internal::wasm::WasmCode::jump_table_info</a></div><div class="ttdeci">Address jump_table_info() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00202">wasm-code-manager.cc:202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ad4b585ddf940fd04fdd01001c2bd1d9f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad4b585ddf940fd04fdd01001c2bd1d9f">v8::internal::wasm::WasmCode::source_positions_size_</a></div><div class="ttdeci">const int source_positions_size_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00471">wasm-code-manager.h:471</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ad8a26bf968040e704a34b3d572ba7d3f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8a26bf968040e704a34b3d572ba7d3f">v8::internal::wasm::WasmCode::kind</a></div><div class="ttdeci">Kind kind() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00199">wasm-code-manager.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ad8fe73eecc8f962c5a2d2172c9c54454"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ad8fe73eecc8f962c5a2d2172c9c54454">v8::internal::wasm::WasmCode::code_comments</a></div><div class="ttdeci">Address code_comments() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00193">wasm-code-manager.cc:193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ae5c7ff530922890428304da450da5460"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ae5c7ff530922890428304da450da5460">v8::internal::wasm::WasmCode::ConcatenateBytes</a></div><div class="ttdeci">std::unique_ptr&lt; const uint8_t[]&gt; ConcatenateBytes(std::initializer_list&lt; base::Vector&lt; const uint8_t &gt;&gt;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00211">wasm-code-manager.cc:211</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_ae626a585fa560ca29921df489d63f35f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#ae626a585fa560ca29921df489d63f35f">v8::internal::wasm::WasmCode::code_comments_size</a></div><div class="ttdeci">int code_comments_size() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00197">wasm-code-manager.cc:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_aec3d947bda334f5e27cf71c49674b10d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#aec3d947bda334f5e27cf71c49674b10d">v8::internal::wasm::WasmCode::constant_pool</a></div><div class="ttdeci">Address constant_pool() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00175">wasm-code-manager.cc:175</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCode_html_af483aa8e46a841f74c33d9c904ead58c"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCode.html#af483aa8e46a841f74c33d9c904ead58c">v8::internal::wasm::WasmCode::reloc_info</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; reloc_info() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00181">wasm-code-manager.h:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmDeoptView_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmDeoptView.html">v8::internal::wasm::WasmDeoptView</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00046">wasm-deopt-data.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmDeoptView_html_a3c11270aa822311187eb5b594d11d389"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmDeoptView.html#a3c11270aa822311187eb5b594d11d389">v8::internal::wasm::WasmDeoptView::GetDeoptData</a></div><div class="ttdeci">const WasmDeoptData &amp; GetDeoptData() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00059">wasm-deopt-data.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmDeoptView_html_a47c97d84e8183f29fdd51be5b63c392b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmDeoptView.html#a47c97d84e8183f29fdd51be5b63c392b">v8::internal::wasm::WasmDeoptView::GetDeoptEntry</a></div><div class="ttdeci">WasmDeoptEntry GetDeoptEntry(uint32_t deopt_index) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00070">wasm-deopt-data.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures.html">v8::internal::wasm::WasmDetectedFeatures</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00088">wasm-features.h:88</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures.html">v8::internal::wasm::WasmEnabledFeatures</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00055">wasm-features.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a32e34a8169c3a723824780c6ac126654"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a32e34a8169c3a723824780c6ac126654">v8::internal::wasm::WasmEngine::PrintCurrentMemoryConsumptionEstimate</a></div><div class="ttdeci">void PrintCurrentMemoryConsumptionEstimate() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02063">wasm-engine.cc:2063</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a34ff6a2da3d8ef3b85ad087cc4316ebe"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a34ff6a2da3d8ef3b85ad087cc4316ebe">v8::internal::wasm::WasmEngine::DeadCodeMap</a></div><div class="ttdeci">std::unordered_map&lt; NativeModule *, std::vector&lt; WasmCode * &gt; &gt; DeadCodeMap</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8h_source.html#l00380">wasm-engine.h:380</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a6ad160f95280e9e5005ea39a3f1cb65b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a6ad160f95280e9e5005ea39a3f1cb65b">v8::internal::wasm::WasmEngine::AddPotentiallyDeadCode</a></div><div class="ttdeci">void AddPotentiallyDeadCode(WasmCode *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l01820">wasm-engine.cc:1820</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a7205b4150830ce82a81d687f9f0765af"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a7205b4150830ce82a81d687f9f0765af">v8::internal::wasm::WasmEngine::FreeDeadCode</a></div><div class="ttdeci">void FreeDeadCode(const DeadCodeMap &amp;, std::vector&lt; WasmCode * &gt; &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l01872">wasm-engine.cc:1872</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aaf9cd2000af17e8d1f3ebbb9d4cd7c09"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aaf9cd2000af17e8d1f3ebbb9d4cd7c09">v8::internal::wasm::WasmEngine::FreeNativeModule</a></div><div class="ttdeci">void FreeNativeModule(NativeModule *)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l01691">wasm-engine.cc:1691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_ab84991e9216741ff8c932c1a64d5aced"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#ab84991e9216741ff8c932c1a64d5aced">v8::internal::wasm::WasmEngine::FlushLiftoffCode</a></div><div class="ttdeci">void FlushLiftoffCode()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l01090">wasm-engine.cc:1090</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_html_a14ee1f266c89689eb799afe5f843dc41"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache.html#a14ee1f266c89689eb799afe5f843dc41">v8::internal::wasm::WasmImportWrapperCache::Lookup</a></div><div class="ttdeci">WasmCode * Lookup(Address pc) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-import-wrapper-cache_8cc_source.html#l00407">wasm-import-wrapper-cache.cc:407</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmModuleSourceMap.html">v8::internal::wasm::WasmModuleSourceMap</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module-sourcemap_8h_source.html#l00038">wasm-module-sourcemap.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WellKnownImportsList_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html">v8::internal::wasm::WellKnownImportsList</a></div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8h_source.html#l00119">well-known-imports.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WellKnownImportsList_html_ac04c98fc419332403e4f6a49a06efd9e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ac04c98fc419332403e4f6a49a06efd9e">v8::internal::wasm::WellKnownImportsList::get</a></div><div class="ttdeci">WellKnownImport get(int index) const</div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8h_source.html#l00144">well-known-imports.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WellKnownImportsList_html_ad1d42dd019b4556bceb6911f5314d6e5"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5">v8::internal::wasm::WellKnownImportsList::UpdateResult</a></div><div class="ttdeci">UpdateResult</div><div class="ttdef"><b>Definition:</b> <a href="well-known-imports_8h_source.html#l00121">well-known-imports.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WellKnownImportsList_html_ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WellKnownImportsList.html#ad1d42dd019b4556bceb6911f5314d6e5a645a35f6c5fc6147785da45d7e871648">v8::internal::wasm::WellKnownImportsList::UpdateResult::kFoundIncompatibility</a></div><div class="ttdeci">@ kFoundIncompatibility</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html">v8::internal::wasm::WireBytesRef</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00060">wasm-module.h:60</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesRef_html_a45fb66d092f08cdf54005a1ebdfbd901"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesRef.html#a45fb66d092f08cdf54005a1ebdfbd901">v8::internal::wasm::WireBytesRef::is_empty</a></div><div class="ttdeci">bool is_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00072">wasm-module.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WireBytesStorage_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WireBytesStorage.html">v8::internal::wasm::WireBytesStorage</a></div><div class="ttdef"><b>Definition:</b> <a href="compilation-environment_8h_source.html#l00086">compilation-environment.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00964">wasm-code-manager.cc:964</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html_a04aa94c2be83219603985acf3a735bbe"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a04aa94c2be83219603985acf3a735bbe">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter::out_</a></div><div class="ttdeci">std::ostream &amp; out_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00982">wasm-code-manager.cc:982</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html_a33618ed2d13cae106c54a6adef6a3c7d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a33618ed2d13cae106c54a6adef6a3c7d">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter::AddLine</a></div><div class="ttdeci">void AddLine(const char *src, size_t length, uint32_t bytecode_offset) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00972">wasm-code-manager.cc:972</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html_a3a49710673327e3866fbf6850eaefc70"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a3a49710673327e3866fbf6850eaefc70">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter::GetLineCount</a></div><div class="ttdeci">uint32_t GetLineCount() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00979">wasm-code-manager.cc:979</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html_a668e9f1e9cdc4497f193c5084ce6a70f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#a668e9f1e9cdc4497f193c5084ce6a70f">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter::offsets_map_</a></div><div class="ttdeci">std::map&lt; uint32_t, uint32_t &gt; &amp; offsets_map_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00983">wasm-code-manager.cc:983</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html_ac363e78882e1ca36c8626fdb8c5f92dd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#ac363e78882e1ca36c8626fdb8c5f92dd">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter::CoverageFileWriter</a></div><div class="ttdeci">CoverageFileWriter(std::ostream &amp;out, std::map&lt; uint32_t, uint32_t &gt; &amp;bytecode_disasm_offsets)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00966">wasm-code-manager.cc:966</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter_html_aff71b296312ecabdaf8d7359b4825c7b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1CoverageFileWriter.html#aff71b296312ecabdaf8d7359b4825c7b">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::CoverageFileWriter::ReserveLineCount</a></div><div class="ttdeci">void ReserveLineCount(size_t count) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00970">wasm-code-manager.cc:970</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NativeModuleWireBytesStorage</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01955">wasm-code-manager.cc:1955</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage_html_a12920b791910499b4eb4f83df949a18d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#a12920b791910499b4eb4f83df949a18d">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NativeModuleWireBytesStorage::wire_bytes_</a></div><div class="ttdeci">const std::shared_ptr&lt; base::OwnedVector&lt; const uint8_t &gt; &gt; wire_bytes_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01973">wasm-code-manager.cc:1973</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage_html_a89636375c6954ab2be469386acd27d35"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#a89636375c6954ab2be469386acd27d35">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NativeModuleWireBytesStorage::GetCode</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; GetCode(WireBytesRef ref) const final</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01961">wasm-code-manager.cc:1961</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage_html_aa28338779845c52886bb995b0d232191"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#aa28338779845c52886bb995b0d232191">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NativeModuleWireBytesStorage::GetModuleBytes</a></div><div class="ttdeci">std::optional&lt; ModuleWireBytes &gt; GetModuleBytes() const final</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01967">wasm-code-manager.cc:1967</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage_html_ab6fba9c8a045c27425774748a11eeb2e"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_1_1NativeModuleWireBytesStorage.html#ab6fba9c8a045c27425774748a11eeb2e">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NativeModuleWireBytesStorage::NativeModuleWireBytesStorage</a></div><div class="ttdeci">NativeModuleWireBytesStorage(std::shared_ptr&lt; base::OwnedVector&lt; const uint8_t &gt;&gt; wire_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01957">wasm-code-manager.cc:1957</a></div></div>
<div class="ttc" id="acode-events_8h_html_ad6ec92ea4475dc9e407f0963df52df64"><div class="ttname"><a href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a></div><div class="ttdeci">#define PROFILE(the_isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="code-events_8h_source.html#l00059">code-events.h:59</a></div></div>
<div class="ttc" id="acode-memory-access_8h_html"><div class="ttname"><a href="code-memory-access_8h.html">code-memory-access.h</a></div></div>
<div class="ttc" id="acode-space-access_8h_html"><div class="ttname"><a href="code-space-access_8h.html">code-space-access.h</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a66ec6fa51a5427d80ac1b27a3b4f38d2"><div class="ttname"><a href="common_2globals_8h.html#a66ec6fa51a5427d80ac1b27a3b4f38d2">V8_EMBEDDED_CONSTANT_POOL_BOOL</a></div><div class="ttdeci">#define V8_EMBEDDED_CONSTANT_POOL_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00083">globals.h:83</a></div></div>
<div class="ttc" id="acompilation-environment_8h_html"><div class="ttname"><a href="compilation-environment_8h.html">compilation-environment.h</a></div></div>
<div class="ttc" id="acounters_8h_html"><div class="ttname"><a href="counters_8h.html">counters.h</a></div></div>
<div class="ttc" id="adeoptimizer_8h_html"><div class="ttname"><a href="deoptimizer_8h.html">deoptimizer.h</a></div></div>
<div class="ttc" id="adisassembler_8h_html"><div class="ttname"><a href="disassembler_8h.html">disassembler.h</a></div></div>
<div class="ttc" id="aembedded-data-inl_8h_html"><div class="ttname"><a href="embedded-data-inl_8h.html">embedded-data-inl.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a878783ad616ead06040f7d4b080f6a02"><div class="ttname"><a href="flag-definitions_8h.html#a878783ad616ead06040f7d4b080f6a02">tier</a></div><div class="ttdeci">=any, 0==ignition/interpreter, 1==sparkplug/baseline, &quot; &quot;2==maglev, 3==turbofan&quot;) DEFINE_MAYBE_BOOL(efficiency_mode, &quot;Forces efficiency mode on or off, disregarding any dynamic &quot; &quot;signals. Efficiency mode is optimized for situations with &quot; &quot;no latency requirements and uses fewer threads.&quot;) DEFINE_MAYBE_BOOL( battery_saver_mode, &quot;Forces battery saver mode on or off, disregarding any dynamic signals. &quot; &quot;Battery saver tries to conserve overall cpu cycles spent.&quot;) DEFINE_MAYBE_BOOL( memory_saver_mode, &quot;Forces memory saver mode on or off, disregarding any dynamic signals. &quot; &quot;Memory saver tries to keep memory footprint low at the expense of extra &quot; &quot;cpu cycles.&quot;) DEFINE_BOOL(efficiency_mode_for_tiering_heuristics, true, &quot;Use efficiency mode in tiering heuristics.&quot;) DEFINE_BOOL(efficiency_mode_disable_turbofan, false, &quot;Defer tier-up to turbofan while in efficiency mode.&quot;) DEFINE_INT(efficiency_mode_delay_turbofan, 15000, &quot;Delay tier-up to turbofan to a certain invocation count while in &quot; &quot;efficiency mode.&quot;) DEFINE_STRING( wasm_trace_native, nullptr, &quot;Select which native code sequence to use for wasm trace instruction:&quot; &quot;default or cpuid&quot;) #define V8_JITLESS_BOOL DEFINE_BOOL(jitless, V8_LITE_MODE_BOOL, &quot;Disable runtime allocation of executable memory.&quot;) DEFINE_BOOL( disable_optimizing_compilers, false, &quot;Disable all optimizing compilers while leaving baseline compilers enabled&quot;) DEFINE_BOOL(memory_protection_keys, true, &quot;protect code memory with PKU if available&quot;) DEFINE_BOOL(force_memory_protection_keys, false, &quot;fail if memory protection key support is not available&quot;) DEFINE_BOOL(assert_types, false, &quot;generate runtime type assertions to test the typer&quot;) DEFINE_EXPERIMENTAL_FEATURE( turboshaft_assert_types, &quot;generate runtime type assertions to test the turboshaft type system&quot;) DEFINE_BOOL(verify_simplified_lowering, false, &quot;verify graph generated by simplified lowering&quot;) #define V8_ALLOCATION_SITE_TRACKING_BOOL DEFINE_BOOL_READONLY(allocation_site_tracking, V8_ALLOCATION_SITE_TRACKING_BOOL, &quot;Enable allocation site tracking&quot;) DEFINE_NEG_NEG_IMPLICATION(allocation_site_tracking, allocation_site_pretenuring) DEFINE_BOOL(allocation_site_pretenuring, true, &quot;pretenure with allocation sites&quot;) DEFINE_INT(page_promotion_threshold, 70, &quot;min percentage of live bytes on a page to enable fast evacuation &quot; &quot;in full GCs&quot;) DEFINE_INT(minor_ms_page_promotion_threshold, 50, &quot;min percentage of live bytes on a page to enable fast evacuation &quot; &quot;in MinorMS&quot;) DEFINE_INT(minor_ms_page_promotion_max_lab_threshold, 30, &quot;max percentage of labs out of a page to still be considered for &quot; &quot;page promotion&quot;) DEFINE_UINT(minor_ms_max_page_age, 4, &quot;max age for a page after which it is force promoted to old space&quot;) DEFINE_BOOL(trace_pretenuring, false, &quot;trace pretenuring decisions of HAllocate instructions&quot;) DEFINE_BOOL(trace_pretenuring_statistics, false, &quot;trace allocation site pretenuring statistics&quot;) DEFINE_BOOL(trace_block_coverage, false, &quot;trace collected block coverage information&quot;) DEFINE_BOOL(trace_protector_invalidation, false, &quot;trace protector cell invalidations&quot;) DEFINE_BOOL(decommit_pooled_pages, true, &quot;decommit, rather than discard pooled pages&quot;) DEFINE_BOOL( zero_unused_memory, true, &quot;Zero unused memory(except for memory which was discarded) on memory &quot; &quot;reducing GCs.&quot;) DEFINE_BOOL_READONLY(minor_ms_shortcut_strings, false, &quot;short cut strings during marking&quot;) DEFINE_EXPERIMENTAL_FEATURE(feedback_normalization, &quot;feed back normalization to constructors&quot;) DEFINE_BOOL_READONLY(internalize_on_the_fly, true, &quot;internalize string keys for generic keyed ICs on the fly&quot;) DEFINE_INT(invocation_count_for_feedback_allocation, 8, &quot;invocation count required for allocating feedback vectors&quot;) DEFINE_INT(invocation_count_for_maglev, 400, &quot;invocation count required for optimizing with Maglev&quot;) DEFINE_INT(invocation_count_for_maglev_osr, 100, &quot;invocation count required for maglev OSR&quot;) DEFINE_BOOL(osr_from_maglev, false, &quot;whether we try to OSR to Turbofan from OSR 'd Maglev&quot;) DEFINE_FLOAT( osr_from_maglev_interrupt_scale_factor, 0.8, &quot;Scale interrupt budget reduction for OSR from Maglev vs. OSR to Maglev&quot;) DEFINE_BOOL(always_osr_from_maglev, false, &quot;whether we try to OSR to Turbofan from any Maglev&quot;) DEFINE_INT(invocation_count_for_turbofan, 3000, &quot;invocation count required for optimizing with TurboFan&quot;) DEFINE_INT(osr_to_tierup, 1, &quot;number to decrease the invocation budget by when we follow OSR&quot;) DEFINE_INT(minimum_invocations_after_ic_update, 500, &quot;How long to minimally wait after IC update before tier up&quot;) DEFINE_INT(minimum_invocations_before_optimization, 2, &quot;Minimum number of invocations we need before non-OSR optimization&quot;) DEFINE_BOOL(jit_fuzzing, false, &quot;Set JIT tiering thresholds suitable for JIT fuzzing&quot;) DEFINE_BOOL(use_std_math_pow, true, &quot;use std::pow instead of our custom implementation&quot;) DEFINE_BOOL(ignition_elide_noneffectful_bytecodes, true, &quot;elide bytecodes which won 't have any external effect&quot;) DEFINE_BOOL(ignition_filter_expression_positions, true, &quot;filter expression positions before the bytecode pipeline&quot;) DEFINE_BOOL(ignition_share_named_property_feedback, true, &quot;share feedback slots when loading the same named property from &quot; &quot;the same object&quot;) DEFINE_BOOL(ignition_elide_redundant_tdz_checks, true, &quot;elide TDZ checks dominated by other TDZ checks&quot;) DEFINE_BOOL(print_bytecode, false, &quot;print bytecode generated by ignition interpreter&quot;) DEFINE_BOOL(enable_lazy_source_positions, V8_LAZY_SOURCE_POSITIONS_BOOL, &quot;skip generating source positions during initial compile but &quot; &quot;regenerate when actually required&quot;) DEFINE_BOOL(stress_lazy_source_positions, false, &quot;collect lazy source positions immediately after lazy compile&quot;) DEFINE_STRING(print_bytecode_filter, &quot; *&quot;, &quot;filter for selecting which functions to print bytecode&quot;) DEFINE_BOOL(trace_ignition_codegen, false, &quot;trace the codegen of ignition interpreter bytecode handlers&quot;) DEFINE_STRING( trace_ignition_dispatches_output_file, nullptr, &quot;write the bytecode handler dispatch table to the specified file(d8 only) &quot; &quot;(requires building with v8_enable_ignition_dispatch_counting)&quot;) DEFINE_BOOL(trace_track_allocation_sites, false, &quot;trace the tracking of allocation sites&quot;) #define FLAG DEFINE_BOOL(sparkplug, ENABLE_SPARKPLUG_BY_DEFAULT, &quot;enable Sparkplug baseline compiler&quot;) DEFINE_BOOL_READONLY(concurrent_sparkplug, false, &quot;compile Sparkplug code in a background thread&quot;) DEFINE_BOOL(sparkplug_needs_short_builtins, false, &quot;only enable Sparkplug baseline compiler when &quot; &quot;--short-builtin-calls are also enabled&quot;) DEFINE_INT(baseline_batch_compilation_threshold, 4 * KB, &quot;the estimated instruction size of a batch to trigger compilation&quot;) DEFINE_BOOL(trace_baseline_batch_compilation, false, &quot;trace baseline batch compilation&quot;) #define FLAG DEFINE_BOOL_READONLY(always_use_string_forwarding_table, false, &quot;use string forwarding table instead of thin strings for &quot; &quot;all strings(experimental)&quot;) DEFINE_BOOL(transition_strings_during_gc_with_stack, false, &quot;Transition strings during a full GC with stack&quot;) DEFINE_SIZE_T(initial_shared_heap_size, 0, &quot;initial size of the shared heap(in Mbytes) tier</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00792">flag-definitions.h:1174</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="afunction-compiler_8h_html"><div class="ttname"><a href="function-compiler_8h.html">function-compiler.h</a></div></div>
<div class="ttc" id="aiterator_8h_html"><div class="ttname"><a href="iterator_8h.html">iterator.h</a></div></div>
<div class="ttc" id="ajump-table-assembler_8h_html"><div class="ttname"><a href="jump-table-assembler_8h.html">jump-table-assembler.h</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="alog_8h_html_a2136964700ae2b6a19ce954e7848210b"><div class="ttname"><a href="log_8h.html#a2136964700ae2b6a19ce954e7848210b">LOG_CODE_EVENT</a></div><div class="ttdeci">#define LOG_CODE_EVENT(isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00083">log.h:83</a></div></div>
<div class="ttc" id="amacro-assembler-inl_8h_html"><div class="ttname"><a href="macro-assembler-inl_8h.html">macro-assembler-inl.h</a></div></div>
<div class="ttc" id="amacro-assembler_8h_html"><div class="ttname"><a href="macro-assembler_8h.html">macro-assembler.h</a></div></div>
<div class="ttc" id="amodule-compiler_8h_html"><div class="ttname"><a href="module-compiler_8h.html">module-compiler.h</a></div></div>
<div class="ttc" id="anames-provider_8h_html"><div class="ttname"><a href="names-provider_8h.html">names-provider.h</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_af9eb752b538fa8a66badab8f26e0e000"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#af9eb752b538fa8a66badab8f26e0e000">v8::base::bits::IsPowerOfTwo</a></div><div class="ttdeci">constexpr bool IsPowerOfTwo(T value) requires(std</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00187">bits.h:187</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a36caaf43a3f7761ae90d699b961f0239"><div class="ttname"><a href="namespacev8_1_1base.html#a36caaf43a3f7761ae90d699b961f0239">v8::base::SNPrintF</a></div><div class="ttdeci">int SNPrintF(Vector&lt; char &gt; str, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="strings_8cc_source.html#l00020">strings.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37e52a3ff896151e764c958c98c66436"><div class="ttname"><a href="namespacev8_1_1base.html#a37e52a3ff896151e764c958c98c66436">v8::base::RecursiveMutexGuard</a></div><div class="ttdeci">LockGuard&lt; RecursiveMutex &gt; RecursiveMutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00220">mutex.h:220</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a576345f40485ddc3e105508023924217"><div class="ttname"><a href="namespacev8_1_1base.html#a576345f40485ddc3e105508023924217">v8::base::AddressRegionOf</a></div><div class="ttdeci">AddressRegion AddressRegionOf(T *ptr, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="address-region_8h_source.html#l00075">address-region.h:75</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7364bf7dcb822d07f7380aeff8d2a77b"><div class="ttname"><a href="namespacev8_1_1base.html#a7364bf7dcb822d07f7380aeff8d2a77b">v8::base::Reversed</a></div><div class="ttdeci">auto Reversed(T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="iterator_8h_source.html#l00102">iterator.h:102</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae8575343c68d7ad91cf7aaf24cd6643f"><div class="ttname"><a href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">v8::base::sort</a></div><div class="ttdeci">void sort(C &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00111">container-utils.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af618ed7682968ef3b68fdf4db5b67809"><div class="ttname"><a href="namespacev8_1_1base.html#af618ed7682968ef3b68fdf4db5b67809">v8::base::OwnedCopyOf</a></div><div class="ttdeci">OwnedVector&lt; T &gt; OwnedCopyOf(const T *data, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00382">vector.h:382</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ac87a38a165cbd7423796063beb48dfe2a0580084be6562b9c6ce678acf564177b"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ac87a38a165cbd7423796063beb48dfe2a0580084be6562b9c6ce678acf564177b">v8::internal::compiler::kWasmFunction</a></div><div class="ttdeci">@ kWasmFunction</div><div class="ttdef"><b>Definition:</b> <a href="wasm-compiler-definitions_8h_source.html#l00096">wasm-compiler-definitions.h:96</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ae72af9053b45630a01be9a6140820b5a"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">v8::internal::compiler::begin</a></div><div class="ttdeci">Node::Uses::const_iterator begin(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00708">node.h:708</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1libvtune_html_a85908a2ac6abdcec9ee9c4f7e51e795f"><div class="ttname"><a href="namespacev8_1_1internal_1_1libvtune.html#a85908a2ac6abdcec9ee9c4f7e51e795f">v8::internal::libvtune::split</a></div><div class="ttdeci">void split(const std::string &amp;str, char delimiter, std::vector&lt; std::string &gt; *vparams)</div><div class="ttdef"><b>Definition:</b> <a href="vtunedomain-support-extension_8cc_source.html#l00025">vtunedomain-support-extension.cc:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1torque_1_1ls_html_afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8"><div class="ttname"><a href="namespacev8_1_1internal_1_1torque_1_1ls.html#afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8">v8::internal::torque::ls::kFunction</a></div><div class="ttdeci">@ kFunction</div><div class="ttdef"><b>Definition:</b> <a href="message_8h_source.html#l00300">message.h:300</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_a6212dc14540b8761e5f9d7d46ac445ec"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#a6212dc14540b8761e5f9d7d46ac445ec">v8::internal::trap_handler::ReleaseHandlerData</a></div><div class="ttdeci">void ReleaseHandlerData(int index)</div><div class="ttdoc">Removes the data from the master list and frees any memory, if necessary.</div><div class="ttdef"><b>Definition:</b> <a href="handler-outside_8cc_source.html#l00208">handler-outside.cc:208</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1trap__handler_html_aaf9f89c4e04dbc3dd11d0994f585144e"><div class="ttname"><a href="namespacev8_1_1internal_1_1trap__handler.html#aaf9f89c4e04dbc3dd11d0994f585144e">v8::internal::trap_handler::RegisterHandlerData</a></div><div class="ttdeci">int RegisterHandlerData(uintptr_t base, size_t size, size_t num_protected_instructions, const ProtectedInstructionData *protected_instructions)</div><div class="ttdoc">Adds the handler data to the place where the trap handler will find it.</div><div class="ttdef"><b>Definition:</b> <a href="handler-outside_8cc_source.html#l00132">handler-outside.cc:132</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a08e0030ca5b0ab15720168dafe9c5c0d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a08e0030ca5b0ab15720168dafe9c5c0d">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ProtectedInstructionDataCompare</a></div><div class="ttdeci">bool ProtectedInstructionDataCompare(const ProtectedInstructionData &amp;left, const ProtectedInstructionData &amp;right)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00330">wasm-code-manager.cc:330</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a20eca43d1fce6cfb2a372f61af3c754f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a20eca43d1fce6cfb2a372f61af3c754f">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::NumWasmFunctionsInFarJumpTable</a></div><div class="ttdeci">int NumWasmFunctionsInFarJumpTable(uint32_t num_declared_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00697">wasm-code-manager.cc:697</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a2badb95b32597d70458151d3b6a474ad"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a2badb95b32597d70458151d3b6a474ad">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ToAllocationType</a></div><div class="ttdeci">ThreadIsolation::JitAllocationType ToAllocationType(v8::internal::wasm::NativeModule::JumpTableType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01726">wasm-code-manager.cc:1726</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a4a8acae24d59564ce8ce9890d59852ee"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a4a8acae24d59564ce8ce9890d59852ee">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ReservationSizeForWrappers</a></div><div class="ttdeci">size_t ReservationSizeForWrappers(size_t needed_size, size_t total_reserved_so_far)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00772">wasm-code-manager.cc:772</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a6b9409414ed9e23ba58f7fd48c6f7937"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a6b9409414ed9e23ba58f7fd48c6f7937">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::SplitRangeByReservationsIfNeeded</a></div><div class="ttdeci">base::SmallVector&lt; base::AddressRegion, 1 &gt; SplitRangeByReservationsIfNeeded(base::AddressRegion range, const std::vector&lt; VirtualMemory &gt; &amp;owned_code_space)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00669">wasm-code-manager.cc:669</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a8461a4bc3623a7968bca9f25f17474f3"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a8461a4bc3623a7968bca9f25f17474f3">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kUnrestrictedRegion</a></div><div class="ttdeci">constexpr base::AddressRegion kUnrestrictedRegion</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00799">wasm-code-manager.cc:799</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_a93d8640192430c5aa311574383d61852"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#a93d8640192430c5aa311574383d61852">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kTurbofanFunctionOverhead</a></div><div class="ttdeci">constexpr size_t kTurbofanFunctionOverhead</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02372">wasm-code-manager.cc:2372</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_aae00925142424a92d32f60d97f20a0f7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aae00925142424a92d32f60d97f20a0f7">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::current_code_refs_scope</a></div><div class="ttdeci">thread_local WasmCodeRefScope * current_code_refs_scope</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l03030">wasm-code-manager.cc:3030</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_aaf0913fdb4fd2cac1a727020988a3cc8"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aaf0913fdb4fd2cac1a727020988a3cc8">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::OverheadPerCodeSpace</a></div><div class="ttdeci">size_t OverheadPerCodeSpace(uint32_t num_declared_functions)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00705">wasm-code-manager.cc:705</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_ac6aa19bf8c4fd80552e4c824e68487e7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ac6aa19bf8c4fd80552e4c824e68487e7">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kTurbofanCodeSizeMultiplier</a></div><div class="ttdeci">constexpr size_t kTurbofanCodeSizeMultiplier</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02373">wasm-code-manager.cc:2373</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_acc4a1ad690326b2dec4450f288512cd0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#acc4a1ad690326b2dec4450f288512cd0">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ShouldRemoveCode</a></div><div class="ttdeci">bool ShouldRemoveCode(WasmCode *code, NativeModule::RemoveFilter filter)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02757">wasm-code-manager.cc:2757</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_ad801d53720b44441bc58d091080c84ff"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ad801d53720b44441bc58d091080c84ff">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kNeedsToSplitRangeByReservations</a></div><div class="ttdeci">constexpr bool kNeedsToSplitRangeByReservations</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00666">wasm-code-manager.cc:666</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_ae77bb61bd9be7313c88b369cec892fe4"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#ae77bb61bd9be7313c88b369cec892fe4">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kLiftoffCodeSizeMultiplier</a></div><div class="ttdeci">constexpr size_t kLiftoffCodeSizeMultiplier</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02375">wasm-code-manager.cc:2375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_aec9c68fab0e549d2a7e8c7c55f76508f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#aec9c68fab0e549d2a7e8c7c55f76508f">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::kLiftoffFunctionOverhead</a></div><div class="ttdeci">constexpr size_t kLiftoffFunctionOverhead</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l02374">wasm-code-manager.cc:2374</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_html_af740a9a06db337429beba5125b64f657"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03.html#af740a9a06db337429beba5125b64f657">v8::internal::wasm::anonymous_namespace{wasm-code-manager.cc}::ReservationSizeForWasmCode</a></div><div class="ttdeci">size_t ReservationSizeForWasmCode(size_t needed_size, int num_declared_functions, size_t total_reserved_so_far)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00730">wasm-code-manager.cc:730</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5b">v8::internal::wasm::ForDebugging</a></div><div class="ttdeci">ForDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00046">wasm-tier.h:46</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba1874820c42ab45140e0e50e44f8e96d5">v8::internal::wasm::kNotForDebugging</a></div><div class="ttdeci">@ kNotForDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00047">wasm-tier.h:47</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5ba43d94925083957d680eef3a3987e0de0">v8::internal::wasm::kForDebugging</a></div><div class="ttdeci">@ kForDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00048">wasm-tier.h:48</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5badca2ce91f5a20ba7013f50c59576421e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5badca2ce91f5a20ba7013f50c59576421e">v8::internal::wasm::kForStepping</a></div><div class="ttdeci">@ kForStepping</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00051">wasm-tier.h:50</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a11df36d2f23b22c6772f3a5f08731b5bafb5f23c032f3e99631bbc881807faac5">v8::internal::wasm::kWithBreakpoints</a></div><div class="ttdeci">@ kWithBreakpoints</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00049">wasm-tier.h:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a1bb1a5429ae3d1ec380de1b5da81238f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a1bb1a5429ae3d1ec380de1b5da81238f">v8::internal::wasm::kAnonymousFuncIndex</a></div><div class="ttdeci">constexpr int kAnonymousFuncIndex</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00189">wasm-constants.h:189</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a25f59e94501ad0ce6680be236623cc3c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3c">v8::internal::wasm::DebugState</a></div><div class="ttdeci">DebugState</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00053">wasm-tier.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a25f59e94501ad0ce6680be236623cc3ca53bd2a5ccb174a582cc08c5894ad825d">v8::internal::wasm::kDebugging</a></div><div class="ttdeci">@ kDebugging</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00053">wasm-tier.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a274a3a31f85691b7918199e835fa91c9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a274a3a31f85691b7918199e835fa91c9">v8::internal::wasm::name</a></div><div class="ttdeci">constexpr const char * name(ValueKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01195">value-type.h:1195</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a36345041662f17bb39d27709c1cb78ac"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a36345041662f17bb39d27709c1cb78ac">v8::internal::wasm::GetWasmImportWrapperCache</a></div><div class="ttdeci">WasmImportWrapperCache * GetWasmImportWrapperCache()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02135">wasm-engine.cc:2135</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0">v8::internal::wasm::kWasmOrigin</a></div><div class="ttdeci">@ kWasmOrigin</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00125">wasm-module.h:125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a55a717894f5d005ae86062dd4647a3b2"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a55a717894f5d005ae86062dd4647a3b2">v8::internal::wasm::GetWasmCodeManager</a></div><div class="ttdeci">WasmCodeManager * GetWasmCodeManager()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02130">wasm-engine.cc:2130</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6a8744656191d24bad76f9c6562d9fdb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6a8744656191d24bad76f9c6562d9fdb">v8::internal::wasm::JumpTableOffset</a></div><div class="ttdeci">int JumpTableOffset(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00843">wasm-module.cc:843</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a705cc48582d146ceda18f8e7c337c4c2"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a705cc48582d146ceda18f8e7c337c4c2">v8::internal::wasm::Disassemble</a></div><div class="ttdeci">void Disassemble(const WasmModule *module, ModuleWireBytes wire_bytes, NamesProvider *names, v8::debug::DisassemblyCollector *collector, std::vector&lt; int &gt; *function_body_offsets)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-disassembler_8cc_source.html#l00023">wasm-disassembler.cc:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9">v8::internal::wasm::ExecutionTier</a></div><div class="ttdeci">ExecutionTier</div><div class="ttdef"><b>Definition:</b> <a href="wasm-tier_8h_source.html#l00019">wasm-tier.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a35c3ace1970663a16e5c65baa5941b13">v8::internal::wasm::ExecutionTier::kNone</a></div><div class="ttdeci">@ kNone</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a3a4891ee13d971db79eeae3a6d61d151">v8::internal::wasm::ExecutionTier::kLiftoff</a></div><div class="ttdeci">@ kLiftoff</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a74094ea879a0bfb89fbc40b97dd862b9a6065beb5ecfe687530b3359a2b39ec31">v8::internal::wasm::ExecutionTier::kTurbofan</a></div><div class="ttdeci">@ kTurbofan</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7d41c6d12091165e18a14f58ae8b1b91"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7d41c6d12091165e18a14f58ae8b1b91">v8::internal::wasm::kInvalidWasmCodePointer</a></div><div class="ttdeci">constexpr WasmCodePointer kInvalidWasmCodePointer</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00088">wasm-code-manager.h:88</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7d4fcae80d23d6a3fd336b7ed70eee1e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7d4fcae80d23d6a3fd336b7ed70eee1e">v8::internal::wasm::GetWasmCodeKindAsString</a></div><div class="ttdeci">const char * GetWasmCodeKindAsString(WasmCode::Kind kind)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00547">wasm-code-manager.cc:547</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aa122591443234c1d0b597dadc9d55c5e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aa122591443234c1d0b597dadc9d55c5e">v8::internal::wasm::ContentSize</a></div><div class="ttdeci">size_t ContentSize(const std::vector&lt; T &gt; &amp;vector)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00028">std-object-sizes.h:28</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab2ab774cdc5dfa0fea419719c89815f6"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab2ab774cdc5dfa0fea419719c89815f6">v8::internal::wasm::DumpProfileToFile</a></div><div class="ttdeci">void DumpProfileToFile(const WasmModule *module, base::Vector&lt; const uint8_t &gt; wire_bytes, std::atomic&lt; uint32_t &gt; *tiering_budget_array)</div><div class="ttdef"><b>Definition:</b> <a href="pgo_8cc_source.html#l00196">pgo.cc:196</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abd9cf6cdda997dfabf862a6048202195"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abd9cf6cdda997dfabf862a6048202195">v8::internal::wasm::declared_function_index</a></div><div class="ttdeci">int declared_function_index(const WasmModule *module, int func_index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l01076">wasm-module.h:1076</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac5c325f4f80fa26ae7e7bd8fa6caed93"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac5c325f4f80fa26ae7e7bd8fa6caed93">v8::internal::wasm::GetCodeKind</a></div><div class="ttdeci">WasmCode::Kind GetCodeKind(const WasmCompilationResult &amp;result)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l01470">wasm-code-manager.cc:1470</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adbb89ce490c56aae60c8221f47b9f088"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable</a></div><div class="ttdeci">V8_EXPORT_PRIVATE WasmCodePointerTable * GetProcessWideWasmCodePointerTable()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_af945328e16ca1b7c2a5d2baf50ca445c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">v8::internal::wasm::kV8MaxWasmFunctionParams</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmFunctionParams</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00053">wasm-limits.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1win64__unwindinfo_html_a2409db5c20b55125a1f38d2eecf2341b"><div class="ttname"><a href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2409db5c20b55125a1f38d2eecf2341b">v8::internal::win64_unwindinfo::RegisterNonABICompliantCodeRange</a></div><div class="ttdeci">void RegisterNonABICompliantCodeRange(void *start, size_t size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="unwinding-info-win64_8cc_source.html#l00525">unwinding-info-win64.cc:525</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1win64__unwindinfo_html_a2af86e498cb6c3f31bc898c6b40d287e"><div class="ttname"><a href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a2af86e498cb6c3f31bc898c6b40d287e">v8::internal::win64_unwindinfo::CanRegisterUnwindInfoForNonABICompliantCodeRange</a></div><div class="ttdeci">bool CanRegisterUnwindInfoForNonABICompliantCodeRange()</div><div class="ttdef"><b>Definition:</b> <a href="unwinding-info-win64_8cc_source.html#l00030">unwinding-info-win64.cc:30</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1win64__unwindinfo_html_a70f996f40a6b9c963c47bb920970d841"><div class="ttname"><a href="namespacev8_1_1internal_1_1win64__unwindinfo.html#a70f996f40a6b9c963c47bb920970d841">v8::internal::win64_unwindinfo::UnregisterNonABICompliantCodeRange</a></div><div class="ttdeci">void UnregisterNonABICompliantCodeRange(void *start)</div><div class="ttdef"><b>Definition:</b> <a href="unwinding-info-win64_8cc_source.html#l00575">unwinding-info-win64.cc:575</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0b20b06fc0f215d9b9eac890977a53e7"><div class="ttname"><a href="namespacev8_1_1internal.html#a0b20b06fc0f215d9b9eac890977a53e7">v8::internal::SetPermissions</a></div><div class="ttdeci">bool SetPermissions(v8::PageAllocator *page_allocator, void *address, size_t size, PageAllocator::Permission access)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00201">allocation.cc:201</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a191fd08d000c1fc6a1c0d14655f1b711"><div class="ttname"><a href="namespacev8_1_1internal.html#a191fd08d000c1fc6a1c0d14655f1b711">v8::internal::kInt64Size</a></div><div class="ttdeci">constexpr int kInt64Size</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00403">globals.h:403</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1b38d6a01927e639b91b6a039899ac1a"><div class="ttname"><a href="namespacev8_1_1internal.html#a1b38d6a01927e639b91b6a039899ac1a">v8::internal::GetPlatformPageAllocator</a></div><div class="ttdeci">v8::PageAllocator * GetPlatformPageAllocator()</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00067">allocation.cc:67</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a30661f3a2dec8d729f69a1f576fd0309">v8::internal::above</a></div><div class="ttdeci">@ above</div><div class="ttdef"><b>Definition:</b> <a href="assembler-ia32_8h_source.html#l00066">assembler-ia32.h:66</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a38474d965f18ce81888bd0d4c904ee6c">v8::internal::below</a></div><div class="ttdeci">@ below</div><div class="ttdef"><b>Definition:</b> <a href="assembler-ia32_8h_source.html#l00061">assembler-ia32.h:61</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4ae783a89fc65122f5edc866f1209176"><div class="ttname"><a href="namespacev8_1_1internal.html#a4ae783a89fc65122f5edc866f1209176">v8::internal::FlushInstructionCache</a></div><div class="ttdeci">void FlushInstructionCache(void *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="flush-instruction-cache_8cc_source.html#l00014">flush-instruction-cache.cc:14</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a52434390901f205f6bdb0402a183aef3"><div class="ttname"><a href="namespacev8_1_1internal.html#a52434390901f205f6bdb0402a183aef3">v8::internal::kCodeAlignment</a></div><div class="ttdeci">constexpr intptr_t kCodeAlignment</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00958">globals.h:958</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a55676947d895fd4cdd273e53dff16694"><div class="ttname"><a href="namespacev8_1_1internal.html#a55676947d895fd4cdd273e53dff16694">v8::internal::kDefaultMaxWasmCodeSpaceSizeMb</a></div><div class="ttdeci">constexpr uint32_t kDefaultMaxWasmCodeSpaceSizeMb</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00453">globals.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604a6dd52477843a9531577e32877ca5"><div class="ttname"><a href="namespacev8_1_1internal.html#a604a6dd52477843a9531577e32877ca5">v8::internal::GetRandomMmapAddr</a></div><div class="ttdeci">void * GetRandomMmapAddr()</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00161">allocation.cc:161</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6a5f128ae031000011e13ca7534dfc91"><div class="ttname"><a href="namespacev8_1_1internal.html#a6a5f128ae031000011e13ca7534dfc91">v8::internal::CommitPageSize</a></div><div class="ttdeci">size_t CommitPageSize()</div><div class="ttdef"><b>Definition:</b> <a href="utils_2allocation_8cc_source.html#l00159">allocation.cc:159</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a72cbfdfeabb9a401f279f7b80bcff67a"><div class="ttname"><a href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">v8::internal::kSystemPointerSize</a></div><div class="ttdeci">constexpr int kSystemPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00411">globals.h:411</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a93b2e7c72fa0878021b495b6f3cec820"><div class="ttname"><a href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">v8::internal::KB</a></div><div class="ttdeci">constexpr int KB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00055">v8-internal.h:55</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390"><div class="ttname"><a href="namespacev8_1_1internal.html#abef7e063903876c844c905764b46b438acb3ba39651f2444a7fff95297d974390">v8::internal::SKIP_ICACHE_FLUSH</a></div><div class="ttdeci">@ SKIP_ICACHE_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00025">reloc-info.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acc2e164143496f18b5ec68f8ab70af52"><div class="ttname"><a href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52">v8::internal::Builtin</a></div><div class="ttdeci">Builtin</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00050">builtins.h:50</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88"><div class="ttname"><a href="namespacev8_1_1internal.html#acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88">v8::internal::Builtin::kNoBuiltinId</a></div><div class="ttdeci">@ kNoBuiltinId</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="js-disposable-stack-inl_8h_source.html#l00034">js-disposable-stack-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af46551c5713d2a3a1be4dca973e521e0"><div class="ttname"><a href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">v8::internal::MB</a></div><div class="ttdeci">constexpr int MB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00056">v8-internal.h:56</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afb7e5cd394b9632dddc2e7807b11b2ab"><div class="ttname"><a href="namespacev8_1_1internal.html#afb7e5cd394b9632dddc2e7807b11b2ab">v8::internal::script</a></div><div class="ttdeci">kInterpreterTrampolineOffset script</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afc0fca463c2a3badf70e62abe7b61771"><div class="ttname"><a href="namespacev8_1_1internal.html#afc0fca463c2a3badf70e62abe7b61771">v8::internal::ComputeAddressHash</a></div><div class="ttdeci">uint32_t ComputeAddressHash(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00310">utils.h:310</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b"><div class="ttname"><a href="namespacev8.html#ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b">v8::MemoryPressureLevel::kCritical</a></div><div class="ttdeci">@ kCritical</div></div>
<div class="ttc" id="anamespacewasm_html"><div class="ttname"><a href="namespacewasm.html">wasm</a></div><div class="ttdef"><b>Definition:</b> <a href="c-api_8cc_source.html#l00087">c-api.cc:87</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="aostreams_8h_html"><div class="ttname"><a href="ostreams_8h.html">ostreams.h</a></div></div>
<div class="ttc" id="apgo_8h_html"><div class="ttname"><a href="pgo_8h.html">pgo.h</a></div></div>
<div class="ttc" id="asmall-vector_8h_html"><div class="ttname"><a href="small-vector_8h.html">small-vector.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a1c7c9b7f14b9a33ea69cbe4578016a19"><div class="ttname"><a href="src_2base_2logging_8h.html#a1c7c9b7f14b9a33ea69cbe4578016a19">CHECK_GE</a></div><div class="ttdeci">#define CHECK_GE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a9154b181227e4b02e465befe50219158"><div class="ttname"><a href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a></div><div class="ttdeci">#define CHECK_NOT_NULL(val)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html"><div class="ttname"><a href="src_2base_2macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00387">macros.h:387</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_aa0de4a420e74c8df8076fc2aaf4af27a"><div class="ttname"><a href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a></div><div class="ttdeci">constexpr T RoundDown(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00371">macros.h:371</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab7a19c1f785f31f2b190afc19875368a"><div class="ttname"><a href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a></div><div class="ttdeci">constexpr bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00403">macros.h:403</a></div></div>
<div class="ttc" id="asrc_2base_2platform_2platform_8h_html"><div class="ttname"><a href="src_2base_2platform_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="astd-object-sizes_8h_html"><div class="ttname"><a href="std-object-sizes_8h.html">std-object-sizes.h</a></div></div>
<div class="ttc" id="astd-object-sizes_8h_html_a56caa02a4280c4f0c82adab429400770"><div class="ttname"><a href="std-object-sizes_8h.html#a56caa02a4280c4f0c82adab429400770">UPDATE_WHEN_CLASS_CHANGES</a></div><div class="ttdeci">#define UPDATE_WHEN_CLASS_CHANGES(classname, size)</div><div class="ttdef"><b>Definition:</b> <a href="std-object-sizes_8h_source.html#l00079">std-object-sizes.h:79</a></div></div>
<div class="ttc" id="astring-format_8h_html"><div class="ttname"><a href="string-format_8h.html">string-format.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1count_html"><div class="ttname"><a href="structv8_1_1internal_1_1count.html">v8::internal::count</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-fast-api-calls_8h_source.html#l00511">v8-fast-api-calls.h:511</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData_html"><div class="ttname"><a href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html">v8::internal::trap_handler::ProtectedInstructionData</a></div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00109">trap-handler.h:109</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData_html_ad53ed09d9db529dc778705518be5967f"><div class="ttname"><a href="structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData.html#ad53ed09d9db529dc778705518be5967f">v8::internal::trap_handler::ProtectedInstructionData::instr_offset</a></div><div class="ttdeci">uint32_t instr_offset</div><div class="ttdef"><b>Definition:</b> <a href="trap-handler_8h_source.html#l00112">trap-handler.h:112</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleWireBytes_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html">v8::internal::wasm::ModuleWireBytes</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00993">wasm-module.h:993</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1ModuleWireBytes_html_aad25d74a24c1f21b337f94460ecc662c"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1ModuleWireBytes.html#aad25d74a24c1f21b337f94460ecc662c">v8::internal::wasm::ModuleWireBytes::GetNameOrNull</a></div><div class="ttdeci">WasmName GetNameOrNull(WireBytesRef ref) const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00217">wasm-module.cc:217</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html">v8::internal::wasm::NativeModule::CodeSpaceData</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00972">wasm-code-manager.h:972</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData_html_ab534d1e3cdd198ea415de8d0db5a9226"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ab534d1e3cdd198ea415de8d0db5a9226">v8::internal::wasm::NativeModule::CodeSpaceData::jump_table</a></div><div class="ttdeci">WasmCode * jump_table</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00974">wasm-code-manager.h:974</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData_html_ad4a0596abb4e4b9c98d509a1d90be9c7"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1CodeSpaceData.html#ad4a0596abb4e4b9c98d509a1d90be9c7">v8::internal::wasm::NativeModule::CodeSpaceData::far_jump_table</a></div><div class="ttdeci">WasmCode * far_jump_table</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00975">wasm-code-manager.h:975</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html">v8::internal::wasm::NativeModule::JumpTablesRef</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00667">wasm-code-manager.h:667</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef_html_a50f3e825d91e66fe4c340debaf6fc31a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#a50f3e825d91e66fe4c340debaf6fc31a">v8::internal::wasm::NativeModule::JumpTablesRef::jump_table_start</a></div><div class="ttdeci">Address jump_table_start</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00668">wasm-code-manager.h:668</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef_html_a863fbb343af1151884091489dcb5b191"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#a863fbb343af1151884091489dcb5b191">v8::internal::wasm::NativeModule::JumpTablesRef::far_jump_table_start</a></div><div class="ttdeci">Address far_jump_table_start</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00669">wasm-code-manager.h:669</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef_html_af7c96722e3f88e952d116c817305c7bb"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1NativeModule_1_1JumpTablesRef.html#af7c96722e3f88e952d116c817305c7bb">v8::internal::wasm::NativeModule::JumpTablesRef::is_valid</a></div><div class="ttdeci">bool is_valid() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00671">wasm-code-manager.h:671</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html">v8::internal::wasm::UnpublishedWasmCode</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00528">wasm-code-manager.h:528</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode_html_a4c0e64721e6f0d179c1b2151a97bbc4a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a4c0e64721e6f0d179c1b2151a97bbc4a">v8::internal::wasm::UnpublishedWasmCode::kNoAssumptions</a></div><div class="ttdeci">static constexpr AssumptionsJournal * kNoAssumptions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00532">wasm-code-manager.h:532</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode_html_a72e7efdeb49dc77769f6b99e9e904aca"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#a72e7efdeb49dc77769f6b99e9e904aca">v8::internal::wasm::UnpublishedWasmCode::assumptions</a></div><div class="ttdeci">std::unique_ptr&lt; AssumptionsJournal &gt; assumptions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00530">wasm-code-manager.h:530</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode_html_ad4eb73b61221a3f4358b84c8cece9809"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1UnpublishedWasmCode.html#ad4eb73b61221a3f4358b84c8cece9809">v8::internal::wasm::UnpublishedWasmCode::code</a></div><div class="ttdeci">std::unique_ptr&lt; WasmCode &gt; code</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l00529">wasm-code-manager.h:529</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_1_1CacheEntry_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache_1_1CacheEntry.html">v8::internal::wasm::WasmCodeLookupCache::CacheEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8h_source.html#l01307">wasm-code-manager.h:1307</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmCompilationResult_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html">v8::internal::wasm::WasmCompilationResult</a></div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8h_source.html#l00062">function-compiler.h:62</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmCompilationResult_html_a22182bebf65051a0260cbd4e9d7eccbca5bef4caf3c8a2a4189717b0fedf37d74"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html#a22182bebf65051a0260cbd4e9d7eccbca5bef4caf3c8a2a4189717b0fedf37d74">v8::internal::wasm::WasmCompilationResult::kWasmToJsWrapper</a></div><div class="ttdeci">@ kWasmToJsWrapper</div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8h_source.html#l00068">function-compiler.h:68</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmCompilationResult_html_a22182bebf65051a0260cbd4e9d7eccbcababc9138086c84aecbc35644fa4e15f4"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmCompilationResult.html#a22182bebf65051a0260cbd4e9d7eccbcababc9138086c84aecbc35644fa4e15f4">v8::internal::wasm::WasmCompilationResult::kFunction</a></div><div class="ttdeci">@ kFunction</div><div class="ttdef"><b>Definition:</b> <a href="function-compiler_8h_source.html#l00067">function-compiler.h:67</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDebugSymbols_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html">v8::internal::wasm::WasmDebugSymbols</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00485">wasm-module.h:485</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDebugSymbols_html_a25ea0bb81982bd235229b5344509f9c1"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html#a25ea0bb81982bd235229b5344509f9c1">v8::internal::wasm::WasmDebugSymbols::external_url</a></div><div class="ttdeci">WireBytesRef external_url</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00489">wasm-module.h:489</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDebugSymbols_html_a7ceab03e102013f6c054a06db16e12f5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDebugSymbols.html#a7ceab03e102013f6c054a06db16e12f5">v8::internal::wasm::WasmDebugSymbols::type</a></div><div class="ttdeci">Type type</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00488">wasm-module.h:488</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDeoptData_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html">v8::internal::wasm::WasmDeoptData</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00024">wasm-deopt-data.h:24</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDeoptData_html_a6a499de286c875e0a744eb11cdd3d986"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html#a6a499de286c875e0a744eb11cdd3d986">v8::internal::wasm::WasmDeoptData::deopt_exit_start_offset</a></div><div class="ttdeci">int deopt_exit_start_offset</div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00030">wasm-deopt-data.h:30</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDeoptData_html_ae261d50f4a6d4f1ea1926dc527b30a21"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDeoptData.html#ae261d50f4a6d4f1ea1926dc527b30a21">v8::internal::wasm::WasmDeoptData::entry_count</a></div><div class="ttdeci">uint32_t entry_count</div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00025">wasm-deopt-data.h:25</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDeoptEntry_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDeoptEntry.html">v8::internal::wasm::WasmDeoptEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00035">wasm-deopt-data.h:35</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDeoptEntry_html_a54f2c5c587bb8d6ca3c718bf143aa2f4"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDeoptEntry.html#a54f2c5c587bb8d6ca3c718bf143aa2f4">v8::internal::wasm::WasmDeoptEntry::translation_index</a></div><div class="ttdeci">int translation_index</div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00041">wasm-deopt-data.h:41</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmDeoptEntry_html_a6d04a31802433fcc5d96dee5d14242dc"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmDeoptEntry.html#a6d04a31802433fcc5d96dee5d14242dc">v8::internal::wasm::WasmDeoptEntry::bytecode_offset</a></div><div class="ttdeci">BytecodeOffset bytecode_offset</div><div class="ttdef"><b>Definition:</b> <a href="wasm-deopt-data_8h_source.html#l00038">wasm-deopt-data.h:38</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html">v8::internal::wasm::WasmModule</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00666">wasm-module.h:666</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a0968dbfaa7e6cf781764e9d2cf7336a5"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a0968dbfaa7e6cf781764e9d2cf7336a5">v8::internal::wasm::WasmModule::lazily_generated_names</a></div><div class="ttdeci">LazilyGeneratedNames lazily_generated_names</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00735">wasm-module.h:735</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a29343a7352161e7534f33ef4620338b3"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a29343a7352161e7534f33ef4620338b3">v8::internal::wasm::WasmModule::debug_symbols</a></div><div class="ttdeci">std::array&lt; WasmDebugSymbols, WasmDebugSymbols::kNumTypes &gt; debug_symbols</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00736">wasm-module.h:736</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a5a60fa14372f7bc06d7d6f51d23b0bee"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a5a60fa14372f7bc06d7d6f51d23b0bee">v8::internal::wasm::WasmModule::num_declared_functions</a></div><div class="ttdeci">uint32_t num_declared_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00684">wasm-module.h:684</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a7871ace0ad8518a7de0c52ac35e43eb2"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a7871ace0ad8518a7de0c52ac35e43eb2">v8::internal::wasm::WasmModule::origin</a></div><div class="ttdeci">const ModuleOrigin origin</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00734">wasm-module.h:734</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a79b743888793de4a17ae53dd93988de6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">v8::internal::wasm::WasmModule::functions</a></div><div class="ttdeci">std::vector&lt; WasmFunction &gt; functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00714">wasm-module.h:714</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a81b4b2b056e744758f875acafe4c909a"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a81b4b2b056e744758f875acafe4c909a">v8::internal::wasm::WasmModule::num_imported_functions</a></div><div class="ttdeci">uint32_t num_imported_functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00681">wasm-module.h:681</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_af469da976cc1ef6056b9a44b77356b21"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#af469da976cc1ef6056b9a44b77356b21">v8::internal::wasm::WasmModule::EstimateStoredSize</a></div><div class="ttdeci">size_t EstimateStoredSize() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00722">wasm-module.cc:722</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a97689377430b094caec680dd7dd230fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a></div><div class="ttdeci">#define TRACE_DISABLED_BY_DEFAULT(name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00025">trace-event-no-perfetto.h:25</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_ac437f27e15925a9bd53c69692a6c85fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a></div><div class="ttdeci">#define TRACE_EVENT1(category_group, name, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00037">trace-event-no-perfetto.h:37</a></div></div>
<div class="ttc" id="aunwinding-info-win64_8h_html"><div class="ttname"><a href="unwinding-info-win64_8h.html">unwinding-info-win64.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="avector_8h_html"><div class="ttname"><a href="vector_8h.html">vector.h</a></div></div>
<div class="ttc" id="awasm-builtin-list_8h_html"><div class="ttname"><a href="wasm-builtin-list_8h.html">wasm-builtin-list.h</a></div></div>
<div class="ttc" id="awasm-code-coverage_8h_html"><div class="ttname"><a href="wasm-code-coverage_8h.html">wasm-code-coverage.h</a></div></div>
<div class="ttc" id="awasm-code-manager_8cc_html_a999acc4125a715214037c81dd456611d"><div class="ttname"><a href="wasm-code-manager_8cc.html#a999acc4125a715214037c81dd456611d">TRACE_HEAP</a></div><div class="ttdeci">#define TRACE_HEAP(...)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-manager_8cc_source.html#l00063">wasm-code-manager.cc:63</a></div></div>
<div class="ttc" id="awasm-code-manager_8h_html"><div class="ttname"><a href="wasm-code-manager_8h.html">wasm-code-manager.h</a></div></div>
<div class="ttc" id="awasm-code-pointer-table-inl_8h_html"><div class="ttname"><a href="wasm-code-pointer-table-inl_8h.html">wasm-code-pointer-table-inl.h</a></div></div>
<div class="ttc" id="awasm-debug_8h_html"><div class="ttname"><a href="wasm-debug_8h.html">wasm-debug.h</a></div></div>
<div class="ttc" id="awasm-deopt-data_8h_html"><div class="ttname"><a href="wasm-deopt-data_8h.html">wasm-deopt-data.h</a></div></div>
<div class="ttc" id="awasm-engine_8h_html"><div class="ttname"><a href="wasm-engine_8h.html">wasm-engine.h</a></div></div>
<div class="ttc" id="awasm-import-wrapper-cache_8h_html"><div class="ttname"><a href="wasm-import-wrapper-cache_8h.html">wasm-import-wrapper-cache.h</a></div></div>
<div class="ttc" id="awasm-interpreter-runtime_8h_html"><div class="ttname"><a href="wasm-interpreter-runtime_8h.html">wasm-interpreter-runtime.h</a></div></div>
<div class="ttc" id="awasm-module-sourcemap_8h_html"><div class="ttname"><a href="wasm-module-sourcemap_8h.html">wasm-module-sourcemap.h</a></div></div>
<div class="ttc" id="awasm-module_8h_html"><div class="ttname"><a href="wasm-module_8h.html">wasm-module.h</a></div></div>
<div class="ttc" id="awasm-objects-inl_8h_html"><div class="ttname"><a href="wasm-objects-inl_8h.html">wasm-objects-inl.h</a></div></div>
<div class="ttc" id="awasm-objects_8h_html"><div class="ttname"><a href="wasm-objects_8h.html">wasm-objects.h</a></div></div>
<div class="ttc" id="awell-known-imports_8h_html"><div class="ttname"><a href="well-known-imports_8h.html">well-known-imports.h</a></div></div>
<div class="ttc" id="awrappers_8h_html"><div class="ttname"><a href="wrappers_8h.html">wrappers.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_72f9e9028b46e75e11b89ac450e9bb8f.html">wasm</a></li><li class="navelem"><a class="el" href="wasm-code-manager_8cc.html">wasm-code-manager.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:01:05 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
