<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/objects/string.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('string_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">string.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="string_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2019 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string_8h.html">src/objects/string.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;absl/functional/overload.h&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="small-vector_8h.html">src/base/small-vector.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert-scope_8h.html">src/common/assert-scope.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="isolate-utils_8h.html">src/execution/isolate-utils.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thread-id_8h.html">src/execution/thread-id.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="handles-inl_8h.html">src/handles/handles-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-inl_8h.html">src/heap/heap-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-layout-inl_8h.html">src/heap/heap-layout-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="local-factory-inl_8h.html">src/heap/local-factory-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="local-heap-inl_8h.html">src/heap/local-heap-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutable-page-metadata_8h.html">src/heap/mutable-page-metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="read-only-heap_8h.html">src/heap/read-only-heap.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="conversions_8h.html">src/numbers/conversions.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="instance-type_8h.html">src/objects/instance-type.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="map_8h.html">src/objects/map.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="oddball_8h.html">src/objects/oddball.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-comparator_8h.html">src/objects/string-comparator.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-inl_8h.html">src/objects/string-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tagged_8h.html">src/objects/tagged.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="char-predicates_8h.html">src/strings/char-predicates.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-builder-inl_8h.html">src/strings/string-builder-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-hasher_8h.html">src/strings/string-hasher.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-search_8h.html">src/strings/string-search.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-stream_8h.html">src/strings/string-stream.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="unicode-inl_8h.html">src/strings/unicode-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ostreams_8h.html">src/utils/ostreams.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zone-allocator_8h.html">src/zone/zone-allocator.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>&gt; <span class="keyword">typename</span> HandleType&gt;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a36a7038a14420f718296215cbf007ed9">requires</a>(std::is_convertible_v&lt;HandleType&lt;String&gt;, DirectHandle&lt;String&gt;&gt;)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;HandleType&lt;<a class="code" href="namespacev8__inspector_1_1protocol.html#ac8ed50aa76b93614e1ba611280b7b911">String</a>&gt; <a class="code" href="namespacev8__inspector_1_1protocol.html#ac8ed50aa76b93614e1ba611280b7b911">String</a>::SlowShare(Isolate* isolate,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                     HandleType&lt;<a class="code" href="namespacev8__inspector_1_1protocol.html#ac8ed50aa76b93614e1ba611280b7b911">String</a>&gt; source) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  HandleType&lt;String&gt; flat =</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      Flatten(isolate, source, <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">AllocationType::kSharedOld</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// Do not recursively call Share, so directly compute the sharing strategy for</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="comment">// the flat string, which could already be a copy or an existing string from</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="comment">// e.g. a shortcut ConsString.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  MaybeDirectHandle&lt;Map&gt; new_map;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">switch</span> (isolate-&gt;factory()-&gt;ComputeSharingStrategyForString(flat, &amp;new_map)) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299">StringTransitionStrategy::kCopy</a>:</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d">StringTransitionStrategy::kInPlace</a>:</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="comment">// A relaxed write is sufficient here, because at this point the string</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <span class="comment">// has not yet escaped the current thread.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#ae77bf0d1f0e1b86681fb29101ecd527a">HeapLayout::InAnySharedSpace</a>(*flat));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      flat-&gt;set_map_no_write_barrier(isolate, *new_map.ToHandleChecked());</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      <span class="keywordflow">return</span> flat;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20">StringTransitionStrategy::kAlreadyTransitioned</a>:</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">return</span> flat;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = flat-&gt;length();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (flat-&gt;IsOneByteRepresentation()) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    HandleType&lt;SeqOneByteString&gt; copy =</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        isolate-&gt;factory()-&gt;NewRawSharedOneByteString(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>).ToHandleChecked();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    WriteToFlat(*flat, copy-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>), 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> copy;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  HandleType&lt;SeqTwoByteString&gt; copy =</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      isolate-&gt;factory()-&gt;NewRawSharedTwoByteString(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>).ToHandleChecked();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  WriteToFlat(*flat, copy-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>), 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">return</span> copy;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">template</span> <a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> DirectHandle&lt;String&gt; String::SlowShare(</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    Isolate* isolate, DirectHandle&lt;String&gt; source);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">template</span> <a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> IndirectHandle&lt;String&gt; String::SlowShare(</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    Isolate* isolate, IndirectHandle&lt;String&gt; source);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html">   84</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> StringClass&gt;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ade84dbbeeef3c422320162598300deaf">   87</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ade84dbbeeef3c422320162598300deaf">MigrateExternalStringResource</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalString&gt;</a> from,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;StringClass&gt;</a> to) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> to_resource_address = to-&gt;resource_as_address();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (to_resource_address == <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;StringClass&gt;</a> cast_from = Cast&lt;StringClass&gt;(from);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// |to| is a just-created internalized copy of |from|. Migrate the resource.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    to-&gt;SetResource(isolate, cast_from-&gt;resource());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Zap |from|&#39;s resource pointer to reflect the fact that |from| has</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// relinquished ownership of its resource.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ab1bcaa2501fccdcaedead4525f63cbc1">UpdateExternalString</a>(</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        from, Cast&lt;ExternalString&gt;(from)-&gt;ExternalPayloadSize(), 0);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    cast_from-&gt;SetResource(isolate, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (to_resource_address != from-&gt;resource_as_address()) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// |to| already existed and has its own resource. Finalize |from|.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aa5ea115925690e7a2bc67cb947f24161">FinalizeExternalString</a>(from);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae34108ddb11abf4614a2a8e1b3057c72">  106</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae34108ddb11abf4614a2a8e1b3057c72">MigrateExternalString</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> (IsExternalOneByteString(internalized)) {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ade84dbbeeef3c422320162598300deaf">MigrateExternalStringResource</a>(isolate, Cast&lt;ExternalString&gt;(<span class="keywordtype">string</span>),</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                  Cast&lt;ExternalOneByteString&gt;(internalized));</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsExternalTwoByteString(internalized)) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ade84dbbeeef3c422320162598300deaf">MigrateExternalStringResource</a>(isolate, Cast&lt;ExternalString&gt;(<span class="keywordtype">string</span>),</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                                  Cast&lt;ExternalTwoByteString&gt;(internalized));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// If the external string is duped into an existing non-external</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// internalized string, free its resource (it&#39;s about to be rewritten</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// into a ThinString below).</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aa5ea115925690e7a2bc67cb947f24161">FinalizeExternalString</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ExternalString.html#aa4c456ecff1a42f59abb6d40bca7d6f0">  124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1ExternalString.html#aa4c456ecff1a42f59abb6d40bca7d6f0">ExternalString::InitExternalPointerFieldsDuringExternalization</a>(</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> new_map, <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classv8_1_1internal_1_1UncachedExternalString.html#a09e2478e2b6bcca30a4c1c430b41d712">resource_</a>.<a class="code" href="classv8_1_1internal_1_1ExternalPointerMember.html#ad0a428d89f686e2af47f62970b3ea39a">Init</a>(<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a263ce0a188b9daa21effadc28d66857e">address</a>(), isolate, <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1ExternalString.html#a9c673697fe28d3ad6586136bd764ddd0">is_uncached</a> = (new_map-&gt;instance_type() &amp; <a class="code" href="namespacev8_1_1internal.html#a4d1b938077c26360300997ba84b869bb">kUncachedExternalStringMask</a>) ==</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#a3bca87fbeea8eaed3b35acb2cedc0715">kUncachedExternalStringTag</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1ExternalString.html#a9c673697fe28d3ad6586136bd764ddd0">is_uncached</a>) {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ExternalString.html#ae662afa5935f45a577d225a9b5c50886">resource_data_</a>.<a class="code" href="classv8_1_1internal_1_1ExternalPointerMember.html#ad0a428d89f686e2af47f62970b3ea39a">Init</a>(<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a263ce0a188b9daa21effadc28d66857e">address</a>(), isolate, <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> IsolateT&gt;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a515a2f802c1b54ee845421f87a5a0956">  135</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a515a2f802c1b54ee845421f87a5a0956">String::MakeThin</a>(IsolateT* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<span class="keyword">this</span>, internalized);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(internalized));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a> = <a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a8f7000d3bffa5190ae250d0dff465c3d">map</a>(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> initial_shape(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!initial_shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a28c6d13fd66b5aaf248bc39ecf0adbe8">IsThin</a>());</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// Check that shared strings can only transition to ThinStrings on the main</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// thread when no other thread is active.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// The exception is during serialization, as no strings have escaped the</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// thread yet.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (initial_shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a240e0d4fb9c6d1acf19789a044c612b2">IsShared</a>() &amp;&amp; !isolate-&gt;has_active_deserializer()) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    isolate-&gt;AsIsolate()-&gt;global_safepoint()-&gt;AssertActive();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">bool</span> may_contain_recorded_slots = initial_shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a453668677ed5dc55ff1e77342a84afda">IsIndirect</a>();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordtype">int</span> old_size = <a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#af7c49d1642eb83de7e6d92c48b80bcb3">SizeFromMap</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(isolate);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> target_map = internalized-&gt;IsOneByteRepresentation()</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                               ? roots.thin_one_byte_string_map()</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                               : roots.thin_two_byte_string_map();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordflow">if</span> (initial_shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#ab0226d50190fdf11e5380387a32f5ffd">IsExternal</a>()) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// Notify GC about the layout change before the transition to avoid</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="comment">// concurrent marking from observing any in-between state (e.g.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// ExternalString map where the resource external pointer is overwritten</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// with a tagged pointer).</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="comment">// ExternalString -&gt; ThinString transitions can only happen on the</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="comment">// main-thread.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    isolate-&gt;AsIsolate()-&gt;heap()-&gt;NotifyObjectLayoutChange(</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged</a>(<span class="keyword">this</span>), <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, <a class="code" href="namespacev8_1_1internal.html#aaba36edba8920110a2f4ac3eb0cae991a1ea590aa4a64767508460736ac0edaa9">InvalidateRecordedSlots::kYes</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aad67622c9651e5e1fde2c5a293fdb434a1ea590aa4a64767508460736ac0edaa9">InvalidateExternalPointerSlots::kYes</a>, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1ThinString.html">ThinString</a>));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae34108ddb11abf4614a2a8e1b3057c72">MigrateExternalString</a>(isolate-&gt;AsIsolate(), <span class="keyword">this</span>, internalized);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// Update actual first and then do release store on the map word. This ensures</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// that the concurrent marker will read the pointer when visiting a</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// ThinString.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ThinString&gt;</a> thin = UncheckedCast&lt;ThinString&gt;(<a class="code" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  thin-&gt;set_actual(internalized);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(old_size, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1ThinString.html">ThinString</a>));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">int</span> size_delta = old_size - <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1ThinString.html">ThinString</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (size_delta != 0) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Heap.html#afea8da4813bd01742ab9297c08f06985">Heap::IsLargeObject</a>(thin)) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      isolate-&gt;heap()-&gt;NotifyObjectSizeChange(</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          thin, old_size, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1ThinString.html">ThinString</a>),</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          may_contain_recorded_slots ? <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a1ea590aa4a64767508460736ac0edaa9">ClearRecordedSlots::kYes</a></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                                     : <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a8cc8e60acfa3ae6089df773013fd73a2">ClearRecordedSlots::kNo</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="comment">// We don&#39;t need special handling for the combination IsLargeObject &amp;&amp;</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="comment">// may_contain_recorded_slots, because indirect strings never get that</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="comment">// large.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!may_contain_recorded_slots);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">if</span> (initial_shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#ab0226d50190fdf11e5380387a32f5ffd">IsExternal</a>()) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a72d3ec84fb43f26c368bf46efb0c4463">set_map</a>(isolate, target_map, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a9dee220ebdccb6424ca9ecc0e81836ef">set_map_safe_transition</a>(isolate, target_map, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a515a2f802c1b54ee845421f87a5a0956">String::MakeThin</a>(</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a515a2f802c1b54ee845421f87a5a0956">String::MakeThin</a>(</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> internalized);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1String.html#af8b89284144fbca86b158e14554da465">String::MarkForExternalizationDuringGC</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classT.html">T</a>* resource) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  uint32_t raw_hash = <a class="code" href="classv8_1_1internal_1_1Name.html#a6b354d0c4c5e99048a02f9c0f8ae5dd2">raw_hash_field</a>(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#aceb81166fdc1b836fd5a7dc3da2bbf1c">IsExternalForwardingIndex</a>(raw_hash)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Name.html#ac1ae04083fa9042106be06126fa5eb7b">IsInternalizedForwardingIndex</a>(raw_hash)) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> forwarding_index = <a class="code" href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">ForwardingIndexValueBits::decode</a>(raw_hash);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">string_forwarding_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#a1a5f2ade520d25b77903ac581aba74d9">TryUpdateExternalResource</a>(</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            forwarding_index, resource)) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="comment">// The external resource was concurrently updated by another thread.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    resource-&gt;Unaccount(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    raw_hash = <a class="code" href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">Name::IsExternalForwardingIndexBit::update</a>(raw_hash, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Name.html#ab25eede33a5b704941810c9bbd9098b7">set_raw_hash_field</a>(raw_hash, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// We need to store the hash in the forwarding table, as all non-external</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// shared strings are in-place internalizable. In case the string gets</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// internalized, we have to ensure that we can get the hash from the</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// forwarding table to satisfy the invariant that all internalized strings</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// have a computed hash value.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">IsHashFieldComputed</a>(raw_hash)) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    raw_hash = <a class="code" href="classv8_1_1internal_1_1Name.html#aa71a7eb69a03cb9c6742d9b02dcc1947">EnsureRawHash</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">IsHashFieldComputed</a>(raw_hash));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  resource-&gt;Unaccount(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordtype">int</span> forwarding_index =</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">string_forwarding_table</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#a3654ad4a0c1f008fed4230eebde9b3c1">AddExternalResourceAndHash</a>(</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          <span class="keyword">this</span>, resource, raw_hash);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Name.html#ab25eede33a5b704941810c9bbd9098b7">set_raw_hash_field</a>(<a class="code" href="classv8_1_1internal_1_1Name.html#a8a0fb909bfd7d4d7c8fc1d24596d4698">String::CreateExternalForwardingIndex</a>(forwarding_index),</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                     <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">bool</span> is_one_<span class="keywordtype">byte</span>&gt;</div>
<div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a0d325d971dd168d32d6b2d7aa4118dd1">  246</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a0d325d971dd168d32d6b2d7aa4118dd1">ComputeExternalStringMap</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                     <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(isolate);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> is_internalized = shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a3958dda407d185d6005d03934474bc26">IsInternalized</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a240e0d4fb9c6d1acf19789a044c612b2">IsShared</a>();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span> constexpr (is_one_byte) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1ExternalString.html">ExternalString</a>))) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordflow">if</span> (is_internalized) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> roots.uncached_external_internalized_one_byte_string_map();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> ? roots.shared_uncached_external_one_byte_string_map()</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                         : roots.uncached_external_one_byte_string_map();</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (is_internalized) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> roots.external_internalized_one_byte_string_map();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> ? roots.shared_external_one_byte_string_map()</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                         : roots.external_one_byte_string_map();</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1ExternalString.html">ExternalString</a>))) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (is_internalized) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> roots.uncached_external_internalized_two_byte_string_map();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> ? roots.shared_uncached_external_two_byte_string_map()</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                         : roots.uncached_external_two_byte_string_map();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">if</span> (is_internalized) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span> roots.external_internalized_two_byte_string_map();</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> ? roots.shared_external_two_byte_string_map()</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                         : roots.external_two_byte_string_map();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">String::MakeExternalDuringGC</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classT.html">T</a>* resource) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3f28064f94348c01f908cc28ca4016d7">safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IsolateSafepoint.html#a10bd26df469f53e11665569cd911c0b0">AssertActive</a>();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a29636ce2b5c73518cc392133e5fa7203">gc_state</a>(), <a class="code" href="classv8_1_1internal_1_1Heap.html#aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f">Heap::NOT_IN_GC</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  constexpr <span class="keywordtype">bool</span> is_one_byte =</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      std::is_base_of_v&lt;v8::String::ExternalOneByteStringResource, T&gt;;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#ab51651f5e9658921420d2c06d8ea32bc">Size</a>();  <span class="comment">// Byte size of the original string.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(size, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1UncachedExternalString.html">UncachedExternalString</a>));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// Morph the string to an external string by replacing the map and</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">// reinitializing the fields.  This won&#39;t work if the space the existing</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="comment">// string occupies is too small for a regular external string.  Instead, we</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">// resort to an uncached external string instead, omitting the field caching</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">// the address of the backing store.  When we encounter uncached external</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">// strings in generated code, we need to bailout to runtime.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> new_map =</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      ComputeExternalStringMap&lt;is_one_byte&gt;(isolate, <span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Byte size of the external String object.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordtype">int</span> new_size = this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#af7c49d1642eb83de7e6d92c48b80bcb3">SizeFromMap</a>(new_map);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// Shared strings are never indirect.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<span class="keyword">this</span>).IsIndirect());</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#afea8da4813bd01742ab9297c08f06985">IsLargeObject</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aef163f84c745b0123f39f79e783f1946">NotifyObjectSizeChange</a>(<span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, new_size,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                            <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a8cc8e60acfa3ae6089df773013fd73a2">ClearRecordedSlots::kNo</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="comment">// The external pointer slots must be initialized before the new map is</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// installed. Otherwise, a GC marking thread may see the new map before the</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// slots are initialized and attempt to mark the (invalid) external pointers</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="comment">// table entries as alive.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1ExternalString.html">ExternalString</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      -&gt;InitExternalPointerFieldsDuringExternalization(new_map, isolate);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// We are storing the new map using release store after creating a filler in</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// the NotifyObjectSizeChange call for the left-over space to avoid races with</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// the sweeper thread.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a72d3ec84fb43f26c368bf46efb0c4463">set_map</a>(isolate, new_map, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">if</span> constexpr (is_one_byte) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalOneByteString&gt;</a> <span class="keyword">self</span> = Cast&lt;ExternalOneByteString&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">self</span>-&gt;SetResource(isolate, resource);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalTwoByteString&gt;</a> <span class="keyword">self</span> = Cast&lt;ExternalTwoByteString&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keyword">self</span>-&gt;SetResource(isolate, resource);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4388fdbfc0883f3c8278efda5bfb4683">RegisterExternalString</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">String::</a></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<a class="code" href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">    MakeExternalDuringGC</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                         <a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html">v8::String::ExternalOneByteStringResource</a>*);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">String::</a></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<a class="code" href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">    MakeExternalDuringGC</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1String_1_1ExternalStringResource.html">v8::String::ExternalStringResource</a>*);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1String.html#ad78c510dcedfaf3b46a2e8b75091d8ff">String::MakeExternal</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                          <a class="code" href="classv8_1_1String_1_1ExternalStringResource.html">v8::String::ExternalStringResource</a>* resource) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// Disallow garbage collection to avoid possible GC vs string access deadlock.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// Externalizing twice leaks the external resource, so it&#39;s</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// prohibited by the API.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#aef97c2ced11c2a39c6838ceb5e283c5a">SupportsExternalization</a>(v8::String::Encoding::TWO_BYTE_ENCODING));</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResourceBase.html#a994c7580185c831abd45075d297dd07c">IsCacheable</a>());</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="preprocessor">#ifdef ENABLE_SLOW_DCHECKS</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.enable_slow_asserts) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Assert that the resource and the string are equivalent.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>()) == resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResource.html#ab5ca300fea077d7c7774ec49d32e4da1">length</a>());</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="classv8_1_1base_1_1ScopedVector.html">base::ScopedVector&lt;base::uc16&gt;</a> smart_chars(this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>());</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(<span class="keyword">this</span>, smart_chars.begin(), 0, <a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>-&gt;length());</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, memcmp(smart_chars.begin(), resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResource.html#a987309199b848511adb708e221e0fb0a">data</a>(),</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                        resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResource.html#ab5ca300fea077d7c7774ec49d32e4da1">length</a>() * <span class="keyword">sizeof</span>(smart_chars[0])));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="preprocessor">#endif                      </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#ab51651f5e9658921420d2c06d8ea32bc">Size</a>();  <span class="comment">// Byte size of the original string.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// Abort if size does not allow in-place conversion.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span> (size &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(UncachedExternalString))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// Read-only strings cannot be made external, since that would mutate the</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// string.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(<span class="keyword">this</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1String.html#a8cc71a1869c4a42595385e1283178017">IsShared</a>()) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#af8b89284144fbca86b158e14554da465">MarkForExternalizationDuringGC</a>(isolate, resource);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// For strings in the shared space we need the shared space isolate instead of</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">// the current isolate.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResourceBase.html#a191a3ba4512e0fa63b89cf3a36de71fa">Unaccount</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    isolate = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a79661c3a6407e46b4aa382eae991ecfa">shared_space_isolate</a>();</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordtype">bool</span> is_internalized = <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordtype">bool</span> has_pointers = StringShape(<span class="keyword">this</span>).IsIndirect();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  base::MutexGuardIf mutex_guard(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a672cdd2977330a0a8a3680d37c08fe42">internalized_string_access</a>(),</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                 is_internalized);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Morph the string to an external string by replacing the map and</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// reinitializing the fields.  This won&#39;t work if the space the existing</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// string occupies is too small for a regular external string.  Instead, we</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// resort to an uncached external string instead, omitting the field caching</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// the address of the backing store.  When we encounter uncached external</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// strings in generated code, we need to bailout to runtime.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  constexpr <span class="keywordtype">bool</span> is_one_byte = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  Tagged&lt;Map&gt; new_map =</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      ComputeExternalStringMap&lt;is_one_byte&gt;(isolate, <span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// Byte size of the external String object.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordtype">int</span> new_size = this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#af7c49d1642eb83de7e6d92c48b80bcb3">SizeFromMap</a>(new_map);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">if</span> (has_pointers) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3ef43e7d9c14634fc9224f676f0c24ad">NotifyObjectLayoutChange</a>(</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keyword">this</span>, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, <a class="code" href="namespacev8_1_1internal.html#aaba36edba8920110a2f4ac3eb0cae991a1ea590aa4a64767508460736ac0edaa9">InvalidateRecordedSlots::kYes</a>,</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aad67622c9651e5e1fde2c5a293fdb434a8cc8e60acfa3ae6089df773013fd73a2">InvalidateExternalPointerSlots::kNo</a>, new_size);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#afea8da4813bd01742ab9297c08f06985">IsLargeObject</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aef163f84c745b0123f39f79e783f1946">NotifyObjectSizeChange</a>(</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, new_size,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        has_pointers ? <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a1ea590aa4a64767508460736ac0edaa9">ClearRecordedSlots::kYes</a> : <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a8cc8e60acfa3ae6089df773013fd73a2">ClearRecordedSlots::kNo</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// We don&#39;t need special handling for the combination IsLargeObject &amp;&amp;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// has_pointers, because indirect strings never get that large.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!has_pointers);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// The external pointer slots must be initialized before the new map is</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">// installed. Otherwise, a GC marking thread may see the new map before the</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// slots are initialized and attempt to mark the (invalid) external pointers</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// table entries as alive.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">static_cast&lt;</span>ExternalString*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      -&gt;InitExternalPointerFieldsDuringExternalization(new_map, isolate);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// We are storing the new map using release store after creating a filler in</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// the NotifyObjectSizeChange call for the left-over space to avoid races with</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="comment">// the sweeper thread.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a72d3ec84fb43f26c368bf46efb0c4463">set_map</a>(isolate, new_map, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  Tagged&lt;ExternalTwoByteString&gt; <span class="keyword">self</span> = Cast&lt;ExternalTwoByteString&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keyword">self</span>-&gt;SetResource(isolate, resource);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4388fdbfc0883f3c8278efda5bfb4683">RegisterExternalString</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">// Force regeneration of the hash value.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordflow">if</span> (is_internalized) <span class="keyword">self</span>-&gt;EnsureHash();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#ad5d8b0f9bf1bfc5cc3f5c4983313027a">  436</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1String.html#ad78c510dcedfaf3b46a2e8b75091d8ff">String::MakeExternal</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                          <a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html">v8::String::ExternalOneByteStringResource</a>* resource) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// Disallow garbage collection to avoid possible GC vs string access deadlock.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// Externalizing twice leaks the external resource, so it&#39;s</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// prohibited by the API.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#aef97c2ced11c2a39c6838ceb5e283c5a">SupportsExternalization</a>(v8::String::Encoding::ONE_BYTE_ENCODING));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResourceBase.html#a994c7580185c831abd45075d297dd07c">IsCacheable</a>());</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="preprocessor">#ifdef ENABLE_SLOW_DCHECKS</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.enable_slow_asserts) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// Assert that the resource and the string are equivalent.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>()) == resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html#ad6b702f05798bcfc3975cb922f32b5ab">length</a>());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a34e5b17a87d1b2bb96855df97ac6d569">IsTwoByteRepresentation</a>()) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      <a class="code" href="classv8_1_1base_1_1ScopedVector.html">base::ScopedVector&lt;uint16_t&gt;</a> smart_chars(this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>());</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(<span class="keyword">this</span>, smart_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), 0, <a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>-&gt;length());</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ad76be8b3c0bea46bb8c686d8347989ad">String::IsOneByte</a>(smart_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), <a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>-&gt;length()));</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classv8_1_1base_1_1ScopedVector.html">base::ScopedVector&lt;char&gt;</a> smart_chars(this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>());</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(<span class="keyword">this</span>, smart_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), 0, <a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>-&gt;length());</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, memcmp(smart_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html#aaeca31240d3dbf990d1b974e3c64593e">data</a>(),</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                        resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html#ad6b702f05798bcfc3975cb922f32b5ab">length</a>() * <span class="keyword">sizeof</span>(smart_chars[0])));</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="preprocessor">#endif                      </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#ab51651f5e9658921420d2c06d8ea32bc">Size</a>();  <span class="comment">// Byte size of the original string.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="comment">// Abort if size does not allow in-place conversion.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">if</span> (size &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1UncachedExternalString.html">UncachedExternalString</a>))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Read-only strings cannot be made external, since that would mutate the</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">// string.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(<span class="keyword">this</span>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1String.html#a8cc71a1869c4a42595385e1283178017">IsShared</a>()) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#af8b89284144fbca86b158e14554da465">MarkForExternalizationDuringGC</a>(isolate, resource);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="comment">// For strings in the shared space we need the shared space isolate instead of</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="comment">// the current isolate.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    resource-&gt;<a class="code" href="classv8_1_1String_1_1ExternalStringResourceBase.html#a191a3ba4512e0fa63b89cf3a36de71fa">Unaccount</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    isolate = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a79661c3a6407e46b4aa382eae991ecfa">shared_space_isolate</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordtype">bool</span> is_internalized = <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordtype">bool</span> has_pointers = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<span class="keyword">this</span>).<a class="code" href="classv8_1_1internal_1_1StringShape.html#a453668677ed5dc55ff1e77342a84afda">IsIndirect</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="classv8_1_1base_1_1MutexGuardIf.html">base::MutexGuardIf</a> mutex_guard(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a672cdd2977330a0a8a3680d37c08fe42">internalized_string_access</a>(),</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                 is_internalized);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="comment">// Morph the string to an external string by replacing the map and</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// reinitializing the fields.  This won&#39;t work if the space the existing</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// string occupies is too small for a regular external string.  Instead, we</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// resort to an uncached external string instead, omitting the field caching</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// the address of the backing store.  When we encounter uncached external</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// strings in generated code, we need to bailout to runtime.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  constexpr <span class="keywordtype">bool</span> is_one_byte = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> new_map =</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ComputeExternalStringMap&lt;is_one_byte&gt;(isolate, <span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">if</span> (!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#afea8da4813bd01742ab9297c08f06985">IsLargeObject</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// Byte size of the external String object.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">int</span> new_size = this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#af7c49d1642eb83de7e6d92c48b80bcb3">SizeFromMap</a>(new_map);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">if</span> (has_pointers) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3ef43e7d9c14634fc9224f676f0c24ad">NotifyObjectLayoutChange</a>(</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <span class="keyword">this</span>, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, <a class="code" href="namespacev8_1_1internal.html#aaba36edba8920110a2f4ac3eb0cae991a1ea590aa4a64767508460736ac0edaa9">InvalidateRecordedSlots::kYes</a>,</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aad67622c9651e5e1fde2c5a293fdb434a8cc8e60acfa3ae6089df773013fd73a2">InvalidateExternalPointerSlots::kNo</a>, new_size);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    }</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aef163f84c745b0123f39f79e783f1946">NotifyObjectSizeChange</a>(</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keyword">this</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, new_size,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        has_pointers ? <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a1ea590aa4a64767508460736ac0edaa9">ClearRecordedSlots::kYes</a> : <a class="code" href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a8cc8e60acfa3ae6089df773013fd73a2">ClearRecordedSlots::kNo</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// We don&#39;t need special handling for the combination IsLargeObject &amp;&amp;</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// has_pointers, because indirect strings never get that large.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!has_pointers);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// The external pointer slots must be initialized before the new map is</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// installed. Otherwise, a GC marking thread may see the new map before the</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// slots are initialized and attempt to mark the (invalid) external pointers</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="comment">// table entries as alive.</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1ExternalString.html">ExternalString</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      -&gt;InitExternalPointerFieldsDuringExternalization(new_map, isolate);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// We are storing the new map using release store after creating a filler in</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// the NotifyObjectSizeChange call for the left-over space to avoid races with</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// the sweeper thread.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#a72d3ec84fb43f26c368bf46efb0c4463">set_map</a>(isolate, new_map, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalOneByteString&gt;</a> <span class="keyword">self</span> = Cast&lt;ExternalOneByteString&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keyword">self</span>-&gt;SetResource(isolate, resource);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4388fdbfc0883f3c8278efda5bfb4683">RegisterExternalString</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// Force regeneration of the hash value.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">if</span> (is_internalized) <span class="keyword">self</span>-&gt;EnsureHash();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#aef97c2ced11c2a39c6838ceb5e283c5a">  530</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1String.html#aef97c2ced11c2a39c6838ceb5e283c5a">String::SupportsExternalization</a>(<a class="code" href="classv8_1_1String.html#a2f4a2e9516c246eef602b889ce049c49">v8::String::Encoding</a> encoding) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">return</span> i::Cast&lt;i::ThinString&gt;(<span class="keyword">this</span>)-&gt;actual()-&gt;SupportsExternalization(</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        encoding);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// RO_SPACE strings cannot be externalized.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="preprocessor">#if V8_COMPRESS_POINTERS &amp;&amp; !V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// In this configuration, small strings may not be in-place externalizable.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#ab51651f5e9658921420d2c06d8ea32bc">Size</a>() &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1UncachedExternalString.html">UncachedExternalString</a>))) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1UncachedExternalString.html">UncachedExternalString</a>), this-&gt;<a class="code" href="classv8_1_1internal_1_1HeapObjectLayout.html#ab51651f5e9658921420d2c06d8ea32bc">Size</a>());</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// Already an external string.</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#ab0226d50190fdf11e5380387a32f5ffd">IsExternal</a>()) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Only strings in old space can be externalized.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(<a class="code" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Tagged</a>(<span class="keyword">this</span>))) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Encoding changes are not supported.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal.html#a086b3379b539247245ed2461818f4b0a">kStringEncodingMask</a> == 1 &lt;&lt; 3);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  static_assert(v8::String::Encoding::ONE_BYTE_ENCODING == 1 &lt;&lt; 3);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  static_assert(v8::String::Encoding::TWO_BYTE_ENCODING == 0);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">return</span> (<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a2579ab2f0615c10e6652e458213669ce">IsOneByte</a>()) &lt;&lt; 3) ==</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;         <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(encoding);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160; </div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a574ace7f13b27c71cdc71c9e88d37d0b">  570</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1internal_1_1String.html#a574ace7f13b27c71cdc71c9e88d37d0b">String::PrefixForDebugPrint</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1String.html#a34e5b17a87d1b2bb96855df97ac6d569">IsTwoByteRepresentation</a>()) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a3958dda407d185d6005d03934474bc26">IsInternalized</a>()) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;u#&quot;</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a5af117ebcc7191cc223d3625ee292401">IsCons</a>()) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;uc\&quot;&quot;</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a28c6d13fd66b5aaf248bc39ecf0adbe8">IsThin</a>()) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;u&gt;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#ab0226d50190fdf11e5380387a32f5ffd">IsExternal</a>()) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;ue\&quot;&quot;</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;u\&quot;&quot;</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a3958dda407d185d6005d03934474bc26">IsInternalized</a>()) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;#&quot;</span>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a5af117ebcc7191cc223d3625ee292401">IsCons</a>()) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;c\&quot;&quot;</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a28c6d13fd66b5aaf248bc39ecf0adbe8">IsThin</a>()) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;&gt;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#ab0226d50190fdf11e5380387a32f5ffd">IsExternal</a>()) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;e\&quot;&quot;</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#ac725dec29f96d909415b1769898ce2aa">  600</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1internal_1_1String.html#ac725dec29f96d909415b1769898ce2aa">String::SuffixForDebugPrint</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a3958dda407d185d6005d03934474bc26">IsInternalized</a>()) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">return</span> <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a01a2a3b88a627a1759ec18185c6d3b8f">  606</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a01a2a3b88a627a1759ec18185c6d3b8f">String::StringShortPrint</a>(<a class="code" href="classv8_1_1internal_1_1StringStream.html">StringStream</a>* accumulator) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keyword">const</span> uint32_t len = <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>();</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<span class="stringliteral">&quot;&lt;String[%u]: &quot;</span>, len);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a574ace7f13b27c71cdc71c9e88d37d0b">PrefixForDebugPrint</a>());</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span> (len &gt; <a class="code" href="classv8_1_1internal_1_1String.html#ae6a1ea5defb6676397bc02a873d1df51">kMaxShortPrintLength</a>) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<span class="stringliteral">&quot;...&lt;truncated&gt;&gt;&quot;</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ac725dec29f96d909415b1769898ce2aa">SuffixForDebugPrint</a>());</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#a24a1a07729bf42969140ba16f3351920">Put</a>(<span class="charliteral">&#39;&gt;&#39;</span>);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String.html#aea55a02f85df72a16ca12a02cff5cd2b">PrintUC16</a>(accumulator, 0, len);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ac725dec29f96d909415b1769898ce2aa">SuffixForDebugPrint</a>());</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#a24a1a07729bf42969140ba16f3351920">Put</a>(<span class="charliteral">&#39;&gt;&#39;</span>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#aea55a02f85df72a16ca12a02cff5cd2b">  623</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#aea55a02f85df72a16ca12a02cff5cd2b">String::PrintUC16</a>(std::ostream&amp; os, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &lt; 0) <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keyword">this</span>, start);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = start; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp; stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a5f6356cddd0737cffccb427d703009b0">HasMore</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    os &lt;&lt; <a class="code" href="structv8_1_1internal_1_1AsUC16.html">AsUC16</a>(stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a78769916c2be83815a1a5b1a849d73fe">GetNext</a>());</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a71217e6aa0e0d6ac123c5b79641c63f3">  631</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#aea55a02f85df72a16ca12a02cff5cd2b">String::PrintUC16</a>(<a class="code" href="classv8_1_1internal_1_1StringStream.html">StringStream</a>* accumulator, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &lt; 0) <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keyword">this</span>, start);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = start; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp; stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a5f6356cddd0737cffccb427d703009b0">HasMore</a>(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> c = stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a78769916c2be83815a1a5b1a849d73fe">GetNext</a>();</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<span class="stringliteral">&quot;\\n&quot;</span>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\r&#39;</span>) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<span class="stringliteral">&quot;\\r&quot;</span>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<span class="stringliteral">&quot;\\\\&quot;</span>);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!std::isprint(c)) {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">Add</a>(<span class="stringliteral">&quot;\\x%02x&quot;</span>, c);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;      accumulator-&gt;<a class="code" href="classv8_1_1internal_1_1StringStream.html#a24a1a07729bf42969140ba16f3351920">Put</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(c));</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  }</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;}</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a27c7ad36e19fe8c40231671ff4f6919f">  650</a></span>&#160;<a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="classv8_1_1internal_1_1String.html#a27c7ad36e19fe8c40231671ff4f6919f">String::ToArrayIndex</a>(<a class="code" href="classuintptr__t.html">Address</a> addr) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>(addr);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;AsArrayIndex(&amp;<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>)) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &lt;= INT_MAX) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">template</span> &lt;<span class="keyword">typename</span>&gt; <span class="keyword">typename</span> HandleType&gt;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a36a7038a14420f718296215cbf007ed9">requires</a>(std::is_convertible_v&lt;HandleType&lt;String&gt;, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a>&gt;)</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;HandleType&lt;<a class="code" href="classv8_1_1internal_1_1Union.html">Number</a>&gt; <a class="code" href="classv8_1_1internal_1_1String.html">String</a>::<a class="code" href="namespacev8_1_1internal.html#a5a857fe236959ea037b3dd560a3414f0">ToNumber</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                    HandleType&lt;<a class="code" href="classv8_1_1internal_1_1String.html">String</a>&gt; subject) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;factory()-&gt;NewNumber(</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aea85197770e2dbc0f392c9af2ad3a7d8">StringToDouble</a>(isolate, subject, <a class="code" href="namespacev8_1_1internal.html#ab16cc65aad4270433887227fd1d52f02ad5def827bf43fa74375bc9180b786eb4">ALLOW_NON_DECIMAL_PREFIX</a>));</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160; </div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    DirectHandle&lt;Number&gt; <a class="code" href="classv8_1_1Value.html#ad839682af9a28cd743ad88d874aefa33">String::ToNumber</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                          DirectHandle&lt;String&gt; subject);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    IndirectHandle&lt;Number&gt; <a class="code" href="classv8_1_1Value.html#ad839682af9a28cd743ad88d874aefa33">String::ToNumber</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                                            IndirectHandle&lt;String&gt; subject);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;String::FlatContent <a class="code" href="classv8_1_1internal_1_1String.html#a74e826ce61e9da33eeb62ba347e78ca9">String::SlowGetFlatContent</a>(</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>,</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keyword">const</span> SharedStringAccessGuardIfNeeded&amp; access_guard) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  Tagged&lt;String&gt; <span class="keywordtype">string</span> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  StringShape shape(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  uint32_t offset = 0;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// Extract cons- and sliced strings.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">if</span> (shape.IsCons()) {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    Tagged&lt;ConsString&gt; <a class="code" href="classv8_1_1internal_1_1String.html#a5459891309b58be7e1948274d9114f07">cons</a> = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1String.html#a5459891309b58be7e1948274d9114f07">cons</a>-&gt;IsFlat()) <span class="keywordflow">return</span> FlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordtype">string</span> = <a class="code" href="classv8_1_1internal_1_1String.html#a5459891309b58be7e1948274d9114f07">cons</a>-&gt;first();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    shape = StringShape(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.IsSliced()) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    Tagged&lt;SlicedString&gt; slice = Cast&lt;SlicedString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    offset = slice-&gt;offset();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordtype">string</span> = slice-&gt;parent();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    shape = StringShape(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!shape.IsCons());</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!shape.IsSliced());</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">// Extract thin strings.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">if</span> (shape.IsThin()) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    Tagged&lt;ThinString&gt; thin = Cast&lt;ThinString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordtype">string</span> = thin-&gt;actual();</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    shape = StringShape(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(shape.IsDirect());</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#a384c37d72b89b918d1e508ab91e041ef">TryGetFlatContentFromDirectString</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, <span class="keywordtype">string</span>, offset, <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>(),</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                                           access_guard)</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      .value();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#ae41af71f351bd05d8af7a7815b5a6faa">  713</a></span>&#160;std::unique_ptr&lt;char[]&gt; <a class="code" href="classv8_1_1internal_1_1String.html#ae41af71f351bd05d8af7a7815b5a6faa">String::ToCString</a>(uint32_t offset, uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                                          <span class="keywordtype">size_t</span>* length_return) {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>, this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>());</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(offset, this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>() - length);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keyword">this</span>, offset);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// First, compute the required size of the output buffer.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordtype">size_t</span> utf8_bytes = stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a882d1bed6544168818133d055092cda8">CountUtf8Bytes</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keywordflow">if</span> (length_return) {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    *length_return = utf8_bytes;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Second, allocate the output buffer.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  <span class="keywordtype">size_t</span> capacity = utf8_bytes + 1;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = NewArray&lt;char&gt;(capacity);</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="comment">// Third, encode the string into the output buffer.</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a37dd9665362c497b967dee5a9f003f0e">Reset</a>(<span class="keyword">this</span>, offset);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordtype">size_t</span> pos = stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a5c1516f0eb8ef18fc946d3d3b950bf80">WriteUtf8Bytes</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, utf8_bytes);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="comment">// Add an explicit null terminator</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(pos, capacity);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>[pos] = 0;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160; </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;char[]&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;}</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a82d68cd8ffddb65cd050615288877e2a">  742</a></span>&#160;std::unique_ptr&lt;char[]&gt; <a class="code" href="classv8_1_1internal_1_1String.html#ae41af71f351bd05d8af7a7815b5a6faa">String::ToCString</a>(<span class="keywordtype">size_t</span>* length_return) {</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#ae41af71f351bd05d8af7a7815b5a6faa">ToCString</a>(0, <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>(), length_return);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a642feba624127740fd29009651525870">  746</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="classv8_1_1internal_1_1String.html#a642feba624127740fd29009651525870">String::ToStdString</a>() {</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  uint32_t <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a> = this-&gt;<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keyword">this</span>, 0);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordtype">size_t</span> utf8_bytes = stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a882d1bed6544168818133d055092cda8">CountUtf8Bytes</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.resize(utf8_bytes);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a37dd9665362c497b967dee5a9f003f0e">Reset</a>(<span class="keyword">this</span>, 0);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a5c1516f0eb8ef18fc946d3d3b950bf80">WriteUtf8Bytes</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.data(), utf8_bytes);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;}</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SinkCharT&gt;</div>
<div class="line"><a name="l00763"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">  763</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> source, SinkCharT* sink, uint32_t start,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                         uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">SharedStringAccessGuardIfNeeded::IsNeeded</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a>));</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">WriteToFlat</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a>, sink, start, <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>,</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#ab6c21fca52e33d911bf7a47b40ee4264">SharedStringAccessGuardIfNeeded::NotNeeded</a>());</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SinkCharT&gt;</div>
<div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#aedb2864d307ddc770d616323e5f02ba3">  771</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> source, SinkCharT* sink, uint32_t start,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                         uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard) {</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a> == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>, 0);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(<a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>, <a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a>-&gt;length());</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(start, <a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a>-&gt;length());</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(start + <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a>, <a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a>-&gt;length());</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160; </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a>-&gt;DispatchToSpecificType(absl::Overload{</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            [&amp;](Tagged&lt;SeqOneByteString&gt; str) {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;              CopyChars(sink, str-&gt;GetChars(no_gc, access_guard) + start,</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                        length);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;              return true;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            },</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SeqTwoByteString&gt;</a> str) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;              CopyChars(sink, str-&gt;GetChars(no_gc, access_guard) + start,</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                        length);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;              return true;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            },</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalOneByteString&gt;</a> str) {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;              CopyChars(sink, str-&gt;GetChars() + start, length);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;              return true;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;            },</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalTwoByteString&gt;</a> str) {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;              CopyChars(sink, str-&gt;GetChars() + start, length);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;              return true;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;            },</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a> cons_string) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;              Tagged&lt;String&gt; first = cons_string-&gt;first();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;              uint32_t boundary = first-&gt;length();</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;              <span class="comment">// Here we explicitly use signed ints as the values can become</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;              <span class="comment">// negative. The sum of {first_length} and {second_length} is</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;              <span class="comment">// always {length}, but the values can become negative, in which</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;              <span class="comment">// case no characters of the respective string are needed.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;              int32_t first_length = boundary - start;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;              int32_t second_length = length - first_length;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;              DCHECK_EQ(static_cast&lt;uint32_t&gt;(first_length + second_length),</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                        length);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;              if (second_length &gt;= first_length) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                DCHECK_GT(second_length, 0);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                <span class="comment">// Right hand side is longer.  Recurse over left.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                if (first_length &gt; 0) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                  DCHECK_LT(first_length, length);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                  DCHECK_LT(second_length, length);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                  WriteToFlat(first, sink, start, first_length, access_guard);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                  if (start == 0 &amp;&amp; cons_string-&gt;second() == first) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                    DCHECK_LE(boundary * 2, length);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                    CopyChars(sink + boundary, sink, boundary);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                    return true;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                  }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                  sink += first_length;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                  start = 0;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                  length -= first_length;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                } else {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                  start -= boundary;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                source = cons_string-&gt;second();</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                DCHECK_GT(first_length, 0);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                <span class="comment">// Left hand side is longer.  Recurse over right.</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                if (second_length &gt; 0) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                  DCHECK_LT(first_length, length);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                  DCHECK_LT(second_length, length);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160; </div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                  uint32_t second_start = first_length;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                  DCHECK_EQ(second_start + second_length, length);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                  Tagged&lt;String&gt; second = cons_string-&gt;second();</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                  <span class="comment">// When repeatedly appending to a string, we get a cons string</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                  <span class="comment">// that is unbalanced to the left, a list, essentially.  We</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                  <span class="comment">// inline the common case of sequential one-byte right child.</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                  if (second_length == 1) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                    sink[second_start] =</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                        static_cast&lt;SinkCharT&gt;(second-&gt;Get(0, access_guard));</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                  } else if (IsSeqOneByteString(second)) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    CopyChars(sink + second_start,</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                              Cast&lt;SeqOneByteString&gt;(second)-&gt;GetChars(</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                                  no_gc, access_guard),</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                              second_length);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                  } else {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    WriteToFlat(second, sink + second_start, 0, second_length,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                access_guard);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                  }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                  length -= second_length;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <a class="code" href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">source</a> = first;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;              }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">length</a> == 0;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;            },</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SlicedString&gt;</a> slice) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;              uint32_t offset = slice-&gt;offset();</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;              source = slice-&gt;parent();</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;              start += offset;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            },</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            [&amp;](Tagged&lt;ThinString&gt; thin_string) {</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;              source = thin_string-&gt;actual();</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;              <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            }})) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  }</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;}</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SinkCharT&gt;</div>
<div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ac732c05eb3b1b4b97b36b40f4c489b37">  882</a></span>&#160;SinkCharT* <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ac732c05eb3b1b4b97b36b40f4c489b37">WriteNonConsToFlat2</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> src, <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape,</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                               SinkCharT* dst, uint32_t src_index,</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                               uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; aguard,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a5af117ebcc7191cc223d3625ee292401">IsCons</a>());</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(src_index + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, src-&gt;length());</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">return</span> shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a0f31f89c91ed936f7c98a2aa888c7006">DispatchToSpecificType</a>(</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;      src, absl::Overload{</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SeqOneByteString&gt;</a> s) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(dst, s-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, aguard) + src_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                 <span class="keywordflow">return</span> dst + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;               },</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SeqTwoByteString&gt;</a> s) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(dst, s-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, aguard) + src_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                 <span class="keywordflow">return</span> dst + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;               },</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalOneByteString&gt;</a> s) {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(dst, s-&gt;GetChars() + src_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                 <span class="keywordflow">return</span> dst + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;               },</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalTwoByteString&gt;</a> s) {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(dst, s-&gt;GetChars() + src_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                 <span class="keywordflow">return</span> dst + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;               },</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SlicedString&gt;</a> s) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> parent = s-&gt;parent();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                 <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ac732c05eb3b1b4b97b36b40f4c489b37">WriteNonConsToFlat2</a>(parent, <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>{parent}, dst,</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                                            src_index + s-&gt;offset(), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                            aguard, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;               },</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ThinString&gt;</a> s) {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> actual = Cast&lt;ThinString&gt;(src)-&gt;actual();</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                 <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ac732c05eb3b1b4b97b36b40f4c489b37">WriteNonConsToFlat2</a>(actual, <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>{actual}, dst,</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                                            src_index, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, aguard, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;               },</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;               [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a>) -&gt; SinkCharT* { <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>(); }});</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; </div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6">  921</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6">WriteToFlatImplVariant</a> {</div>
<div class="line"><a name="l00922"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6a39115a7c10a683c8de51ab70b79b0ed1">  922</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6a39115a7c10a683c8de51ab70b79b0ed1">kWTFSeqOneByte</a>,</div>
<div class="line"><a name="l00923"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6aa70b4a61cec0dc2733eae6cf5f721284">  923</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6aa70b4a61cec0dc2733eae6cf5f721284">kWTFGeneric</a>,</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;};</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160; </div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">// A SmallVector-based stack with a cached top element. The cached top is vital</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">// for arm64 performance. This would be more natural within a class, but sadly</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">// arm64 performance regresses significantly if so, since that also causes the</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">// cached top to be spilled onto the stack.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a77212673c855017405f00a2e4651495a">  930</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classv8_1_1base_1_1SmallVector.html">wtf_stack_t</a> = <a class="code" href="classv8_1_1base_1_1SmallVector.html">base::SmallVector&lt;Tagged&lt;String&gt;</a>, 32&gt;;</div>
<div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a60c185b0f8c838c3e07c7beee002d08e">  931</a></span>&#160;<span class="keyword">using</span> <a class="code" href="classv8_1_1internal_1_1Tagged.html">wtf_stack_top_t</a> = <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#afbd2d9caf24ef62567944b1595e9d3aa">  933</a></span>&#160;<a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#afbd2d9caf24ef62567944b1595e9d3aa">wtf_push</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">wtf_stack_top_t</a>&amp; top, <a class="code" href="classv8_1_1base_1_1SmallVector.html">wtf_stack_t</a>&amp; <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>,</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (!top.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>()) <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>.push_back(top);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  top = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4c9e282de26361674d6cdf914d4f4c08">  939</a></span>&#160;<a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4c9e282de26361674d6cdf914d4f4c08">wtf_try_pop</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">wtf_stack_top_t</a>&amp; top, <a class="code" href="classv8_1_1base_1_1SmallVector.html">wtf_stack_t</a>&amp; <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>,</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a>(!top.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>())) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = top;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    top = {};</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a>(!<a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>.empty())) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>.back();</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>.pop_back();</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160; </div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">// Omits repeated flattening of one string (based on pointer identity) by</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">// remembering its first flattened position, and simply copying that region</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">// when encountering it again.</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SinkCharT&gt;</div>
<div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html">  958</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html">WriteToFlat_RepeatOptimizer</a> final {</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00960"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3f5f010a43d959fe6226a2587db48cd4">  960</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3f5f010a43d959fe6226a2587db48cd4">RecordFirstOccurrence</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> s,</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                       <span class="keyword">const</span> SinkCharT* position) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    enabled_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keyword">auto</span> it = first_occurrence_.find(s.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>());</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">if</span> (it == first_occurrence_.end()) {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      first_occurrence_.insert({s.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>(), position});</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#ad52202c777dffa53e426dc649a061e1f">  969</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#ad52202c777dffa53e426dc649a061e1f">TryApply</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> s, SinkCharT** current_position) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(enabled_)) {</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="keyword">auto</span> it = first_occurrence_.find(s.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>());</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">if</span> (it != first_occurrence_.end()) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <span class="keyword">const</span> SinkCharT* previous_position = it-&gt;second;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="keywordflow">if</span> (*current_position != previous_position) {</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;          uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = s-&gt;length();</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(*current_position, previous_position - <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;          previous_position -= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          (*current_position) -= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(*current_position, previous_position, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a2085aae7683a5b15115f271f43675e80">  987</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a2085aae7683a5b15115f271f43675e80">enabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> enabled_; }</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// Only enable once we&#39;ve seen a candidate, to reduce overhead.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#adb5d709cdedadd56bc2f279ce99abe1a">  991</a></span>&#160;  <span class="keywordtype">bool</span> enabled_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// Maps a Tagged&lt;String&gt;::ptr() to its first flattened occurrence.</span></div>
<div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3baa347623fd4369366076c3e15cd3a1">  993</a></span>&#160;  std::unordered_map&lt;Address, const SinkCharT*&gt; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3baa347623fd4369366076c3e15cd3a1">first_occurrence_</a>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;};</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="keyword">template</span> &lt;WriteToFlatImplVariant kVariant, <span class="keyword">typename</span> SinkCharT&gt;</div>
<div class="line"><a name="l00997"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a594af923a523f3a9a42001835461d0f4">  997</a></span>&#160;<a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a594af923a523f3a9a42001835461d0f4">WriteToFlat2Impl</a>(SinkCharT*&amp; rdst, <a class="code" href="classv8_1_1internal_1_1Tagged.html">wtf_stack_top_t</a>&amp; top,</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                                <a class="code" href="classv8_1_1base_1_1SmallVector.html">wtf_stack_t</a>&amp; <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html">WriteToFlat_RepeatOptimizer&lt;SinkCharT&gt;</a>&amp; ropt,</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; aguard,</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) {</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> s;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4c9e282de26361674d6cdf914d4f4c08">wtf_try_pop</a>(top, <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>, &amp;s))) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape{s};</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160; </div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">if</span> constexpr (kVariant == <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6aa70b4a61cec0dc2733eae6cf5f721284">kWTFGeneric</a>) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(ropt.<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#ad52202c777dffa53e426dc649a061e1f">TryApply</a>(s, &amp;rdst))) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="comment">// Descend into the rightmost leaf and push left branches onto the stack.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">// Alternatively, we could always flatten the shorter side first, where</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// substring length is used as a heuristic for substring tree depth, in</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="comment">// order to minimize stack size. That approach has different trade-offs,</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">// for example: the stack would have to store both the string and the</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="comment">// current `rdst` value, and the write sequence may be less cache-friendly.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">while</span> (shape.IsCons()) {</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keyword">auto</span> cons = Cast&lt;ConsString&gt;(s);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <span class="keyword">auto</span> first = cons-&gt;first();</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#afbd2d9caf24ef62567944b1595e9d3aa">wtf_push</a>(top, <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>, first);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      s = cons-&gt;second();</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(s == first)) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        ropt.<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3f5f010a43d959fe6226a2587db48cd4">RecordFirstOccurrence</a>(s, rdst);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>{s};</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">if</span> constexpr (kVariant == <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6a39115a7c10a683c8de51ab70b79b0ed1">kWTFSeqOneByte</a>) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="keywordflow">if</span> (!shape.IsSequentialOneByte() || <a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(ropt.<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a2085aae7683a5b15115f271f43675e80">enabled</a>())) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="comment">// Exit the specialized variant. Note the caller MUST follow up with</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="comment">// the kGeneric variant.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#afbd2d9caf24ef62567944b1595e9d3aa">wtf_push</a>(top, <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>, s);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      uint8_t* chars = Cast&lt;SeqOneByteString&gt;(s)-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, aguard);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = s-&gt;length();</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      rdst -= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">CopyChars</a>(rdst, chars, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      static_assert(kVariant == <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6aa70b4a61cec0dc2733eae6cf5f721284">kWTFGeneric</a>);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = s-&gt;length();</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      rdst -= <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ac732c05eb3b1b4b97b36b40f4c489b37">WriteNonConsToFlat2</a>(s, shape, rdst, 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, aguard, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;}</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160; </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SinkCharT&gt;</div>
<div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#acddec9d4fdd949658d14de3ff11e211b"> 1052</a></span>&#160;<span class="keywordtype">void</span> String::WriteToFlat2(SinkCharT* dst, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a> src,</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                          uint32_t src_index, uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; aguard,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                          <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, 0);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!src-&gt;IsFlat());</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(src_index + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, src-&gt;length());</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160; </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="comment">// Limitations of the current implementation, which only supports flattening</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="comment">// the entire string.</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(src_index, 0);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, src-&gt;length());</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160; </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// See also: https://crbug.com/415407113.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(Sandbox::current()-&gt;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(dst));</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160; </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="comment">// The most common form of cons strings are degenerate unbalanced left-heavy</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// binary trees (i.e. where `second` is a flat string and `first` another</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="comment">// cons string). This form is created when building a string by appending</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// repeatedly: `str = &quot;a&quot; + &quot;b&quot; + ... + &quot;z&quot;;</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="comment">// To optimize for this, we flatten in reverse-DFS order, i.e. right-to-left.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// This way, the stack never grows beyond size 1. Additionally, we elide the</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="comment">// stack push for the element that will immediately be processed next.</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// Finally, the iterative algorithm is split into two physically separate</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// loops - the first is optimized for cases when the cons tree contains only</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="comment">// sequential one-byte strings. The second handles all other cases</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="comment">// generically.</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// Note this implementation is highly tuned. Please don&#39;t change anything</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// without watching benchmark scores.</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160; </div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  SinkCharT* rdst = dst + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;  <span class="comment">// Reverse cursor.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a77212673c855017405f00a2e4651495a">wtf_stack_t</a> <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>{src-&gt;first()};</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a60c185b0f8c838c3e07c7beee002d08e">wtf_stack_top_t</a> top = src-&gt;second();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  WriteToFlat_RepeatOptimizer&lt;SinkCharT&gt; ropt;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  WriteToFlat2Impl&lt;kWTFSeqOneByte&gt;(rdst, top, <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>, ropt, aguard, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  WriteToFlat2Impl&lt;kWTFGeneric&gt;(rdst, top, <a class="code" href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">stack</a>, ropt, aguard, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;}</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160; </div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a2282a5ffa3082ed4f52488ebee3a2b49"> 1096</a></span>&#160;<span class="keywordtype">size_t</span> String::WriteUtf8(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                         <span class="keywordtype">char</span>* buffer, <span class="keywordtype">size_t</span> capacity, <a class="code" href="classv8_1_1base_1_1Flags.html">Utf8EncodingFlags</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                         <span class="keywordtype">size_t</span>* processed_characters_return) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> &amp; Utf8EncodingFlag::kNullTerminate, capacity &gt; 0);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(capacity &gt; 0, buffer != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keywordtype">string</span> = Flatten(isolate, <span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">FlatContent</a> content = <span class="keywordtype">string</span>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">IsFlat</a>());</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keyword">auto</span> encoding_result = content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                             ? unibrow::Utf8::Encode&lt;uint8_t&gt;(</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                   content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(), buffer, capacity,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                   <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> &amp; Utf8EncodingFlag::kNullTerminate,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                                   <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> &amp; Utf8EncodingFlag::kReplaceInvalid)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                             : unibrow::Utf8::Encode&lt;uint16_t&gt;(</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                   content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(), buffer, capacity,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                   <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> &amp; Utf8EncodingFlag::kNullTerminate,</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                   <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> &amp; Utf8EncodingFlag::kReplaceInvalid);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">if</span> (processed_characters_return != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    *processed_characters_return = encoding_result.characters_processed;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">return</span> encoding_result.bytes_written;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;}</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160; </div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">// LINT.IfChange(StringDoesNotContainEscapeCharacters)</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a03ae0a982df5ae458040d1f335a31195"> 1127</a></span>&#160;<span class="keywordtype">bool</span> String::DoesNotContainEscapeCharacters(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">// This method is not optimized. It is only meant to be used in verification</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">// code.</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordtype">bool</span> requires_escape = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">while</span> (stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a5f6356cddd0737cffccb427d703009b0">HasMore</a>() &amp;&amp; !requires_escape) {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> c = stream.<a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html#a78769916c2be83815a1a5b1a849d73fe">GetNext</a>();</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    requires_escape =</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        c &lt; 0x20 || c == 0x22 || c == 0x5c || (c &gt;= 0xD800 &amp;&amp; c &lt;= 0xDFFF);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">return</span> !requires_escape;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">// LINT.ThenChange(/src/json/json-stringifier.cc:StringDoesNotContainEscapeCharacters)</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SourceChar&gt;</div>
<div class="line"><a name="l01142"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#ae21e114b7a6cc5dbea6a2d6fb307acb2"> 1142</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#ae21e114b7a6cc5dbea6a2d6fb307acb2">CalculateLineEndsImpl</a>(<a class="code" href="classv8_1_1base_1_1SmallVector.html">String::LineEndsVector</a>* line_ends,</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                                  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const SourceChar&gt;</a> src,</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                                  <span class="keywordtype">bool</span> include_ending_line) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> src_len = src.<a class="code" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; src_len - 1; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    SourceChar current = src[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    SourceChar next = src[<a class="code" href="namespacev8_1_1internal.html">i</a> + 1];</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a2cf07368b881c07b1f5b41b639800e70">IsLineTerminatorSequence</a>(current, next)) line_ends-&gt;<a class="code" href="classv8_1_1base_1_1SmallVector.html#ad8177749a526ab128a35c4ec8b0cddf7">push_back</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">if</span> (src_len &gt; 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#a2cf07368b881c07b1f5b41b639800e70">IsLineTerminatorSequence</a>(src[src_len - 1], 0)) {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    line_ends-&gt;<a class="code" href="classv8_1_1base_1_1SmallVector.html#ad8177749a526ab128a35c4ec8b0cddf7">push_back</a>(src_len - 1);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  }</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (include_ending_line) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="comment">// Include one character beyond the end of script. The rewriter uses that</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="comment">// position for the implicit return statement.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    line_ends-&gt;<a class="code" href="classv8_1_1base_1_1SmallVector.html#ad8177749a526ab128a35c4ec8b0cddf7">push_back</a>(src_len);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;}</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> IsolateT&gt;</div>
<div class="line"><a name="l01163"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a2cb959d1fb1d9b63908d2a794c5097e1"> 1163</a></span>&#160;<a class="code" href="classv8_1_1base_1_1SmallVector.html">String::LineEndsVector</a> String::CalculateLineEndsVector(</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    IsolateT* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> src, <span class="keywordtype">bool</span> include_ending_line) {</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  src = Flatten(isolate, src);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// Rough estimate of line count based on a roughly estimated average</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// length of packed code. Most scripts have &lt; 32 lines.</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordtype">int</span> line_count_estimate = (src-&gt;length() &gt;&gt; 6) + 16;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <a class="code" href="classv8_1_1base_1_1SmallVector.html">LineEndsVector</a> line_ends;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  line_ends.<a class="code" href="classv8_1_1base_1_1SmallVector.html#acdf0c4137825446285f71e5f16842b9e">reserve</a>(line_count_estimate);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  {</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">// Dispatch on type of strings.</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> content = src-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">IsFlat</a>());</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ae21e114b7a6cc5dbea6a2d6fb307acb2">CalculateLineEndsImpl</a>(&amp;line_ends, content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(),</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                            include_ending_line);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ae21e114b7a6cc5dbea6a2d6fb307acb2">CalculateLineEndsImpl</a>(&amp;line_ends, content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(),</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                            include_ending_line);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">return</span> line_ends;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;}</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160; </div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1base_1_1SmallVector.html">String::LineEndsVector</a> String::CalculateLineEndsVector(</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> src, <span class="keywordtype">bool</span> include_ending_line);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1base_1_1SmallVector.html">String::LineEndsVector</a> String::CalculateLineEndsVector(</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> src, <span class="keywordtype">bool</span> include_ending_line);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> IsolateT&gt;</div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#aa73faf526014486f6d7c4547fc60b9e2"> 1193</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedArray&gt;</a> String::CalculateLineEnds(IsolateT* isolate,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                             <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> src,</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                                             <span class="keywordtype">bool</span> include_ending_line) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="classv8_1_1base_1_1SmallVector.html">LineEndsVector</a> line_ends =</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      CalculateLineEndsVector(isolate, src, include_ending_line);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordtype">int</span> line_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(line_ends.<a class="code" href="classv8_1_1base_1_1SmallVector.html#a376b32218e50b6efec68f577c009885d">size</a>());</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedArray&gt;</a> array =</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      isolate-&gt;factory()-&gt;NewFixedArray(line_count, AllocationType::kOld);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> raw_array = *array;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; line_count; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      raw_array-&gt;set(<a class="code" href="namespacev8_1_1internal.html">i</a>, Smi::FromInt(line_ends[<a class="code" href="namespacev8_1_1internal.html">i</a>]));</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    }</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">return</span> array;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;}</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedArray&gt;</a> String::CalculateLineEnds(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                                      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> src,</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                                      <span class="keywordtype">bool</span> include_ending_line);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="keyword">template</span> <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;FixedArray&gt;</a> String::CalculateLineEnds(<a class="code" href="classv8_1_1internal_1_1LocalIsolate.html">LocalIsolate</a>* isolate,</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                                      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> src,</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;                                                      <span class="keywordtype">bool</span> include_ending_line);</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160; </div>
<div class="line"><a name="l01218"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a9c84fcfb44b681f7c50a41e70b94cb4f"> 1218</a></span>&#160;<span class="keywordtype">bool</span> String::SlowEquals(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!SharedStringAccessGuardIfNeeded::IsNeeded(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!SharedStringAccessGuardIfNeeded::IsNeeded(other));</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keywordflow">return</span> SlowEquals(other, SharedStringAccessGuardIfNeeded::NotNeeded());</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;}</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160; </div>
<div class="line"><a name="l01224"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#ab6235239c18a7ca433639dd72662e891"> 1224</a></span>&#160;<span class="keywordtype">bool</span> String::SlowEquals(</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> other,</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">// Fast check: negative check with lengths.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  uint32_t len = <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>();</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keywordflow">if</span> (len != other-&gt;length()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keywordflow">if</span> (len == 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// Fast check: if at least one ThinString is involved, dereference it/them</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="comment">// and restart.</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(<span class="keyword">this</span>) || <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(other)) {</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(other)) other = Cast&lt;ThinString&gt;(other)-&gt;actual();</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;      <span class="keywordflow">return</span> Cast&lt;ThinString&gt;(<span class="keyword">this</span>)-&gt;actual()-&gt;Equals(other);</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">return</span> this-&gt;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02regexp-compiler-tonode_8cc_03.html#a3854d1dfaff31fa9041dc458341c2415">Equals</a>(other);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  }</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; </div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="comment">// Fast check: if hash code is computed for both strings</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="comment">// a fast negative check can be performed.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  uint32_t this_hash;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  uint32_t other_hash;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordflow">if</span> (TryGetHash(&amp;this_hash) &amp;&amp; other-&gt;TryGetHash(&amp;other_hash)) {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="preprocessor">#ifdef ENABLE_SLOW_DCHECKS</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.enable_slow_asserts) {</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">if</span> (this_hash != other_hash) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <span class="keywordtype">bool</span> found_difference = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; len; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>) != other-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;            found_difference = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;          }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(found_difference);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (this_hash != other_hash) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160; </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="comment">// We know the strings are both non-empty. Compare the first chars</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="comment">// before we try to flatten the strings.</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">if</span> (this-&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(0, access_guard) != other-&gt;Get(0, access_guard)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160; </div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">if</span> (IsSeqOneByteString(<span class="keyword">this</span>) &amp;&amp; IsSeqOneByteString(other)) {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keyword">const</span> uint8_t* str1 =</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        Cast&lt;SeqOneByteString&gt;(<span class="keyword">this</span>)-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, access_guard);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keyword">const</span> uint8_t* str2 =</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        Cast&lt;SeqOneByteString&gt;(other)-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, access_guard);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a75979deb107a3b8ddf9cd65c994d9a67">CompareCharsEqual</a>(str1, str2, len);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160; </div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringComparator.html">StringComparator</a> comparator;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">return</span> comparator.<a class="code" href="classv8_1_1internal_1_1StringComparator.html#a461c33dfaa39d470b8f1efcde929c6c3">Equals</a>(<span class="keyword">this</span>, other, access_guard);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;}</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#adfea0b1bd73e616db5deb510d894bce6"> 1283</a></span>&#160;<span class="keywordtype">bool</span> String::SlowEquals(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>,</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> two) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="comment">// Fast check: negative check with lengths.</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keyword">const</span> uint32_t one_length = <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>-&gt;length();</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">if</span> (one_length != two-&gt;length()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="keywordflow">if</span> (one_length == 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// Fast check: if at least one ThinString is involved, dereference it/them</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">// and restart.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(*<a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>) || <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(*two)) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(*<a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>)) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a> = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(Cast&lt;ThinString&gt;(*one)-&gt;actual(), isolate);</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    }</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(*two)) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      two = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(Cast&lt;ThinString&gt;(*two)-&gt;actual(), isolate);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02regexp-compiler-tonode_8cc_03.html#a3854d1dfaff31fa9041dc458341c2415">String::Equals</a>(isolate, <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>, two);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// Fast check: if hash code is computed for both strings</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="comment">// a fast negative check can be performed.</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  uint32_t one_hash;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  uint32_t two_hash;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>-&gt;TryGetHash(&amp;one_hash) &amp;&amp; two-&gt;TryGetHash(&amp;two_hash)) {</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="preprocessor">#ifdef ENABLE_SLOW_DCHECKS</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.enable_slow_asserts) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <span class="keywordflow">if</span> (one_hash != two_hash) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordtype">bool</span> found_difference = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;        <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; one_length; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a>) != two-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a>)) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;            found_difference = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;          }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        }</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(found_difference);</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      }</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    }</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">if</span> (one_hash != two_hash) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a> = String::Flatten(isolate, <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>);</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  two = String::Flatten(isolate, two);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> flat1 = <a class="code" href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> flat2 = two-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">if</span> (flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>() &amp;&amp; flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a75979deb107a3b8ddf9cd65c994d9a67">CompareCharsEqual</a>(flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(),</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                             flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), one_length);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">IsTwoByte</a>() &amp;&amp; flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">IsTwoByte</a>()) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a75979deb107a3b8ddf9cd65c994d9a67">CompareCharsEqual</a>(flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(),</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                             flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), one_length);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>() &amp;&amp; flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">IsTwoByte</a>()) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a75979deb107a3b8ddf9cd65c994d9a67">CompareCharsEqual</a>(flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(),</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                             flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), one_length);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">IsTwoByte</a>() &amp;&amp; flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a75979deb107a3b8ddf9cd65c994d9a67">CompareCharsEqual</a>(flat1.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(),</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;                             flat2.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), one_length);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;}</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a4068a96ed70d7768512578419c5305a2"> 1348</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#a81543493e151f8a1b5ebb6917861838e">ComparisonResult</a> <a class="code" href="namespacev8_1_1bigint.html#a3f5783b42cb7b4ac89502447815b6fc5">String::Compare</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> x,</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="comment">// A few fast case tests before we flatten.</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  <span class="keywordflow">if</span> (x.<a class="code" href="classv8_1_1internal_1_1DirectHandle.html#a616490b5813ae8be61c7d607af9f9dbd">is_identical_to</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>)) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac0ed9651e6769dd886c6e6e713cf5067">ComparisonResult::kEqual</a>;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>-&gt;length() == 0) {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="keywordflow">return</span> x-&gt;length() == 0 ? <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac0ed9651e6769dd886c6e6e713cf5067">ComparisonResult::kEqual</a></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                            : <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a91630e3bea4acdc25a85c839ab2ce574">ComparisonResult::kGreaterThan</a>;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x-&gt;length() == 0) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad13d3d584e488a474dfd415a2601f0b3">ComparisonResult::kLessThan</a>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; </div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="keywordtype">int</span> <span class="keyword">const</span> d = x-&gt;Get(0) - <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>-&gt;Get(0);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">if</span> (d &lt; 0) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad13d3d584e488a474dfd415a2601f0b3">ComparisonResult::kLessThan</a>;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (d &gt; 0) {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a91630e3bea4acdc25a85c839ab2ce574">ComparisonResult::kGreaterThan</a>;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="comment">// Slow case.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  x = String::Flatten(isolate, x);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a> = String::Flatten(isolate, <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160; </div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a81543493e151f8a1b5ebb6917861838e">ComparisonResult</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac0ed9651e6769dd886c6e6e713cf5067">ComparisonResult::kEqual</a>;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  uint32_t prefix_length = x-&gt;length();</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>-&gt;length() &lt; prefix_length) {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    prefix_length = <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>-&gt;length();</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a91630e3bea4acdc25a85c839ab2ce574">ComparisonResult::kGreaterThan</a>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>-&gt;length() &gt; prefix_length) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad13d3d584e488a474dfd415a2601f0b3">ComparisonResult::kLessThan</a>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  <span class="keywordtype">int</span> r;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> x_content = x-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> y_content = <a class="code" href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">y</a>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="keywordflow">if</span> (x_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> x_chars = x_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>();</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">if</span> (y_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> y_chars = y_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>();</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      r = <a class="code" href="namespacev8_1_1internal.html#ab445b21ec193011f4497d3b64b5be58d">CompareChars</a>(x_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), y_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), prefix_length);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> y_chars = y_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>();</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      r = <a class="code" href="namespacev8_1_1internal.html#ab445b21ec193011f4497d3b64b5be58d">CompareChars</a>(x_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), y_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), prefix_length);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> x_chars = x_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>();</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">if</span> (y_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> y_chars = y_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>();</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      r = <a class="code" href="namespacev8_1_1internal.html#ab445b21ec193011f4497d3b64b5be58d">CompareChars</a>(x_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), y_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), prefix_length);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> y_chars = y_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>();</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      r = <a class="code" href="namespacev8_1_1internal.html#ab445b21ec193011f4497d3b64b5be58d">CompareChars</a>(x_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), y_chars.<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>(), prefix_length);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (r &lt; 0) {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad13d3d584e488a474dfd415a2601f0b3">ComparisonResult::kLessThan</a>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r &gt; 0) {</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a91630e3bea4acdc25a85c839ab2ce574">ComparisonResult::kGreaterThan</a>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160; </div>
<div class="line"><a name="l01412"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4d6c438ddde7de69dbf2e5cd3b27542a"> 1412</a></span>&#160;uint32_t <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4d6c438ddde7de69dbf2e5cd3b27542a">ToValidIndex</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> str, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> number) {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="namespacev8_1_1internal.html#a2210b446b5a2df04a6f9e5a1762e6a36">PositiveNumberToUint32</a>(number);</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = str-&gt;length();</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;}</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a29342b6ab7c242b33698191df0d50a04"> 1421</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> String::IndexOf(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> receiver,</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                               <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>,</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;                               <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> position) {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">IsNullOrUndefined</a>(*receiver, isolate)) {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        isolate, NewTypeError(MessageTemplate::kCalledOnNullOrUndefined,</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                              isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">NewStringFromAsciiChecked</a>(</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                                  <span class="stringliteral">&quot;String.prototype.indexOf&quot;</span>)));</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> receiver_string;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, receiver_string,</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                                     <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">Object::ToString</a>(isolate, receiver));</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160; </div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> search_string;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, search_string,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                                     <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">Object::ToString</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>));</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160; </div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, position,</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                                     Object::ToInteger(isolate, position));</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4d6c438ddde7de69dbf2e5cd3b27542a">ToValidIndex</a>(*receiver_string, *position);</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="keywordflow">return</span> Smi::FromInt(</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;      String::IndexOf(isolate, receiver_string, search_string, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>));</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l01449"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae240c0c3e0ac76dbf86572d04bd60aff"> 1449</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae240c0c3e0ac76dbf86572d04bd60aff">SearchString</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> receiver_content,</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                 <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;T&gt;</a> pat_vector, <span class="keywordtype">int</span> start_index) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">if</span> (receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae240c0c3e0ac76dbf86572d04bd60aff">SearchString</a>(isolate, receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(), pat_vector,</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                        start_index);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae240c0c3e0ac76dbf86572d04bd60aff">SearchString</a>(isolate, receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(), pat_vector,</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                      start_index);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;}</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160; </div>
<div class="line"><a name="l01461"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#ac4ff9e7f38b4062303e57326e98baeeb"> 1461</a></span>&#160;<span class="keywordtype">int</span> String::IndexOf(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> receiver,</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;                    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>, uint32_t start_index) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(start_index, receiver-&gt;length());</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160; </div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afc28a5185c3861ebb4e77445c5b8eb68">search_length</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>-&gt;length();</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afc28a5185c3861ebb4e77445c5b8eb68">search_length</a> == 0) <span class="keywordflow">return</span> start_index;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  uint32_t receiver_length = receiver-&gt;length();</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordflow">if</span> (start_index + <a class="code" href="namespacev8_1_1internal.html#afc28a5185c3861ebb4e77445c5b8eb68">search_length</a> &gt; receiver_length) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160; </div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  receiver = String::Flatten(isolate, receiver);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a> = String::Flatten(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160; </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;  <span class="comment">// ensure vectors stay valid</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="comment">// Extract flattened substrings of cons strings before getting encoding.</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> receiver_content = receiver-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> search_content = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="comment">// dispatch on type of strings</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordflow">if</span> (search_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> pat_vector = search_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>();</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="keywordflow">return</span> SearchString&lt;const uint8_t&gt;(isolate, receiver_content, pat_vector,</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                       start_index);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  }</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> pat_vector = search_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>();</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="keywordflow">return</span> SearchString&lt;const base::uc16&gt;(isolate, receiver_content, pat_vector,</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                                        start_index);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;}</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a75e8698cc38a5db3ba3642987975e74f"> 1490</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">MaybeDirectHandle&lt;String&gt;</a> String::GetSubstitution(</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1String_1_1Match.html">Match</a>* match, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> replacement,</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    uint32_t start_index) {</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Factory.html">Factory</a>* factory = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>();</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> replacement_length = replacement-&gt;length();</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> captures_length = match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#a382d5424bc4d197567e9c9fa5ac2078d">CaptureCount</a>();</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  replacement = String::Flatten(isolate, replacement);</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> dollar_string =</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      factory-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a469db4bb090fc440f355ef7ea181d4a0">LookupSingleCharacterStringFromCode</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="keywordtype">int</span> next_dollar_ix =</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      String::IndexOf(isolate, replacement, dollar_string, start_index);</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keywordflow">if</span> (next_dollar_ix &lt; 0) {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">return</span> replacement;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160; </div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html">IncrementalStringBuilder</a> builder(isolate);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">if</span> (next_dollar_ix &gt; 0) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;    builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(factory-&gt;NewSubString(replacement, 0, next_dollar_ix));</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  }</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> peek_ix = next_dollar_ix + 1;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">if</span> (peek_ix &gt;= replacement_length) {</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">AppendCharacter</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="keywordflow">return</span> builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#aae44022f0483618b419fdce759becb78">Finish</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    }</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <span class="keywordtype">int</span> continue_from_ix = -1;</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> peek = replacement-&gt;Get(peek_ix);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">switch</span> (peek) {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;$&#39;</span>:  <span class="comment">// $$</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">AppendCharacter</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        continue_from_ix = peek_ix + 1;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;&amp;&#39;</span>:  <span class="comment">// $&amp; - match</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#aab7926a16ffa4be7ea8cfb5bbeccbad1">GetMatch</a>());</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        continue_from_ix = peek_ix + 1;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;`&#39;</span>:  <span class="comment">// $` - prefix</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#ab74a2a6efd37edb1fb5626a6e77b8e8e">GetPrefix</a>());</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        continue_from_ix = peek_ix + 1;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;\&#39;&#39;</span>:  <span class="comment">// $&#39; - suffix</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#a6ee63f2ca82ca17573e2151e26fda8f1">GetSuffix</a>());</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        continue_from_ix = peek_ix + 1;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>: {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;        <span class="comment">// Valid indices are $1 .. $9, $01 .. $09 and $10 .. $99</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordtype">int</span> scaled_index = (peek - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <span class="keywordtype">int</span> advance = 1;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">if</span> (peek_ix + 1 &lt; replacement_length) {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> next_peek = replacement-&gt;Get(peek_ix + 1);</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;          <span class="keywordflow">if</span> (next_peek &gt;= <span class="charliteral">&#39;0&#39;</span> &amp;&amp; next_peek &lt;= <span class="charliteral">&#39;9&#39;</span>) {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> new_scaled_index = scaled_index * 10 + (next_peek - <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;            <span class="keywordflow">if</span> (new_scaled_index &lt; captures_length) {</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;              scaled_index = new_scaled_index;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;              advance = 2;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            }</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;          }</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        <span class="keywordflow">if</span> (scaled_index == 0 || scaled_index &gt;= captures_length) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;          builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">AppendCharacter</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;          continue_from_ix = peek_ix;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        }</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160; </div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <span class="keywordtype">bool</span> capture_exists;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> capture;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            isolate, capture, match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#a1c62b35915da7b18e64ecbdafba9886e">GetCapture</a>(scaled_index, &amp;capture_exists));</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keywordflow">if</span> (capture_exists) builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(capture);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;        continue_from_ix = peek_ix + advance;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>: {  <span class="comment">// $&lt;name&gt; - named capture</span></div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <span class="keyword">using</span> CaptureState = <a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#ada8b606fa3a85b7690b84fbc559ab01a">String::Match::CaptureState</a>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">if</span> (!match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#a89de94cd6e117ea2afc53653359a1726">HasNamedCaptures</a>()) {</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;          builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">AppendCharacter</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;          continue_from_ix = peek_ix;</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        }</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> bracket_string =</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;            factory-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a469db4bb090fc440f355ef7ea181d4a0">LookupSingleCharacterStringFromCode</a>(<span class="charliteral">&#39;&gt;&#39;</span>);</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> closing_bracket_ix =</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;            String::IndexOf(isolate, replacement, bracket_string, peek_ix + 1);</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        <span class="keywordflow">if</span> (closing_bracket_ix == -1) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;          <span class="comment">// No closing bracket was found, treat &#39;$&lt;&#39; as a string literal.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;          builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">AppendCharacter</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;          continue_from_ix = peek_ix;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        }</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> capture_name =</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            factory-&gt;NewSubString(replacement, peek_ix + 1, closing_bracket_ix);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> capture;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;        CaptureState capture_state;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <a class="code" href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a>(</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            isolate, capture,</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            match-&gt;<a class="code" href="classv8_1_1internal_1_1String_1_1Match.html#a4b5fd598557237ba5dc3c02cabcc0695">GetNamedCapture</a>(capture_name, &amp;capture_state));</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        <span class="keywordflow">if</span> (capture_state == CaptureState::MATCHED) {</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;          builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(capture);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        }</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        continue_from_ix = closing_bracket_ix + 1;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;      }</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">AppendCharacter</a>(<span class="charliteral">&#39;$&#39;</span>);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        continue_from_ix = peek_ix;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    }</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160; </div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    <span class="comment">// Go the the next $ in the replacement.</span></div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    <span class="comment">// TODO(jgruber): Single-char lookups could be much more efficient.</span></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(continue_from_ix, -1);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    next_dollar_ix =</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        String::IndexOf(isolate, replacement, dollar_string, continue_from_ix);</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160; </div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="comment">// Return if there are no more $ characters in the replacement. If we</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="comment">// haven&#39;t reached the end, we need to append the suffix.</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    <span class="keywordflow">if</span> (next_dollar_ix &lt; 0) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      <span class="keywordflow">if</span> (continue_from_ix &lt; replacement_length) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(factory-&gt;NewSubString(</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            replacement, continue_from_ix, replacement_length));</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;      }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;      <span class="keywordflow">return</span> builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#aae44022f0483618b419fdce759becb78">Finish</a>();</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    }</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160; </div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="comment">// Append substring between the previous and the next $ character.</span></div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">if</span> (next_dollar_ix &gt; continue_from_ix) {</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      builder.<a class="code" href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">AppendString</a>(</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;          factory-&gt;NewSubString(replacement, continue_from_ix, next_dollar_ix));</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    }</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  }</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160; </div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;}</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="keyword">namespace </span>{  <span class="comment">// for String.Prototype.lastIndexOf</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160; </div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> s<span class="keywordtype">char</span>, <span class="keyword">typename</span> p<span class="keywordtype">char</span>&gt;</div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a"> 1650</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a">StringMatchBackwards</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const schar&gt;</a> subject,</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                         <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const pchar&gt;</a> pattern, <span class="keywordtype">int</span> idx) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="keywordtype">int</span> pattern_length = pattern.<a class="code" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>();</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(pattern_length, 1);</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(idx + pattern_length &lt;= subject.<a class="code" href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">length</a>());</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(schar) == 1 &amp;&amp; <span class="keyword">sizeof</span>(pchar) &gt; 1) {</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; pattern_length; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">base::uc16</a> c = pattern[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      <span class="keywordflow">if</span> (c &gt; String::kMaxOneByteCharCode) {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  pchar pattern_first_char = pattern[0];</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = idx; <a class="code" href="namespacev8_1_1internal.html">i</a> &gt;= 0; <a class="code" href="namespacev8_1_1internal.html">i</a>--) {</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    <span class="keywordflow">if</span> (subject[<a class="code" href="namespacev8_1_1internal.html">i</a>] != pattern_first_char) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keywordtype">int</span> j = 1;</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">while</span> (j &lt; pattern_length) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <span class="keywordflow">if</span> (pattern[j] != subject[<a class="code" href="namespacev8_1_1internal.html">i</a> + j]) {</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      j++;</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">if</span> (j == pattern_length) {</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>;</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  }</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;}</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#af1cbc0f64dcddd86e0dc39374b9584bc"> 1684</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> String::LastIndexOf(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> receiver,</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>,</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Object&gt;</a> position) {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">IsNullOrUndefined</a>(*receiver, isolate)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a>(</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        isolate, NewTypeError(MessageTemplate::kCalledOnNullOrUndefined,</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                              isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">NewStringFromAsciiChecked</a>(</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                                  <span class="stringliteral">&quot;String.prototype.lastIndexOf&quot;</span>)));</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  }</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> receiver_string;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, receiver_string,</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;                                     <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">Object::ToString</a>(isolate, receiver));</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> search_string;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, search_string,</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;                                     <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">Object::ToString</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">search</a>));</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, position,</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                                     <a class="code" href="namespacev8_1_1internal.html#a5a857fe236959ea037b3dd560a3414f0">Object::ToNumber</a>(isolate, position));</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  uint32_t start_index;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#adaa71e3ef0feec7fc44cd84456925b04">IsNaN</a>(*position)) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    start_index = receiver_string-&gt;length();</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a>(isolate, position,</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                                       Object::ToInteger(isolate, position));</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    start_index = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4d6c438ddde7de69dbf2e5cd3b27542a">ToValidIndex</a>(*receiver_string, *position);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160; </div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  uint32_t pattern_length = search_string-&gt;length();</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  uint32_t receiver_length = receiver_string-&gt;length();</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="keywordflow">if</span> (start_index + pattern_length &gt; receiver_length) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    start_index = receiver_length - pattern_length;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160; </div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;  <span class="keywordflow">if</span> (pattern_length == 0) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="keywordflow">return</span> Smi::FromInt(start_index);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  receiver_string = String::Flatten(isolate, receiver_string);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  search_string = String::Flatten(isolate, search_string);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160; </div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keywordtype">int</span> last_index = -1;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;  <span class="comment">// ensure vectors stay valid</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> receiver_content = receiver_string-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> search_content = search_string-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  <span class="keywordflow">if</span> (search_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> pat_vector = search_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>();</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span> (receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;      last_index = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a">StringMatchBackwards</a>(receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(),</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                                        pat_vector, start_index);</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      last_index = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a">StringMatchBackwards</a>(receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(),</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                                        pat_vector, start_index);</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const base::uc16&gt;</a> pat_vector = search_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>();</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    <span class="keywordflow">if</span> (receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>()) {</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      last_index = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a">StringMatchBackwards</a>(receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>(),</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                                        pat_vector, start_index);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      last_index = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a">StringMatchBackwards</a>(receiver_content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>(),</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                                        pat_vector, start_index);</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    }</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  }</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">return</span> Smi::FromInt(last_index);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a6a67ef0f5ac18ee8d3d5a722aa084c71"> 1757</a></span>&#160;<span class="keywordtype">bool</span> String::HasOneBytePrefix(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const char&gt;</a> str) {</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!SharedStringAccessGuardIfNeeded::IsNeeded(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <span class="keywordflow">return</span> IsEqualToImpl&lt;EqualityType::kPrefix&gt;(</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;      str, SharedStringAccessGuardIfNeeded::NotNeeded());</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;}</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a name="l01766"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a81e16e491a0fd7c856a1971413807626"> 1766</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a81e16e491a0fd7c856a1971413807626">IsIdentifierVector</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;Char&gt;</a> vec) {</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="keywordflow">if</span> (vec.<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>()) {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  }</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a032e2ecc55e345c58981826b78e45a9d">IsIdentifierStart</a>(vec[0])) {</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; vec.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ad5d7f793b947daacced155efc4b5f5c6">IsIdentifierPart</a>(vec[<a class="code" href="namespacev8_1_1internal.html">i</a>])) {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    }</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  }</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;}</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a3a0306343990de32488f152edc4f9468"> 1784</a></span>&#160;<span class="keywordtype">bool</span> String::IsIdentifier(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> str) {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  str = String::Flatten(isolate, str);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> flat = str-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;  <span class="keywordflow">return</span> flat.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>() ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a81e16e491a0fd7c856a1971413807626">IsIdentifierVector</a>(flat.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>())</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                          : <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a81e16e491a0fd7c856a1971413807626">IsIdentifierVector</a>(flat.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>());</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;}</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; </div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Char&gt;</div>
<div class="line"><a name="l01795"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a09e2f9ff175d91d06e99e984ad1fd1de"> 1795</a></span>&#160;uint32_t <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a09e2f9ff175d91d06e99e984ad1fd1de">HashString</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span>, <span class="keywordtype">size_t</span> start, uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    uint64_t seed,</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160; </div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; String::kMaxHashCalcLength) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <span class="keywordflow">return</span> StringHasher::GetTrivialHash(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  std::unique_ptr&lt;Char[]&gt; buffer;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  <span class="keyword">const</span> Char* chars;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aed66dfc5a0636c99f9313e16bf5a9a23">IsConsString</a>(<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, start);</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsFlat());</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;    buffer.reset(<span class="keyword">new</span> Char[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>]);</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    String::WriteToFlat(<span class="keywordtype">string</span>, buffer.get(), 0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, access_guard);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    chars = buffer.get();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    chars = <span class="keywordtype">string</span>-&gt;GetDirectStringChars&lt;Char&gt;(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>, access_guard) + start;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  }</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160; </div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="keywordflow">return</span> StringHasher::HashSequentialString&lt;Char&gt;(chars, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, seed);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;}</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160; </div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a2129a3ffa73eedab216d5e5ea1c91d0a"> 1822</a></span>&#160;uint32_t String::ComputeAndSetRawHash() {</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!SharedStringAccessGuardIfNeeded::IsNeeded(<span class="keyword">this</span>));</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordflow">return</span> ComputeAndSetRawHash(SharedStringAccessGuardIfNeeded::NotNeeded());</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;}</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160; </div>
<div class="line"><a name="l01827"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#aeb43344f1fc3658a97d19f0ecf68e163"> 1827</a></span>&#160;uint32_t String::ComputeAndSetRawHash(</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// Should only be called if hash code has not yet been computed.</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;  <span class="comment">// If in-place internalizable strings are shared, there may be calls to</span></div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="comment">// ComputeAndSetRawHash in parallel. Since only flat strings are in-place</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">// internalizable and their contents do not change, the result hash is the</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// same. The raw hash field is stored with relaxed ordering.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table, !HasHashCode());</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="comment">// Store the hash code in the object.</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  uint64_t seed = <a class="code" href="namespacev8_1_1internal.html#ac8c51e7a3f23c971926f1c90a404cc5d">HashSeed</a>(EarlyGetReadOnlyRoots());</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordtype">size_t</span> start = 0;</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a72d8e1e52fda416345beecedb460bb39">IsSliced</a>()) {</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SlicedString&gt;</a> sliced = Cast&lt;SlicedString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    start = sliced-&gt;offset();</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="keywordtype">string</span> = sliced-&gt;parent();</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a5af117ebcc7191cc223d3625ee292401">IsCons</a>() &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsFlat()) {</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="keywordtype">string</span> = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>)-&gt;first();</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  }</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a28c6d13fd66b5aaf248bc39ecf0adbe8">IsThin</a>()) {</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordtype">string</span> = Cast&lt;ThinString&gt;(<span class="keywordtype">string</span>)-&gt;actual();</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>() == <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;length()) {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      uint32_t raw_hash = <span class="keywordtype">string</span>-&gt;RawHash();</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsHashFieldComputed(raw_hash));</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      set_raw_hash_field(raw_hash);</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="keywordflow">return</span> raw_hash;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  }</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  uint32_t raw_hash_field =</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a2579ab2f0615c10e6652e458213669ce">IsOneByte</a>()</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;          ? HashString&lt;uint8_t&gt;(<span class="keywordtype">string</span>, start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>(), seed, access_guard)</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;          : HashString&lt;uint16_t&gt;(<span class="keywordtype">string</span>, start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>(), seed, access_guard);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  set_raw_hash_field_if_empty(raw_hash_field);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="comment">// Check the hash code is there (or a forwarding index if the string was</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// internalized/externalized in parallel).</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(HasHashCode() || HasForwardingIndex(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>));</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="comment">// Ensure that the hash value of 0 is never computed.</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(HashBits::decode(raw_hash_field), 0);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">return</span> raw_hash_field;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;}</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a587d641f7ef999595c8cde0615af1896"> 1876</a></span>&#160;<span class="keywordtype">bool</span> String::SlowAsArrayIndex(uint32_t* <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = this-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>();</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <span class="keywordflow">if</span> (length &lt;= kMaxCachedArrayIndexLength) {</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;    uint32_t field = EnsureRawHash();  <span class="comment">// Force computation of hash code.</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span> (!IsIntegerIndex(field)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = ArrayIndexValueBits::decode(field);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0 || <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; kMaxArrayIndexSize) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#aa002c54ae12d5965a02cf16008f74ed3">StringToIndex</a>(&amp;stream, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;}</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160; </div>
<div class="line"><a name="l01890"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a7554c0be5c8d4d3a6e94ad68cc11e482"> 1890</a></span>&#160;<span class="keywordtype">bool</span> String::SlowAsIntegerIndex(<span class="keywordtype">size_t</span>* <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = this-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>();</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;  <span class="keywordflow">if</span> (length &lt;= kMaxCachedArrayIndexLength) {</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    uint32_t field = EnsureRawHash();  <span class="comment">// Force computation of hash code.</span></div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    <span class="keywordflow">if</span> (!IsIntegerIndex(field)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = ArrayIndexValueBits::decode(field);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0 || <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; kMaxIntegerIndexSize) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringCharacterStream.html">StringCharacterStream</a> stream(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="keywordflow">return</span> StringToIndex&lt;StringCharacterStream, size_t, kToIntegerIndex&gt;(&amp;stream,</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                                                                       <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;}</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160; </div>
<div class="line"><a name="l01905"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a13c247344e2d0ad2f85f97884dc7e789"> 1905</a></span>&#160;<span class="keywordtype">void</span> String::PrintOn(FILE* <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>) {</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = this-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>();</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="stringliteral">&quot;%c&quot;</span>, <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;}</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160; </div>
<div class="line"><a name="l01912"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#ae9a1735bd35aa6abecd148fa24c7cb96"> 1912</a></span>&#160;<span class="keywordtype">void</span> String::PrintOn(std::ostream&amp; ostream) {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = this-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    ostream.put(<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;}</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1SeqString.html#a1a79ce01c0cad9361948e6376581ba8e"> 1919</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;String&gt;</a> SeqString::Truncate(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1Handle.html">Handle&lt;SeqString&gt;</a> <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                                   uint32_t new_length) {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="keywordflow">if</span> (new_length == 0) <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;empty_string();</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160; </div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="keywordtype">int</span> new_size, old_size;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  uint32_t old_length = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <span class="keywordflow">if</span> (old_length &lt;= new_length) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">if</span> (IsSeqOneByteString(*<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    old_size = SeqOneByteString::SizeFor(old_length);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    new_size = SeqOneByteString::SizeFor(new_length);</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsSeqTwoByteString(*<span class="keywordtype">string</span>));</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    old_size = SeqTwoByteString::SizeFor(old_length);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    new_size = SeqTwoByteString::SizeFor(new_length);</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160; </div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> start_of_string = (*string).address();</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(start_of_string, <a class="code" href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">kObjectAlignment</a>));</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(start_of_string + new_size, <a class="code" href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">kObjectAlignment</a>));</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160; </div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>();</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceheap.html">heap</a>-&gt;IsLargeObject(*<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="comment">// Sizes are pointer size aligned, so that we can use filler objects</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="comment">// that are a multiple of pointer size.</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">// No slot invalidation needed since this method is only used on freshly</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="comment">// allocated strings.</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <a class="code" href="namespaceheap.html">heap</a>-&gt;NotifyObjectSizeChange(*<span class="keywordtype">string</span>, old_size, new_size,</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                                 ClearRecordedSlots::kNo);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  }</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// We are storing the new length using release store after creating a filler</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">// for the left-over space to avoid races with the sweeper thread.</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordtype">string</span>-&gt;set_length(new_length, <a class="code" href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">kReleaseStore</a>);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="keywordtype">string</span>-&gt;ClearPadding();</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;}</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1SeqString.html#a166bafd883dc705cbf836228e0adaf9a"> 1959</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">SeqString::DataAndPaddingSizes</a> SeqString::GetDataAndPaddingSizes()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="keywordflow">if</span> (IsSeqOneByteString(<span class="keyword">this</span>)) {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">return</span> Cast&lt;SeqOneByteString&gt;(<span class="keyword">this</span>)-&gt;GetDataAndPaddingSizes();</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  }</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">return</span> Cast&lt;SeqTwoByteString&gt;(<span class="keyword">this</span>)-&gt;GetDataAndPaddingSizes();</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;}</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1SeqOneByteString.html#a6e5140c0c189b239bd77f42d454b2a60"> 1966</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">SeqString::DataAndPaddingSizes</a> SeqOneByteString::GetDataAndPaddingSizes()<span class="keyword"></span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="keyword">    const </span>{</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordtype">int</span> data_size = <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1SeqOneByteString.html">SeqOneByteString</a>) + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>() * <a class="code" href="namespacev8_1_1internal.html#a316c325b66bebaa96016862a23c41c8b">kOneByteSize</a>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordtype">int</span> padding_size = SizeFor(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>()) - data_size;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">DataAndPaddingSizes</a>{data_size, padding_size};</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;}</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160; </div>
<div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1SeqTwoByteString.html#a908408992c751fca786432ee4e6cdeea"> 1973</a></span>&#160;<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">SeqString::DataAndPaddingSizes</a> SeqTwoByteString::GetDataAndPaddingSizes()<span class="keyword"></span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="keyword">    const </span>{</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="keywordtype">int</span> data_size = <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1internal_1_1SeqTwoByteString.html">SeqTwoByteString</a>) + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>() * <a class="code" href="namespacev8_1_1base.html#a5e2f28507a708c787de5aee9532588c6">base::kUC16Size</a>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;  <span class="keywordtype">int</span> padding_size = SizeFor(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>()) - data_size;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">DataAndPaddingSizes</a>{data_size, padding_size};</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;}</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160; </div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a> <span class="keywordtype">void</span> SeqString::SeqStringVerify(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  StringVerify(isolate);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#afb3ec97f16d3e44bb89e321f19c7b340">IsSeqString</a>(<span class="keyword">this</span>, isolate));</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  DataAndPaddingSizes sz = GetDataAndPaddingSizes();</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  <span class="keyword">auto</span> padding = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(address() + sz.data_size);</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(sz.padding_size &lt;= <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; sz.padding_size; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(padding[<a class="code" href="namespacev8_1_1internal.html">i</a>], 0);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;}</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160; </div>
<div class="line"><a name="l01993"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1SeqString.html#aecd471e3b24f29803083d156f8eb8397"> 1993</a></span>&#160;<span class="keywordtype">void</span> SeqString::ClearPadding() {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">DataAndPaddingSizes</a> sz = GetDataAndPaddingSizes();</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(sz.<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a6ff18d1f9fe8da8a457fc8ee46eddfcb">data_size</a> + sz.<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">padding_size</a>, Size());</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <span class="keywordflow">if</span> (sz.<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">padding_size</a> == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  memset(<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(address() + sz.<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a6ff18d1f9fe8da8a457fc8ee46eddfcb">data_size</a>), 0, sz.<a class="code" href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">padding_size</a>);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;}</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160; </div>
<div class="line"><a name="l02000"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ConsString.html#a0ba1abb650ed4bf6783cfca8f1d1fe5f"> 2000</a></span>&#160;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">ConsString::Get</a>(</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= 0 &amp;&amp; index &lt; this-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>());</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160; </div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  <span class="comment">// Check for a flattened cons string</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <span class="keywordflow">if</span> (second()-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>() == 0) {</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> left = first();</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="keywordflow">return</span> left-&gt;Get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  }</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160; </div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span> = Cast&lt;String&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160; </div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<span class="keywordtype">string</span>).IsCons()) {</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a> cons_string = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> left = cons_string-&gt;first();</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <span class="keywordflow">if</span> (left-&gt;length() &gt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="keywordtype">string</span> = left;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> -= left-&gt;length();</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        <span class="keywordtype">string</span> = cons_string-&gt;second();</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      }</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      <span class="keywordflow">return</span> <span class="keywordtype">string</span>-&gt;Get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, access_guard);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;    }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;  }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160; </div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;}</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160; </div>
<div class="line"><a name="l02030"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ConsString.html#acc3715c2d4316ef432fbac599f4f6a7b"> 2030</a></span>&#160;<span class="keywordtype">void</span> ConsString::PrintTree() {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160; </div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  <span class="keyword">using</span> stack_elem_t = std::pair&lt;Tagged&lt;String&gt;, <span class="keywordtype">int</span>&gt;;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  std::stack&lt;stack_elem_t&gt; s{{stack_elem_t{<span class="keyword">this</span>, 0}}};</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160; </div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">while</span> (!s.empty()) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <span class="keyword">auto</span> elem = s.top();</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    s.pop();</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160; </div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordtype">int</span> depth = elem.second;</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aed66dfc5a0636c99f9313e16bf5a9a23">IsConsString</a>(elem.first)) {</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;      <span class="keyword">auto</span> cons = Cast&lt;ConsString&gt;(elem.first);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      printf(<span class="stringliteral">&quot;%d %p\n&quot;</span>, depth, <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(cons.ptr()));</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;      s.push({cons-&gt;second(), depth + 1});</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;      s.push({cons-&gt;first(), depth + 1});</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      printf(<span class="stringliteral">&quot;%d &quot;</span>, depth);</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">Print</a>(elem.first);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  }</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;}</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160; </div>
<div class="line"><a name="l02053"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ThinString.html#a634027953a681a391f1064c084ae8737"> 2053</a></span>&#160;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">ThinString::Get</a>(</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="keywordflow">return</span> actual()-&gt;Get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, access_guard);</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;}</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1SlicedString.html#a63c65508d94c6099e7221ee34619c4e3"> 2058</a></span>&#160;<a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">SlicedString::Get</a>(</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp; access_guard)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordflow">return</span> parent()-&gt;Get(offset() + <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, access_guard);</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;}</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160; </div>
<div class="line"><a name="l02063"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ExternalString.html#a50383ab69115cd668af8e3bcb305bdcf"> 2063</a></span>&#160;<span class="keywordtype">int</span> ExternalString::ExternalPayloadSize()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="keywordtype">int</span> length_multiplier = IsTwoByteRepresentation() ? <a class="code" href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">i::kShortSize</a> : <a class="code" href="namespacev8_1_1internal.html#a3c5a1b85562d862c803870241deaed67">kCharSize</a>;</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>() * length_multiplier;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;}</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160; </div>
<div class="line"><a name="l02068"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FlatStringReader.html#a75116c98520e36068ae40fbd96944ec1"> 2068</a></span>&#160;FlatStringReader::FlatStringReader(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> str)</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    : <a class="code" href="classv8_1_1internal_1_1Relocatable.html">Relocatable</a>(isolate), str_(str), length_(str-&gt;<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>()) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="comment">// Check that this constructor is called only from the main thread.</span></div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1ThreadId.html#a81c60d3524b03db2f154b7f682e7796f">ThreadId::Current</a>(), isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a863567eca5cd2e437780d09553235557">thread_id</a>());</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#a886e49d92964c5676b8e251dd9c871c4">PostGarbageCollection</a>();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;}</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FlatStringReader.html#a886e49d92964c5676b8e251dd9c871c4"> 2077</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#a886e49d92964c5676b8e251dd9c871c4">FlatStringReader::PostGarbageCollection</a>() {</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#afaf16449f9041eae7f80a9a07fa45ce1">str_</a>-&gt;IsFlat());</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="comment">// This does not actually prevent the vector from being relocated later.</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html">String::FlatContent</a> content = <a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#afaf16449f9041eae7f80a9a07fa45ce1">str_</a>-&gt;GetFlatContent(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">IsFlat</a>());</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#a0679192f9ea46ae9d76b6c3af5a365e1">is_one_byte_</a> = content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">IsOneByte</a>();</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#a0679192f9ea46ae9d76b6c3af5a365e1">is_one_byte_</a>) {</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#a7cde379222e1f1c63eca0b97223138a1">start_</a> = content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">ToOneByteVector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>();</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FlatStringReader.html#a7cde379222e1f1c63eca0b97223138a1">start_</a> = content.<a class="code" href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">ToUC16Vector</a>().<a class="code" href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">begin</a>();</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;  }</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;}</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160; </div>
<div class="line"><a name="l02091"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ConsStringIterator.html#a22d1910ab81a723f0c361cd28c6d0f8e"> 2091</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a22d1910ab81a723f0c361cd28c6d0f8e">ConsStringIterator::Initialize</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a> cons_string,</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;                                    <span class="keywordtype">int</span> offset) {</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!cons_string.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>());</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a872749b555ecf6caa7f6bd7f33aba6cd">root_</a> = cons_string;</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1bb0c72015b68924771e2bb4447dc4ab">consumed_</a> = offset;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;  <span class="comment">// Force stack blown condition to trigger restart.</span></div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">depth_</a> = 1;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#abc92fad455336abaf96b9d9331e26ce5">maximum_depth_</a> = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a66bbfb69dfbcb46d1e9efe3d3aee6c01">kStackSize</a> + <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">depth_</a>;</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a3c721d9e9a61f8114bf1d89496ed4068">StackBlown</a>());</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;}</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160; </div>
<div class="line"><a name="l02102"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ConsStringIterator.html#a04f5e76f72222e2711f76a291d76aba4"> 2102</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a04f5e76f72222e2711f76a291d76aba4">ConsStringIterator::Continue</a>(<span class="keywordtype">int</span>* offset_out) {</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">depth_</a>, 0);</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, *offset_out);</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordtype">bool</span> blew_stack = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a3c721d9e9a61f8114bf1d89496ed4068">StackBlown</a>();</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;  <span class="comment">// Get the next leaf if there is one.</span></div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  <span class="keywordflow">if</span> (!blew_stack) <span class="keywordtype">string</span> = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a16985272ddbbc4d7f488aa85942c2a11">NextLeaf</a>(&amp;blew_stack);</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  <span class="comment">// Restart search from root.</span></div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keywordflow">if</span> (blew_stack) {</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<span class="keywordtype">string</span>.is_null());</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="keywordtype">string</span> = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a22499b0e651fee8d82aba03b26a39ffe">Search</a>(offset_out);</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  }</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  <span class="comment">// Ensure future calls return null immediately.</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.is_null()) <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1162d8f94d1ddcf46c73c660f3ebdf15">Reset</a>({});</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;}</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160; </div>
<div class="line"><a name="l02119"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ConsStringIterator.html#a22499b0e651fee8d82aba03b26a39ffe"> 2119</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a22499b0e651fee8d82aba03b26a39ffe">ConsStringIterator::Search</a>(<span class="keywordtype">int</span>* offset_out) {</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a> cons_string = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a872749b555ecf6caa7f6bd7f33aba6cd">root_</a>;</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="comment">// Reset the stack, pushing the root string.</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">depth_</a> = 1;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#abc92fad455336abaf96b9d9331e26ce5">maximum_depth_</a> = 1;</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1ee70cc007970e077b4ae2a7099fa537">frames_</a>[0] = cons_string;</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keyword">const</span> uint32_t consumed = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1bb0c72015b68924771e2bb4447dc4ab">consumed_</a>;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  uint32_t offset = 0;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <span class="comment">// Loop until the string is found which contains the target offset.</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span> = cons_string-&gt;first();</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;    uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;    <span class="keywordflow">if</span> (consumed &lt; offset + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;      <span class="comment">// Target offset is in the left branch.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;      <span class="comment">// Keep going if we&#39;re still in a ConString.</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <span class="keywordtype">string</span>-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> &amp; <a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a>) == <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>) {</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        cons_string = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#abfcfcb4317562c40cadd09e0231505de">PushLeft</a>(cons_string);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      }</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;      <span class="comment">// Tell the stack we&#39;re done descending.</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a47760d49a3c963cbf8dff11af801382f">AdjustMaximumDepth</a>();</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="comment">// Descend right.</span></div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      <span class="comment">// Update progress through the string.</span></div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;      offset += <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;      <span class="comment">// Keep going if we&#39;re still in a ConString.</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;      <span class="keywordtype">string</span> = cons_string-&gt;second();</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <span class="keywordtype">string</span>-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> &amp; <a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a>) == <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>) {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        cons_string = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1673618bb7bdff3c8c973de8646e153e">PushRight</a>(cons_string);</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;      }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <span class="comment">// Need this to be updated for the current string.</span></div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="comment">// Account for the possibility of an empty right leaf.</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="comment">// This happens only if we have asked for an offset outside the string.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) {</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="comment">// Reset so future operations will return null immediately.</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1162d8f94d1ddcf46c73c660f3ebdf15">Reset</a>({});</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;      }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <span class="comment">// Tell the stack we&#39;re done descending.</span></div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a47760d49a3c963cbf8dff11af801382f">AdjustMaximumDepth</a>();</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;      <span class="comment">// Pop stack so next iteration is in correct place.</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a353946172bcf176bf89142a04d2d1af5">Pop</a>();</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;    }</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, 0);</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <span class="comment">// Adjust return values and exit.</span></div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1bb0c72015b68924771e2bb4447dc4ab">consumed_</a> = offset + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    *offset_out = consumed - offset;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  }</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;}</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160; </div>
<div class="line"><a name="l02178"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ConsStringIterator.html#a16985272ddbbc4d7f488aa85942c2a11"> 2178</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a16985272ddbbc4d7f488aa85942c2a11">ConsStringIterator::NextLeaf</a>(<span class="keywordtype">bool</span>* blew_stack) {</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    <span class="comment">// Tree traversal complete.</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">depth_</a> == 0) {</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;      *blew_stack = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    }</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="comment">// We&#39;ve lost track of higher nodes.</span></div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a3c721d9e9a61f8114bf1d89496ed4068">StackBlown</a>()) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      *blew_stack = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    }</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="comment">// Go right.</span></div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a> cons_string = <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1ee70cc007970e077b4ae2a7099fa537">frames_</a>[<a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a26d21314202e4ae894bfe2abaef8f414">OffsetForDepth</a>(<a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">depth_</a> - 1)];</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <span class="keywordtype">string</span> = cons_string-&gt;second();</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;    <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <span class="keywordtype">string</span>-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> &amp; <a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a>) != <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;      <span class="comment">// Pop stack so next iteration is in correct place.</span></div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a353946172bcf176bf89142a04d2d1af5">Pop</a>();</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;      uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;      <span class="comment">// Could be a flattened ConsString.</span></div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1bb0c72015b68924771e2bb4447dc4ab">consumed_</a> += <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    }</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    cons_string = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1673618bb7bdff3c8c973de8646e153e">PushRight</a>(cons_string);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="comment">// Need to traverse all the way left.</span></div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;      <span class="comment">// Continue left.</span></div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;      <span class="keywordtype">string</span> = cons_string-&gt;first();</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <span class="keywordtype">string</span>-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> &amp; <a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a>) != <a class="code" href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">kConsStringTag</a>) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a47760d49a3c963cbf8dff11af801382f">AdjustMaximumDepth</a>();</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) <span class="keywordflow">break</span>;  <span class="comment">// Skip empty left-hand sides of ConsStrings.</span></div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;        <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#a1bb0c72015b68924771e2bb4447dc4ab">consumed_</a> += <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;      }</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      cons_string = Cast&lt;ConsString&gt;(<span class="keywordtype">string</span>);</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ConsStringIterator.html#abfcfcb4317562c40cadd09e0231505de">PushLeft</a>(cons_string);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  }</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;}</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160; </div>
<div class="line"><a name="l02224"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1String.html#a2c778f7d8b1a0b2b74adeb4dd25bf7cc"> 2224</a></span>&#160;<span class="keyword">const</span> uint8_t* <a class="code" href="classv8_1_1internal_1_1String.html#a2c778f7d8b1a0b2b74adeb4dd25bf7cc">String::AddressOfCharacterAt</a>(</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    uint32_t start_index, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) {</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ad98c33064c144bf5398a9017896bafa6">IsFlat</a>());</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a> = <span class="keyword">this</span>;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a> shape(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>);</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a5af117ebcc7191cc223d3625ee292401">IsCons</a>()) {</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a> = Cast&lt;ConsString&gt;(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>)-&gt;first();</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a72d8e1e52fda416345beecedb460bb39">IsSliced</a>()) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    start_index += Cast&lt;SlicedString&gt;(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>)-&gt;offset();</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a> = Cast&lt;SlicedString&gt;(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>)-&gt;parent();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;    shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>);</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  }</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">if</span> (shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a28c6d13fd66b5aaf248bc39ecf0adbe8">IsThin</a>()) {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a> = Cast&lt;ThinString&gt;(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>)-&gt;actual();</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    shape = <a class="code" href="classv8_1_1internal_1_1StringShape.html">StringShape</a>(<a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(0, start_index);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(start_index, <a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>-&gt;length());</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160; </div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;  <span class="keywordflow">return</span> shape.<a class="code" href="classv8_1_1internal_1_1StringShape.html#a0f31f89c91ed936f7c98a2aa888c7006">DispatchToSpecificType</a>(</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <a class="code" href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">subject</a>, absl::Overload{</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;                   [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SeqOneByteString&gt;</a> s) {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;                         s-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) + start_index);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                   },</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                   [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SeqTwoByteString&gt;</a> s) {</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;                         s-&gt;GetChars(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>) + start_index);</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;                   },</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                   [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalOneByteString&gt;</a> s) {</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(s-&gt;GetChars() +</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;                                                             start_index);</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;                   },</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                   [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExternalTwoByteString&gt;</a> s) {</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                     <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(s-&gt;GetChars() +</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;                                                             start_index);</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;                   },</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;                   [&amp;](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> s) -&gt; <span class="keyword">const</span> uint8_t* { <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>(); }});</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;}</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a>, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>*, uint32_t, uint32_t);</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a>, uint8_t*, uint32_t, uint32_t);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a>, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>*, uint32_t, uint32_t to,</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp;);</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">String::WriteToFlat</a>(</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a>, uint8_t*, uint32_t, uint32_t,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp;);</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#acddec9d4fdd949658d14de3ff11e211b">String::WriteToFlat2</a>(</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;    uint8_t*, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a>, uint32_t, uint32_t,</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp;, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp;);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="keyword">template</span> <a class="code" href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">EXPORT_TEMPLATE_DEFINE</a>(<a class="code" href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a>) <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1String.html#acddec9d4fdd949658d14de3ff11e211b">String::WriteToFlat2</a>(</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>*, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ConsString&gt;</a>, uint32_t, uint32_t,</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">SharedStringAccessGuardIfNeeded</a>&amp;, <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a>&amp;);</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160; </div>
<div class="line"><a name="l02282"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1EXPORT__TEMPLATE__DEFINE.html"> 2282</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">// Check that the constants defined in src/objects/instance-type.h coincides</span></div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">// with the Torque-definition of string instance types in src/objects/string.tq.</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160; </div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;DEFINE_TORQUE_GENERATED_STRING_INSTANCE_TYPE()</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">kStringRepresentationMask</a> == RepresentationBits::kMask);</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160; </div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a086b3379b539247245ed2461818f4b0a">kStringEncodingMask</a> == IsOneByteBit::kMask);</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">kTwoByteStringTag</a> == IsOneByteBit::encode(<span class="keyword">false</span>));</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a6639efaf0b7adbb3d84b33696e775fe3">kOneByteStringTag</a> == IsOneByteBit::encode(<span class="keyword">true</span>));</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160; </div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a4d1b938077c26360300997ba84b869bb">kUncachedExternalStringMask</a> == IsUncachedBit::kMask);</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a3bca87fbeea8eaed3b35acb2cedc0715">kUncachedExternalStringTag</a> == IsUncachedBit::encode(<span class="keyword">true</span>));</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160; </div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#abce7d926bf874e69c33b6694499f8c11">kIsNotInternalizedMask</a> == IsNotInternalizedBit::kMask);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#a5b9346970aacf7a1d14a2ae895d067f3">kNotInternalizedTag</a> == IsNotInternalizedBit::encode(<span class="keyword">true</span>));</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;static_assert(<a class="code" href="namespacev8_1_1internal.html#ab293e2999d8a6721b0ded93f892a3522">kInternalizedTag</a> == IsNotInternalizedBit::encode(<span class="keyword">false</span>));</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160; </div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aassert-scope_8h_html"><div class="ttname"><a href="assert-scope_8h.html">assert-scope.h</a></div></div>
<div class="ttc" id="abase_2ieee754_8cc_html_a7cf126dbeb6f30c606e3b42fea65cfef"><div class="ttname"><a href="base_2ieee754_8cc.html#a7cf126dbeb6f30c606e3b42fea65cfef">one</a></div><div class="ttdeci">#define one</div></div>
<div class="ttc" id="achar-predicates_8h_html"><div class="ttname"><a href="char-predicates_8h.html">char-predicates.h</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalOneByteStringResource_html"><div class="ttname"><a href="classv8_1_1String_1_1ExternalOneByteStringResource.html">v8::String::ExternalOneByteStringResource</a></div><div class="ttdoc">An ExternalOneByteStringResource is a wrapper around an one-byte string buffer that resides outside V...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00444">v8-primitive.h:445</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalOneByteStringResource_html_aaeca31240d3dbf990d1b974e3c64593e"><div class="ttname"><a href="classv8_1_1String_1_1ExternalOneByteStringResource.html#aaeca31240d3dbf990d1b974e3c64593e">v8::String::ExternalOneByteStringResource::data</a></div><div class="ttdeci">virtual const char * data() const =0</div><div class="ttdoc">The string data from the underlying buffer.</div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalOneByteStringResource_html_ad6b702f05798bcfc3975cb922f32b5ab"><div class="ttname"><a href="classv8_1_1String_1_1ExternalOneByteStringResource.html#ad6b702f05798bcfc3975cb922f32b5ab">v8::String::ExternalOneByteStringResource::length</a></div><div class="ttdeci">virtual size_t length() const =0</div><div class="ttdoc">The number of Latin-1 characters in the string.</div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResourceBase_html_a191a3ba4512e0fa63b89cf3a36de71fa"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResourceBase.html#a191a3ba4512e0fa63b89cf3a36de71fa">v8::String::ExternalStringResourceBase::Unaccount</a></div><div class="ttdeci">virtual void Unaccount(Isolate *isolate)</div><div class="ttdoc">Internally V8 will call this Unaccount method when the external string resource should be unaccounted...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00311">v8-primitive.h:311</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResourceBase_html_a994c7580185c831abd45075d297dd07c"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResourceBase.html#a994c7580185c831abd45075d297dd07c">v8::String::ExternalStringResourceBase::IsCacheable</a></div><div class="ttdeci">virtual bool IsCacheable() const</div><div class="ttdoc">If a string is cacheable, the value returned by ExternalStringResource::data() may be cached,...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00304">v8-primitive.h:304</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResource_html"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResource.html">v8::String::ExternalStringResource</a></div><div class="ttdoc">An ExternalStringResource is a wrapper around a two-byte string buffer that resides outside V8's heap...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00390">v8-primitive.h:390</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResource_html_a987309199b848511adb708e221e0fb0a"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResource.html#a987309199b848511adb708e221e0fb0a">v8::String::ExternalStringResource::data</a></div><div class="ttdeci">virtual const uint16_t * data() const =0</div><div class="ttdoc">The string data from the underlying buffer.</div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResource_html_ab5ca300fea077d7c7774ec49d32e4da1"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResource.html#ab5ca300fea077d7c7774ec49d32e4da1">v8::String::ExternalStringResource::length</a></div><div class="ttdeci">virtual size_t length() const =0</div><div class="ttdoc">The length of the string.</div></div>
<div class="ttc" id="aclassv8_1_1String_html_a2f4a2e9516c246eef602b889ce049c49"><div class="ttname"><a href="classv8_1_1String.html#a2f4a2e9516c246eef602b889ce049c49">v8::String::Encoding</a></div><div class="ttdeci">Encoding</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00129">v8-primitive.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_ad839682af9a28cd743ad88d874aefa33"><div class="ttname"><a href="classv8_1_1Value.html#ad839682af9a28cd743ad88d874aefa33">v8::Value::ToNumber</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeLocal&lt; Number &gt; ToNumber(Local&lt; Context &gt; context) const</div><div class="ttdoc">Perform the equivalent of Number(value) in JS.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03789">api.cc:3789</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_a554df4b9ae5f0dc36b4d092bfc2e004b"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#a554df4b9ae5f0dc36b4d092bfc2e004b">v8::base::BitField::decode</a></div><div class="ttdeci">static constexpr T decode(U value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00066">bit-field.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1BitField_html_aa8d61fe165b5c0b2c869be69be02b7af"><div class="ttname"><a href="classv8_1_1base_1_1BitField.html#aa8d61fe165b5c0b2c869be69be02b7af">v8::base::BitField::update</a></div><div class="ttdeci">static constexpr U update(U previous, T value)</div><div class="ttdef"><b>Definition:</b> <a href="bit-field_8h_source.html#l00061">bit-field.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Flags_html"><div class="ttname"><a href="classv8_1_1base_1_1Flags.html">v8::base::Flags</a></div><div class="ttdef"><b>Definition:</b> <a href="base_2flags_8h_source.html#l00025">flags.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1MutexGuardIf_html"><div class="ttname"><a href="classv8_1_1base_1_1MutexGuardIf.html">v8::base::MutexGuardIf</a></div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00222">mutex.h:222</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1ScopedVector_html"><div class="ttname"><a href="classv8_1_1base_1_1ScopedVector.html">v8::base::ScopedVector</a></div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00189">vector.h:189</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html">v8::base::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00022">small-vector.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_a376b32218e50b6efec68f577c009885d"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#a376b32218e50b6efec68f577c009885d">v8::base::SmallVector::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00144">small-vector.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_acdf0c4137825446285f71e5f16842b9e"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#acdf0c4137825446285f71e5f16842b9e">v8::base::SmallVector::reserve</a></div><div class="ttdeci">void reserve(size_t new_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00269">small-vector.h:269</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1SmallVector_html_ad8177749a526ab128a35c4ec8b0cddf7"><div class="ttname"><a href="classv8_1_1base_1_1SmallVector.html#ad8177749a526ab128a35c4ec8b0cddf7">v8::base::SmallVector::push_back</a></div><div class="ttdeci">void push_back(T x)</div><div class="ttdef"><b>Definition:</b> <a href="small-vector_8h_source.html#l00191">small-vector.h:191</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector</a></div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00023">vector.h:23</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a127410ecb29a2d265d49cbf575f676f9"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a127410ecb29a2d265d49cbf575f676f9">v8::base::Vector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00096">vector.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a1eb4ed5d322a219428bdb9f9a2cb6708"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a1eb4ed5d322a219428bdb9f9a2cb6708">v8::base::Vector::length</a></div><div class="ttdeci">int length() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00064">vector.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8073322d2a3a5ad755e74dbda482b18c"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">v8::base::Vector::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00073">vector.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8f91dff816409fb9bceaa94c6caeec32"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">v8::base::Vector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00070">vector.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a04f5e76f72222e2711f76a291d76aba4"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a04f5e76f72222e2711f76a291d76aba4">v8::internal::ConsStringIterator::Continue</a></div><div class="ttdeci">V8_EXPORT_PRIVATE Tagged&lt; String &gt; Continue(int *offset_out)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l02102">string.cc:2102</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a1162d8f94d1ddcf46c73c660f3ebdf15"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a1162d8f94d1ddcf46c73c660f3ebdf15">v8::internal::ConsStringIterator::Reset</a></div><div class="ttdeci">void Reset(Tagged&lt; ConsString &gt; cons_string, int offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01343">string.h:1343</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a1673618bb7bdff3c8c973de8646e153e"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a1673618bb7bdff3c8c973de8646e153e">v8::internal::ConsStringIterator::PushRight</a></div><div class="ttdeci">void PushRight(Tagged&lt; ConsString &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01624">string-inl.h:1624</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a16985272ddbbc4d7f488aa85942c2a11"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a16985272ddbbc4d7f488aa85942c2a11">v8::internal::ConsStringIterator::NextLeaf</a></div><div class="ttdeci">Tagged&lt; String &gt; NextLeaf(bool *blew_stack)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l02178">string.cc:2178</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a1bb0c72015b68924771e2bb4447dc4ab"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a1bb0c72015b68924771e2bb4447dc4ab">v8::internal::ConsStringIterator::consumed_</a></div><div class="ttdeci">uint32_t consumed_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01384">string.h:1384</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a1ee70cc007970e077b4ae2a7099fa537"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a1ee70cc007970e077b4ae2a7099fa537">v8::internal::ConsStringIterator::frames_</a></div><div class="ttdeci">Tagged&lt; ConsString &gt; frames_[kStackSize]</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01380">string.h:1380</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a22499b0e651fee8d82aba03b26a39ffe"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a22499b0e651fee8d82aba03b26a39ffe">v8::internal::ConsStringIterator::Search</a></div><div class="ttdeci">Tagged&lt; String &gt; Search(int *offset_out)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l02119">string.cc:2119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a22d1910ab81a723f0c361cd28c6d0f8e"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a22d1910ab81a723f0c361cd28c6d0f8e">v8::internal::ConsStringIterator::Initialize</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Initialize(Tagged&lt; ConsString &gt; cons_string, int offset)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l02091">string.cc:2091</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a26d21314202e4ae894bfe2abaef8f414"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a26d21314202e4ae894bfe2abaef8f414">v8::internal::ConsStringIterator::OffsetForDepth</a></div><div class="ttdeci">static int OffsetForDepth(int depth)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01618">string-inl.h:1618</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a353946172bcf176bf89142a04d2d1af5"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a353946172bcf176bf89142a04d2d1af5">v8::internal::ConsStringIterator::Pop</a></div><div class="ttdeci">void Pop()</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01633">string-inl.h:1633</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a3c721d9e9a61f8114bf1d89496ed4068"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a3c721d9e9a61f8114bf1d89496ed4068">v8::internal::ConsStringIterator::StackBlown</a></div><div class="ttdeci">bool StackBlown()</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01372">string.h:1372</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a47760d49a3c963cbf8dff11af801382f"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a47760d49a3c963cbf8dff11af801382f">v8::internal::ConsStringIterator::AdjustMaximumDepth</a></div><div class="ttdeci">void AdjustMaximumDepth()</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01629">string-inl.h:1629</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a666c6532606fc9e891430a2b660ea3da"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a666c6532606fc9e891430a2b660ea3da">v8::internal::ConsStringIterator::depth_</a></div><div class="ttdeci">int depth_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01382">string.h:1382</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a66bbfb69dfbcb46d1e9efe3d3aee6c01"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a66bbfb69dfbcb46d1e9efe3d3aee6c01">v8::internal::ConsStringIterator::kStackSize</a></div><div class="ttdeci">static const int kStackSize</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01361">string.h:1361</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_a872749b555ecf6caa7f6bd7f33aba6cd"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#a872749b555ecf6caa7f6bd7f33aba6cd">v8::internal::ConsStringIterator::root_</a></div><div class="ttdeci">Tagged&lt; ConsString &gt; root_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01381">string.h:1381</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_abc92fad455336abaf96b9d9331e26ce5"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#abc92fad455336abaf96b9d9331e26ce5">v8::internal::ConsStringIterator::maximum_depth_</a></div><div class="ttdeci">int maximum_depth_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01383">string.h:1383</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConsStringIterator_html_abfcfcb4317562c40cadd09e0231505de"><div class="ttname"><a href="classv8_1_1internal_1_1ConsStringIterator.html#abfcfcb4317562c40cadd09e0231505de">v8::internal::ConsStringIterator::PushLeft</a></div><div class="ttdeci">void PushLeft(Tagged&lt; ConsString &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01620">string-inl.h:1620</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html_a616490b5813ae8be61c7d607af9f9dbd"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html#a616490b5813ae8be61c7d607af9f9dbd">v8::internal::DirectHandle::is_identical_to</a></div><div class="ttdeci">bool is_identical_to(Handle&lt; S &gt; other) const</div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00717">handles.h:717</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalPointerMember_html_ad0a428d89f686e2af47f62970b3ea39a"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalPointerMember.html#ad0a428d89f686e2af47f62970b3ea39a">v8::internal::ExternalPointerMember::Init</a></div><div class="ttdeci">void Init(Address host_address, IsolateForSandbox isolate, Address value)</div><div class="ttdef"><b>Definition:</b> <a href="external-pointer-inl_8h_source.html#l00022">external-pointer-inl.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalString_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalString.html">v8::internal::ExternalString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01186">string.h:1186</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalString_html_a9c673697fe28d3ad6586136bd764ddd0"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalString.html#a9c673697fe28d3ad6586136bd764ddd0">v8::internal::ExternalString::is_uncached</a></div><div class="ttdeci">bool is_uncached() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01431">string-inl.h:1431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalString_html_aa4c456ecff1a42f59abb6d40bca7d6f0"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalString.html#aa4c456ecff1a42f59abb6d40bca7d6f0">v8::internal::ExternalString::InitExternalPointerFieldsDuringExternalization</a></div><div class="ttdeci">void InitExternalPointerFieldsDuringExternalization(Tagged&lt; Map &gt; new_map, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00124">string.cc:124</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalString_html_ae662afa5935f45a577d225a9b5c50886"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalString.html#ae662afa5935f45a577d225a9b5c50886">v8::internal::ExternalString::resource_data_</a></div><div class="ttdeci">ExternalPointerMember&lt; kExternalStringResourceDataTag &gt; resource_data_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01220">string.h:1220</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a099d2a505298c549ede814b4b4021464"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">v8::internal::FactoryBase::NewStringFromAsciiChecked</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromAsciiChecked(const char *str, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8h_source.html#l00325">factory-base.h:325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a469db4bb090fc440f355ef7ea181d4a0"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a469db4bb090fc440f355ef7ea181d4a0">v8::internal::FactoryBase::LookupSingleCharacterStringFromCode</a></div><div class="ttdeci">Handle&lt; String &gt; LookupSingleCharacterStringFromCode(uint16_t code)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8cc_source.html#l00976">factory-base.cc:976</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition:</b> <a href="factory_8h_source.html#l00141">factory.h:141</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FlatStringReader_html_a0679192f9ea46ae9d76b6c3af5a365e1"><div class="ttname"><a href="classv8_1_1internal_1_1FlatStringReader.html#a0679192f9ea46ae9d76b6c3af5a365e1">v8::internal::FlatStringReader::is_one_byte_</a></div><div class="ttdeci">bool is_one_byte_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01326">string.h:1326</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FlatStringReader_html_a7cde379222e1f1c63eca0b97223138a1"><div class="ttname"><a href="classv8_1_1internal_1_1FlatStringReader.html#a7cde379222e1f1c63eca0b97223138a1">v8::internal::FlatStringReader::start_</a></div><div class="ttdeci">const void * start_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01328">string.h:1328</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FlatStringReader_html_a886e49d92964c5676b8e251dd9c871c4"><div class="ttname"><a href="classv8_1_1internal_1_1FlatStringReader.html#a886e49d92964c5676b8e251dd9c871c4">v8::internal::FlatStringReader::PostGarbageCollection</a></div><div class="ttdeci">void PostGarbageCollection() override</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l02077">string.cc:2077</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FlatStringReader_html_afaf16449f9041eae7f80a9a07fa45ce1"><div class="ttname"><a href="classv8_1_1internal_1_1FlatStringReader.html#afaf16449f9041eae7f80a9a07fa45ce1">v8::internal::FlatStringReader::str_</a></div><div class="ttdeci">DirectHandle&lt; String &gt; str_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01325">string.h:1325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00150">handles.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a597d0e70459c694743e92d98a9292f92"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">v8::internal::HeapLayout::InYoungGeneration</a></div><div class="ttdeci">static bool InYoungGeneration(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00043">heap-layout-inl.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a7125239f9673b20fca00902b11d24726"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">v8::internal::HeapLayout::InWritableSharedSpace</a></div><div class="ttdeci">static bool InWritableSharedSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00067">heap-layout-inl.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a91ac1680dc7f626bd8675e14ac660240"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">v8::internal::HeapLayout::InReadOnlySpace</a></div><div class="ttdeci">static bool InReadOnlySpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00020">heap-layout-inl.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_ae77bf0d1f0e1b86681fb29101ecd527a"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#ae77bf0d1f0e1b86681fb29101ecd527a">v8::internal::HeapLayout::InAnySharedSpace</a></div><div class="ttdeci">static bool InAnySharedSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00072">heap-layout-inl.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html_a263ce0a188b9daa21effadc28d66857e"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html#a263ce0a188b9daa21effadc28d66857e">v8::internal::HeapObjectLayout::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-object_8h_source.html#l00084">heap-object.h:84</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html_a72d3ec84fb43f26c368bf46efb0c4463"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html#a72d3ec84fb43f26c368bf46efb0c4463">v8::internal::HeapObjectLayout::set_map</a></div><div class="ttdeci">void set_map(Isolate *isolate, Tagged&lt; Map &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01399">objects-inl.h:1399</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html_a8f7000d3bffa5190ae250d0dff465c3d"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html#a8f7000d3bffa5190ae250d0dff465c3d">v8::internal::HeapObjectLayout::map</a></div><div class="ttdeci">Tagged&lt; Map &gt; map() const</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01384">objects-inl.h:1384</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html_a9dee220ebdccb6424ca9ecc0e81836ef"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html#a9dee220ebdccb6424ca9ecc0e81836ef">v8::internal::HeapObjectLayout::set_map_safe_transition</a></div><div class="ttdeci">void set_map_safe_transition(IsolateT *isolate, Tagged&lt; Map &gt; value, ReleaseStoreTag)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01412">objects-inl.h:1412</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html_ab51651f5e9658921420d2c06d8ea32bc"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html#ab51651f5e9658921420d2c06d8ea32bc">v8::internal::HeapObjectLayout::Size</a></div><div class="ttdeci">int Size() const</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01642">objects-inl.h:1642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectLayout_html_af7c49d1642eb83de7e6d92c48b80bcb3"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectLayout.html#af7c49d1642eb83de7e6d92c48b80bcb3">v8::internal::HeapObjectLayout::SizeFromMap</a></div><div class="ttdeci">V8_EXPORT_PRIVATE int SizeFromMap(Tagged&lt; Map &gt; map) const</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l01939">objects.cc:1939</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00212">heap.h:212</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a29636ce2b5c73518cc392133e5fa7203"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a29636ce2b5c73518cc392133e5fa7203">v8::internal::Heap::gc_state</a></div><div class="ttdeci">HeapState gc_state() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00564">heap.h:564</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a3ef43e7d9c14634fc9224f676f0c24ad"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a3ef43e7d9c14634fc9224f676f0c24ad">v8::internal::Heap::NotifyObjectLayoutChange</a></div><div class="ttdeci">void NotifyObjectLayoutChange(Tagged&lt; HeapObject &gt; object, const DisallowGarbageCollection &amp;, InvalidateRecordedSlots invalidate_recorded_slots, InvalidateExternalPointerSlots invalidate_external_pointer_slots, int new_size=0)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l04130">heap.cc:4130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a3f28064f94348c01f908cc28ca4016d7"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a3f28064f94348c01f908cc28ca4016d7">v8::internal::Heap::safepoint</a></div><div class="ttdeci">IsolateSafepoint * safepoint()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00622">heap.h:622</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a4388fdbfc0883f3c8278efda5bfb4683"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a4388fdbfc0883f3c8278efda5bfb4683">v8::internal::Heap::RegisterExternalString</a></div><div class="ttdeci">void RegisterExternalString(Tagged&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00213">heap-inl.h:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aa5ea115925690e7a2bc67cb947f24161"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aa5ea115925690e7a2bc67cb947f24161">v8::internal::Heap::FinalizeExternalString</a></div><div class="ttdeci">void FinalizeExternalString(Tagged&lt; String &gt; string)</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00219">heap-inl.h:219</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ab1bcaa2501fccdcaedead4525f63cbc1"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ab1bcaa2501fccdcaedead4525f63cbc1">v8::internal::Heap::UpdateExternalString</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void UpdateExternalString(Tagged&lt; String &gt; string, size_t old_payload, size_t new_payload)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l02823">heap.cc:2823</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aee3f8b2c700602c6e8546212a2ac0f65a3d9a5665b3549e9c13e86d836d6fe98f">v8::internal::Heap::NOT_IN_GC</a></div><div class="ttdeci">@ NOT_IN_GC</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00217">heap.h:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aef163f84c745b0123f39f79e783f1946"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aef163f84c745b0123f39f79e783f1946">v8::internal::Heap::NotifyObjectSizeChange</a></div><div class="ttdeci">void NotifyObjectSizeChange(Tagged&lt; HeapObject &gt;, int old_size, int new_size, ClearRecordedSlots clear_recorded_slots)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l04218">heap.cc:4218</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_afea8da4813bd01742ab9297c08f06985"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#afea8da4813bd01742ab9297c08f06985">v8::internal::Heap::IsLargeObject</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool IsLargeObject(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03427">heap.cc:3427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalStringBuilder_html"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalStringBuilder.html">v8::internal::IncrementalStringBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="strings_2string-builder_8h_source.html#l00079">string-builder.h:79</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalStringBuilder_html_a1ed0e9b7bb37adf503d13dd9025f55a3"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a1ed0e9b7bb37adf503d13dd9025f55a3">v8::internal::IncrementalStringBuilder::AppendString</a></div><div class="ttdeci">void AppendString(std::string_view str)</div><div class="ttdef"><b>Definition:</b> <a href="string-builder-inl_8h_source.html#l00114">string-builder-inl.h:114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalStringBuilder_html_a6f163b114978291cda26d954243ffc5f"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalStringBuilder.html#a6f163b114978291cda26d954243ffc5f">v8::internal::IncrementalStringBuilder::AppendCharacter</a></div><div class="ttdeci">void AppendCharacter(uint8_t c)</div><div class="ttdef"><b>Definition:</b> <a href="string-builder-inl_8h_source.html#l00078">string-builder-inl.h:78</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalStringBuilder_html_aae44022f0483618b419fdce759becb78"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalStringBuilder.html#aae44022f0483618b419fdce759becb78">v8::internal::IncrementalStringBuilder::Finish</a></div><div class="ttdeci">MaybeDirectHandle&lt; String &gt; Finish()</div><div class="ttdef"><b>Definition:</b> <a href="string-builder_8cc_source.html#l00298">string-builder.cc:298</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateSafepoint_html_a10bd26df469f53e11665569cd911c0b0"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateSafepoint.html#a10bd26df469f53e11665569cd911c0b0">v8::internal::IsolateSafepoint::AssertActive</a></div><div class="ttdeci">void AssertActive()</div><div class="ttdef"><b>Definition:</b> <a href="safepoint_8h_source.html#l00045">safepoint.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a672cdd2977330a0a8a3680d37c08fe42"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a672cdd2977330a0a8a3680d37c08fe42">v8::internal::Isolate::internalized_string_access</a></div><div class="ttdeci">base::Mutex * internalized_string_access()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00758">isolate.h:758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a79661c3a6407e46b4aa382eae991ecfa"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a79661c3a6407e46b4aa382eae991ecfa">v8::internal::Isolate::shared_space_isolate</a></div><div class="ttdeci">Isolate * shared_space_isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02335">isolate.h:2335</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7e2962359009581ba84e6a361f574f61"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">v8::internal::Isolate::factory</a></div><div class="ttdeci">v8::internal::Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01553">isolate.h:1553</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a863567eca5cd2e437780d09553235557"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a863567eca5cd2e437780d09553235557">v8::internal::Isolate::thread_id</a></div><div class="ttdeci">ThreadId thread_id() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00836">isolate.h:836</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_acf580d271e1ea0e447b6bb1e361878d0"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#acf580d271e1ea0e447b6bb1e361878d0">v8::internal::Isolate::string_forwarding_table</a></div><div class="ttdeci">StringForwardingTable * string_forwarding_table() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00800">isolate.h:800</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LocalIsolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1LocalIsolate.html">v8::internal::LocalIsolate</a></div><div class="ttdef"><b>Definition:</b> <a href="local-isolate_8h_source.html#l00045">local-isolate.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00241">maybe-handles.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_a6b354d0c4c5e99048a02f9c0f8ae5dd2"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#a6b354d0c4c5e99048a02f9c0f8ae5dd2">v8::internal::Name::raw_hash_field</a></div><div class="ttdeci">uint32_t raw_hash_field() const</div><div class="ttdef"><b>Definition:</b> <a href="name_8h_source.html#l00047">name.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_a8a0fb909bfd7d4d7c8fc1d24596d4698"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#a8a0fb909bfd7d4d7c8fc1d24596d4698">v8::internal::Name::CreateExternalForwardingIndex</a></div><div class="ttdeci">static uint32_t CreateExternalForwardingIndex(uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00146">name-inl.h:146</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_aa71a7eb69a03cb9c6742d9b02dcc1947"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#aa71a7eb69a03cb9c6742d9b02dcc1947">v8::internal::Name::EnsureRawHash</a></div><div class="ttdeci">uint32_t EnsureRawHash()</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00175">name-inl.h:175</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_ab25eede33a5b704941810c9bbd9098b7"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#ab25eede33a5b704941810c9bbd9098b7">v8::internal::Name::set_raw_hash_field</a></div><div class="ttdeci">void set_raw_hash_field(uint32_t hash)</div><div class="ttdef"><b>Definition:</b> <a href="name_8h_source.html#l00055">name.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_ac1ae04083fa9042106be06126fa5eb7b"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#ac1ae04083fa9042106be06126fa5eb7b">v8::internal::Name::IsInternalizedForwardingIndex</a></div><div class="ttdeci">static bool IsInternalizedForwardingIndex(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00118">name-inl.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_aceb81166fdc1b836fd5a7dc3da2bbf1c"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#aceb81166fdc1b836fd5a7dc3da2bbf1c">v8::internal::Name::IsExternalForwardingIndex</a></div><div class="ttdeci">static bool IsExternalForwardingIndex(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00125">name-inl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Name_html_aeb272fbcfe70ac82684b5e995fa5bd87"><div class="ttname"><a href="classv8_1_1internal_1_1Name.html#aeb272fbcfe70ac82684b5e995fa5bd87">v8::internal::Name::IsHashFieldComputed</a></div><div class="ttdeci">static bool IsHashFieldComputed(uint32_t raw_hash_field)</div><div class="ttdef"><b>Definition:</b> <a href="name-inl_8h_source.html#l00096">name-inl.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00724">roots.h:724</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Relocatable_html"><div class="ttname"><a href="classv8_1_1internal_1_1Relocatable.html">v8::internal::Relocatable</a></div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00882">objects.h:882</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqOneByteString_html"><div class="ttname"><a href="classv8_1_1internal_1_1SeqOneByteString.html">v8::internal::SeqOneByteString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00860">string.h:860</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqTwoByteString_html"><div class="ttname"><a href="classv8_1_1internal_1_1SeqTwoByteString.html">v8::internal::SeqTwoByteString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00936">string.h:936</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_html"><div class="ttname"><a href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html">v8::internal::SharedStringAccessGuardIfNeeded</a></div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00048">string-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_html_a90c21c7e3cfb4babbfa1a35bf606d364"><div class="ttname"><a href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#a90c21c7e3cfb4babbfa1a35bf606d364">v8::internal::SharedStringAccessGuardIfNeeded::IsNeeded</a></div><div class="ttdeci">static bool IsNeeded(Tagged&lt; String &gt; str, LocalIsolate *local_isolate)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00081">string-inl.h:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedStringAccessGuardIfNeeded_html_ab6c21fca52e33d911bf7a47b40ee4264"><div class="ttname"><a href="classv8_1_1internal_1_1SharedStringAccessGuardIfNeeded.html#ab6c21fca52e33d911bf7a47b40ee4264">v8::internal::SharedStringAccessGuardIfNeeded::NotNeeded</a></div><div class="ttdeci">static SharedStringAccessGuardIfNeeded NotNeeded()</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00077">string-inl.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringCharacterStream_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringCharacterStream.html">v8::internal::StringCharacterStream</a></div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01639">string-inl.h:1639</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringCharacterStream_html_a37dd9665362c497b967dee5a9f003f0e"><div class="ttname"><a href="classv8_1_1internal_1_1StringCharacterStream.html#a37dd9665362c497b967dee5a9f003f0e">v8::internal::StringCharacterStream::Reset</a></div><div class="ttdeci">void Reset(Tagged&lt; String &gt; string, int offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01687">string-inl.h:1687</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringCharacterStream_html_a5c1516f0eb8ef18fc946d3d3b950bf80"><div class="ttname"><a href="classv8_1_1internal_1_1StringCharacterStream.html#a5c1516f0eb8ef18fc946d3d3b950bf80">v8::internal::StringCharacterStream::WriteUtf8Bytes</a></div><div class="ttdeci">size_t WriteUtf8Bytes(uint32_t n_chars, char *output, size_t output_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01738">string-inl.h:1738</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringCharacterStream_html_a5f6356cddd0737cffccb427d703009b0"><div class="ttname"><a href="classv8_1_1internal_1_1StringCharacterStream.html#a5f6356cddd0737cffccb427d703009b0">v8::internal::StringCharacterStream::HasMore</a></div><div class="ttdeci">bool HasMore()</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01701">string-inl.h:1701</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringCharacterStream_html_a78769916c2be83815a1a5b1a849d73fe"><div class="ttname"><a href="classv8_1_1internal_1_1StringCharacterStream.html#a78769916c2be83815a1a5b1a849d73fe">v8::internal::StringCharacterStream::GetNext</a></div><div class="ttdeci">uint16_t GetNext()</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01671">string-inl.h:1671</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringCharacterStream_html_a882d1bed6544168818133d055092cda8"><div class="ttname"><a href="classv8_1_1internal_1_1StringCharacterStream.html#a882d1bed6544168818133d055092cda8">v8::internal::StringCharacterStream::CountUtf8Bytes</a></div><div class="ttdeci">size_t CountUtf8Bytes(uint32_t n_chars)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01726">string-inl.h:1726</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringComparator_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringComparator.html">v8::internal::StringComparator</a></div><div class="ttdef"><b>Definition:</b> <a href="string-comparator_8h_source.html#l00016">string-comparator.h:16</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringComparator_html_a461c33dfaa39d470b8f1efcde929c6c3"><div class="ttname"><a href="classv8_1_1internal_1_1StringComparator.html#a461c33dfaa39d470b8f1efcde929c6c3">v8::internal::StringComparator::Equals</a></div><div class="ttdeci">static bool Equals(State *state_1, State *state_2, int to_check)</div><div class="ttdef"><b>Definition:</b> <a href="string-comparator_8h_source.html#l00056">string-comparator.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_a1a5f2ade520d25b77903ac581aba74d9"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#a1a5f2ade520d25b77903ac581aba74d9">v8::internal::StringForwardingTable::TryUpdateExternalResource</a></div><div class="ttdeci">bool TryUpdateExternalResource(int index, T *resource)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_a3654ad4a0c1f008fed4230eebde9b3c1"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#a3654ad4a0c1f008fed4230eebde9b3c1">v8::internal::StringForwardingTable::AddExternalResourceAndHash</a></div><div class="ttdeci">int AddExternalResourceAndHash(Tagged&lt; String &gt; string, T *resource, uint32_t raw_hash)</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table_8cc_source.html#l00234">string-forwarding-table.cc:234</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html">v8::internal::StringShape</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00058">string.h:58</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a0f31f89c91ed936f7c98a2aa888c7006"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a0f31f89c91ed936f7c98a2aa888c7006">v8::internal::StringShape::DispatchToSpecificType</a></div><div class="ttdeci">auto DispatchToSpecificType(Tagged&lt; String &gt; str, TDispatcher &amp;&amp;dispatcher) const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00325">string-inl.h:325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a240e0d4fb9c6d1acf19789a044c612b2"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a240e0d4fb9c6d1acf19789a044c612b2">v8::internal::StringShape::IsShared</a></div><div class="ttdeci">bool IsShared() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00217">string-inl.h:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a2579ab2f0615c10e6652e458213669ce"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a2579ab2f0615c10e6652e458213669ce">v8::internal::StringShape::IsOneByte</a></div><div class="ttdeci">bool IsOneByte() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00172">string-inl.h:172</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a28c6d13fd66b5aaf248bc39ecf0adbe8"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a28c6d13fd66b5aaf248bc39ecf0adbe8">v8::internal::StringShape::IsThin</a></div><div class="ttdeci">bool IsThin() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00189">string-inl.h:189</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a3958dda407d185d6005d03934474bc26"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a3958dda407d185d6005d03934474bc26">v8::internal::StringShape::IsInternalized</a></div><div class="ttdeci">bool IsInternalized() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00180">string-inl.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a453668677ed5dc55ff1e77342a84afda"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a453668677ed5dc55ff1e77342a84afda">v8::internal::StringShape::IsIndirect</a></div><div class="ttdeci">bool IsIndirect() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00197">string-inl.h:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a5af117ebcc7191cc223d3625ee292401"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a5af117ebcc7191cc223d3625ee292401">v8::internal::StringShape::IsCons</a></div><div class="ttdeci">bool IsCons() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00185">string-inl.h:185</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_a72d8e1e52fda416345beecedb460bb39"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#a72d8e1e52fda416345beecedb460bb39">v8::internal::StringShape::IsSliced</a></div><div class="ttdeci">bool IsSliced() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00193">string-inl.h:193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringShape_html_ab0226d50190fdf11e5380387a32f5ffd"><div class="ttname"><a href="classv8_1_1internal_1_1StringShape.html#ab0226d50190fdf11e5380387a32f5ffd">v8::internal::StringShape::IsExternal</a></div><div class="ttdeci">bool IsExternal() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00205">string-inl.h:205</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringStream_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringStream.html">v8::internal::StringStream</a></div><div class="ttdef"><b>Definition:</b> <a href="string-stream_8h_source.html#l00091">string-stream.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringStream_html_a24a1a07729bf42969140ba16f3351920"><div class="ttname"><a href="classv8_1_1internal_1_1StringStream.html#a24a1a07729bf42969140ba16f3351920">v8::internal::StringStream::Put</a></div><div class="ttdeci">bool Put(char c)</div><div class="ttdef"><b>Definition:</b> <a href="string-stream_8cc_source.html#l00036">string-stream.cc:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringStream_html_aa3882575a01cba886e200b75ad4225ca"><div class="ttname"><a href="classv8_1_1internal_1_1StringStream.html#aa3882575a01cba886e200b75ad4225ca">v8::internal::StringStream::Add</a></div><div class="ttdeci">void Add(const char *format)</div><div class="ttdef"><b>Definition:</b> <a href="string-stream_8h_source.html#l00156">string-stream.h:156</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html">v8::internal::String::FlatContent</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00131">string.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a00d04cc56a894ba79373a521904b6a77"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a00d04cc56a894ba79373a521904b6a77">v8::internal::String::FlatContent::IsTwoByte</a></div><div class="ttdeci">bool IsTwoByte() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00140">string.h:140</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a3b4907c3447e7f474b0825b8db8138f0"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a3b4907c3447e7f474b0825b8db8138f0">v8::internal::String::FlatContent::IsOneByte</a></div><div class="ttdeci">bool IsOneByte() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00138">string.h:138</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a483b0df0bd1ac65774f670845019d75f"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a483b0df0bd1ac65774f670845019d75f">v8::internal::String::FlatContent::IsFlat</a></div><div class="ttdeci">bool IsFlat() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00136">string.h:136</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_a794f656e3f6d2c76eba88eebd5c780e3"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#a794f656e3f6d2c76eba88eebd5c780e3">v8::internal::String::FlatContent::ToOneByteVector</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; ToOneByteVector() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00144">string.h:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1FlatContent_html_ae62146724271210677779a9741d4103d"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1FlatContent.html#ae62146724271210677779a9741d4103d">v8::internal::String::FlatContent::ToUC16Vector</a></div><div class="ttdeci">base::Vector&lt; const base::uc16 &gt; ToUC16Vector() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00150">string.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html">v8::internal::String::Match</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00362">string.h:362</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_a1c62b35915da7b18e64ecbdafba9886e"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#a1c62b35915da7b18e64ecbdafba9886e">v8::internal::String::Match::GetCapture</a></div><div class="ttdeci">virtual MaybeDirectHandle&lt; String &gt; GetCapture(int i, bool *capture_exists)=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_a382d5424bc4d197567e9c9fa5ac2078d"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#a382d5424bc4d197567e9c9fa5ac2078d">v8::internal::String::Match::CaptureCount</a></div><div class="ttdeci">virtual int CaptureCount()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_a4b5fd598557237ba5dc3c02cabcc0695"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#a4b5fd598557237ba5dc3c02cabcc0695">v8::internal::String::Match::GetNamedCapture</a></div><div class="ttdeci">virtual MaybeDirectHandle&lt; String &gt; GetNamedCapture(DirectHandle&lt; String &gt; name, CaptureState *state)=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_a6ee63f2ca82ca17573e2151e26fda8f1"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#a6ee63f2ca82ca17573e2151e26fda8f1">v8::internal::String::Match::GetSuffix</a></div><div class="ttdeci">virtual DirectHandle&lt; String &gt; GetSuffix()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_a89de94cd6e117ea2afc53653359a1726"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#a89de94cd6e117ea2afc53653359a1726">v8::internal::String::Match::HasNamedCaptures</a></div><div class="ttdeci">virtual bool HasNamedCaptures()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_aab7926a16ffa4be7ea8cfb5bbeccbad1"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#aab7926a16ffa4be7ea8cfb5bbeccbad1">v8::internal::String::Match::GetMatch</a></div><div class="ttdeci">virtual DirectHandle&lt; String &gt; GetMatch()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_ab74a2a6efd37edb1fb5626a6e77b8e8e"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#ab74a2a6efd37edb1fb5626a6e77b8e8e">v8::internal::String::Match::GetPrefix</a></div><div class="ttdeci">virtual DirectHandle&lt; String &gt; GetPrefix()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_1_1Match_html_ada8b606fa3a85b7690b84fbc559ab01a"><div class="ttname"><a href="classv8_1_1internal_1_1String_1_1Match.html#ada8b606fa3a85b7690b84fbc559ab01a">v8::internal::String::Match::CaptureState</a></div><div class="ttdeci">CaptureState</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00370">string.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html"><div class="ttname"><a href="classv8_1_1internal_1_1String.html">v8::internal::String</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00118">string.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a01a2a3b88a627a1759ec18185c6d3b8f"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a01a2a3b88a627a1759ec18185c6d3b8f">v8::internal::String::StringShortPrint</a></div><div class="ttdeci">void StringShortPrint(StringStream *accumulator)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00606">string.cc:606</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a0a659043aaf2322e3ee5e8fcba625cde"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a0a659043aaf2322e3ee5e8fcba625cde">v8::internal::String::WriteToFlat</a></div><div class="ttdeci">static void WriteToFlat(Tagged&lt; String &gt; source, SinkCharT *sink, uint32_t start, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00763">string.cc:763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a27c7ad36e19fe8c40231671ff4f6919f"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a27c7ad36e19fe8c40231671ff4f6919f">v8::internal::String::ToArrayIndex</a></div><div class="ttdeci">static int32_t ToArrayIndex(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00650">string.cc:650</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a2c778f7d8b1a0b2b74adeb4dd25bf7cc"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a2c778f7d8b1a0b2b74adeb4dd25bf7cc">v8::internal::String::AddressOfCharacterAt</a></div><div class="ttdeci">const uint8_t * AddressOfCharacterAt(uint32_t start_index, const DisallowGarbageCollection &amp;no_gc)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l02224">string.cc:2224</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a34e5b17a87d1b2bb96855df97ac6d569"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a34e5b17a87d1b2bb96855df97ac6d569">v8::internal::String::IsTwoByteRepresentation</a></div><div class="ttdeci">bool IsTwoByteRepresentation() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00517">string-inl.h:517</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a384c37d72b89b918d1e508ab91e041ef"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a384c37d72b89b918d1e508ab91e041ef">v8::internal::String::TryGetFlatContentFromDirectString</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE std::optional&lt; FlatContent &gt; TryGetFlatContentFromDirectString(const DisallowGarbageCollection &amp;no_gc, Tagged&lt; String &gt; string, uint32_t offset, uint32_t length, const SharedStringAccessGuardIfNeeded &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00995">string-inl.h:995</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a46cfb53083dfe6283c9e3899fa40e52f"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a46cfb53083dfe6283c9e3899fa40e52f">v8::internal::String::MakeExternalDuringGC</a></div><div class="ttdeci">void MakeExternalDuringGC(Isolate *isolate, T *resource)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00290">string.cc:290</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a515a2f802c1b54ee845421f87a5a0956"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a515a2f802c1b54ee845421f87a5a0956">v8::internal::String::MakeThin</a></div><div class="ttdeci">void MakeThin(IsolateT *isolate, Tagged&lt; String &gt; canonical)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00135">string.cc:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a534bdc1c9f6203121ff257e7929ed7ba"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a534bdc1c9f6203121ff257e7929ed7ba">v8::internal::String::source</a></div><div class="ttdeci">HandleType&lt; String &gt; source</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00748">string.h:748</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a5459891309b58be7e1948274d9114f07"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a5459891309b58be7e1948274d9114f07">v8::internal::String::cons</a></div><div class="ttdeci">HandleType&lt; ConsString &gt; cons</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00734">string.h:734</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a574ace7f13b27c71cdc71c9e88d37d0b"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a574ace7f13b27c71cdc71c9e88d37d0b">v8::internal::String::PrefixForDebugPrint</a></div><div class="ttdeci">const char * PrefixForDebugPrint() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00570">string.cc:570</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a6359568c786911c46894d1bc06062cdd"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a6359568c786911c46894d1bc06062cdd">v8::internal::String::length</a></div><div class="ttdeci">uint32_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l00132">string-inl.h:132</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a642feba624127740fd29009651525870"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a642feba624127740fd29009651525870">v8::internal::String::ToStdString</a></div><div class="ttdeci">V8_EXPORT_PRIVATE std::string ToStdString()</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00746">string.cc:746</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a74e826ce61e9da33eeb62ba347e78ca9"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a74e826ce61e9da33eeb62ba347e78ca9">v8::internal::String::SlowGetFlatContent</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlatContent SlowGetFlatContent(const DisallowGarbageCollection &amp;no_gc, const SharedStringAccessGuardIfNeeded &amp;)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_a8cc71a1869c4a42595385e1283178017"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#a8cc71a1869c4a42595385e1283178017">v8::internal::String::IsShared</a></div><div class="ttdeci">bool IsShared() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01140">string-inl.h:1140</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ac03befcd0e78390bd5c5a9529c3d8254"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ac03befcd0e78390bd5c5a9529c3d8254">v8::internal::String::subject</a></div><div class="ttdeci">HandleType&lt; String &gt; subject</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00275">string.h:275</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ac725dec29f96d909415b1769898ce2aa"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ac725dec29f96d909415b1769898ce2aa">v8::internal::String::SuffixForDebugPrint</a></div><div class="ttdeci">const char * SuffixForDebugPrint() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00600">string.cc:600</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_acddec9d4fdd949658d14de3ff11e211b"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#acddec9d4fdd949658d14de3ff11e211b">v8::internal::String::WriteToFlat2</a></div><div class="ttdeci">static void WriteToFlat2(SinkCharT *dst, Tagged&lt; ConsString &gt; src, uint32_t src_index, uint32_t length, const SharedStringAccessGuardIfNeeded &amp;aguard, const DisallowGarbageCollection &amp;no_gc)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01052">string.cc:1052</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ad76be8b3c0bea46bb8c686d8347989ad"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ad76be8b3c0bea46bb8c686d8347989ad">v8::internal::String::IsOneByte</a></div><div class="ttdeci">static bool IsOneByte(const base::uc16 *chars, uint32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00644">string.h:644</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ad78c510dcedfaf3b46a2e8b75091d8ff"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ad78c510dcedfaf3b46a2e8b75091d8ff">v8::internal::String::MakeExternal</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool MakeExternal(Isolate *isolate, v8::String::ExternalStringResource *resource)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ad98c33064c144bf5398a9017896bafa6"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ad98c33064c144bf5398a9017896bafa6">v8::internal::String::IsFlat</a></div><div class="ttdeci">bool IsFlat() const</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01135">string-inl.h:1135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ae41af71f351bd05d8af7a7815b5a6faa"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ae41af71f351bd05d8af7a7815b5a6faa">v8::internal::String::ToCString</a></div><div class="ttdeci">std::unique_ptr&lt; char[]&gt; ToCString(uint32_t offset, uint32_t length, size_t *length_output=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00713">string.cc:713</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ae6a1ea5defb6676397bc02a873d1df51"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ae6a1ea5defb6676397bc02a873d1df51">v8::internal::String::kMaxShortPrintLength</a></div><div class="ttdeci">static const uint32_t kMaxShortPrintLength</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00530">string.h:530</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_aea55a02f85df72a16ca12a02cff5cd2b"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#aea55a02f85df72a16ca12a02cff5cd2b">v8::internal::String::PrintUC16</a></div><div class="ttdeci">void PrintUC16(std::ostream &amp;os, int start=0, int end=-1)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00623">string.cc:623</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_aef97c2ced11c2a39c6838ceb5e283c5a"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#aef97c2ced11c2a39c6838ceb5e283c5a">v8::internal::String::SupportsExternalization</a></div><div class="ttdeci">bool SupportsExternalization(v8::String::Encoding)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00530">string.cc:530</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_af8b89284144fbca86b158e14554da465"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#af8b89284144fbca86b158e14554da465">v8::internal::String::MarkForExternalizationDuringGC</a></div><div class="ttdeci">bool MarkForExternalizationDuringGC(Isolate *isolate, T *resource)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a4dba1b2eafcf7a414910966f950540c9"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">v8::internal::TaggedImpl::ptr</a></div><div class="ttdeci">constexpr StorageType ptr() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00110">tagged-impl.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a0930e2a8cbe8abbc5cdd476902fe6c88"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">v8::internal::Tagged&lt; HeapObject &gt;::is_null</a></div><div class="ttdeci">constexpr bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00502">tagged.h:502</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThinString_html"><div class="ttname"><a href="classv8_1_1internal_1_1ThinString.html">v8::internal::ThinString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01080">string.h:1080</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadId_html_a81c60d3524b03db2f154b7f682e7796f"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadId.html#a81c60d3524b03db2f154b7f682e7796f">v8::internal::ThreadId::Current</a></div><div class="ttdeci">static ThreadId Current()</div><div class="ttdef"><b>Definition:</b> <a href="thread-id_8h_source.html#l00032">thread-id.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UncachedExternalString_html"><div class="ttname"><a href="classv8_1_1internal_1_1UncachedExternalString.html">v8::internal::UncachedExternalString</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01172">string.h:1172</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UncachedExternalString_html_a09e2478e2b6bcca30a4c1c430b41d712"><div class="ttname"><a href="classv8_1_1internal_1_1UncachedExternalString.html#a09e2478e2b6bcca30a4c1c430b41d712">v8::internal::UncachedExternalString::resource_</a></div><div class="ttdeci">ExternalPointerMember&lt; kExternalStringResourceTag &gt; resource_</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l01174">string.h:1174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Union_html"><div class="ttname"><a href="classv8_1_1internal_1_1Union.html">v8::internal::Union</a></div><div class="ttdef"><b>Definition:</b> <a href="union_8h_source.html#l00062">union.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html">v8::internal::anonymous_namespace{string.cc}::WriteToFlat_RepeatOptimizer</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00958">string.cc:958</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer_html_a2085aae7683a5b15115f271f43675e80"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a2085aae7683a5b15115f271f43675e80">v8::internal::anonymous_namespace{string.cc}::WriteToFlat_RepeatOptimizer::enabled</a></div><div class="ttdeci">bool enabled() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00987">string.cc:987</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer_html_a3baa347623fd4369366076c3e15cd3a1"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3baa347623fd4369366076c3e15cd3a1">v8::internal::anonymous_namespace{string.cc}::WriteToFlat_RepeatOptimizer::first_occurrence_</a></div><div class="ttdeci">std::unordered_map&lt; Address, const SinkCharT * &gt; first_occurrence_</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00993">string.cc:993</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer_html_a3f5f010a43d959fe6226a2587db48cd4"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#a3f5f010a43d959fe6226a2587db48cd4">v8::internal::anonymous_namespace{string.cc}::WriteToFlat_RepeatOptimizer::RecordFirstOccurrence</a></div><div class="ttdeci">void RecordFirstOccurrence(Tagged&lt; String &gt; s, const SinkCharT *position)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00960">string.cc:960</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer_html_ad52202c777dffa53e426dc649a061e1f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02string_8cc_03_1_1WriteToFlat__RepeatOptimizer.html#ad52202c777dffa53e426dc649a061e1f">v8::internal::anonymous_namespace{string.cc}::WriteToFlat_RepeatOptimizer::TryApply</a></div><div class="ttdeci">bool TryApply(Tagged&lt; String &gt; s, SinkCharT **current_position)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00969">string.cc:969</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="aconversions_8h_html"><div class="ttname"><a href="conversions_8h.html">conversions.h</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_af22849720fbd54f8307292fe33c35a07"><div class="ttname"><a href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a></div><div class="ttdeci">constexpr const char * ToString(DataViewOp op)</div><div class="ttdef"><b>Definition:</b> <a href="data-view-ops_8h_source.html#l00032">data-view-ops.h:32</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a2ff064a43911dd1ec71bcb23989bd9d8"><div class="ttname"><a href="execution_2isolate_8h.html#a2ff064a43911dd1ec71bcb23989bd9d8">ASSIGN_RETURN_FAILURE_ON_EXCEPTION</a></div><div class="ttdeci">#define ASSIGN_RETURN_FAILURE_ON_EXCEPTION(isolate, dst, call)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00285">isolate.h:285</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a45bb81ab232e9f2663545ec92dc0b950"><div class="ttname"><a href="execution_2isolate_8h.html#a45bb81ab232e9f2663545ec92dc0b950">ASSIGN_RETURN_ON_EXCEPTION</a></div><div class="ttdeci">#define ASSIGN_RETURN_ON_EXCEPTION(isolate, dst, call)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00292">isolate.h:292</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a7fc5aec5f967fb5b39c24c8b0348634d"><div class="ttname"><a href="execution_2isolate_8h.html#a7fc5aec5f967fb5b39c24c8b0348634d">THROW_NEW_ERROR_RETURN_FAILURE</a></div><div class="ttdeci">#define THROW_NEW_ERROR_RETURN_FAILURE(isolate, call)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00295">isolate.h:295</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a583245cb1ce76ddbc0cf3db5354b33c1"><div class="ttname"><a href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this file(requires that V8 was built with v8_enable_builtins_profiling=true)&quot;) DEFINE_BOOL(reorder_builtins</div></div>
<div class="ttc" id="aflag-definitions_8h_html_af0832cf93cb1767d6e6e287bb7dcdf72"><div class="ttname"><a href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a></div><div class="ttdeci">other heap size flags(e.g. initial_heap_size) take precedence&quot;) DEFINE_SIZE_T( max_shared_heap_size</div></div>
<div class="ttc" id="ahandles-inl_8h_html"><div class="ttname"><a href="handles-inl_8h.html">handles-inl.h</a></div></div>
<div class="ttc" id="aheap-inl_8h_html"><div class="ttname"><a href="heap-inl_8h.html">heap-inl.h</a></div></div>
<div class="ttc" id="aheap-layout-inl_8h_html"><div class="ttname"><a href="heap-layout-inl_8h.html">heap-layout-inl.h</a></div></div>
<div class="ttc" id="ainstance-type_8h_html"><div class="ttname"><a href="instance-type_8h.html">instance-type.h</a></div></div>
<div class="ttc" id="aisolate-utils_8h_html"><div class="ttname"><a href="isolate-utils_8h.html">isolate-utils.h</a></div></div>
<div class="ttc" id="alocal-factory-inl_8h_html"><div class="ttname"><a href="local-factory-inl_8h.html">local-factory-inl.h</a></div></div>
<div class="ttc" id="alocal-heap-inl_8h_html"><div class="ttname"><a href="local-heap-inl_8h.html">local-heap-inl.h</a></div></div>
<div class="ttc" id="amap_8h_html"><div class="ttname"><a href="map_8h.html">map.h</a></div></div>
<div class="ttc" id="amutable-page-metadata_8h_html"><div class="ttname"><a href="mutable-page-metadata_8h.html">mutable-page-metadata.h</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_aba8167f197e892214b9dc1aba34983de"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#aba8167f197e892214b9dc1aba34983de">v8::base::internal::y</a></div><div class="ttdeci">U y</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00077">clamped_math_impl.h:77</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1961a4852ced3c23f4d43de6f91d18d6"><div class="ttname"><a href="namespacev8_1_1base.html#a1961a4852ced3c23f4d43de6f91d18d6">v8::base::uc16</a></div><div class="ttdeci">uint16_t uc16</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00018">strings.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5e2f28507a708c787de5aee9532588c6"><div class="ttname"><a href="namespacev8_1_1base.html#a5e2f28507a708c787de5aee9532588c6">v8::base::kUC16Size</a></div><div class="ttdeci">constexpr int kUC16Size</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00020">strings.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1bigint_html_a3f5783b42cb7b4ac89502447815b6fc5"><div class="ttname"><a href="namespacev8_1_1bigint.html#a3f5783b42cb7b4ac89502447815b6fc5">v8::bigint::Compare</a></div><div class="ttdeci">int Compare(Digits A, Digits B)</div><div class="ttdef"><b>Definition:</b> <a href="bigint_2bigint_8h_source.html#l00224">bigint.h:224</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_a6f5e6ffabad6d103b853e7033c900fbe"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">v8::internal::InstanceTypeChecker::IsThinString</a></div><div class="ttdeci">constexpr bool IsThinString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00403">instance-type-inl.h:403</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_aa50b8d8a7e8d5da47c21d36be5b2a14d"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">v8::internal::InstanceTypeChecker::IsInternalizedString</a></div><div class="ttdeci">constexpr bool IsInternalizedString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00317">instance-type-inl.h:317</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_aed66dfc5a0636c99f9313e16bf5a9a23"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aed66dfc5a0636c99f9313e16bf5a9a23">v8::internal::InstanceTypeChecker::IsConsString</a></div><div class="ttdeci">constexpr bool IsConsString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00375">instance-type-inl.h:375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_afb3ec97f16d3e44bb89e321f19c7b340"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#afb3ec97f16d3e44bb89e321f19c7b340">v8::internal::InstanceTypeChecker::IsSeqString</a></div><div class="ttdeci">constexpr bool IsSeqString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00332">instance-type-inl.h:332</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a996ff47de27ce5f127bdcc0bff48b7f9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">v8::internal::anonymous_namespace{read-only-promotion.cc}::Contains</a></div><div class="ttdeci">bool Contains(const HeapObjectSet &amp;s, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00032">read-only-promotion.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02regexp-compiler-tonode_8cc_03_html_a3854d1dfaff31fa9041dc458341c2415"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02regexp-compiler-tonode_8cc_03.html#a3854d1dfaff31fa9041dc458341c2415">v8::internal::anonymous_namespace{regexp-compiler-tonode.cc}::Equals</a></div><div class="ttdeci">bool Equals(bool ignore_case, unibrow::Mapping&lt; unibrow::Ecma262Canonicalize &gt; *canonicalize, unibrow::uchar a, unibrow::uchar b)</div><div class="ttdef"><b>Definition:</b> <a href="regexp-compiler-tonode_8cc_source.html#l00765">regexp-compiler-tonode.cc:765</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03_html_af8a15e556ff7d16bc7c5bd1aa2084ef2"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02simd_8cc_03.html#af8a15e556ff7d16bc7c5bd1aa2084ef2">v8::internal::anonymous_namespace{simd.cc}::search</a></div><div class="ttdeci">uintptr_t search(T *array, uintptr_t array_len, uintptr_t index, T search_element)</div><div class="ttdef"><b>Definition:</b> <a href="simd_8cc_source.html#l00349">simd.cc:349</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a09e2f9ff175d91d06e99e984ad1fd1de"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a09e2f9ff175d91d06e99e984ad1fd1de">v8::internal::anonymous_namespace{string.cc}::HashString</a></div><div class="ttdeci">uint32_t HashString(Tagged&lt; String &gt; string, size_t start, uint32_t length, uint64_t seed, const SharedStringAccessGuardIfNeeded &amp;access_guard)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01795">string.cc:1795</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a0d325d971dd168d32d6b2d7aa4118dd1"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a0d325d971dd168d32d6b2d7aa4118dd1">v8::internal::anonymous_namespace{string.cc}::ComputeExternalStringMap</a></div><div class="ttdeci">Tagged&lt; Map &gt; ComputeExternalStringMap(Isolate *isolate, Tagged&lt; String &gt; string, int size)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00246">string.cc:246</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a4c9e282de26361674d6cdf914d4f4c08"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4c9e282de26361674d6cdf914d4f4c08">v8::internal::anonymous_namespace{string.cc}::wtf_try_pop</a></div><div class="ttdeci">bool wtf_try_pop(wtf_stack_top_t &amp;top, wtf_stack_t &amp;stack, Tagged&lt; String &gt; *value)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00939">string.cc:939</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a4d6c438ddde7de69dbf2e5cd3b27542a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a4d6c438ddde7de69dbf2e5cd3b27542a">v8::internal::anonymous_namespace{string.cc}::ToValidIndex</a></div><div class="ttdeci">uint32_t ToValidIndex(Tagged&lt; String &gt; str, Tagged&lt; Object &gt; number)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01412">string.cc:1412</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a594af923a523f3a9a42001835461d0f4"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a594af923a523f3a9a42001835461d0f4">v8::internal::anonymous_namespace{string.cc}::WriteToFlat2Impl</a></div><div class="ttdeci">void WriteToFlat2Impl(SinkCharT *&amp;rdst, wtf_stack_top_t &amp;top, wtf_stack_t &amp;stack, WriteToFlat_RepeatOptimizer&lt; SinkCharT &gt; &amp;ropt, const SharedStringAccessGuardIfNeeded &amp;aguard, const DisallowGarbageCollection &amp;no_gc)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00997">string.cc:997</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a60c185b0f8c838c3e07c7beee002d08e"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a60c185b0f8c838c3e07c7beee002d08e">v8::internal::anonymous_namespace{string.cc}::wtf_stack_top_t</a></div><div class="ttdeci">Tagged&lt; String &gt; wtf_stack_top_t</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00931">string.cc:931</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a6b5e403b865765acb725382b6ab080f6"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6">v8::internal::anonymous_namespace{string.cc}::WriteToFlatImplVariant</a></div><div class="ttdeci">WriteToFlatImplVariant</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00921">string.cc:921</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a6b5e403b865765acb725382b6ab080f6a39115a7c10a683c8de51ab70b79b0ed1"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6a39115a7c10a683c8de51ab70b79b0ed1">v8::internal::anonymous_namespace{string.cc}::kWTFSeqOneByte</a></div><div class="ttdeci">@ kWTFSeqOneByte</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00922">string.cc:922</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a6b5e403b865765acb725382b6ab080f6aa70b4a61cec0dc2733eae6cf5f721284"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6b5e403b865765acb725382b6ab080f6aa70b4a61cec0dc2733eae6cf5f721284">v8::internal::anonymous_namespace{string.cc}::kWTFGeneric</a></div><div class="ttdeci">@ kWTFGeneric</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00923">string.cc:923</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a6ef90fdbe7f550321e0ba894283ee41a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a6ef90fdbe7f550321e0ba894283ee41a">v8::internal::anonymous_namespace{string.cc}::StringMatchBackwards</a></div><div class="ttdeci">int StringMatchBackwards(base::Vector&lt; const schar &gt; subject, base::Vector&lt; const pchar &gt; pattern, int idx)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01650">string.cc:1650</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a77212673c855017405f00a2e4651495a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a77212673c855017405f00a2e4651495a">v8::internal::anonymous_namespace{string.cc}::wtf_stack_t</a></div><div class="ttdeci">base::SmallVector&lt; Tagged&lt; String &gt;, 32 &gt; wtf_stack_t</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00930">string.cc:930</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_a81e16e491a0fd7c856a1971413807626"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#a81e16e491a0fd7c856a1971413807626">v8::internal::anonymous_namespace{string.cc}::IsIdentifierVector</a></div><div class="ttdeci">bool IsIdentifierVector(base::Vector&lt; Char &gt; vec)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01766">string.cc:1766</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_ac732c05eb3b1b4b97b36b40f4c489b37"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ac732c05eb3b1b4b97b36b40f4c489b37">v8::internal::anonymous_namespace{string.cc}::WriteNonConsToFlat2</a></div><div class="ttdeci">SinkCharT * WriteNonConsToFlat2(Tagged&lt; String &gt; src, StringShape shape, SinkCharT *dst, uint32_t src_index, uint32_t length, const SharedStringAccessGuardIfNeeded &amp;aguard, const DisallowGarbageCollection &amp;no_gc)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00882">string.cc:882</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_ade84dbbeeef3c422320162598300deaf"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ade84dbbeeef3c422320162598300deaf">v8::internal::anonymous_namespace{string.cc}::MigrateExternalStringResource</a></div><div class="ttdeci">void MigrateExternalStringResource(Isolate *isolate, Tagged&lt; ExternalString &gt; from, Tagged&lt; StringClass &gt; to)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00087">string.cc:87</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_ae240c0c3e0ac76dbf86572d04bd60aff"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae240c0c3e0ac76dbf86572d04bd60aff">v8::internal::anonymous_namespace{string.cc}::SearchString</a></div><div class="ttdeci">int SearchString(Isolate *isolate, String::FlatContent receiver_content, base::Vector&lt; T &gt; pat_vector, int start_index)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01449">string.cc:1449</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_ae34108ddb11abf4614a2a8e1b3057c72"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#ae34108ddb11abf4614a2a8e1b3057c72">v8::internal::anonymous_namespace{string.cc}::MigrateExternalString</a></div><div class="ttdeci">void MigrateExternalString(Isolate *isolate, Tagged&lt; String &gt; string, Tagged&lt; String &gt; internalized)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00106">string.cc:106</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03_html_afbd2d9caf24ef62567944b1595e9d3aa"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02string_8cc_03.html#afbd2d9caf24ef62567944b1595e9d3aa">v8::internal::anonymous_namespace{string.cc}::wtf_push</a></div><div class="ttdeci">void wtf_push(wtf_stack_top_t &amp;top, wtf_stack_t &amp;stack, Tagged&lt; String &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l00933">string.cc:933</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l01242">graph.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a4547ea68c972ac14663623ed7adab8d8"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">v8::internal::compiler::initial_map</a></div><div class="ttdeci">true initial_map</div><div class="ttdef"><b>Definition:</b> <a href="heap-refs_8cc_source.html#l02435">heap-refs.cc:2435</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a032e2ecc55e345c58981826b78e45a9d"><div class="ttname"><a href="namespacev8_1_1internal.html#a032e2ecc55e345c58981826b78e45a9d">v8::internal::IsIdentifierStart</a></div><div class="ttdeci">bool IsIdentifierStart(base::uc32 c)</div><div class="ttdef"><b>Definition:</b> <a href="char-predicates-inl_8h_source.html#l00137">char-predicates-inl.h:137</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0614c2ae76c43a80b446e8e2965dd333a1ea590aa4a64767508460736ac0edaa9"><div class="ttname"><a href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a1ea590aa4a64767508460736ac0edaa9">v8::internal::ClearRecordedSlots::kYes</a></div><div class="ttdeci">@ kYes</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0614c2ae76c43a80b446e8e2965dd333a8cc8e60acfa3ae6089df773013fd73a2"><div class="ttname"><a href="namespacev8_1_1internal.html#a0614c2ae76c43a80b446e8e2965dd333a8cc8e60acfa3ae6089df773013fd73a2">v8::internal::ClearRecordedSlots::kNo</a></div><div class="ttdeci">@ kNo</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a086b3379b539247245ed2461818f4b0a"><div class="ttname"><a href="namespacev8_1_1internal.html#a086b3379b539247245ed2461818f4b0a">v8::internal::kStringEncodingMask</a></div><div class="ttdeci">const uint32_t kStringEncodingMask</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00056">instance-type.h:56</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a12d50d7bb2c9d8a916ff0785e6eff241"><div class="ttname"><a href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">v8::internal::kTaggedSize</a></div><div class="ttdeci">constexpr int kTaggedSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00533">globals.h:533</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16"><div class="ttname"><a href="namespacev8_1_1internal.html#a1dcd1c70913dd4654f57126302d602f3a6b36856c848b4caeea99b4498b007d16">v8::internal::kConsStringTag</a></div><div class="ttdeci">@ kConsStringTag</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00033">instance-type.h:33</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2210b446b5a2df04a6f9e5a1762e6a36"><div class="ttname"><a href="namespacev8_1_1internal.html#a2210b446b5a2df04a6f9e5a1762e6a36">v8::internal::PositiveNumberToUint32</a></div><div class="ttdeci">uint32_t PositiveNumberToUint32(Tagged&lt; Object &gt; number)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00254">conversions-inl.h:254</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a91630e3bea4acdc25a85c839ab2ce574"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a91630e3bea4acdc25a85c839ab2ce574">v8::internal::kGreaterThan</a></div><div class="ttdeci">@ kGreaterThan</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00113">constants-arm.h:113</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ac0ed9651e6769dd886c6e6e713cf5067"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ac0ed9651e6769dd886c6e6e713cf5067">v8::internal::kEqual</a></div><div class="ttdeci">@ kEqual</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00110">constants-arm.h:110</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ad13d3d584e488a474dfd415a2601f0b3"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ad13d3d584e488a474dfd415a2601f0b3">v8::internal::kLessThan</a></div><div class="ttdeci">@ kLessThan</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00112">constants-arm.h:112</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2ccec82573e05962ef54cab168895c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">v8::internal::kObjectAlignment</a></div><div class="ttdeci">constexpr intptr_t kObjectAlignment</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00924">globals.h:924</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2cf07368b881c07b1f5b41b639800e70"><div class="ttname"><a href="namespacev8_1_1internal.html#a2cf07368b881c07b1f5b41b639800e70">v8::internal::IsLineTerminatorSequence</a></div><div class="ttdeci">bool IsLineTerminatorSequence(base::uc32 c, base::uc32 next)</div><div class="ttdef"><b>Definition:</b> <a href="char-predicates-inl_8h_source.html#l00166">char-predicates-inl.h:166</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2e748ee13f84c923e077d341045b1212"><div class="ttname"><a href="namespacev8_1_1internal.html#a2e748ee13f84c923e077d341045b1212">v8::internal::stack</a></div><div class="ttdeci">stack</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00824">wasm-objects-inl.h:824</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a316c325b66bebaa96016862a23c41c8b"><div class="ttname"><a href="namespacev8_1_1internal.html#a316c325b66bebaa96016862a23c41c8b">v8::internal::kOneByteSize</a></div><div class="ttdeci">constexpr int kOneByteSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00694">globals.h:694</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a32748e76c13313ee4837d66d18000307"><div class="ttname"><a href="namespacev8_1_1internal.html#a32748e76c13313ee4837d66d18000307">v8::internal::kTwoByteStringTag</a></div><div class="ttdeci">const uint32_t kTwoByteStringTag</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00057">instance-type.h:57</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a36a7038a14420f718296215cbf007ed9"><div class="ttname"><a href="namespacev8_1_1internal.html#a36a7038a14420f718296215cbf007ed9">v8::internal::requires</a></div><div class="ttdeci">requires(std::is_convertible_v&lt; HandleType&lt; T &gt;, DirectHandle&lt; T &gt;&gt;) HandleType&lt; T &gt; HandleScope</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00256">handles-inl.h:256</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3bca87fbeea8eaed3b35acb2cedc0715"><div class="ttname"><a href="namespacev8_1_1internal.html#a3bca87fbeea8eaed3b35acb2cedc0715">v8::internal::kUncachedExternalStringTag</a></div><div class="ttdeci">const uint32_t kUncachedExternalStringTag</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00074">instance-type.h:74</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3c5a1b85562d862c803870241deaed67"><div class="ttname"><a href="namespacev8_1_1internal.html#a3c5a1b85562d862c803870241deaed67">v8::internal::kCharSize</a></div><div class="ttdeci">constexpr int kCharSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00397">globals.h:397</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4382c244e839ce16a4beafabd1c6bd1d"><div class="ttname"><a href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">v8::internal::Tagged</a></div><div class="ttdeci">Tagged(T object) -&gt; Tagged&lt; T &gt;</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4d1b938077c26360300997ba84b869bb"><div class="ttname"><a href="namespacev8_1_1internal.html#a4d1b938077c26360300997ba84b869bb">v8::internal::kUncachedExternalStringMask</a></div><div class="ttdeci">const uint32_t kUncachedExternalStringMask</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00073">instance-type.h:73</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5a857fe236959ea037b3dd560a3414f0"><div class="ttname"><a href="namespacev8_1_1internal.html#a5a857fe236959ea037b3dd560a3414f0">v8::internal::ToNumber</a></div><div class="ttdeci">int ToNumber(Register reg)</div><div class="ttdef"><b>Definition:</b> <a href="assembler-riscv_8cc_source.html#l00137">assembler-riscv.cc:137</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5b9346970aacf7a1d14a2ae895d067f3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5b9346970aacf7a1d14a2ae895d067f3">v8::internal::kNotInternalizedTag</a></div><div class="ttdeci">const uint32_t kNotInternalizedTag</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00079">instance-type.h:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa420fc4b93a98a0b612db8f2f69463514">v8::internal::AllocationType::kSharedOld</a></div><div class="ttdeci">@ kSharedOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6639efaf0b7adbb3d84b33696e775fe3"><div class="ttname"><a href="namespacev8_1_1internal.html#a6639efaf0b7adbb3d84b33696e775fe3">v8::internal::kOneByteStringTag</a></div><div class="ttdeci">const uint32_t kOneByteStringTag</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00058">instance-type.h:58</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6b717bb53640adb6d9de62f718e70b3a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">v8::internal::Print</a></div><div class="ttdeci">void Print(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00772">objects.h:772</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6db5c47c190e9de94a96948682b877c8"><div class="ttname"><a href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">v8::internal::IsNullOrUndefined</a></div><div class="ttdeci">bool IsNullOrUndefined(Tagged&lt; Object &gt; obj, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00179">objects-inl.h:179</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a1d63af61d3d549bac224294313be875d">v8::internal::StringTransitionStrategy::kInPlace</a></div><div class="ttdeci">@ kInPlace</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51a70055f8d83bee0a0075607b549829299">v8::internal::StringTransitionStrategy::kCopy</a></div><div class="ttdeci">@ kCopy</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20"><div class="ttname"><a href="namespacev8_1_1internal.html#a6ec49fbf8885b3f0cbddf0979e9bcf51ab09c84187453e15235dd97a6bd563f20">v8::internal::StringTransitionStrategy::kAlreadyTransitioned</a></div><div class="ttdeci">@ kAlreadyTransitioned</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a75979deb107a3b8ddf9cd65c994d9a67"><div class="ttname"><a href="namespacev8_1_1internal.html#a75979deb107a3b8ddf9cd65c994d9a67">v8::internal::CompareCharsEqual</a></div><div class="ttdeci">bool CompareCharsEqual(const lchar *lhs, const rchar *rhs, size_t chars)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00513">utils.h:513</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a81543493e151f8a1b5ebb6917861838e"><div class="ttname"><a href="namespacev8_1_1internal.html#a81543493e151f8a1b5ebb6917861838e">v8::internal::ComparisonResult</a></div><div class="ttdeci">ComparisonResult</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00093">objects.h:93</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c7025922648a3d8255feed2005d3595"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c7025922648a3d8255feed2005d3595">v8::internal::kStringRepresentationMask</a></div><div class="ttdeci">const uint32_t kStringRepresentationMask</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00030">instance-type.h:30</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a97a2bf2e1b8fac6ada79dd7ec47ffcfe"><div class="ttname"><a href="namespacev8_1_1internal.html#a97a2bf2e1b8fac6ada79dd7ec47ffcfe">v8::internal::CopyChars</a></div><div class="ttdeci">void CopyChars(DstType *dst, const SrcType *src, size_t count) V8_NONNULL(1</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa002c54ae12d5965a02cf16008f74ed3"><div class="ttname"><a href="namespacev8_1_1internal.html#aa002c54ae12d5965a02cf16008f74ed3">v8::internal::StringToIndex</a></div><div class="ttdeci">bool StringToIndex(Stream *stream, index_t *index)</div><div class="ttdef"><b>Definition:</b> <a href="utils-inl_8h_source.html#l00059">utils-inl.h:59</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa16367f015eb3f43bc51056deb4f86b8"><div class="ttname"><a href="namespacev8_1_1internal.html#aa16367f015eb3f43bc51056deb4f86b8">v8::internal::EXPORT_TEMPLATE_DEFINE</a></div><div class="ttdeci">template class EXPORT_TEMPLATE_DEFINE(V8_EXPORT_PRIVATE) RelocIteratorBase&lt; RelocInfo &gt;</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaba36edba8920110a2f4ac3eb0cae991a1ea590aa4a64767508460736ac0edaa9"><div class="ttname"><a href="namespacev8_1_1internal.html#aaba36edba8920110a2f4ac3eb0cae991a1ea590aa4a64767508460736ac0edaa9">v8::internal::InvalidateRecordedSlots::kYes</a></div><div class="ttdeci">@ kYes</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aad67622c9651e5e1fde2c5a293fdb434a1ea590aa4a64767508460736ac0edaa9"><div class="ttname"><a href="namespacev8_1_1internal.html#aad67622c9651e5e1fde2c5a293fdb434a1ea590aa4a64767508460736ac0edaa9">v8::internal::InvalidateExternalPointerSlots::kYes</a></div><div class="ttdeci">@ kYes</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aad67622c9651e5e1fde2c5a293fdb434a8cc8e60acfa3ae6089df773013fd73a2"><div class="ttname"><a href="namespacev8_1_1internal.html#aad67622c9651e5e1fde2c5a293fdb434a8cc8e60acfa3ae6089df773013fd73a2">v8::internal::InvalidateExternalPointerSlots::kNo</a></div><div class="ttdeci">@ kNo</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab16cc65aad4270433887227fd1d52f02ad5def827bf43fa74375bc9180b786eb4"><div class="ttname"><a href="namespacev8_1_1internal.html#ab16cc65aad4270433887227fd1d52f02ad5def827bf43fa74375bc9180b786eb4">v8::internal::ALLOW_NON_DECIMAL_PREFIX</a></div><div class="ttdeci">@ ALLOW_NON_DECIMAL_PREFIX</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8h_source.html#l00150">conversions.h:150</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab293e2999d8a6721b0ded93f892a3522"><div class="ttname"><a href="namespacev8_1_1internal.html#ab293e2999d8a6721b0ded93f892a3522">v8::internal::kInternalizedTag</a></div><div class="ttdeci">const uint32_t kInternalizedTag</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00080">instance-type.h:80</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab445b21ec193011f4497d3b64b5be58d"><div class="ttname"><a href="namespacev8_1_1internal.html#ab445b21ec193011f4497d3b64b5be58d">v8::internal::CompareChars</a></div><div class="ttdeci">int CompareChars(const lchar *lhs, const rchar *rhs, size_t chars)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8h_source.html#l00540">utils.h:540</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_abce7d926bf874e69c33b6694499f8c11"><div class="ttname"><a href="namespacev8_1_1internal.html#abce7d926bf874e69c33b6694499f8c11">v8::internal::kIsNotInternalizedMask</a></div><div class="ttdeci">const uint32_t kIsNotInternalizedMask</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00078">instance-type.h:78</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac3ae3605bcdba7262f327c91f0b90ae0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">v8::internal::this</a></div><div class="ttdeci">!IsContextMap this</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00891">map-inl.h:891</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac8c51e7a3f23c971926f1c90a404cc5d"><div class="ttname"><a href="namespacev8_1_1internal.html#ac8c51e7a3f23c971926f1c90a404cc5d">v8::internal::HashSeed</a></div><div class="ttdeci">uint64_t HashSeed(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="hash-seed-inl_8h_source.html#l00037">hash-seed-inl.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad5d7f793b947daacced155efc4b5f5c6"><div class="ttname"><a href="namespacev8_1_1internal.html#ad5d7f793b947daacced155efc4b5f5c6">v8::internal::IsIdentifierPart</a></div><div class="ttdeci">bool IsIdentifierPart(base::uc32 c)</div><div class="ttdef"><b>Definition:</b> <a href="char-predicates-inl_8h_source.html#l00144">char-predicates-inl.h:144</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adaa71e3ef0feec7fc44cd84456925b04"><div class="ttname"><a href="namespacev8_1_1internal.html#adaa71e3ef0feec7fc44cd84456925b04">v8::internal::IsNaN</a></div><div class="ttdeci">bool IsNaN(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00720">objects-inl.h:720</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adee95482032a93e07f59341fed5c909f"><div class="ttname"><a href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">v8::internal::is_shared</a></div><div class="ttdeci">JSArrayBuffer::IsDetachableBit is_shared</div><div class="ttdef"><b>Definition:</b> <a href="js-array-buffer-inl_8h_source.html#l00189">js-array-buffer-inl.h:189</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae21e114b7a6cc5dbea6a2d6fb307acb2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae21e114b7a6cc5dbea6a2d6fb307acb2">v8::internal::CalculateLineEndsImpl</a></div><div class="ttdeci">static void CalculateLineEndsImpl(String::LineEndsVector *line_ends, base::Vector&lt; const SourceChar &gt; src, bool include_ending_line)</div><div class="ttdef"><b>Definition:</b> <a href="string_8cc_source.html#l01142">string.cc:1142</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae5fc7dfc0625c0d2a6bca971abf68365"><div class="ttname"><a href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">v8::internal::kShortSize</a></div><div class="ttdeci">constexpr int kShortSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00398">globals.h:398</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aea85197770e2dbc0f392c9af2ad3a7d8"><div class="ttname"><a href="namespacev8_1_1internal.html#aea85197770e2dbc0f392c9af2ad3a7d8">v8::internal::StringToDouble</a></div><div class="ttdeci">double StringToDouble(const char *str, ConversionFlag flags, double empty_string_val)</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l00949">conversions.cc:949</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2248a427f8ff8f81e68a2a87758e145"><div class="ttname"><a href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">v8::internal::DisallowGarbageCollection</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; false, SAFEPOINTS_ASSERT, HEAP_ALLOCATION_ASSERT &gt; DisallowGarbageCollection</div><div class="ttdef"><b>Definition:</b> <a href="assert-scope_8h_source.html#l00239">assert-scope.h:241</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afc28a5185c3861ebb4e77445c5b8eb68"><div class="ttname"><a href="namespacev8_1_1internal.html#afc28a5185c3861ebb4e77445c5b8eb68">v8::internal::search_length</a></div><div class="ttdeci">BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL BUILTIN_FP_CALL int size_t search_length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01246">external-reference.cc:1246</a></div></div>
<div class="ttc" id="anamespacev8__inspector_1_1protocol_html_ac8ed50aa76b93614e1ba611280b7b911"><div class="ttname"><a href="namespacev8__inspector_1_1protocol.html#ac8ed50aa76b93614e1ba611280b7b911">v8_inspector::protocol::String</a></div><div class="ttdeci">v8_inspector::String16 String</div><div class="ttdef"><b>Definition:</b> <a href="string-util_8h_source.html#l00026">string-util.h:26</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a13596ed4ca024abd4790ec46b62c2097"><div class="ttname"><a href="namespacev8.html#a13596ed4ca024abd4790ec46b62c2097">v8::kReleaseStore</a></div><div class="ttdeci">static constexpr ReleaseStoreTag kReleaseStore</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02944">globals.h:2944</a></div></div>
<div class="ttc" id="anamespacev8_html_aee4e677b8d8a86416617b3330778b98a"><div class="ttname"><a href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">v8::kAcquireLoad</a></div><div class="ttdeci">static constexpr AcquireLoadTag kAcquireLoad</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02942">globals.h:2942</a></div></div>
<div class="ttc" id="aoddball_8h_html"><div class="ttname"><a href="oddball_8h.html">oddball.h</a></div></div>
<div class="ttc" id="aostreams_8h_html"><div class="ttname"><a href="ostreams_8h.html">ostreams.h</a></div></div>
<div class="ttc" id="aread-only-heap_8h_html"><div class="ttname"><a href="read-only-heap_8h.html">read-only-heap.h</a></div></div>
<div class="ttc" id="asmall-vector_8h_html"><div class="ttname"><a href="small-vector_8h.html">small-vector.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab08e353943a53678ac6baafc678f2d81"><div class="ttname"><a href="src_2base_2macros_8h.html#ab08e353943a53678ac6baafc678f2d81">V8_EXPORT_PRIVATE</a></div><div class="ttdeci">#define V8_EXPORT_PRIVATE</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00460">macros.h:460</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab7a19c1f785f31f2b190afc19875368a"><div class="ttname"><a href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a></div><div class="ttdeci">constexpr bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00403">macros.h:403</a></div></div>
<div class="ttc" id="astring-builder-inl_8h_html"><div class="ttname"><a href="string-builder-inl_8h.html">string-builder-inl.h</a></div></div>
<div class="ttc" id="astring-comparator_8h_html"><div class="ttname"><a href="string-comparator_8h.html">string-comparator.h</a></div></div>
<div class="ttc" id="astring-hasher_8h_html"><div class="ttname"><a href="string-hasher_8h.html">string-hasher.h</a></div></div>
<div class="ttc" id="astring-inl_8h_html"><div class="ttname"><a href="string-inl_8h.html">string-inl.h</a></div></div>
<div class="ttc" id="astring-search_8h_html"><div class="ttname"><a href="string-search_8h.html">string-search.h</a></div></div>
<div class="ttc" id="astring-stream_8h_html"><div class="ttname"><a href="string-stream_8h.html">string-stream.h</a></div></div>
<div class="ttc" id="astring_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1AsUC16_html"><div class="ttname"><a href="structv8_1_1internal_1_1AsUC16.html">v8::internal::AsUC16</a></div><div class="ttdef"><b>Definition:</b> <a href="ostreams_8h_source.html#l00112">ostreams.h:112</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes_html"><div class="ttname"><a href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html">v8::internal::SeqString::DataAndPaddingSizes</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00839">string.h:839</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes_html_a6ff18d1f9fe8da8a457fc8ee46eddfcb"><div class="ttname"><a href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a6ff18d1f9fe8da8a457fc8ee46eddfcb">v8::internal::SeqString::DataAndPaddingSizes::data_size</a></div><div class="ttdeci">const int data_size</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00840">string.h:840</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes_html_a8f775739234169902b0e0ea2a54cc596"><div class="ttname"><a href="structv8_1_1internal_1_1SeqString_1_1DataAndPaddingSizes.html#a8f775739234169902b0e0ea2a54cc596">v8::internal::SeqString::DataAndPaddingSizes::padding_size</a></div><div class="ttdeci">const int padding_size</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00841">string.h:841</a></div></div>
<div class="ttc" id="atagged_8h_html"><div class="ttname"><a href="tagged_8h.html">tagged.h</a></div></div>
<div class="ttc" id="athread-id_8h_html"><div class="ttname"><a href="thread-id_8h.html">thread-id.h</a></div></div>
<div class="ttc" id="aunicode-inl_8h_html"><div class="ttname"><a href="unicode-inl_8h.html">unicode-inl.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a24a5c8b6c341efc8dc6de3e6d0d73a50"><div class="ttname"><a href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a></div><div class="ttdeci">#define V8_INLINE</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00500">v8config.h:500</a></div></div>
<div class="ttc" id="av8config_8h_html_a4f489f1b838163ab33f251c9e470d938"><div class="ttname"><a href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a></div><div class="ttdeci">#define V8_LIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00661">v8config.h:661</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="azone-allocator_8h_html"><div class="ttname"><a href="zone-allocator_8h.html">zone-allocator.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_766296db99a93e596ab8775592dcbea4.html">objects</a></li><li class="navelem"><a class="el" href="string_8cc.html">string.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:00:07 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
