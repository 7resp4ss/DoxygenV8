<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/wasm/wasm-js.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('wasm-js_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">wasm-js.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="wasm-js_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2015 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-js_8h.html">src/wasm/wasm-js.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;cinttypes&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-function_8h.html">include/v8-function.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-persistent-handle_8h.html">include/v8-persistent-handle.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-promise_8h.html">include/v8-promise.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-wasm_8h.html">include/v8-wasm.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="api-inl_8h.html">src/api/api-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="api-natives_8h.html">src/api/api-natives.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fpu_8h.html">src/base/fpu.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_8h.html">src/execution/execution.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate_8h.html">src/execution/isolate.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="messages_8h.html">src/execution/messages.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flags_2flags_8h.html">src/flags/flags.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="handles_8h.html">src/handles/handles.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="factory_8h.html">src/heap/factory.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fixed-array_8h.html">src/objects/fixed-array.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="instance-type_8h.html">src/objects/instance-type.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js-function_8h.html">src/objects/js-function.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="managed-inl_8h.html">src/objects/managed-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects-inl_8h.html">src/objects/objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="shared-function-info_8h.html">src/objects/shared-function-info.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="templates_8h.html">src/objects/templates.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="function-compiler_8h.html">src/wasm/function-compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="streaming-decoder_8h.html">src/wasm/streaming-decoder.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="value-type_8h.html">src/wasm/value-type.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-debug_8h.html">src/wasm/wasm-debug.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-engine_8h.html">src/wasm/wasm-engine.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-limits_8h.html">src/wasm/wasm-limits.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-objects-inl_8h.html">src/wasm/wasm-objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-serialization_8h.html">src/wasm/wasm-serialization.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-value_8h.html">src/wasm/wasm-value.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">i::wasm::AddressType</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a17aedf25fa2edcefae3f561a222df0e7">i::wasm::CompileTimeImport</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">using</span> i::wasm::CompileTimeImports;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">using</span> i::wasm::ErrorThrower;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">using</span> i::wasm::WasmEnabledFeatures;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// Note: The implementation of this function is in runtime-wasm.cc, in order</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// to be able to use helpers that aren&#39;t visible outside that file.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#aaf5b0233c8e9bc00c2dd924e6e652187">ToUtf8Lossy</a>(Isolate* isolate, DirectHandle&lt;String&gt; <span class="keywordtype">string</span>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>&amp; out);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">class </span>WasmStreaming::WasmStreamingImpl {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ac3113db2182fe92ec138dd9204541316">   61</a></span>&#160;  <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ac3113db2182fe92ec138dd9204541316">WasmStreamingImpl</a>(</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* api_method_name,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      CompileTimeImports compile_imports,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      std::shared_ptr&lt;internal::wasm::CompilationResultResolver&gt; resolver)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      : <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>(isolate),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a658f4341a8ac1060f57a03957280e35e">enabled_features_</a>(WasmEnabledFeatures::FromIsolate(<a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>)),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>(<a class="code" href="namespacev8_1_1internal.html">i</a>::<a class="code" href="namespacewasm.html">wasm</a>::<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">GetWasmEngine</a>()-&gt;StartStreamingCompilation(</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>, <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a658f4341a8ac1060f57a03957280e35e">enabled_features_</a>, std::move(compile_imports),</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>-&gt;context(), <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>), api_method_name,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            resolver)),</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a75af70b5454758101d4a213d2a6dd085">resolver_</a>(std::move(resolver)) {}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ade7c90cc97041995c4fe8d05665250df">   73</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ade7c90cc97041995c4fe8d05665250df">OnBytesReceived</a>(<span class="keyword">const</span> uint8_t* bytes, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>-&gt;OnBytesReceived(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(bytes, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#aca85d1439602d3f0b5725cd687f02ac7">   76</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#aca85d1439602d3f0b5725cd687f02ac7">Finish</a>(<span class="keywordtype">bool</span> can_use_compiled_module) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>-&gt;Finish(can_use_compiled_module);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a5f41cbb07800cbdab446bb3e8a20ca4b">   80</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a5f41cbb07800cbdab446bb3e8a20ca4b">Abort</a>(<a class="code" href="classv8_1_1internal_1_1MaybeHandle.html">i::MaybeHandle&lt;i::JSAny&gt;</a> exception) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HandleScope.html">i::HandleScope</a> scope(<a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>-&gt;Abort();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// If no exception value is provided, we do not reject the promise. This can</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// happen when streaming compilation gets aborted when no script execution</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// is allowed anymore, e.g. when a browser tab gets refreshed.</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (exception.<a class="code" href="classv8_1_1internal_1_1MaybeHandle.html#a76d0200bf11d6f7628c7119d730efa44">is_null</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a75af70b5454758101d4a213d2a6dd085">resolver_</a>-&gt;OnCompilationFailed(exception.<a class="code" href="classv8_1_1internal_1_1MaybeHandle.html#ae438e7523da771eebf0e4e32bda5c421">ToHandleChecked</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a25c3b63fe1a7729c2ba73439577ec182">   92</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a25c3b63fe1a7729c2ba73439577ec182">SetCompiledModuleBytes</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> bytes) {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aec8d7c93af8f69e5a0584db0f6fe147b">i::wasm::IsSupportedVersion</a>(bytes, <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a658f4341a8ac1060f57a03957280e35e">enabled_features_</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>-&gt;SetCompiledModuleBytes(bytes);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a249552d3b1e688964f74230690954853">   98</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a249552d3b1e688964f74230690954853">SetMoreFunctionsCanBeSerializedCallback</a>(</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      std::function&lt;<span class="keywordtype">void</span>(<a class="code" href="classv8_1_1CompiledWasmModule.html">CompiledWasmModule</a>)&gt; callback) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>-&gt;SetMoreFunctionsCanBeSerializedCallback(</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        [callback = std::move(callback),</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;         url = <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>-&gt;shared_url()](</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keyword">const</span> std::shared_ptr&lt;i::wasm::NativeModule&gt;&amp; native_module) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;          callback(CompiledWasmModule{native_module, url-&gt;data(), url-&gt;size()});</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        });</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ae38602606bd1626da09fc39ce5f754b5">  108</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ae38602606bd1626da09fc39ce5f754b5">SetUrl</a>(<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const char&gt;</a> url) { streaming_decoder_-&gt;SetUrl(url); }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">  111</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">i_isolate_</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a658f4341a8ac1060f57a03957280e35e">  112</a></span>&#160;  <span class="keyword">const</span> WasmEnabledFeatures <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a658f4341a8ac1060f57a03957280e35e">enabled_features_</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">  113</a></span>&#160;  <span class="keyword">const</span> std::shared_ptr&lt;internal::wasm::StreamingDecoder&gt; <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">streaming_decoder_</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a75af70b5454758101d4a213d2a6dd085">  114</a></span>&#160;  <span class="keyword">const</span> std::shared_ptr&lt;internal::wasm::CompilationResultResolver&gt; <a class="code" href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a75af70b5454758101d4a213d2a6dd085">resolver_</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;WasmStreaming::WasmStreaming(std::unique_ptr&lt;WasmStreamingImpl&gt; <a class="code" href="namespacewasm.html#aca75bd987d7d40b886a5efad94f4053c">impl</a>)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    : impl_(std::move(<a class="code" href="namespacewasm.html#aca75bd987d7d40b886a5efad94f4053c">impl</a>)) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.InitializeStreaming&quot;</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">// The destructor is defined here because we have a unique_ptr with forward</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// declaration.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<a class="code" href="classv8_1_1WasmStreaming.html#a30946d0d7717c33736cedce87d81a178">WasmStreaming::~WasmStreaming</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming.html#ada886a06f191ac65897763bda60c2f54">WasmStreaming::OnBytesReceived</a>(<span class="keyword">const</span> uint8_t* bytes, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.OnBytesReceived&quot;</span>, <span class="stringliteral">&quot;bytes&quot;</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">impl_</a>-&gt;OnBytesReceived(bytes, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming.html#a5cb59c261f44e95e3f98b7b210be320c">WasmStreaming::Finish</a>(<span class="keywordtype">bool</span> can_use_compiled_module) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.FinishStreaming&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">impl_</a>-&gt;Finish(can_use_compiled_module);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming.html#aca7399d97368360079e3030b2fb4fc94">WasmStreaming::Abort</a>(MaybeLocal&lt;Value&gt; exception) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.AbortStreaming&quot;</span>);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeHandle.html">i::MaybeHandle&lt;i::JSAny&gt;</a> maybe_exception;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span> (!exception.IsEmpty()) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    maybe_exception =</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        Cast&lt;i::JSAny&gt;(<a class="code" href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">Utils::OpenHandle</a>(*exception.ToLocalChecked()));</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">impl_</a>-&gt;Abort(maybe_exception);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1WasmStreaming.html#a73a233057ae54177e84d259f43a1781e">WasmStreaming::SetCompiledModuleBytes</a>(<span class="keyword">const</span> uint8_t* bytes, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.SetCompiledModuleBytes&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">impl_</a>-&gt;SetCompiledModuleBytes(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(bytes, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming.html#abbd2c298061c6185e48671968f21f5c9">WasmStreaming::SetMoreFunctionsCanBeSerializedCallback</a>(</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    std::function&lt;<span class="keywordtype">void</span>(CompiledWasmModule)&gt; callback) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">impl_</a>-&gt;SetMoreFunctionsCanBeSerializedCallback(std::move(callback));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1WasmStreaming.html#a90a3e0128e3f21bcd621bca71e374600">WasmStreaming::SetUrl</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* url, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<span class="charliteral">&#39;\0&#39;</span>, url[<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>]);  <span class="comment">// {url} is null-terminated.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.SetUrl&quot;</span>, <span class="stringliteral">&quot;url&quot;</span>, url);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">impl_</a>-&gt;SetUrl(<a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(url, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;std::shared_ptr&lt;WasmStreaming&gt; <a class="code" href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">WasmStreaming::Unpack</a>(Isolate* isolate,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                                     Local&lt;Value&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<span class="stringliteral">&quot;v8.wasm&quot;</span>, <span class="stringliteral">&quot;wasm.WasmStreaming.Unpack&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classv8_1_1internal_1_1HandleScope.html">i::HandleScope</a> scope(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keyword">auto</span> managed =</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      i::Cast&lt;i::Managed&lt;WasmStreaming&gt;&gt;(<a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> managed-&gt;get();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html">  172</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">  174</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* str) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">NewStringFromAsciiChecked</a>(str);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">  177</a></span>&#160;<a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keyword">const</span> <span class="keywordtype">char</span>* str) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> Utils::ToLocal(<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate), str));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="wasm-js_8cc.html#a8ba2b0cbd335ac2cd536b44c371878bb">  181</a></span>&#160;<span class="preprocessor">#define GET_FIRST_ARGUMENT_AS(Type)                                      \</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">  i::MaybeDirectHandle&lt;i::Wasm##Type##Object&gt; GetFirstArgumentAs##Type(  \</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor">      const v8::FunctionCallbackInfo&lt;v8::Value&gt;&amp; info,                   \</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="preprocessor">      ErrorThrower* thrower) {                                           \</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">    i::DirectHandle&lt;i::Object&gt; arg0 = Utils::OpenDirectHandle(*info[0]); \</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">    if (!IsWasm##Type##Object(*arg0)) {                                  \</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">      thrower-&gt;TypeError(&quot;Argument 0 must be a WebAssembly.&quot;</span> #Type);     \</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      return {};                                                         \</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }                                                                    \</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    return i::Cast&lt;i::Wasm##Type##Object&gt;(arg0);                         \</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<a class="code" href="wasm-js_8cc.html#a8ba2b0cbd335ac2cd536b44c371878bb">GET_FIRST_ARGUMENT_AS</a>(Module)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<a class="code" href="wasm-js_8cc.html#a8ba2b0cbd335ac2cd536b44c371878bb">GET_FIRST_ARGUMENT_AS</a>(Tag)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="preprocessor">#undef GET_FIRST_ARGUMENT_AS</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">  198</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">GetFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <span class="keywordtype">size_t</span> max_length,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    ErrorThrower* thrower, <span class="keywordtype">bool</span>* <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a>) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">const</span> uint8_t* start = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> source = info[0];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (source-&gt;<a class="code" href="classv8_1_1Value.html#a62c732277023d09f5e5a54eaa2846853">IsArrayBuffer</a>()) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// A raw array buffer was passed.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ArrayBuffer&gt;</a> buffer = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;ArrayBuffer&gt;::Cast</a>(source);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keyword">auto</span> backing_store = buffer-&gt;GetBackingStore();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    start = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(backing_store-&gt;Data());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = backing_store-&gt;ByteLength();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = buffer-&gt;IsSharedArrayBuffer();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source-&gt;<a class="code" href="classv8_1_1Value.html#a01183cf30ba5e6383cdca82daee630d8">IsTypedArray</a>()) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// A TypedArray was passed.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;TypedArray&gt;</a> array = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;TypedArray&gt;::Cast</a>(source);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;ArrayBuffer&gt;</a> buffer = array-&gt;Buffer();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">auto</span> backing_store = buffer-&gt;GetBackingStore();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    start = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(backing_store-&gt;Data()) +</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            array-&gt;ByteOffset();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = array-&gt;ByteLength();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = buffer-&gt;IsSharedArrayBuffer();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;Argument 0 must be a buffer source&quot;</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, start != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    thrower-&gt;CompileError(<span class="stringliteral">&quot;BufferSource argument is empty&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; max_length) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// The spec requires a CompileError for implementation-defined limits, see</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// https://webassembly.github.io/spec/js-api/index.html#limits.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    thrower-&gt;CompileError(<span class="stringliteral">&quot;buffer source exceeds maximum size of %zu (is %zu)&quot;</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                          max_length, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">  243</a></span>&#160;<a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <span class="keywordtype">size_t</span> max_length,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    ErrorThrower* thrower) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> bytes =</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">GetFirstArgumentAsBytes</a>(info, max_length, thrower, &amp;<a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>()) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Use relaxed reads (and writes, which is unnecessary here) to avoid TSan</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// reports in case the buffer is shared and is being modified concurrently.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1base_1_1OwnedVector.html#af4f3e4cad212e5321ef9d3cb31009fe8">base::OwnedVector&lt;uint8_t&gt;::NewForOverwrite</a>(bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a7a5e1c490a7a7606fdc230f5779db6f0">base::Relaxed_Memcpy</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.begin()),</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                       <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a7ae17f2372808420997b1aff6addcdd0">data</a>()),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                       bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html">  262</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">  263</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::JSReceiver&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">ImportsAsMaybeReceiver</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> ffi) {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordflow">if</span> (ffi-&gt;IsUndefined()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> obj = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(ffi);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordflow">return</span> i::Cast&lt;i::JSReceiver&gt;(<a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">v8::Utils::OpenDirectHandle</a>(*obj));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// This class resolves the result of WebAssembly.compile. It just places the</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">// compilation result in the supplied {promise}.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html">  272</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html">AsyncCompilationResolver</a> : <span class="keyword">public</span> i::wasm::CompilationResultResolver {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a60532b8319dfae1ae485f73611b5fffe">  274</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a60532b8319dfae1ae485f73611b5fffe">AsyncCompilationResolver</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                           <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        promise_resolver_(isolate, promise_resolver) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    context_.SetWeak();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    promise_resolver_.AnnotateStrongRetainer(kGlobalPromiseHandle);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#ad0ad7ffbc894523a9aaa21fa4fc860c6">  283</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#ad0ad7ffbc894523a9aaa21fa4fc860c6">OnCompilationSucceeded</a>(</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (finished_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    finished_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    callback(isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;             Utils::ToLocal(i::Cast&lt;i::Object&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)),</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;             <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782">WasmAsyncSuccess::kSuccess</a>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a23626396c378432e807886c78999e45e">  296</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a23626396c378432e807886c78999e45e">OnCompilationFailed</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> error_reason)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (finished_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    finished_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    callback(isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;             Utils::ToLocal(error_reason), <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">WasmAsyncSuccess::kFail</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a576ace779ee2400ac455bc1ef4236ce3">  308</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">char</span> kGlobalPromiseHandle[] =</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="stringliteral">&quot;AsyncCompilationResolver::promise_&quot;</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a61a284fdd186b580dba6b47fd64ad8fa">  310</a></span>&#160;  <span class="keywordtype">bool</span> finished_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#aff3141d058d8a1014e2a6b825765de71">  311</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#aff3141d058d8a1014e2a6b825765de71">isolate_</a>;</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a8ec335e2d7207cc0c0a6735416db4e8a">  312</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a8ec335e2d7207cc0c0a6735416db4e8a">context_</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a754b17d615315f3ea5756b772844654e">  313</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise::Resolver&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a754b17d615315f3ea5756b772844654e">promise_resolver_</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;};</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;constexpr <span class="keywordtype">char</span> AsyncCompilationResolver::kGlobalPromiseHandle[];</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">// This class resolves the result of WebAssembly.instantiate(module, imports).</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">// It just places the instantiation result in the supplied {promise}.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html">  320</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html">InstantiateModuleResultResolver</a></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classi_1_1wasm_1_1InstantiationResultResolver.html">i::wasm::InstantiationResultResolver</a> {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#aafd21e8600cd12e58f7f94816ccd07ab">  323</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#aafd21e8600cd12e58f7f94816ccd07ab">InstantiateModuleResultResolver</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        promise_resolver_(isolate, promise_resolver) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    context_.SetWeak();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    promise_resolver_.AnnotateStrongRetainer(kGlobalPromiseHandle);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#ace88d5edd44e9a9fc1e29d30f406383a">  332</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#ace88d5edd44e9a9fc1e29d30f406383a">OnInstantiationSucceeded</a>(</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmInstanceObject&gt;</a> instance)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    callback(isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;             Utils::ToLocal(i::Cast&lt;i::Object&gt;(instance)),</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;             <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782">WasmAsyncSuccess::kSuccess</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#ac214b4e8bd2f61af091101bb34fea41f">  343</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#ac214b4e8bd2f61af091101bb34fea41f">OnInstantiationFailed</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> error_reason)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    callback(isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;             Utils::ToLocal(error_reason), <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">WasmAsyncSuccess::kFail</a>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a5316328f329cd3cc03265f30e2568a61">  353</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">char</span> kGlobalPromiseHandle[] =</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="stringliteral">&quot;InstantiateModuleResultResolver::promise_&quot;</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a5204d6df83234338dc33885a814755a2">  355</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a5204d6df83234338dc33885a814755a2">isolate_</a>;</div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#aa66bf2f304fb92ca9c327f41a7f98dc7">  356</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#aa66bf2f304fb92ca9c327f41a7f98dc7">context_</a>;</div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a7a877e951476677d1488869370cd0096">  357</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise::Resolver&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a7a877e951476677d1488869370cd0096">promise_resolver_</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;};</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;constexpr <span class="keywordtype">char</span> InstantiateModuleResultResolver::kGlobalPromiseHandle[];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">// This class resolves the result of WebAssembly.instantiate(bytes, imports).</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">// For that it creates a new {JSObject} which contains both the provided</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">// {WasmModuleObject} and the resulting {WebAssemblyInstanceObject} itself.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html">  365</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html">InstantiateBytesResultResolver</a></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classi_1_1wasm_1_1InstantiationResultResolver.html">i::wasm::InstantiationResultResolver</a> {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a8ef7df277e8711ad07278ed85e0e57e8">  368</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a8ef7df277e8711ad07278ed85e0e57e8">InstantiateBytesResultResolver</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                 <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                 <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> module)</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        promise_resolver_(isolate, promise_resolver),</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        module_(isolate, module) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    context_.SetWeak();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    promise_resolver_.AnnotateStrongRetainer(kGlobalPromiseHandle);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    module_.AnnotateStrongRetainer(kGlobalModuleHandle);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#ac1cc124aada2ad644fc3871682d147a3">  380</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#ac1cc124aada2ad644fc3871682d147a3">OnInstantiationSucceeded</a>(</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmInstanceObject&gt;</a> instance)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = context_.Get(isolate_);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21">WasmAsyncSuccess</a> success = <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782">WasmAsyncSuccess::kSuccess</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">// The result is a JSObject with 2 fields which contain the</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// WasmInstanceObject and the WasmModuleObject.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">Object::New</a>(isolate_);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                        -&gt;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02property-descriptor_8cc_03.html#a171b8d279e7133c2dbaceac2410eef26">CreateDataProperty</a>(context,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                             <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate_, <span class="stringliteral">&quot;module&quot;</span>),</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                             module_.Get(isolate_))</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        .IsNothing())) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="comment">// We assume that a TerminationException is the only reason why</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="comment">// `CreateDataProperty` can fail here. We should revisit</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">// https://crbug.com/1515227 again if this CHECK fails.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(i::IsTerminationException(i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">exception</a>()));</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = Utils::ToLocal(<a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          i::Cast&lt;i::JSObject&gt;(i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">exception</a>()), i_isolate));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      success = <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">WasmAsyncSuccess::kFail</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                        -&gt;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02property-descriptor_8cc_03.html#a171b8d279e7133c2dbaceac2410eef26">CreateDataProperty</a>(</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                            context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate_, <span class="stringliteral">&quot;instance&quot;</span>),</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                            Utils::ToLocal(i::Cast&lt;i::Object&gt;(instance)))</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        .IsNothing())) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(i::IsTerminationException(i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">exception</a>()));</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = Utils::ToLocal(<a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          i::Cast&lt;i::JSObject&gt;(i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">exception</a>()), i_isolate));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      success = <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">WasmAsyncSuccess::kFail</a>;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    callback(isolate_, context, promise_resolver_.Get(isolate_), <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;             success);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a9707bbb59ad84dd28d358a0b88c3aebe">  422</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a9707bbb59ad84dd28d358a0b88c3aebe">OnInstantiationFailed</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> error_reason)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    callback(isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;             Utils::ToLocal(error_reason), <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">WasmAsyncSuccess::kFail</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a915d43b33b698fb7d10c636ed7fefbb0">  432</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">char</span> kGlobalPromiseHandle[] =</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      <span class="stringliteral">&quot;InstantiateBytesResultResolver::promise_&quot;</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a486764f637e211c982492288209a7f98">  434</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">char</span> kGlobalModuleHandle[] =</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="stringliteral">&quot;InstantiateBytesResultResolver::module_&quot;</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a33b5fe551853a7d1f8ce6a735088d55f">  436</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a33b5fe551853a7d1f8ce6a735088d55f">isolate_</a>;</div>
<div class="line"><a name="l00437"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a6dfc5496493bc5396c5a18636824992e">  437</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a6dfc5496493bc5396c5a18636824992e">context_</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a742dcf7561782f6c7ddec1007dbd2ac7">  438</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise::Resolver&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a742dcf7561782f6c7ddec1007dbd2ac7">promise_resolver_</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#ac7a0414eaf64a3d21ab51036001999bb">  439</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#ac7a0414eaf64a3d21ab51036001999bb">module_</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;};</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;constexpr <span class="keywordtype">char</span> InstantiateBytesResultResolver::kGlobalPromiseHandle[];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;constexpr <span class="keywordtype">char</span> InstantiateBytesResultResolver::kGlobalModuleHandle[];</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">// This class is the {CompilationResultResolver} for</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">// WebAssembly.instantiate(bytes, imports). When compilation finishes,</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">// {AsyncInstantiate} is started on the compilation result.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html">  448</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html">AsyncInstantiateCompileResultResolver</a></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    : <span class="keyword">public</span> i::wasm::CompilationResultResolver {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a77cdf4aa4bfb4d39dcd3069b9b77a2fb">  451</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a77cdf4aa4bfb4d39dcd3069b9b77a2fb">AsyncInstantiateCompileResultResolver</a>(</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> imports)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        context_(isolate, context),</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        promise_resolver_(isolate, promise_resolver),</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        imports_(isolate, imports) {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    context_.SetWeak();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    promise_resolver_.AnnotateStrongRetainer(kGlobalPromiseHandle);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    imports_.AnnotateStrongRetainer(kGlobalImportsHandle);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  }</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#ae2618d9b755d4d1485e3a350e34dd9a4">  463</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#ae2618d9b755d4d1485e3a350e34dd9a4">OnCompilationSucceeded</a>(</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span> (finished_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    finished_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aefbc53197e63d504193b408056d37721">AsyncInstantiate</a>(</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_),</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        std::make_unique&lt;InstantiateBytesResultResolver&gt;(</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            Utils::ToLocal(i::Cast&lt;i::Object&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>))),</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">ImportsAsMaybeReceiver</a>(imports_.Get(isolate_)));</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#aeaa350b56ec1d397af0d0314ff26359c">  475</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#aeaa350b56ec1d397af0d0314ff26359c">OnCompilationFailed</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> error_reason)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">if</span> (finished_) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    finished_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (context_.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keyword">auto</span> callback = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                        -&gt;wasm_async_resolve_promise_callback();</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(callback);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    callback(isolate_, context_.Get(isolate_), promise_resolver_.Get(isolate_),</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;             Utils::ToLocal(error_reason), <a class="code" href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">WasmAsyncSuccess::kFail</a>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a5dfaf0c1a43c7f1446e1fe7be451c249">  487</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">char</span> kGlobalPromiseHandle[] =</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="stringliteral">&quot;AsyncInstantiateCompileResultResolver::promise_&quot;</span>;</div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a1cb91d5587b915d86537a757781a7b36">  489</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">char</span> kGlobalImportsHandle[] =</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="stringliteral">&quot;AsyncInstantiateCompileResultResolver::module_&quot;</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a97cc558d742370b73f832c2582e1a1ef">  491</a></span>&#160;  <span class="keywordtype">bool</span> finished_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#afd2c1d34195f6337c48141b9dee5dcd2">  492</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#afd2c1d34195f6337c48141b9dee5dcd2">isolate_</a>;</div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a2bcb369030294c34f050f800f3d1fa3e">  493</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Context&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a2bcb369030294c34f050f800f3d1fa3e">context_</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a24866d5c78b928d94c65959078b56dd9">  494</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Promise::Resolver&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a24866d5c78b928d94c65959078b56dd9">promise_resolver_</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a4f825cc4f937db2e975da1e80cf848e6">  495</a></span>&#160;  <a class="code" href="classv8_1_1Global.html">Global&lt;Value&gt;</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a4f825cc4f937db2e975da1e80cf848e6">imports_</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;};</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;constexpr <span class="keywordtype">char</span> AsyncInstantiateCompileResultResolver::kGlobalPromiseHandle[];</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;constexpr <span class="keywordtype">char</span> AsyncInstantiateCompileResultResolver::kGlobalImportsHandle[];</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">// TODO(clemensb): Make this less inefficient.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#aad1871725afcf68783611a50e3d55665">  502</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>); }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a33d1a9017e74625a3dc2a8f0b967dce4">  504</a></span>&#160;<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>(<span class="stringliteral">&quot;Property &#39;&quot;</span>) + <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>-&gt;ToStdString() + <span class="stringliteral">&quot;&#39;&quot;</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160; </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">// Web IDL: &#39;[EnforceRange] unsigned long&#39;</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">// https://heycam.github.io/webidl/#EnforceRange</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Name&gt;</div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">  511</a></span>&#160;std::optional&lt;uint32_t&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<a class="code" href="classv8_1_1Name.html">Name</a> argument_name, <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> v,</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                      <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                      ErrorThrower* thrower) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordtype">double</span> double_number;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">if</span> (!v-&gt;<a class="code" href="classv8_1_1Value.html#a2eb9e2e2c61b0e43cf8c50e4a3a4fbc6">NumberValue</a>(context).To(&amp;double_number)) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;%s must be convertible to a number&quot;</span>,</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                       <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(argument_name).c_str());</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (!std::isfinite(double_number)) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;%s must be convertible to a valid number&quot;</span>,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                       <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(argument_name).c_str());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span> (double_number &lt; 0) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;%s must be non-negative&quot;</span>,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                       <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(argument_name).c_str());</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">if</span> (double_number &gt; std::numeric_limits&lt;uint32_t&gt;::max()) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;%s must be in the unsigned long range&quot;</span>,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                       <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(argument_name).c_str());</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(double_number);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">// First step of AddressValueToU64, for addrtype == &quot;i64&quot;.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Name&gt;</div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac1cc2e2c4221e61762e076e3d5b5fb6d">  541</a></span>&#160;std::optional&lt;uint64_t&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac1cc2e2c4221e61762e076e3d5b5fb6d">EnforceBigIntUint64</a>(<a class="code" href="classv8_1_1Name.html">Name</a> argument_name, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> v,</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                                            <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                                            ErrorThrower* thrower) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// Use the internal API, as v8::Value::ToBigInt clears exceptions.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::BigInt&gt;</a> bigint;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <a class="code" href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">i::Isolate::Current</a>();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">if</span> (!i::BigInt::FromObject(i_isolate, <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*v))</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;bigint)) {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordtype">bool</span> lossless;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  uint64_t <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = bigint-&gt;AsUint64(&amp;lossless);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">if</span> (!lossless) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;%s must be in u64 range&quot;</span>,</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                       <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(argument_name).c_str());</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;}</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">// The enum values need to match &quot;WasmCompilationMethod&quot; in</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">// tools/metrics/histograms/enums.xml.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149">  565</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149">CompilationMethod</a> {</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e">  566</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e">kSyncCompilation</a> = 0,</div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1">  567</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1">kAsyncCompilation</a> = 1,</div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93">  568</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93">kStreamingCompilation</a> = 2,</div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0">  569</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0">kAsyncInstantiation</a> = 3,</div>
<div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687">  570</a></span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687">kStreamingInstantiation</a> = 4,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;};</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">  573</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149">CompilationMethod</a> method) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a9690b82e4f9b4c8a9160630396cde0b3">counters</a>()-&gt;wasm_compilation_method()-&gt;AddSample(method);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">  577</a></span>&#160;CompileTimeImports <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> arg_value, <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    WasmEnabledFeatures enabled_features) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  CompileTimeImports <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1FPU.html#a3ff62a501dd635fad8cf25c98bd304e3">base::FPU::GetFlushDenormals</a>()) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.Add(CompileTimeImport::kDisableDenormalFloats);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">if</span> (!enabled_features.has_imported_strings()) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> arg = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*arg_value);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (!i::IsJSReceiver(*arg)) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> receiver = i::Cast&lt;i::JSReceiver&gt;(arg);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="comment">// ==================== Builtins ====================</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> builtins;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, builtins,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                                   i::Cast&lt;i::JSAny&gt;(<a class="code" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">i::JSReceiver::GetProperty</a>(</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                       isolate, receiver, <span class="stringliteral">&quot;builtins&quot;</span>)),</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                                   {});</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (i::IsJSReceiver(*builtins)) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> length_obj;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        isolate, length_obj,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Object.html#aa870be46a7f7980c0a46fb451da7ae30">i::Object::GetLengthFromArrayLike</a>(isolate,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                          i::Cast&lt;i::JSReceiver&gt;(builtins)),</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        {});</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordtype">double</span> raw_length = <a class="code" href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">i::Object::NumberValue</a>(*length_obj);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// Technically we should probably iterate up to 2^53-1 if {length_obj} says</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// so, but lengths above 2^32 probably don&#39;t happen in practice (and would</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">// be very slow if they do), so just use a saturating to-uint32 conversion</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// for simplicity.</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    uint32_t len = raw_length &gt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                       ? <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                       : <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(raw_length);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; len; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <a class="code" href="classv8_1_1internal_1_1LookupIterator.html">i::LookupIterator</a> it(isolate, builtins, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> maybe_found = <a class="code" href="classv8_1_1internal_1_1JSReceiver.html#ad0df2ef8ddcadcd2c2d7d96b19b7c3d3">i::JSReceiver::HasProperty</a>(&amp;it);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      <a class="code" href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a>(maybe_found, {});</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">if</span> (!maybe_found.<a class="code" href="classv8_1_1Maybe.html#a6778de7b38b00e4bfff77d3dbc566f1c">FromJust</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <a class="code" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1Object.html#ad7dc2b339d7369929cc389421d491575">i::Object::GetProperty</a>(&amp;it), {});</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">if</span> (i::IsString(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged.html">i::Tagged&lt;i::String&gt;</a> builtin = i::Cast&lt;i::String&gt;(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="comment">// TODO(jkummerow): We could make other string comparisons to known</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="comment">// constants in this file more efficient by migrating them to this</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="comment">// style (rather than `...-&gt;StringEquals(v8_str(...))`).</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">if</span> (builtin-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;js-string&quot;</span>))) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;          <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.Add(CompileTimeImport::kJsString);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="keywordflow">if</span> (enabled_features.has_imported_strings_utf8()) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          <span class="keywordflow">if</span> (builtin-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;text-encoder&quot;</span>))) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.Add(CompileTimeImport::kTextEncoder);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;          <span class="keywordflow">if</span> (builtin-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;text-decoder&quot;</span>))) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.Add(CompileTimeImport::kTextDecoder);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// ==================== String constants ====================</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> importedStringConstants =</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#af3f3d9861e8eb4e63e94eae4d18aa477">InternalizeUtf8String</a>(<span class="stringliteral">&quot;importedStringConstants&quot;</span>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1JSReceiver.html#ad0df2ef8ddcadcd2c2d7d96b19b7c3d3">i::JSReceiver::HasProperty</a>(isolate, receiver, importedStringConstants)</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;          .FromMaybe(<span class="keyword">false</span>)) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> constants_value;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <a class="code" href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a>(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        isolate, constants_value,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <a class="code" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">i::JSReceiver::GetProperty</a>(isolate, receiver, importedStringConstants),</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        {});</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">if</span> (i::IsString(*constants_value)) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aaf5b0233c8e9bc00c2dd924e6e652187">i::ToUtf8Lossy</a>(isolate, i::Cast&lt;i::String&gt;(constants_value),</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                     <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.constants_module());</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.Add(CompileTimeImport::kStringConstants);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">// A scope object with accessors and destructur DCHECKs to be used in</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">// implementations of Wasm JS-API methods.</span></div>
<div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html">  663</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html">WasmJSApiScope</a> {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#ae9094a623c4cf203cfe903b8550d3711">  665</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#ae9094a623c4cf203cfe903b8550d3711">WasmJSApiScope</a>(</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; callback_info,</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* api_name)</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      : callback_info_(callback_info),</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        isolate_{callback_info.GetIsolate()},</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        handle_scope_{isolate_},</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        thrower_{reinterpret_cast&lt;<a class="code" href="namespacev8_1_1internal.html">i</a>::<a class="code" href="classv8_1_1Isolate.html">Isolate</a>*&gt;(isolate_), api_name} {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(callback_info));</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160; </div>
<div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a0e99e2d3572778f05cebce6697bea5bc">  675</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a0e99e2d3572778f05cebce6697bea5bc">WasmJSApiScope</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html">WasmJSApiScope</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#ab462ab81fee41d022143804cca90cd36">  676</a></span>&#160;  <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html">WasmJSApiScope</a>&amp; <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#ab462ab81fee41d022143804cca90cd36">operator=</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html">WasmJSApiScope</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#adc74a73185de54e1582eb9bc03eb0c74">  678</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#adc74a73185de54e1582eb9bc03eb0c74">AssertException</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i_isolate()-&gt;has_exception() || thrower_.error());</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  }</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#af341e4052e448e01bfd5102fa49e97f1">  682</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#af341e4052e448e01bfd5102fa49e97f1">callback_info</a>() {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">return</span> callback_info_;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a3864375e2305b4203d15da24258366f9">  686</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a3864375e2305b4203d15da24258366f9">api_name</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> thrower_.context_name(); }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">// Accessor for all essential fields. To be decomposed into individual aliases</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="comment">// via structured binding.</span></div>
<div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#acb47e554be71baee84afd52248eb7200">  690</a></span>&#160;  std::tuple&lt;v8::Isolate*, i::Isolate*, ErrorThrower&amp;&gt; <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#acb47e554be71baee84afd52248eb7200">isolates_and_thrower</a>() {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">return</span> {isolate_, i_isolate(), thrower_};</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a94d2d3bfb313b2153dded0f947f8c0c1">  695</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a94d2d3bfb313b2153dded0f947f8c0c1">i_isolate</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate_);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  }</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a779aa9c234b349c95cafd245b0f1018d">  699</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a779aa9c234b349c95cafd245b0f1018d">callback_info_</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#acb4c7b6b0259ba8702ec561f9c1819c5">  700</a></span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#acb4c7b6b0259ba8702ec561f9c1819c5">isolate_</a>;</div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#aecd110ba5f68ee8b79effefb7aa8e9db">  701</a></span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#aecd110ba5f68ee8b79effefb7aa8e9db">handle_scope_</a>;</div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a85de3c6dec1d63ea85420c8d128f1df3">  702</a></span>&#160;  ErrorThrower <a class="code" href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a85de3c6dec1d63ea85420c8d128f1df3">thrower_</a>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;};</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">// WebAssembly.compile(bytes, options) -&gt; Promise</span></div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a9829d4bd6b0d386c48b2220d16fdb5c5">  708</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a9829d4bd6b0d386c48b2220d16fdb5c5">WebAssemblyCompileImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.compile()&quot;</span>};</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1">kAsyncCompilation</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context).ToLocal(&amp;promise_resolver)) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> promise = promise_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  std::shared_ptr&lt;i::wasm::CompilationResultResolver&gt; resolver(</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keyword">new</span> AsyncCompilationResolver(isolate, context, promise_resolver));</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      i_isolate-&gt;native_context();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a> bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">if</span> (bytes.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a06e21ab8fe667b1e60f93d4ea690d92a">empty</a>()) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[1], i_isolate, enabled_features);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> exception(Cast&lt;i::JSAny&gt;(i_isolate-&gt;exception()),</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                        i_isolate);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    resolver-&gt;OnCompilationFailed(exception);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aa17c088fdbc894379d393baf814073f7">AsyncCompile</a>(</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      i_isolate, enabled_features, std::move(compile_imports),</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      std::move(resolver), std::move(bytes), js_api_scope.api_name());</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">  756</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">WasmStreamingCallbackForTesting</a>(</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.compile()&quot;</span>};</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  std::shared_ptr&lt;v8::WasmStreaming&gt; streaming =</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">v8::WasmStreaming::Unpack</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>());</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// We don&#39;t check the buffer length up front, to allow d8 to test that the</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// streaming decoder implementation handles overly large inputs correctly.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordtype">size_t</span> unlimited = std::numeric_limits&lt;size_t&gt;::max();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a> bytes =</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(info, unlimited, &amp;thrower);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> (bytes.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a06e21ab8fe667b1e60f93d4ea690d92a">empty</a>()) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    streaming-&gt;Abort(Utils::ToLocal(thrower.Reify()));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  streaming-&gt;OnBytesReceived(bytes.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a1ca15a19c0441e2f03478984aff700b4">begin</a>(), bytes.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a26c158458db822b4e91ca63ec1026131">size</a>());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  streaming-&gt;Finish();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!thrower.error());</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160; </div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">  778</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">WasmStreamingPromiseFailedCallback</a>(</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  std::shared_ptr&lt;v8::WasmStreaming&gt; streaming =</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <a class="code" href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">v8::WasmStreaming::Unpack</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>());</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  streaming-&gt;Abort(info[0]);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">  786</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">StartAsyncCompilationWithResolver</a>(</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    WasmJSApiScope&amp; js_api_scope, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> response_or_promise,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> options_arg_value,</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    std::shared_ptr&lt;i::wasm::CompilationResultResolver&gt; resolver) {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <a class="code" href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">Utils::OpenHandle</a>(*context);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(options_arg_value, i_isolate, enabled_features);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> exception(Cast&lt;i::JSAny&gt;(i_isolate-&gt;exception()),</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                                        i_isolate);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    resolver-&gt;OnCompilationFailed(exception);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// Allocate the streaming decoder in a Managed so we can pass it to the</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// embedder.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  std::shared_ptr&lt;WasmStreaming&gt; streaming = std::make_shared&lt;WasmStreaming&gt;(</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      std::make_unique&lt;WasmStreaming::WasmStreamingImpl&gt;(</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          i_isolate, js_api_scope.api_name(), std::move(compile_imports),</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          resolver));</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Managed&lt;WasmStreaming&gt;</a>&gt; data =</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">i::Managed&lt;WasmStreaming&gt;::From</a>(i_isolate, 0, streaming);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(i_isolate-&gt;wasm_streaming_callback());</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Function&gt;</a> compile_callback, reject_callback;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a>(context, i_isolate-&gt;wasm_streaming_callback(),</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                         Utils::ToLocal(i::Cast&lt;i::Object&gt;(data)), 1)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;           .ToLocal(&amp;compile_callback) ||</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      !<a class="code" href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">WasmStreamingPromiseFailedCallback</a>,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                         Utils::ToLocal(i::Cast&lt;i::Object&gt;(data)), 1)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;           .ToLocal(&amp;reject_callback)) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// The parameter may be of type {Response} or of type {Promise&lt;Response&gt;}.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// Treat either case of parameter as Promise.resolve(parameter)</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// as per https://www.w3.org/2001/tag/doc/promises-guide#resolve-arguments</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// Ending with:</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">//    return Promise.resolve(parameter).then(compile_callback);</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> input_resolver;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context).ToLocal(&amp;input_resolver) ||</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      input_resolver-&gt;Resolve(context, response_or_promise).IsNothing()) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="comment">// Calling `then` on the promise can fail if the user monkey-patched stuff,</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="comment">// see https://crbug.com/374820218 / https://crbug.com/396461004.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// If this does not fail, then the {compile_callback} will start streaming</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// compilation, which will eventually resolve the promise we set as result</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// value.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (input_resolver-&gt;GetPromise()</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;          -&gt;Then(context, compile_callback, reject_callback)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;          .IsEmpty()) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    streaming-&gt;Abort(<a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a>{});</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160; </div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">// WebAssembly.compileStreaming(Response | Promise&lt;Response&gt;, options)</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">//   -&gt; Promise&lt;WebAssembly.Module&gt;</span></div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">  863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">WebAssemblyCompileStreaming</a>(</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.compileStreaming()&quot;</span>};</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93">kStreamingCompilation</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// Create and assign the return value of this function.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context).ToLocal(&amp;promise_resolver)) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> promise = promise_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="comment">// Prepare the CompilationResultResolver for the compilation.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keyword">auto</span> resolver = std::make_shared&lt;AsyncCompilationResolver&gt;(isolate, context,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                                             promise_resolver);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">StartAsyncCompilationWithResolver</a>(js_api_scope, info[0], info[1], resolver);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;}</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">// WebAssembly.validate(bytes, options) -&gt; bool</span></div>
<div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa00e99e86bb5e0bcdde5308c3b924c45">  886</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa00e99e86bb5e0bcdde5308c3b924c45">WebAssemblyValidateImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.validate()&quot;</span>};</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordtype">bool</span> bytes_are_shared = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <a class="code" href="classv8_1_1base_1_1Vector.html">base::Vector&lt;const uint8_t&gt;</a> bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">GetFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower, &amp;bytes_are_shared);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">empty</a>()) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    js_api_scope.AssertException();</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// Propagate anything except wasm exceptions.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (!thrower.wasm_error()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// Clear wasm exceptions; return false instead.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    thrower.Reset();</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(<a class="code" href="namespacev8.html#ad95e01adb84e22399970bc9bffa404fe">v8::False</a>(isolate));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[1], i_isolate, enabled_features);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(<a class="code" href="namespacev8.html#ad95e01adb84e22399970bc9bffa404fe">v8::False</a>(isolate));</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordtype">bool</span> validated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span> (bytes_are_shared) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// Make a copy of the wire bytes to avoid concurrent modification.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// Use relaxed reads (and writes, which is unnecessary here) to avoid TSan</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="comment">// reports in case the buffer is shared and is being modified concurrently.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keyword">auto</span> bytes_copy = <a class="code" href="classv8_1_1base_1_1OwnedVector.html#af4f3e4cad212e5321ef9d3cb31009fe8">base::OwnedVector&lt;uint8_t&gt;::NewForOverwrite</a>(bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a7a5e1c490a7a7606fdc230f5779db6f0">base::Relaxed_Memcpy</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(bytes_copy.begin()),</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                         <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a7ae17f2372808420997b1aff6addcdd0">data</a>()),</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                         bytes.<a class="code" href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">size</a>());</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    validated = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aad8e9ffbc98ee56a23ee1e76a115b34f">SyncValidate</a>(</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        i_isolate, enabled_features, std::move(compile_imports),</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        bytes_copy.as_vector());</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">// The wire bytes are not shared, OK to use them directly.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    validated = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aad8e9ffbc98ee56a23ee1e76a115b34f">SyncValidate</a>(</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        i_isolate, enabled_features, std::move(compile_imports), bytes);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(validated);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">  936</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate,</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> destination,</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> source) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::HeapObject&gt;</a> maybe_prototype =</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      i::JSObject::GetPrototype(isolate, source);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordflow">if</span> (maybe_prototype.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">ToHandle</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>)) {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1JSObject.html#a793b022df61dd2831e6049bac4a28c1f">i::JSObject::SetPrototype</a>(</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        isolate, destination, <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>,</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="comment">/*from_javascript=*/</span><span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de">internal::kThrowOnError</a>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">has_exception</a>());</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;}</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">// new WebAssembly.Module(bytes, options) -&gt; WebAssembly.Module</span></div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aeccc9e8fae6961c23699b202bb751160">  956</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aeccc9e8fae6961c23699b202bb751160">WebAssemblyModuleImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module()&quot;</span>};</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;wasm_module_callback()(info)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e">kSyncCompilation</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Module must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      i_isolate-&gt;native_context();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a> bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (bytes.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a06e21ab8fe667b1e60f93d4ea690d92a">empty</a>()) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[1], i_isolate, enabled_features);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// TODO(14179): Does this need different error message handling?</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::WasmModuleObject&gt;</a> maybe_module_obj;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  maybe_module_obj = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a3f2610a2d8fa2c20a8569e4cb665d194">SyncCompile</a>(</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      i_isolate, enabled_features, std::move(compile_imports), &amp;thrower,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      std::move(bytes));</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_obj;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">if</span> (!maybe_module_obj.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">ToHandle</a>(&amp;module_obj)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// and use {module_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Module} directly, but some</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// subclass: {module_obj} has {WebAssembly.Module}&#39;s prototype at this</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, module_obj,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                         <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(module_obj));</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160; </div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">// WebAssembly.Module.imports(module) -&gt; Array&lt;Import&gt;</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa8666752c68eedb8e6137f879a6f2444"> 1013</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa8666752c68eedb8e6137f879a6f2444">WebAssemblyModuleImportsImpl</a>(</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module.imports()&quot;</span>};</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keyword">auto</span> imports = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a744e1f64a481e1651605a8de39aaa89d">i::wasm::GetImports</a>(i_isolate, module_object);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(imports));</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160; </div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">// WebAssembly.Module.exports(module) -&gt; Array&lt;Export&gt;</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa5d34663209df90b28f9f17aaf6eda5b"> 1027</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa5d34663209df90b28f9f17aaf6eda5b">WebAssemblyModuleExportsImpl</a>(</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module.exports()&quot;</span>};</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keyword">auto</span> exports = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac16bee88f353656d3809b61652c63a0f">i::wasm::GetExports</a>(i_isolate, module_object);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(exports));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160; </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">// WebAssembly.Module.customSections(module, name) -&gt; Array&lt;Section&gt;</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a42ea0b3bd1920f543bf97b345275e517"> 1041</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a42ea0b3bd1920f543bf97b345275e517">WebAssemblyModuleCustomSectionsImpl</a>(</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module.customSections()&quot;</span>};</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">if</span> (info[1]-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 is required&quot;</span>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(i_isolate, <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[1]))</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>)) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keyword">auto</span> custom_sections = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acabda57a17d96edc612c9b843fbbea4b">i::wasm::GetCustomSections</a>(</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      i_isolate, module_object, i::Cast&lt;i::String&gt;(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), &amp;thrower);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">if</span> (thrower.error()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(custom_sections));</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;}</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160; </div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">// new WebAssembly.Instance(module, imports) -&gt; WebAssembly.Instance</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8fc0faf002730cf5f7c4ef50a647671f"> 1068</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8fc0faf002730cf5f7c4ef50a647671f">WebAssemblyInstanceImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Instance()&quot;</span>};</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0">kAsyncInstantiation</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  i_isolate-&gt;CountUsage(</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;wasm_instance_callback()(info)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> instance_obj;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Instance must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> ffi = info[1];</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (!ffi-&gt;IsUndefined() &amp;&amp; !ffi-&gt;IsObject()) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be an object&quot;</span>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;             -&gt;SyncInstantiate(i_isolate, &amp;thrower, module_object,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                               <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">ImportsAsMaybeReceiver</a>(ffi),</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                               <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::JSArrayBuffer&gt;</a>())</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;instance_obj)) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="comment">// and use {instance_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Instance} directly, but some</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">// subclass: {instance_obj} has {WebAssembly.Instance}&#39;s prototype at this</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, instance_obj,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                         <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(instance_obj));</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160; </div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">// WebAssembly.instantiateStreaming(</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">//     Response | Promise&lt;Response&gt; [, imports [, options]])</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">//   -&gt; Promise&lt;ResultObject&gt;</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">// (where ResultObject has a &quot;module&quot; and an &quot;instance&quot; field)</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d"> 1124</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d">WebAssemblyInstantiateStreaming</a>(</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.instantiateStreaming()&quot;</span>};</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687">kStreamingInstantiation</a>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  i_isolate-&gt;CountUsage(</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// Create and assign the return value of this function.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> result_resolver;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context).ToLocal(&amp;result_resolver)) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> promise = result_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">// If info.Length &lt; 2, this will be undefined - see FunctionCallbackInfo.</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> ffi = info[1];</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">if</span> (!ffi-&gt;IsUndefined() &amp;&amp; !ffi-&gt;IsObject()) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be an object&quot;</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    InstantiateModuleResultResolver resolver(isolate, context, result_resolver);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    resolver.OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keyword">auto</span> compilation_resolver =</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      std::make_shared&lt;AsyncInstantiateCompileResultResolver&gt;(</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          isolate, context, result_resolver, ffi);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">StartAsyncCompilationWithResolver</a>(js_api_scope, info[0], info[2],</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                    std::move(compilation_resolver));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160; </div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">// WebAssembly.instantiate(module, imports) -&gt; WebAssembly.Instance</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">// WebAssembly.instantiate(bytes, imports, options) -&gt;</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment">//     {module: WebAssembly.Module, instance: WebAssembly.Instance}</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c9fb33b2596c8b7b7834e4d71f2645c"> 1162</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c9fb33b2596c8b7b7834e4d71f2645c">WebAssemblyInstantiateImpl</a>(</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.instantiate()&quot;</span>};</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  i_isolate-&gt;CountUsage(</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise::Resolver&gt;</a> promise_resolver;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">Promise::Resolver::New</a>(context).ToLocal(&amp;promise_resolver)) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Promise&gt;</a> promise = promise_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  std::unique_ptr&lt;i::wasm::InstantiationResultResolver&gt; resolver(</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keyword">new</span> InstantiateModuleResultResolver(isolate, context, promise_resolver));</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> first_arg_value = info[0];</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> first_arg =</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*first_arg_value);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">if</span> (!IsJSObject(*first_arg)) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="stringliteral">&quot;Argument 0 must be a buffer source or a WebAssembly.Module object&quot;</span>);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    resolver-&gt;OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">// If info.Length &lt; 2, this will be undefined - see FunctionCallbackInfo.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> ffi = info[1];</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (!ffi-&gt;IsUndefined() &amp;&amp; !ffi-&gt;IsObject()) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be an object&quot;</span>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    resolver-&gt;OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keywordflow">if</span> (IsWasmModuleObject(*first_arg)) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_obj =</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        i::Cast&lt;i::WasmModuleObject&gt;(first_arg);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aefbc53197e63d504193b408056d37721">AsyncInstantiate</a>(i_isolate, std::move(resolver),</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                               module_obj,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                                               <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">ImportsAsMaybeReceiver</a>(ffi));</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <a class="code" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector&lt;const uint8_t&gt;</a> bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">if</span> (bytes.<a class="code" href="classv8_1_1base_1_1OwnedVector.html#a06e21ab8fe667b1e60f93d4ea690d92a">empty</a>()) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    resolver-&gt;OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// We start compilation now, we have no use for the</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="comment">// {InstantiationResultResolver}.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  resolver.reset();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  std::shared_ptr&lt;i::wasm::CompilationResultResolver&gt; compilation_resolver(</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keyword">new</span> AsyncInstantiateCompileResultResolver(isolate, context,</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                                promise_resolver, ffi));</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="comment">// The first parameter is a buffer source, we have to check if we are allowed</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// to compile it.</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      i_isolate-&gt;native_context();</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    compilation_resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[2], i_isolate, enabled_features);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> exception(Cast&lt;i::JSAny&gt;(i_isolate-&gt;exception()),</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                        i_isolate);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    compilation_resolver-&gt;OnCompilationFailed(exception);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aa17c088fdbc894379d393baf814073f7">AsyncCompile</a>(</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      i_isolate, enabled_features, std::move(compile_imports),</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      std::move(compilation_resolver), std::move(bytes),</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      js_api_scope.api_name());</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160; </div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">// {AddressValueToU64} as defined in the memory64 js-api spec.</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">// Returns std::nullopt on error (exception or error set in the thrower), and</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">// the address value otherwise.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Name&gt;</div>
<div class="line"><a name="l01260"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9"> 1260</a></span>&#160;std::optional&lt;uint64_t&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(ErrorThrower* thrower,</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                          <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                                          <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                                          <a class="code" href="classv8_1_1Name.html">Name</a> property_name,</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                                          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type) {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keywordflow">switch</span> (address_type) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">case</span> AddressType::kI32:</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(property_name, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, thrower);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="keywordflow">case</span> AddressType::kI64:</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac1cc2e2c4221e61762e076e3d5b5fb6d">EnforceBigIntUint64</a>(property_name, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, thrower);</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="comment">// The enum value is coming from inside the sandbox and while the switch is</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="comment">// exhaustive, it&#39;s not guaranteed that value is one of the declared values.</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;}</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">// {AddressValueToU64} plus additional bounds checks.</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac2f96f719e962655133bcd7e5c74d1e2"> 1277</a></span>&#160;std::optional&lt;uint64_t&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac2f96f719e962655133bcd7e5c74d1e2">AddressValueToBoundedU64</a>(</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    ErrorThrower* thrower, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> property_name, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    uint64_t lower_bound, uint64_t upper_bound) {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  std::optional&lt;uint64_t&gt; maybe_address_value =</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(thrower, context, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, property_name, address_type);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <span class="keywordflow">if</span> (!maybe_address_value) <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  uint64_t address_value = *maybe_address_value;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">if</span> (address_value &lt; lower_bound) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    thrower-&gt;RangeError(</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        <span class="stringliteral">&quot;Property &#39;%s&#39;: value %&quot;</span> PRIu64 <span class="stringliteral">&quot; is below the lower bound %&quot;</span> PRIx64,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        property_name-&gt;ToCString().get(), address_value, lower_bound);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  }</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordflow">if</span> (address_value &gt; upper_bound) {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    thrower-&gt;RangeError(</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <span class="stringliteral">&quot;Property &#39;%s&#39;: value %&quot;</span> PRIu64 <span class="stringliteral">&quot; is above the upper bound %&quot;</span> PRIu64,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        property_name-&gt;ToCString().get(), address_value, upper_bound);</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  }</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="keywordflow">return</span> address_value;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;}</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">// Returns std::nullopt on error (exception or error set in the thrower).</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">// The inner optional is std::nullopt if the property did not exist, and the</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">// address value otherwise.</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42"> 1306</a></span>&#160;std::optional&lt;std::optional&lt;uint64_t&gt;&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    ErrorThrower* thrower, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> descriptor,</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> property, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type, int64_t lower_bound,</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    uint64_t upper_bound) {</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (!descriptor-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, property).<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="comment">// Web IDL: dictionary presence</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="comment">// https://heycam.github.io/webidl/#dfn-present</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// No exception, but no value either.</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="keywordflow">return</span> std::optional&lt;uint64_t&gt;{};</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  }</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> property_name =</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">v8::Utils::OpenDirectHandle</a>(*property);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  std::optional&lt;uint64_t&gt; maybe_address_value =</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac2f96f719e962655133bcd7e5c74d1e2">AddressValueToBoundedU64</a>(thrower, context, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, property_name,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                               address_type, lower_bound, upper_bound);</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">if</span> (!maybe_address_value) <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">return</span> *maybe_address_value;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;}</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">// Fetch &#39;initial&#39; or &#39;minimum&#39; property from `descriptor`. If both are</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">// provided, a TypeError is thrown.</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">// Returns std::nullopt on error (exception or error set in the thrower).</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">// TODO(aseemgarg): change behavior when the following bug is resolved:</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">// https://github.com/WebAssembly/js-types/issues/6</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119"> 1337</a></span>&#160;std::optional&lt;uint64_t&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">GetInitialOrMinimumProperty</a>(</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, ErrorThrower* thrower, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> descriptor, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type,</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    uint64_t upper_bound) {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keyword">auto</span> maybe_maybe_initial = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      thrower, context, descriptor, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;initial&quot;</span>), address_type, 0,</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      upper_bound);</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">if</span> (!maybe_maybe_initial) <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  std::optional&lt;uint64_t&gt; maybe_initial = *maybe_maybe_initial;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keyword">auto</span> enabled_features =</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      WasmEnabledFeatures::FromIsolate(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate));</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_type_reflection()) {</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <span class="keyword">auto</span> maybe_maybe_minimum = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        thrower, context, descriptor, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;minimum&quot;</span>), address_type,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        0, upper_bound);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (!maybe_maybe_minimum) <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    std::optional&lt;uint64_t&gt; maybe_minimum = *maybe_maybe_minimum;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    <span class="keywordflow">if</span> (maybe_initial &amp;&amp; maybe_minimum) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      thrower-&gt;TypeError(</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;          <span class="stringliteral">&quot;The properties &#39;initial&#39; and &#39;minimum&#39; are not allowed at the same &quot;</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;          <span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    <span class="keywordflow">if</span> (maybe_minimum) {</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      <span class="comment">// Only &#39;minimum&#39; exists, so we use &#39;minimum&#39; as &#39;initial&#39;.</span></div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      <span class="keywordflow">return</span> *maybe_minimum;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  }</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">if</span> (!maybe_initial) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    <span class="comment">// TODO(aseemgarg): update error message when the spec issue is resolved.</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;Property &#39;initial&#39; is required&quot;</span>);</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordflow">return</span> *maybe_initial;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;}</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160; </div>
<div class="line"><a name="l01375"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c"> 1375</a></span>&#160;<a class="code" href="classv8_1_1Local.html">v8::Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                                          <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">i::wasm::AddressType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>,</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                                          <span class="keywordtype">unsigned</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == i::wasm::AddressType::kI64</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;             ? <a class="code" href="classv8_1_1BigInt.html#a6e8ac3390327e48bf1a3e788f9ca4324">BigInt::NewFromUnsigned</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>).As&lt;<a class="code" href="classv8_1_1Value.html">Value</a>&gt;()</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;             : <a class="code" href="classv8_1_1Integer.html#af5543ee5baef2567151d698b06d2087d">Integer::NewFromUnsigned</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>).As&lt;<a class="code" href="classv8_1_1Value.html">Value</a>&gt;();</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035"> 1383</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::HeapObject&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate,</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                                                     i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.is_object_reference());</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  <span class="comment">// Use undefined for JS type (externref) but null for wasm types as wasm does</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;  <span class="comment">// not know undefined.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.heap_representation() == i::wasm::HeapType::kExtern) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;undefined_value();</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.use_wasm_null()) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;null_value();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;wasm_null();</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160; </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">// Read the address type from a Memory or Table descriptor.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837"> 1397</a></span>&#160;std::optional&lt;AddressType&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">GetAddressType</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                          <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                          <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> descriptor,</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                          ErrorThrower* thrower) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> address_value;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (!descriptor-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;address&quot;</span>))</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;           .ToLocal(&amp;address_value)) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160; </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;  <span class="keywordflow">if</span> (address_value-&gt;<a class="code" href="classv8_1_1Value.html#ad3a7686feef02fbe0317570b9640b078">IsUndefined</a>()) <span class="keywordflow">return</span> AddressType::kI32;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160; </div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> address;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate),</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                           <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*address_value))</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;address)) {</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  }</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;  <span class="keywordflow">if</span> (address-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i64&quot;</span>))) <span class="keywordflow">return</span> AddressType::kI64;</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  <span class="keywordflow">if</span> (address-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i32&quot;</span>))) <span class="keywordflow">return</span> AddressType::kI32;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  thrower-&gt;TypeError(<span class="stringliteral">&quot;Unknown address type &#39;%s&#39;; pass &#39;i32&#39; or &#39;i64&#39;&quot;</span>,</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                     address-&gt;ToCString().get());</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">// new WebAssembly.Table(descriptor) -&gt; WebAssembly.Table</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af8c6d861773fb2c5a56b9929ec87d2df"> 1426</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af8c6d861773fb2c5a56b9929ec87d2df">WebAssemblyTableImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table()&quot;</span>};</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Table must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a table descriptor&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> descriptor = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="comment">// Parse the &#39;element&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (!descriptor-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;element&quot;</span>)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate),</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                             <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>))</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="comment">// The JS api uses &#39;anyfunc&#39; instead of &#39;funcref&#39;.</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyfunc&quot;</span>))) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_type_reflection() &amp;&amp;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;funcref&quot;</span>))) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="comment">// With the type reflection proposal, &quot;funcref&quot; replaces &quot;anyfunc&quot;,</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="comment">// and anyfunc just becomes an alias for &quot;funcref&quot;.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;externref&quot;</span>))) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">i::wasm::kWasmExternRef</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_stringref() &amp;&amp;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;stringref&quot;</span>))) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a44d8421f58b06a23f41aff519b312d3c">i::wasm::kWasmStringRef</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyref&quot;</span>))) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a697b6d1f8fb7f3463c83684346bfa145">i::wasm::kWasmAnyRef</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;eqref&quot;</span>))) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75a407e39344b5260946d2c22d318f84">i::wasm::kWasmEqRef</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;structref&quot;</span>))) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac4677d357c392dc8125dfa4d58f92aeb">i::wasm::kWasmStructRef</a>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;arrayref&quot;</span>))) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afb33e6ba5bbd6ec3d69e3537f9912d4e">i::wasm::kWasmArrayRef</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i31ref&quot;</span>))) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a86d0b42ae903d1d6e6f98c685ef0133b">i::wasm::kWasmI31Ref</a>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;          <span class="stringliteral">&quot;Descriptor property &#39;element&#39; must be a WebAssembly reference type&quot;</span>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="comment">// TODO(14616): Support shared types.</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// Parse the &#39;address&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  std::optional&lt;AddressType&gt; maybe_address_type =</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">GetAddressType</a>(isolate, context, descriptor, &amp;thrower);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">if</span> (!maybe_address_type) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i_isolate-&gt;has_exception() || thrower.error());</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type = *maybe_address_type;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// Parse the &#39;initial&#39; or &#39;minimum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  std::optional&lt;uint64_t&gt; maybe_initial = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">GetInitialOrMinimumProperty</a>(</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      isolate, &amp;thrower, context, descriptor, address_type,</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a99d89c02d7aa502fd4d2939a076c1688">i::wasm::max_table_init_entries</a>());</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">if</span> (!maybe_initial) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a003eded058d6f8d097f814e516d757ef">i::wasm::kV8MaxWasmTableInitEntries</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  uint32_t initial = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(*maybe_initial);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// Parse the &#39;maximum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  uint64_t <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf">kNoMaximum</a> = <a class="code" href="namespacev8_1_1internal.html#a7f4dd65fabd482f5f1bfe4db66389fa3">i::kMaxUInt64</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keyword">auto</span> maybe_maybe_maximum = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      &amp;thrower, context, descriptor, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;maximum&quot;</span>), address_type,</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      initial, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf">kNoMaximum</a>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span> (!maybe_maybe_maximum) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  std::optional&lt;uint64_t&gt; maybe_maximum = *maybe_maybe_maximum;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index());  <span class="comment">// The JS API can&#39;t express type indices.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  i::wasm::CanonicalValueType canonical_type{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>};</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTableObject&gt;</a> table_obj = <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#a44960b521a446db5f1e61b9bfb0c56d6">i::WasmTableObject::New</a>(</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      i_isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a>(), <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      canonical_type, initial, maybe_maximum.has_value(),</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      maybe_maximum.value_or(0) <span class="comment">/* note: unused if previous param is false */</span>,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>), address_type);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">// and use {table_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Table} directly, but some</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="comment">// subclass: {table_obj} has {WebAssembly.Table}&#39;s prototype at this</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, table_obj,</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                         <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">if</span> (initial &gt; 0 &amp;&amp; info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2 &amp;&amp; !info[1]-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> element = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[1]);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">i::WasmTableObject::JSToWasmElement</a>(i_isolate, table_obj, element,</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                                             &amp;error_message)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;element)) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          <span class="stringliteral">&quot;Argument 2 must be undefined or a value of type compatible &quot;</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;          <span class="stringliteral">&quot;with the type of the new table: %s.&quot;</span>,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;          error_message);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; index &lt; static_cast&lt;uint32_t&gt;(initial); ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">i::WasmTableObject::Set</a>(i_isolate, table_obj, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, element);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (initial &gt; 0) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, table_obj-&gt;unsafe_type());</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.heap_representation()) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kString:</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        thrower.TypeError(</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="stringliteral">&quot;Missing initial value when creating stringref table&quot;</span>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kStringViewWtf8:</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;stringview_wtf8 has no JS representation&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kStringViewWtf16:</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;stringview_wtf16 has no JS representation&quot;</span>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kStringViewIter:</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;stringview_iter has no JS representation&quot;</span>);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(table_obj)));</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;}</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">// new WebAssembly.Memory(descriptor) -&gt; WebAssembly.Memory</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2e84efb3ddc838b4645d1dd7ded761e6"> 1570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2e84efb3ddc838b4645d1dd7ded761e6">WebAssemblyMemoryImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory()&quot;</span>};</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Memory must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a memory descriptor&quot;</span>);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> descriptor = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// Parse the &#39;address&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  std::optional&lt;AddressType&gt; maybe_address_type =</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">GetAddressType</a>(isolate, context, descriptor, &amp;thrower);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">if</span> (!maybe_address_type) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type = *maybe_address_type;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  uint64_t max_supported_pages = address_type == AddressType::kI64</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                                     ? <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad9a1634a9ec0775903d04d76caafb542">i::wasm::kSpecMaxMemory64Pages</a></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                                     : <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a49bb52ab23031477fbfe2807afd064f2">i::wasm::kSpecMaxMemory32Pages</a>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="comment">// {max_supported_pages} will actually be in integer range. That&#39;s the type</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// {WasmMemoryObject::New} uses.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a49bb52ab23031477fbfe2807afd064f2">i::wasm::kSpecMaxMemory32Pages</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">i::kMaxInt</a>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad9a1634a9ec0775903d04d76caafb542">i::wasm::kSpecMaxMemory64Pages</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">i::kMaxInt</a>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// Parse the &#39;initial&#39; or &#39;minimum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  std::optional&lt;uint64_t&gt; maybe_initial =</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">GetInitialOrMinimumProperty</a>(isolate, &amp;thrower, context, descriptor,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                  address_type, max_supported_pages);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (!maybe_initial) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  uint64_t initial = *maybe_initial;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// Parse the &#39;maximum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keyword">auto</span> maybe_maybe_maximum = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      &amp;thrower, context, descriptor, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;maximum&quot;</span>), address_type,</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      initial, max_supported_pages);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">if</span> (!maybe_maybe_maximum) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  std::optional&lt;uint64_t&gt; maybe_maximum = *maybe_maybe_maximum;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="comment">// Parse the &#39;shared&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">if</span> (!descriptor-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;shared&quot;</span>)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keyword">auto</span> shared = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;BooleanValue(isolate) ? <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">i::SharedFlag::kShared</a></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                                             : <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03.html#a66d75e44e8119e492fa238e6ac04903f">i::SharedFlag::kNotShared</a>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="comment">// Throw TypeError if shared is true, and the descriptor has no &quot;maximum&quot;.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">if</span> (shared == <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">i::SharedFlag::kShared</a> &amp;&amp; !maybe_maximum.has_value()) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;If shared is true, maximum property should be defined.&quot;</span>);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> memory_obj;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">i::WasmMemoryObject::New</a>(i_isolate, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(initial),</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                                maybe_maximum ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(*maybe_maximum)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                                              : <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">i::WasmMemoryObject::kNoMaximum</a>,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                                shared, address_type)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;memory_obj)) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;could not allocate memory&quot;</span>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="comment">// and use {memory_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Memory} directly, but some</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">// subclass: {memory_obj} has {WebAssembly.Memory}&#39;s prototype at this</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, memory_obj,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                         <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">if</span> (shared == <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">i::SharedFlag::kShared</a>) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        i::Cast&lt;i::WasmMemoryObject&gt;(memory_obj)-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(memory_obj));</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;}</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">// new WebAssembly.MemoryMapDescriptor(size) -&gt; WebAssembly.MemoryMapDescriptor</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0d65454a5c0bd1202bec0c61b96c54e3"> 1668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0d65454a5c0bd1202bec0c61b96c54e3">WebAssemblyMemoryMapDescriptorImpl</a>(</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor()&quot;</span>};</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  std::optional&lt;uint32_t&gt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> =</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<span class="stringliteral">&quot;size&quot;</span>, info[0], isolate-&gt;GetCurrentContext(), &amp;thrower);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>.has_value()) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> descriptor_obj;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a5d494fe23259c204fea87f6e5eefb391">i::WasmMemoryMapDescriptor::NewFromAnonymous</a>(i_isolate, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>.value())</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;           .ToHandle(&amp;descriptor_obj)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    thrower.RuntimeError(<span class="stringliteral">&quot;Failed to create a MemoryMapDescriptor&quot;</span>);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="comment">// and use {memory_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Memory} directly, but some</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="comment">// subclass: {memory_obj} has {WebAssembly.Memory}&#39;s prototype at this</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, descriptor_obj,</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                         <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i_isolate-&gt;has_exception());</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(descriptor_obj));</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment">// Determines the type encoded in a value type property (e.g. type reflection).</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">// Returns false if there was an exception, true upon success. On success the</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment">// outgoing {type} is set accordingly, or set to {wasm::kWasmVoid} in case the</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment">// type could not be properly recognized.</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5"> 1713</a></span>&#160;std::optional&lt;i::wasm::ValueType&gt; <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    WasmEnabledFeatures enabled_features) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">if</span> (!maybe.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate),</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                           <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>))</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i32&quot;</span>))) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">i::wasm::kWasmI32</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;f32&quot;</span>))) {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6263a62b579bcdb32ae1acafc9ddf653">i::wasm::kWasmF32</a>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i64&quot;</span>))) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">i::wasm::kWasmI64</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;f64&quot;</span>))) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb1a0dc52ceeed030ac44fa008c1e77c">i::wasm::kWasmF64</a>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;v128&quot;</span>))) {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">i::wasm::kWasmS128</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;externref&quot;</span>))) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">i::wasm::kWasmExternRef</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_type_reflection() &amp;&amp;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;             <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;funcref&quot;</span>))) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="comment">// The type reflection proposal renames &quot;anyfunc&quot; to &quot;funcref&quot;, and makes</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">// &quot;anyfunc&quot; an alias of &quot;funcref&quot;.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyfunc&quot;</span>))) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// The JS api spec uses &#39;anyfunc&#39; instead of &#39;funcref&#39;.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;eqref&quot;</span>))) {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75a407e39344b5260946d2c22d318f84">i::wasm::kWasmEqRef</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_stringref() &amp;&amp;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;             <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;stringref&quot;</span>))) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a44d8421f58b06a23f41aff519b312d3c">i::wasm::kWasmStringRef</a>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyref&quot;</span>))) {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a697b6d1f8fb7f3463c83684346bfa145">i::wasm::kWasmAnyRef</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;structref&quot;</span>))) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac4677d357c392dc8125dfa4d58f92aeb">i::wasm::kWasmStructRef</a>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;arrayref&quot;</span>))) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afb33e6ba5bbd6ec3d69e3537f9912d4e">i::wasm::kWasmArrayRef</a>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i31ref&quot;</span>))) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a86d0b42ae903d1d6e6f98c685ef0133b">i::wasm::kWasmI31Ref</a>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_exnref() &amp;&amp;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;             <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;exnref&quot;</span>))) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a9a79ec61e742ba6e76addd6390334f22">i::wasm::kWasmExnRef</a>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  }</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="comment">// Unrecognized type.</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160; </div>
<div class="line"><a name="l01767"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04"> 1767</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04">ToI32</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a>* i32_value) {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Int32&gt;</a> int32_value;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;ToInt32(context).ToLocal(&amp;int32_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (!int32_value-&gt;Int32Value(context).To(i32_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  }</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;}</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160; </div>
<div class="line"><a name="l01776"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456"> 1776</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456">ToI64</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, int64_t* i64_value) {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::BigInt&gt;</a> bigint_value;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;ToBigInt(context).ToLocal(&amp;bigint_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    *i64_value = bigint_value-&gt;Int64Value();</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  }</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;}</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160; </div>
<div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e"> 1785</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e">ToF32</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <span class="keywordtype">float</span>* f32_value) {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Number&gt;</a> number_value;</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;ToNumber(context).ToLocal(&amp;number_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;    <span class="keywordflow">if</span> (!number_value-&gt;NumberValue(context).To(&amp;f64_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;    *f32_value = <a class="code" href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">i::DoubleToFloat32</a>(f64_value);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  }</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;}</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160; </div>
<div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024"> 1796</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024">ToF64</a>(<a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context, <span class="keywordtype">double</span>* f64_value) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Number&gt;</a> number_value;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;ToNumber(context).ToLocal(&amp;number_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <span class="keywordflow">if</span> (!number_value-&gt;NumberValue(context).To(f64_value)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  }</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;}</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160; </div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="comment">// WebAssembly.Global</span></div>
<div class="line"><a name="l01807"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac6db6d9d019560128460f337b6d48055"> 1807</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac6db6d9d019560128460f337b6d48055">WebAssemblyGlobalImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Global()&quot;</span>};</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Global must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a global descriptor&quot;</span>);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;</a> descriptor = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="comment">// The descriptor&#39;s &#39;mutable&#39;.</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordtype">bool</span> is_mutable;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (!descriptor-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;mutable&quot;</span>)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    is_mutable = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;BooleanValue(isolate);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="comment">// The descriptor&#39;s type, called &#39;value&#39;. It is called &#39;value&#39; because this</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">// descriptor is planned to be reused as the global&#39;s type for reflection,</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// so calling it &#39;type&#39; is redundant.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;v8::Value&gt;</a> maybe =</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        descriptor-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;value&quot;</span>));</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;          <span class="stringliteral">&quot;Descriptor property &#39;value&#39; must be a WebAssembly type&quot;</span>);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keyword">const</span> uint32_t offset = 0;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::WasmGlobalObject&gt;</a> maybe_global_obj =</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmGlobalObject.html#ade63c64025c7c0f0ba5a05b9d11e431f">i::WasmGlobalObject::New</a>(</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;          i_isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a>(),</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::JSArrayBuffer&gt;</a>(),</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::FixedArray&gt;</a>(), <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, offset, is_mutable);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmGlobalObject&gt;</a> global_obj;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">if</span> (!maybe_global_obj.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">ToHandle</a>(&amp;global_obj)) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">// and use {global_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Global} directly, but some</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="comment">// subclass: {global_obj} has {WebAssembly.Global}&#39;s prototype at this</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, global_obj,</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                         <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="comment">// Convert value to a WebAssembly value, the default value is 0.</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Value&gt;::Cast</a>(info[1]);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.kind()) {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32_value = 0;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04">ToI32</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;i32_value)) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      global_obj-&gt;SetI32(i32_value);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    }</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      int64_t i64_value = 0;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456">ToI64</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;i64_value)) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      global_obj-&gt;SetI64(i64_value);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="keywordtype">float</span> f32_value = 0;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e">ToF32</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;f32_value)) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      global_obj-&gt;SetF32(f32_value);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    }</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024">ToF64</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;f64_value)) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      global_obj-&gt;SetF64(f64_value);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 2) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;Non-defaultable global needs initial value&quot;</span>);</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      <span class="comment">// We need the wasm default value {null} over {undefined}.</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> value_handle;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 2) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        value_handle = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        value_handle = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="comment">// While the JS API generally allows indexed types, it currently has</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="comment">// no way to specify such types in `new WebAssembly.Global(...)`.</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="comment">// TODO(14034): Fix this if that changes.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index());</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        i::wasm::CanonicalValueType canonical_type{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>};</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">i::wasm::JSToWasmObject</a>(i_isolate, value_handle, canonical_type,</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                                     &amp;error_message)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                 .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;value_handle)) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          thrower.TypeError(<span class="stringliteral">&quot;%s&quot;</span>, error_message);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      global_obj-&gt;SetRef(value_handle);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128: {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;          <span class="stringliteral">&quot;A global of type &#39;v128&#39; cannot be created in JavaScript&quot;</span>);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> global_js_object(global_obj);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(global_js_object));</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160; </div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160; </div>
<div class="line"><a name="l01959"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe"> 1959</a></span>&#160;uint32_t <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context,</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                           <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> iterable) {</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = Utils::ToLocal(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;length_string());</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> <span class="keyword">property</span> = iterable-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">if</span> (property.IsEmpty()) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Uint32&gt;</a> number = <span class="keyword">property</span>.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>()-&gt;ToArrayIndex(context);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keywordflow">if</span> (number.<a class="code" href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">IsEmpty</a>()) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>, number.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>()-&gt;Value());</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordflow">return</span> number.<a class="code" href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">ToLocalChecked</a>()-&gt;Value();</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;}</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160; </div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160; </div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="comment">// WebAssembly.Tag</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa725e4c20fcbf8aa32c453db61f2eb52"> 1973</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa725e4c20fcbf8aa32c453db61f2eb52">WebAssemblyTagImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Tag()&quot;</span>};</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160; </div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Tag must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a tag type&quot;</span>);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160; </div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> event_type = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160; </div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="comment">// Load the &#39;parameters&#39; property of the event type.</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> parameters_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;parameters&quot;</span>);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;v8::Value&gt;</a> parameters_maybe =</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      event_type-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, parameters_key);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> parameters_value;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">if</span> (!parameters_maybe.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;parameters_value) ||</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      !parameters_value-&gt;<a class="code" href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">IsObject</a>()) {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a tag type with &#39;parameters&#39;&quot;</span>);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> parameters = parameters_value.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  uint32_t parameters_len = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, parameters);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keywordflow">if</span> (parameters_len == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains parameters without &#39;length&#39;&quot;</span>);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keywordflow">if</span> (parameters_len &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">i::wasm::kV8MaxWasmFunctionParams</a>) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains too many parameters&quot;</span>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="comment">// Decode the tag type and construct a signature.</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  std::vector&lt;i::wasm::ValueType&gt; param_types(parameters_len,</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                                              <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; parameters_len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    i::wasm::ValueType&amp; <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = param_types[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe = parameters-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;          <span class="stringliteral">&quot;Argument 0 parameter type at index #%u must be a value type&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  }</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a> <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>{0, parameters_len, param_types.data()};</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="comment">// Set the tag index to 0. It is only used for debugging purposes, and has no</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// meaningful value when declared outside of a wasm module.</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keyword">auto</span> tag = <a class="code" href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">i::WasmExceptionTag::New</a>(i_isolate, 0);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  i::wasm::CanonicalTypeIndex type_index =</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a82694f241e35d38f8f882c255e49e743">type_canonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">AddRecursiveGroup</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> tag_object =</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">i::WasmTagObject::New</a>(i_isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, type_index, tag,</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a>());</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(tag_object));</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;}</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160; </div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160; </div>
<div class="line"><a name="l02043"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a77cc11472c760fe6c884a2b8b3247127"> 2043</a></span>&#160;uint32_t <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a77cc11472c760fe6c884a2b8b3247127">GetEncodedSize</a>(<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTagObject&gt;</a> tag_object) {</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="keyword">auto</span> serialized_sig = tag_object-&gt;serialized_signature();</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae1f7b93d2ad475c4f3a9e06d62f62556">i::wasm::WasmTagSig</a> <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>{</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      0, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(serialized_sig-&gt;length()),</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>i::wasm::ValueType*<span class="keyword">&gt;</span>(serialized_sig-&gt;begin())};</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3">i::WasmExceptionPackage::GetEncodedSize</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;}</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160; </div>
<div class="line"><a name="l02051"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0c59b1dfcb356042e275ff204f1127be"> 2051</a></span>&#160;<a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0c59b1dfcb356042e275ff204f1127be">EncodeExceptionValues</a>(</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate,</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt;<a class="code" href="classv8_1_1internal_1_1PodArray.html">i::PodArray&lt;i::wasm::ValueType&gt;</a>&gt; signature,</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTagObject&gt;</a> tag_object, <span class="keyword">const</span> <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a>&amp; arg,</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    ErrorThrower* thrower, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::FixedArray&gt;</a> values_out) {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordflow">if</span> (!arg-&gt;IsObject()) {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;Exception values must be an iterable object&quot;</span>);</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  }</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="keyword">auto</span> values = arg.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, values);</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;Exception values argument has no length&quot;</span>);</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> != <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(signature-&gt;length())) {</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    thrower-&gt;TypeError(</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;        <span class="stringliteral">&quot;Number of exception values does not match signature length&quot;</span>);</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  }</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; signature-&gt;length(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    <span class="keywordflow">if</span> (!values-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.kind()) {</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32 = 0;</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04">ToI32</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;i32)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">i::EncodeI32ExceptionValue</a>(values_out, &amp;<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, i32);</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      }</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        int64_t i64 = 0;</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456">ToI64</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;i64)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#af7ebacf07d7eaed3247cbd3fca3a35e6">i::EncodeI64ExceptionValue</a>(values_out, &amp;<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, i64);</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        <span class="keywordtype">float</span> f32 = 0;</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e">ToF32</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;f32)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32 = base::bit_cast&lt;int32_t&gt;(f32);</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">i::EncodeI32ExceptionValue</a>(values_out, &amp;<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, i32);</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;      }</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <span class="keywordtype">double</span> f64 = 0;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024">ToF64</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;f64)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        int64_t i64 = base::bit_cast&lt;int64_t&gt;(f64);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#af7ebacf07d7eaed3247cbd3fca3a35e6">i::EncodeI64ExceptionValue</a>(values_out, &amp;<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, i64);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;      }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;      <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> value_handle =</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        i::wasm::CanonicalValueType canonical_type = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#accd7a01a4feacf7239992e49a422c952">i::wasm::kWasmBottom</a>;</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index()) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;          <span class="comment">// Canonicalize the type using the tag&#39;s original module.</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;          <span class="comment">// Indexed types are guaranteed to come from an instance.</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(tag_object-&gt;has_trusted_data());</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged.html">i::Tagged&lt;i::WasmTrustedInstanceData&gt;</a> wtid =</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;              tag_object-&gt;trusted_data(i_isolate);</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;          <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">i::wasm::WasmModule</a>* module = wtid-&gt;module();</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;          canonical_type =</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;              <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.Canonicalize(module-&gt;canonical_type_id(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.ref_index()));</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;          canonical_type = i::wasm::CanonicalValueType{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>};</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;        }</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">i::wasm::JSToWasmObject</a>(i_isolate, value_handle, canonical_type,</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                                     &amp;error_message)</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                 .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;value_handle)) {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;          thrower-&gt;TypeError(<span class="stringliteral">&quot;%s&quot;</span>, error_message);</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        }</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        values_out-&gt;set(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>++, *value_handle);</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;      }</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;      <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        thrower-&gt;TypeError(<span class="stringliteral">&quot;Invalid type v128&quot;</span>);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;      <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;      <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;      <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    }</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;}</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160; </div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6fdd90c4ae4ce048cda630ce1be94ef8"> 2149</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6fdd90c4ae4ce048cda630ce1be94ef8">WebAssemblyExceptionImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Exception()&quot;</span>};</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Exception must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  }</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly tag&quot;</span>);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> arg0 = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[0]);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (!IsWasmTagObject(i::Cast&lt;i::HeapObject&gt;(*arg0))) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly tag&quot;</span>);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keyword">auto</span> tag_object = i::Cast&lt;i::WasmTagObject&gt;(arg0);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExceptionTag&gt;</a> tag(</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      i::Cast&lt;i::WasmExceptionTag&gt;(tag_object-&gt;tag()), i_isolate);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keyword">auto</span> js_tag = i::Cast&lt;i::WasmTagObject&gt;(i_isolate-&gt;context()-&gt;wasm_js_tag());</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">if</span> (*tag == js_tag-&gt;tag()) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 cannot be WebAssembly.JSTag&quot;</span>);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keyword">const</span> i::wasm::CanonicalSig* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">i::wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;          i::wasm::CanonicalTypeIndex{</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;              <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(tag_object-&gt;canonical_type_index())});</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;return_count() != 0) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="stringliteral">&quot;Invalid WebAssembly tag (return values not permitted in Exception &quot;</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="stringliteral">&quot;tag)&quot;</span>);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  }</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  uint32_t <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a77cc11472c760fe6c884a2b8b3247127">GetEncodedSize</a>(tag_object);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExceptionPackage&gt;</a> runtime_exception =</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a310dfde86feecf720c6a44124ab7dbca">i::WasmExceptionPackage::New</a>(i_isolate, tag, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="comment">// The constructor above should guarantee that the cast below succeeds.</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::FixedArray&gt;</a> values =</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      i::Cast&lt;i::FixedArray&gt;(<a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a92e3cf4344536855bbcc0c46ec31c269">i::WasmExceptionPackage::GetExceptionValues</a>(</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;          i_isolate, runtime_exception));</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::PodArray&lt;i::wasm::ValueType&gt;</a>&gt; signature(</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      tag_object-&gt;serialized_signature(), i_isolate);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0c59b1dfcb356042e275ff204f1127be">EncodeExceptionValues</a>(isolate, signature, tag_object, info[1], &amp;thrower,</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                             values)) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  }</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160; </div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="comment">// Third argument: optional ExceptionOption ({traceStack: &lt;bool&gt;}).</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keywordflow">if</span> (!info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">IsNullOrUndefined</a>() &amp;&amp; !info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 2 is not an object&quot;</span>);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">if</span> (info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> trace_stack_obj = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(info[2]);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> trace_stack_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;traceStack&quot;</span>);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;Value&gt;</a> trace_stack_value;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span> (!trace_stack_obj-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, trace_stack_key)</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;             .<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;trace_stack_value)) {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (trace_stack_value-&gt;BooleanValue(isolate)) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Handle.html">i::Handle&lt;i::Object&gt;</a> caller = <a class="code" href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">Utils::OpenHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#aa04f4c5c984db26a90b591f34550e6fa">NewTarget</a>());</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> capture_result;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1ErrorUtils.html#ae2e7c0a93577742e9ba4ff8c8fd14f18">i::ErrorUtils::CaptureStackTrace</a>(i_isolate, runtime_exception,</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                            <a class="code" href="namespacev8_1_1internal.html#a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b">i::SKIP_NONE</a>, caller)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;               .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;capture_result)) {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      }</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    }</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  }</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160; </div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      Utils::ToLocal(i::Cast&lt;i::Object&gt;(runtime_exception)));</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;}</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160; </div>
<div class="line"><a name="l02230"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a"> 2230</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a">NewPromisingWasmExportedFunction</a>(</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExportedFunctionData&gt;</a> data,</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    ErrorThrower&amp; thrower) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a> trusted_instance_data{</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      data-&gt;instance_data(), i_isolate};</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordtype">int</span> func_index = data-&gt;function_index();</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">i::wasm::WasmModule</a>* module = trusted_instance_data-&gt;module();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  i::wasm::ModuleTypeIndex sig_index = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[func_index].sig_index;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keyword">const</span> i::wasm::CanonicalSig* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">i::wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;          module-&gt;canonical_sig_id(sig_index));</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Code&gt;</a> wrapper;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">internal::wasm::IsJSCompatibleSignature</a>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="comment">// If the signature is incompatible with JS, the original export will have</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="comment">// compiled an incompatible signature wrapper, so just reuse that.</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    wrapper =</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Code&gt;</a>(data-&gt;wrapper_code(i_isolate), i_isolate);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    wrapper = <a class="code" href="builtins_8h.html#af33bd0f259d8e6a511fd018115e0d62c">BUILTIN_CODE</a>(i_isolate, WasmPromising);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// TODO(14034): Create funcref RTTs lazily?</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Map&gt;</a> rtt{</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      i::Cast&lt;i::Map&gt;(</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;          trusted_instance_data-&gt;managed_object_maps()-&gt;get(sig_index.index)),</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      i_isolate};</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160; </div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="keywordtype">int</span> num_imported_functions = module-&gt;num_imported_functions;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::TrustedObject&gt;</a> implicit_arg;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  constexpr <span class="keywordtype">bool</span> kShared = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="keywordflow">if</span> (func_index &gt;= num_imported_functions) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    implicit_arg = trusted_instance_data;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    implicit_arg = i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmImportData(</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(i::Cast&lt;i::WasmImportData&gt;(</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                          trusted_instance_data-&gt;dispatch_table_for_imports()</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                              -&gt;implicit_arg(func_index)),</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                      i_isolate),</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        kShared);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160; </div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmInternalFunction&gt;</a> <span class="keyword">internal</span> =</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmInternalFunction(</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;          implicit_arg, func_index, kShared,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;          trusted_instance_data-&gt;GetCallTarget(func_index));</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmFuncRef&gt;</a> func_ref =</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmFuncRef(<span class="keyword">internal</span>, rtt, kShared);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">if</span> (func_index &lt; num_imported_functions) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    i::Cast&lt;i::WasmImportData&gt;(implicit_arg)-&gt;set_call_origin(*<span class="keyword">internal</span>);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#ac6583fa41f78a2543566f9812e57146b">i::WasmExportedFunction::New</a>(</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      i_isolate, trusted_instance_data, func_ref, <span class="keyword">internal</span>,</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(data-&gt;sig()-&gt;parameter_count()), wrapper);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;}</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160; </div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">// WebAssembly.Function</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e"> 2288</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e">WebAssemblyFunction</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Function()&quot;</span>};</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Function must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function type&quot;</span>);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  }</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> function_type = <a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="comment">// Load the &#39;parameters&#39; property of the function type.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> parameters_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;parameters&quot;</span>);</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;v8::Value&gt;</a> parameters_maybe =</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      function_type-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, parameters_key);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> parameters_value;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">if</span> (!parameters_maybe.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;parameters_value) ||</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      !parameters_value-&gt;<a class="code" href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">IsObject</a>()) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function type with &#39;parameters&#39;&quot;</span>);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  }</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> parameters = parameters_value.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  uint32_t parameters_len = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, parameters);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordflow">if</span> (parameters_len == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains parameters without &#39;length&#39;&quot;</span>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">if</span> (parameters_len &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">i::wasm::kV8MaxWasmFunctionParams</a>) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains too many parameters&quot;</span>);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="comment">// Load the &#39;results&#39; property of the function type.</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> results_value;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="keywordflow">if</span> (!function_type-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;results&quot;</span>))</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;           .ToLocal(&amp;results_value)) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="keywordflow">if</span> (!results_value-&gt;<a class="code" href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">IsObject</a>()) {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function type with &#39;results&#39;&quot;</span>);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  }</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Object&gt;</a> results = results_value.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="classv8_1_1Object.html">Object</a>&gt;();</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  uint32_t results_len = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, results);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">if</span> (results_len == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains results without &#39;length&#39;&quot;</span>);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">if</span> (results_len &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab8ffecbb34efcc8e31d1c5b84241d1fd">i::wasm::kV8MaxWasmFunctionReturns</a>) {</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains too many results&quot;</span>);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  }</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="comment">// Decode the function type and construct a signature.</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Zone.html">i::Zone</a> zone(i_isolate-&gt;allocator(), <a class="code" href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a>);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  i::wasm::FunctionSig::Builder builder(&amp;zone, results_len, parameters_len);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; parameters_len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe = parameters-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;          <span class="stringliteral">&quot;Argument 0 parameter type at index #%u must be a value type&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    builder.AddParam(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  }</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; results_len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">MaybeLocal&lt;Value&gt;</a> maybe = results-&gt;<a class="code" href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">Get</a>(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;          <span class="stringliteral">&quot;Argument 0 result type at index #%u must be a value type&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    builder.AddReturn(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160; </div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">if</span> (!info[1]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be a function&quot;</span>);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  }</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = builder.Get();</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">i::wasm::Suspend</a> suspend = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">i::wasm::kNoSuspend</a>;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160; </div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> callable =</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[1].As&lt;Object&gt;());</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">if</span> (i::IsWasmSuspendingObject(*callable)) {</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    suspend = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd">i::wasm::kSuspend</a>;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    callable = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        i::Cast&lt;i::WasmSuspendingObject&gt;(*callable)-&gt;callable(), i_isolate);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i::IsCallable(*callable));</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!i::IsCallable(*callable)) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be a function&quot;</span>);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  }</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmJSFunction.html#a5f4776e0c31cabfacc5c5cfa6d1a6caa">i::WasmJSFunction::New</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, callable, suspend);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;}</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160; </div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;<span class="comment">// WebAssembly.promising(Function) -&gt; Function</span></div>
<div class="line"><a name="l02401"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6"> 2401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6">WebAssemblyPromising</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.promising()&quot;</span>};</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  i_isolate-&gt;CountUsage(<a class="code" href="classv8_1_1Isolate.html#aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041">v8::Isolate::kWasmJavaScriptPromiseIntegration</a>);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160; </div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsFunction()) {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function&quot;</span>);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> callable =</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[0].As&lt;Function&gt;());</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">i::WasmExportedFunction::IsWasmExportedFunction</a>(*callable)) {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly exported function&quot;</span>);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  }</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="keyword">auto</span> wasm_exported_function = i::Cast&lt;i::WasmExportedFunction&gt;(*callable);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExportedFunctionData&gt;</a> data(</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      wasm_exported_function-&gt;shared()-&gt;wasm_exported_function_data(),</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      i_isolate);</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="keywordflow">if</span> (data-&gt;instance_data()-&gt;module_object()-&gt;is_asm_js()) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly exported function&quot;</span>);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a">NewPromisingWasmExportedFunction</a>(i_isolate, data, thrower);</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160; </div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;<span class="comment">// WebAssembly.Suspending(Function) -&gt; Suspending</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad"> 2431</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad">WebAssemblySuspendingImpl</a>(</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Suspending()&quot;</span>};</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  i_isolate-&gt;CountUsage(<a class="code" href="classv8_1_1Isolate.html#aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041">v8::Isolate::kWasmJavaScriptPromiseIntegration</a>);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Suspending must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  }</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsFunction()) {</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function&quot;</span>);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  }</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> callable =</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[0].As&lt;Function&gt;());</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; </div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">i::WasmExportedFunction::IsWasmExportedFunction</a>(*callable) ||</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">i::WasmJSFunction::IsWasmJSFunction</a>(*callable)) {</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must not be a WebAssembly function&quot;</span>);</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  }</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmSuspendingObject&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmSuspendingObject.html#a07464f83ede52a8147f4d4bb36c4123d">i::WasmSuspendingObject::New</a>(i_isolate, callable);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;}</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160; </div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;<span class="comment">// WebAssembly.DescriptorOptions({options}) -&gt; DescriptorOptions</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d"> 2461</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d">WebAssemblyDescriptorOptionsImpl</a>(</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.DescriptorOptions()&quot;</span>};</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; </div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        <span class="stringliteral">&quot;WebAssembly.DescriptorOptions must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be an object&quot;</span>);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; </div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> options =</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*<a class="code" href="classv8_1_1Local.html">Local&lt;v8::Object&gt;::Cast</a>(info[0]));</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">i::JSReceiver::GetProperty</a>(i_isolate, options, <span class="stringliteral">&quot;prototype&quot;</span>)</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>)) {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">if</span> (!i::IsJSReceiver(*<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>)) {</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Prototype must be an object&quot;</span>);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  }</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmDescriptorOptions&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmDescriptorOptions.html#a3d09ffa2effb4501fd95e5fb947c9970">i::WasmDescriptorOptions::New</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;}</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160; </div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;<span class="comment">// WebAssembly.Function.prototype.type() -&gt; FunctionType</span></div>
<div class="line"><a name="l02493"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2"> 2493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2">WebAssemblyFunctionType</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Function.type()&quot;</span>};</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> fun = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">i::WasmExportedFunction::IsWasmExportedFunction</a>(*fun)) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keyword">auto</span> wasm_exported_function = i::Cast&lt;i::WasmExportedFunction&gt;(fun);</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">i::Tagged&lt;i::WasmExportedFunctionData&gt;</a> data =</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        wasm_exported_function-&gt;shared()-&gt;wasm_exported_function_data();</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="comment">// Note: while {zone} is only referenced directly in the if-block below,</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="comment">// its lifetime must exceed that of {sig}.</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="comment">// TODO(42210967): Creating a Zone just to create a modified copy of a</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// single signature is rather expensive. It would be good to find a more</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">// efficient approach, if this function is ever considered performance</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="comment">// relevant.</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Zone.html">i::Zone</a> zone(i_isolate-&gt;allocator(), <a class="code" href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a>);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        data-&gt;instance_data()-&gt;module()-&gt;functions[data-&gt;function_index()].sig;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460">i::wasm::Promise</a> promise_flags =</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        i::WasmFunctionData::PromiseField::decode(data-&gt;js_promise_flags());</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordflow">if</span> (promise_flags == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920">i::wasm::kPromise</a>) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;      <span class="comment">// The wrapper function returns a promise as an externref instead of the</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      <span class="comment">// original return type.</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      <span class="keywordtype">size_t</span> param_count = <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count();</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      i::wasm::FunctionSig::Builder builder(&amp;zone, 1, param_count);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; param_count; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        builder.AddParam(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;GetParam(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      builder.AddReturn(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">i::wasm::kWasmExternRef</a>);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = builder.Get();</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">i::wasm::GetTypeForFunction</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">i::WasmJSFunction::IsWasmJSFunction</a>(*fun)) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <span class="keyword">const</span> i::wasm::CanonicalSig* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = i::Cast&lt;i::WasmJSFunction&gt;(fun)</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                                           -&gt;shared()</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                                           -&gt;wasm_js_function_data()</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                                           -&gt;GetSignature();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="comment">// As long as WasmJSFunctions cannot use indexed types, their canonical</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="comment">// signatures are bit-compatible with module-specific signatures.</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordflow">for</span> (i::wasm::CanonicalValueType t : <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;all()) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!t.has_index());</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    static_assert(<span class="keyword">sizeof</span>(i::wasm::ValueType) ==</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                  <span class="keyword">sizeof</span>(i::wasm::CanonicalValueType));</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">i::wasm::GetTypeForFunction</a>(</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        i_isolate, <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>));</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Receiver must be a WebAssembly.Function&quot;</span>);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  }</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160; </div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;}</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160; </div>
<div class="line"><a name="l02551"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af398e8b74dcf07c921819d41525529d3"> 2551</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af398e8b74dcf07c921819d41525529d3">kName_WasmGlobalObject</a> = <span class="stringliteral">&quot;WebAssembly.Global&quot;</span>;</div>
<div class="line"><a name="l02552"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8cd6b449f31123f7fe548313c558da37"> 2552</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8cd6b449f31123f7fe548313c558da37">kName_WasmMemoryObject</a> = <span class="stringliteral">&quot;WebAssembly.Memory&quot;</span>;</div>
<div class="line"><a name="l02553"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95401e7d95c8bb9ab309cb3875c9a403"> 2553</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95401e7d95c8bb9ab309cb3875c9a403">kName_WasmMemoryMapDescriptor</a> =</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor&quot;</span>;</div>
<div class="line"><a name="l02555"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acbe81b55a2dd9d5e4d981542f50b4f98"> 2555</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acbe81b55a2dd9d5e4d981542f50b4f98">kName_WasmInstanceObject</a> = <span class="stringliteral">&quot;WebAssembly.Instance&quot;</span>;</div>
<div class="line"><a name="l02556"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2fe24af2c267a2334b39850944e39549"> 2556</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2fe24af2c267a2334b39850944e39549">kName_WasmTableObject</a> = <span class="stringliteral">&quot;WebAssembly.Table&quot;</span>;</div>
<div class="line"><a name="l02557"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a1dac09354501498a47e41e530f2b77f3"> 2557</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a1dac09354501498a47e41e530f2b77f3">kName_WasmTagObject</a> = <span class="stringliteral">&quot;WebAssembly.Tag&quot;</span>;</div>
<div class="line"><a name="l02558"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a12bb9a1d5a119f47fd37d71d197381a9"> 2558</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a12bb9a1d5a119f47fd37d71d197381a9">kName_WasmExceptionPackage</a> = <span class="stringliteral">&quot;WebAssembly.Exception&quot;</span>;</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160; </div>
<div class="line"><a name="l02560"></a><span class="lineno"><a class="line" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f"> 2560</a></span>&#160;<span class="preprocessor">#define EXTRACT_THIS(var, WasmType)                                \</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;<span class="preprocessor">  i::DirectHandle&lt;i::WasmType&gt; var;                                \</span></div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="preprocessor">  {                                                                \</span></div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;<span class="preprocessor">    i::DirectHandle&lt;i::Object&gt; this_arg =                          \</span></div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;<span class="preprocessor">        Utils::OpenDirectHandle(*info.This());                     \</span></div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;<span class="preprocessor">    if (!Is##WasmType(*this_arg)) {                                \</span></div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;<span class="preprocessor">      thrower.TypeError(&quot;Receiver is not a %s&quot;</span>, kName_##WasmType); \</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;      return;                                                      \</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    }                                                              \</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    var = i::Cast&lt;i::WasmType&gt;(this_arg);                          \</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  }</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160; </div>
<div class="line"><a name="l02572"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a772092d5f5db10950319b4c21c8286b9"> 2572</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a772092d5f5db10950319b4c21c8286b9">WebAssemblyInstanceGetExportsImpl</a>(</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Instance.exports()&quot;</span>};</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmInstanceObject);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> exports_object(receiver-&gt;exports_object(),</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;                                              i_isolate);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(exports_object));</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;}</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160; </div>
<div class="line"><a name="l02583"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad80f78a54c70dfcb6788270747bf1aff"> 2583</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad80f78a54c70dfcb6788270747bf1aff">WebAssemblyTableGetLengthImpl</a>(</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.length()&quot;</span>};</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmTableObject);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160; </div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = receiver-&gt;current_length();</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(isolate, receiver-&gt;address_type(), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;}</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;<span class="comment">// WebAssembly.Table.grow(num, init_value = null) -&gt; num</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a33eae2ff47c44aadd35fd800fa9daf40"> 2596</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a33eae2ff47c44aadd35fd800fa9daf40">WebAssemblyTableGrowImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.grow()&quot;</span>};</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmTableObject);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160; </div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  std::optional&lt;uint64_t&gt; maybe_grow_by = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, receiver-&gt;address_type());</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span> (!maybe_grow_by) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  uint64_t grow_by = *maybe_grow_by;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> init_value;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    init_value = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[1]);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">i::WasmTableObject::JSToWasmElement</a>(i_isolate, receiver, init_value,</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                                             &amp;error_message)</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;init_value)) {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Argument 1 is invalid: %s&quot;</span>, error_message);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    }</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (receiver-&gt;unsafe_type().is_non_nullable()) {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="stringliteral">&quot;Argument 1 must be specified for non-nullable element type&quot;</span>);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    init_value = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, receiver-&gt;unsafe_type());</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  }</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">i::wasm::kV8MaxWasmTableSize</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordtype">int</span> old_size = grow_by &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">i::wasm::max_table_size</a>()</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                     ? -1</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                     : <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">i::WasmTableObject::Grow</a>(i_isolate, receiver,</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                                                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(grow_by),</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                                                init_value);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">if</span> (old_size &lt; 0) {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;failed to grow table by %&quot;</span> PRIu64, grow_by);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(isolate, receiver-&gt;address_type(), old_size));</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;}</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160; </div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02641"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4"> 2641</a></span>&#160;<a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a>&amp; return_value, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>,</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* isolate, ErrorThrower* thrower) {</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.heap_type().representation()) {</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa9ae3ff6d40e4ac963dbe392d083e73bb">internal::wasm::HeapType::kStringViewWtf8</a>:</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;      thrower-&gt;TypeError(<span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;stringview_wtf8 has no JS representation&quot;</span>);</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa9c79438cff5460b1bbe855546a90f95b">internal::wasm::HeapType::kStringViewWtf16</a>:</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;      thrower-&gt;TypeError(<span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;stringview_wtf16 has no JS representation&quot;</span>);</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa320906bfc64211b7edc96b87e7bb0b1f">internal::wasm::HeapType::kStringViewIter</a>:</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;      thrower-&gt;TypeError(<span class="stringliteral">&quot;%s&quot;</span>, <span class="stringliteral">&quot;stringview_iter has no JS representation&quot;</span>);</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa446676998f26658060f286eeef6669df">internal::wasm::HeapType::kExn</a>:</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa529e9f3c6770fd6ad2816bde1bd1b850">internal::wasm::HeapType::kNoExn</a>:</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fab9ec01b11894d2e81d42dc19629e0d3d">internal::wasm::HeapType::kCont</a>:</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa95dbdc9ef58bd0036eb0d473fa446447">internal::wasm::HeapType::kNoCont</a>:</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      thrower-&gt;TypeError(<span class="stringliteral">&quot;invalid type %s&quot;</span>, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.name().c_str());</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#af0e8eb22038f6f652121cb71d71ff62b">i::wasm::WasmToJSObject</a>(isolate, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)));</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  }</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;}</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160; </div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;<span class="comment">// WebAssembly.Table.get(num) -&gt; any</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#abd5d211a75f47e5711a1a1c31b365848"> 2668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#abd5d211a75f47e5711a1a1c31b365848">WebAssemblyTableGetImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.get()&quot;</span>};</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmTableObject);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160; </div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  std::optional&lt;uint64_t&gt; maybe_address = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, receiver-&gt;address_type());</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="keywordflow">if</span> (!maybe_address) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  uint64_t address = *maybe_address;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160; </div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="keywordflow">if</span> (address &gt; <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a> ||</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      !receiver-&gt;is_in_bounds(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address))) {</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;invalid address %&quot;</span> PRIu64 <span class="stringliteral">&quot; in %s table of size %d&quot;</span>,</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                       address, receiver-&gt;unsafe_type().name().c_str(),</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;                       receiver-&gt;current_length());</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160; </div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aa5e3c6d5c308301194a5fd89e6dd9e59">i::WasmTableObject::Get</a>(</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;      i_isolate, receiver, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address));</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160; </div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(return_value, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, receiver-&gt;unsafe_type(),</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;                                 i_isolate, &amp;thrower)) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; </div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="comment">// WebAssembly.Table.set(num, any)</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a93e08326b017c12ec308795bc251bf91"> 2698</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a93e08326b017c12ec308795bc251bf91">WebAssemblyTableSetImpl</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.set()&quot;</span>};</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(table_object, WasmTableObject);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  std::optional&lt;uint64_t&gt; maybe_address = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, table_object-&gt;address_type());</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  <span class="keywordflow">if</span> (!maybe_address) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  uint64_t address = *maybe_address;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="keywordflow">if</span> (address &gt; <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a> ||</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      !table_object-&gt;is_in_bounds(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address))) {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;invalid address %&quot;</span> PRIu64 <span class="stringliteral">&quot; in %s table of size %d&quot;</span>,</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                       address, table_object-&gt;unsafe_type().name().c_str(),</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;                       table_object-&gt;current_length());</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> element;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2) {</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    element = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[1]);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">i::WasmTableObject::JSToWasmElement</a>(i_isolate, table_object, element,</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                                             &amp;error_message)</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;element)) {</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Argument 1 is invalid for table: %s&quot;</span>, error_message);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    }</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (table_object-&gt;unsafe_type().is_defaultable()) {</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    element = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, table_object-&gt;unsafe_type());</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Table of non-defaultable type %s needs explicit element&quot;</span>,</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                      table_object-&gt;unsafe_type().name().c_str());</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  }</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">i::WasmTableObject::Set</a>(i_isolate, table_object,</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;                          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address), element);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;}</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;<span class="comment">// WebAssembly.Table.type() -&gt; TableType</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502"> 2740</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502">WebAssemblyTableType</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.type()&quot;</span>};</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(table, WasmTableObject);</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  std::optional&lt;uint64_t&gt; max_size = table-&gt;maximum_length_u64();</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a0213728ccf8cd499ba36ff1be97269ba">i::wasm::GetTypeForTable</a>(i_isolate, table-&gt;unsafe_type(),</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                                       table-&gt;current_length(), max_size,</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                                       table-&gt;address_type());</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;}</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;<span class="comment">// WebAssembly.MemoryMapDescriptor.map()</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad88a20b7927c5f3bb502562c3fe13a9e"> 2752</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad88a20b7927c5f3bb502562c3fe13a9e">WebAssemblyMemoryMapDescriptorMapImpl</a>(</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor.map()&quot;</span>};</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, <a class="code" href="classv8_1_1WasmMemoryMapDescriptor.html">WasmMemoryMapDescriptor</a>);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160; </div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmMemoryObject&gt;</a> memory;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> memory_param = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[0]);</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordflow">if</span> (!i::IsWasmMemoryObject(*memory_param)) {</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Parameter is not a WebAssembly.Memory&quot;</span>);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    memory = i::Cast&lt;i::WasmMemoryObject&gt;(memory_param);</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  }</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160; </div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  std::optional&lt;uint32_t&gt; offset =</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<span class="stringliteral">&quot;Argument 1&quot;</span>, info[1], context, &amp;thrower);</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="keywordflow">if</span> (!offset.has_value()) {</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="keywordtype">size_t</span> mapped_size = receiver-&gt;MapDescriptor(memory, offset.value());</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="keywordflow">if</span> (!mapped_size) {</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    thrower.RuntimeError(</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        <span class="stringliteral">&quot;Failed to map the MemoryMapDescriptor to WebAssembly memory.&quot;</span>);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  }</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  receiver-&gt;set_memory(<a class="code" href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">MakeWeak</a>(*memory));</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  receiver-&gt;set_offset(offset.value());</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  receiver-&gt;set_size(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mapped_size));</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(mapped_size));</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;}</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160; </div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;<span class="comment">// WebAssembly.MemoryMapDescriptor.unmap()</span></div>
<div class="line"><a name="l02788"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab146c4d87439fed3d5e3d2b4b208001d"> 2788</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab146c4d87439fed3d5e3d2b4b208001d">WebAssemblyMemoryMapDescriptorUnmapImpl</a>(</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor.unmap()&quot;</span>};</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, <a class="code" href="classv8_1_1WasmMemoryMapDescriptor.html">WasmMemoryMapDescriptor</a>);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordflow">if</span> (!receiver-&gt;UnmapDescriptor()) {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Failed to unmap the MemoryMapDescriptor.&quot;</span>);</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;}</div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160; </div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;<span class="comment">// WebAssembly.Memory.grow(num) -&gt; num</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23cbc8313cd6650a88a426e842eedf4"> 2802</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23cbc8313cd6650a88a426e842eedf4">WebAssemblyMemoryGrowImpl</a>(</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.grow()&quot;</span>};</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, <a class="code" href="classv8_1_1WasmMemoryObject.html">WasmMemoryObject</a>);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  std::optional&lt;uint64_t&gt; maybe_delta_pages = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, receiver-&gt;address_type());</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">if</span> (!maybe_delta_pages) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  uint64_t delta_pages = *maybe_delta_pages;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> old_buffer(receiver-&gt;array_buffer(),</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                                               i_isolate);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160; </div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  uint64_t old_pages = old_buffer-&gt;GetByteLength() / <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03.html#a8b6719b9c44c92c16a29ade2e66e3314">i::wasm::kWasmPageSize</a>;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  uint64_t max_pages = receiver-&gt;maximum_pages();</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="keywordflow">if</span> (delta_pages &gt; max_pages - old_pages) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Maximum memory size exceeded&quot;</span>);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a58280911560a19ed11d754bee507198e">i::wasm::kV8MaxWasmMemory64Pages</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> ret = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">i::WasmMemoryObject::Grow</a>(i_isolate, receiver,</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                                          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(delta_pages));</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keywordflow">if</span> (ret == -1) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Unable to grow instance memory&quot;</span>);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  }</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(isolate, receiver-&gt;address_type(), ret));</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;}</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160; </div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="comment">// WebAssembly.Memory.buffer -&gt; ArrayBuffer</span></div>
<div class="line"><a name="l02837"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a335ab82e09665d4075f3f17d8bde25c5"> 2837</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a335ab82e09665d4075f3f17d8bde25c5">WebAssemblyMemoryGetBufferImpl</a>(</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.buffer&quot;</span>};</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, <a class="code" href="classv8_1_1WasmMemoryObject.html">WasmMemoryObject</a>);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> buffer_obj(receiver-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsJSArrayBuffer(*buffer_obj));</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      i::Cast&lt;i::JSArrayBuffer&gt;(*buffer_obj), i_isolate);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <span class="comment">// TODO(gdeepti): More needed here for when cached buffer, and current</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="comment">// buffer are out of sync, handle that here when bounds checks, and Grow</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="comment">// are handled correctly.</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    }</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  }</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;}</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160; </div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="comment">// WebAssembly.Memory.toFixedLengthBuffer() -&gt; ArrayBuffer</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95b8b79845e1cbc4f3d5f803d8ad7364"> 2863</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95b8b79845e1cbc4f3d5f803d8ad7364">WebAssemblyMemoryToFixedLengthBufferImpl</a>(</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.toFixedLengthBuffer()&quot;</span>};</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, <a class="code" href="classv8_1_1WasmMemoryObject.html">WasmMemoryObject</a>);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160; </div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> buffer_obj(receiver-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsJSArrayBuffer(*buffer_obj));</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;      i::Cast&lt;i::JSArrayBuffer&gt;(*buffer_obj), i_isolate);</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    buffer = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a11123e674ed260e849a726396a6b1f3c">i::WasmMemoryObject::ToFixedLengthBuffer</a>(i_isolate, receiver);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  }</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    }</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  }</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;}</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160; </div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;<span class="comment">// WebAssembly.Memory.toResizableBuffer() -&gt; ArrayBuffer</span></div>
<div class="line"><a name="l02890"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acd85f9674aa494e9069e26cd8c5b10ae"> 2890</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acd85f9674aa494e9069e26cd8c5b10ae">WebAssemblyMemoryToResizableBufferImpl</a>(</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.toResizableBuffer()&quot;</span>};</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, <a class="code" href="classv8_1_1WasmMemoryObject.html">WasmMemoryObject</a>);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> buffer_obj(receiver-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsJSArrayBuffer(*buffer_obj));</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      i::Cast&lt;i::JSArrayBuffer&gt;(*buffer_obj), i_isolate);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordflow">if</span> (!buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="keywordflow">if</span> (!receiver-&gt;has_maximum_pages()) {</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Memory must have a maximum&quot;</span>);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    buffer = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a32101d7a077535dadf31d9373ec3a6f2">i::WasmMemoryObject::ToResizableBuffer</a>(i_isolate, receiver);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  }</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="classv8_1_1Maybe.html">Maybe&lt;bool&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    }</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;}</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160; </div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;<span class="comment">// WebAssembly.Memory.type() -&gt; MemoryType</span></div>
<div class="line"><a name="l02921"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01"> 2921</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01">WebAssemblyMemoryType</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.type()&quot;</span>};</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(memory, <a class="code" href="classv8_1_1WasmMemoryObject.html">WasmMemoryObject</a>);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160; </div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(memory-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="keywordtype">size_t</span> curr_size = buffer-&gt;GetByteLength() / <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03.html#a8b6719b9c44c92c16a29ade2e66e3314">i::wasm::kWasmPageSize</a>;</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(curr_size, std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  uint32_t min_size = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(curr_size);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  std::optional&lt;uint32_t&gt; max_size;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordflow">if</span> (memory-&gt;has_maximum_pages()) {</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    uint64_t max_size64 = memory-&gt;maximum_pages();</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(max_size64, std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    max_size.emplace(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(max_size64));</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  }</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordtype">bool</span> shared = buffer-&gt;is_shared();</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2f81a58ed7769a3d69bf42c16ec09efb">i::wasm::GetTypeForMemory</a>(i_isolate, min_size, max_size, shared,</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                                        memory-&gt;address_type());</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;}</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160; </div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="comment">// WebAssembly.Tag.type() -&gt; FunctionType</span></div>
<div class="line"><a name="l02943"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a"> 2943</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a">WebAssemblyTagType</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Tag.type()&quot;</span>};</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(tag, WasmTagObject);</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160; </div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  <span class="keywordtype">int</span> n = tag-&gt;serialized_signature()-&gt;length();</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  std::vector&lt;i::wasm::ValueType&gt; data(n);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  <span class="keywordflow">if</span> (n &gt; 0) {</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    tag-&gt;serialized_signature()-&gt;copy_out(0, data.data(), n);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a> <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>{0, data.size(), data.data()};</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  constexpr <span class="keywordtype">bool</span> kForException = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">i::wasm::GetTypeForFunction</a>(i_isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, kForException);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;}</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160; </div>
<div class="line"><a name="l02959"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a89952a68736479a3740810e5651682ee"> 2959</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a89952a68736479a3740810e5651682ee">WebAssemblyExceptionGetArgImpl</a>(</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Exception.getArg()&quot;</span>};</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(exception, WasmExceptionPackage);</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160; </div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTagObject&gt;</a> tag_object;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsTag(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;tag_object)) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  std::optional&lt;uint32_t&gt; maybe_index =</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<span class="stringliteral">&quot;Index&quot;</span>, info[1], context, &amp;thrower);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">if</span> (!maybe_index) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = *maybe_index;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <span class="keyword">auto</span> maybe_values =</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a92e3cf4344536855bbcc0c46ec31c269">i::WasmExceptionPackage::GetExceptionValues</a>(i_isolate, exception);</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160; </div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="keyword">auto</span> this_tag =</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aff0527791499aaefa3d40b6b010470ca">i::WasmExceptionPackage::GetExceptionTag</a>(i_isolate, exception);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmExceptionTag(*this_tag));</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="keywordflow">if</span> (tag_object-&gt;tag() != *this_tag) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;First argument does not match the exception tag&quot;</span>);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  }</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsUndefined(*maybe_values));</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keyword">auto</span> values = i::Cast&lt;i::FixedArray&gt;(maybe_values);</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keyword">auto</span> signature = tag_object-&gt;serialized_signature();</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(signature-&gt;length())) {</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Index out of range&quot;</span>);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  }</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="comment">// First, find the index in the values array.</span></div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  uint32_t decode_index = 0;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <span class="comment">// Since the bounds check above passed, the cast to int is safe.</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; i &lt; static_cast&lt;int&gt;(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">switch</span> (signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>).kind()) {</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI32:</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF32:</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        decode_index += 2;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI64:</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF64:</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        decode_index += 4;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      <span class="keywordflow">case</span> i::wasm::kRefNull:</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        decode_index++;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;      <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        decode_index += 8;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;      <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;      <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    }</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  }</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  <span class="comment">// Decode the value at {decode_index}.</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <span class="keywordflow">switch</span> (signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).kind()) {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      uint32_t u32_bits = 0;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">i::DecodeI32ExceptionValue</a>(values, &amp;decode_index, &amp;u32_bits);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32 = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(u32_bits);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a>(isolate, i32);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    }</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      uint64_t u64_bits = 0;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">i::DecodeI64ExceptionValue</a>(values, &amp;decode_index, &amp;u64_bits);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;      int64_t i64 = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(u64_bits);</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1BigInt.html#a4682f096ed12241365225df82209349d">v8::BigInt::New</a>(isolate, i64);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    }</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;      uint32_t f32_bits = 0;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">DecodeI32ExceptionValue</a>(values, &amp;decode_index, &amp;f32_bits);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordtype">float</span> f32 = base::bit_cast&lt;float&gt;(f32_bits);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, f32);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    }</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;      uint64_t f64_bits = 0;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">DecodeI64ExceptionValue</a>(values, &amp;decode_index, &amp;f64_bits);</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      <span class="keywordtype">double</span> f64 = base::bit_cast&lt;double&gt;(f64_bits);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, f64);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    }</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> obj(values-&gt;get(decode_index), i_isolate);</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      <a class="code" href="classv8_1_1ReturnValue.html">ReturnValue&lt;Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(return_value, obj, signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>),</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                                     i_isolate, &amp;thrower)) {</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      }</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Invalid type v128&quot;</span>);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;}</div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160; </div>
<div class="line"><a name="l03076"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0b20f4d4fbe2dc1a4bfb89b8daeba0bf"> 3076</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0b20f4d4fbe2dc1a4bfb89b8daeba0bf">WebAssemblyExceptionIsImpl</a>(</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Exception.is()&quot;</span>};</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(exception, WasmExceptionPackage);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160; </div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  <span class="keyword">auto</span> tag = <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aff0527791499aaefa3d40b6b010470ca">i::WasmExceptionPackage::GetExceptionTag</a>(i_isolate, exception);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmExceptionTag(*tag));</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160; </div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTagObject&gt;</a> tag_object;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsTag(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;tag_object)) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  }</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(tag_object-&gt;tag() == *tag);</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;}</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160; </div>
<div class="line"><a name="l03092"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced"> 3092</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">WebAssemblyGlobalGetValueCommon</a>(WasmJSApiScope&amp; js_api_scope) {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  <span class="keyword">auto</span>&amp; info = js_api_scope.callback_info();  <span class="comment">// Needed by EXTRACT_THIS.</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmGlobalObject);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160; </div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.GetReturnValue();</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160; </div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  <span class="keywordflow">switch</span> (receiver-&gt;type().kind()) {</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32:</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(receiver-&gt;GetI32());</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;BigInt&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1BigInt.html#a4682f096ed12241365225df82209349d">BigInt::New</a>(isolate, receiver-&gt;GetI64());</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    }</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32:</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(receiver-&gt;GetF32());</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64:</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(receiver-&gt;GetF64());</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Can&#39;t get the value of s128 WebAssembly.Global&quot;</span>);</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull:</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(return_value, receiver-&gt;GetRef(),</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;                                     receiver-&gt;type(), i_isolate, &amp;thrower)) {</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  }</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;}</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160; </div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;<span class="comment">// WebAssembly.Global.valueOf() -&gt; num</span></div>
<div class="line"><a name="l03135"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab6dba74128ea0189c1e064841b7470be"> 3135</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab6dba74128ea0189c1e064841b7470be">WebAssemblyGlobalValueOfImpl</a>(</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Global.valueOf()&quot;</span>};</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">WebAssemblyGlobalGetValueCommon</a>(js_api_scope);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;}</div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160; </div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;<span class="comment">// get WebAssembly.Global.value -&gt; num</span></div>
<div class="line"><a name="l03142"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aace3f8d67a6c83e6147a786d0d155b04"> 3142</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aace3f8d67a6c83e6147a786d0d155b04">WebAssemblyGlobalGetValueImpl</a>(</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;get WebAssembly.Global.value)&quot;</span>};</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">WebAssemblyGlobalGetValueCommon</a>(js_api_scope);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;}</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160; </div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;<span class="comment">// set WebAssembly.Global.value(num)</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0445641ba7db42f32e5fc96d543b9bfb"> 3149</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0445641ba7db42f32e5fc96d543b9bfb">WebAssemblyGlobalSetValueImpl</a>(</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;set WebAssembly.Global.value)&quot;</span>};</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmGlobalObject);</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160; </div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="keywordflow">if</span> (!receiver-&gt;is_mutable()) {</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Can&#39;t set the value of an immutable global.&quot;</span>);</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  }</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 0) {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 is required&quot;</span>);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160; </div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Context&gt;</a> context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="keywordflow">switch</span> (receiver-&gt;type().kind()) {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32_value = 0;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;Int32Value(context).To(&amp;i32_value)) {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      }</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      receiver-&gt;SetI32(i32_value);</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    }</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::BigInt&gt;</a> bigint_value;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;ToBigInt(context).ToLocal(&amp;bigint_value)) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      receiver-&gt;SetI64(bigint_value-&gt;Int64Value());</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    }</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;NumberValue(context).To(&amp;f64_value)) {</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      receiver-&gt;SetF32(<a class="code" href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">i::DoubleToFloat32</a>(f64_value));</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;NumberValue(context).To(&amp;f64_value)) {</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      }</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      receiver-&gt;SetF64(f64_value);</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    }</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Can&#39;t set the value of s128 WebAssembly.Global&quot;</span>);</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">i::wasm::WasmModule</a>* module =</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;          receiver-&gt;has_trusted_data()</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;              ? receiver-&gt;trusted_data(i_isolate)-&gt;module()</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;              : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">Utils::OpenDirectHandle</a>(*info[0]);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">i::wasm::JSToWasmObject</a>(i_isolate, module, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, receiver-&gt;type(),</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                                   &amp;error_message)</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;               .ToHandle(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;%s&quot;</span>, error_message);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;      }</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      receiver-&gt;SetRef(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    }</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  }</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;}</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160; </div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="comment">// WebAssembly.Global.type() -&gt; GlobalType</span></div>
<div class="line"><a name="l03229"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4"> 3229</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4">WebAssemblyGlobalType</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Global.type())&quot;</span>};</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(global, WasmGlobalObject);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afe11571576d76cdcedb330d88b18f253">i::wasm::GetTypeForGlobal</a>(i_isolate, global-&gt;is_mutable(),</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                        global-&gt;type());</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;}</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160; </div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160; </div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacewasm.html">wasm</a> {</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160; </div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="comment">// Define the callbacks in v8::internal::wasm namespace. The implementation is</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="comment">// in v8::internal directly.</span></div>
<div class="line"><a name="l03246"></a><span class="lineno"><a class="line" href="wasm-js_8cc.html#a4ca71bdd5d82fe82fae98cf2f832ae05"> 3246</a></span>&#160;<span class="preprocessor">#define DEF_WASM_JS_EXTERNAL_REFERENCE(Name)                   \</span></div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="preprocessor">  void Name(const v8::FunctionCallbackInfo&lt;v8::Value&gt;&amp; info) { \</span></div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;<span class="preprocessor">    Name##Impl(info);                                          \</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="preprocessor">  }</span></div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;<a class="code" href="wasm-js_8h.html#a573133bb46729b64ef29a8dc2c1a6b90">WASM_JS_EXTERNAL_REFERENCE_LIST</a>(<a class="code" href="wasm-js_8cc.html#a4ca71bdd5d82fe82fae98cf2f832ae05">DEF_WASM_JS_EXTERNAL_REFERENCE</a>)</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="preprocessor">#undef DEF_WASM_JS_EXTERNAL_REFERENCE</span></div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160; </div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;}  <span class="comment">// namespace wasm</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160; </div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;<span class="comment">// TODO(titzer): we use the API to create the function template because the</span></div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;<span class="comment">// internal guts are too ugly to replicate here.</span></div>
<div class="line"><a name="l03258"></a><span class="lineno"><a class="line" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173"> 3258</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::FunctionTemplateInfo&gt;</a> <a class="code" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">NewFunctionTemplate</a>(</div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate, <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keywordtype">bool</span> has_prototype,</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cb">SideEffectType</a> side_effect_type = <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>) {</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">Isolate</a>*<span class="keyword">&gt;</span>(i_isolate);</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecc">ConstructorBehavior</a> behavior =</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      has_prototype ? <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94">ConstructorBehavior::kAllow</a> : <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d">ConstructorBehavior::kThrow</a>;</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;FunctionTemplate&gt;</a> templ = <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;      isolate, func, {}, {}, 0, behavior, side_effect_type);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  <span class="keywordflow">if</span> (has_prototype) templ-&gt;ReadOnlyPrototype();</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">v8::Utils::OpenDirectHandle</a>(*templ);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;}</div>
<div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160; </div>
<div class="line"><a name="l03270"></a><span class="lineno"><a class="line" href="namespacev8.html#acf58e42b5739eaf07a13c6c8179f0191"> 3270</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::ObjectTemplateInfo&gt;</a> <a class="code" href="namespacev8.html#acf58e42b5739eaf07a13c6c8179f0191">NewObjectTemplate</a>(</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>* i_isolate) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">Isolate</a>*<span class="keyword">&gt;</span>(i_isolate);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> templ = <a class="code" href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">ObjectTemplate::New</a>(isolate);</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">v8::Utils::OpenDirectHandle</a>(*templ);</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;}</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160; </div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l03278"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html"> 3278</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160; </div>
<div class="line"><a name="l03280"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7"> 3280</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func,</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="keywordtype">bool</span> has_prototype,</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cb">SideEffectType</a> side_effect_type = <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>,</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FunctionTemplateInfo&gt;</a> parent = {}) {</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FunctionTemplateInfo&gt;</a> temp =</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;      <a class="code" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">NewFunctionTemplate</a>(isolate, func, has_prototype, side_effect_type);</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160; </div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;  <span class="keywordflow">if</span> (!parent.is_null()) {</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(has_prototype);</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    FunctionTemplateInfo::SetParentTemplate(isolate, temp, parent);</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;  }</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160; </div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;  DirectHandle&lt;JSFunction&gt; <span class="keyword">function</span> =</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02api-natives_8cc_03.html#afcc5e46fee1544ea7b7eadd8df4f0082">ApiNatives::InstantiateFunction</a>(isolate, temp, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>).ToHandleChecked();</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(function-&gt;shared()-&gt;HasSharedName());</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">function</span>;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;}</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160; </div>
<div class="line"><a name="l03299"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5e61d80771d71e63951123de7129ec3e"> 3299</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keywordtype">bool</span> has_prototype = <span class="keyword">false</span>,</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attributes = <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cb">SideEffectType</a> side_effect_type = <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>) {</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> <span class="keyword">function</span> =</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, func, has_prototype, side_effect_type);</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;  <span class="keyword">function</span>-&gt;shared()-&gt;set_length(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!JSObject::HasRealNamedProperty(isolate, <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>).FromMaybe(<span class="keyword">true</span>));</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(object-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  JSObject::AddProperty(isolate, <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keyword">function</span>, attributes);</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">function</span>;</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;}</div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160; </div>
<div class="line"><a name="l03313"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6"> 3313</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>, <span class="keyword">const</span> <span class="keywordtype">char</span>* str,</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keywordtype">bool</span> has_prototype = <span class="keyword">false</span>,</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> attributes = <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;    <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cb">SideEffectType</a> side_effect_type = <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>) {</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, str);</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, func, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, has_prototype,</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                     attributes, side_effect_type);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;}</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160; </div>
<div class="line"><a name="l03323"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757"> 3323</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;                                                <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;                                                <span class="keyword">const</span> <span class="keywordtype">char</span>* str,</div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;                                                <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func) {</div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, <span class="keywordtype">object</span>, str, func, 1, <span class="keyword">true</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>,</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;                     <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;}</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160; </div>
<div class="line"><a name="l03331"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad98d22ed5a25c35538a021b35e5c63f5"> 3331</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad98d22ed5a25c35538a021b35e5c63f5">GetterName</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;  <span class="keywordflow">return</span> Name::ToFunctionName(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;get_string())</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;      .ToHandleChecked();</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;}</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160; </div>
<div class="line"><a name="l03336"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd"> 3336</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">char</span>* str, <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func) {</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, str);</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> <span class="keyword">function</span> =</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad98d22ed5a25c35538a021b35e5c63f5">GetterName</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), func, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                 <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160; </div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  Utils::ToLocal(<span class="keywordtype">object</span>)-&gt;SetAccessorProperty(Utils::ToLocal(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>),</div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                                              Utils::ToLocal(<span class="keyword">function</span>),</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;                                              <a class="code" href="classv8_1_1Local.html">Local&lt;Function&gt;</a>(), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">v8::None</a>);</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;}</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160; </div>
<div class="line"><a name="l03348"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a660b6e4d5b21cb55454dc36200a7f6a6"> 3348</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a660b6e4d5b21cb55454dc36200a7f6a6">SetterName</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;  <span class="keywordflow">return</span> Name::ToFunctionName(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;set_string())</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;      .ToHandleChecked();</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;}</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160; </div>
<div class="line"><a name="l03353"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6cbbe7d60ce5aa0c6ce129e691faece7"> 3353</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6cbbe7d60ce5aa0c6ce129e691faece7">InstallGetterSetter</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;                         <span class="keyword">const</span> <span class="keywordtype">char</span>* str, <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> getter,</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;                         <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> <a class="code" href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">setter</a>) {</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, str);</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> getter_func =</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad98d22ed5a25c35538a021b35e5c63f5">GetterName</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), getter, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;                 <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> setter_func =</div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a660b6e4d5b21cb55454dc36200a7f6a6">SetterName</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), <a class="code" href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">setter</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  setter_func-&gt;shared()-&gt;set_length(1);</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160; </div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;  Utils::ToLocal(<span class="keywordtype">object</span>)-&gt;SetAccessorProperty(</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      Utils::ToLocal(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), Utils::ToLocal(getter_func),</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;      Utils::ToLocal(setter_func), <a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">v8::None</a>);</div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;}</div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160; </div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;<span class="comment">// Assigns a dummy instance template to the given constructor function. Used to</span></div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;<span class="comment">// make sure the implicit receivers for the constructors in this file have an</span></div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;<span class="comment">// instance type different from the internal one, they allocate the resulting</span></div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;<span class="comment">// object explicitly and ignore implicit receiver.</span></div>
<div class="line"><a name="l03373"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f"> 3373</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">SetDummyInstanceTemplate</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> fun) {</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;ObjectTemplateInfo&gt;</a> instance_template =</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;      <a class="code" href="namespacev8.html#acf58e42b5739eaf07a13c6c8179f0191">NewObjectTemplate</a>(isolate);</div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  FunctionTemplateInfo::SetInstanceTemplate(</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;      isolate, <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(fun-&gt;shared()-&gt;api_func_data(), isolate),</div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;      instance_template);</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;}</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160; </div>
<div class="line"><a name="l03381"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc"> 3381</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> constructor,</div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;                                        <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type,</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;                                        <span class="keywordtype">int</span> instance_size,</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                                        <span class="keywordtype">int</span> in_object_properties = 0) {</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">SetDummyInstanceTemplate</a>(isolate, constructor);</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;  JSFunction::EnsureHasInitialMap(isolate, constructor);</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> proto(</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;      Cast&lt;JSObject&gt;(constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> map = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a4b252a0366739cd2612e0a11b54827b9">NewContextfulMap</a>(</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;      constructor, instance_type, instance_size, <a class="code" href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cabe08801c504e24eba74657d920a18f30">TERMINAL_FAST_ELEMENTS_KIND</a>,</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;      in_object_properties);</div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  JSFunction::SetInitialMap(isolate, constructor, map, proto);</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;  constexpr <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> ro_attributes =</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a> | <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">READ_ONLY</a>);</div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    JSObject::AddProperty(isolate, proto,</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;                          isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;to_string_tag_symbol(),</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;                          <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), ro_attributes);</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;  }</div>
<div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;  <span class="keywordflow">return</span> proto;</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;}</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160; </div>
<div class="line"><a name="l03405"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a50ba1ce260dff12e473f5cf3a1adc5b8"> 3405</a></span>&#160;constexpr <a class="code" href="classv8_1_1internal_1_1wasm_1_1ValueType.html">wasm::ValueType</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a50ba1ce260dff12e473f5cf3a1adc5b8">kWasmExceptionTagParams</a>[] = {</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">wasm::kWasmExternRef</a>,</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;};</div>
<div class="line"><a name="l03408"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad"> 3408</a></span>&#160;constexpr <a class="code" href="classv8_1_1internal_1_1Signature.html">wasm::FunctionSig</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">kWasmExceptionTagSignature</a>{</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    0, <a class="code" href="src_2base_2macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a50ba1ce260dff12e473f5cf3a1adc5b8">kWasmExceptionTagParams</a>), <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a50ba1ce260dff12e473f5cf3a1adc5b8">kWasmExceptionTagParams</a>};</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160; </div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03413"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#ad9d30fdd56a8c38868338f9635ca9be9"> 3413</a></span>&#160;<span class="keywordtype">void</span> WasmJs::PrepareForSnapshot(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSGlobalObject&gt;</a> global = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a02fd172ef4a5caf9b5ce7d9794f79510">global_object</a>();</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(global-&gt;native_context(), isolate);</div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160; </div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsUndefined(</div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;GetNoCell(Context::WASM_WEBASSEMBLY_OBJECT_INDEX),</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;      isolate));</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(IsUndefined(</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;GetNoCell(Context::WASM_MODULE_CONSTRUCTOR_INDEX),</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;      isolate));</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160; </div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Factory.html">Factory</a>* <span class="keyword">const</span> f = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>();</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> ro_attributes =</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a> | <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">READ_ONLY</a>);</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160; </div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;  <span class="comment">// Create the WebAssembly object.</span></div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly;</div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  {</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> WebAssembly_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;WebAssembly&quot;</span>);</div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;    <span class="comment">// Not supposed to be called, hence using the kIllegal builtin as code.</span></div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;SharedFunctionInfo&gt;</a> sfi = f-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a24cfe966f1e132421cf12817dfc3fb49">NewSharedFunctionInfoForBuiltin</a>(</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;        WebAssembly_string, Builtin::kIllegal, 0, <a class="code" href="namespacev8_1_1internal.html#a894f7eed49bf3b73ca39321905ff6e38">kDontAdapt</a>);</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    sfi-&gt;set_language_mode(LanguageMode::kStrict);</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160; </div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> ctor =</div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html">Factory::JSFunctionBuilder</a>{isolate, sfi, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>}.Build();</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    JSFunction::SetPrototype(isolate, ctor,</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                             isolate-&gt;initial_object_prototype());</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;    webassembly = f-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">NewJSObject</a>(ctor, AllocationType::kOld);</div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_webassembly_object(*webassembly);</div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160; </div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    JSObject::AddProperty(isolate, webassembly, f-&gt;to_string_tag_symbol(),</div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                          WebAssembly_string, ro_attributes);</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;compile&quot;</span>, wasm::WebAssemblyCompile, 1);</div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;validate&quot;</span>, wasm::WebAssemblyValidate, 1);</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;instantiate&quot;</span>,</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;                wasm::WebAssemblyInstantiate, 1);</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;  }</div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160; </div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;  <span class="comment">// Create the Module object.</span></div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;  InstallModule(isolate, webassembly);</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160; </div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;  <span class="comment">// Create the Instance object.</span></div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;  {</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> instance_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Instance&quot;</span>, wasm::WebAssemblyInstance);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> instance_proto = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;        isolate, instance_constructor, WASM_INSTANCE_OBJECT_TYPE,</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;        WasmInstanceObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Instance&quot;</span>);</div>
<div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_instance_constructor(*instance_constructor);</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, instance_proto, <span class="stringliteral">&quot;exports&quot;</span>,</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;                  wasm::WebAssemblyInstanceGetExports);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  }</div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160; </div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;  <span class="comment">// Create the Table object.</span></div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;  {</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> table_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Table&quot;</span>, wasm::WebAssemblyTable);</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> table_proto =</div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, table_constructor, WASM_TABLE_OBJECT_TYPE,</div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;                         WasmTableObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Table&quot;</span>);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_table_constructor(*table_constructor);</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, table_proto, <span class="stringliteral">&quot;length&quot;</span>,</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;                  wasm::WebAssemblyTableGetLength);</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, <span class="stringliteral">&quot;grow&quot;</span>, wasm::WebAssemblyTableGrow, 1);</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, <span class="stringliteral">&quot;set&quot;</span>, wasm::WebAssemblyTableSet, 1);</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, <span class="stringliteral">&quot;get&quot;</span>, wasm::WebAssemblyTableGet, 1,</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;  }</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160; </div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;  <span class="comment">// Create the Memory object.</span></div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;  {</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> memory_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Memory&quot;</span>, wasm::WebAssemblyMemory);</div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> memory_proto =</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, memory_constructor, WASM_MEMORY_OBJECT_TYPE,</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;                         WasmMemoryObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Memory&quot;</span>);</div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_memory_constructor(*memory_constructor);</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, <span class="stringliteral">&quot;grow&quot;</span>, wasm::WebAssemblyMemoryGrow, 1);</div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, memory_proto, <span class="stringliteral">&quot;buffer&quot;</span>,</div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;                  wasm::WebAssemblyMemoryGetBuffer);</div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;  }</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160; </div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;  <span class="comment">// Create the Global object.</span></div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;  {</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> global_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Global&quot;</span>, wasm::WebAssemblyGlobal);</div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> global_proto =</div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, global_constructor, WASM_GLOBAL_OBJECT_TYPE,</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;                         WasmGlobalObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Global&quot;</span>);</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_global_constructor(*global_constructor);</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, global_proto, <span class="stringliteral">&quot;valueOf&quot;</span>,</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                wasm::WebAssemblyGlobalValueOf, 0, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6cbbe7d60ce5aa0c6ce129e691faece7">InstallGetterSetter</a>(isolate, global_proto, <span class="stringliteral">&quot;value&quot;</span>,</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                        wasm::WebAssemblyGlobalGetValue,</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;                        wasm::WebAssemblyGlobalSetValue);</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;  }</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160; </div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;  <span class="comment">// Create the Exception object.</span></div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  {</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> tag_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Tag&quot;</span>, wasm::WebAssemblyTag);</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, tag_constructor, WASM_TAG_OBJECT_TYPE,</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;                     WasmTagObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Tag&quot;</span>);</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_tag_constructor(*tag_constructor);</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;    <span class="keyword">auto</span> js_tag = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">WasmExceptionTag::New</a>(isolate, 0);</div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;    <span class="comment">// Note the canonical_type_index is reset in WasmJs::Install s.t.</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;    <span class="comment">// type_canonicalizer bookkeeping remains valid.</span></div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;    <span class="keyword">static</span> constexpr <a class="code" href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">wasm::CanonicalTypeIndex</a> kInitialCanonicalTypeIndex{0};</div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> js_tag_object = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">WasmTagObject::New</a>(</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        isolate, &amp;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">kWasmExceptionTagSignature</a>, kInitialCanonicalTypeIndex,</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        js_tag, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTrustedInstanceData&gt;</a>());</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_js_tag(*js_tag_object);</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    JSObject::AddProperty(isolate, webassembly, <span class="stringliteral">&quot;JSTag&quot;</span>, js_tag_object,</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;                          ro_attributes);</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;  }</div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160; </div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;  <span class="comment">// Set up the runtime exception constructor.</span></div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;  {</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> exception_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        isolate, webassembly, <span class="stringliteral">&quot;Exception&quot;</span>, wasm::WebAssemblyException);</div>
<div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">SetDummyInstanceTemplate</a>(isolate, exception_constructor);</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> exception_proto = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;        isolate, exception_constructor, WASM_EXCEPTION_PACKAGE_TYPE,</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        WasmExceptionPackage::kSize, <span class="stringliteral">&quot;WebAssembly.Exception&quot;</span>,</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        WasmExceptionPackage::kInObjectFieldCount);</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, exception_proto, <span class="stringliteral">&quot;getArg&quot;</span>,</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;                wasm::WebAssemblyExceptionGetArg, 2);</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, exception_proto, <span class="stringliteral">&quot;is&quot;</span>, wasm::WebAssemblyExceptionIs,</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;                1);</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_exception_constructor(*exception_constructor);</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160; </div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>(exception_constructor-&gt;initial_map(),</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;                                  isolate);</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;    Map::EnsureDescriptorSlack(isolate, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>, 2);</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;    {</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d = Descriptor::DataField(</div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;          isolate, f-&gt;wasm_exception_tag_symbol(),</div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;          WasmExceptionPackage::kTagIndex, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>, <a class="code" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Representation::Tagged</a>());</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>-&gt;AppendDescriptor(isolate, &amp;d);</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    }</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;    {</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Descriptor.html">Descriptor</a> d =</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;          Descriptor::DataField(isolate, f-&gt;wasm_exception_values_symbol(),</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;                                WasmExceptionPackage::kValuesIndex, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>,</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                                <a class="code" href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">Representation::Tagged</a>());</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">initial_map</a>-&gt;AppendDescriptor(isolate, &amp;d);</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    }</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;  }</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160; </div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;  <span class="comment">// By default, make all exported functions an instance of {Function}.</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;  {</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a> =</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;        isolate-&gt;sloppy_function_without_prototype_map();</div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_exported_function_map(*<a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a>);</div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;  }</div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160; </div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;  <span class="comment">// Setup errors.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;  {</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, f-&gt;CompileError_string(),</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;                 Context::WASM_COMPILE_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, f-&gt;LinkError_string(),</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;                 Context::WASM_LINK_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, f-&gt;RuntimeError_string(),</div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;                 Context::WASM_RUNTIME_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;  }</div>
<div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;}</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160; </div>
<div class="line"><a name="l03582"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#a2a0940bc2fcba99ed44657a4aa83db24"> 3582</a></span>&#160;<span class="keywordtype">void</span> WasmJs::InstallModule(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;                           <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly) {</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSGlobalObject&gt;</a> global = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a02fd172ef4a5caf9b5ce7d9794f79510">global_object</a>();</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(global-&gt;native_context(), isolate);</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160; </div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> module_constructor;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.js_source_phase_imports) {</div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;FunctionTemplateInfo&gt;</a></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        intrinsic_abstract_module_source_interface_template =</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;            <a class="code" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">NewFunctionTemplate</a>(isolate, <span class="keyword">nullptr</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> abstract_module_source_prototype =</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a>(</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;abstract_module_source_prototype(), isolate);</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;    ApiNatives::AddDataProperty(</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        isolate, intrinsic_abstract_module_source_interface_template,</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;prototype_string(),</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;        abstract_module_source_prototype, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160; </div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;    <span class="comment">// Check that this is a reinstallation of the Module object.</span></div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;Module&quot;</span>);</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;        JSObject::HasRealNamedProperty(isolate, webassembly, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>).ToChecked());</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;    <span class="comment">// Reinstall the Module object with AbstractModuleSource as prototype.</span></div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    module_constructor =</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, wasm::WebAssemblyModule, <span class="keyword">true</span>,</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;                   <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>,</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;                   intrinsic_abstract_module_source_interface_template);</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;    <span class="comment">// WebAssembly.Module is a subclass of %AbstractModuleSource%, hence</span></div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    <span class="comment">// Object.GetPrototypeOf(WebAssembly.Module) === %AbstractModuleSource%.</span></div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;    JSObject::ForceSetPrototype(</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        isolate, module_constructor,</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;abstract_module_source_function(),</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;                      isolate));</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;    module_constructor-&gt;shared()-&gt;set_length(1);</div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;    JSObject::SetOwnPropertyIgnoreAttributes(webassembly, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;                                             module_constructor, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>)</div>
<div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        .Assert();</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;    module_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;Module&quot;</span>,</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;                                                wasm::WebAssemblyModule);</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;  }</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, module_constructor, WASM_MODULE_OBJECT_TYPE,</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;                   WasmModuleObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Module&quot;</span>);</div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_wasm_module_constructor(*module_constructor);</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160; </div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, module_constructor, <span class="stringliteral">&quot;imports&quot;</span>,</div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;              wasm::WebAssemblyModuleImports, 1, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;              <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, module_constructor, <span class="stringliteral">&quot;exports&quot;</span>,</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;              wasm::WebAssemblyModuleExports, 1, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;              <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, module_constructor, <span class="stringliteral">&quot;customSections&quot;</span>,</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;              wasm::WebAssemblyModuleCustomSections, 2, <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>,</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;              <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;}</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160; </div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03639"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#a81b37ed8690edccff511f1f75c28d29d"> 3639</a></span>&#160;<span class="keywordtype">void</span> WasmJs::Install(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSGlobalObject&gt;</a> global = isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a02fd172ef4a5caf9b5ce7d9794f79510">global_object</a>();</div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>(global-&gt;native_context(), isolate);</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160; </div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;is_wasm_js_installed() != <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3">Smi::zero</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_is_wasm_js_installed(Smi::FromInt(1));</div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160; </div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;  <span class="comment">// We always use the WebAssembly object from the native context; as this code</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  <span class="comment">// is executed before any user code, this is expected to be the same as the</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <span class="comment">// global &quot;WebAssembly&quot; property. But even later during execution we always</span></div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;  <span class="comment">// want to use this preallocated object instead of whatever user code</span></div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;  <span class="comment">// installed as &quot;WebAssembly&quot; property.</span></div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;wasm_webassembly_object(),</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;                                     isolate);</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.js_source_phase_imports) {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="comment">// Reinstall the Module object with the experimental interface.</span></div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;    InstallModule(isolate, webassembly);</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  }</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160; </div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  <span class="comment">// Expose the API on the global object if not in jitless mode (with more</span></div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <span class="comment">// subtleties).</span></div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <span class="comment">// Even in interpreter-only mode, wasm currently still creates executable</span></div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <span class="comment">// memory at runtime. Unexpose wasm until this changes.</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="comment">// The correctness fuzzers are a special case: many of their test cases are</span></div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;  <span class="comment">// built by fetching a random property from the the global object, and thus</span></div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;  <span class="comment">// the global object layout must not change between configs. That is why we</span></div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;  <span class="comment">// continue exposing wasm on correctness fuzzers even in jitless mode.</span></div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;  <span class="comment">// TODO(jgruber): Remove this once / if wasm can run without executable</span></div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;  <span class="comment">// memory.</span></div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;  <span class="keywordtype">bool</span> expose_wasm = !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.jitless ||</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.correctness_fuzzer_suppressions ||</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.wasm_jitless;</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;  <span class="keywordflow">if</span> (expose_wasm) {</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> WebAssembly_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;WebAssembly&quot;</span>);</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    JSObject::AddProperty(isolate, global, WebAssembly_string, webassembly,</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;                          <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>);</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;  }</div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160; </div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;  {</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <span class="comment">// Reset the JSTag&#39;s canonical_type_index based on this Isolate&#39;s</span></div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;    <span class="comment">// type_canonicalizer.</span></div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;WasmTagObject&gt;</a> js_tag_object(</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;        Cast&lt;WasmTagObject&gt;(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;wasm_js_tag()), isolate);</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;    js_tag_object-&gt;set_canonical_type_index(</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">wasm::GetWasmEngine</a>()</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;            -&gt;type_canonicalizer()</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;            -&gt;AddRecursiveGroup(&amp;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">kWasmExceptionTagSignature</a>)</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;            .<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>);</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  }</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160; </div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.wasm_test_streaming) {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    isolate-&gt;set_wasm_streaming_callback(<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">WasmStreamingCallbackForTesting</a>);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;  }</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160; </div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;wasm_streaming_callback() != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;compileStreaming&quot;</span>,</div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;                <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">WebAssemblyCompileStreaming</a>, 1);</div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;instantiateStreaming&quot;</span>,</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;                <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d">WebAssemblyInstantiateStreaming</a>, 1);</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  }</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160; </div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;  <span class="comment">// The native_context is not set up completely yet. That&#39;s why we cannot use</span></div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;  <span class="comment">// {WasmEnabledFeatures::FromIsolate} and have to use</span></div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;  <span class="comment">// {WasmEnabledFeatures::FromFlags} instead.</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> enabled_features = wasm::WasmEnabledFeatures::FromFlags();</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160; </div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_type_reflection()) {</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;    InstallTypeReflection(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  }</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160; </div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_memory_control()) {</div>
<div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;    InstallMemoryControl(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;  }</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160; </div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_custom_descriptors()) {</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    InstallCustomDescriptors(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  }</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160; </div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  <span class="comment">// Initialize and install JSPI feature.</span></div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_jspi()) {</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;is_wasm_jspi_installed() == <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3">Smi::zero</a>());</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;    isolate-&gt;WasmInitJSPIFeature();</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;    InstallJSPromiseIntegration(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>-&gt;set_is_wasm_jspi_installed(Smi::FromInt(1));</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_wasm_stack_switching) {</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;    <span class="comment">// Set up the JSPI objects necessary for stress-testing stack-switching, but</span></div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="comment">// don&#39;t install WebAssembly.promising and WebAssembly.Suspending.</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    isolate-&gt;WasmInitJSPIFeature();</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  }</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160; </div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;  <span class="keywordflow">if</span> (enabled_features.has_rab_integration()) {</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    InstallResizableBufferIntegration(isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>, webassembly);</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;  }</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;}</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160; </div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03736"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#aa134bf6e4548150cc2c12469ecd5bcb0"> 3736</a></span>&#160;<span class="keywordtype">void</span> WasmJs::InstallConditionalFeatures(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> context) {</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly{context-&gt;wasm_webassembly_object(),</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;                                     isolate};</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;  <span class="keywordflow">if</span> (!webassembly-&gt;map()-&gt;is_extensible()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  <span class="keywordflow">if</span> (webassembly-&gt;map()-&gt;is_access_check_needed()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160; </div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  <span class="comment">// If you need to install some optional features, follow the pattern:</span></div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;  <span class="comment">// if (isolate-&gt;IsMyWasmFeatureEnabled(context)) {</span></div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;  <span class="comment">//   DirectHandle&lt;String&gt; feature = isolate-&gt;factory()-&gt;...;</span></div>
<div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;  <span class="comment">//   if (!JSObject::HasRealNamedProperty(isolate, webassembly, feature)</span></div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;  <span class="comment">//            .FromMaybe(true)) {</span></div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <span class="comment">//     InstallFeature(isolate, webassembly);</span></div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <span class="comment">//   }</span></div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160; </div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;  <span class="comment">// Install JSPI-related features.</span></div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aac516068d1a011e5aa0a648fec009cef">IsWasmJSPIRequested</a>(context)) {</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="keywordflow">if</span> (context-&gt;is_wasm_jspi_installed() == <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3">Smi::zero</a>()) {</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      isolate-&gt;WasmInitJSPIFeature();</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;      <span class="keywordflow">if</span> (InstallJSPromiseIntegration(isolate, context, webassembly)) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;        context-&gt;set_is_wasm_jspi_installed(Smi::FromInt(1));</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      }</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    }</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;  }</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;}</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160; </div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;<span class="comment">// Return true if this call results in JSPI being installed.</span></div>
<div class="line"><a name="l03766"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#a7180b759209d4540ac7339cd21e399f9"> 3766</a></span>&#160;<span class="keywordtype">bool</span> WasmJs::InstallJSPromiseIntegration(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;                                         <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> context,</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;                                         <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly) {</div>
<div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> suspender_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;Suspender&quot;</span>);</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;  <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, webassembly, suspender_string)</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;  }</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> suspending_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;Suspending&quot;</span>);</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, webassembly, suspending_string)</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  }</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> promising_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;promising&quot;</span>);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;  <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, webassembly, promising_string)</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;  }</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> suspend_error_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;SuspendError&quot;</span>);</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, webassembly, suspend_error_string)</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;  }</div>
<div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> suspending_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;      isolate, webassembly, <span class="stringliteral">&quot;Suspending&quot;</span>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad">WebAssemblySuspendingImpl</a>);</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  context-&gt;set_wasm_suspending_constructor(*suspending_constructor);</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(isolate, suspending_constructor, WASM_SUSPENDING_OBJECT_TYPE,</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;                   WasmSuspendingObject::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.Suspending&quot;</span>);</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;promising&quot;</span>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6">WebAssemblyPromising</a>, 1);</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">InstallError</a>(isolate, webassembly, isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;SuspendError_string(),</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;               Context::WASM_SUSPEND_ERROR_FUNCTION_INDEX);</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;}</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160; </div>
<div class="line"><a name="l03800"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#a371852143858f45b5f54e6222f8ae084"> 3800</a></span>&#160;<span class="keywordtype">bool</span> WasmJs::InstallCustomDescriptors(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;                                      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> context,</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;                                      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly) {</div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> descriptor_options_string =</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;DescriptorOptions&quot;</span>);</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, webassembly,</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;                                     descriptor_options_string)</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;  }</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> descriptor_options_constructor =</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;DescriptorOptions&quot;</span>,</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;                             <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d">WebAssemblyDescriptorOptionsImpl</a>);</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;  context-&gt;set_wasm_descriptor_options_constructor(</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;      *descriptor_options_constructor);</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      isolate, descriptor_options_constructor, WASM_DESCRIPTOR_OPTIONS_TYPE,</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;      WasmDescriptorOptions::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.DescriptorOptions&quot;</span>);</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;}</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160; </div>
<div class="line"><a name="l03821"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#a9e5abad388c39e337ce049e8fd94184f"> 3821</a></span>&#160;<span class="keywordtype">void</span> WasmJs::InstallMemoryControl(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                                  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> context,</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                                  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly) {</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;  <span class="comment">// Extensibility of the `WebAssembly` object should already have been checked</span></div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;  <span class="comment">// by the caller.</span></div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(webassembly-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160; </div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> descriptor_constructor =</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(isolate, webassembly, <span class="stringliteral">&quot;MemoryMapDescriptor&quot;</span>,</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                             wasm::WebAssemblyMemoryMapDescriptor);</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">SetupConstructor</a>(</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;      isolate, descriptor_constructor, WASM_MEMORY_MAP_DESCRIPTOR_TYPE,</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;      WasmMemoryMapDescriptor::kHeaderSize, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor&quot;</span>);</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  context-&gt;set_wasm_memory_map_descriptor_constructor(*descriptor_constructor);</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160; </div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> descriptor_proto = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;      Cast&lt;JSObject&gt;(descriptor_constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160; </div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, descriptor_proto, <span class="stringliteral">&quot;map&quot;</span>,</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;              wasm::WebAssemblyMemoryMapDescriptorMap, 2);</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, descriptor_proto, <span class="stringliteral">&quot;unmap&quot;</span>,</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;              wasm::WebAssemblyMemoryMapDescriptorUnmap, 0);</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;}</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160; </div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;<span class="comment">// Return true only if this call resulted in installation of type reflection.</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#a9d48e1db9cb027ddf92cd6dcfb0f7779"> 3847</a></span>&#160;<span class="keywordtype">bool</span> WasmJs::InstallTypeReflection(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> context,</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly) {</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="comment">// Extensibility of the `WebAssembly` object should already have been checked</span></div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;  <span class="comment">// by the caller.</span></div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(webassembly-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160; </div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;  <span class="comment">// First check if any of the type reflection fields already exist. If so, bail</span></div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;  <span class="comment">// out and don&#39;t install any new fields.</span></div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;  <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, webassembly,</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                                     isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;Function_string())</div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;          .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;  }</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160; </div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;  <span class="keyword">auto</span> GetProto = [isolate](<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> constructor) {</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(Cast&lt;JSObject&gt;(constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;  };</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> table_proto =</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;      GetProto(context-&gt;wasm_table_constructor());</div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> global_proto =</div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;      GetProto(context-&gt;wasm_global_constructor());</div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> memory_proto =</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      GetProto(context-&gt;wasm_memory_constructor());</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> tag_proto = GetProto(context-&gt;wasm_tag_constructor());</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160; </div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;String&gt;</a> type_string = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;type&quot;</span>);</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;  <span class="keyword">auto</span> CheckProto = [isolate, type_string](<a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> proto) {</div>
<div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <span class="keywordflow">if</span> (JSObject::HasRealNamedProperty(isolate, proto, type_string)</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;            .FromMaybe(<span class="keyword">true</span>)) {</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;    }</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;    <span class="comment">// Also check extensibility, otherwise adding properties will fail.</span></div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <span class="keywordflow">if</span> (!proto-&gt;map()-&gt;is_extensible()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  };</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(table_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(global_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(memory_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;  <span class="keywordflow">if</span> (!CheckProto(tag_proto)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160; </div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <span class="comment">// Checks are done, start installing the new fields.</span></div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, table_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502">WebAssemblyTableType</a>, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01">WebAssemblyMemoryType</a>, 0,</div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;              <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, global_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4">WebAssemblyGlobalType</a>, 0,</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;              <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, tag_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a">WebAssemblyTagType</a>, 0, <span class="keyword">false</span>,</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>, <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">SideEffectType::kHasNoSideEffect</a>);</div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160; </div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;  <span class="comment">// Create the Function object.</span></div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSFunction&gt;</a> function_constructor = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">InstallConstructorFunc</a>(</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;      isolate, webassembly, <span class="stringliteral">&quot;Function&quot;</span>, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e">WebAssemblyFunction</a>);</div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">SetDummyInstanceTemplate</a>(isolate, function_constructor);</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;  JSFunction::EnsureHasInitialMap(isolate, function_constructor);</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> function_proto(</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;      Cast&lt;JSObject&gt;(function_constructor-&gt;instance_prototype()), isolate);</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;Map&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a> =</div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;      <a class="code" href="namespacev8_1_1bigint_1_1anonymous__namespace_02div-helpers_8cc_03.html#a7db777dc64a4907eca160e11dd6bc534">Map::Copy</a>(isolate, isolate-&gt;sloppy_function_without_prototype_map(),</div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;                <span class="stringliteral">&quot;WebAssembly.Function&quot;</span>);</div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(JSObject::SetPrototype(</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;            isolate, function_proto,</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(context-&gt;function_function()-&gt;prototype(), isolate),</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;            <span class="keyword">false</span>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">kDontThrow</a>)</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;            .FromJust());</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;  JSFunction::SetInitialMap(isolate, function_constructor, <a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a>,</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;                            function_proto);</div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160; </div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  constexpr <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a> ro_attributes =</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;      <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">PropertyAttributes</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a> | <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">READ_ONLY</a>);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  JSObject::AddProperty(isolate, function_proto,</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;                        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;to_string_tag_symbol(),</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;WebAssembly.Function&quot;</span>), ro_attributes);</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160; </div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, function_proto, type_string, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2">WebAssemblyFunctionType</a>, 0);</div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a0d9ddccbc8883ed03a104e38cb679871">SimpleInstallFunction</a>(isolate, function_proto, <span class="stringliteral">&quot;bind&quot;</span>,</div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;                        Builtin::kWebAssemblyFunctionPrototypeBind, 1,</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;                        <a class="code" href="namespacev8_1_1internal.html#a894f7eed49bf3b73ca39321905ff6e38">kDontAdapt</a>);</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;  <span class="comment">// Make all exported functions an instance of {WebAssembly.Function}.</span></div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;  context-&gt;set_wasm_exported_function_map(*<a class="code" href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">function_map</a>);</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;}</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160; </div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03932"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1WasmJs.html#ad8458346588cd4044c146ac959e35097"> 3932</a></span>&#160;<span class="keywordtype">void</span> WasmJs::InstallResizableBufferIntegration(</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;NativeContext&gt;</a> context,</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> webassembly) {</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  <span class="comment">// Extensibility of the `WebAssembly` object should already have been checked</span></div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;  <span class="comment">// by the caller.</span></div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(webassembly-&gt;map()-&gt;is_extensible());</div>
<div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160; </div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">DirectHandle&lt;JSObject&gt;</a> memory_proto = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;      Cast&lt;JSObject&gt;(context-&gt;wasm_memory_constructor()-&gt;instance_prototype()),</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;      isolate);</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, <span class="stringliteral">&quot;toFixedLengthBuffer&quot;</span>,</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;              wasm::WebAssemblyMemoryToFixedLengthBuffer, 0);</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">InstallFunc</a>(isolate, memory_proto, <span class="stringliteral">&quot;toResizableBuffer&quot;</span>,</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;              wasm::WebAssemblyMemoryToResizableBuffer, 0);</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;}</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160; </div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacewasm.html">wasm</a> {</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l03950"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1wasm.html#a2ff4cb9e8a4843aa3146f43da7dd0ef7"> 3950</a></span>&#160;std::unique_ptr&lt;WasmStreaming&gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2ff4cb9e8a4843aa3146f43da7dd0ef7">StartStreamingForTesting</a>(</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate,</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    std::shared_ptr&lt;wasm::CompilationResultResolver&gt; resolver) {</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;  <span class="keywordflow">return</span> std::make_unique&lt;WasmStreaming&gt;(</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;      std::make_unique&lt;WasmStreaming::WasmStreamingImpl&gt;(</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;          isolate, <span class="stringliteral">&quot;StartStreamingForTesting&quot;</span>, <a class="code" href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">CompileTimeImports</a>{}, resolver));</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;}</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;}  <span class="comment">// namespace wasm</span></div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160; </div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;<span class="preprocessor">#undef ASSIGN</span></div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;<span class="preprocessor">#undef EXTRACT_THIS</span></div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160; </div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aapi-inl_8h_html"><div class="ttname"><a href="api-inl_8h.html">api-inl.h</a></div></div>
<div class="ttc" id="aapi-natives_8h_html"><div class="ttname"><a href="api-natives_8h.html">api-natives.h</a></div></div>
<div class="ttc" id="abuiltins_8h_html_af33bd0f259d8e6a511fd018115e0d62c"><div class="ttname"><a href="builtins_8h.html#af33bd0f259d8e6a511fd018115e0d62c">BUILTIN_CODE</a></div><div class="ttdeci">#define BUILTIN_CODE(isolate, name)</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00047">builtins.h:47</a></div></div>
<div class="ttc" id="acheck_8h_html_aee78f6fbdf206be23e949191f9408e4b"><div class="ttname"><a href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a></div><div class="ttdeci">#define SBXCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00054">check.h:54</a></div></div>
<div class="ttc" id="aclassi_1_1wasm_1_1InstantiationResultResolver_html"><div class="ttname"><a href="classi_1_1wasm_1_1InstantiationResultResolver.html">i::wasm::InstantiationResultResolver</a></div></div>
<div class="ttc" id="aclassv8_1_1BigInt_html_a4682f096ed12241365225df82209349d"><div class="ttname"><a href="classv8_1_1BigInt.html#a4682f096ed12241365225df82209349d">v8::BigInt::New</a></div><div class="ttdeci">static Local&lt; BigInt &gt; New(Isolate *isolate, int64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09566">api.cc:9566</a></div></div>
<div class="ttc" id="aclassv8_1_1BigInt_html_a6e8ac3390327e48bf1a3e788f9ca4324"><div class="ttname"><a href="classv8_1_1BigInt.html#a6e8ac3390327e48bf1a3e788f9ca4324">v8::BigInt::NewFromUnsigned</a></div><div class="ttdeci">static Local&lt; BigInt &gt; NewFromUnsigned(Isolate *isolate, uint64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09573">api.cc:9573</a></div></div>
<div class="ttc" id="aclassv8_1_1CompiledWasmModule_html"><div class="ttname"><a href="classv8_1_1CompiledWasmModule.html">v8::CompiledWasmModule</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-wasm_8h_source.html#l00043">v8-wasm.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a></div><div class="ttdoc">The argument information given to function call callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00118">v8-function-callback.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a2cb41afe1e098a46d27d901b4cc1e6f5"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">v8::FunctionCallbackInfo::GetReturnValue</a></div><div class="ttdeci">ReturnValue&lt; T &gt; GetReturnValue() const</div><div class="ttdoc">The ReturnValue for the call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00650">v8-function-callback.h:650</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a4ddfd6d21732dff1c4c55d5441a8a5ca"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">v8::FunctionCallbackInfo::This</a></div><div class="ttdeci">Local&lt; Object &gt; This() const</div><div class="ttdoc">Returns the receiver.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00628">v8-function-callback.h:628</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a7eee713a6f95d5707ce788861754682f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">v8::FunctionCallbackInfo::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdoc">The current Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00645">v8-function-callback.h:645</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_aa04f4c5c984db26a90b591f34550e6fa"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#aa04f4c5c984db26a90b591f34550e6fa">v8::FunctionCallbackInfo::NewTarget</a></div><div class="ttdeci">Local&lt; Value &gt; NewTarget() const</div><div class="ttdoc">For construct calls, this returns the &quot;new.target&quot; value.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00634">v8-function-callback.h:634</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ab0ebfc2ea43af2fdfc3d085272bf499f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">v8::FunctionCallbackInfo::Data</a></div><div class="ttdeci">Local&lt; Value &gt; Data() const</div><div class="ttdoc">The data argument specified when creating the callback.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00639">v8-function-callback.h:639</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ad2105b93e9b4d02f42b7338fa5950cbc"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">v8::FunctionCallbackInfo::IsConstructCall</a></div><div class="ttdeci">bool IsConstructCall() const</div><div class="ttdoc">Indicates whether this is a regular call or a construct call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00655">v8-function-callback.h:655</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_af97dd3f1cb01ed039f9479152ad63a84"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">v8::FunctionCallbackInfo::Length</a></div><div class="ttdeci">int Length() const</div><div class="ttdoc">The number of available arguments.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00660">v8-function-callback.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionTemplate_html_a41c3051fd8bba064a0de7f2d16488d99"><div class="ttname"><a href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">v8::FunctionTemplate::New</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; New(Isolate *isolate, FunctionCallback callback=nullptr, Local&lt; Value &gt; data=Local&lt; Value &gt;(), Local&lt; Signature &gt; signature=Local&lt; Signature &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, const CFunction *c_function=nullptr, uint16_t instance_type=0, uint16_t allowed_receiver_instance_type_range_start=0, uint16_t allowed_receiver_instance_type_range_end=0)</div><div class="ttdoc">Creates a function template.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01114">api.cc:1114</a></div></div>
<div class="ttc" id="aclassv8_1_1Function_html_a22f451f67d33a8403286d27f22d9ecb3"><div class="ttname"><a href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a></div><div class="ttdeci">static MaybeLocal&lt; Function &gt; New(Local&lt; Context &gt; context, FunctionCallback callback, Local&lt; Value &gt; data=Local&lt; Value &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdoc">Create a function in the current execution context for a given FunctionCallback.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l05297">api.cc:5297</a></div></div>
<div class="ttc" id="aclassv8_1_1Global_html"><div class="ttname"><a href="classv8_1_1Global.html">v8::Global</a></div><div class="ttdoc">A PersistentBase which has move semantics.</div><div class="ttdef"><b>Definition:</b> <a href="v8-persistent-handle_8h_source.html#l00349">v8-persistent-handle.h:349</a></div></div>
<div class="ttc" id="aclassv8_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1HandleScope.html">v8::HandleScope</a></div><div class="ttdoc">A stack-allocated class that governs a number of local handles.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00119">v8-local-handle.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1Integer_html_acd94a64ebeb75a97c42a20c15738fca4"><div class="ttname"><a href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a></div><div class="ttdeci">static Local&lt; Integer &gt; New(Isolate *isolate, int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09543">api.cc:9543</a></div></div>
<div class="ttc" id="aclassv8_1_1Integer_html_af5543ee5baef2567151d698b06d2087d"><div class="ttname"><a href="classv8_1_1Integer.html#af5543ee5baef2567151d698b06d2087d">v8::Integer::NewFromUnsigned</a></div><div class="ttdeci">static Local&lt; Integer &gt; NewFromUnsigned(Isolate *isolate, uint32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09554">api.cc:9554</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041"><div class="ttname"><a href="classv8_1_1Isolate.html#aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041">v8::Isolate::kWasmJavaScriptPromiseIntegration</a></div><div class="ttdeci">@ kWasmJavaScriptPromiseIntegration</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00614">v8-isolate.h:614</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_af68803b1b9fb0bf76107f56a7a762fac"><div class="ttname"><a href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">v8::Isolate::GetCurrentContext</a></div><div class="ttdeci">Local&lt; Context &gt; GetCurrentContext()</div><div class="ttdoc">Returns the context of the currently running JavaScript, or the context on the top of the stack if no...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09728">api.cc:9728</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html"><div class="ttname"><a href="classv8_1_1Local.html">v8::Local</a></div><div class="ttdoc">An object reference managed by the v8 garbage collector.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00291">v8-local-handle.h:297</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html_a00dcb92006284768dc2661c2940f935a"><div class="ttname"><a href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">v8::Local::As</a></div><div class="ttdeci">Local&lt; S &gt; As() const</div><div class="ttdoc">Calling this is equivalent to Local&lt;S&gt;::Cast().</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00370">v8-local-handle.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html_a8e76791c0614ec0feed0e5a3a9d6e9f8"><div class="ttname"><a href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">v8::Local::Cast</a></div><div class="ttdeci">static Local&lt; T &gt; Cast(Local&lt; S &gt; that)</div><div class="ttdoc">Cast a handle to a subclass, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00354">v8-local-handle.h:354</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html"><div class="ttname"><a href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt; Value &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_a2877fe9d5892dd5d182353ea9bbfff07"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#a2877fe9d5892dd5d182353ea9bbfff07">v8::MaybeLocal::ToLocalChecked</a></div><div class="ttdeci">Local&lt; T &gt; ToLocalChecked()</div><div class="ttdoc">Converts this MaybeLocal&lt;&gt; to a Local&lt;&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00700">v8-local-handle.h:700</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_ac976c78900f2f8f5b92c7e5ded195277"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#ac976c78900f2f8f5b92c7e5ded195277">v8::MaybeLocal::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00684">v8-local-handle.h:684</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_adcbf09f789c51def0e48e859d5b8da57"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">v8::MaybeLocal::ToLocal</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool ToLocal(Local&lt; S &gt; *out) const</div><div class="ttdoc">Converts this MaybeLocal&lt;&gt; to a Local&lt;&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00691">v8-local-handle.h:691</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html"><div class="ttname"><a href="classv8_1_1Maybe.html">v8::Maybe</a></div><div class="ttdoc">A simple Maybe type, representing an object which may or may not have a value, see https://hackage....</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00033">v8-maybe.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1Maybe_html_a6778de7b38b00e4bfff77d3dbc566f1c"><div class="ttname"><a href="classv8_1_1Maybe.html#a6778de7b38b00e4bfff77d3dbc566f1c">v8::Maybe::FromJust</a></div><div class="ttdeci">T FromJust() const &amp;</div><div class="ttdoc">Converts this Maybe&lt;&gt; to a value of type T.</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00076">v8-maybe.h:76</a></div></div>
<div class="ttc" id="aclassv8_1_1Name_html"><div class="ttname"><a href="classv8_1_1Name.html">v8::Name</a></div><div class="ttdoc">A superclass for symbols and strings.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00079">v8-primitive.h:79</a></div></div>
<div class="ttc" id="aclassv8_1_1Number_html_a4d8822be251214dab4cf0212475ede76"><div class="ttname"><a href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a></div><div class="ttdeci">static Local&lt; Number &gt; New(Isolate *isolate, double value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09531">api.cc:9531</a></div></div>
<div class="ttc" id="aclassv8_1_1ObjectTemplate_html_a092e8adf656359d4dead412d28313ebb"><div class="ttname"><a href="classv8_1_1ObjectTemplate.html#a092e8adf656359d4dead412d28313ebb">v8::ObjectTemplate::New</a></div><div class="ttdeci">static Local&lt; ObjectTemplate &gt; New(Isolate *isolate, Local&lt; FunctionTemplate &gt; constructor=Local&lt; FunctionTemplate &gt;())</div><div class="ttdoc">Creates an ObjectTemplate.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01392">api.cc:1392</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html"><div class="ttname"><a href="classv8_1_1Object.html">v8::Object</a></div><div class="ttdoc">A JavaScript object (ECMA-262, 4.3.3)</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00235">v8-object.h:235</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_a3451edb58d1984b18652d925ec0bf756"><div class="ttname"><a href="classv8_1_1Object.html#a3451edb58d1984b18652d925ec0bf756">v8::Object::New</a></div><div class="ttdeci">static Local&lt; Object &gt; New(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07732">api.cc:7732</a></div></div>
<div class="ttc" id="aclassv8_1_1Object_html_abe2967d3b14fe56c00718cc29441d67b"><div class="ttname"><a href="classv8_1_1Object.html#abe2967d3b14fe56c00718cc29441d67b">v8::Object::Get</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeLocal&lt; Value &gt; Get(Local&lt; Context &gt; context, Local&lt; Value &gt; key)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04568">api.cc:4568</a></div></div>
<div class="ttc" id="aclassv8_1_1Promise_1_1Resolver_html_a39d73fbb8db9bb44de553674e2d39409"><div class="ttname"><a href="classv8_1_1Promise_1_1Resolver.html#a39d73fbb8db9bb44de553674e2d39409">v8::Promise::Resolver::New</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; Resolver &gt; New(Local&lt; Context &gt; context)</div><div class="ttdoc">Create a new resolver, along with an associated promise in pending state.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08609">api.cc:8609</a></div></div>
<div class="ttc" id="aclassv8_1_1ReturnValue_html"><div class="ttname"><a href="classv8_1_1ReturnValue.html">v8::ReturnValue</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00041">v8-function-callback.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1ReturnValue_html_a57c4b962cf2ca387d3fb9a2f8e47a963"><div class="ttname"><a href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">v8::ReturnValue::Set</a></div><div class="ttdeci">void Set(const Global&lt; S &gt; &amp;handle)</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00337">v8-function-callback.h:337</a></div></div>
<div class="ttc" id="aclassv8_1_1Utils_html_a9d3ed89b4ca4e995ba472f8091ea424f"><div class="ttname"><a href="classv8_1_1Utils.html#a9d3ed89b4ca4e995ba472f8091ea424f">v8::Utils::OpenDirectHandle</a></div><div class="ttdeci">static i::DirectHandle&lt; To &gt; OpenDirectHandle(v8::Local&lt; From &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="api_8h_source.html#l00299">api.h:299</a></div></div>
<div class="ttc" id="aclassv8_1_1Utils_html_aea3e5682d909c5f546b8d0342e3cc1a4"><div class="ttname"><a href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">v8::Utils::OpenHandle</a></div><div class="ttdeci">static i::Handle&lt; To &gt; OpenHandle(v8::Local&lt; From &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="api_8h_source.html#l00294">api.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html"><div class="ttname"><a href="classv8_1_1Value.html">v8::Value</a></div><div class="ttdoc">The superclass of all JavaScript values and objects.</div><div class="ttdef"><b>Definition:</b> <a href="v8-value_8h_source.html#l00032">v8-value.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a01183cf30ba5e6383cdca82daee630d8"><div class="ttname"><a href="classv8_1_1Value.html#a01183cf30ba5e6383cdca82daee630d8">v8::Value::IsTypedArray</a></div><div class="ttdeci">bool IsTypedArray() const</div><div class="ttdoc">Returns true if this value is one of TypedArrays.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03566">api.cc:3566</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a2eb9e2e2c61b0e43cf8c50e4a3a4fbc6"><div class="ttname"><a href="classv8_1_1Value.html#a2eb9e2e2c61b0e43cf8c50e4a3a4fbc6">v8::Value::NumberValue</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT Maybe&lt; double &gt; NumberValue(Local&lt; Context &gt; context) const</div><div class="ttdoc">Returns the equivalent of ToNumber()-&gt;Value().</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04171">api.cc:4171</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a62c732277023d09f5e5a54eaa2846853"><div class="ttname"><a href="classv8_1_1Value.html#a62c732277023d09f5e5a54eaa2846853">v8::Value::IsArrayBuffer</a></div><div class="ttdeci">bool IsArrayBuffer() const</div><div class="ttdoc">Returns true if this value is an ArrayBuffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03556">api.cc:3556</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a72a01e06e897a8fedbb430cdd7fc3ffe"><div class="ttname"><a href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">v8::Value::IsObject</a></div><div class="ttdeci">bool IsObject() const</div><div class="ttdoc">Returns true if this value is an object.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03599">api.cc:3599</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_ad3a7686feef02fbe0317570b9640b078"><div class="ttname"><a href="classv8_1_1Value.html#ad3a7686feef02fbe0317570b9640b078">v8::Value::IsUndefined</a></div><div class="ttdeci">bool IsUndefined() const</div><div class="ttdoc">Returns true if this value is the undefined value.</div><div class="ttdef"><b>Definition:</b> <a href="v8-value_8h_source.html#l00544">v8-value.h:544</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmMemoryMapDescriptor_html"><div class="ttname"><a href="classv8_1_1WasmMemoryMapDescriptor.html">v8::WasmMemoryMapDescriptor</a></div><div class="ttdoc">The V8 interface for a WebAssembly memory map descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="v8-wasm_8h_source.html#l00207">v8-wasm.h:207</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmMemoryObject_html"><div class="ttname"><a href="classv8_1_1WasmMemoryObject.html">v8::WasmMemoryObject</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-wasm_8h_source.html#l00070">v8-wasm.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_a249552d3b1e688964f74230690954853"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a249552d3b1e688964f74230690954853">v8::WasmStreaming::WasmStreamingImpl::SetMoreFunctionsCanBeSerializedCallback</a></div><div class="ttdeci">void SetMoreFunctionsCanBeSerializedCallback(std::function&lt; void(CompiledWasmModule)&gt; callback)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00098">wasm-js.cc:98</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_a25c3b63fe1a7729c2ba73439577ec182"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a25c3b63fe1a7729c2ba73439577ec182">v8::WasmStreaming::WasmStreamingImpl::SetCompiledModuleBytes</a></div><div class="ttdeci">bool SetCompiledModuleBytes(base::Vector&lt; const uint8_t &gt; bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00092">wasm-js.cc:92</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_a5f41cbb07800cbdab446bb3e8a20ca4b"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a5f41cbb07800cbdab446bb3e8a20ca4b">v8::WasmStreaming::WasmStreamingImpl::Abort</a></div><div class="ttdeci">void Abort(i::MaybeHandle&lt; i::JSAny &gt; exception)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00080">wasm-js.cc:80</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_a658f4341a8ac1060f57a03957280e35e"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a658f4341a8ac1060f57a03957280e35e">v8::WasmStreaming::WasmStreamingImpl::enabled_features_</a></div><div class="ttdeci">const WasmEnabledFeatures enabled_features_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00112">wasm-js.cc:112</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_a75af70b5454758101d4a213d2a6dd085"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a75af70b5454758101d4a213d2a6dd085">v8::WasmStreaming::WasmStreamingImpl::resolver_</a></div><div class="ttdeci">const std::shared_ptr&lt; internal::wasm::CompilationResultResolver &gt; resolver_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00114">wasm-js.cc:114</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_a984e0b35b5f4ec3f1df979948dc49b54"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#a984e0b35b5f4ec3f1df979948dc49b54">v8::WasmStreaming::WasmStreamingImpl::i_isolate_</a></div><div class="ttdeci">i::Isolate *const i_isolate_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00111">wasm-js.cc:111</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_ac3113db2182fe92ec138dd9204541316"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ac3113db2182fe92ec138dd9204541316">v8::WasmStreaming::WasmStreamingImpl::WasmStreamingImpl</a></div><div class="ttdeci">WasmStreamingImpl(i::Isolate *isolate, const char *api_method_name, CompileTimeImports compile_imports, std::shared_ptr&lt; internal::wasm::CompilationResultResolver &gt; resolver)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00061">wasm-js.cc:61</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_aca85d1439602d3f0b5725cd687f02ac7"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#aca85d1439602d3f0b5725cd687f02ac7">v8::WasmStreaming::WasmStreamingImpl::Finish</a></div><div class="ttdeci">void Finish(bool can_use_compiled_module)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00076">wasm-js.cc:76</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_ad2c29d228df8efb3309845ba5460e5d6"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ad2c29d228df8efb3309845ba5460e5d6">v8::WasmStreaming::WasmStreamingImpl::streaming_decoder_</a></div><div class="ttdeci">const std::shared_ptr&lt; internal::wasm::StreamingDecoder &gt; streaming_decoder_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00113">wasm-js.cc:113</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_ade7c90cc97041995c4fe8d05665250df"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ade7c90cc97041995c4fe8d05665250df">v8::WasmStreaming::WasmStreamingImpl::OnBytesReceived</a></div><div class="ttdeci">void OnBytesReceived(const uint8_t *bytes, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00073">wasm-js.cc:73</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_1_1WasmStreamingImpl_html_ae38602606bd1626da09fc39ce5f754b5"><div class="ttname"><a href="classv8_1_1WasmStreaming_1_1WasmStreamingImpl.html#ae38602606bd1626da09fc39ce5f754b5">v8::WasmStreaming::WasmStreamingImpl::SetUrl</a></div><div class="ttdeci">void SetUrl(base::Vector&lt; const char &gt; url)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00108">wasm-js.cc:108</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_a0561d4f9b06323897494ff37a4e18b01"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#a0561d4f9b06323897494ff37a4e18b01">v8::WasmStreaming::impl_</a></div><div class="ttdeci">std::unique_ptr&lt; WasmStreamingImpl &gt; impl_</div><div class="ttdef"><b>Definition:</b> <a href="v8-wasm_8h_source.html#l00199">v8-wasm.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_a30946d0d7717c33736cedce87d81a178"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#a30946d0d7717c33736cedce87d81a178">v8::WasmStreaming::~WasmStreaming</a></div><div class="ttdeci">~WasmStreaming()</div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_a5cb59c261f44e95e3f98b7b210be320c"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#a5cb59c261f44e95e3f98b7b210be320c">v8::WasmStreaming::Finish</a></div><div class="ttdeci">void Finish(bool can_use_compiled_module=true)</div><div class="ttdoc">{Finish} should be called after all received bytes where passed to {OnBytesReceived} to tell V8 that ...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11965">api.cc:11965</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_a73a233057ae54177e84d259f43a1781e"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#a73a233057ae54177e84d259f43a1781e">v8::WasmStreaming::SetCompiledModuleBytes</a></div><div class="ttdeci">bool SetCompiledModuleBytes(const uint8_t *bytes, size_t size)</div><div class="ttdoc">Passes previously compiled module bytes.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11969">api.cc:11969</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_a90a3e0128e3f21bcd621bca71e374600"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#a90a3e0128e3f21bcd621bca71e374600">v8::WasmStreaming::SetUrl</a></div><div class="ttdeci">void SetUrl(const char *url, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11978">api.cc:11978</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_abbd2c298061c6185e48671968f21f5c9"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#abbd2c298061c6185e48671968f21f5c9">v8::WasmStreaming::SetMoreFunctionsCanBeSerializedCallback</a></div><div class="ttdeci">void SetMoreFunctionsCanBeSerializedCallback(std::function&lt; void(CompiledWasmModule)&gt;)</div><div class="ttdoc">Sets a callback which is called whenever a significant number of new functions are ready for serializ...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11973">api.cc:11973</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_aca7399d97368360079e3030b2fb4fc94"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#aca7399d97368360079e3030b2fb4fc94">v8::WasmStreaming::Abort</a></div><div class="ttdeci">void Abort(MaybeLocal&lt; Value &gt; exception)</div><div class="ttdoc">Abort streaming compilation.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11967">api.cc:11967</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_ada886a06f191ac65897763bda60c2f54"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#ada886a06f191ac65897763bda60c2f54">v8::WasmStreaming::OnBytesReceived</a></div><div class="ttdeci">void OnBytesReceived(const uint8_t *bytes, size_t size)</div><div class="ttdoc">Pass a new chunk of bytes to WebAssembly streaming compilation.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11961">api.cc:11961</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_af90e13f9116c9c4184b6e621c87671c6"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">v8::WasmStreaming::Unpack</a></div><div class="ttdeci">static std::shared_ptr&lt; WasmStreaming &gt; Unpack(Isolate *isolate, Local&lt; Value &gt; value)</div><div class="ttdoc">Unpacks a {WasmStreaming} object wrapped in a {Managed} for the embedder.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11981">api.cc:11981</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00448">wasm-js.cc:449</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_a24866d5c78b928d94c65959078b56dd9"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a24866d5c78b928d94c65959078b56dd9">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::promise_resolver_</a></div><div class="ttdeci">Global&lt; Promise::Resolver &gt; promise_resolver_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00494">wasm-js.cc:494</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_a2bcb369030294c34f050f800f3d1fa3e"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a2bcb369030294c34f050f800f3d1fa3e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00493">wasm-js.cc:493</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_a4f825cc4f937db2e975da1e80cf848e6"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a4f825cc4f937db2e975da1e80cf848e6">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::imports_</a></div><div class="ttdeci">Global&lt; Value &gt; imports_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00495">wasm-js.cc:495</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_a77cdf4aa4bfb4d39dcd3069b9b77a2fb"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#a77cdf4aa4bfb4d39dcd3069b9b77a2fb">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::AsyncInstantiateCompileResultResolver</a></div><div class="ttdeci">AsyncInstantiateCompileResultResolver(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Promise::Resolver &gt; promise_resolver, Local&lt; Value &gt; imports)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00451">wasm-js.cc:451</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_ae2618d9b755d4d1485e3a350e34dd9a4"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#ae2618d9b755d4d1485e3a350e34dd9a4">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::OnCompilationSucceeded</a></div><div class="ttdeci">void OnCompilationSucceeded(i::DirectHandle&lt; i::WasmModuleObject &gt; result) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00463">wasm-js.cc:463</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_aeaa350b56ec1d397af0d0314ff26359c"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#aeaa350b56ec1d397af0d0314ff26359c">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::OnCompilationFailed</a></div><div class="ttdeci">void OnCompilationFailed(i::DirectHandle&lt; i::JSAny &gt; error_reason) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00475">wasm-js.cc:475</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1_html_afd2c1d34195f6337c48141b9dee5dcd2"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1Asyf497bc149bb3fcd479da07609f8049d1.html#afd2c1d34195f6337c48141b9dee5dcd2">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncInstantiateCompileResultResolver::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00492">wasm-js.cc:492</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00272">wasm-js.cc:272</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html_a23626396c378432e807886c78999e45e"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a23626396c378432e807886c78999e45e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver::OnCompilationFailed</a></div><div class="ttdeci">void OnCompilationFailed(i::DirectHandle&lt; i::JSAny &gt; error_reason) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00296">wasm-js.cc:296</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html_a60532b8319dfae1ae485f73611b5fffe"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a60532b8319dfae1ae485f73611b5fffe">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver::AsyncCompilationResolver</a></div><div class="ttdeci">AsyncCompilationResolver(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Promise::Resolver &gt; promise_resolver)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00274">wasm-js.cc:274</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html_a754b17d615315f3ea5756b772844654e"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a754b17d615315f3ea5756b772844654e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver::promise_resolver_</a></div><div class="ttdeci">Global&lt; Promise::Resolver &gt; promise_resolver_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00313">wasm-js.cc:313</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html_a8ec335e2d7207cc0c0a6735416db4e8a"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#a8ec335e2d7207cc0c0a6735416db4e8a">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00312">wasm-js.cc:312</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html_ad0ad7ffbc894523a9aaa21fa4fc860c6"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#ad0ad7ffbc894523a9aaa21fa4fc860c6">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver::OnCompilationSucceeded</a></div><div class="ttdeci">void OnCompilationSucceeded(i::DirectHandle&lt; i::WasmModuleObject &gt; result) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00283">wasm-js.cc:283</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver_html_aff3141d058d8a1014e2a6b825765de71"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1AsyncCompilationResolver.html#aff3141d058d8a1014e2a6b825765de71">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AsyncCompilationResolver::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00311">wasm-js.cc:311</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00365">wasm-js.cc:366</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_a33b5fe551853a7d1f8ce6a735088d55f"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a33b5fe551853a7d1f8ce6a735088d55f">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00436">wasm-js.cc:436</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_a6dfc5496493bc5396c5a18636824992e"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a6dfc5496493bc5396c5a18636824992e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00437">wasm-js.cc:437</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_a742dcf7561782f6c7ddec1007dbd2ac7"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a742dcf7561782f6c7ddec1007dbd2ac7">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::promise_resolver_</a></div><div class="ttdeci">Global&lt; Promise::Resolver &gt; promise_resolver_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00438">wasm-js.cc:438</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_a8ef7df277e8711ad07278ed85e0e57e8"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a8ef7df277e8711ad07278ed85e0e57e8">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::InstantiateBytesResultResolver</a></div><div class="ttdeci">InstantiateBytesResultResolver(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Promise::Resolver &gt; promise_resolver, Local&lt; Value &gt; module)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00368">wasm-js.cc:368</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_a9707bbb59ad84dd28d358a0b88c3aebe"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#a9707bbb59ad84dd28d358a0b88c3aebe">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::OnInstantiationFailed</a></div><div class="ttdeci">void OnInstantiationFailed(i::DirectHandle&lt; i::JSAny &gt; error_reason) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00422">wasm-js.cc:422</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_ac1cc124aada2ad644fc3871682d147a3"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#ac1cc124aada2ad644fc3871682d147a3">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::OnInstantiationSucceeded</a></div><div class="ttdeci">void OnInstantiationSucceeded(i::DirectHandle&lt; i::WasmInstanceObject &gt; instance) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00380">wasm-js.cc:380</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver_html_ac7a0414eaf64a3d21ab51036001999bb"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateBytesResultResolver.html#ac7a0414eaf64a3d21ab51036001999bb">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::module_</a></div><div class="ttdeci">Global&lt; Value &gt; module_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00439">wasm-js.cc:439</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00320">wasm-js.cc:321</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html_a5204d6df83234338dc33885a814755a2"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a5204d6df83234338dc33885a814755a2">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00355">wasm-js.cc:355</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html_a7a877e951476677d1488869370cd0096"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#a7a877e951476677d1488869370cd0096">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver::promise_resolver_</a></div><div class="ttdeci">Global&lt; Promise::Resolver &gt; promise_resolver_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00357">wasm-js.cc:357</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html_aa66bf2f304fb92ca9c327f41a7f98dc7"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#aa66bf2f304fb92ca9c327f41a7f98dc7">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver::context_</a></div><div class="ttdeci">Global&lt; Context &gt; context_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00356">wasm-js.cc:356</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html_aafd21e8600cd12e58f7f94816ccd07ab"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#aafd21e8600cd12e58f7f94816ccd07ab">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver::InstantiateModuleResultResolver</a></div><div class="ttdeci">InstantiateModuleResultResolver(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Promise::Resolver &gt; promise_resolver)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00323">wasm-js.cc:323</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html_ac214b4e8bd2f61af091101bb34fea41f"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#ac214b4e8bd2f61af091101bb34fea41f">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver::OnInstantiationFailed</a></div><div class="ttdeci">void OnInstantiationFailed(i::DirectHandle&lt; i::JSAny &gt; error_reason) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00343">wasm-js.cc:343</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver_html_ace88d5edd44e9a9fc1e29d30f406383a"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1InstantiateModuleResultResolver.html#ace88d5edd44e9a9fc1e29d30f406383a">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateModuleResultResolver::OnInstantiationSucceeded</a></div><div class="ttdeci">void OnInstantiationSucceeded(i::DirectHandle&lt; i::WasmInstanceObject &gt; instance) override</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00332">wasm-js.cc:332</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00663">wasm-js.cc:663</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_a0e99e2d3572778f05cebce6697bea5bc"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a0e99e2d3572778f05cebce6697bea5bc">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::WasmJSApiScope</a></div><div class="ttdeci">WasmJSApiScope(const WasmJSApiScope &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_a3864375e2305b4203d15da24258366f9"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a3864375e2305b4203d15da24258366f9">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::api_name</a></div><div class="ttdeci">const char * api_name() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00686">wasm-js.cc:686</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_a779aa9c234b349c95cafd245b0f1018d"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a779aa9c234b349c95cafd245b0f1018d">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::callback_info_</a></div><div class="ttdeci">const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp; callback_info_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00699">wasm-js.cc:699</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_a85de3c6dec1d63ea85420c8d128f1df3"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a85de3c6dec1d63ea85420c8d128f1df3">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::thrower_</a></div><div class="ttdeci">ErrorThrower thrower_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00702">wasm-js.cc:702</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_a94d2d3bfb313b2153dded0f947f8c0c1"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#a94d2d3bfb313b2153dded0f947f8c0c1">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::i_isolate</a></div><div class="ttdeci">i::Isolate * i_isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00695">wasm-js.cc:695</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_ab462ab81fee41d022143804cca90cd36"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#ab462ab81fee41d022143804cca90cd36">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::operator=</a></div><div class="ttdeci">WasmJSApiScope &amp; operator=(const WasmJSApiScope &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_acb47e554be71baee84afd52248eb7200"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#acb47e554be71baee84afd52248eb7200">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::isolates_and_thrower</a></div><div class="ttdeci">std::tuple&lt; v8::Isolate *, i::Isolate *, ErrorThrower &amp; &gt; isolates_and_thrower()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00690">wasm-js.cc:690</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_acb4c7b6b0259ba8702ec561f9c1819c5"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#acb4c7b6b0259ba8702ec561f9c1819c5">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::isolate_</a></div><div class="ttdeci">v8::Isolate *const isolate_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00700">wasm-js.cc:700</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_adc74a73185de54e1582eb9bc03eb0c74"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#adc74a73185de54e1582eb9bc03eb0c74">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::AssertException</a></div><div class="ttdeci">void AssertException() const</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00678">wasm-js.cc:678</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_ae9094a623c4cf203cfe903b8550d3711"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#ae9094a623c4cf203cfe903b8550d3711">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::WasmJSApiScope</a></div><div class="ttdeci">WasmJSApiScope(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;callback_info, const char *api_name)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00665">wasm-js.cc:665</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_aecd110ba5f68ee8b79effefb7aa8e9db"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#aecd110ba5f68ee8b79effefb7aa8e9db">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::handle_scope_</a></div><div class="ttdeci">HandleScope handle_scope_</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00701">wasm-js.cc:701</a></div></div>
<div class="ttc" id="aclassv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope_html_af341e4052e448e01bfd5102fa49e97f1"><div class="ttname"><a href="classv8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_1_1WasmJSApiScope.html#af341e4052e448e01bfd5102fa49e97f1">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmJSApiScope::callback_info</a></div><div class="ttdeci">const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp; callback_info()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00682">wasm-js.cc:682</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1FPU_html_a3ff62a501dd635fad8cf25c98bd304e3"><div class="ttname"><a href="classv8_1_1base_1_1FPU.html#a3ff62a501dd635fad8cf25c98bd304e3">v8::base::FPU::GetFlushDenormals</a></div><div class="ttdeci">static V8_BASE_EXPORT bool GetFlushDenormals()</div><div class="ttdef"><b>Definition:</b> <a href="fpu_8cc_source.html#l00096">fpu.cc:96</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html">v8::base::OwnedVector&lt; const uint8_t &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a06e21ab8fe667b1e60f93d4ea690d92a"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a06e21ab8fe667b1e60f93d4ea690d92a">v8::base::OwnedVector::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00239">vector.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a1ca15a19c0441e2f03478984aff700b4"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a1ca15a19c0441e2f03478984aff700b4">v8::base::OwnedVector::begin</a></div><div class="ttdeci">constexpr T * begin() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00241">vector.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_a26c158458db822b4e91ca63ec1026131"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#a26c158458db822b4e91ca63ec1026131">v8::base::OwnedVector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00236">vector.h:236</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OwnedVector_html_af4f3e4cad212e5321ef9d3cb31009fe8"><div class="ttname"><a href="classv8_1_1base_1_1OwnedVector.html#af4f3e4cad212e5321ef9d3cb31009fe8">v8::base::OwnedVector::NewForOverwrite</a></div><div class="ttdeci">static OwnedVector&lt; T &gt; NewForOverwrite(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00294">vector.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector&lt; const uint8_t &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a7ae17f2372808420997b1aff6addcdd0"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a7ae17f2372808420997b1aff6addcdd0">v8::base::Vector::data</a></div><div class="ttdeci">constexpr T * data() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00100">vector.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8073322d2a3a5ad755e74dbda482b18c"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8073322d2a3a5ad755e74dbda482b18c">v8::base::Vector::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00073">vector.h:73</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html_a8f91dff816409fb9bceaa94c6caeec32"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html#a8f91dff816409fb9bceaa94c6caeec32">v8::base::Vector::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00070">vector.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Descriptor_html"><div class="ttname"><a href="classv8_1_1internal_1_1Descriptor.html">v8::internal::Descriptor</a></div><div class="ttdef"><b>Definition:</b> <a href="property_8h_source.html#l00025">property.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ErrorUtils_html_ae2e7c0a93577742e9ba4ff8c8fd14f18"><div class="ttname"><a href="classv8_1_1internal_1_1ErrorUtils.html#ae2e7c0a93577742e9ba4ff8c8fd14f18">v8::internal::ErrorUtils::CaptureStackTrace</a></div><div class="ttdeci">static MaybeHandle&lt; Object &gt; CaptureStackTrace(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, FrameSkipMode mode, Handle&lt; Object &gt; caller)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cc_source.html#l01217">messages.cc:1217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a099d2a505298c549ede814b4b4021464"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">v8::internal::FactoryBase::NewStringFromAsciiChecked</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromAsciiChecked(const char *str, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8h_source.html#l00325">factory-base.h:325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_1_1JSFunctionBuilder_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory_1_1JSFunctionBuilder.html">v8::internal::Factory::JSFunctionBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="factory_8h_source.html#l01121">factory.h:1121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html">v8::internal::Factory</a></div><div class="ttdef"><b>Definition:</b> <a href="factory_8h_source.html#l00141">factory.h:141</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a24cfe966f1e132421cf12817dfc3fb49"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a24cfe966f1e132421cf12817dfc3fb49">v8::internal::Factory::NewSharedFunctionInfoForBuiltin</a></div><div class="ttdeci">Handle&lt; SharedFunctionInfo &gt; NewSharedFunctionInfoForBuiltin(MaybeDirectHandle&lt; String &gt; name, Builtin builtin, int len, AdaptArguments adapt, FunctionKind kind=FunctionKind::kNormalFunction)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l03943">factory.cc:3943</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a4b252a0366739cd2612e0a11b54827b9"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a4b252a0366739cd2612e0a11b54827b9">v8::internal::Factory::NewContextfulMap</a></div><div class="ttdeci">DirectHandle&lt; Map &gt; NewContextfulMap(DirectHandle&lt; JSReceiver &gt; creation_context_holder, InstanceType type, int instance_size, ElementsKind elements_kind=TERMINAL_FAST_ELEMENTS_KIND, int inobject_properties=0, AllocationType allocation_type=AllocationType::kMap)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l02436">factory.cc:2436</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a54c843caad6266415afc266860855cdb"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a54c843caad6266415afc266860855cdb">v8::internal::Factory::NewJSObject</a></div><div class="ttdeci">Handle&lt; JSObject &gt; NewJSObject(DirectHandle&lt; JSFunction &gt; constructor, AllocationType allocation=AllocationType::kYoung, NewJSObjectType=NewJSObjectType::kNoAPIWrapper)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l03018">factory.cc:3018</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_af3f3d9861e8eb4e63e94eae4d18aa477"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#af3f3d9861e8eb4e63e94eae4d18aa477">v8::internal::Factory::InternalizeUtf8String</a></div><div class="ttdeci">Handle&lt; String &gt; InternalizeUtf8String(base::Vector&lt; const char &gt; str)</div><div class="ttdef"><b>Definition:</b> <a href="factory_8cc_source.html#l00614">factory.cc:614</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00263">handles.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00150">handles.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a02fd172ef4a5caf9b5ce7d9794f79510"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a02fd172ef4a5caf9b5ce7d9794f79510">v8::internal::Isolate::global_object</a></div><div class="ttdeci">Handle&lt; JSGlobalObject &gt; global_object()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00211">isolate-inl.h:211</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a05a2b08b2b0f2d5aef8dc053e2ea3d9b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a05a2b08b2b0f2d5aef8dc053e2ea3d9b">v8::internal::Isolate::Current</a></div><div class="ttdeci">static Isolate * Current()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00035">isolate-inl.h:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7440b084462b9f1a235e83b7c8c72bde"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7440b084462b9f1a235e83b7c8c72bde">v8::internal::Isolate::exception</a></div><div class="ttdeci">Tagged&lt; Object &gt; exception()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00104">isolate-inl.h:104</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7e2962359009581ba84e6a361f574f61"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">v8::internal::Isolate::factory</a></div><div class="ttdeci">v8::internal::Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01553">isolate.h:1553</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a9690b82e4f9b4c8a9160630396cde0b3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a9690b82e4f9b4c8a9160630396cde0b3">v8::internal::Isolate::counters</a></div><div class="ttdeci">Counters * counters()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01195">isolate.h:1195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aac516068d1a011e5aa0a648fec009cef"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aac516068d1a011e5aa0a648fec009cef">v8::internal::Isolate::IsWasmJSPIRequested</a></div><div class="ttdeci">bool IsWasmJSPIRequested(DirectHandle&lt; NativeContext &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l03742">isolate.cc:3742</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aed5dcd4c10242ef0225dfbd02b5dbdd3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aed5dcd4c10242ef0225dfbd02b5dbdd3">v8::internal::Isolate::has_exception</a></div><div class="ttdeci">bool has_exception()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00125">isolate-inl.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a793b022df61dd2831e6049bac4a28c1f"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a793b022df61dd2831e6049bac4a28c1f">v8::internal::JSObject::SetPrototype</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; SetPrototype(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Object &gt; value, bool from_javascript, ShouldThrow should_throw)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l05255">js-objects.cc:5255</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_aba4a2cfb4946da1635ae2730b710ff00"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">v8::internal::JSReceiver::GetProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetProperty(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; receiver, const char *key)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00123">js-objects-inl.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_ad0df2ef8ddcadcd2c2d7d96b19b7c3d3"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#ad0df2ef8ddcadcd2c2d7d96b19b7c3d3">v8::internal::JSReceiver::HasProperty</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT Maybe&lt; bool &gt; HasProperty(LookupIterator *it)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l00100">js-objects.cc:100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LookupIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1LookupIterator.html">v8::internal::LookupIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="lookup_8h_source.html#l00053">lookup.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html_a1c10cb948281b864db32d8af25a7b7d9"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">v8::internal::Managed::From</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="managed-inl_8h_source.html#l00027">managed-inl.h:27</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00241">maybe-handles.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_a7c6aa1159cd89fe343afabcaad620b98"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">v8::internal::MaybeDirectHandle::ToHandle</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool ToHandle(DirectHandle&lt; S &gt; *out) const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00277">maybe-handles.h:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html">v8::internal::MaybeHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00028">maybe-handles.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html_a76d0200bf11d6f7628c7119d730efa44"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html#a76d0200bf11d6f7628c7119d730efa44">v8::internal::MaybeHandle::is_null</a></div><div class="ttdeci">bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00086">maybe-handles.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeHandle_html_ae438e7523da771eebf0e4e32bda5c421"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeHandle.html#ae438e7523da771eebf0e4e32bda5c421">v8::internal::MaybeHandle::ToHandleChecked</a></div><div class="ttdeci">Handle&lt; T &gt; ToHandleChecked() const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00055">maybe-handles.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_a8a6c6d9b71bb8f6bd6004b8f6f48c9f7"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#a8a6c6d9b71bb8f6bd6004b8f6f48c9f7">v8::internal::Object::NumberValue</a></div><div class="ttdeci">static double NumberValue(Tagged&lt; Number &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00675">objects-inl.h:675</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_aa870be46a7f7980c0a46fb451da7ae30"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#aa870be46a7f7980c0a46fb451da7ae30">v8::internal::Object::GetLengthFromArrayLike</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeDirectHandle&lt; Object &gt; GetLengthFromArrayLike(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l01240">objects.cc:1240</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Object_html_ad7dc2b339d7369929cc389421d491575"><div class="ttname"><a href="classv8_1_1internal_1_1Object.html#ad7dc2b339d7369929cc389421d491575">v8::internal::Object::GetProperty</a></div><div class="ttdeci">V8_EXPORT_PRIVATE static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetProperty(LookupIterator *it, bool is_global_reference=false)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l01250">objects.cc:1250</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PodArray_html"><div class="ttname"><a href="classv8_1_1internal_1_1PodArray.html">v8::internal::PodArray</a></div><div class="ttdef"><b>Definition:</b> <a href="fixed-array_8h_source.html#l00933">fixed-array.h:933</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Signature_html"><div class="ttname"><a href="classv8_1_1internal_1_1Signature.html">v8::internal::Signature&lt; ValueType &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDescriptorOptions_html_a3d09ffa2effb4501fd95e5fb947c9970"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDescriptorOptions.html#a3d09ffa2effb4501fd95e5fb947c9970">v8::internal::WasmDescriptorOptions::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmDescriptorOptions &gt; New(Isolate *isolate, DirectHandle&lt; Object &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02400">wasm-objects.cc:2400</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a310dfde86feecf720c6a44124ab7dbca"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a310dfde86feecf720c6a44124ab7dbca">v8::internal::WasmExceptionPackage::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmExceptionPackage &gt; New(Isolate *isolate, DirectHandle&lt; WasmExceptionTag &gt; exception_tag, int encoded_size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02750">wasm-objects.cc:2750</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a92e3cf4344536855bbcc0c46ec31c269"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a92e3cf4344536855bbcc0c46ec31c269">v8::internal::WasmExceptionPackage::GetExceptionValues</a></div><div class="ttdeci">static DirectHandle&lt; Object &gt; GetExceptionValues(Isolate *isolate, DirectHandle&lt; WasmExceptionPackage &gt; exception_package)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02781">wasm-objects.cc:2781</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a932f3378b7a526a7233f8264f5faa3b3"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a932f3378b7a526a7233f8264f5faa3b3">v8::internal::WasmExceptionPackage::GetEncodedSize</a></div><div class="ttdeci">static uint32_t GetEncodedSize(const wasm::WasmTagSig *tag)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02865">wasm-objects.cc:2865</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_aff0527791499aaefa3d40b6b010470ca"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#aff0527791499aaefa3d40b6b010470ca">v8::internal::WasmExceptionPackage::GetExceptionTag</a></div><div class="ttdeci">static DirectHandle&lt; Object &gt; GetExceptionTag(Isolate *isolate, DirectHandle&lt; WasmExceptionPackage &gt; exception_package)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02769">wasm-objects.cc:2769</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionTag_html_a16f4ecfd034d8f83eb0b57c2dfeb7e86"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">v8::internal::WasmExceptionTag::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmExceptionTag &gt; New(Isolate *isolate, int index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03305">wasm-objects.cc:3305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_a89d14615aeb9e6fdd2017315fe60d0ef"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">v8::internal::WasmExportedFunction::IsWasmExportedFunction</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool IsWasmExportedFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02899">wasm-objects.cc:2899</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_ac6583fa41f78a2543566f9812e57146b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#ac6583fa41f78a2543566f9812e57146b">v8::internal::WasmExportedFunction::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmExportedFunction &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_data, DirectHandle&lt; WasmFuncRef &gt; func_ref, DirectHandle&lt; WasmInternalFunction &gt; internal_function, int arity, DirectHandle&lt; Code &gt; export_wrapper)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02957">wasm-objects.cc:2957</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmGlobalObject_html_ade63c64025c7c0f0ba5a05b9d11e431f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmGlobalObject.html#ade63c64025c7c0f0ba5a05b9d11e431f">v8::internal::WasmGlobalObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeDirectHandle&lt; WasmGlobalObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_object, MaybeDirectHandle&lt; JSArrayBuffer &gt; maybe_untagged_buffer, MaybeDirectHandle&lt; FixedArray &gt; maybe_tagged_buffer, wasm::ValueType type, int32_t offset, bool is_mutable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01429">wasm-objects.cc:1429</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunction_html_a5f4776e0c31cabfacc5c5cfa6d1a6caa"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunction.html#a5f4776e0c31cabfacc5c5cfa6d1a6caa">v8::internal::WasmJSFunction::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmJSFunction &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, DirectHandle&lt; JSReceiver &gt; callable, wasm::Suspend suspend)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03182">wasm-objects.cc:3182</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunction_html_acd5f3569a442acea759fd951ca21567f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">v8::internal::WasmJSFunction::IsWasmJSFunction</a></div><div class="ttdeci">static bool IsWasmJSFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03078">wasm-objects.cc:3078</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryMapDescriptor_html_a5d494fe23259c204fea87f6e5eefb391"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a5d494fe23259c204fea87f6e5eefb391">v8::internal::WasmMemoryMapDescriptor::NewFromAnonymous</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeDirectHandle&lt; WasmMemoryMapDescriptor &gt; NewFromAnonymous(Isolate *isolate, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01304">wasm-objects.cc:1304</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a11123e674ed260e849a726396a6b1f3c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a11123e674ed260e849a726396a6b1f3c">v8::internal::WasmMemoryObject::ToFixedLengthBuffer</a></div><div class="ttdeci">static DirectHandle&lt; JSArrayBuffer &gt; ToFixedLengthBuffer(Isolate *isolate, DirectHandle&lt; WasmMemoryObject &gt; memory)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01269">wasm-objects.cc:1269</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a32101d7a077535dadf31d9373ec3a6f2"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a32101d7a077535dadf31d9373ec3a6f2">v8::internal::WasmMemoryObject::ToResizableBuffer</a></div><div class="ttdeci">static DirectHandle&lt; JSArrayBuffer &gt; ToResizableBuffer(Isolate *isolate, DirectHandle&lt; WasmMemoryObject &gt; memory)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01285">wasm-objects.cc:1285</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a65b8addcf2135f693f3f83a8acf74aa7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">v8::internal::WasmMemoryObject::kNoMaximum</a></div><div class="ttdeci">static constexpr int kNoMaximum</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00427">wasm-objects.h:427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab04a12b70d33ad72a3442d2a21bbfff7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">v8::internal::WasmMemoryObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int32_t Grow(Isolate *, DirectHandle&lt; WasmMemoryObject &gt;, uint32_t pages)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01146">wasm-objects.cc:1146</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab10298844a3a2e6993fc6f3634eaf898"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">v8::internal::WasmMemoryObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmMemoryObject &gt; New(Isolate *isolate, DirectHandle&lt; JSArrayBuffer &gt; buffer, int maximum, wasm::AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00878">wasm-objects.cc:878</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmSuspendingObject_html_a07464f83ede52a8147f4d4bb36c4123d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmSuspendingObject.html#a07464f83ede52a8147f4d4bb36c4123d">v8::internal::WasmSuspendingObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmSuspendingObject &gt; New(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; callable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00822">wasm-objects.cc:822</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a44960b521a446db5f1e61b9bfb0c56d6"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a44960b521a446db5f1e61b9bfb0c56d6">v8::internal::WasmTableObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmTableObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data, wasm::ValueType type, wasm::CanonicalValueType canonical_type, uint32_t initial, bool has_maximum, uint64_t maximum, DirectHandle&lt; Object &gt; initial_value, wasm::AddressType address_type, DirectHandle&lt; WasmDispatchTable &gt; *out_dispatch_table=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00196">wasm-objects.cc:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_aa5e3c6d5c308301194a5fd89e6dd9e59"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#aa5e3c6d5c308301194a5fd89e6dd9e59">v8::internal::WasmTableObject::Get</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; Object &gt; Get(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00431">wasm-objects.cc:431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_aaa393ceb64344c386d966b5b1c6e9a16"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">v8::internal::WasmTableObject::JSToWasmElement</a></div><div class="ttdeci">static MaybeDirectHandle&lt; Object &gt; JSToWasmElement(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, DirectHandle&lt; Object &gt; entry, const char **error_message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00328">wasm-objects.cc:328</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_acfdec070b48fe34a36f7aa7fed63a969"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">v8::internal::WasmTableObject::Set</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Set(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index, DirectHandle&lt; Object &gt; entry)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00379">wasm-objects.cc:379</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ad51363b96ea8a38d2957f46f2767b4de"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">v8::internal::WasmTableObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int Grow(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t count, DirectHandle&lt; Object &gt; init_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00259">wasm-objects.cc:259</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTagObject_html_a80e21a9531997c9d7c95d9bd95d86cd4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">v8::internal::WasmTagObject::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmTagObject &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, wasm::CanonicalTypeIndex type_index, DirectHandle&lt; HeapObject &gt; tag, DirectHandle&lt; WasmTrustedInstanceData &gt; instance)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02367">wasm-objects.cc:2367</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00043">zone.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1CompileTimeImports_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1CompileTimeImports.html">v8::internal::wasm::CompileTimeImports</a></div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00150">wasm-features.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fa320906bfc64211b7edc96b87e7bb0b1f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa320906bfc64211b7edc96b87e7bb0b1f">v8::internal::wasm::HeapType::kStringViewIter</a></div><div class="ttdeci">@ kStringViewIter</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00805">value-type.h:805</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fa446676998f26658060f286eeef6669df"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa446676998f26658060f286eeef6669df">v8::internal::wasm::HeapType::kExn</a></div><div class="ttdeci">@ kExn</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00801">value-type.h:801</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fa529e9f3c6770fd6ad2816bde1bd1b850"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa529e9f3c6770fd6ad2816bde1bd1b850">v8::internal::wasm::HeapType::kNoExn</a></div><div class="ttdeci">@ kNoExn</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00809">value-type.h:809</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fa95dbdc9ef58bd0036eb0d473fa446447"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa95dbdc9ef58bd0036eb0d473fa446447">v8::internal::wasm::HeapType::kNoCont</a></div><div class="ttdeci">@ kNoCont</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00812">value-type.h:812</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fa9ae3ff6d40e4ac963dbe392d083e73bb"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa9ae3ff6d40e4ac963dbe392d083e73bb">v8::internal::wasm::HeapType::kStringViewWtf8</a></div><div class="ttdeci">@ kStringViewWtf8</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00803">value-type.h:803</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fa9c79438cff5460b1bbe855546a90f95b"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fa9c79438cff5460b1bbe855546a90f95b">v8::internal::wasm::HeapType::kStringViewWtf16</a></div><div class="ttdeci">@ kStringViewWtf16</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00804">value-type.h:804</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1HeapType_html_a3cb113c1c1bd610631ec536141d2b05fab9ec01b11894d2e81d42dc19629e0d3d"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1HeapType.html#a3cb113c1c1bd610631ec536141d2b05fab9ec01b11894d2e81d42dc19629e0d3d">v8::internal::wasm::HeapType::kCont</a></div><div class="ttdeci">@ kCont</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00810">value-type.h:810</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa1f36fc3851ba2316d47223fa2b6e155"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalSig * LookupFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00190">canonical-types.cc:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa7d63877150be29e04f49d189ea88c99"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">v8::internal::wasm::TypeCanonicalizer::AddRecursiveGroup</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void AddRecursiveGroup(WasmModule *module, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00032">canonical-types.cc:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1ValueType_html"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1ValueType.html">v8::internal::wasm::ValueType</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00885">value-type.h:885</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a3f2610a2d8fa2c20a8569e4cb665d194"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a3f2610a2d8fa2c20a8569e4cb665d194">v8::internal::wasm::WasmEngine::SyncCompile</a></div><div class="ttdeci">MaybeDirectHandle&lt; WasmModuleObject &gt; SyncCompile(Isolate *isolate, WasmEnabledFeatures enabled, CompileTimeImports compile_imports, ErrorThrower *thrower, base::OwnedVector&lt; const uint8_t &gt; bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00669">wasm-engine.cc:669</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a82694f241e35d38f8f882c255e49e743"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a82694f241e35d38f8f882c255e49e743">v8::internal::wasm::WasmEngine::type_canonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * type_canonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8h_source.html#l00392">wasm-engine.h:392</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aa17c088fdbc894379d393baf814073f7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aa17c088fdbc894379d393baf814073f7">v8::internal::wasm::WasmEngine::AsyncCompile</a></div><div class="ttdeci">void AsyncCompile(Isolate *isolate, WasmEnabledFeatures enabled, CompileTimeImports compile_imports, std::shared_ptr&lt; CompilationResultResolver &gt; resolver, base::OwnedVector&lt; const uint8_t &gt; bytes, const char *api_method_name_for_errors)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00790">wasm-engine.cc:790</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aad8e9ffbc98ee56a23ee1e76a115b34f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aad8e9ffbc98ee56a23ee1e76a115b34f">v8::internal::wasm::WasmEngine::SyncValidate</a></div><div class="ttdeci">bool SyncValidate(Isolate *isolate, WasmEnabledFeatures enabled, CompileTimeImports compile_imports, base::Vector&lt; const uint8_t &gt; bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00585">wasm-engine.cc:585</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aefbc53197e63d504193b408056d37721"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aefbc53197e63d504193b408056d37721">v8::internal::wasm::WasmEngine::AsyncInstantiate</a></div><div class="ttdeci">void AsyncInstantiate(Isolate *isolate, std::unique_ptr&lt; InstantiationResultResolver &gt; resolver, DirectHandle&lt; WasmModuleObject &gt; module_object, MaybeDirectHandle&lt; JSReceiver &gt; imports)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00753">wasm-engine.cc:753</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_af22849720fbd54f8307292fe33c35a07"><div class="ttname"><a href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a></div><div class="ttdeci">constexpr const char * ToString(DataViewOp op)</div><div class="ttdef"><b>Definition:</b> <a href="data-view-ops_8h_source.html#l00032">data-view-ops.h:32</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html"><div class="ttname"><a href="execution_2isolate_8h.html">isolate.h</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_a6a0c40de52f9f029945027e5834661ad"><div class="ttname"><a href="execution_2isolate_8h.html#a6a0c40de52f9f029945027e5834661ad">ASSIGN_RETURN_ON_EXCEPTION_VALUE</a></div><div class="ttdeci">#define ASSIGN_RETURN_ON_EXCEPTION_VALUE(isolate, dst, call, value)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00277">isolate.h:277</a></div></div>
<div class="ttc" id="aexecution_2isolate_8h_html_ab9c5f988388c2c537b8b161438e4ed31"><div class="ttname"><a href="execution_2isolate_8h.html#ab9c5f988388c2c537b8b161438e4ed31">MAYBE_RETURN</a></div><div class="ttdeci">#define MAYBE_RETURN(call, value)</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00409">isolate.h:409</a></div></div>
<div class="ttc" id="aexecution_8h_html"><div class="ttname"><a href="execution_8h.html">execution.h</a></div></div>
<div class="ttc" id="afactory_8h_html"><div class="ttname"><a href="factory_8h.html">factory.h</a></div></div>
<div class="ttc" id="afixed-array_8h_html"><div class="ttname"><a href="fixed-array_8h.html">fixed-array.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3ced3697c19e78b3fb4994a89f46945e"><div class="ttname"><a href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02171">flag-definitions.h:2171</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflags_2flags_8h_html"><div class="ttname"><a href="flags_2flags_8h.html">flags.h</a></div></div>
<div class="ttc" id="afpu_8h_html"><div class="ttname"><a href="fpu_8h.html">fpu.h</a></div></div>
<div class="ttc" id="afunction-compiler_8h_html"><div class="ttname"><a href="function-compiler_8h.html">function-compiler.h</a></div></div>
<div class="ttc" id="ahandles_8h_html"><div class="ttname"><a href="handles_8h.html">handles.h</a></div></div>
<div class="ttc" id="ainstance-type_8h_html"><div class="ttname"><a href="instance-type_8h.html">instance-type.h</a></div></div>
<div class="ttc" id="ajs-function_8h_html"><div class="ttname"><a href="js-function_8h.html">js-function.h</a></div></div>
<div class="ttc" id="amanaged-inl_8h_html"><div class="ttname"><a href="managed-inl_8h.html">managed-inl.h</a></div></div>
<div class="ttc" id="amessages_8h_html"><div class="ttname"><a href="messages_8h.html">messages.h</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02api_8cc_03_html_a0be2944595d695733e968a9a946d9fcc"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">v8::anonymous_namespace{api.cc}::ToHandle</a></div><div class="ttdeci">i::DirectHandle&lt; T &gt; ToHandle(i::Handle&lt; T &gt; h)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07748">api.cc:7748</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a0c59b1dfcb356042e275ff204f1127be"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0c59b1dfcb356042e275ff204f1127be">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EncodeExceptionValues</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool EncodeExceptionValues(v8::Isolate *isolate, i::DirectHandle&lt; i::PodArray&lt; i::wasm::ValueType &gt;&gt; signature, i::DirectHandle&lt; i::WasmTagObject &gt; tag_object, const Local&lt; Value &gt; &amp;arg, ErrorThrower *thrower, i::DirectHandle&lt; i::FixedArray &gt; values_out)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02051">wasm-js.cc:2051</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a2ae6fb774fc195675ba598072f0da456"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToI64</a></div><div class="ttdeci">bool ToI64(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, int64_t *i64_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01776">wasm-js.cc:1776</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a326943946c937b0837f411bd6068cf7e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToF32</a></div><div class="ttdeci">bool ToF32(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, float *f32_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01785">wasm-js.cc:1785</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a361699e49cecab7e16584fcb747876fe"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetIterableLength</a></div><div class="ttdeci">uint32_t GetIterableLength(i::Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Object &gt; iterable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01959">wasm-js.cc:1959</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a3c5caa16bf7299bb8d809591ef2733b9"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToU64</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; AddressValueToU64(ErrorThrower *thrower, Local&lt; Context &gt; context, v8::Local&lt; v8::Value &gt; value, Name property_name, AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01260">wasm-js.cc:1260</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4147c03ee307212e25fc9da8cb675c4a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod</a></div><div class="ttdeci">void RecordCompilationMethod(i::Isolate *isolate, CompilationMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00573">wasm-js.cc:573</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a46a8e5f8c34da455cec8ad9bedd07119"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetInitialOrMinimumProperty</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; GetInitialOrMinimumProperty(v8::Isolate *isolate, ErrorThrower *thrower, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; descriptor, AddressType address_type, uint64_t upper_bound)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01337">wasm-js.cc:1337</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4d8c80876c9b427265f2bdb634e62d70"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype</a></div><div class="ttdeci">bool TransferPrototype(i::Isolate *isolate, i::DirectHandle&lt; i::JSObject &gt; destination, i::DirectHandle&lt; i::JSReceiver &gt; source)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00936">wasm-js.cc:936</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a5c27ccf9d3fac863f80bac41d3a0b60b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions</a></div><div class="ttdeci">CompileTimeImports ArgumentToCompileOptions(Local&lt; Value &gt; arg_value, i::Isolate *isolate, WasmEnabledFeatures enabled_features)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00577">wasm-js.cc:577</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6175aef8f0e75a6a6ca38d79dbe08f04"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToI32</a></div><div class="ttdeci">bool ToI32(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, int32_t *i32_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01767">wasm-js.cc:1767</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6481005ff2b35962cd81e7a6a12eaf42"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetOptionalAddressValue</a></div><div class="ttdeci">std::optional&lt; std::optional&lt; uint64_t &gt; &gt; GetOptionalAddressValue(ErrorThrower *thrower, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; descriptor, Local&lt; String &gt; property, AddressType address_type, int64_t lower_bound, uint64_t upper_bound)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01306">wasm-js.cc:1306</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a679f5944281d45950d7d79c536f103b8"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EnforceUint32</a></div><div class="ttdeci">std::optional&lt; uint32_t &gt; EnforceUint32(Name argument_name, Local&lt; v8::Value &gt; v, Local&lt; Context &gt; context, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00511">wasm-js.cc:511</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a77cc11472c760fe6c884a2b8b3247127"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a77cc11472c760fe6c884a2b8b3247127">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetEncodedSize</a></div><div class="ttdeci">uint32_t GetEncodedSize(i::DirectHandle&lt; i::WasmTagObject &gt; tag_object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02043">wasm-js.cc:2043</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab1e39290866cb51520e0d9af30af7035"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::DefaultReferenceValue</a></div><div class="ttdeci">i::DirectHandle&lt; i::HeapObject &gt; DefaultReferenceValue(i::Isolate *isolate, i::wasm::ValueType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01383">wasm-js.cc:1383</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab4f484a7bec0c8f51d7df97ca05936f4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmObjectToJSReturnValue</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool WasmObjectToJSReturnValue(v8::ReturnValue&lt; v8::Value &gt; &amp;return_value, i::DirectHandle&lt; i::Object &gt; value, i::wasm::ValueType type, i::Isolate *isolate, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02641">wasm-js.cc:2641</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ac1cc2e2c4221e61762e076e3d5b5fb6d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac1cc2e2c4221e61762e076e3d5b5fb6d">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EnforceBigIntUint64</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; EnforceBigIntUint64(Name argument_name, Local&lt; Value &gt; v, Local&lt; Context &gt; context, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00541">wasm-js.cc:541</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ac2f96f719e962655133bcd7e5c74d1e2"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac2f96f719e962655133bcd7e5c74d1e2">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToBoundedU64</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; AddressValueToBoundedU64(ErrorThrower *thrower, Local&lt; Context &gt; context, v8::Local&lt; v8::Value &gt; value, i::DirectHandle&lt; i::String &gt; property_name, AddressType address_type, uint64_t lower_bound, uint64_t upper_bound)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01277">wasm-js.cc:1277</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad0e5aedddf4efca62c7da916c8ef5024"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToF64</a></div><div class="ttdeci">bool ToF64(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, double *f64_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01796">wasm-js.cc:1796</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ada9b780eabdd23dceca5de86995e893d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ImportsAsMaybeReceiver</a></div><div class="ttdeci">i::MaybeDirectHandle&lt; i::JSReceiver &gt; ImportsAsMaybeReceiver(Local&lt; Value &gt; ffi)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00263">wasm-js.cc:263</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ae103516ca8fe7bd3948cda56c6c9a31c"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueFromUnsigned</a></div><div class="ttdeci">v8::Local&lt; Value &gt; AddressValueFromUnsigned(Isolate *isolate, i::wasm::AddressType type, unsigned value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01375">wasm-js.cc:1375</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::CompilationMethod</a></div><div class="ttdeci">CompilationMethod</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00565">wasm-js.cc:565</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kStreamingCompilation</a></div><div class="ttdeci">@ kStreamingCompilation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00568">wasm-js.cc:568</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kSyncCompilation</a></div><div class="ttdeci">@ kSyncCompilation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00566">wasm-js.cc:566</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kStreamingInstantiation</a></div><div class="ttdeci">@ kStreamingInstantiation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00570">wasm-js.cc:570</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kAsyncCompilation</a></div><div class="ttdeci">@ kAsyncCompilation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00567">wasm-js.cc:567</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kAsyncInstantiation</a></div><div class="ttdeci">@ kAsyncInstantiation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00569">wasm-js.cc:569</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af9b6376bd669d7a974598324d3c18837"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetAddressType</a></div><div class="ttdeci">std::optional&lt; AddressType &gt; GetAddressType(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; descriptor, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01397">wasm-js.cc:1397</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a0445641ba7db42f32e5fc96d543b9bfb"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0445641ba7db42f32e5fc96d543b9bfb">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalSetValueImpl</a></div><div class="ttdeci">void WebAssemblyGlobalSetValueImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03149">wasm-js.cc:3149</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a0b20f4d4fbe2dc1a4bfb89b8daeba0bf"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0b20f4d4fbe2dc1a4bfb89b8daeba0bf">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyExceptionIsImpl</a></div><div class="ttdeci">void WebAssemblyExceptionIsImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03076">wasm-js.cc:3076</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a0d65454a5c0bd1202bec0c61b96c54e3"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0d65454a5c0bd1202bec0c61b96c54e3">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryMapDescriptorImpl</a></div><div class="ttdeci">void WebAssemblyMemoryMapDescriptorImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01668">wasm-js.cc:1668</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a12bb9a1d5a119f47fd37d71d197381a9"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a12bb9a1d5a119f47fd37d71d197381a9">v8::anonymous_namespace{wasm-js.cc}::kName_WasmExceptionPackage</a></div><div class="ttdeci">constexpr const char * kName_WasmExceptionPackage</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02558">wasm-js.cc:2558</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a1dac09354501498a47e41e530f2b77f3"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a1dac09354501498a47e41e530f2b77f3">v8::anonymous_namespace{wasm-js.cc}::kName_WasmTagObject</a></div><div class="ttdeci">constexpr const char * kName_WasmTagObject</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02557">wasm-js.cc:2557</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a22e798f57b4d736ad3f5c535c380864d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyDescriptorOptionsImpl</a></div><div class="ttdeci">void WebAssemblyDescriptorOptionsImpl(const FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02461">wasm-js.cc:2461</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a25ca8135bb0b20cdf89ea80e484efa2f"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">v8::anonymous_namespace{wasm-js.cc}::WasmStreamingPromiseFailedCallback</a></div><div class="ttdeci">void WasmStreamingPromiseFailedCallback(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00778">wasm-js.cc:778</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a2736eaaacaa0f666c3ecc732a6f740ea"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">v8::anonymous_namespace{wasm-js.cc}::WasmStreamingCallbackForTesting</a></div><div class="ttdeci">void WasmStreamingCallbackForTesting(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00756">wasm-js.cc:756</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a2e84efb3ddc838b4645d1dd7ded761e6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2e84efb3ddc838b4645d1dd7ded761e6">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryImpl</a></div><div class="ttdeci">void WebAssemblyMemoryImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01570">wasm-js.cc:1570</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a2fe24af2c267a2334b39850944e39549"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2fe24af2c267a2334b39850944e39549">v8::anonymous_namespace{wasm-js.cc}::kName_WasmTableObject</a></div><div class="ttdeci">constexpr const char * kName_WasmTableObject</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02556">wasm-js.cc:2556</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a335ab82e09665d4075f3f17d8bde25c5"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a335ab82e09665d4075f3f17d8bde25c5">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryGetBufferImpl</a></div><div class="ttdeci">void WebAssemblyMemoryGetBufferImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02837">wasm-js.cc:2837</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a33eae2ff47c44aadd35fd800fa9daf40"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a33eae2ff47c44aadd35fd800fa9daf40">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableGrowImpl</a></div><div class="ttdeci">void WebAssemblyTableGrowImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02596">wasm-js.cc:2596</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4205bbb2cdbecd8548f0062a0158fd6a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTagType</a></div><div class="ttdeci">void WebAssemblyTagType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02943">wasm-js.cc:2943</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a42ea0b3bd1920f543bf97b345275e517"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a42ea0b3bd1920f543bf97b345275e517">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleCustomSectionsImpl</a></div><div class="ttdeci">void WebAssemblyModuleCustomSectionsImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01041">wasm-js.cc:1041</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4efe057cb210e2909aa30b47767a7c01"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryType</a></div><div class="ttdeci">void WebAssemblyMemoryType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02921">wasm-js.cc:2921</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a5c9fb33b2596c8b7b7834e4d71f2645c"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c9fb33b2596c8b7b7834e4d71f2645c">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstantiateImpl</a></div><div class="ttdeci">void WebAssemblyInstantiateImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01162">wasm-js.cc:1162</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6080d8b0a67ea17401b79da039a0a6d5"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">v8::anonymous_namespace{wasm-js.cc}::GetValueType</a></div><div class="ttdeci">std::optional&lt; i::wasm::ValueType &gt; GetValueType(Isolate *isolate, MaybeLocal&lt; Value &gt; maybe, Local&lt; Context &gt; context, WasmEnabledFeatures enabled_features)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01713">wasm-js.cc:1713</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a631463dae9951468ccb11f081f55dd67"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">v8::anonymous_namespace{wasm-js.cc}::GetAndCopyFirstArgumentAsBytes</a></div><div class="ttdeci">base::OwnedVector&lt; const uint8_t &gt; GetAndCopyFirstArgumentAsBytes(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, size_t max_length, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00243">wasm-js.cc:243</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6fdd90c4ae4ce048cda630ce1be94ef8"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6fdd90c4ae4ce048cda630ce1be94ef8">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyExceptionImpl</a></div><div class="ttdeci">void WebAssemblyExceptionImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02149">wasm-js.cc:2149</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a772092d5f5db10950319b4c21c8286b9"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a772092d5f5db10950319b4c21c8286b9">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstanceGetExportsImpl</a></div><div class="ttdeci">void WebAssemblyInstanceGetExportsImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02572">wasm-js.cc:2572</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a80df3bb5366d6ec83e382c06d65a17c6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">v8::anonymous_namespace{wasm-js.cc}::StartAsyncCompilationWithResolver</a></div><div class="ttdeci">void StartAsyncCompilationWithResolver(WasmJSApiScope &amp;js_api_scope, Local&lt; Value &gt; response_or_promise, Local&lt; Value &gt; options_arg_value, std::shared_ptr&lt; i::wasm::CompilationResultResolver &gt; resolver)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00786">wasm-js.cc:786</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a82b07981395ae632c3887915a53d27a2"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunctionType</a></div><div class="ttdeci">void WebAssemblyFunctionType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02493">wasm-js.cc:2493</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a89952a68736479a3740810e5651682ee"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a89952a68736479a3740810e5651682ee">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyExceptionGetArgImpl</a></div><div class="ttdeci">void WebAssemblyExceptionGetArgImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02959">wasm-js.cc:2959</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a8cd6b449f31123f7fe548313c558da37"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8cd6b449f31123f7fe548313c558da37">v8::anonymous_namespace{wasm-js.cc}::kName_WasmMemoryObject</a></div><div class="ttdeci">constexpr const char * kName_WasmMemoryObject</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02552">wasm-js.cc:2552</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a8fc0faf002730cf5f7c4ef50a647671f"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8fc0faf002730cf5f7c4ef50a647671f">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstanceImpl</a></div><div class="ttdeci">void WebAssemblyInstanceImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01068">wasm-js.cc:1068</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a93e08326b017c12ec308795bc251bf91"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a93e08326b017c12ec308795bc251bf91">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableSetImpl</a></div><div class="ttdeci">void WebAssemblyTableSetImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02698">wasm-js.cc:2698</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a95401e7d95c8bb9ab309cb3875c9a403"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95401e7d95c8bb9ab309cb3875c9a403">v8::anonymous_namespace{wasm-js.cc}::kName_WasmMemoryMapDescriptor</a></div><div class="ttdeci">constexpr const char * kName_WasmMemoryMapDescriptor</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02553">wasm-js.cc:2553</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a95b8b79845e1cbc4f3d5f803d8ad7364"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95b8b79845e1cbc4f3d5f803d8ad7364">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryToFixedLengthBufferImpl</a></div><div class="ttdeci">void WebAssemblyMemoryToFixedLengthBufferImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02863">wasm-js.cc:2863</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a9829d4bd6b0d386c48b2220d16fdb5c5"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a9829d4bd6b0d386c48b2220d16fdb5c5">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyCompileImpl</a></div><div class="ttdeci">void WebAssemblyCompileImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00708">wasm-js.cc:708</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aa00e99e86bb5e0bcdde5308c3b924c45"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa00e99e86bb5e0bcdde5308c3b924c45">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyValidateImpl</a></div><div class="ttdeci">void WebAssemblyValidateImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00886">wasm-js.cc:886</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aa3bf6a1daf198c9567f2d6bc63294ced"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalGetValueCommon</a></div><div class="ttdeci">void WebAssemblyGlobalGetValueCommon(WasmJSApiScope &amp;js_api_scope)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03092">wasm-js.cc:3092</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aa5d34663209df90b28f9f17aaf6eda5b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa5d34663209df90b28f9f17aaf6eda5b">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleExportsImpl</a></div><div class="ttdeci">void WebAssemblyModuleExportsImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01027">wasm-js.cc:1027</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aa725e4c20fcbf8aa32c453db61f2eb52"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa725e4c20fcbf8aa32c453db61f2eb52">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTagImpl</a></div><div class="ttdeci">void WebAssemblyTagImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01973">wasm-js.cc:1973</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aa8666752c68eedb8e6137f879a6f2444"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa8666752c68eedb8e6137f879a6f2444">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleImportsImpl</a></div><div class="ttdeci">void WebAssemblyModuleImportsImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01013">wasm-js.cc:1013</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aace3f8d67a6c83e6147a786d0d155b04"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aace3f8d67a6c83e6147a786d0d155b04">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalGetValueImpl</a></div><div class="ttdeci">void WebAssemblyGlobalGetValueImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03142">wasm-js.cc:3142</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab0c0a787d5c8f47ec9cd549345c95fad"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad">v8::anonymous_namespace{wasm-js.cc}::WebAssemblySuspendingImpl</a></div><div class="ttdeci">void WebAssemblySuspendingImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02431">wasm-js.cc:2431</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab146c4d87439fed3d5e3d2b4b208001d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab146c4d87439fed3d5e3d2b4b208001d">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryMapDescriptorUnmapImpl</a></div><div class="ttdeci">void WebAssemblyMemoryMapDescriptorUnmapImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02788">wasm-js.cc:2788</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab23cbc8313cd6650a88a426e842eedf4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23cbc8313cd6650a88a426e842eedf4">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryGrowImpl</a></div><div class="ttdeci">void WebAssemblyMemoryGrowImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02802">wasm-js.cc:2802</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab23e73fb88240f64540fadc2c56c93a1"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyCompileStreaming</a></div><div class="ttdeci">void WebAssemblyCompileStreaming(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00863">wasm-js.cc:863</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab6dba74128ea0189c1e064841b7470be"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab6dba74128ea0189c1e064841b7470be">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalValueOfImpl</a></div><div class="ttdeci">void WebAssemblyGlobalValueOfImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03135">wasm-js.cc:3135</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_abd5d211a75f47e5711a1a1c31b365848"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#abd5d211a75f47e5711a1a1c31b365848">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableGetImpl</a></div><div class="ttdeci">void WebAssemblyTableGetImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02668">wasm-js.cc:2668</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ac6db6d9d019560128460f337b6d48055"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac6db6d9d019560128460f337b6d48055">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalImpl</a></div><div class="ttdeci">void WebAssemblyGlobalImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01807">wasm-js.cc:1807</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ac70d98b3dfb9bcdb067ff8a7a713926e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunction</a></div><div class="ttdeci">void WebAssemblyFunction(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02288">wasm-js.cc:2288</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_acaccef9db6ddc927c8e58fb29de30502"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableType</a></div><div class="ttdeci">void WebAssemblyTableType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02740">wasm-js.cc:2740</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_acbe81b55a2dd9d5e4d981542f50b4f98"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acbe81b55a2dd9d5e4d981542f50b4f98">v8::anonymous_namespace{wasm-js.cc}::kName_WasmInstanceObject</a></div><div class="ttdeci">constexpr const char * kName_WasmInstanceObject</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02555">wasm-js.cc:2555</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_acd85f9674aa494e9069e26cd8c5b10ae"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acd85f9674aa494e9069e26cd8c5b10ae">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryToResizableBufferImpl</a></div><div class="ttdeci">void WebAssemblyMemoryToResizableBufferImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02890">wasm-js.cc:2890</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad80f78a54c70dfcb6788270747bf1aff"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad80f78a54c70dfcb6788270747bf1aff">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableGetLengthImpl</a></div><div class="ttdeci">void WebAssemblyTableGetLengthImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02583">wasm-js.cc:2583</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad88a20b7927c5f3bb502562c3fe13a9e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad88a20b7927c5f3bb502562c3fe13a9e">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryMapDescriptorMapImpl</a></div><div class="ttdeci">void WebAssemblyMemoryMapDescriptorMapImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02752">wasm-js.cc:2752</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ae01fffe033c01485019507b9e0932b21"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">v8::anonymous_namespace{wasm-js.cc}::GetFirstArgumentAsBytes</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; GetFirstArgumentAsBytes(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, size_t max_length, ErrorThrower *thrower, bool *is_shared)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00198">wasm-js.cc:198</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ae46de88e70ad47716f44e4bb74c8b44d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstantiateStreaming</a></div><div class="ttdeci">void WebAssemblyInstantiateStreaming(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01124">wasm-js.cc:1124</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aeccc9e8fae6961c23699b202bb751160"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aeccc9e8fae6961c23699b202bb751160">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleImpl</a></div><div class="ttdeci">void WebAssemblyModuleImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00956">wasm-js.cc:956</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aecd2a67ed5f761d905eed967a5a4e9e4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalType</a></div><div class="ttdeci">void WebAssemblyGlobalType(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03229">wasm-js.cc:3229</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_af2970aa8c31b970d7b3a7c100d439cf6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyPromising</a></div><div class="ttdeci">void WebAssemblyPromising(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02401">wasm-js.cc:2401</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_af380767a60da1e8f57fc90501286702a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a">v8::anonymous_namespace{wasm-js.cc}::NewPromisingWasmExportedFunction</a></div><div class="ttdeci">i::DirectHandle&lt; i::JSFunction &gt; NewPromisingWasmExportedFunction(i::Isolate *i_isolate, i::DirectHandle&lt; i::WasmExportedFunctionData &gt; data, ErrorThrower &amp;thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02230">wasm-js.cc:2230</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_af398e8b74dcf07c921819d41525529d3"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af398e8b74dcf07c921819d41525529d3">v8::anonymous_namespace{wasm-js.cc}::kName_WasmGlobalObject</a></div><div class="ttdeci">constexpr const char * kName_WasmGlobalObject</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02551">wasm-js.cc:2551</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_af8c6d861773fb2c5a56b9929ec87d2df"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af8c6d861773fb2c5a56b9929ec87d2df">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableImpl</a></div><div class="ttdeci">void WebAssemblyTableImpl(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01426">wasm-js.cc:1426</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_afbd7b4cf0e6b2f3d52780122edc1d105"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8::anonymous_namespace{wasm-js.cc}::v8_str</a></div><div class="ttdeci">Local&lt; String &gt; v8_str(Isolate *isolate, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00177">wasm-js.cc:177</a></div></div>
<div class="ttc" id="anamespacev8_1_1api__internal_html_a6e19dba9644f1405ed8144c4d9e7b98f"><div class="ttname"><a href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">v8::api_internal::MakeWeak</a></div><div class="ttdeci">void MakeWeak(i::Address *location, void *parameter, WeakCallbackInfo&lt; void &gt;::Callback weak_callback, WeakCallbackType type)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00653">api.cc:653</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7a5e1c490a7a7606fdc230f5779db6f0"><div class="ttname"><a href="namespacev8_1_1base.html#a7a5e1c490a7a7606fdc230f5779db6f0">v8::base::Relaxed_Memcpy</a></div><div class="ttdeci">void Relaxed_Memcpy(volatile Atomic8 *dst, volatile const Atomic8 *src, size_t bytes)</div><div class="ttdef"><b>Definition:</b> <a href="atomicops_8h_source.html#l00363">atomicops.h:363</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aaa0a202e5ad0d494cc88496b8fafa571"><div class="ttname"><a href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">v8::base::CStrVector</a></div><div class="ttdeci">Vector&lt; const char &gt; CStrVector(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00330">vector.h:330</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aee15b21aa31a7bcb340576c631d28141"><div class="ttname"><a href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">v8::base::Atomic8</a></div><div class="ttdeci">char Atomic8</div><div class="ttdef"><b>Definition:</b> <a href="atomicops_8h_source.html#l00057">atomicops.h:57</a></div></div>
<div class="ttc" id="anamespacev8_1_1bigint_1_1anonymous__namespace_02div-helpers_8cc_03_html_a7db777dc64a4907eca160e11dd6bc534"><div class="ttname"><a href="namespacev8_1_1bigint_1_1anonymous__namespace_02div-helpers_8cc_03.html#a7db777dc64a4907eca160e11dd6bc534">v8::bigint::anonymous_namespace{div-helpers.cc}::Copy</a></div><div class="ttdeci">void Copy(RWDigits Z, Digits X)</div><div class="ttdef"><b>Definition:</b> <a href="div-helpers_8cc_source.html#l00014">div-helpers.cc:14</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02api-natives_8cc_03_html_afcc5e46fee1544ea7b7eadd8df4f0082"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02api-natives_8cc_03.html#afcc5e46fee1544ea7b7eadd8df4f0082">v8::internal::anonymous_namespace{api-natives.cc}::InstantiateFunction</a></div><div class="ttdeci">MaybeHandle&lt; JSFunction &gt; InstantiateFunction(Isolate *isolate, DirectHandle&lt; NativeContext &gt; native_context, DirectHandle&lt; FunctionTemplateInfo &gt; data, MaybeDirectHandle&lt; Name &gt; maybe_name={})</div><div class="ttdef"><b>Definition:</b> <a href="api-natives_8cc_source.html#l00384">api-natives.cc:384</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_html_aea46070627c9c116b8f1be4a25840e66"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">v8::internal::anonymous_namespace{intl-objects.cc}::New</a></div><div class="ttdeci">MaybeDirectHandle&lt; T &gt; New(Isolate *isolate, DirectHandle&lt; JSFunction &gt; constructor, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition:</b> <a href="intl-objects_8cc_source.html#l00205">intl-objects.cc:205</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02property-descriptor_8cc_03_html_a171b8d279e7133c2dbaceac2410eef26"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02property-descriptor_8cc_03.html#a171b8d279e7133c2dbaceac2410eef26">v8::internal::anonymous_namespace{property-descriptor.cc}::CreateDataProperty</a></div><div class="ttdeci">void CreateDataProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, Handle&lt; String &gt; name, DirectHandle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="property-descriptor_8cc_source.html#l00123">property-descriptor.cc:123</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a3003282aca3921966ea5b8a3efb77de7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">v8::internal::anonymous_namespace{wasm-js.cc}::CreateFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; CreateFunc(Isolate *isolate, DirectHandle&lt; String &gt; name, FunctionCallback func, bool has_prototype, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, DirectHandle&lt; FunctionTemplateInfo &gt; parent={})</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03280">wasm-js.cc:3280</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a50ba1ce260dff12e473f5cf3a1adc5b8"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a50ba1ce260dff12e473f5cf3a1adc5b8">v8::internal::anonymous_namespace{wasm-js.cc}::kWasmExceptionTagParams</a></div><div class="ttdeci">constexpr wasm::ValueType kWasmExceptionTagParams[]</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03405">wasm-js.cc:3405</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a660b6e4d5b21cb55454dc36200a7f6a6"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a660b6e4d5b21cb55454dc36200a7f6a6">v8::internal::anonymous_namespace{wasm-js.cc}::SetterName</a></div><div class="ttdeci">DirectHandle&lt; String &gt; SetterName(Isolate *isolate, DirectHandle&lt; String &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03348">wasm-js.cc:3348</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6cbbe7d60ce5aa0c6ce129e691faece7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6cbbe7d60ce5aa0c6ce129e691faece7">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetterSetter</a></div><div class="ttdeci">void InstallGetterSetter(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback getter, FunctionCallback setter)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03353">wasm-js.cc:3353</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a740601b207b1b3d64b63a868ea598ba6"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a740601b207b1b3d64b63a868ea598ba6">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; InstallFunc(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func, int length, bool has_prototype=false, PropertyAttributes attributes=NONE, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03313">wasm-js.cc:3313</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a8412b6f26abd7ea8cbf5f65b0481eaad"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8412b6f26abd7ea8cbf5f65b0481eaad">v8::internal::anonymous_namespace{wasm-js.cc}::kWasmExceptionTagSignature</a></div><div class="ttdeci">constexpr wasm::FunctionSig kWasmExceptionTagSignature</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03408">wasm-js.cc:3408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_aba01530f130336b4b5dfcef830115757"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#aba01530f130336b4b5dfcef830115757">v8::internal::anonymous_namespace{wasm-js.cc}::InstallConstructorFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; InstallConstructorFunc(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03323">wasm-js.cc:3323</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_abfcc6ebe00bd232418d95a28859011bc"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#abfcc6ebe00bd232418d95a28859011bc">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; SetupConstructor(Isolate *isolate, DirectHandle&lt; JSFunction &gt; constructor, InstanceType instance_type, int instance_size, const char *name=nullptr, int in_object_properties=0)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03381">wasm-js.cc:3381</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_acfc430f21a2bff2a0e65815f9db46b1f"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#acfc430f21a2bff2a0e65815f9db46b1f">v8::internal::anonymous_namespace{wasm-js.cc}::SetDummyInstanceTemplate</a></div><div class="ttdeci">void SetDummyInstanceTemplate(Isolate *isolate, DirectHandle&lt; JSFunction &gt; fun)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03373">wasm-js.cc:3373</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad04016809f9a3de12934636e7f335ccd"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetter</a></div><div class="ttdeci">void InstallGetter(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03336">wasm-js.cc:3336</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad98d22ed5a25c35538a021b35e5c63f5"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad98d22ed5a25c35538a021b35e5c63f5">v8::internal::anonymous_namespace{wasm-js.cc}::GetterName</a></div><div class="ttdeci">DirectHandle&lt; String &gt; GetterName(Isolate *isolate, DirectHandle&lt; String &gt; name)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03331">wasm-js.cc:3331</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_html_a66d75e44e8119e492fa238e6ac04903f"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03.html#a66d75e44e8119e492fa238e6ac04903f">v8::internal::compiler::anonymous_namespace{wasm-inlining-into-js.cc}::kNotShared</a></div><div class="ttdeci">static constexpr bool kNotShared</div><div class="ttdef"><b>Definition:</b> <a href="wasm-inlining-into-js_8cc_source.html#l00024">wasm-inlining-into-js.cc:24</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a4547ea68c972ac14663623ed7adab8d8"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a4547ea68c972ac14663623ed7adab8d8">v8::internal::compiler::initial_map</a></div><div class="ttdeci">true initial_map</div><div class="ttdef"><b>Definition:</b> <a href="heap-refs_8cc_source.html#l02435">heap-refs.cc:2435</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1libvtune_html_a0fcf6e701e6a3e10310c2126f52732e9"><div class="ttname"><a href="namespacev8_1_1internal_1_1libvtune.html#a0fcf6e701e6a3e10310c2126f52732e9">v8::internal::libvtune::function_map</a></div><div class="ttdeci">const auto &amp; function_map</div><div class="ttdef"><b>Definition:</b> <a href="vtunedomain-support-extension_8cc_source.html#l00021">vtunedomain-support-extension.cc:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a003eded058d6f8d097f814e516d757ef"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a003eded058d6f8d097f814e516d757ef">v8::internal::wasm::kV8MaxWasmTableInitEntries</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmTableInitEntries</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00059">wasm-limits.h:59</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a0213728ccf8cd499ba36ff1be97269ba"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a0213728ccf8cd499ba36ff1be97269ba">v8::internal::wasm::GetTypeForTable</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForTable(Isolate *isolate, ValueType type, uint32_t min_size, std::optional&lt; uint64_t &gt; max_size, AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00387">wasm-module.cc:387</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a17aedf25fa2edcefae3f561a222df0e7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a17aedf25fa2edcefae3f561a222df0e7">v8::internal::wasm::CompileTimeImport</a></div><div class="ttdeci">CompileTimeImport</div><div class="ttdef"><b>Definition:</b> <a href="wasm-features_8h_source.html#l00135">wasm-features.h:135</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a1a17c60bc1e8b8ad11208d7b0d3ec5a9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">v8::internal::wasm::FunctionSig</a></div><div class="ttdeci">Signature&lt; ValueType &gt; FunctionSig</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01296">value-type.h:1296</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a2f81a58ed7769a3d69bf42c16ec09efb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a2f81a58ed7769a3d69bf42c16ec09efb">v8::internal::wasm::GetTypeForMemory</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForMemory(Isolate *isolate, uint32_t min_size, std::optional&lt; uint64_t &gt; max_size, bool shared, AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00351">wasm-module.cc:351</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a2ff4cb9e8a4843aa3146f43da7dd0ef7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a2ff4cb9e8a4843aa3146f43da7dd0ef7">v8::internal::wasm::StartStreamingForTesting</a></div><div class="ttdeci">std::unique_ptr&lt; WasmStreaming &gt; StartStreamingForTesting(Isolate *isolate, std::shared_ptr&lt; wasm::CompilationResultResolver &gt; resolver)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03950">wasm-js.cc:3950</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a38d56b630d25ea0451a91c6204e89042"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">v8::internal::wasm::max_table_size</a></div><div class="ttdeci">uint32_t max_table_size()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02165">wasm-engine.cc:2165</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3e2697d50763bb9f401d4c992e24a074"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">v8::internal::wasm::JSToWasmObject</a></div><div class="ttdeci">MaybeDirectHandle&lt; Object &gt; JSToWasmObject(Isolate *isolate, DirectHandle&lt; Object &gt; value, CanonicalValueType expected, const char **error_message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03408">wasm-objects.cc:3408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a44d8421f58b06a23f41aff519b312d3c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a44d8421f58b06a23f41aff519b312d3c">v8::internal::wasm::kWasmStringRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmStringRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01269">value-type.h:1269</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a49bb52ab23031477fbfe2807afd064f2"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a49bb52ab23031477fbfe2807afd064f2">v8::internal::wasm::kSpecMaxMemory32Pages</a></div><div class="ttdeci">constexpr size_t kSpecMaxMemory32Pages</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00025">wasm-limits.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a58280911560a19ed11d754bee507198e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a58280911560a19ed11d754bee507198e">v8::internal::wasm::kV8MaxWasmMemory64Pages</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmMemory64Pages</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00046">wasm-limits.h:46</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6263a62b579bcdb32ae1acafc9ddf653"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6263a62b579bcdb32ae1acafc9ddf653">v8::internal::wasm::kWasmF32</a></div><div class="ttdeci">constexpr IndependentValueType kWasmF32</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01245">value-type.h:1245</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a697b6d1f8fb7f3463c83684346bfa145"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a697b6d1f8fb7f3463c83684346bfa145">v8::internal::wasm::kWasmAnyRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmAnyRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01257">value-type.h:1257</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">v8::internal::wasm::Suspend</a></div><div class="ttdeci">Suspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd">v8::internal::wasm::kSuspend</a></div><div class="ttdeci">@ kSuspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">v8::internal::wasm::kNoSuspend</a></div><div class="ttdeci">@ kNoSuspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a744e1f64a481e1651605a8de39aaa89d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a744e1f64a481e1651605a8de39aaa89d">v8::internal::wasm::GetImports</a></div><div class="ttdeci">DirectHandle&lt; JSArray &gt; GetImports(Isolate *isolate, DirectHandle&lt; WasmModuleObject &gt; module_object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00425">wasm-module.cc:425</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a75a407e39344b5260946d2c22d318f84"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a75a407e39344b5260946d2c22d318f84">v8::internal::wasm::kWasmEqRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmEqRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01264">value-type.h:1264</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a75bfbc047d813d2932698521c1c1145f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">v8::internal::wasm::kWasmExternRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmExternRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01260">value-type.h:1260</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a769350a0bf794ab0ebf3c8fc1c8fc450"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">v8::internal::wasm::IsJSCompatibleSignature</a></div><div class="ttdeci">bool IsJSCompatibleSignature(const CanonicalSig *sig)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-opcodes_8cc_source.html#l00031">wasm-opcodes.cc:31</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a76ecd8d4d54ac6dd52d2278b2cda0ba7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">v8::internal::wasm::max_module_size</a></div><div class="ttdeci">size_t max_module_size()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02177">wasm-engine.cc:2177</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7b893808fadaa287f225d7209d2d36c6"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">v8::internal::wasm::kWasmI32</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI32</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01243">value-type.h:1243</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf">v8::internal::wasm::kNoMaximum</a></div><div class="ttdeci">@ kNoMaximum</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00088">wasm-constants.h:88</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a86d0b42ae903d1d6e6f98c685ef0133b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a86d0b42ae903d1d6e6f98c685ef0133b">v8::internal::wasm::kWasmI31Ref</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmI31Ref</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01265">value-type.h:1265</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a90941f620285a912a302a3aced092560"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">v8::internal::wasm::kWasmFuncRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmFuncRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01256">value-type.h:1256</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a99d89c02d7aa502fd4d2939a076c1688"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a99d89c02d7aa502fd4d2939a076c1688">v8::internal::wasm::max_table_init_entries</a></div><div class="ttdeci">uint32_t max_table_init_entries()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02171">wasm-engine.cc:2171</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a9a79ec61e742ba6e76addd6390334f22"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a9a79ec61e742ba6e76addd6390334f22">v8::internal::wasm::kWasmExnRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmExnRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01263">value-type.h:1263</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab8ffecbb34efcc8e31d1c5b84241d1fd"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab8ffecbb34efcc8e31d1c5b84241d1fd">v8::internal::wasm::kV8MaxWasmFunctionReturns</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmFunctionReturns</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00054">wasm-limits.h:54</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab996b620af25ac2ea5b4682df40abca3"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">v8::internal::wasm::kWasmVoid</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmVoid</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01251">value-type.h:1251</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac16bee88f353656d3809b61652c63a0f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac16bee88f353656d3809b61652c63a0f">v8::internal::wasm::GetExports</a></div><div class="ttdeci">DirectHandle&lt; JSArray &gt; GetExports(Isolate *isolate, DirectHandle&lt; WasmModuleObject &gt; module_object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00553">wasm-module.cc:553</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac4677d357c392dc8125dfa4d58f92aeb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac4677d357c392dc8125dfa4d58f92aeb">v8::internal::wasm::kWasmStructRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmStructRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01267">value-type.h:1267</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aca3af72b5da01dfb563e4c5f56af8952"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">v8::internal::wasm::AddressType</a></div><div class="ttdeci">AddressType</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00049">wasm-module.h:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acabda57a17d96edc612c9b843fbbea4b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acabda57a17d96edc612c9b843fbbea4b">v8::internal::wasm::GetCustomSections</a></div><div class="ttdeci">DirectHandle&lt; JSArray &gt; GetCustomSections(Isolate *isolate, DirectHandle&lt; WasmModuleObject &gt; module_object, DirectHandle&lt; String &gt; name, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00651">wasm-module.cc:651</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_accd7a01a4feacf7239992e49a422c952"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#accd7a01a4feacf7239992e49a422c952">v8::internal::wasm::kWasmBottom</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmBottom</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01254">value-type.h:1254</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad39cf555e73abbf7233ee2029b74ff7d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">v8::internal::wasm::kV8MaxWasmTableSize</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmTableSize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00058">wasm-limits.h:58</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad49eb67763b3ddf562db19959cc71ace"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">v8::internal::wasm::GetTypeForFunction</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForFunction(Isolate *isolate, const FunctionSig *sig, bool for_exception)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00290">wasm-module.cc:290</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460">v8::internal::wasm::Promise</a></div><div class="ttdeci">Promise</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920">v8::internal::wasm::kPromise</a></div><div class="ttdeci">@ kPromise</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad9a1634a9ec0775903d04d76caafb542"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad9a1634a9ec0775903d04d76caafb542">v8::internal::wasm::kSpecMaxMemory64Pages</a></div><div class="ttdeci">constexpr size_t kSpecMaxMemory64Pages</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00026">wasm-limits.h:26</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adef3c09b05397b61ad793d7c0bdf9e3b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">v8::internal::wasm::kWasmS128</a></div><div class="ttdeci">constexpr IndependentValueType kWasmS128</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01247">value-type.h:1247</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae1f7b93d2ad475c4f3a9e06d62f62556"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae1f7b93d2ad475c4f3a9e06d62f62556">v8::internal::wasm::WasmTagSig</a></div><div class="ttdeci">FunctionSig WasmTagSig</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00112">wasm-module.h:112</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae99c0e646ec90851574de7cee934682c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">v8::internal::wasm::ErrorStringForCodegen</a></div><div class="ttdeci">DirectHandle&lt; String &gt; ErrorStringForCodegen(Isolate *isolate, DirectHandle&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00274">wasm-module.cc:274</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aeb062fb51a7aa93290a7a1313085cf65"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">v8::internal::wasm::IsWasmCodegenAllowed</a></div><div class="ttdeci">bool IsWasmCodegenAllowed(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00260">wasm-module.cc:260</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aeb1a0dc52ceeed030ac44fa008c1e77c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aeb1a0dc52ceeed030ac44fa008c1e77c">v8::internal::wasm::kWasmF64</a></div><div class="ttdeci">constexpr IndependentValueType kWasmF64</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01246">value-type.h:1246</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aec8d7c93af8f69e5a0584db0f6fe147b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aec8d7c93af8f69e5a0584db0f6fe147b">v8::internal::wasm::IsSupportedVersion</a></div><div class="ttdeci">bool IsSupportedVersion(base::Vector&lt; const uint8_t &gt; header, WasmEnabledFeatures enabled_features)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-serialization_8cc_source.html#l01081">wasm-serialization.cc:1081</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aee8b7f805fa662ae4ed159f8072bea5f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">v8::internal::wasm::kWasmI64</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI64</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01244">value-type.h:1244</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_af0e8eb22038f6f652121cb71d71ff62b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#af0e8eb22038f6f652121cb71d71ff62b">v8::internal::wasm::WasmToJSObject</a></div><div class="ttdeci">DirectHandle&lt; Object &gt; WasmToJSObject(Isolate *isolate, DirectHandle&lt; Object &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03639">wasm-objects.cc:3639</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_af945328e16ca1b7c2a5d2baf50ca445c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">v8::internal::wasm::kV8MaxWasmFunctionParams</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmFunctionParams</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00053">wasm-limits.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afb33e6ba5bbd6ec3d69e3537f9912d4e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afb33e6ba5bbd6ec3d69e3537f9912d4e">v8::internal::wasm::kWasmArrayRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmArrayRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01268">value-type.h:1268</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afe11571576d76cdcedb330d88b18f253"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afe11571576d76cdcedb330d88b18f253">v8::internal::wasm::GetTypeForGlobal</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForGlobal(Isolate *isolate, bool is_mutable, ValueType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00334">wasm-module.cc:334</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a09dbf9baefb793fd78912d6ef89f9dde"><div class="ttname"><a href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">v8::internal::WasmModule</a></div><div class="ttdeci">wasm::WasmModule WasmModule</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00110">wasm-objects.cc:110</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0d9ddccbc8883ed03a104e38cb679871"><div class="ttname"><a href="namespacev8_1_1internal.html#a0d9ddccbc8883ed03a104e38cb679871">v8::internal::SimpleInstallFunction</a></div><div class="ttdeci">Handle&lt; JSFunction &gt; SimpleInstallFunction(Isolate *isolate, DirectHandle&lt; JSObject &gt; base, const char *name, Builtin call, int len, AdaptArguments adapt, PropertyAttributes attrs)</div><div class="ttdef"><b>Definition:</b> <a href="bootstrapper_8cc_source.html#l00994">bootstrapper.cc:994</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21a319c3c546d24f5dd8d68074cd98b15a3">v8::internal::zero</a></div><div class="ttdeci">@ zero</div><div class="ttdef"><b>Definition:</b> <a href="assembler-ia32_8h_source.html#l00079">assembler-ia32.h:79</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2a2a0e61ae504b5c29621f23fe6d1ae8"><div class="ttname"><a href="namespacev8_1_1internal.html#a2a2a0e61ae504b5c29621f23fe6d1ae8">v8::internal::EncodeI32ExceptionValue</a></div><div class="ttdeci">void EncodeI32ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02794">wasm-objects.cc:2794</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2ef75ab406122e31bc6a5e46e16e0de9"><div class="ttname"><a href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">v8::internal::DecodeI32ExceptionValue</a></div><div class="ttdeci">void DecodeI32ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02808">wasm-objects.cc:2808</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b"><div class="ttname"><a href="namespacev8_1_1internal.html#a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b">v8::internal::SKIP_NONE</a></div><div class="ttdeci">@ SKIP_NONE</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00071">messages.h:71</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436">v8::internal::PropertyAttributes</a></div><div class="ttdeci">PropertyAttributes</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00018">property-details.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">v8::internal::DONT_ENUM</a></div><div class="ttdeci">@ DONT_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00021">property-details.h:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">v8::internal::FROZEN</a></div><div class="ttdeci">@ FROZEN</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00027">property-details.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f">v8::internal::READ_ONLY</a></div><div class="ttdeci">@ READ_ONLY</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00020">property-details.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3ed6964c1400e2d797f2ae7d2adf68a7"><div class="ttname"><a href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">v8::internal::IsObject</a></div><div class="ttdeci">constexpr bool IsObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00662">objects.h:662</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4382c244e839ce16a4beafabd1c6bd1d"><div class="ttname"><a href="namespacev8_1_1internal.html#a4382c244e839ce16a4beafabd1c6bd1d">v8::internal::Tagged</a></div><div class="ttdeci">Tagged(T object) -&gt; Tagged&lt; T &gt;</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a55eed44eaa9dbd54a74a0390def124b6"><div class="ttname"><a href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">v8::internal::setter</a></div><div class="ttdeci">setter</div><div class="ttdef"><b>Definition:</b> <a href="api-callbacks-inl_8h_source.html#l00036">api-callbacks-inl.h:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5feb64a99571462d3380d03aa42c149cabe08801c504e24eba74657d920a18f30"><div class="ttname"><a href="namespacev8_1_1internal.html#a5feb64a99571462d3380d03aa42c149cabe08801c504e24eba74657d920a18f30">v8::internal::TERMINAL_FAST_ELEMENTS_KIND</a></div><div class="ttdeci">@ TERMINAL_FAST_ELEMENTS_KIND</div><div class="ttdef"><b>Definition:</b> <a href="elements-kind_8h_source.html#l00171">elements-kind.h:171</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6135f0ef57de8d381e3225f6659c617a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">v8::internal::sig</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag kProtectedInstanceDataOffset sig</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00471">wasm-objects-inl.h:471</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">v8::internal::SharedFlag::kShared</a></div><div class="ttdeci">@ kShared</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6db5c47c190e9de94a96948682b877c8"><div class="ttname"><a href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">v8::internal::IsNullOrUndefined</a></div><div class="ttdeci">bool IsNullOrUndefined(Tagged&lt; Object &gt; obj, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00179">objects-inl.h:179</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7f4dd65fabd482f5f1bfe4db66389fa3"><div class="ttname"><a href="namespacev8_1_1internal.html#a7f4dd65fabd482f5f1bfe4db66389fa3">v8::internal::kMaxUInt64</a></div><div class="ttdeci">constexpr uint64_t kMaxUInt64</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00391">globals.h:391</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a833daad0bfc17094878be96c55497d8e"><div class="ttname"><a href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">v8::internal::DecodeI64ExceptionValue</a></div><div class="ttdeci">void DecodeI64ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint64_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02815">wasm-objects.cc:2815</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a894f7eed49bf3b73ca39321905ff6e38"><div class="ttname"><a href="namespacev8_1_1internal.html#a894f7eed49bf3b73ca39321905ff6e38">v8::internal::kDontAdapt</a></div><div class="ttdeci">constexpr AdaptArguments kDontAdapt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02794">globals.h:2794</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00116">instance-type.h:116</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa0a84af2b2a0cf0453cc75fc22679b28"><div class="ttname"><a href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">v8::internal::ValidateCallbackInfo</a></div><div class="ttdeci">bool ValidateCallbackInfo(const FunctionCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l12320">api.cc:12320</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaf5b0233c8e9bc00c2dd924e6e652187"><div class="ttname"><a href="namespacev8_1_1internal.html#aaf5b0233c8e9bc00c2dd924e6e652187">v8::internal::ToUtf8Lossy</a></div><div class="ttdeci">void ToUtf8Lossy(Isolate *isolate, DirectHandle&lt; String &gt; string, std::string &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-wasm_8cc_source.html#l01693">runtime-wasm.cc:1693</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab0d0492df59957ad450290724710e09f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">v8::internal::DoubleToFloat32</a></div><div class="ttdeci">float DoubleToFloat32(double x)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00110">conversions-inl.h:110</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad03e50e4d15ee0da6a722254f350e7eb"><div class="ttname"><a href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">v8::internal::kMaxInt</a></div><div class="ttdeci">constexpr int kMaxInt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00375">globals.h:375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad6a87719e955c3d58bf7c12a1d33a76f"><div class="ttname"><a href="namespacev8_1_1internal.html#ad6a87719e955c3d58bf7c12a1d33a76f">v8::internal::InstallError</a></div><div class="ttdeci">void InstallError(Isolate *isolate, DirectHandle&lt; JSObject &gt; global, DirectHandle&lt; String &gt; name, int context_index, Builtin error_constructor, int error_function_length)</div><div class="ttdef"><b>Definition:</b> <a href="bootstrapper_8cc_source.html#l01524">bootstrapper.cc:1524</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">v8::internal::kDontThrow</a></div><div class="ttdeci">@ kDontThrow</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01734">globals.h:1734</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760ac8c06c0e5cdd46711981e472881756de">v8::internal::kThrowOnError</a></div><div class="ttdeci">@ kThrowOnError</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01735">globals.h:1735</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adee95482032a93e07f59341fed5c909f"><div class="ttname"><a href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">v8::internal::is_shared</a></div><div class="ttdeci">JSArrayBuffer::IsDetachableBit is_shared</div><div class="ttdef"><b>Definition:</b> <a href="js-array-buffer-inl_8h_source.html#l00189">js-array-buffer-inl.h:189</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b3d70a0b2f7c3c669d187fd9a9dae2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">v8::internal::kMaxUInt32</a></div><div class="ttdeci">constexpr uint32_t kMaxUInt32</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00388">globals.h:388</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2d9fec01057be7bdab90bb4682717b0"><div class="ttname"><a href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">v8::internal::prototype</a></div><div class="ttdeci">kInstanceDescriptorsOffset kTransitionsOrPrototypeInfoOffset prototype</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00069">map-inl.h:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af7ebacf07d7eaed3247cbd3fca3a35e6"><div class="ttname"><a href="namespacev8_1_1internal.html#af7ebacf07d7eaed3247cbd3fca3a35e6">v8::internal::EncodeI64ExceptionValue</a></div><div class="ttdeci">void EncodeI64ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02800">wasm-objects.cc:2800</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00896">map-inl.h:896</a></div></div>
<div class="ttc" id="anamespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03_html_a8b6719b9c44c92c16a29ade2e66e3314"><div class="ttname"><a href="namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03.html#a8b6719b9c44c92c16a29ade2e66e3314">v8_inspector::anonymous_namespace{value-mirror.cc}::kWasmPageSize</a></div><div class="ttdeci">const size_t kWasmPageSize</div><div class="ttdef"><b>Definition:</b> <a href="value-mirror_8cc_source.html#l00171">value-mirror.cc:171</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df"><div class="ttname"><a href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">v8::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">None.</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00143">v8-object.h:143</a></div></div>
<div class="ttc" id="anamespacev8_html_a1777425fadf90d9a148319f962ca4173"><div class="ttname"><a href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">v8::NewFunctionTemplate</a></div><div class="ttdeci">static i::DirectHandle&lt; i::FunctionTemplateInfo &gt; NewFunctionTemplate(i::Isolate *i_isolate, FunctionCallback func, bool has_prototype, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03258">wasm-js.cc:3258</a></div></div>
<div class="ttc" id="anamespacev8_html_a29711319c2b9fc7716d65faee2f7b9cb"><div class="ttname"><a href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cb">v8::SideEffectType</a></div><div class="ttdeci">SideEffectType</div><div class="ttdoc">Options for marking whether callbacks may trigger JS-observable side effects.</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00200">v8-object.h:200</a></div></div>
<div class="ttc" id="anamespacev8_html_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51"><div class="ttname"><a href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51">v8::SideEffectType::kHasNoSideEffect</a></div><div class="ttdeci">@ kHasNoSideEffect</div></div>
<div class="ttc" id="anamespacev8_html_a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46"><div class="ttname"><a href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">v8::SideEffectType::kHasSideEffect</a></div><div class="ttdeci">@ kHasSideEffect</div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecc"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecc">v8::ConstructorBehavior</a></div><div class="ttdeci">ConstructorBehavior</div><div class="ttdef"><b>Definition:</b> <a href="v8-template_8h_source.html#l00475">v8-template.h:475</a></div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d">v8::ConstructorBehavior::kThrow</a></div><div class="ttdeci">@ kThrow</div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94">v8::ConstructorBehavior::kAllow</a></div><div class="ttdeci">@ kAllow</div></div>
<div class="ttc" id="anamespacev8_html_a7eeecc989d9bca2093f26ca249f4d2da"><div class="ttname"><a href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">v8::FunctionCallback</a></div><div class="ttdeci">void(*)(const FunctionCallbackInfo&lt; Value &gt; &amp;info) FunctionCallback</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00314">v8-function-callback.h:314</a></div></div>
<div class="ttc" id="anamespacev8_html_abe9cd7b76c8aeb2bdc0ff3bec860dc21"><div class="ttname"><a href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21">v8::WasmAsyncSuccess</a></div><div class="ttdeci">WasmAsyncSuccess</div><div class="ttdef"><b>Definition:</b> <a href="v8-callbacks_8h_source.html#l00313">v8-callbacks.h:313</a></div></div>
<div class="ttc" id="anamespacev8_html_abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745"><div class="ttname"><a href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a36f2a6ba7a5a19d5ab451e08bc7a7745">v8::WasmAsyncSuccess::kFail</a></div><div class="ttdeci">@ kFail</div></div>
<div class="ttc" id="anamespacev8_html_abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782"><div class="ttname"><a href="namespacev8.html#abe9cd7b76c8aeb2bdc0ff3bec860dc21a8c632159fa131f09d04f94e3cbcd8782">v8::WasmAsyncSuccess::kSuccess</a></div><div class="ttdeci">@ kSuccess</div></div>
<div class="ttc" id="anamespacev8_html_acf58e42b5739eaf07a13c6c8179f0191"><div class="ttname"><a href="namespacev8.html#acf58e42b5739eaf07a13c6c8179f0191">v8::NewObjectTemplate</a></div><div class="ttdeci">static i::DirectHandle&lt; i::ObjectTemplateInfo &gt; NewObjectTemplate(i::Isolate *i_isolate)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03270">wasm-js.cc:3270</a></div></div>
<div class="ttc" id="anamespacev8_html_ad95e01adb84e22399970bc9bffa404fe"><div class="ttname"><a href="namespacev8.html#ad95e01adb84e22399970bc9bffa404fe">v8::False</a></div><div class="ttdeci">Local&lt; Boolean &gt; False(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l01079">v8-primitive.h:1079</a></div></div>
<div class="ttc" id="anamespacewasm_html"><div class="ttname"><a href="namespacewasm.html">wasm</a></div><div class="ttdef"><b>Definition:</b> <a href="c-api_8cc_source.html#l00087">c-api.cc:87</a></div></div>
<div class="ttc" id="anamespacewasm_html_aca75bd987d7d40b886a5efad94f4053c"><div class="ttname"><a href="namespacewasm.html#aca75bd987d7d40b886a5efad94f4053c">wasm::impl</a></div><div class="ttdeci">auto impl(C *x) -&gt; typename implement&lt; C &gt;::type *</div><div class="ttdef"><b>Definition:</b> <a href="c-api_8cc_source.html#l00243">c-api.cc:243</a></div></div>
<div class="ttc" id="aobjects-inl_8h_html"><div class="ttname"><a href="objects-inl_8h.html">objects-inl.h</a></div></div>
<div class="ttc" id="ashared-function-info_8h_html"><div class="ttname"><a href="shared-function-info_8h.html">shared-function-info.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ac55fdd6aa61539c49b1b1f5d38a0ed73"><div class="ttname"><a href="src_2base_2macros_8h.html#ac55fdd6aa61539c49b1b1f5d38a0ed73">arraysize</a></div><div class="ttdeci">#define arraysize(array)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00067">macros.h:67</a></div></div>
<div class="ttc" id="astreaming-decoder_8h_html"><div class="ttname"><a href="streaming-decoder_8h.html">streaming-decoder.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex_html"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1CanonicalTypeIndex.html">v8::internal::wasm::CanonicalTypeIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l00082">value-type.h:82</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a79b743888793de4a17ae53dd93988de6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">v8::internal::wasm::WasmModule::functions</a></div><div class="ttdeci">std::vector&lt; WasmFunction &gt; functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00714">wasm-module.h:714</a></div></div>
<div class="ttc" id="atemplates_8h_html"><div class="ttname"><a href="templates_8h.html">templates.h</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_ac437f27e15925a9bd53c69692a6c85fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a></div><div class="ttdeci">#define TRACE_EVENT1(category_group, name, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00037">trace-event-no-perfetto.h:37</a></div></div>
<div class="ttc" id="av8-function_8h_html"><div class="ttname"><a href="v8-function_8h.html">v8-function.h</a></div></div>
<div class="ttc" id="av8-persistent-handle_8h_html"><div class="ttname"><a href="v8-persistent-handle_8h.html">v8-persistent-handle.h</a></div></div>
<div class="ttc" id="av8-promise_8h_html"><div class="ttname"><a href="v8-promise_8h.html">v8-promise.h</a></div></div>
<div class="ttc" id="av8-wasm_8h_html"><div class="ttname"><a href="v8-wasm_8h.html">v8-wasm.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a63258e4bf5dc9fb8c78f881c8405d83b"><div class="ttname"><a href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a></div><div class="ttdeci">#define V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00671">v8config.h:671</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="avalue-type_8h_html"><div class="ttname"><a href="value-type_8h.html">value-type.h</a></div></div>
<div class="ttc" id="awasm-debug_8h_html"><div class="ttname"><a href="wasm-debug_8h.html">wasm-debug.h</a></div></div>
<div class="ttc" id="awasm-engine_8h_html"><div class="ttname"><a href="wasm-engine_8h.html">wasm-engine.h</a></div></div>
<div class="ttc" id="awasm-js_8cc_html_a4ca71bdd5d82fe82fae98cf2f832ae05"><div class="ttname"><a href="wasm-js_8cc.html#a4ca71bdd5d82fe82fae98cf2f832ae05">DEF_WASM_JS_EXTERNAL_REFERENCE</a></div><div class="ttdeci">#define DEF_WASM_JS_EXTERNAL_REFERENCE(Name)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03246">wasm-js.cc:3246</a></div></div>
<div class="ttc" id="awasm-js_8cc_html_a8ba2b0cbd335ac2cd536b44c371878bb"><div class="ttname"><a href="wasm-js_8cc.html#a8ba2b0cbd335ac2cd536b44c371878bb">GET_FIRST_ARGUMENT_AS</a></div><div class="ttdeci">#define GET_FIRST_ARGUMENT_AS(Type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00181">wasm-js.cc:181</a></div></div>
<div class="ttc" id="awasm-js_8cc_html_ae79207a556b5c5abdb95386209c4b36f"><div class="ttname"><a href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a></div><div class="ttdeci">#define EXTRACT_THIS(var, WasmType)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02560">wasm-js.cc:2560</a></div></div>
<div class="ttc" id="awasm-js_8h_html"><div class="ttname"><a href="wasm-js_8h.html">wasm-js.h</a></div></div>
<div class="ttc" id="awasm-js_8h_html_a573133bb46729b64ef29a8dc2c1a6b90"><div class="ttname"><a href="wasm-js_8h.html#a573133bb46729b64ef29a8dc2c1a6b90">WASM_JS_EXTERNAL_REFERENCE_LIST</a></div><div class="ttdeci">#define WASM_JS_EXTERNAL_REFERENCE_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8h_source.html#l00032">wasm-js.h:32</a></div></div>
<div class="ttc" id="awasm-limits_8h_html"><div class="ttname"><a href="wasm-limits_8h.html">wasm-limits.h</a></div></div>
<div class="ttc" id="awasm-objects-inl_8h_html"><div class="ttname"><a href="wasm-objects-inl_8h.html">wasm-objects-inl.h</a></div></div>
<div class="ttc" id="awasm-serialization_8h_html"><div class="ttname"><a href="wasm-serialization_8h.html">wasm-serialization.h</a></div></div>
<div class="ttc" id="awasm-value_8h_html"><div class="ttname"><a href="wasm-value_8h.html">wasm-value.h</a></div></div>
<div class="ttc" id="azone_8h_html_a6b1fd0a126df3f1b788cee19d9cce66e"><div class="ttname"><a href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a></div><div class="ttdeci">#define ZONE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00022">zone.h:22</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_72f9e9028b46e75e11b89ac450e9bb8f.html">wasm</a></li><li class="navelem"><a class="el" href="wasm-js_8cc.html">wasm-js.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:01:07 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
