<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/include/v8-platform.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('v8-platform_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">v8-platform.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="v8-platform_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2013 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef V8_V8_PLATFORM_H_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define V8_V8_PLATFORM_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span>  <span class="comment">// For abort.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-source-location_8h.html">v8-source-location.h</a>&quot;</span>  <span class="comment">// NOLINT(build/include_directory)</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8config_8h.html">v8config.h</a>&quot;</span>            <span class="comment">// NOLINT(build/include_directory)</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">class </span>Isolate;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// Valid priorities supported by the task scheduling infrastructure.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">   24</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> : uint8_t {<span class="comment"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">   * Best effort tasks are not critical for performance of the application. The</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">   * platform implementation should preempt such tasks if higher priority tasks</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">   * arrive.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a8ca6416b1934c765a6967e9ea78e1f5c">kBestEffort</a>,<span class="comment"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">   * User visible tasks are long running background tasks that will</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">   * improve performance and memory usage of the application upon completion.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">   * Example: background compilation and garbage collection.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">kUserVisible</a>,<span class="comment"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">   * User blocking tasks are highest priority tasks that block the execution</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">   * thread (e.g. major garbage collection). They must be finished as soon as</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">   * possible.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">kUserBlocking</a>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051af7c3ba60a56a16a4e8818d15d587a518">kMaxPriority</a> = <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">kUserBlocking</a></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;};</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * A Task represents a unit of work.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classv8_1_1Task.html">   49</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1Task.html">Task</a> {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classv8_1_1Task.html#ac8371de73f3c9c9fbb8df245c19b5510">   51</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1Task.html#ac8371de73f3c9c9fbb8df245c19b5510">~Task</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classv8_1_1Task.html#a6bd5bda0e357fcc2e727bf7b0170f99a">   53</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Task.html#a6bd5bda0e357fcc2e727bf7b0170f99a">Run</a>() = 0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;};</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> * An IdleTask represents a unit of work to be performed in idle time.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"> * The Run method is invoked with an argument that specifies the deadline in</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"> * seconds returned by MonotonicallyIncreasingTime().</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"> * The idle task is expected to complete by this deadline.</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classv8_1_1IdleTask.html">   62</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1IdleTask.html">IdleTask</a> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classv8_1_1IdleTask.html#ab8ca6e4008ebd0a764cc94618c5b8311">   64</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1IdleTask.html#ab8ca6e4008ebd0a764cc94618c5b8311">~IdleTask</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classv8_1_1IdleTask.html#a4f2f238f551b3b2212adffcd5ee2f314">   65</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1IdleTask.html#a4f2f238f551b3b2212adffcd5ee2f314">Run</a>(<span class="keywordtype">double</span> deadline_in_seconds) = 0;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"> * A TaskRunner allows scheduling of tasks. The TaskRunner may still be used to</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"> * post tasks after the isolate gets destructed, but these tasks may not get</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"> * executed anymore. All tasks posted to a given TaskRunner will be invoked in</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"> * sequence. Tasks can be posted from any thread.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html">   74</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1TaskRunner.html">TaskRunner</a> {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">   * Schedules a task to be invoked by this TaskRunner. The TaskRunner</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">   * implementation takes ownership of |task|.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">   * Embedders should override PostTaskImpl instead of this.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a6873e0f1b38b28a4e6e98651b0fe8509">   82</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a6873e0f1b38b28a4e6e98651b0fe8509">PostTask</a>(std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classv8_1_1TaskRunner.html#a38cde7bc50ebb8a674b3dd7535ce3789">PostTaskImpl</a>(std::move(task), location);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">   * Schedules a task to be invoked by this TaskRunner. The TaskRunner</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   * implementation takes ownership of |task|. The |task| cannot be nested</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">   * within other task executions.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">   * Tasks which shouldn&#39;t be interleaved with JS execution must be posted with</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">   * |PostNonNestableTask| or |PostNonNestableDelayedTask|. This is because the</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">   * embedder may process tasks in a callback which is called during JS</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">   * execution.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">   * In particular, tasks which execute JS must be non-nestable, since JS</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">   * execution is not allowed to nest.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">   * Requires that |TaskRunner::NonNestableTasksEnabled()| is true.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">   * Embedders should override PostNonNestableTaskImpl instead of this.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#abbd03eca8491a45cf0a6cf1c441cd410">  104</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#abbd03eca8491a45cf0a6cf1c441cd410">PostNonNestableTask</a>(</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="classv8_1_1TaskRunner.html#a30635e39c966958fd8a1fd5d01b57ed8">PostNonNestableTaskImpl</a>(std::move(task), location);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">   * Schedules a task to be invoked by this TaskRunner. The task is scheduled</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">   * after the given number of seconds |delay_in_seconds|. The TaskRunner</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">   * implementation takes ownership of |task|.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">   * Embedders should override PostDelayedTaskImpl instead of this.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a5e77d31c8b20bd41d2a5f9488ded8255">  117</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a5e77d31c8b20bd41d2a5f9488ded8255">PostDelayedTask</a>(</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      std::unique_ptr&lt;Task&gt; task, <span class="keywordtype">double</span> delay_in_seconds,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="classv8_1_1TaskRunner.html#a3a218398a8c272dcbda6dee042811441">PostDelayedTaskImpl</a>(std::move(task), delay_in_seconds, location);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">   * Schedules a task to be invoked by this TaskRunner. The task is scheduled</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">   * after the given number of seconds |delay_in_seconds|. The TaskRunner</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">   * implementation takes ownership of |task|. The |task| cannot be nested</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">   * within other task executions.</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">   * Tasks which shouldn&#39;t be interleaved with JS execution must be posted with</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">   * |PostNonNestableTask| or |PostNonNestableDelayedTask|. This is because the</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">   * embedder may process tasks in a callback which is called during JS</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">   * execution.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">   * In particular, tasks which execute JS must be non-nestable, since JS</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">   * execution is not allowed to nest.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">   * Requires that |TaskRunner::NonNestableDelayedTasksEnabled()| is true.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">   * Embedders should override PostNonNestableDelayedTaskImpl instead of this.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#ac339c7564cff0e35a8c4cdc896550e9d">  141</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#ac339c7564cff0e35a8c4cdc896550e9d">PostNonNestableDelayedTask</a>(</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      std::unique_ptr&lt;Task&gt; task, <span class="keywordtype">double</span> delay_in_seconds,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classv8_1_1TaskRunner.html#aa2b977eda1094988ed206d20f61c1123">PostNonNestableDelayedTaskImpl</a>(std::move(task), delay_in_seconds, location);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">   * Schedules an idle task to be invoked by this TaskRunner. The task is</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">   * scheduled when the embedder is idle. Requires that</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   * |TaskRunner::IdleTasksEnabled()| is true. Idle tasks may be reordered</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">   * relative to other task types and may be starved for an arbitrarily long</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">   * time if no idle time is available. The TaskRunner implementation takes</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">   * ownership of |task|.</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">   * Embedders should override PostIdleTaskImpl instead of this.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a631865f3aab249a6ee149017ce4dbaca">  157</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a631865f3aab249a6ee149017ce4dbaca">PostIdleTask</a>(</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      std::unique_ptr&lt;IdleTask&gt; task,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="classv8_1_1TaskRunner.html#a14de16f034e25bae4d3718302438ea6d">PostIdleTaskImpl</a>(std::move(task), location);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">   * Returns true if idle tasks are enabled for this TaskRunner.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#aa8a6077bed5735e2190918685faf20f5">  166</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1TaskRunner.html#aa8a6077bed5735e2190918685faf20f5">IdleTasksEnabled</a>() = 0;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">   * Returns true if non-nestable tasks are enabled for this TaskRunner.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a7042a9967ddaaf1f995e568c3dd7ce64">  171</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1TaskRunner.html#a7042a9967ddaaf1f995e568c3dd7ce64">NonNestableTasksEnabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">   * Returns true if non-nestable delayed tasks are enabled for this TaskRunner.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a4145e3f5fe2ef966bdfb408972cb5824">  176</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1TaskRunner.html#a4145e3f5fe2ef966bdfb408972cb5824">NonNestableDelayedTasksEnabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a5e68e4abca974b7aff6c89d561dd96a2">  178</a></span>&#160;  <a class="code" href="classv8_1_1TaskRunner.html#a5e68e4abca974b7aff6c89d561dd96a2">TaskRunner</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a92facf5a6b8dc3e51319f14e3f85a129">  179</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1TaskRunner.html#a92facf5a6b8dc3e51319f14e3f85a129">~TaskRunner</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a2234536f978eddd6b75a0d2feba7b7df">  181</a></span>&#160;  <a class="code" href="classv8_1_1TaskRunner.html#a2234536f978eddd6b75a0d2feba7b7df">TaskRunner</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1TaskRunner.html">TaskRunner</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#afa3b34de51024b4a2422204d7719ac86">  182</a></span>&#160;  <a class="code" href="classv8_1_1TaskRunner.html">TaskRunner</a>&amp; <a class="code" href="classv8_1_1TaskRunner.html#afa3b34de51024b4a2422204d7719ac86">operator=</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1TaskRunner.html">TaskRunner</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; <span class="keyword">protected</span>:<span class="comment"></span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   * Implementation of above methods with an additional `location` argument.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a38cde7bc50ebb8a674b3dd7535ce3789">  188</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a38cde7bc50ebb8a674b3dd7535ce3789">PostTaskImpl</a>(std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) {}</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a30635e39c966958fd8a1fd5d01b57ed8">  190</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a30635e39c966958fd8a1fd5d01b57ed8">PostNonNestableTaskImpl</a>(std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                                       <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) {}</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a3a218398a8c272dcbda6dee042811441">  192</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a3a218398a8c272dcbda6dee042811441">PostDelayedTaskImpl</a>(std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                   <span class="keywordtype">double</span> delay_in_seconds,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) {}</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#aa2b977eda1094988ed206d20f61c1123">  195</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#aa2b977eda1094988ed206d20f61c1123">PostNonNestableDelayedTaskImpl</a>(std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                              <span class="keywordtype">double</span> delay_in_seconds,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                              <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) {}</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classv8_1_1TaskRunner.html#a14de16f034e25bae4d3718302438ea6d">  198</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TaskRunner.html#a14de16f034e25bae4d3718302438ea6d">PostIdleTaskImpl</a>(std::unique_ptr&lt;IdleTask&gt; task,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) {}</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;};</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> * Delegate that&#39;s passed to Job&#39;s worker task, providing an entry point to</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"> * communicate with the scheduler.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classv8_1_1JobDelegate.html">  206</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a> {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">   * Returns true if this thread *must* return from the worker task on the</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">   * current thread ASAP. Workers should periodically invoke ShouldYield (or</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">   * YieldIfNeeded()) as often as is reasonable.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">   * After this method returned true, ShouldYield must not be called again.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classv8_1_1JobDelegate.html#a7180a73d20fc8a240c742163001d8b3a">  214</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1JobDelegate.html#a7180a73d20fc8a240c742163001d8b3a">ShouldYield</a>() = 0;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">   * Notifies the scheduler that max concurrency was increased, and the number</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">   * of worker should be adjusted accordingly. See Platform::PostJob() for more</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">   * details.</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classv8_1_1JobDelegate.html#a317e161b7601e6c973be26299eef8991">  221</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobDelegate.html#a317e161b7601e6c973be26299eef8991">NotifyConcurrencyIncrease</a>() = 0;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">   * Returns a task_id unique among threads currently running this job, such</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">   * that GetTaskId() &lt; worker count. To achieve this, the same task_id may be</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">   * reused by a different thread after a worker_task returns.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="classv8_1_1JobDelegate.html#aeaea259d5f4fec4aaca6f9fc35126fda">  228</a></span>&#160;  <span class="keyword">virtual</span> uint8_t <a class="code" href="classv8_1_1JobDelegate.html#aeaea259d5f4fec4aaca6f9fc35126fda">GetTaskId</a>() = 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">   * Returns true if the current task is called from the thread currently</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">   * running JobHandle::Join().</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classv8_1_1JobDelegate.html#a93be293521d70bd38d5c69d35b1df790">  234</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1JobDelegate.html#a93be293521d70bd38d5c69d35b1df790">IsJoiningThread</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;};</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"> * Handle returned when posting a Job. Provides methods to control execution of</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"> * the posted Job.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html">  241</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1JobHandle.html">JobHandle</a> {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#adfb27c759786d9d9dab4766411859759">  243</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1JobHandle.html#adfb27c759786d9d9dab4766411859759">~JobHandle</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">   * Notifies the scheduler that max concurrency was increased, and the number</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">   * of worker should be adjusted accordingly. See Platform::PostJob() for more</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">   * details.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#a3c6d3e309521026696e24f36438520a5">  250</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobHandle.html#a3c6d3e309521026696e24f36438520a5">NotifyConcurrencyIncrease</a>() = 0;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">   * Contributes to the job on this thread. Doesn&#39;t return until all tasks have</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">   * completed and max concurrency becomes 0. When Join() is called and max</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">   * concurrency reaches 0, it should not increase again. This also promotes</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">   * this Job&#39;s priority to be at least as high as the calling thread&#39;s</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">   * priority.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#afd946040be3647f1ad2e609bd61f4854">  259</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobHandle.html#afd946040be3647f1ad2e609bd61f4854">Join</a>() = 0;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">   * Forces all existing workers to yield ASAP. Waits until they have all</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">   * returned from the Job&#39;s callback before returning.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#ad78c1f78141596c7ec3842d4c5dd2da0">  265</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobHandle.html#ad78c1f78141596c7ec3842d4c5dd2da0">Cancel</a>() = 0;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">   * Forces all existing workers to yield ASAP but doesn’t wait for them.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">   * Warning, this is dangerous if the Job&#39;s callback is bound to or has access</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">   * to state which may be deleted after this call.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#a4f69cab089d1cd7a75ec2f654bdd0dc0">  272</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobHandle.html#a4f69cab089d1cd7a75ec2f654bdd0dc0">CancelAndDetach</a>() = 0;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">   * Returns true if there&#39;s any work pending or any worker running.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#a55bc8e0ae66bf9f838f74af9d2ec7e37">  277</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1JobHandle.html#a55bc8e0ae66bf9f838f74af9d2ec7e37">IsActive</a>() = 0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">   * Returns true if associated with a Job and other methods may be called.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">   * Returns false after Join() or Cancel() was called. This may return true</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">   * even if no workers are running and IsCompleted() returns true</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#a843d65030326b97537bf5a0040394c10">  284</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1JobHandle.html#a843d65030326b97537bf5a0040394c10">IsValid</a>() = 0;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">   * Returns true if job priority can be changed.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#a74a54eb0d12af80ea09cb44921ef0a4f">  289</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1JobHandle.html#a74a54eb0d12af80ea09cb44921ef0a4f">UpdatePriorityEnabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">   *  Update this Job&#39;s priority.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classv8_1_1JobHandle.html#ac2260547d4f2c7898f0390ad4d33e252">  294</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobHandle.html#ac2260547d4f2c7898f0390ad4d33e252">UpdatePriority</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> new_priority) {}</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;};</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"> * A JobTask represents work to run in parallel from Platform::PostJob().</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classv8_1_1JobTask.html">  300</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1JobTask.html">JobTask</a> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="classv8_1_1JobTask.html#af2f08e601e5d06a9477249ce1a62dc1c">  302</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1JobTask.html#af2f08e601e5d06a9477249ce1a62dc1c">~JobTask</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classv8_1_1JobTask.html#a9b6d0cee5615420f30b0db8a4c5e8c3b">  304</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1JobTask.html#a9b6d0cee5615420f30b0db8a4c5e8c3b">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) = 0;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">   * Controls the maximum number of threads calling Run() concurrently, given</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">   * the number of threads currently assigned to this job and executing Run().</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">   * Run() is only invoked if the number of threads previously running Run() was</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">   * less than the value returned. In general, this should return the latest</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">   * number of incomplete work items (smallest unit of work) left to process,</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">   * including items that are currently in progress. |worker_count| is the</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">   * number of threads currently assigned to this job which some callers may</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">   * need to determine their return value. Since GetMaxConcurrency() is a leaf</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">   * function, it must not call back any JobHandle methods.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classv8_1_1JobTask.html#a9f1505551639903b327baecbeb38f6f7">  317</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1JobTask.html#a9f1505551639903b327baecbeb38f6f7">GetMaxConcurrency</a>(<span class="keywordtype">size_t</span> worker_count) <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;};</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> * A &quot;blocking call&quot; refers to any call that causes the calling thread to wait</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"> * off-CPU. It includes but is not limited to calls that wait on synchronous</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"> * file I/O operations: read or write a file from disk, interact with a pipe or</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"> * a socket, rename or delete a file, enumerate files in a directory, etc.</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"> * Acquiring a low contention lock is not considered a blocking call.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * BlockingType indicates the likelihood that a blocking call will actually</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * block.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfa">  332</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfa">BlockingType</a> {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// The call might block (e.g. file I/O that might hit in memory cache).</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <a class="code" href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfaaec6621c4e7d287f76d6959cf112c8fdc">kMayBlock</a>,</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// The call will definitely block (e.g. cache already checked and now pinging</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// server synchronously).</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfaa78699bfd9a2112010233fbbbcd7ce01b">kWillBlock</a></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;};</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"> * This class is instantiated with CreateBlockingScope() in every scope where a</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"> * blocking call is made and serves as a precise annotation of the scope that</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> * may/will block. May be implemented by an embedder to adjust the thread count.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> * CPU usage should be minimal within that scope. ScopedBlockingCalls can be</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> * nested.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="classv8_1_1ScopedBlockingCall.html">  347</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ScopedBlockingCall.html">ScopedBlockingCall</a> {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classv8_1_1ScopedBlockingCall.html#a18c0027e14c0fbad2c695259dec72c79">  349</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1ScopedBlockingCall.html#a18c0027e14c0fbad2c695259dec72c79">~ScopedBlockingCall</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;};</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> * The interface represents complex arguments to trace events.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classv8_1_1ConvertableToTraceFormat.html">  355</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ConvertableToTraceFormat.html">ConvertableToTraceFormat</a> {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classv8_1_1ConvertableToTraceFormat.html#a0d1beef1aa50843240c22660c294dd10">  357</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1ConvertableToTraceFormat.html#a0d1beef1aa50843240c22660c294dd10">~ConvertableToTraceFormat</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">   * Append the class info to the provided |out| string. The appended</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">   * data must be a valid JSON object. Strings must be properly quoted, and</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">   * escaped. There is no processing applied to the content after it is</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">   * appended.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classv8_1_1ConvertableToTraceFormat.html#a11f3295df2906e09c1f266049d130013">  365</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1ConvertableToTraceFormat.html#a11f3295df2906e09c1f266049d130013">AppendAsTraceFormat</a>(<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a>* out) <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;};</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment"> * V8 Tracing controller.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment"> * Can be implemented by an embedder to record trace events from V8.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment"> * Will become obsolete in Perfetto SDK build (v8_use_perfetto = true).</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html">  375</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1TracingController.html">TracingController</a> {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#a5153b9304057c4230743efdab586a7f2">  377</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1TracingController.html#a5153b9304057c4230743efdab586a7f2">~TracingController</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// In Perfetto mode, trace events are written using Perfetto&#39;s Track Event</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="comment">// API directly without going through the embedder. However, it is still</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="comment">// possible to observe tracing being enabled and disabled.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#if !defined(V8_USE_PERFETTO)</span><span class="comment"></span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">   * Called by TRACE_EVENT* macros, don&#39;t call this directly.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">   * The name parameter is a category group for example:</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">   * TRACE_EVENT0(&quot;v8,parse&quot;, &quot;V8.Parse&quot;)</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">   * The pointer returned points to a value with zero or more of the bits</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">   * defined in CategoryGroupEnabledFlags.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">   **/</span></div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#af3c0fcec8fe93b18a89392686cfedfe5">  390</a></span>&#160;  <span class="keyword">virtual</span> <span class="keyword">const</span> uint8_t* <a class="code" href="classv8_1_1TracingController.html#af3c0fcec8fe93b18a89392686cfedfe5">GetCategoryGroupEnabled</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keyword">static</span> uint8_t no = 0;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> &amp;no;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">   * Adds a trace event to the platform tracing system. These function calls are</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">   * usually the result of a TRACE_* macro from trace-event-no-perfetto.h when</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">   * tracing and the category of the particular trace are enabled. It is not</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">   * advisable to call these functions on their own; they are really only meant</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">   * to be used by the trace macros. The returned handle can be used by</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">   * UpdateTraceEventDuration to update the duration of COMPLETE events.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#ad1e234b340ea8f9f1e3386aa21dad5dd">  403</a></span>&#160;  <span class="keyword">virtual</span> uint64_t <a class="code" href="classv8_1_1TracingController.html#ad1e234b340ea8f9f1e3386aa21dad5dd">AddTraceEvent</a>(</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordtype">char</span> phase, <span class="keyword">const</span> uint8_t* category_enabled_flag, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* scope, uint64_t <span class="keywordtype">id</span>, uint64_t bind_id, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> num_args,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>** arg_names, <span class="keyword">const</span> uint8_t* arg_types,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keyword">const</span> uint64_t* arg_values,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      std::unique_ptr&lt;ConvertableToTraceFormat&gt;* arg_convertables,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#a09a16f1d491260f0fef48eaa3a0a28d7">  412</a></span>&#160;  <span class="keyword">virtual</span> uint64_t <a class="code" href="classv8_1_1TracingController.html#a09a16f1d491260f0fef48eaa3a0a28d7">AddTraceEventWithTimestamp</a>(</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordtype">char</span> phase, <span class="keyword">const</span> uint8_t* category_enabled_flag, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* scope, uint64_t <span class="keywordtype">id</span>, uint64_t bind_id, <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> num_args,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>** arg_names, <span class="keyword">const</span> uint8_t* arg_types,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keyword">const</span> uint64_t* arg_values,</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      std::unique_ptr&lt;ConvertableToTraceFormat&gt;* arg_convertables,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, int64_t timestamp) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">   * Sets the duration field of a COMPLETE trace event. It must be called with</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">   * the handle returned from AddTraceEvent().</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">   **/</span></div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#ac1fda6cdae5f6515b896b3df05d5a97e">  426</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TracingController.html#ac1fda6cdae5f6515b896b3df05d5a97e">UpdateTraceEventDuration</a>(<span class="keyword">const</span> uint8_t* category_enabled_flag,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                        <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, uint64_t <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {}</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(V8_USE_PERFETTO)</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController_1_1TraceStateObserver.html">  430</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1TracingController_1_1TraceStateObserver.html">TraceStateObserver</a> {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController_1_1TraceStateObserver.html#a746299c67f2f282101d8b61ae83c4120">  432</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classv8_1_1TracingController_1_1TraceStateObserver.html#a746299c67f2f282101d8b61ae83c4120">~TraceStateObserver</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController_1_1TraceStateObserver.html#a3853d90b9458529203fd1c4bc8caf4e3">  433</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TracingController_1_1TraceStateObserver.html#a3853d90b9458529203fd1c4bc8caf4e3">OnTraceEnabled</a>() = 0;</div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController_1_1TraceStateObserver.html#a840a68c822844e57e4b023dc4f9e0fee">  434</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TracingController_1_1TraceStateObserver.html#a840a68c822844e57e4b023dc4f9e0fee">OnTraceDisabled</a>() = 0;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  };</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">   * Adds tracing state change observer.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">   * Does nothing in Perfetto SDK build (v8_use_perfetto = true).</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#a7b86361ffadff46018a348fd2aa01061">  441</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TracingController.html#a7b86361ffadff46018a348fd2aa01061">AddTraceStateObserver</a>(<a class="code" href="classv8_1_1TracingController_1_1TraceStateObserver.html">TraceStateObserver</a>*) {}</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">   * Removes tracing state change observer.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">   * Does nothing in Perfetto SDK build (v8_use_perfetto = true).</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="classv8_1_1TracingController.html#ab8d5b3ac795188effb423fa2c0514353">  447</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1TracingController.html#ab8d5b3ac795188effb423fa2c0514353">RemoveTraceStateObserver</a>(<a class="code" href="classv8_1_1TracingController_1_1TraceStateObserver.html">TraceStateObserver</a>*) {}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;};</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment"> * A V8 memory page allocator.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment"> * Can be implemented by an embedder to manage large host OS allocations.</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html">  455</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a> {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a208d230788b4cd927e811825cd76eae3">  457</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1PageAllocator.html#a208d230788b4cd927e811825cd76eae3">~PageAllocator</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">   * Gets the page granularity for AllocatePages and FreePages. Addresses and</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">   * lengths for those calls should be multiples of AllocatePageSize().</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">  463</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">AllocatePageSize</a>() = 0;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">   * Gets the page granularity for SetPermissions and ReleasePages. Addresses</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">   * and lengths for those calls should be multiples of CommitPageSize().</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#ad817d87004151e3824997415f2dc57e9">  469</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1PageAllocator.html#ad817d87004151e3824997415f2dc57e9">CommitPageSize</a>() = 0;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">   * Sets the random seed so that GetRandomMmapAddr() will generate repeatable</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">   * sequences of random mmap addresses.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a9481a73527915fd200f6e1e9ed4b3eba">  475</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1PageAllocator.html#a9481a73527915fd200f6e1e9ed4b3eba">SetRandomMmapSeed</a>(int64_t seed) = 0;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">   * Returns a randomized address, suitable for memory allocation under ASLR.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">   * The address will be aligned to AllocatePageSize.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a37f194f9c5fdbe5105476cbd1432418c">  481</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator.html#a37f194f9c5fdbe5105476cbd1432418c">GetRandomMmapAddr</a>() = 0;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">   * Memory permissions.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">  486</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">Permission</a> {</div>
<div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a501acdacad072f7d6e5737159141301d">  487</a></span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a501acdacad072f7d6e5737159141301d">kNoAccess</a>,</div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a1c3883d970517c3e3de7bb26e7cfeafa">  488</a></span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a1c3883d970517c3e3de7bb26e7cfeafa">kRead</a>,</div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a">  489</a></span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a">kReadWrite</a>,</div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">  490</a></span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">kReadWriteExecute</a>,</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a1aa2e51abe8d2706dfba3cd369bb78b0">  491</a></span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a1aa2e51abe8d2706dfba3cd369bb78b0">kReadExecute</a>,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// Set this when reserving memory that will later require kReadWriteExecute</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// permissions. The resulting behavior is platform-specific, currently</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// this is used to set the MAP_JIT flag on Apple Silicon.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// TODO(jkummerow): Remove this when Wasm has a platform-independent</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="comment">// w^x implementation.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// TODO(saelo): Remove this once all JIT pages are allocated through the</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// VirtualAddressSpace API.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a9db86d03ab1bf0a060f75bc9ea238e3d">kNoAccessWillJitLater</a></div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a9db86d03ab1bf0a060f75bc9ea238e3d">  500</a></span>&#160;  };</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">   * Optional hints for AllocatePages().</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html">  505</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html">AllocationHint</a> final {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a49c95efcd51896c1ac04e102c8e666b9">  507</a></span>&#160;    <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a49c95efcd51896c1ac04e102c8e666b9">AllocationHint</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a03a84c34fb29e3304e6f6faab1ce0cf0">  509</a></span>&#160;    <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> constexpr <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html">AllocationHint</a> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a03a84c34fb29e3304e6f6faab1ce0cf0">WithAddress</a>(</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordtype">void</span>* address)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a49c95efcd51896c1ac04e102c8e666b9">AllocationHint</a>(address, <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae4bbce516ab5b102337f00362e3db635">may_grow_</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    }</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ab3019e8abbc4fbfb2696063fddad65bb">  514</a></span>&#160;    <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> constexpr <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html">AllocationHint</a> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ab3019e8abbc4fbfb2696063fddad65bb">WithMayGrow</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a49c95efcd51896c1ac04e102c8e666b9">AllocationHint</a>(<a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae33f0962a41a808e99477cc6ad17259a">address_</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a7fb3901a0bb4d75eced1156a96001bc1">  518</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a7fb3901a0bb4d75eced1156a96001bc1">MayGrow</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae4bbce516ab5b102337f00362e3db635">may_grow_</a>; }</div>
<div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a101ab3ab70799f070a75c2db7e89fb09">  519</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a101ab3ab70799f070a75c2db7e89fb09">Address</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae33f0962a41a808e99477cc6ad17259a">address_</a>; }</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a8c6f79d6e2b82026df8db075e61a9b11">  522</a></span>&#160;    constexpr <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a8c6f79d6e2b82026df8db075e61a9b11">AllocationHint</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">bool</span> may_grow)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        : <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae33f0962a41a808e99477cc6ad17259a">address_</a>(address), <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae4bbce516ab5b102337f00362e3db635">may_grow_</a>(may_grow) {}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae33f0962a41a808e99477cc6ad17259a">  525</a></span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae33f0962a41a808e99477cc6ad17259a">address_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae4bbce516ab5b102337f00362e3db635">  526</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae4bbce516ab5b102337f00362e3db635">may_grow_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  };</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">   * Allocates memory in range with the given alignment and permission.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#ab3a25ddd2601701f80ee67c4bf017ef7">  532</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator.html#ab3a25ddd2601701f80ee67c4bf017ef7">AllocatePages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                              <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">Permission</a> permissions) = 0;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">   * Allocates memory in range with the given alignment and permission. In</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">   * addition to AllocatePages it allows to pass in allocation hints. The</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">   * underlying implementation may not make use of hints.</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#afd7e95cbbeae926abfc6e49258dcf53e">  540</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator.html#afd7e95cbbeae926abfc6e49258dcf53e">AllocatePages</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;                              <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">Permission</a> permissions, <a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html">AllocationHint</a> hint) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1PageAllocator.html#ab3a25ddd2601701f80ee67c4bf017ef7">AllocatePages</a>(hint.<a class="code" href="classv8_1_1PageAllocator_1_1AllocationHint.html#a101ab3ab70799f070a75c2db7e89fb09">Address</a>(), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, alignment, permissions);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">   * Resizes the previously allocated memory at the given address. Returns true</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">   * if the allocation could be resized. Returns false if this operation is</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">   * either not supported or the object could not be resized in-place.</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a1893e0cf450d2df73a9de74e9dd94ec5">  550</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#a1893e0cf450d2df73a9de74e9dd94ec5">ResizeAllocationAt</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> old_length,</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                                  <span class="keywordtype">size_t</span> new_length, <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">Permission</a> permissions) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  }</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">   * Frees memory in a range that was allocated by a call to AllocatePages.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#abc2e3fdc768aba7d35ce0cf44f14586c">  558</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#abc2e3fdc768aba7d35ce0cf44f14586c">FreePages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) = 0;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">   * Releases memory in a range that was allocated by a call to AllocatePages.</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a6eb6bd93c8880dd022a61a13c65f66c0">  563</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#a6eb6bd93c8880dd022a61a13c65f66c0">ReleasePages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                            <span class="keywordtype">size_t</span> new_length) = 0;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">   * Sets permissions on pages in an allocated range.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#aa3817d5bfaba9ec280a6cfb60e6adda0">  569</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#aa3817d5bfaba9ec280a6cfb60e6adda0">SetPermissions</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                              <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">Permission</a> permissions) = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">   * Recommits discarded pages in the given range with given permissions.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">   * Discarded pages must be recommitted with their original permissions</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">   * before they are used again.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#aa05bfd415492374b712dd1d3f6f4a1f9">  577</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#aa05bfd415492374b712dd1d3f6f4a1f9">RecommitPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                             <a class="code" href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">Permission</a> permissions) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// TODO(v8:12797): make it pure once it&#39;s implemented on Chromium side.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">   * Frees memory in the given [address, address + size) range. address and size</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">   * should be operating system page-aligned. The next write to this</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">   * memory area brings the memory transparently back. This should be treated as</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">   * a hint to the OS that the pages are no longer needed. It does not guarantee</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">   * that the pages will be discarded immediately or at all.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00590"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#ad0de847c922e25f63d82494d997f441d">  590</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#ad0de847c922e25f63d82494d997f441d">DiscardSystemPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">   * Decommits any wired memory pages in the given range, allowing the OS to</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">   * reclaim them, and marks the region as inacessible (kNoAccess). The address</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">   * range stays reserved and can be accessed again later by changing its</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">   * permissions. However, in that case the memory content is guaranteed to be</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">   * zero-initialized again. The memory must have been previously allocated by a</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">   * call to AllocatePages. Returns true on success, false otherwise.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a8926cd902754e8d1788e6c172c3a72c2">  600</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#a8926cd902754e8d1788e6c172c3a72c2">DecommitPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">   * Block any modifications to the given mapping such as changing permissions</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">   * or unmapping the pages on supported platforms.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">   * The address space reservation will exist until the process ends, but it&#39;s</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">   * possible to release the memory using DiscardSystemPages. Note that this</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">   * might require write permissions to the page as e.g. on Linux, mseal will</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">   * block discarding sealed anonymous memory.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#aa4ab7a75c0bc1e146790362ac59c4f6d">  610</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#aa4ab7a75c0bc1e146790362ac59c4f6d">SealPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// TODO(360048056): make it pure once it&#39;s implemented on Chromium side.</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">   * INTERNAL ONLY: This interface has not been stabilised and may change</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">   * without notice from one release to another without being deprecated first.</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html">  619</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html">SharedMemoryMapping</a> {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// Implementations are expected to free the shared memory mapping in the</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// destructor.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html#a0925195b6346a00b63696189872bd59a">  623</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html#a0925195b6346a00b63696189872bd59a">~SharedMemoryMapping</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html#ac71a0125d4c6584628fb35c3b16b9507">  624</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html#ac71a0125d4c6584628fb35c3b16b9507">GetMemory</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  };</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">   * INTERNAL ONLY: This interface has not been stabilised and may change</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">   * without notice from one release to another without being deprecated first.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemory.html">  631</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1PageAllocator_1_1SharedMemory.html">SharedMemory</a> {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">// Implementations are expected to free the shared memory in the destructor.</span></div>
<div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemory.html#af32dfd4a8e53978cf9315c2331402381">  634</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classv8_1_1PageAllocator_1_1SharedMemory.html#af32dfd4a8e53978cf9315c2331402381">~SharedMemory</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemory.html#a1ad75f1efc803ffe051c5af8b7890a59">  635</a></span>&#160;    <span class="keyword">virtual</span> std::unique_ptr&lt;SharedMemoryMapping&gt; <a class="code" href="classv8_1_1PageAllocator_1_1SharedMemory.html#a1ad75f1efc803ffe051c5af8b7890a59">RemapTo</a>(</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="keywordtype">void</span>* new_address) <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemory.html#af26f0a97aaedbec9a17f28306d5667d5">  637</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1PageAllocator_1_1SharedMemory.html#af26f0a97aaedbec9a17f28306d5667d5">GetMemory</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator_1_1SharedMemory.html#adf8a696c290fd371527373be99996c9d">  638</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1PageAllocator_1_1SharedMemory.html#adf8a696c290fd371527373be99996c9d">GetSize</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  };</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">   * INTERNAL ONLY: This interface has not been stabilised and may change</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">   * without notice from one release to another without being deprecated first.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">   * Reserve pages at a fixed address returning whether the reservation is</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">   * possible. The reserved memory is detached from the PageAllocator and so</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">   * should not be freed by it. It&#39;s intended for use with</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">   * SharedMemory::RemapTo, where ~SharedMemoryMapping would free the memory.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#aee53fd66d127c8fd3dc3eaf2a07e6e45">  650</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#aee53fd66d127c8fd3dc3eaf2a07e6e45">ReserveForSharedMemoryMapping</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">   * INTERNAL ONLY: This interface has not been stabilised and may change</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">   * without notice from one release to another without being deprecated first.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">   * Allocates shared memory pages. Not all PageAllocators need support this and</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">   * so this method need not be overridden.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">   * Allocates a new read-only shared memory region of size |length| and copies</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">   * the memory at |original_address| into it.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a4b7c8a645f5be0353059edbc2cc36fa0">  663</a></span>&#160;  <span class="keyword">virtual</span> std::unique_ptr&lt;SharedMemory&gt; <a class="code" href="classv8_1_1PageAllocator.html#a4b7c8a645f5be0353059edbc2cc36fa0">AllocateSharedPages</a>(</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* original_address) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">   * INTERNAL ONLY: This interface has not been stabilised and may change</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">   * without notice from one release to another without being deprecated first.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">   * If not overridden and changed to return true, V8 will not attempt to call</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">   * AllocateSharedPages or RemapSharedPages. If overridden, AllocateSharedPages</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">   * and RemapSharedPages must also be overridden.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="classv8_1_1PageAllocator.html#a9ceea3c8c73e07a515fe556382a795b3">  676</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1PageAllocator.html#a9ceea3c8c73e07a515fe556382a795b3">CanAllocateSharedPages</a>() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;};</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="comment"> * An allocator that uses per-thread permissions to protect the memory.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment"> * The implementation is platform/hardware specific, e.g. using pkeys on x64.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"> * INTERNAL ONLY: This interface has not been stabilised and may change</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"> * without notice from one release to another without being deprecated first.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html">  687</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ThreadIsolatedAllocator.html">ThreadIsolatedAllocator</a> {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html#abca1c3449f722ac8c3817582625e8e7a">  689</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#abca1c3449f722ac8c3817582625e8e7a">~ThreadIsolatedAllocator</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html#afe9f8aaba035134aaca622b86d9a38c7">  691</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#afe9f8aaba035134aaca622b86d9a38c7">Allocate</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) = 0;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160; </div>
<div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html#a7f50f10698da7d30275decd8ece47e0d">  693</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#a7f50f10698da7d30275decd8ece47e0d">Free</a>(<span class="keywordtype">void</span>* <span class="keywordtype">object</span>) = 0;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html#acc21cdd33629ce2850fe7fb78131386c">  695</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#acc21cdd33629ce2850fe7fb78131386c">Type</a> {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#acc21cdd33629ce2850fe7fb78131386ca06441b6e4073a914d0aabed695c6b8a2">kPkey</a>,</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  };</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html#ac4c842e3d02dbacc64829db1e0837e5f">  699</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#acc21cdd33629ce2850fe7fb78131386c">Type</a> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#ac4c842e3d02dbacc64829db1e0837e5f">Type</a>() <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">   * Return the pkey used to implement the thread isolation if Type == kPkey.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00704"></a><span class="lineno"><a class="line" href="classv8_1_1ThreadIsolatedAllocator.html#a119b43c3e5cc16b0aca6c5269684ba0f">  704</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html#a119b43c3e5cc16b0aca6c5269684ba0f">Pkey</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> -1; }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;};</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">// Opaque type representing a handle to a shared memory region.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">  708</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> = intptr_t;</div>
<div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="namespacev8.html#ac9f421c9670d61efa9094326eb8176dc">  709</a></span>&#160;<span class="keyword">static</span> constexpr <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8.html#ac9f421c9670d61efa9094326eb8176dc">kInvalidSharedMemoryHandle</a> = -1;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">// Conversion routines from the platform-dependent shared memory identifiers</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">// into the opaque PlatformSharedMemoryHandle type. These use the underlying</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">// types (e.g. unsigned int) instead of the typedef&#39;d ones (e.g. mach_port_t)</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">// to avoid pulling in large OS header files into this header file. Instead,</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">// the users of these routines are expected to include the respecitve OS</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">// headers in addition to this one.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#if V8_OS_DARWIN</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">// Convert between a shared memory handle and a mach_port_t referencing a memory</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">// entry object.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="keyword">inline</span> <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> SharedMemoryHandleFromMachMemoryEntry(</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a><span class="keyword">&gt;</span>(port);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> MachMemoryEntryFromSharedMemoryHandle(</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;}</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="preprocessor">#elif V8_OS_FUCHSIA</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">// Convert between a shared memory handle and a zx_handle_t to a VMO.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="keyword">inline</span> <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> SharedMemoryHandleFromVMO(uint32_t <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="keyword">inline</span> uint32_t VMOFromSharedMemoryHandle(<a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;}</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#elif V8_OS_WIN</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">// Convert between a shared memory handle and a Windows HANDLE to a file mapping</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">// object.</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="keyword">inline</span> <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> SharedMemoryHandleFromFileMapping(</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;}</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span>* FileMappingFromSharedMemoryHandle(</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">// Convert between a shared memory handle and a file descriptor.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="namespacev8.html#aabe232c0ab90fac6d1b1d21c33e8dc93">  749</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8.html#aabe232c0ab90fac6d1b1d21c33e8dc93">SharedMemoryHandleFromFileDescriptor</a>(<span class="keywordtype">int</span> fd) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a><span class="keyword">&gt;</span>(fd);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;}</div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="namespacev8.html#a890e364ea707a258c1fb911f7321a93e">  752</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8.html#a890e364ea707a258c1fb911f7321a93e">FileDescriptorFromSharedMemoryHandle</a>(</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"> * Possible permissions for memory pages.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">  761</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555af5d6f15f85f8db76149a52e2f4a2aa70">kNoAccess</a>,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555a8604cf55a79d6bfdcb30f77d1622839b">kRead</a>,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555af34c23f2eed93c9645e1aa681c77bec5">kReadWrite</a>,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555a203620cd187bc1be1aec50642019ee57">kReadWriteExecute</a>,</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555a1a4c5e3d44db171c5ee5aa4bb47a59ed">kReadExecute</a>,</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;};</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"> * Class to manage a virtual memory address space.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment"> * This class represents a contiguous region of virtual address space in which</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment"> * sub-spaces and (private or shared) memory pages can be allocated, freed, and</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment"> * modified. This interface is meant to eventually replace the PageAllocator</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment"> * interface, and can be used as an alternative in the meantime.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment"> * This API is not yet stable and may change without notice!</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html">  779</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1VirtualAddressSpace.html">VirtualAddressSpace</a> {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a3c0298cd4f2772121598859ad00f3ee6">  781</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classuintptr__t.html">Address</a> = <a class="code" href="classuintptr__t.html">uintptr_t</a>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a856826f63c4371f299485b2ac5e8fe2b">  783</a></span>&#160;  <a class="code" href="classv8_1_1VirtualAddressSpace.html#a856826f63c4371f299485b2ac5e8fe2b">VirtualAddressSpace</a>(<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#afd51bd33692e85fa4742f62c9c832ffe">page_size</a>, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#ac365bb44d61c7028d87c128042e2eb77">allocation_granularity</a>,</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                      <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">base</a>, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>,</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                      <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#aafe4453dd670c38e41c3ce63e2b39008">max_page_permissions</a>)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      : <a class="code" href="classv8_1_1VirtualAddressSpace.html#a2778e03b2f2d941e661a8937cbe79347">page_size_</a>(<a class="code" href="classv8_1_1VirtualAddressSpace.html#afd51bd33692e85fa4742f62c9c832ffe">page_size</a>),</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <a class="code" href="classv8_1_1VirtualAddressSpace.html#adcf7210a0fc2714e669cfeb9538f7a18">allocation_granularity_</a>(<a class="code" href="classv8_1_1VirtualAddressSpace.html#ac365bb44d61c7028d87c128042e2eb77">allocation_granularity</a>),</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <a class="code" href="classv8_1_1VirtualAddressSpace.html#a7c1edd7da838d600d380c02007b57096">base_</a>(<a class="code" href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">base</a>),</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <a class="code" href="classv8_1_1VirtualAddressSpace.html#a65b8e54dd91903621a9a020802f7ff4f">size_</a>(<a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>),</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        <a class="code" href="classv8_1_1VirtualAddressSpace.html#a24033fe6f48c27f8b7aefd2d252a148f">max_page_permissions_</a>(<a class="code" href="classv8_1_1VirtualAddressSpace.html#aafe4453dd670c38e41c3ce63e2b39008">max_page_permissions</a>) {}</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#acfcd3b915e54a399741c3715bee299ef">  792</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#acfcd3b915e54a399741c3715bee299ef">~VirtualAddressSpace</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">   * The page size used inside this space. Guaranteed to be a power of two.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">   * Used as granularity for all page-related operations except for allocation,</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="comment">   * which use the allocation_granularity(), see below.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">   * \returns the page size in bytes.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#afd51bd33692e85fa4742f62c9c832ffe">  801</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#afd51bd33692e85fa4742f62c9c832ffe">page_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a2778e03b2f2d941e661a8937cbe79347">page_size_</a>; }</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">   * The granularity of page allocations and, by extension, of subspace</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">   * allocations. This is guaranteed to be a power of two and a multiple of the</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">   * page_size(). In practice, this is equal to the page size on most OSes, but</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">   * on Windows it is usually 64KB, while the page size is 4KB.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">   * \returns the allocation granularity in bytes.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#ac365bb44d61c7028d87c128042e2eb77">  811</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#ac365bb44d61c7028d87c128042e2eb77">allocation_granularity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#adcf7210a0fc2714e669cfeb9538f7a18">allocation_granularity_</a>; }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment">   * The base address of the address space managed by this instance.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">   * \returns the base address of this address space.</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">  818</a></span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">base</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a7c1edd7da838d600d380c02007b57096">base_</a>; }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">   * The size of the address space managed by this instance.</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">   * \returns the size of this address space in bytes.</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">  825</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a65b8e54dd91903621a9a020802f7ff4f">size_</a>; }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">   * The maximum page permissions that pages allocated inside this space can</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">   * obtain.</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">   * \returns the maximum page permissions.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#aafe4453dd670c38e41c3ce63e2b39008">  833</a></span>&#160;  <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#aafe4453dd670c38e41c3ce63e2b39008">max_page_permissions</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a24033fe6f48c27f8b7aefd2d252a148f">max_page_permissions_</a>; }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">   * Whether the |address| is inside the address space managed by this instance.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">   * \returns true if it is inside the address space, false if not.</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a3ae7b434eae9344688a4860c334dc4a7">  840</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a3ae7b434eae9344688a4860c334dc4a7">Contains</a>(<a class="code" href="classuintptr__t.html">Address</a> address)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">return</span> (address &gt;= <a class="code" href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">base</a>()) &amp;&amp; (address &lt; <a class="code" href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">base</a>() + <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>());</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">   * Sets the random seed so that GetRandomPageAddress() will generate</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">   * repeatable sequences of random addresses.</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">   * \param The seed for the PRNG.</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a2c87529d4f8aa2f73a41a74b50bacb61">  850</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a2c87529d4f8aa2f73a41a74b50bacb61">SetRandomSeed</a>(int64_t seed) = 0;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">   * Returns a random address inside this address space, suitable for page</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">   * allocations hints.</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">   * \returns a random address aligned to allocation_granularity().</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00858"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#ac7db7558b1ce5a2df1d406ff7b964cdc">  858</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#ac7db7558b1ce5a2df1d406ff7b964cdc">RandomPageAddress</a>() = 0;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">   * Allocates private memory pages with the given alignment and permissions.</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">   * \param hint If nonzero, the allocation is attempted to be placed at the</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">   * given address first. If that fails, the allocation is attempted to be</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">   * placed elsewhere, possibly nearby, but that is not guaranteed. Specifying</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">   * zero for the hint always causes this function to choose a random address.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">   * The hint, if specified, must be aligned to the specified alignment.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">   * \param size The size of the allocation in bytes. Must be a multiple of the</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">   * allocation_granularity().</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">   * \param alignment The alignment of the allocation in bytes. Must be a</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">   * multiple of the allocation_granularity() and should be a power of two.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">   * \param permissions The page permissions of the newly allocated pages.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">   * \returns the start address of the allocated pages on success, zero on</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">   * failure.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a3a8f4984c524f2c30a8b00a6b8bff41a">  880</a></span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a3a8f4984c524f2c30a8b00a6b8bff41a">kNoHint</a> = 0;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <a class="code" href="classuintptr__t.html">Address</a></div>
<div class="line"><a name="l00882"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a507753f63e8c88702ca7f85a3f503c95">  882</a></span>&#160;  <a class="code" href="classv8_1_1VirtualAddressSpace.html#a507753f63e8c88702ca7f85a3f503c95">AllocatePages</a>(<a class="code" href="classuintptr__t.html">Address</a> hint, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> permissions) = 0;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">   * Frees previously allocated pages.</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">   * This function will terminate the process on failure as this implies a bug</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">   * in the client. As such, there is no return value.</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">   * \param address The start address of the pages to free. This address must</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">   * have been obtained through a call to AllocatePages.</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">   * \param size The size in bytes of the region to free. This must match the</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">   * size passed to AllocatePages when the pages were allocated.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00897"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a1e0f659a566ee6d617210c91c98c2836">  897</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a1e0f659a566ee6d617210c91c98c2836">FreePages</a>(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>) = 0;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">   * Sets permissions of all allocated pages in the given range.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">   * This operation can fail due to OOM, in which case false is returned. If</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">   * the operation fails for a reason other than OOM, this function will</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">   * terminate the process as this implies a bug in the client.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">   * \param address The start address of the range. Must be aligned to</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">   * page_size().</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">   * \param size The size in bytes of the range. Must be a multiple</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">   * of page_size().</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">   * \param permissions The new permissions for the range.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">   * \returns true on success, false on OOM.</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00916"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a8c1c16f99b3654cd3287242d3a4a5fb5">  916</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8c1c16f99b3654cd3287242d3a4a5fb5">SetPagePermissions</a>(</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>, <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> permissions) = 0;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">   * Creates a guard region at the specified address.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">   * Guard regions are guaranteed to cause a fault when accessed and generally</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">   * do not count towards any memory consumption limits. Further, allocating</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">   * guard regions can usually not fail in subspaces if the region does not</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">   * overlap with another region, subspace, or page allocation.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">   * \param address The start address of the guard region. Must be aligned to</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">   * the allocation_granularity().</span></div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">   * \param size The size of the guard region in bytes. Must be a multiple of</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">   * the allocation_granularity().</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">   * \returns true on success, false otherwise.</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00935"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a33df074616690391d1cc85a4646e2862">  935</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a33df074616690391d1cc85a4646e2862">AllocateGuardRegion</a>(<a class="code" href="classuintptr__t.html">Address</a> address,</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                                         <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>) = 0;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">   * Frees an existing guard region.</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">   * This function will terminate the process on failure as this implies a bug</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">   * in the client. As such, there is no return value.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">   * \param address The start address of the guard region to free. This address</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">   * must have previously been used as address parameter in a successful</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">   * invocation of AllocateGuardRegion.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">   * \param size The size in bytes of the guard region to free. This must match</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">   * the size passed to AllocateGuardRegion when the region was created.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00951"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a5806db3da841c3c7c1533fd01e888dbb">  951</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a5806db3da841c3c7c1533fd01e888dbb">FreeGuardRegion</a>(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>) = 0;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">   * Allocates shared memory pages with the given permissions.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">   * \param hint Placement hint. See AllocatePages.</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">   * \param size The size of the allocation in bytes. Must be a multiple of the</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">   * allocation_granularity().</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">   * \param permissions The page permissions of the newly allocated pages.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">   * \param handle A platform-specific handle to a shared memory object. See</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="comment">   * the SharedMemoryHandleFromX routines above for ways to obtain these.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">   * \param offset The offset in the shared memory object at which the mapping</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">   * should start. Must be a multiple of the allocation_granularity().</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">   * \returns the start address of the allocated pages on success, zero on</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">   * failure.</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <a class="code" href="classuintptr__t.html">Address</a></div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#ab3902d10f4184f9f6b7da7047835c4ec">  973</a></span>&#160;  <a class="code" href="classv8_1_1VirtualAddressSpace.html#ab3902d10f4184f9f6b7da7047835c4ec">AllocateSharedPages</a>(<a class="code" href="classuintptr__t.html">Address</a> hint, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>, <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> permissions,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                      <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>, uint64_t offset) = 0;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">   * Frees previously allocated shared pages.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">   * This function will terminate the process on failure as this implies a bug</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">   * in the client. As such, there is no return value.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment">   * \param address The start address of the pages to free. This address must</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">   * have been obtained through a call to AllocateSharedPages.</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">   * \param size The size in bytes of the region to free. This must match the</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">   * size passed to AllocateSharedPages when the pages were allocated.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a5676436f27f89e695e149de9ba4963cf">  988</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a5676436f27f89e695e149de9ba4963cf">FreeSharedPages</a>(<a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>) = 0;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">   * Whether this instance can allocate subspaces or not.</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="comment">   * \returns true if subspaces can be allocated, false if not.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a07f77e81c5f04744cf40693915445c93">  995</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a07f77e81c5f04744cf40693915445c93">CanAllocateSubspaces</a>() = 0;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160; </div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment">   * Allocate a subspace.</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">   * The address space of a subspace stays reserved in the parent space for the</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">   * lifetime of the subspace. As such, it is guaranteed that page allocations</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">   * on the parent space cannot end up inside a subspace.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">   * \param hint Hints where the subspace should be allocated. See</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment">   * AllocatePages() for more details.</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">   * \param size The size in bytes of the subspace. Must be a multiple of the</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">   * allocation_granularity().</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">   * \param alignment The alignment of the subspace in bytes. Must be a multiple</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">   * of the allocation_granularity() and should be a power of two.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">   * \param max_page_permissions The maximum permissions that pages allocated in</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">   * the subspace can obtain.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">   * \returns a new subspace or nullptr on failure.</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#afdc26056f23014131110510b92ae8c61"> 1018</a></span>&#160;  <span class="keyword">virtual</span> std::unique_ptr&lt;VirtualAddressSpace&gt; <a class="code" href="classv8_1_1VirtualAddressSpace.html#afdc26056f23014131110510b92ae8c61">AllocateSubspace</a>(</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> hint, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#aafe4453dd670c38e41c3ce63e2b39008">max_page_permissions</a>) = 0;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160; </div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">// TODO(v8) maybe refactor the methods below before stabilizing the API. For</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// example by combining them into some form of page operation method that</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="comment">// takes a command enum as parameter.</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">   * Recommits discarded pages in the given range with given permissions.</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">   * Discarded pages must be recommitted with their original permissions</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">   * before they are used again.</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">   * \param address The start address of the range. Must be aligned to</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">   * page_size().</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">   * \param size The size in bytes of the range. Must be a multiple</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">   * of page_size().</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">   * \param permissions The permissions for the range that the pages must have.</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">   * \returns true on success, false otherwise.</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a4902418d2e443a35f055ae094cc263e6"> 1043</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a4902418d2e443a35f055ae094cc263e6">RecommitPages</a>(</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> address, <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>, <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> permissions) = 0;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">   * Frees memory in the given [address, address + size) range. address and</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">   * size should be aligned to the page_size(). The next write to this memory</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">   * area brings the memory transparently back. This should be treated as a</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">   * hint to the OS that the pages are no longer needed. It does not guarantee</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">   * that the pages will be discarded immediately or at all.</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment">   * \returns true on success, false otherwise. Since this method is only a</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="comment">   * hint, a successful invocation does not imply that pages have been removed.</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a13b9773ab75ccd76ff3750e1baf46414"> 1056</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a13b9773ab75ccd76ff3750e1baf46414">DiscardSystemPages</a>(<a class="code" href="classuintptr__t.html">Address</a> address,</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                                                        <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  }<span class="comment"></span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">   * Decommits any wired memory pages in the given range, allowing the OS to</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">   * reclaim them, and marks the region as inacessible (kNoAccess). The address</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="comment">   * range stays reserved and can be accessed again later by changing its</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;<span class="comment">   * permissions. However, in that case the memory content is guaranteed to be</span></div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="comment">   * zero-initialized again. The memory must have been previously allocated by a</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;<span class="comment">   * call to AllocatePages.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="comment">   * \returns true on success, false otherwise.</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#aee3ed7d6b246a7a5968209717f1fec1c"> 1070</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#aee3ed7d6b246a7a5968209717f1fec1c">DecommitPages</a>(<a class="code" href="classuintptr__t.html">Address</a> address,</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                                                   <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">size</a>) = 0;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a2778e03b2f2d941e661a8937cbe79347"> 1074</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a2778e03b2f2d941e661a8937cbe79347">page_size_</a>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#adcf7210a0fc2714e669cfeb9538f7a18"> 1075</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#adcf7210a0fc2714e669cfeb9538f7a18">allocation_granularity_</a>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a7c1edd7da838d600d380c02007b57096"> 1076</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a7c1edd7da838d600d380c02007b57096">base_</a>;</div>
<div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a65b8e54dd91903621a9a020802f7ff4f"> 1077</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a65b8e54dd91903621a9a020802f7ff4f">size_</a>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"><a class="line" href="classv8_1_1VirtualAddressSpace.html#a24033fe6f48c27f8b7aefd2d252a148f"> 1078</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">PagePermissions</a> <a class="code" href="classv8_1_1VirtualAddressSpace.html#a24033fe6f48c27f8b7aefd2d252a148f">max_page_permissions_</a>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;};</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment"> * Observer used by V8 to notify the embedder about entering/leaving sections</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment"> * with high throughput of malloc/free operations.</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="classv8_1_1HighAllocationThroughputObserver.html"> 1085</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1HighAllocationThroughputObserver.html">HighAllocationThroughputObserver</a> {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01087"></a><span class="lineno"><a class="line" href="classv8_1_1HighAllocationThroughputObserver.html#a0cc66b7161da0089683c16bca2ee4bb2"> 1087</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1HighAllocationThroughputObserver.html#a0cc66b7161da0089683c16bca2ee4bb2">EnterSection</a>() {}</div>
<div class="line"><a name="l01088"></a><span class="lineno"><a class="line" href="classv8_1_1HighAllocationThroughputObserver.html#a33b7792ba9eb619ab7979ad4cd46857c"> 1088</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1HighAllocationThroughputObserver.html#a33b7792ba9eb619ab7979ad4cd46857c">LeaveSection</a>() {}</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;};</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment"> * V8 Platform abstraction layer.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment"> * The embedder has to provide an implementation of this interface before</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"> * initializing the rest of V8.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html"> 1097</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1Platform.html">Platform</a> {</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#ab725966a93204e93ec742e1d823e1a05"> 1099</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1Platform.html#ab725966a93204e93ec742e1d823e1a05">~Platform</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">   * Allows the embedder to manage memory page allocations.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">   * Returning nullptr will cause V8 to use the default page allocator.</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#ab7c1886dd8131f7389b805bc98276702"> 1105</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>* <a class="code" href="classv8_1_1Platform.html#ab7c1886dd8131f7389b805bc98276702">GetPageAllocator</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment">   * Allows the embedder to provide an allocator that uses per-thread memory</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment">   * permissions to protect allocations.</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment">   * Returning nullptr will cause V8 to disable protections that rely on this</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">   * feature.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#aa9a740ff12eeafa448dd84a1bde7631b"> 1113</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1ThreadIsolatedAllocator.html">ThreadIsolatedAllocator</a>* <a class="code" href="classv8_1_1Platform.html#aa9a740ff12eeafa448dd84a1bde7631b">GetThreadIsolatedAllocator</a>() {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment">   * Enables the embedder to respond in cases where V8 can&#39;t allocate large</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment">   * blocks of memory. V8 retries the failed allocation once after calling this</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment">   * method. On success, execution continues; otherwise V8 exits with a fatal</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">   * error.</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">   * Embedder overrides of this function must NOT call back into V8.</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a7ed41bddc1d1ebe51c55539198d0026e"> 1124</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Platform.html#a7ed41bddc1d1ebe51c55539198d0026e">OnCriticalMemoryPressure</a>() {}</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">   * Gets the max number of worker threads that may be used to execute</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">   * concurrent work scheduled for any single TaskPriority by</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment">   * Call(BlockingTask)OnWorkerThread() or PostJob(). This can be used to</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">   * estimate the number of tasks a work package should be split into. A return</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">   * value of 0 means that there are no worker threads available. Note that a</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment">   * value of 0 won&#39;t prohibit V8 from posting tasks using |CallOnWorkerThread|.</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a57cdd7eb4c482bfb806c378beeda716d"> 1134</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1Platform.html#a57cdd7eb4c482bfb806c378beeda716d">NumberOfWorkerThreads</a>() = 0;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment">   * Returns a TaskRunner which can be used to post a task on the foreground.</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="comment">   * The TaskRunner&#39;s NonNestableTasksEnabled() must be true. This function</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">   * should only be called from a foreground thread.</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a098c125aa524aa3f3cde02dd158a143e"> 1141</a></span>&#160;  std::shared_ptr&lt;v8::TaskRunner&gt; <a class="code" href="classv8_1_1Platform.html#a098c125aa524aa3f3cde02dd158a143e">GetForegroundTaskRunner</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Platform.html#a098c125aa524aa3f3cde02dd158a143e">GetForegroundTaskRunner</a>(isolate, <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  }</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="comment">   * Returns a TaskRunner with a specific |priority| which can be used to post a</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="comment">   * task on the foreground thread. The TaskRunner&#39;s NonNestableTasksEnabled()</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<span class="comment">   * must be true. This function should only be called from a foreground thread.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a04f931fc6711ade33f51b8c24e25f179"> 1150</a></span>&#160;  <span class="keyword">virtual</span> std::shared_ptr&lt;v8::TaskRunner&gt; <a class="code" href="classv8_1_1Platform.html#a04f931fc6711ade33f51b8c24e25f179">GetForegroundTaskRunner</a>(</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority) = 0;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">   * Schedules a task to be invoked on a worker thread.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">   * Embedders should override PostTaskOnWorkerThreadImpl() instead of</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">   * CallOnWorkerThread().</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <a class="code" href="v8config_8h.html#a287e6b31f100868207f61b00ada5a501">V8_DEPRECATE_SOON</a>(<span class="stringliteral">&quot;Use PostTaskOnWorkerThread instead.&quot;</span>)</div>
<div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a898f34be74c9247c00409b0888ae0c29"> 1159</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> <a class="code" href="classv8_1_1Platform.html#a898f34be74c9247c00409b0888ae0c29">CallOnWorkerThread</a>(</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      std::unique_ptr&lt;<a class="code" href="classv8_1_1Task.html">Task</a>&gt; task,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      const <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>::Current()) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90">PostTaskOnWorkerThreadImpl</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>, std::move(task),</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                               location);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;<span class="comment">   * Schedules a task that blocks the main thread to be invoked with</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="comment">   * high-priority on a worker thread.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment">   * Embedders should override PostTaskOnWorkerThreadImpl() instead of</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment">   * CallBlockingTaskOnWorkerThread().</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <a class="code" href="v8config_8h.html#a287e6b31f100868207f61b00ada5a501">V8_DEPRECATE_SOON</a>(<span class="stringliteral">&quot;Use PostTaskOnWorkerThread instead.&quot;</span>)</div>
<div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a030abddd156c7b70036de89a896849c8"> 1173</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> <a class="code" href="classv8_1_1Platform.html#a030abddd156c7b70036de89a896849c8">CallBlockingTaskOnWorkerThread</a>(</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      std::unique_ptr&lt;<a class="code" href="classv8_1_1Task.html">Task</a>&gt; task,</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      const <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>::Current()) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">// Embedders may optionally override this to process these tasks in a high</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">// priority pool.</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <a class="code" href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90">PostTaskOnWorkerThreadImpl</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>, std::move(task),</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                               location);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">   * Schedules a task to be invoked with low-priority on a worker thread.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">   * Embedders should override PostTaskOnWorkerThreadImpl() instead of</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">   * CallLowPriorityTaskOnWorkerThread().</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <a class="code" href="v8config_8h.html#a287e6b31f100868207f61b00ada5a501">V8_DEPRECATE_SOON</a>(<span class="stringliteral">&quot;Use PostTaskOnWorkerThread instead.&quot;</span>)</div>
<div class="line"><a name="l01188"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#af8de89c00aa3d561c0b87d788675def8"> 1188</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> <a class="code" href="classv8_1_1Platform.html#af8de89c00aa3d561c0b87d788675def8">CallLowPriorityTaskOnWorkerThread</a>(</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      std::unique_ptr&lt;<a class="code" href="classv8_1_1Task.html">Task</a>&gt; task,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      const <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>::Current()) {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="comment">// Embedders may optionally override this to process these tasks in a low</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="comment">// priority pool.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <a class="code" href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90">PostTaskOnWorkerThreadImpl</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a8ca6416b1934c765a6967e9ea78e1f5c">TaskPriority::kBestEffort</a>, std::move(task),</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                               location);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="comment">   * Schedules a task to be invoked on a worker thread after |delay_in_seconds|</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="comment">   * expires.</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="comment">   * Embedders should override PostDelayedTaskOnWorkerThreadImpl() instead of</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment">   * CallDelayedOnWorkerThread().</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <a class="code" href="v8config_8h.html#a287e6b31f100868207f61b00ada5a501">V8_DEPRECATE_SOON</a>(<span class="stringliteral">&quot;Use PostDelayedTaskOnWorkerThread instead.&quot;</span>)</div>
<div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a1622b3d802e80c7eff08b836a5dab6ec"> 1204</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> <a class="code" href="classv8_1_1Platform.html#a1622b3d802e80c7eff08b836a5dab6ec">CallDelayedOnWorkerThread</a>(</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;      std::unique_ptr&lt;<a class="code" href="classv8_1_1Task.html">Task</a>&gt; task, <span class="keywordtype">double</span> delay_in_seconds,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      const <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>::Current()) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <a class="code" href="classv8_1_1Platform.html#a1f3c56c242483110289fa84b616f3dab">PostDelayedTaskOnWorkerThreadImpl</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>,</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                                      std::move(task), delay_in_seconds,</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                                      location);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  }</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="comment">   * Schedules a task to be invoked on a worker thread.</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment">   * Embedders should override PostTaskOnWorkerThreadImpl() instead of</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">   * PostTaskOnWorkerThread().</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a061c7d8b981dab5da6a04a8f6f8419b6"> 1217</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Platform.html#a061c7d8b981dab5da6a04a8f6f8419b6">PostTaskOnWorkerThread</a>(</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority, std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90">PostTaskOnWorkerThreadImpl</a>(priority, std::move(task), location);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  }</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">   * Schedules a task to be invoked on a worker thread after |delay_in_seconds|</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">   * expires.</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">   * Embedders should override PostDelayedTaskOnWorkerThreadImpl() instead of</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment">   * PostDelayedTaskOnWorkerThread().</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a2049d7024e1e9613360968867f0f70bd"> 1229</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Platform.html#a2049d7024e1e9613360968867f0f70bd">PostDelayedTaskOnWorkerThread</a>(</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority, std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;      <span class="keywordtype">double</span> delay_in_seconds,</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <a class="code" href="classv8_1_1Platform.html#a1f3c56c242483110289fa84b616f3dab">PostDelayedTaskOnWorkerThreadImpl</a>(priority, std::move(task),</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                                      delay_in_seconds, location);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="comment">   * Returns true if idle tasks are enabled for the given |isolate|.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#ad229642bf16a066d2e8d866dc128141e"> 1240</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1Platform.html#ad229642bf16a066d2e8d866dc128141e">IdleTasksEnabled</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">   * Posts |job_task| to run in parallel. Returns a JobHandle associated with</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">   * the Job, which can be joined or canceled.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">   * This avoids degenerate cases:</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">   * - Calling CallOnWorkerThread() for each work item, causing significant</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">   *   overhead.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment">   * - Fixed number of CallOnWorkerThread() calls that split the work and might</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">   *   run for a long time. This is problematic when many components post</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">   *   &quot;num cores&quot; tasks and all expect to use all the cores. In these cases,</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment">   *   the scheduler lacks context to be fair to multiple same-priority requests</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment">   *   and/or ability to request lower priority work to yield when high priority</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">   *   work comes in.</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment">   * A canonical implementation of |job_task| looks like:</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">   * class MyJobTask : public JobTask {</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">   *  public:</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">   *   MyJobTask(...) : worker_queue_(...) {}</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">   *   // JobTask:</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">   *   void Run(JobDelegate* delegate) override {</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">   *     while (!delegate-&gt;ShouldYield()) {</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">   *       // Smallest unit of work.</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">   *       auto work_item = worker_queue_.TakeWorkItem(); // Thread safe.</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">   *       if (!work_item) return;</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">   *       ProcessWork(work_item);</span></div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">   *     }</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">   *   }</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">   *   size_t GetMaxConcurrency() const override {</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment">   *     return worker_queue_.GetSize(); // Thread safe.</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">   *   }</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment">   * };</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment">   * auto handle = PostJob(TaskPriority::kUserVisible,</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">   *                       std::make_unique&lt;MyJobTask&gt;(...));</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">   * handle-&gt;Join();</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">   * PostJob() and methods of the returned JobHandle/JobDelegate, must never be</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">   * called while holding a lock that could be acquired by JobTask::Run or</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">   * JobTask::GetMaxConcurrency -- that could result in a deadlock. This is</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment">   * because [1] JobTask::GetMaxConcurrency may be invoked while holding</span></div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">   * internal lock (A), hence JobTask::GetMaxConcurrency can only use a lock (B)</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">   * if that lock is *never* held while calling back into JobHandle from any</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">   * thread (A=&gt;B/B=&gt;A deadlock) and [2] JobTask::Run or</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">   * JobTask::GetMaxConcurrency may be invoked synchronously from JobHandle</span></div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">   * (B=&gt;JobHandle::foo=&gt;B deadlock).</span></div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">   * Embedders should override CreateJobImpl() instead of PostJob().</span></div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01287"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#adcf8355f078499e5b32541b849a656cf"> 1287</a></span>&#160;  std::unique_ptr&lt;JobHandle&gt; <a class="code" href="classv8_1_1Platform.html#adcf8355f078499e5b32541b849a656cf">PostJob</a>(</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority, std::unique_ptr&lt;JobTask&gt; job_task,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> = <a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(priority, std::move(job_task), location);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  }</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;<span class="comment">   * Creates and returns a JobHandle associated with a Job. Unlike PostJob(),</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">   * this doesn&#39;t immediately schedules |worker_task| to run; the Job is then</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">   * scheduled by calling either NotifyConcurrencyIncrease() or Join().</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">   * A sufficient CreateJob() implementation that uses the default Job provided</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">   * in libplatform looks like:</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">   *  std::unique_ptr&lt;JobHandle&gt; CreateJob(</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment">   *      TaskPriority priority, std::unique_ptr&lt;JobTask&gt; job_task) override {</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;<span class="comment">   *    return v8::platform::NewDefaultJobHandle(</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">   *        this, priority, std::move(job_task), NumberOfWorkerThreads());</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment">   * }</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">   * Embedders should override CreateJobImpl() instead of CreateJob().</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01310"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4"> 1310</a></span>&#160;  std::unique_ptr&lt;JobHandle&gt; <a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority, std::unique_ptr&lt;JobTask&gt; job_task,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location = <a class="code" href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">SourceLocation::Current</a>()) {</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Platform.html#a7aec05f67d948b02c57c5348ef2e1020">CreateJobImpl</a>(priority, std::move(job_task), location);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  }</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="comment">   * Instantiates a ScopedBlockingCall to annotate a scope that may/will block.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a27166c622903c3b9cba82a1ff396c3cf"> 1319</a></span>&#160;  <span class="keyword">virtual</span> std::unique_ptr&lt;ScopedBlockingCall&gt; <a class="code" href="classv8_1_1Platform.html#a27166c622903c3b9cba82a1ff396c3cf">CreateBlockingScope</a>(</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;      <a class="code" href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfa">BlockingType</a> blocking_type) {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;<span class="comment">   * Monotonically increasing time in seconds from an arbitrary fixed point in</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment">   * the past. This function is expected to return at least</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">   * millisecond-precision values. For this reason,</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment">   * it is recommended that the fixed point be no further in the past than</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment">   * the epoch.</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">   **/</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a6d4d7c2dcf6b0c7113099b97fa7f57b7"> 1331</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1Platform.html#a6d4d7c2dcf6b0c7113099b97fa7f57b7">MonotonicallyIncreasingTime</a>() = 0;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">   * Current wall-clock time in milliseconds since epoch. Use</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">   * CurrentClockTimeMillisHighResolution() when higher precision is</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">   * required.</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a8a2937ac932b73a26725b5dc43951782"> 1338</a></span>&#160;  <span class="keyword">virtual</span> int64_t <a class="code" href="classv8_1_1Platform.html#a8a2937ac932b73a26725b5dc43951782">CurrentClockTimeMilliseconds</a>() {</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(floor(<a class="code" href="classv8_1_1Platform.html#a8aa46c7f8e492351ebe1bc8168ec9c2f">CurrentClockTimeMillis</a>()));</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  }</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">   * This function is deprecated and will be deleted. Use either</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">   * CurrentClockTimeMilliseconds() or</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment">   * CurrentClockTimeMillisecondsHighResolution().</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a8aa46c7f8e492351ebe1bc8168ec9c2f"> 1347</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1Platform.html#a8aa46c7f8e492351ebe1bc8168ec9c2f">CurrentClockTimeMillis</a>() = 0;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">   * Same as CurrentClockTimeMilliseconds(), but with more precision.</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#abaa27dcff934637ff24f11b4fdcfd905"> 1352</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1Platform.html#abaa27dcff934637ff24f11b4fdcfd905">CurrentClockTimeMillisecondsHighResolution</a>() {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Platform.html#a8aa46c7f8e492351ebe1bc8168ec9c2f">CurrentClockTimeMillis</a>();</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  }</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160; </div>
<div class="line"><a name="l01356"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#aae7b558077a24b6ce9cacfe8e9320943"> 1356</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> (*<a class="code" href="classv8_1_1Platform.html#aae7b558077a24b6ce9cacfe8e9320943">StackTracePrinter</a>)();</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">   * Returns a function pointer that print a stack trace of the current stack</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">   * on invocation. Disables printing of the stack trace if nullptr.</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#aadb2594e6ff9a6f6a0657412ff5a7206"> 1362</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1Platform.html#aae7b558077a24b6ce9cacfe8e9320943">StackTracePrinter</a> <a class="code" href="classv8_1_1Platform.html#aadb2594e6ff9a6f6a0657412ff5a7206">GetStackTracePrinter</a>() { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment">   * Returns an instance of a v8::TracingController. This must be non-nullptr.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#aa760c7bf8c46495eb650d2be72399747"> 1367</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1TracingController.html">TracingController</a>* <a class="code" href="classv8_1_1Platform.html#aa760c7bf8c46495eb650d2be72399747">GetTracingController</a>() = 0;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">   * Tells the embedder to generate and upload a crashdump during an unexpected</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">   * but non-critical scenario.</span></div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#abcbf846fdfc791569f64de675d522cac"> 1373</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Platform.html#abcbf846fdfc791569f64de675d522cac">DumpWithoutCrashing</a>() {}</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="comment">   * Allows the embedder to observe sections with high throughput allocation</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment">   * operations.</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1HighAllocationThroughputObserver.html">HighAllocationThroughputObserver</a>*</div>
<div class="line"><a name="l01380"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a1bac97b7ef2ecbd9233753694ce04029"> 1380</a></span>&#160;  <a class="code" href="classv8_1_1Platform.html#a1bac97b7ef2ecbd9233753694ce04029">GetHighAllocationThroughputObserver</a>() {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keyword">static</span> <a class="code" href="classv8_1_1HighAllocationThroughputObserver.html">HighAllocationThroughputObserver</a> default_observer;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">return</span> &amp;default_observer;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160; </div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160; <span class="keyword">protected</span>:<span class="comment"></span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">   * Default implementation of current wall-clock time in milliseconds</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">   * since epoch. Useful for implementing |CurrentClockTimeMillis| if</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">   * nothing special needed.</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <a class="code" href="v8config_8h.html#a18b08424f4be6fab745092c7c5dad9f5">V8_EXPORT</a> <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classv8_1_1Platform.html#accf17a5dcca8d35e130a0d2e9d4fa0fc">SystemClockTimeMillis</a>();</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">   * Creates and returns a JobHandle associated with a Job.</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a7aec05f67d948b02c57c5348ef2e1020"> 1396</a></span>&#160;  <span class="keyword">virtual</span> std::unique_ptr&lt;JobHandle&gt; <a class="code" href="classv8_1_1Platform.html#a7aec05f67d948b02c57c5348ef2e1020">CreateJobImpl</a>(</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority, std::unique_ptr&lt;JobTask&gt; job_task,</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) = 0;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">   * Schedules a task with |priority| to be invoked on a worker thread.</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90"> 1403</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90">PostTaskOnWorkerThreadImpl</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                          std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) = 0;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">   * Schedules a task with |priority| to be invoked on a worker thread after</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">   * |delay_in_seconds| expires.</span></div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"><a class="line" href="classv8_1_1Platform.html#a1f3c56c242483110289fa84b616f3dab"> 1411</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1Platform.html#a1f3c56c242483110289fa84b616f3dab">PostDelayedTaskOnWorkerThreadImpl</a>(</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> priority, std::unique_ptr&lt;Task&gt; task,</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordtype">double</span> delay_in_seconds, <span class="keyword">const</span> <a class="code" href="classv8_1_1SourceLocation.html">SourceLocation</a>&amp; location) = 0;</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;};</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160; </div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_V8_PLATFORM_H_</span></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1ConvertableToTraceFormat_html"><div class="ttname"><a href="classv8_1_1ConvertableToTraceFormat.html">v8::ConvertableToTraceFormat</a></div><div class="ttdoc">The interface represents complex arguments to trace events.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00355">v8-platform.h:355</a></div></div>
<div class="ttc" id="aclassv8_1_1ConvertableToTraceFormat_html_a0d1beef1aa50843240c22660c294dd10"><div class="ttname"><a href="classv8_1_1ConvertableToTraceFormat.html#a0d1beef1aa50843240c22660c294dd10">v8::ConvertableToTraceFormat::~ConvertableToTraceFormat</a></div><div class="ttdeci">virtual ~ConvertableToTraceFormat()=default</div></div>
<div class="ttc" id="aclassv8_1_1ConvertableToTraceFormat_html_a11f3295df2906e09c1f266049d130013"><div class="ttname"><a href="classv8_1_1ConvertableToTraceFormat.html#a11f3295df2906e09c1f266049d130013">v8::ConvertableToTraceFormat::AppendAsTraceFormat</a></div><div class="ttdeci">virtual void AppendAsTraceFormat(std::string *out) const =0</div><div class="ttdoc">Append the class info to the provided |out| string.</div></div>
<div class="ttc" id="aclassv8_1_1HighAllocationThroughputObserver_html"><div class="ttname"><a href="classv8_1_1HighAllocationThroughputObserver.html">v8::HighAllocationThroughputObserver</a></div><div class="ttdoc">Observer used by V8 to notify the embedder about entering/leaving sections with high throughput of ma...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01085">v8-platform.h:1085</a></div></div>
<div class="ttc" id="aclassv8_1_1HighAllocationThroughputObserver_html_a0cc66b7161da0089683c16bca2ee4bb2"><div class="ttname"><a href="classv8_1_1HighAllocationThroughputObserver.html#a0cc66b7161da0089683c16bca2ee4bb2">v8::HighAllocationThroughputObserver::EnterSection</a></div><div class="ttdeci">virtual void EnterSection()</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01087">v8-platform.h:1087</a></div></div>
<div class="ttc" id="aclassv8_1_1HighAllocationThroughputObserver_html_a33b7792ba9eb619ab7979ad4cd46857c"><div class="ttname"><a href="classv8_1_1HighAllocationThroughputObserver.html#a33b7792ba9eb619ab7979ad4cd46857c">v8::HighAllocationThroughputObserver::LeaveSection</a></div><div class="ttdeci">virtual void LeaveSection()</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01088">v8-platform.h:1088</a></div></div>
<div class="ttc" id="aclassv8_1_1IdleTask_html"><div class="ttname"><a href="classv8_1_1IdleTask.html">v8::IdleTask</a></div><div class="ttdoc">An IdleTask represents a unit of work to be performed in idle time.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00062">v8-platform.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1IdleTask_html_a4f2f238f551b3b2212adffcd5ee2f314"><div class="ttname"><a href="classv8_1_1IdleTask.html#a4f2f238f551b3b2212adffcd5ee2f314">v8::IdleTask::Run</a></div><div class="ttdeci">virtual void Run(double deadline_in_seconds)=0</div></div>
<div class="ttc" id="aclassv8_1_1IdleTask_html_ab8ca6e4008ebd0a764cc94618c5b8311"><div class="ttname"><a href="classv8_1_1IdleTask.html#ab8ca6e4008ebd0a764cc94618c5b8311">v8::IdleTask::~IdleTask</a></div><div class="ttdeci">virtual ~IdleTask()=default</div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html"><div class="ttname"><a href="classv8_1_1JobDelegate.html">v8::JobDelegate</a></div><div class="ttdoc">Delegate that's passed to Job's worker task, providing an entry point to communicate with the schedul...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00206">v8-platform.h:206</a></div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_a317e161b7601e6c973be26299eef8991"><div class="ttname"><a href="classv8_1_1JobDelegate.html#a317e161b7601e6c973be26299eef8991">v8::JobDelegate::NotifyConcurrencyIncrease</a></div><div class="ttdeci">virtual void NotifyConcurrencyIncrease()=0</div><div class="ttdoc">Notifies the scheduler that max concurrency was increased, and the number of worker should be adjuste...</div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_a7180a73d20fc8a240c742163001d8b3a"><div class="ttname"><a href="classv8_1_1JobDelegate.html#a7180a73d20fc8a240c742163001d8b3a">v8::JobDelegate::ShouldYield</a></div><div class="ttdeci">virtual bool ShouldYield()=0</div><div class="ttdoc">Returns true if this thread must return from the worker task on the current thread ASAP.</div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_a93be293521d70bd38d5c69d35b1df790"><div class="ttname"><a href="classv8_1_1JobDelegate.html#a93be293521d70bd38d5c69d35b1df790">v8::JobDelegate::IsJoiningThread</a></div><div class="ttdeci">virtual bool IsJoiningThread() const =0</div><div class="ttdoc">Returns true if the current task is called from the thread currently running JobHandle::Join().</div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_aeaea259d5f4fec4aaca6f9fc35126fda"><div class="ttname"><a href="classv8_1_1JobDelegate.html#aeaea259d5f4fec4aaca6f9fc35126fda">v8::JobDelegate::GetTaskId</a></div><div class="ttdeci">virtual uint8_t GetTaskId()=0</div><div class="ttdoc">Returns a task_id unique among threads currently running this job, such that GetTaskId() &lt; worker cou...</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html"><div class="ttname"><a href="classv8_1_1JobHandle.html">v8::JobHandle</a></div><div class="ttdoc">Handle returned when posting a Job.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00241">v8-platform.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_a3c6d3e309521026696e24f36438520a5"><div class="ttname"><a href="classv8_1_1JobHandle.html#a3c6d3e309521026696e24f36438520a5">v8::JobHandle::NotifyConcurrencyIncrease</a></div><div class="ttdeci">virtual void NotifyConcurrencyIncrease()=0</div><div class="ttdoc">Notifies the scheduler that max concurrency was increased, and the number of worker should be adjuste...</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_a4f69cab089d1cd7a75ec2f654bdd0dc0"><div class="ttname"><a href="classv8_1_1JobHandle.html#a4f69cab089d1cd7a75ec2f654bdd0dc0">v8::JobHandle::CancelAndDetach</a></div><div class="ttdeci">virtual void CancelAndDetach()=0</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_a55bc8e0ae66bf9f838f74af9d2ec7e37"><div class="ttname"><a href="classv8_1_1JobHandle.html#a55bc8e0ae66bf9f838f74af9d2ec7e37">v8::JobHandle::IsActive</a></div><div class="ttdeci">virtual bool IsActive()=0</div><div class="ttdoc">Returns true if there's any work pending or any worker running.</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_a74a54eb0d12af80ea09cb44921ef0a4f"><div class="ttname"><a href="classv8_1_1JobHandle.html#a74a54eb0d12af80ea09cb44921ef0a4f">v8::JobHandle::UpdatePriorityEnabled</a></div><div class="ttdeci">virtual bool UpdatePriorityEnabled() const</div><div class="ttdoc">Returns true if job priority can be changed.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00289">v8-platform.h:289</a></div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_a843d65030326b97537bf5a0040394c10"><div class="ttname"><a href="classv8_1_1JobHandle.html#a843d65030326b97537bf5a0040394c10">v8::JobHandle::IsValid</a></div><div class="ttdeci">virtual bool IsValid()=0</div><div class="ttdoc">Returns true if associated with a Job and other methods may be called.</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_ac2260547d4f2c7898f0390ad4d33e252"><div class="ttname"><a href="classv8_1_1JobHandle.html#ac2260547d4f2c7898f0390ad4d33e252">v8::JobHandle::UpdatePriority</a></div><div class="ttdeci">virtual void UpdatePriority(TaskPriority new_priority)</div><div class="ttdoc">Update this Job's priority.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00294">v8-platform.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_ad78c1f78141596c7ec3842d4c5dd2da0"><div class="ttname"><a href="classv8_1_1JobHandle.html#ad78c1f78141596c7ec3842d4c5dd2da0">v8::JobHandle::Cancel</a></div><div class="ttdeci">virtual void Cancel()=0</div><div class="ttdoc">Forces all existing workers to yield ASAP.</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_adfb27c759786d9d9dab4766411859759"><div class="ttname"><a href="classv8_1_1JobHandle.html#adfb27c759786d9d9dab4766411859759">v8::JobHandle::~JobHandle</a></div><div class="ttdeci">virtual ~JobHandle()=default</div></div>
<div class="ttc" id="aclassv8_1_1JobHandle_html_afd946040be3647f1ad2e609bd61f4854"><div class="ttname"><a href="classv8_1_1JobHandle.html#afd946040be3647f1ad2e609bd61f4854">v8::JobHandle::Join</a></div><div class="ttdeci">virtual void Join()=0</div><div class="ttdoc">Contributes to the job on this thread.</div></div>
<div class="ttc" id="aclassv8_1_1JobTask_html"><div class="ttname"><a href="classv8_1_1JobTask.html">v8::JobTask</a></div><div class="ttdoc">A JobTask represents work to run in parallel from Platform::PostJob().</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00300">v8-platform.h:300</a></div></div>
<div class="ttc" id="aclassv8_1_1JobTask_html_a9b6d0cee5615420f30b0db8a4c5e8c3b"><div class="ttname"><a href="classv8_1_1JobTask.html#a9b6d0cee5615420f30b0db8a4c5e8c3b">v8::JobTask::Run</a></div><div class="ttdeci">virtual void Run(JobDelegate *delegate)=0</div></div>
<div class="ttc" id="aclassv8_1_1JobTask_html_a9f1505551639903b327baecbeb38f6f7"><div class="ttname"><a href="classv8_1_1JobTask.html#a9f1505551639903b327baecbeb38f6f7">v8::JobTask::GetMaxConcurrency</a></div><div class="ttdeci">virtual size_t GetMaxConcurrency(size_t worker_count) const =0</div><div class="ttdoc">Controls the maximum number of threads calling Run() concurrently, given the number of threads curren...</div></div>
<div class="ttc" id="aclassv8_1_1JobTask_html_af2f08e601e5d06a9477249ce1a62dc1c"><div class="ttname"><a href="classv8_1_1JobTask.html#af2f08e601e5d06a9477249ce1a62dc1c">v8::JobTask::~JobTask</a></div><div class="ttdeci">virtual ~JobTask()=default</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html">v8::PageAllocator::AllocationHint</a></div><div class="ttdoc">Optional hints for AllocatePages().</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00505">v8-platform.h:505</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_a03a84c34fb29e3304e6f6faab1ce0cf0"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#a03a84c34fb29e3304e6f6faab1ce0cf0">v8::PageAllocator::AllocationHint::WithAddress</a></div><div class="ttdeci">constexpr V8_WARN_UNUSED_RESULT AllocationHint WithAddress(void *address) const</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00509">v8-platform.h:509</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_a101ab3ab70799f070a75c2db7e89fb09"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#a101ab3ab70799f070a75c2db7e89fb09">v8::PageAllocator::AllocationHint::Address</a></div><div class="ttdeci">void * Address() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00519">v8-platform.h:519</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_a49c95efcd51896c1ac04e102c8e666b9"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#a49c95efcd51896c1ac04e102c8e666b9">v8::PageAllocator::AllocationHint::AllocationHint</a></div><div class="ttdeci">AllocationHint()=default</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_a7fb3901a0bb4d75eced1156a96001bc1"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#a7fb3901a0bb4d75eced1156a96001bc1">v8::PageAllocator::AllocationHint::MayGrow</a></div><div class="ttdeci">bool MayGrow() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00518">v8-platform.h:518</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_a8c6f79d6e2b82026df8db075e61a9b11"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#a8c6f79d6e2b82026df8db075e61a9b11">v8::PageAllocator::AllocationHint::AllocationHint</a></div><div class="ttdeci">constexpr AllocationHint(void *address, bool may_grow)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00522">v8-platform.h:522</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_ab3019e8abbc4fbfb2696063fddad65bb"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#ab3019e8abbc4fbfb2696063fddad65bb">v8::PageAllocator::AllocationHint::WithMayGrow</a></div><div class="ttdeci">constexpr V8_WARN_UNUSED_RESULT AllocationHint WithMayGrow() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00514">v8-platform.h:514</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_ae33f0962a41a808e99477cc6ad17259a"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae33f0962a41a808e99477cc6ad17259a">v8::PageAllocator::AllocationHint::address_</a></div><div class="ttdeci">void * address_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00525">v8-platform.h:525</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1AllocationHint_html_ae4bbce516ab5b102337f00362e3db635"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1AllocationHint.html#ae4bbce516ab5b102337f00362e3db635">v8::PageAllocator::AllocationHint::may_grow_</a></div><div class="ttdeci">bool may_grow_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00526">v8-platform.h:526</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemoryMapping_html"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html">v8::PageAllocator::SharedMemoryMapping</a></div><div class="ttdoc">INTERNAL ONLY: This interface has not been stabilised and may change without notice from one release ...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00619">v8-platform.h:619</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemoryMapping_html_a0925195b6346a00b63696189872bd59a"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html#a0925195b6346a00b63696189872bd59a">v8::PageAllocator::SharedMemoryMapping::~SharedMemoryMapping</a></div><div class="ttdeci">virtual ~SharedMemoryMapping()=default</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemoryMapping_html_ac71a0125d4c6584628fb35c3b16b9507"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemoryMapping.html#ac71a0125d4c6584628fb35c3b16b9507">v8::PageAllocator::SharedMemoryMapping::GetMemory</a></div><div class="ttdeci">virtual void * GetMemory() const =0</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemory_html"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemory.html">v8::PageAllocator::SharedMemory</a></div><div class="ttdoc">INTERNAL ONLY: This interface has not been stabilised and may change without notice from one release ...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00631">v8-platform.h:631</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemory_html_a1ad75f1efc803ffe051c5af8b7890a59"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemory.html#a1ad75f1efc803ffe051c5af8b7890a59">v8::PageAllocator::SharedMemory::RemapTo</a></div><div class="ttdeci">virtual std::unique_ptr&lt; SharedMemoryMapping &gt; RemapTo(void *new_address) const =0</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemory_html_adf8a696c290fd371527373be99996c9d"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemory.html#adf8a696c290fd371527373be99996c9d">v8::PageAllocator::SharedMemory::GetSize</a></div><div class="ttdeci">virtual size_t GetSize() const =0</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemory_html_af26f0a97aaedbec9a17f28306d5667d5"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemory.html#af26f0a97aaedbec9a17f28306d5667d5">v8::PageAllocator::SharedMemory::GetMemory</a></div><div class="ttdeci">virtual void * GetMemory() const =0</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_1_1SharedMemory_html_af32dfd4a8e53978cf9315c2331402381"><div class="ttname"><a href="classv8_1_1PageAllocator_1_1SharedMemory.html#af32dfd4a8e53978cf9315c2331402381">v8::PageAllocator::SharedMemory::~SharedMemory</a></div><div class="ttdeci">virtual ~SharedMemory()=default</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html"><div class="ttname"><a href="classv8_1_1PageAllocator.html">v8::PageAllocator</a></div><div class="ttdoc">A V8 memory page allocator.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00455">v8-platform.h:455</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a1893e0cf450d2df73a9de74e9dd94ec5"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a1893e0cf450d2df73a9de74e9dd94ec5">v8::PageAllocator::ResizeAllocationAt</a></div><div class="ttdeci">virtual bool ResizeAllocationAt(void *address, size_t old_length, size_t new_length, Permission permissions)</div><div class="ttdoc">Resizes the previously allocated memory at the given address.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00550">v8-platform.h:550</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a208d230788b4cd927e811825cd76eae3"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a208d230788b4cd927e811825cd76eae3">v8::PageAllocator::~PageAllocator</a></div><div class="ttdeci">virtual ~PageAllocator()=default</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a37f194f9c5fdbe5105476cbd1432418c"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a37f194f9c5fdbe5105476cbd1432418c">v8::PageAllocator::GetRandomMmapAddr</a></div><div class="ttdeci">virtual void * GetRandomMmapAddr()=0</div><div class="ttdoc">Returns a randomized address, suitable for memory allocation under ASLR.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a4b7c8a645f5be0353059edbc2cc36fa0"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a4b7c8a645f5be0353059edbc2cc36fa0">v8::PageAllocator::AllocateSharedPages</a></div><div class="ttdeci">virtual std::unique_ptr&lt; SharedMemory &gt; AllocateSharedPages(size_t length, const void *original_address)</div><div class="ttdoc">INTERNAL ONLY: This interface has not been stabilised and may change without notice from one release ...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00663">v8-platform.h:663</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a6eb6bd93c8880dd022a61a13c65f66c0"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a6eb6bd93c8880dd022a61a13c65f66c0">v8::PageAllocator::ReleasePages</a></div><div class="ttdeci">virtual bool ReleasePages(void *address, size_t length, size_t new_length)=0</div><div class="ttdoc">Releases memory in a range that was allocated by a call to AllocatePages.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415">v8::PageAllocator::Permission</a></div><div class="ttdeci">Permission</div><div class="ttdoc">Memory permissions.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00486">v8-platform.h:486</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415a1aa2e51abe8d2706dfba3cd369bb78b0"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a1aa2e51abe8d2706dfba3cd369bb78b0">v8::PageAllocator::kReadExecute</a></div><div class="ttdeci">@ kReadExecute</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00491">v8-platform.h:491</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415a1c3883d970517c3e3de7bb26e7cfeafa"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a1c3883d970517c3e3de7bb26e7cfeafa">v8::PageAllocator::kRead</a></div><div class="ttdeci">@ kRead</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00488">v8-platform.h:488</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415a501acdacad072f7d6e5737159141301d"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a501acdacad072f7d6e5737159141301d">v8::PageAllocator::kNoAccess</a></div><div class="ttdeci">@ kNoAccess</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00487">v8-platform.h:487</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415a9db86d03ab1bf0a060f75bc9ea238e3d"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415a9db86d03ab1bf0a060f75bc9ea238e3d">v8::PageAllocator::kNoAccessWillJitLater</a></div><div class="ttdeci">@ kNoAccessWillJitLater</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00500">v8-platform.h:499</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a">v8::PageAllocator::kReadWrite</a></div><div class="ttdeci">@ kReadWrite</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00489">v8-platform.h:489</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe">v8::PageAllocator::kReadWriteExecute</a></div><div class="ttdeci">@ kReadWriteExecute</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00490">v8-platform.h:490</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a8926cd902754e8d1788e6c172c3a72c2"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a8926cd902754e8d1788e6c172c3a72c2">v8::PageAllocator::DecommitPages</a></div><div class="ttdeci">virtual bool DecommitPages(void *address, size_t size)=0</div><div class="ttdoc">Decommits any wired memory pages in the given range, allowing the OS to reclaim them,...</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a92c2f6dbb3afa6c47dafd4c12ab4641f"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a92c2f6dbb3afa6c47dafd4c12ab4641f">v8::PageAllocator::AllocatePageSize</a></div><div class="ttdeci">virtual size_t AllocatePageSize()=0</div><div class="ttdoc">Gets the page granularity for AllocatePages and FreePages.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a9481a73527915fd200f6e1e9ed4b3eba"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a9481a73527915fd200f6e1e9ed4b3eba">v8::PageAllocator::SetRandomMmapSeed</a></div><div class="ttdeci">virtual void SetRandomMmapSeed(int64_t seed)=0</div><div class="ttdoc">Sets the random seed so that GetRandomMmapAddr() will generate repeatable sequences of random mmap ad...</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_a9ceea3c8c73e07a515fe556382a795b3"><div class="ttname"><a href="classv8_1_1PageAllocator.html#a9ceea3c8c73e07a515fe556382a795b3">v8::PageAllocator::CanAllocateSharedPages</a></div><div class="ttdeci">virtual bool CanAllocateSharedPages()</div><div class="ttdoc">INTERNAL ONLY: This interface has not been stabilised and may change without notice from one release ...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00676">v8-platform.h:676</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_aa05bfd415492374b712dd1d3f6f4a1f9"><div class="ttname"><a href="classv8_1_1PageAllocator.html#aa05bfd415492374b712dd1d3f6f4a1f9">v8::PageAllocator::RecommitPages</a></div><div class="ttdeci">virtual bool RecommitPages(void *address, size_t length, Permission permissions)</div><div class="ttdoc">Recommits discarded pages in the given range with given permissions.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00577">v8-platform.h:577</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_aa3817d5bfaba9ec280a6cfb60e6adda0"><div class="ttname"><a href="classv8_1_1PageAllocator.html#aa3817d5bfaba9ec280a6cfb60e6adda0">v8::PageAllocator::SetPermissions</a></div><div class="ttdeci">virtual bool SetPermissions(void *address, size_t length, Permission permissions)=0</div><div class="ttdoc">Sets permissions on pages in an allocated range.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_aa4ab7a75c0bc1e146790362ac59c4f6d"><div class="ttname"><a href="classv8_1_1PageAllocator.html#aa4ab7a75c0bc1e146790362ac59c4f6d">v8::PageAllocator::SealPages</a></div><div class="ttdeci">virtual bool SealPages(void *address, size_t length)</div><div class="ttdoc">Block any modifications to the given mapping such as changing permissions or unmapping the pages on s...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00610">v8-platform.h:610</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_ab3a25ddd2601701f80ee67c4bf017ef7"><div class="ttname"><a href="classv8_1_1PageAllocator.html#ab3a25ddd2601701f80ee67c4bf017ef7">v8::PageAllocator::AllocatePages</a></div><div class="ttdeci">virtual void * AllocatePages(void *address, size_t length, size_t alignment, Permission permissions)=0</div><div class="ttdoc">Allocates memory in range with the given alignment and permission.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_abc2e3fdc768aba7d35ce0cf44f14586c"><div class="ttname"><a href="classv8_1_1PageAllocator.html#abc2e3fdc768aba7d35ce0cf44f14586c">v8::PageAllocator::FreePages</a></div><div class="ttdeci">virtual bool FreePages(void *address, size_t length)=0</div><div class="ttdoc">Frees memory in a range that was allocated by a call to AllocatePages.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_ad0de847c922e25f63d82494d997f441d"><div class="ttname"><a href="classv8_1_1PageAllocator.html#ad0de847c922e25f63d82494d997f441d">v8::PageAllocator::DiscardSystemPages</a></div><div class="ttdeci">virtual bool DiscardSystemPages(void *address, size_t size)</div><div class="ttdoc">Frees memory in the given [address, address + size) range.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00590">v8-platform.h:590</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_ad817d87004151e3824997415f2dc57e9"><div class="ttname"><a href="classv8_1_1PageAllocator.html#ad817d87004151e3824997415f2dc57e9">v8::PageAllocator::CommitPageSize</a></div><div class="ttdeci">virtual size_t CommitPageSize()=0</div><div class="ttdoc">Gets the page granularity for SetPermissions and ReleasePages.</div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_aee53fd66d127c8fd3dc3eaf2a07e6e45"><div class="ttname"><a href="classv8_1_1PageAllocator.html#aee53fd66d127c8fd3dc3eaf2a07e6e45">v8::PageAllocator::ReserveForSharedMemoryMapping</a></div><div class="ttdeci">virtual bool ReserveForSharedMemoryMapping(void *address, size_t size)</div><div class="ttdoc">INTERNAL ONLY: This interface has not been stabilised and may change without notice from one release ...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00650">v8-platform.h:650</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html_afd7e95cbbeae926abfc6e49258dcf53e"><div class="ttname"><a href="classv8_1_1PageAllocator.html#afd7e95cbbeae926abfc6e49258dcf53e">v8::PageAllocator::AllocatePages</a></div><div class="ttdeci">virtual void * AllocatePages(size_t length, size_t alignment, Permission permissions, AllocationHint hint)</div><div class="ttdoc">Allocates memory in range with the given alignment and permission.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00540">v8-platform.h:540</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html"><div class="ttname"><a href="classv8_1_1Platform.html">v8::Platform</a></div><div class="ttdoc">V8 Platform abstraction layer.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01097">v8-platform.h:1097</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a030abddd156c7b70036de89a896849c8"><div class="ttname"><a href="classv8_1_1Platform.html#a030abddd156c7b70036de89a896849c8">v8::Platform::CallBlockingTaskOnWorkerThread</a></div><div class="ttdeci">Use PostTaskOnWorkerThread instead void CallBlockingTaskOnWorkerThread(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task that blocks the main thread to be invoked with high-priority on a worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01173">v8-platform.h:1173</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a04f931fc6711ade33f51b8c24e25f179"><div class="ttname"><a href="classv8_1_1Platform.html#a04f931fc6711ade33f51b8c24e25f179">v8::Platform::GetForegroundTaskRunner</a></div><div class="ttdeci">virtual std::shared_ptr&lt; v8::TaskRunner &gt; GetForegroundTaskRunner(Isolate *isolate, TaskPriority priority)=0</div><div class="ttdoc">Returns a TaskRunner with a specific |priority| which can be used to post a task on the foreground th...</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a061c7d8b981dab5da6a04a8f6f8419b6"><div class="ttname"><a href="classv8_1_1Platform.html#a061c7d8b981dab5da6a04a8f6f8419b6">v8::Platform::PostTaskOnWorkerThread</a></div><div class="ttdeci">void PostTaskOnWorkerThread(TaskPriority priority, std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked on a worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01217">v8-platform.h:1217</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a098c125aa524aa3f3cde02dd158a143e"><div class="ttname"><a href="classv8_1_1Platform.html#a098c125aa524aa3f3cde02dd158a143e">v8::Platform::GetForegroundTaskRunner</a></div><div class="ttdeci">std::shared_ptr&lt; v8::TaskRunner &gt; GetForegroundTaskRunner(Isolate *isolate)</div><div class="ttdoc">Returns a TaskRunner which can be used to post a task on the foreground.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01141">v8-platform.h:1141</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a1622b3d802e80c7eff08b836a5dab6ec"><div class="ttname"><a href="classv8_1_1Platform.html#a1622b3d802e80c7eff08b836a5dab6ec">v8::Platform::CallDelayedOnWorkerThread</a></div><div class="ttdeci">Use PostDelayedTaskOnWorkerThread instead void CallDelayedOnWorkerThread(std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked on a worker thread after |delay_in_seconds| expires.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01204">v8-platform.h:1204</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a1bac97b7ef2ecbd9233753694ce04029"><div class="ttname"><a href="classv8_1_1Platform.html#a1bac97b7ef2ecbd9233753694ce04029">v8::Platform::GetHighAllocationThroughputObserver</a></div><div class="ttdeci">virtual HighAllocationThroughputObserver * GetHighAllocationThroughputObserver()</div><div class="ttdoc">Allows the embedder to observe sections with high throughput allocation operations.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01380">v8-platform.h:1380</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a1f3c56c242483110289fa84b616f3dab"><div class="ttname"><a href="classv8_1_1Platform.html#a1f3c56c242483110289fa84b616f3dab">v8::Platform::PostDelayedTaskOnWorkerThreadImpl</a></div><div class="ttdeci">virtual void PostDelayedTaskOnWorkerThreadImpl(TaskPriority priority, std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location)=0</div><div class="ttdoc">Schedules a task with |priority| to be invoked on a worker thread after |delay_in_seconds| expires.</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a2049d7024e1e9613360968867f0f70bd"><div class="ttname"><a href="classv8_1_1Platform.html#a2049d7024e1e9613360968867f0f70bd">v8::Platform::PostDelayedTaskOnWorkerThread</a></div><div class="ttdeci">void PostDelayedTaskOnWorkerThread(TaskPriority priority, std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked on a worker thread after |delay_in_seconds| expires.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01229">v8-platform.h:1229</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a27166c622903c3b9cba82a1ff396c3cf"><div class="ttname"><a href="classv8_1_1Platform.html#a27166c622903c3b9cba82a1ff396c3cf">v8::Platform::CreateBlockingScope</a></div><div class="ttdeci">virtual std::unique_ptr&lt; ScopedBlockingCall &gt; CreateBlockingScope(BlockingType blocking_type)</div><div class="ttdoc">Instantiates a ScopedBlockingCall to annotate a scope that may/will block.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01319">v8-platform.h:1319</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a57cdd7eb4c482bfb806c378beeda716d"><div class="ttname"><a href="classv8_1_1Platform.html#a57cdd7eb4c482bfb806c378beeda716d">v8::Platform::NumberOfWorkerThreads</a></div><div class="ttdeci">virtual int NumberOfWorkerThreads()=0</div><div class="ttdoc">Gets the max number of worker threads that may be used to execute concurrent work scheduled for any s...</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a5a62780772e38f1f00317fce609ec0d4"><div class="ttname"><a href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">v8::Platform::CreateJob</a></div><div class="ttdeci">std::unique_ptr&lt; JobHandle &gt; CreateJob(TaskPriority priority, std::unique_ptr&lt; JobTask &gt; job_task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Creates and returns a JobHandle associated with a Job.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01310">v8-platform.h:1310</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a6d4d7c2dcf6b0c7113099b97fa7f57b7"><div class="ttname"><a href="classv8_1_1Platform.html#a6d4d7c2dcf6b0c7113099b97fa7f57b7">v8::Platform::MonotonicallyIncreasingTime</a></div><div class="ttdeci">virtual double MonotonicallyIncreasingTime()=0</div><div class="ttdoc">Monotonically increasing time in seconds from an arbitrary fixed point in the past.</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a7aec05f67d948b02c57c5348ef2e1020"><div class="ttname"><a href="classv8_1_1Platform.html#a7aec05f67d948b02c57c5348ef2e1020">v8::Platform::CreateJobImpl</a></div><div class="ttdeci">virtual std::unique_ptr&lt; JobHandle &gt; CreateJobImpl(TaskPriority priority, std::unique_ptr&lt; JobTask &gt; job_task, const SourceLocation &amp;location)=0</div><div class="ttdoc">Creates and returns a JobHandle associated with a Job.</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a7ed41bddc1d1ebe51c55539198d0026e"><div class="ttname"><a href="classv8_1_1Platform.html#a7ed41bddc1d1ebe51c55539198d0026e">v8::Platform::OnCriticalMemoryPressure</a></div><div class="ttdeci">virtual void OnCriticalMemoryPressure()</div><div class="ttdoc">Enables the embedder to respond in cases where V8 can't allocate large blocks of memory.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01124">v8-platform.h:1124</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a898f34be74c9247c00409b0888ae0c29"><div class="ttname"><a href="classv8_1_1Platform.html#a898f34be74c9247c00409b0888ae0c29">v8::Platform::CallOnWorkerThread</a></div><div class="ttdeci">Use PostTaskOnWorkerThread instead void CallOnWorkerThread(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked on a worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01159">v8-platform.h:1159</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a8a2937ac932b73a26725b5dc43951782"><div class="ttname"><a href="classv8_1_1Platform.html#a8a2937ac932b73a26725b5dc43951782">v8::Platform::CurrentClockTimeMilliseconds</a></div><div class="ttdeci">virtual int64_t CurrentClockTimeMilliseconds()</div><div class="ttdoc">Current wall-clock time in milliseconds since epoch.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01338">v8-platform.h:1338</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a8aa46c7f8e492351ebe1bc8168ec9c2f"><div class="ttname"><a href="classv8_1_1Platform.html#a8aa46c7f8e492351ebe1bc8168ec9c2f">v8::Platform::CurrentClockTimeMillis</a></div><div class="ttdeci">virtual double CurrentClockTimeMillis()=0</div><div class="ttdoc">This function is deprecated and will be deleted.</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_aa760c7bf8c46495eb650d2be72399747"><div class="ttname"><a href="classv8_1_1Platform.html#aa760c7bf8c46495eb650d2be72399747">v8::Platform::GetTracingController</a></div><div class="ttdeci">virtual TracingController * GetTracingController()=0</div><div class="ttdoc">Returns an instance of a v8::TracingController.</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_aa9a740ff12eeafa448dd84a1bde7631b"><div class="ttname"><a href="classv8_1_1Platform.html#aa9a740ff12eeafa448dd84a1bde7631b">v8::Platform::GetThreadIsolatedAllocator</a></div><div class="ttdeci">virtual ThreadIsolatedAllocator * GetThreadIsolatedAllocator()</div><div class="ttdoc">Allows the embedder to provide an allocator that uses per-thread memory permissions to protect alloca...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01113">v8-platform.h:1113</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_aadb2594e6ff9a6f6a0657412ff5a7206"><div class="ttname"><a href="classv8_1_1Platform.html#aadb2594e6ff9a6f6a0657412ff5a7206">v8::Platform::GetStackTracePrinter</a></div><div class="ttdeci">virtual StackTracePrinter GetStackTracePrinter()</div><div class="ttdoc">Returns a function pointer that print a stack trace of the current stack on invocation.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01362">v8-platform.h:1362</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_aae7b558077a24b6ce9cacfe8e9320943"><div class="ttname"><a href="classv8_1_1Platform.html#aae7b558077a24b6ce9cacfe8e9320943">v8::Platform::StackTracePrinter</a></div><div class="ttdeci">void(* StackTracePrinter)()</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01356">v8-platform.h:1356</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_ab725966a93204e93ec742e1d823e1a05"><div class="ttname"><a href="classv8_1_1Platform.html#ab725966a93204e93ec742e1d823e1a05">v8::Platform::~Platform</a></div><div class="ttdeci">virtual ~Platform()=default</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_ab7c1886dd8131f7389b805bc98276702"><div class="ttname"><a href="classv8_1_1Platform.html#ab7c1886dd8131f7389b805bc98276702">v8::Platform::GetPageAllocator</a></div><div class="ttdeci">virtual PageAllocator * GetPageAllocator()</div><div class="ttdoc">Allows the embedder to manage memory page allocations.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01105">v8-platform.h:1105</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_abaa27dcff934637ff24f11b4fdcfd905"><div class="ttname"><a href="classv8_1_1Platform.html#abaa27dcff934637ff24f11b4fdcfd905">v8::Platform::CurrentClockTimeMillisecondsHighResolution</a></div><div class="ttdeci">virtual double CurrentClockTimeMillisecondsHighResolution()</div><div class="ttdoc">Same as CurrentClockTimeMilliseconds(), but with more precision.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01352">v8-platform.h:1352</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_abcbf846fdfc791569f64de675d522cac"><div class="ttname"><a href="classv8_1_1Platform.html#abcbf846fdfc791569f64de675d522cac">v8::Platform::DumpWithoutCrashing</a></div><div class="ttdeci">virtual void DumpWithoutCrashing()</div><div class="ttdoc">Tells the embedder to generate and upload a crashdump during an unexpected but non-critical scenario.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01373">v8-platform.h:1373</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_abea85437879089beabc43f07d963fc90"><div class="ttname"><a href="classv8_1_1Platform.html#abea85437879089beabc43f07d963fc90">v8::Platform::PostTaskOnWorkerThreadImpl</a></div><div class="ttdeci">virtual void PostTaskOnWorkerThreadImpl(TaskPriority priority, std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location)=0</div><div class="ttdoc">Schedules a task with |priority| to be invoked on a worker thread.</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_accf17a5dcca8d35e130a0d2e9d4fa0fc"><div class="ttname"><a href="classv8_1_1Platform.html#accf17a5dcca8d35e130a0d2e9d4fa0fc">v8::Platform::SystemClockTimeMillis</a></div><div class="ttdeci">static double SystemClockTimeMillis()</div><div class="ttdoc">Default implementation of current wall-clock time in milliseconds since epoch.</div><div class="ttdef"><b>Definition:</b> <a href="v8_8cc_source.html#l00304">v8.cc:304</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_ad229642bf16a066d2e8d866dc128141e"><div class="ttname"><a href="classv8_1_1Platform.html#ad229642bf16a066d2e8d866dc128141e">v8::Platform::IdleTasksEnabled</a></div><div class="ttdeci">virtual bool IdleTasksEnabled(Isolate *isolate)</div><div class="ttdoc">Returns true if idle tasks are enabled for the given |isolate|.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01240">v8-platform.h:1240</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_adcf8355f078499e5b32541b849a656cf"><div class="ttname"><a href="classv8_1_1Platform.html#adcf8355f078499e5b32541b849a656cf">v8::Platform::PostJob</a></div><div class="ttdeci">std::unique_ptr&lt; JobHandle &gt; PostJob(TaskPriority priority, std::unique_ptr&lt; JobTask &gt; job_task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Posts |job_task| to run in parallel.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01287">v8-platform.h:1287</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_af8de89c00aa3d561c0b87d788675def8"><div class="ttname"><a href="classv8_1_1Platform.html#af8de89c00aa3d561c0b87d788675def8">v8::Platform::CallLowPriorityTaskOnWorkerThread</a></div><div class="ttdeci">Use PostTaskOnWorkerThread instead void CallLowPriorityTaskOnWorkerThread(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked with low-priority on a worker thread.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01188">v8-platform.h:1188</a></div></div>
<div class="ttc" id="aclassv8_1_1ScopedBlockingCall_html"><div class="ttname"><a href="classv8_1_1ScopedBlockingCall.html">v8::ScopedBlockingCall</a></div><div class="ttdoc">This class is instantiated with CreateBlockingScope() in every scope where a blocking call is made an...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00347">v8-platform.h:347</a></div></div>
<div class="ttc" id="aclassv8_1_1ScopedBlockingCall_html_a18c0027e14c0fbad2c695259dec72c79"><div class="ttname"><a href="classv8_1_1ScopedBlockingCall.html#a18c0027e14c0fbad2c695259dec72c79">v8::ScopedBlockingCall::~ScopedBlockingCall</a></div><div class="ttdeci">virtual ~ScopedBlockingCall()=default</div></div>
<div class="ttc" id="aclassv8_1_1SourceLocation_html"><div class="ttname"><a href="classv8_1_1SourceLocation.html">v8::SourceLocation</a></div><div class="ttdoc">Encapsulates source location information.</div><div class="ttdef"><b>Definition:</b> <a href="v8-source-location_8h_source.html#l00031">v8-source-location.h:31</a></div></div>
<div class="ttc" id="aclassv8_1_1SourceLocation_html_aae8d4f3be838d1f855c7013b3a053d87"><div class="ttname"><a href="classv8_1_1SourceLocation.html#aae8d4f3be838d1f855c7013b3a053d87">v8::SourceLocation::Current</a></div><div class="ttdeci">static constexpr SourceLocation Current()</div><div class="ttdoc">Construct source location information corresponding to the location of the call site.</div><div class="ttdef"><b>Definition:</b> <a href="v8-source-location_8h_source.html#l00044">v8-source-location.h:44</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html"><div class="ttname"><a href="classv8_1_1TaskRunner.html">v8::TaskRunner</a></div><div class="ttdoc">A TaskRunner allows scheduling of tasks.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00074">v8-platform.h:74</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a14de16f034e25bae4d3718302438ea6d"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a14de16f034e25bae4d3718302438ea6d">v8::TaskRunner::PostIdleTaskImpl</a></div><div class="ttdeci">virtual void PostIdleTaskImpl(std::unique_ptr&lt; IdleTask &gt; task, const SourceLocation &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00198">v8-platform.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a2234536f978eddd6b75a0d2feba7b7df"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a2234536f978eddd6b75a0d2feba7b7df">v8::TaskRunner::TaskRunner</a></div><div class="ttdeci">TaskRunner(const TaskRunner &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a30635e39c966958fd8a1fd5d01b57ed8"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a30635e39c966958fd8a1fd5d01b57ed8">v8::TaskRunner::PostNonNestableTaskImpl</a></div><div class="ttdeci">virtual void PostNonNestableTaskImpl(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00190">v8-platform.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a38cde7bc50ebb8a674b3dd7535ce3789"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a38cde7bc50ebb8a674b3dd7535ce3789">v8::TaskRunner::PostTaskImpl</a></div><div class="ttdeci">virtual void PostTaskImpl(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location)</div><div class="ttdoc">Implementation of above methods with an additional location argument.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00188">v8-platform.h:188</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a3a218398a8c272dcbda6dee042811441"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a3a218398a8c272dcbda6dee042811441">v8::TaskRunner::PostDelayedTaskImpl</a></div><div class="ttdeci">virtual void PostDelayedTaskImpl(std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00192">v8-platform.h:192</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a4145e3f5fe2ef966bdfb408972cb5824"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a4145e3f5fe2ef966bdfb408972cb5824">v8::TaskRunner::NonNestableDelayedTasksEnabled</a></div><div class="ttdeci">virtual bool NonNestableDelayedTasksEnabled() const</div><div class="ttdoc">Returns true if non-nestable delayed tasks are enabled for this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00176">v8-platform.h:176</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a5e68e4abca974b7aff6c89d561dd96a2"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a5e68e4abca974b7aff6c89d561dd96a2">v8::TaskRunner::TaskRunner</a></div><div class="ttdeci">TaskRunner()=default</div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a5e77d31c8b20bd41d2a5f9488ded8255"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a5e77d31c8b20bd41d2a5f9488ded8255">v8::TaskRunner::PostDelayedTask</a></div><div class="ttdeci">void PostDelayedTask(std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked by this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00117">v8-platform.h:117</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a631865f3aab249a6ee149017ce4dbaca"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a631865f3aab249a6ee149017ce4dbaca">v8::TaskRunner::PostIdleTask</a></div><div class="ttdeci">void PostIdleTask(std::unique_ptr&lt; IdleTask &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules an idle task to be invoked by this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00157">v8-platform.h:157</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a6873e0f1b38b28a4e6e98651b0fe8509"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a6873e0f1b38b28a4e6e98651b0fe8509">v8::TaskRunner::PostTask</a></div><div class="ttdeci">void PostTask(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked by this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00082">v8-platform.h:82</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a7042a9967ddaaf1f995e568c3dd7ce64"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a7042a9967ddaaf1f995e568c3dd7ce64">v8::TaskRunner::NonNestableTasksEnabled</a></div><div class="ttdeci">virtual bool NonNestableTasksEnabled() const</div><div class="ttdoc">Returns true if non-nestable tasks are enabled for this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00171">v8-platform.h:171</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_a92facf5a6b8dc3e51319f14e3f85a129"><div class="ttname"><a href="classv8_1_1TaskRunner.html#a92facf5a6b8dc3e51319f14e3f85a129">v8::TaskRunner::~TaskRunner</a></div><div class="ttdeci">virtual ~TaskRunner()=default</div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_aa2b977eda1094988ed206d20f61c1123"><div class="ttname"><a href="classv8_1_1TaskRunner.html#aa2b977eda1094988ed206d20f61c1123">v8::TaskRunner::PostNonNestableDelayedTaskImpl</a></div><div class="ttdeci">virtual void PostNonNestableDelayedTaskImpl(std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00195">v8-platform.h:195</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_aa8a6077bed5735e2190918685faf20f5"><div class="ttname"><a href="classv8_1_1TaskRunner.html#aa8a6077bed5735e2190918685faf20f5">v8::TaskRunner::IdleTasksEnabled</a></div><div class="ttdeci">virtual bool IdleTasksEnabled()=0</div><div class="ttdoc">Returns true if idle tasks are enabled for this TaskRunner.</div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_abbd03eca8491a45cf0a6cf1c441cd410"><div class="ttname"><a href="classv8_1_1TaskRunner.html#abbd03eca8491a45cf0a6cf1c441cd410">v8::TaskRunner::PostNonNestableTask</a></div><div class="ttdeci">void PostNonNestableTask(std::unique_ptr&lt; Task &gt; task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked by this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00104">v8-platform.h:104</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_ac339c7564cff0e35a8c4cdc896550e9d"><div class="ttname"><a href="classv8_1_1TaskRunner.html#ac339c7564cff0e35a8c4cdc896550e9d">v8::TaskRunner::PostNonNestableDelayedTask</a></div><div class="ttdeci">void PostNonNestableDelayedTask(std::unique_ptr&lt; Task &gt; task, double delay_in_seconds, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Schedules a task to be invoked by this TaskRunner.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00141">v8-platform.h:141</a></div></div>
<div class="ttc" id="aclassv8_1_1TaskRunner_html_afa3b34de51024b4a2422204d7719ac86"><div class="ttname"><a href="classv8_1_1TaskRunner.html#afa3b34de51024b4a2422204d7719ac86">v8::TaskRunner::operator=</a></div><div class="ttdeci">TaskRunner &amp; operator=(const TaskRunner &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1Task_html"><div class="ttname"><a href="classv8_1_1Task.html">v8::Task</a></div><div class="ttdoc">A Task represents a unit of work.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00049">v8-platform.h:49</a></div></div>
<div class="ttc" id="aclassv8_1_1Task_html_a6bd5bda0e357fcc2e727bf7b0170f99a"><div class="ttname"><a href="classv8_1_1Task.html#a6bd5bda0e357fcc2e727bf7b0170f99a">v8::Task::Run</a></div><div class="ttdeci">virtual void Run()=0</div></div>
<div class="ttc" id="aclassv8_1_1Task_html_ac8371de73f3c9c9fbb8df245c19b5510"><div class="ttname"><a href="classv8_1_1Task.html#ac8371de73f3c9c9fbb8df245c19b5510">v8::Task::~Task</a></div><div class="ttdeci">virtual ~Task()=default</div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html">v8::ThreadIsolatedAllocator</a></div><div class="ttdoc">An allocator that uses per-thread permissions to protect the memory.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00687">v8-platform.h:687</a></div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_a119b43c3e5cc16b0aca6c5269684ba0f"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#a119b43c3e5cc16b0aca6c5269684ba0f">v8::ThreadIsolatedAllocator::Pkey</a></div><div class="ttdeci">virtual int Pkey() const</div><div class="ttdoc">Return the pkey used to implement the thread isolation if Type == kPkey.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00704">v8-platform.h:704</a></div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_a7f50f10698da7d30275decd8ece47e0d"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#a7f50f10698da7d30275decd8ece47e0d">v8::ThreadIsolatedAllocator::Free</a></div><div class="ttdeci">virtual void Free(void *object)=0</div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_abca1c3449f722ac8c3817582625e8e7a"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#abca1c3449f722ac8c3817582625e8e7a">v8::ThreadIsolatedAllocator::~ThreadIsolatedAllocator</a></div><div class="ttdeci">virtual ~ThreadIsolatedAllocator()=default</div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_ac4c842e3d02dbacc64829db1e0837e5f"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#ac4c842e3d02dbacc64829db1e0837e5f">v8::ThreadIsolatedAllocator::Type</a></div><div class="ttdeci">virtual Type Type() const =0</div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_acc21cdd33629ce2850fe7fb78131386c"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#acc21cdd33629ce2850fe7fb78131386c">v8::ThreadIsolatedAllocator::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00695">v8-platform.h:695</a></div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_acc21cdd33629ce2850fe7fb78131386ca06441b6e4073a914d0aabed695c6b8a2"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#acc21cdd33629ce2850fe7fb78131386ca06441b6e4073a914d0aabed695c6b8a2">v8::ThreadIsolatedAllocator::Type::kPkey</a></div><div class="ttdeci">@ kPkey</div></div>
<div class="ttc" id="aclassv8_1_1ThreadIsolatedAllocator_html_afe9f8aaba035134aaca622b86d9a38c7"><div class="ttname"><a href="classv8_1_1ThreadIsolatedAllocator.html#afe9f8aaba035134aaca622b86d9a38c7">v8::ThreadIsolatedAllocator::Allocate</a></div><div class="ttdeci">virtual void * Allocate(size_t size)=0</div></div>
<div class="ttc" id="aclassv8_1_1TracingController_1_1TraceStateObserver_html"><div class="ttname"><a href="classv8_1_1TracingController_1_1TraceStateObserver.html">v8::TracingController::TraceStateObserver</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00430">v8-platform.h:430</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_1_1TraceStateObserver_html_a3853d90b9458529203fd1c4bc8caf4e3"><div class="ttname"><a href="classv8_1_1TracingController_1_1TraceStateObserver.html#a3853d90b9458529203fd1c4bc8caf4e3">v8::TracingController::TraceStateObserver::OnTraceEnabled</a></div><div class="ttdeci">virtual void OnTraceEnabled()=0</div></div>
<div class="ttc" id="aclassv8_1_1TracingController_1_1TraceStateObserver_html_a746299c67f2f282101d8b61ae83c4120"><div class="ttname"><a href="classv8_1_1TracingController_1_1TraceStateObserver.html#a746299c67f2f282101d8b61ae83c4120">v8::TracingController::TraceStateObserver::~TraceStateObserver</a></div><div class="ttdeci">virtual ~TraceStateObserver()=default</div></div>
<div class="ttc" id="aclassv8_1_1TracingController_1_1TraceStateObserver_html_a840a68c822844e57e4b023dc4f9e0fee"><div class="ttname"><a href="classv8_1_1TracingController_1_1TraceStateObserver.html#a840a68c822844e57e4b023dc4f9e0fee">v8::TracingController::TraceStateObserver::OnTraceDisabled</a></div><div class="ttdeci">virtual void OnTraceDisabled()=0</div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html"><div class="ttname"><a href="classv8_1_1TracingController.html">v8::TracingController</a></div><div class="ttdoc">V8 Tracing controller.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00375">v8-platform.h:375</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_a09a16f1d491260f0fef48eaa3a0a28d7"><div class="ttname"><a href="classv8_1_1TracingController.html#a09a16f1d491260f0fef48eaa3a0a28d7">v8::TracingController::AddTraceEventWithTimestamp</a></div><div class="ttdeci">virtual uint64_t AddTraceEventWithTimestamp(char phase, const uint8_t *category_enabled_flag, const char *name, const char *scope, uint64_t id, uint64_t bind_id, int32_t num_args, const char **arg_names, const uint8_t *arg_types, const uint64_t *arg_values, std::unique_ptr&lt; ConvertableToTraceFormat &gt; *arg_convertables, unsigned int flags, int64_t timestamp)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00412">v8-platform.h:412</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_a5153b9304057c4230743efdab586a7f2"><div class="ttname"><a href="classv8_1_1TracingController.html#a5153b9304057c4230743efdab586a7f2">v8::TracingController::~TracingController</a></div><div class="ttdeci">virtual ~TracingController()=default</div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_a7b86361ffadff46018a348fd2aa01061"><div class="ttname"><a href="classv8_1_1TracingController.html#a7b86361ffadff46018a348fd2aa01061">v8::TracingController::AddTraceStateObserver</a></div><div class="ttdeci">virtual void AddTraceStateObserver(TraceStateObserver *)</div><div class="ttdoc">Adds tracing state change observer.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00441">v8-platform.h:441</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_ab8d5b3ac795188effb423fa2c0514353"><div class="ttname"><a href="classv8_1_1TracingController.html#ab8d5b3ac795188effb423fa2c0514353">v8::TracingController::RemoveTraceStateObserver</a></div><div class="ttdeci">virtual void RemoveTraceStateObserver(TraceStateObserver *)</div><div class="ttdoc">Removes tracing state change observer.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00447">v8-platform.h:447</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_ac1fda6cdae5f6515b896b3df05d5a97e"><div class="ttname"><a href="classv8_1_1TracingController.html#ac1fda6cdae5f6515b896b3df05d5a97e">v8::TracingController::UpdateTraceEventDuration</a></div><div class="ttdeci">virtual void UpdateTraceEventDuration(const uint8_t *category_enabled_flag, const char *name, uint64_t handle)</div><div class="ttdoc">Sets the duration field of a COMPLETE trace event.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00426">v8-platform.h:426</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_ad1e234b340ea8f9f1e3386aa21dad5dd"><div class="ttname"><a href="classv8_1_1TracingController.html#ad1e234b340ea8f9f1e3386aa21dad5dd">v8::TracingController::AddTraceEvent</a></div><div class="ttdeci">virtual uint64_t AddTraceEvent(char phase, const uint8_t *category_enabled_flag, const char *name, const char *scope, uint64_t id, uint64_t bind_id, int32_t num_args, const char **arg_names, const uint8_t *arg_types, const uint64_t *arg_values, std::unique_ptr&lt; ConvertableToTraceFormat &gt; *arg_convertables, unsigned int flags)</div><div class="ttdoc">Adds a trace event to the platform tracing system.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00403">v8-platform.h:403</a></div></div>
<div class="ttc" id="aclassv8_1_1TracingController_html_af3c0fcec8fe93b18a89392686cfedfe5"><div class="ttname"><a href="classv8_1_1TracingController.html#af3c0fcec8fe93b18a89392686cfedfe5">v8::TracingController::GetCategoryGroupEnabled</a></div><div class="ttdeci">virtual const uint8_t * GetCategoryGroupEnabled(const char *name)</div><div class="ttdoc">Called by TRACE_EVENT* macros, don't call this directly.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00390">v8-platform.h:390</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html">v8::VirtualAddressSpace</a></div><div class="ttdoc">Class to manage a virtual memory address space.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00779">v8-platform.h:779</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a07f77e81c5f04744cf40693915445c93"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a07f77e81c5f04744cf40693915445c93">v8::VirtualAddressSpace::CanAllocateSubspaces</a></div><div class="ttdeci">virtual bool CanAllocateSubspaces()=0</div><div class="ttdoc">Whether this instance can allocate subspaces or not.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a0d1b4fa7f1cc543711aa912dc2323712"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a0d1b4fa7f1cc543711aa912dc2323712">v8::VirtualAddressSpace::base</a></div><div class="ttdeci">Address base() const</div><div class="ttdoc">The base address of the address space managed by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00818">v8-platform.h:818</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a13b9773ab75ccd76ff3750e1baf46414"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a13b9773ab75ccd76ff3750e1baf46414">v8::VirtualAddressSpace::DiscardSystemPages</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT bool DiscardSystemPages(Address address, size_t size)</div><div class="ttdoc">Frees memory in the given [address, address + size) range.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01056">v8-platform.h:1056</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a1e0f659a566ee6d617210c91c98c2836"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a1e0f659a566ee6d617210c91c98c2836">v8::VirtualAddressSpace::FreePages</a></div><div class="ttdeci">virtual void FreePages(Address address, size_t size)=0</div><div class="ttdoc">Frees previously allocated pages.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a24033fe6f48c27f8b7aefd2d252a148f"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a24033fe6f48c27f8b7aefd2d252a148f">v8::VirtualAddressSpace::max_page_permissions_</a></div><div class="ttdeci">const PagePermissions max_page_permissions_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01078">v8-platform.h:1078</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a2778e03b2f2d941e661a8937cbe79347"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a2778e03b2f2d941e661a8937cbe79347">v8::VirtualAddressSpace::page_size_</a></div><div class="ttdeci">const size_t page_size_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01074">v8-platform.h:1074</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a2c87529d4f8aa2f73a41a74b50bacb61"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a2c87529d4f8aa2f73a41a74b50bacb61">v8::VirtualAddressSpace::SetRandomSeed</a></div><div class="ttdeci">virtual void SetRandomSeed(int64_t seed)=0</div><div class="ttdoc">Sets the random seed so that GetRandomPageAddress() will generate repeatable sequences of random addr...</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a33df074616690391d1cc85a4646e2862"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a33df074616690391d1cc85a4646e2862">v8::VirtualAddressSpace::AllocateGuardRegion</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT bool AllocateGuardRegion(Address address, size_t size)=0</div><div class="ttdoc">Creates a guard region at the specified address.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a3a8f4984c524f2c30a8b00a6b8bff41a"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a3a8f4984c524f2c30a8b00a6b8bff41a">v8::VirtualAddressSpace::kNoHint</a></div><div class="ttdeci">static constexpr Address kNoHint</div><div class="ttdoc">Allocates private memory pages with the given alignment and permissions.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00880">v8-platform.h:880</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a3ae7b434eae9344688a4860c334dc4a7"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a3ae7b434eae9344688a4860c334dc4a7">v8::VirtualAddressSpace::Contains</a></div><div class="ttdeci">bool Contains(Address address) const</div><div class="ttdoc">Whether the |address| is inside the address space managed by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00840">v8-platform.h:840</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a4902418d2e443a35f055ae094cc263e6"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a4902418d2e443a35f055ae094cc263e6">v8::VirtualAddressSpace::RecommitPages</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT bool RecommitPages(Address address, size_t size, PagePermissions permissions)=0</div><div class="ttdoc">Recommits discarded pages in the given range with given permissions.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a507753f63e8c88702ca7f85a3f503c95"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a507753f63e8c88702ca7f85a3f503c95">v8::VirtualAddressSpace::AllocatePages</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT Address AllocatePages(Address hint, size_t size, size_t alignment, PagePermissions permissions)=0</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a5676436f27f89e695e149de9ba4963cf"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a5676436f27f89e695e149de9ba4963cf">v8::VirtualAddressSpace::FreeSharedPages</a></div><div class="ttdeci">virtual void FreeSharedPages(Address address, size_t size)=0</div><div class="ttdoc">Frees previously allocated shared pages.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a5806db3da841c3c7c1533fd01e888dbb"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a5806db3da841c3c7c1533fd01e888dbb">v8::VirtualAddressSpace::FreeGuardRegion</a></div><div class="ttdeci">virtual void FreeGuardRegion(Address address, size_t size)=0</div><div class="ttdoc">Frees an existing guard region.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a65b8e54dd91903621a9a020802f7ff4f"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a65b8e54dd91903621a9a020802f7ff4f">v8::VirtualAddressSpace::size_</a></div><div class="ttdeci">const size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01077">v8-platform.h:1077</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a7c1edd7da838d600d380c02007b57096"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a7c1edd7da838d600d380c02007b57096">v8::VirtualAddressSpace::base_</a></div><div class="ttdeci">const Address base_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01076">v8-platform.h:1076</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a856826f63c4371f299485b2ac5e8fe2b"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a856826f63c4371f299485b2ac5e8fe2b">v8::VirtualAddressSpace::VirtualAddressSpace</a></div><div class="ttdeci">VirtualAddressSpace(size_t page_size, size_t allocation_granularity, Address base, size_t size, PagePermissions max_page_permissions)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00783">v8-platform.h:783</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a8c1c16f99b3654cd3287242d3a4a5fb5"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a8c1c16f99b3654cd3287242d3a4a5fb5">v8::VirtualAddressSpace::SetPagePermissions</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT bool SetPagePermissions(Address address, size_t size, PagePermissions permissions)=0</div><div class="ttdoc">Sets permissions of all allocated pages in the given range.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_a8f2b50e530a9ce17f2263dee40246d2b"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#a8f2b50e530a9ce17f2263dee40246d2b">v8::VirtualAddressSpace::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">The size of the address space managed by this instance.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00825">v8-platform.h:825</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_aafe4453dd670c38e41c3ce63e2b39008"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#aafe4453dd670c38e41c3ce63e2b39008">v8::VirtualAddressSpace::max_page_permissions</a></div><div class="ttdeci">PagePermissions max_page_permissions() const</div><div class="ttdoc">The maximum page permissions that pages allocated inside this space can obtain.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00833">v8-platform.h:833</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_ab3902d10f4184f9f6b7da7047835c4ec"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#ab3902d10f4184f9f6b7da7047835c4ec">v8::VirtualAddressSpace::AllocateSharedPages</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT Address AllocateSharedPages(Address hint, size_t size, PagePermissions permissions, PlatformSharedMemoryHandle handle, uint64_t offset)=0</div><div class="ttdoc">Allocates shared memory pages with the given permissions.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_ac365bb44d61c7028d87c128042e2eb77"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#ac365bb44d61c7028d87c128042e2eb77">v8::VirtualAddressSpace::allocation_granularity</a></div><div class="ttdeci">size_t allocation_granularity() const</div><div class="ttdoc">The granularity of page allocations and, by extension, of subspace allocations.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00811">v8-platform.h:811</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_ac7db7558b1ce5a2df1d406ff7b964cdc"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#ac7db7558b1ce5a2df1d406ff7b964cdc">v8::VirtualAddressSpace::RandomPageAddress</a></div><div class="ttdeci">virtual Address RandomPageAddress()=0</div><div class="ttdoc">Returns a random address inside this address space, suitable for page allocations hints.</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_acfcd3b915e54a399741c3715bee299ef"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#acfcd3b915e54a399741c3715bee299ef">v8::VirtualAddressSpace::~VirtualAddressSpace</a></div><div class="ttdeci">virtual ~VirtualAddressSpace()=default</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_adcf7210a0fc2714e669cfeb9538f7a18"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#adcf7210a0fc2714e669cfeb9538f7a18">v8::VirtualAddressSpace::allocation_granularity_</a></div><div class="ttdeci">const size_t allocation_granularity_</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01075">v8-platform.h:1075</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_aee3ed7d6b246a7a5968209717f1fec1c"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#aee3ed7d6b246a7a5968209717f1fec1c">v8::VirtualAddressSpace::DecommitPages</a></div><div class="ttdeci">virtual V8_WARN_UNUSED_RESULT bool DecommitPages(Address address, size_t size)=0</div><div class="ttdoc">Decommits any wired memory pages in the given range, allowing the OS to reclaim them,...</div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_afd51bd33692e85fa4742f62c9c832ffe"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#afd51bd33692e85fa4742f62c9c832ffe">v8::VirtualAddressSpace::page_size</a></div><div class="ttdeci">size_t page_size() const</div><div class="ttdoc">The page size used inside this space.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00801">v8-platform.h:801</a></div></div>
<div class="ttc" id="aclassv8_1_1VirtualAddressSpace_html_afdc26056f23014131110510b92ae8c61"><div class="ttname"><a href="classv8_1_1VirtualAddressSpace.html#afdc26056f23014131110510b92ae8c61">v8::VirtualAddressSpace::AllocateSubspace</a></div><div class="ttdeci">virtual std::unique_ptr&lt; VirtualAddressSpace &gt; AllocateSubspace(Address hint, size_t size, size_t alignment, PagePermissions max_page_permissions)=0</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3ced3697c19e78b3fb4994a89f46945e"><div class="ttname"><a href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02171">flag-definitions.h:2171</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_af0832cf93cb1767d6e6e287bb7dcdf72"><div class="ttname"><a href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a></div><div class="ttdeci">other heap size flags(e.g. initial_heap_size) take precedence&quot;) DEFINE_SIZE_T( max_shared_heap_size</div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">v8::TaskPriority</a></div><div class="ttdeci">TaskPriority</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00024">v8-platform.h:24</a></div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">v8::TaskPriority::kUserBlocking</a></div><div class="ttdeci">@ kUserBlocking</div><div class="ttdoc">User blocking tasks are highest priority tasks that block the execution thread (e....</div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">v8::TaskPriority::kUserVisible</a></div><div class="ttdeci">@ kUserVisible</div><div class="ttdoc">User visible tasks are long running background tasks that will improve performance and memory usage o...</div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a8ca6416b1934c765a6967e9ea78e1f5c"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a8ca6416b1934c765a6967e9ea78e1f5c">v8::TaskPriority::kBestEffort</a></div><div class="ttdeci">@ kBestEffort</div><div class="ttdoc">Best effort tasks are not critical for performance of the application.</div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051af7c3ba60a56a16a4e8818d15d587a518"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051af7c3ba60a56a16a4e8818d15d587a518">v8::TaskPriority::kMaxPriority</a></div><div class="ttdeci">@ kMaxPriority</div></div>
<div class="ttc" id="anamespacev8_html_a890e364ea707a258c1fb911f7321a93e"><div class="ttname"><a href="namespacev8.html#a890e364ea707a258c1fb911f7321a93e">v8::FileDescriptorFromSharedMemoryHandle</a></div><div class="ttdeci">int FileDescriptorFromSharedMemoryHandle(PlatformSharedMemoryHandle handle)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00752">v8-platform.h:752</a></div></div>
<div class="ttc" id="anamespacev8_html_aabe232c0ab90fac6d1b1d21c33e8dc93"><div class="ttname"><a href="namespacev8.html#aabe232c0ab90fac6d1b1d21c33e8dc93">v8::SharedMemoryHandleFromFileDescriptor</a></div><div class="ttdeci">PlatformSharedMemoryHandle SharedMemoryHandleFromFileDescriptor(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00749">v8-platform.h:749</a></div></div>
<div class="ttc" id="anamespacev8_html_abd498c5a2b655d1b83c730aa38ad1bfa"><div class="ttname"><a href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfa">v8::BlockingType</a></div><div class="ttdeci">BlockingType</div><div class="ttdoc">A &quot;blocking call&quot; refers to any call that causes the calling thread to wait off-CPU.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00332">v8-platform.h:332</a></div></div>
<div class="ttc" id="anamespacev8_html_abd498c5a2b655d1b83c730aa38ad1bfaa78699bfd9a2112010233fbbbcd7ce01b"><div class="ttname"><a href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfaa78699bfd9a2112010233fbbbcd7ce01b">v8::BlockingType::kWillBlock</a></div><div class="ttdeci">@ kWillBlock</div></div>
<div class="ttc" id="anamespacev8_html_abd498c5a2b655d1b83c730aa38ad1bfaaec6621c4e7d287f76d6959cf112c8fdc"><div class="ttname"><a href="namespacev8.html#abd498c5a2b655d1b83c730aa38ad1bfaaec6621c4e7d287f76d6959cf112c8fdc">v8::BlockingType::kMayBlock</a></div><div class="ttdeci">@ kMayBlock</div></div>
<div class="ttc" id="anamespacev8_html_ac9f421c9670d61efa9094326eb8176dc"><div class="ttname"><a href="namespacev8.html#ac9f421c9670d61efa9094326eb8176dc">v8::kInvalidSharedMemoryHandle</a></div><div class="ttdeci">static constexpr PlatformSharedMemoryHandle kInvalidSharedMemoryHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00709">v8-platform.h:709</a></div></div>
<div class="ttc" id="anamespacev8_html_ad2e4ee82254bfd04ba12af21ac69a894"><div class="ttname"><a href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">v8::PlatformSharedMemoryHandle</a></div><div class="ttdeci">intptr_t PlatformSharedMemoryHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00708">v8-platform.h:708</a></div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555">v8::PagePermissions</a></div><div class="ttdeci">PagePermissions</div><div class="ttdoc">Possible permissions for memory pages.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00761">v8-platform.h:761</a></div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555a1a4c5e3d44db171c5ee5aa4bb47a59ed"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555a1a4c5e3d44db171c5ee5aa4bb47a59ed">v8::PagePermissions::kReadExecute</a></div><div class="ttdeci">@ kReadExecute</div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555a203620cd187bc1be1aec50642019ee57"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555a203620cd187bc1be1aec50642019ee57">v8::PagePermissions::kReadWriteExecute</a></div><div class="ttdeci">@ kReadWriteExecute</div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555a8604cf55a79d6bfdcb30f77d1622839b"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555a8604cf55a79d6bfdcb30f77d1622839b">v8::PagePermissions::kRead</a></div><div class="ttdeci">@ kRead</div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555af34c23f2eed93c9645e1aa681c77bec5"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555af34c23f2eed93c9645e1aa681c77bec5">v8::PagePermissions::kReadWrite</a></div><div class="ttdeci">@ kReadWrite</div></div>
<div class="ttc" id="anamespacev8_html_afd990b3ba59f8683a014651f68dd2555af5d6f15f85f8db76149a52e2f4a2aa70"><div class="ttname"><a href="namespacev8.html#afd990b3ba59f8683a014651f68dd2555af5d6f15f85f8db76149a52e2f4a2aa70">v8::PagePermissions::kNoAccess</a></div><div class="ttdeci">@ kNoAccess</div></div>
<div class="ttc" id="av8-source-location_8h_html"><div class="ttname"><a href="v8-source-location_8h.html">v8-source-location.h</a></div></div>
<div class="ttc" id="av8config_8h_html"><div class="ttname"><a href="v8config_8h.html">v8config.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a18b08424f4be6fab745092c7c5dad9f5"><div class="ttname"><a href="v8config_8h.html#a18b08424f4be6fab745092c7c5dad9f5">V8_EXPORT</a></div><div class="ttdeci">#define V8_EXPORT</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00800">v8config.h:800</a></div></div>
<div class="ttc" id="av8config_8h_html_a287e6b31f100868207f61b00ada5a501"><div class="ttname"><a href="v8config_8h.html#a287e6b31f100868207f61b00ada5a501">V8_DEPRECATE_SOON</a></div><div class="ttdeci">#define V8_DEPRECATE_SOON(message)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00614">v8config.h:614</a></div></div>
<div class="ttc" id="av8config_8h_html_a63258e4bf5dc9fb8c78f881c8405d83b"><div class="ttname"><a href="v8config_8h.html#a63258e4bf5dc9fb8c78f881c8405d83b">V8_WARN_UNUSED_RESULT</a></div><div class="ttdeci">#define V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00671">v8config.h:671</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_b9872d1f3a2ee817aaa33ebd0513511d.html">include</a></li><li class="navelem"><a class="el" href="v8-platform_8h.html">v8-platform.h</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:50:29 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
