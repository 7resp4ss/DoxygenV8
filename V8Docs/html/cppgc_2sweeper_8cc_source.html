<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/heap/cppgc/sweeper.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('cppgc_2sweeper_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">sweeper.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="cppgc_2sweeper_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2020 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cppgc_2sweeper_8h.html">src/heap/cppgc/sweeper.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="include_2cppgc_2platform_8h.html">include/cppgc/platform.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutex_8h.html">src/base/platform/mutex.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">src/base/platform/time.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cppgc_2free-list_8h.html">src/heap/cppgc/free-list.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap_2cppgc_2globals_8h.html">src/heap/cppgc/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-base_8h.html">src/heap/cppgc/heap-base.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-config_8h.html">src/heap/cppgc/heap-config.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-object-header_8h.html">src/heap/cppgc/heap-object-header.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-page_8h.html">src/heap/cppgc/heap-page.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-space_8h.html">src/heap/cppgc/heap-space.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cppgc_2heap-visitor_8h.html">src/heap/cppgc/heap-visitor.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap_2cppgc_2memory_8h.html">src/heap/cppgc/memory.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object-poisoner_8h.html">src/heap/cppgc/object-poisoner.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object-start-bitmap_8h.html">src/heap/cppgc/object-start-bitmap.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page-memory_8h.html">src/heap/cppgc/page-memory.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw-heap_8h.html">src/heap/cppgc/raw-heap.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="stats-collector_8h.html">src/heap/cppgc/stats-collector.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="task-handle_8h.html">src/heap/cppgc/task-handle.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecppgc_1_1internal.html">cppgc::internal</a> {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160; </div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html">   35</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a5076b7e6531826224bd1b9ab4d221708">   37</a></span>&#160;constexpr <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a5076b7e6531826224bd1b9ab4d221708">kBackgroundBoostedPriority</a> = <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a38d7df7954da13e511d04aee32690b9b">   38</a></span>&#160;constexpr <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a38d7df7954da13e511d04aee32690b9b">kBackgroundRegularPriority</a> = <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a26a0a0915a2fa5c6f83fb60c01dbf1ea">   39</a></span>&#160;constexpr <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a26a0a0915a2fa5c6f83fb60c01dbf1ea">kForegroundRegularPriority</a> = <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a76634b821dc068afa4920519e35d70cd">   40</a></span>&#160;constexpr <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">TaskPriority</a> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a76634b821dc068afa4920519e35d70cd">kForegroundLowPriority</a> = <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">TaskPriority::kUserVisible</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">   42</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">DeadlineChecker</a> final {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a0ff1c4c9f7e686ee1e3ec4007c082ca9">   44</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a0ff1c4c9f7e686ee1e3ec4007c082ca9">DeadlineChecker</a>(<a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) : end_(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">   46</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">Check</a>() {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(++count_ % kInterval == 0) &amp;&amp;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;           (end_ &lt; <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a0cd8520da074256e29dcdaa2662c7552">   52</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> kInterval = 4;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a6773a114dbc798c95aada31e079380ac">   54</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a6773a114dbc798c95aada31e079380ac">end_</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a6763f7803f6ae492b26753d86ff373bf">   55</a></span>&#160;  <span class="keywordtype">size_t</span> count_ = 0;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;};</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cd">   58</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cd">MutatorThreadSweepingMode</a> {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cda36487c559355efae19dacbead16855a8">kOnlyFinalizers</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cda34bdbffdb1c0e1b603f58fc0d49548b6">kAll</a>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;};</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#ae5e7a908201e2bc0b3f44b6a1f95bd7d">   63</a></span>&#160;constexpr <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(<a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cd">MutatorThreadSweepingMode</a> sweeping_mode) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">switch</span> (sweeping_mode) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">case</span> MutatorThreadSweepingMode::kAll:</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;all&quot;</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">case</span> MutatorThreadSweepingMode::kOnlyFinalizers:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">return</span> <span class="stringliteral">&quot;only-finalizers&quot;</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html">   72</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html">ObjectStartBitmapVerifier</a> final</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    : <span class="keyword">private</span> <a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;ObjectStartBitmapVerifier&gt; {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html">ObjectStartBitmapVerifier</a>&gt;;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#ad70a09b211d62003f771013c9ffad4cd">   77</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#ad70a09b211d62003f771013c9ffad4cd">Verify</a>(<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html">RawHeap</a>&amp; <a class="code" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    Traverse(<a class="code" href="namespaceheap.html">heap</a>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a5de0345fe450090e40779c5ec9b38195">   82</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a5de0345fe450090e40779c5ec9b38195">Verify</a>(<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html">NormalPage</a>&amp; page) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    Traverse(page);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a4ee83c06e1d0a0d1a4ec1ade5ada5f0e">   89</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a4ee83c06e1d0a0d1a4ec1ade5ada5f0e">VisitNormalPage</a>(<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html">NormalPage</a>&amp; page) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// Remember bitmap and reset previous pointer.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    bitmap_ = &amp;page.<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a8cdafcfb1ef74227080a91b90fe57c19">object_start_bitmap</a>();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    prev_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a0d5d32c9e12ce5ca60b03f8916acde35">   96</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a0d5d32c9e12ce5ca60b03f8916acde35">VisitHeapObjectHeader</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>&amp; header) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (header.<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#acb8d93ca4a7c69792f6c369622745255">IsLargeObject</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">auto</span>* raw_header = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacecppgc_1_1internal.html#a253e063701bfc4119e9fca7fe9800c32">ConstAddress</a><span class="keyword">&gt;</span>(&amp;header);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(bitmap_-&gt;CheckBit&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(raw_header));</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">if</span> (prev_) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="comment">// No other bits in the range [prev_, raw_header) should be set.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(prev_, bitmap_-&gt;FindHeader&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(raw_header - 1));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    prev_ = &amp;header;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a001954dde0bad6b5518e83cd6c070f0d">  109</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1PlatformAwareObjectStartBitmap.html">PlatformAwareObjectStartBitmap</a>* bitmap_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a2b0f83fcb28e018311151cb0fda213d6">  110</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* prev_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;};</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html">  113</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html">FreeHandlerBase</a> {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html#a0cea32bb45495e5913dee9e903d05f07">  115</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html#a0cea32bb45495e5913dee9e903d05f07">~FreeHandlerBase</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html#abad82ee7b6b40d563d2b8f60733f2e06">  116</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html#abad82ee7b6b40d563d2b8f60733f2e06">FreeFreeList</a>(</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      std::vector&lt;FreeList::Block&gt;&amp; unfinalized_free_list) = 0;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;};</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html">  120</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html">DiscardingFreeHandler</a> : <span class="keyword">public</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html">FreeHandlerBase</a> {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#ac66385db9337abb10a859ee88fdc5a99">  122</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#ac66385db9337abb10a859ee88fdc5a99">DiscardingFreeHandler</a>(<a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; page_allocator, <a class="code" href="classcppgc_1_1internal_1_1FreeList.html">FreeList</a>&amp; free_list,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                        <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>&amp; page)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      : page_allocator_(page_allocator), free_list_(free_list), page_(page) {}</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#aa7a8e6b810e554be101261d61ae0501c">  126</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#aa7a8e6b810e554be101261d61ae0501c">Free</a>(<a class="code" href="structcppgc_1_1internal_1_1FreeList_1_1Block.html">FreeList::Block</a> block) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> unused_range = free_list_.AddReturningUnusedBounds(block);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> aligned_begin_unused =</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(unused_range.first),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                page_allocator_.CommitPageSize());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> aligned_end_unused =</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(unused_range.second),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                  page_allocator_.CommitPageSize());</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (aligned_begin_unused &lt; aligned_end_unused) {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">size_t</span> discarded_size = aligned_end_unused - aligned_begin_unused;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      page_allocator_.DiscardSystemPages(</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(aligned_begin_unused),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          aligned_end_unused - aligned_begin_unused);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      page_.IncrementDiscardedMemory(discarded_size);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      page_.space()</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          .raw_heap()</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;          -&gt;heap()</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          -&gt;stats_collector()</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          -&gt;IncrementDiscardedMemory(discarded_size);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a0c0d4da51a66bbd518af52443eed147a">  148</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a0c0d4da51a66bbd518af52443eed147a">FreeFreeList</a>(std::vector&lt;FreeList::Block&gt;&amp; unfinalized_free_list) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> entry : unfinalized_free_list) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">Free</a>(std::move(entry));</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#aa598ef514eaf8cf4bd70da2dabe4e438">  155</a></span>&#160;  <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#aa598ef514eaf8cf4bd70da2dabe4e438">page_allocator_</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a10ea5ff0fc71fe71420ced9a0e290ebe">  156</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1FreeList.html">FreeList</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a10ea5ff0fc71fe71420ced9a0e290ebe">free_list_</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a64a782e210e146527d2e49d459e6fd15">  157</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a64a782e210e146527d2e49d459e6fd15">page_</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;};</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html">  160</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html">RegularFreeHandler</a> : <span class="keyword">public</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html">FreeHandlerBase</a> {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a27b2e50ed8b78c4319e68533a90ad056">  162</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a27b2e50ed8b78c4319e68533a90ad056">RegularFreeHandler</a>(<a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; page_allocator, <a class="code" href="classcppgc_1_1internal_1_1FreeList.html">FreeList</a>&amp; free_list,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                     <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>&amp; page)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      : free_list_(free_list) {}</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a24626f33cff9cbc05e7d5fc1b21ddc07">  166</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a24626f33cff9cbc05e7d5fc1b21ddc07">Free</a>(<a class="code" href="structcppgc_1_1internal_1_1FreeList_1_1Block.html">FreeList::Block</a> block) { free_list_.Add(std::move(block)); }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#ac24d582b9a61d4249d96fd7afdd4643f">  168</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#ac24d582b9a61d4249d96fd7afdd4643f">FreeFreeList</a>(std::vector&lt;FreeList::Block&gt;&amp; unfinalized_free_list) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> entry : unfinalized_free_list) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">Free</a>(std::move(entry));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a2fec738f2f7d3108f3b8f5bd23dd0368">  175</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1FreeList.html">FreeList</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a2fec738f2f7d3108f3b8f5bd23dd0368">free_list_</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;};</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html">  179</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html">ThreadSafeStack</a> {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#a12608ac4c885dada989bc52cdd32cbcf">  181</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#a12608ac4c885dada989bc52cdd32cbcf">ThreadSafeStack</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#abd90c3d05f5105afa2ef6e03714d472b">  183</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#abd90c3d05f5105afa2ef6e03714d472b">Push</a>(<a class="code" href="classT.html">T</a> t) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a> lock(&amp;mutex_);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    vector_.push_back(std::move(t));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    is_empty_.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#adaed2a3c495f63f4a6e072c42d134d83">  189</a></span>&#160;  std::optional&lt;T&gt; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#adaed2a3c495f63f4a6e072c42d134d83">Pop</a>() {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a> lock(&amp;mutex_);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (vector_.empty()) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      is_empty_.store(<span class="keyword">true</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classT.html">T</a> top = std::move(vector_.back());</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    vector_.pop_back();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="comment">// std::move is redundant but is needed to avoid the bug in gcc-7.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> std::move(top);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> It&gt;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#aa2391de2b7d4bdadcd240286eb056eb8">  202</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#aa2391de2b7d4bdadcd240286eb056eb8">Insert</a>(It <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>, It <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a> lock(&amp;mutex_);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    vector_.insert(vector_.end(), <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    is_empty_.store(<span class="keyword">false</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#a0360d02e17db8c31a5c89b788f468637">  208</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#a0360d02e17db8c31a5c89b788f468637">IsEmpty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> is_empty_.load(std::memory_order_relaxed); }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#af5c37ae457ab57eaf1d77c15fd2f19fa">  211</a></span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classv8_1_1base_1_1Mutex.html">v8::base::Mutex</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#af5c37ae457ab57eaf1d77c15fd2f19fa">mutex_</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#afddabc12f0c9e786dfb6a256302a70c8">  212</a></span>&#160;  std::vector&lt;T&gt; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#afddabc12f0c9e786dfb6a256302a70c8">vector_</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#ae25206705a8655687c0c0952d6298420">  213</a></span>&#160;  std::atomic&lt;bool&gt; is_empty_{<span class="keyword">true</span>};</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">  216</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a> {</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">  217</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">SweptPageState</a> {</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6010b53584c9cedced12decd19dbb3e9">  218</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* page = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#if defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// The list of unfinalized objects may be extremely big. To save on space,</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// if cage is enabled, the list of unfinalized objects is stored inlined in</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">// HeapObjectHeader.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* unfinalized_objects_head = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#aabe86d70b25d3e29b8773298e304c5b8">  225</a></span>&#160;    std::vector&lt;HeapObjectHeader*&gt; <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#aabe86d70b25d3e29b8773298e304c5b8">unfinalized_objects</a>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a263425678dd6af878d42f3959e330c70">  227</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1FreeList.html">FreeList</a> <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a263425678dd6af878d42f3959e330c70">cached_free_list</a>;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#ab77166676db187090f74095fa9aa74d1">  228</a></span>&#160;    std::vector&lt;FreeList::Block&gt; <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#ab77166676db187090f74095fa9aa74d1">unfinalized_free_list</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a47b242f9c05b9dbcf92f1531eebc2a06">  229</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6b92ce5de2774f004f3f452ad7e2cbf7">  230</a></span>&#160;    <span class="keywordtype">size_t</span> largest_new_free_list_entry = 0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  };</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">  233</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html">ThreadSafeStack&lt;BasePage*&gt;</a> <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">unswept_pages</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">  234</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html">ThreadSafeStack&lt;SweptPageState&gt;</a> <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">swept_unfinalized_pages</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;};</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">  237</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a> = std::vector&lt;SweepingState&gt;;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a22b37a25aad865adff0b7a5f4764abf6">  239</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a22b37a25aad865adff0b7a5f4764abf6">StickyUnmark</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header, <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48">StickyBits</a> sticky_bits) {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#if defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// Young generation in Oilpan uses sticky mark bits.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> (sticky_bits == <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48a7b04d8795f5fd03c761ce70dab985fee">StickyBits::kDisabled</a>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac7acf1215fa12fc80bc92abc5c30772e">Unmark</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac7acf1215fa12fc80bc92abc5c30772e">Unmark</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(CPPGC_YOUNG_GENERATION)</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html">  249</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html">InlinedFinalizationBuilderBase</a> {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html">  251</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html">ResultType</a> {</div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html#af2d35c35c4e5cfe267da6122b7583aca">  252</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html#a32c94bdb094f8bab1e9e977573612a9b">  253</a></span>&#160;    <span class="keywordtype">size_t</span> largest_new_free_list_entry = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  };</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html#a72baf16247cdb2f96fe3f84a5af6197e">  257</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html">ResultType</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html#a72baf16247cdb2f96fe3f84a5af6197e">result_</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;};</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">// Builder that finalizes objects and adds freelist entries right away.</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FreeHandler&gt;</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html">  262</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html">InlinedFinalizationBuilder</a> final : <span class="keyword">public</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html">InlinedFinalizationBuilderBase</a>,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                         <span class="keyword">public</span> <a class="code" href="classFreeHandler.html">FreeHandler</a> {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#ad2da6e2a57f038e532632c1008cb70c2">  265</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#ad2da6e2a57f038e532632c1008cb70c2">InlinedFinalizationBuilder</a>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>&amp; page, <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; page_allocator)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      : <a class="code" href="classFreeHandler.html">FreeHandler</a>(page_allocator,</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    <a class="code" href="classcppgc_1_1internal_1_1NormalPageSpace.html">NormalPageSpace</a>::From(page.<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>()).free_list(), page) {}</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a1a643dd8b2dbb220dfa8fdbb7a49d963">  269</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a1a643dd8b2dbb220dfa8fdbb7a49d963">AddFinalizer</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a3201b70a7116dcdf03784dd4a8e18df4">Finalize</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="namespacecppgc_1_1internal.html#a5fe9a99b7857f70d05c7cd44847195dd">SetMemoryInaccessible</a>(header, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a430cde678344ef8da581cec58636c12e">  274</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a430cde678344ef8da581cec58636c12e">AddFreeListEntry</a>(<a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a> start, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">FreeHandler::Free</a>({start, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>});</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    result_.largest_new_free_list_entry =</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        std::max(result_.largest_new_free_list_entry, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a0561072cff2f0ddee8f3a315ded6d3aa">  280</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html">ResultType</a>&amp;&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a0561072cff2f0ddee8f3a315ded6d3aa">GetResult</a>(<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    result_.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html#af2d35c35c4e5cfe267da6122b7583aca">is_empty</a> = <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> std::move(result_);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;};</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">// Builder that produces results for deferred processing.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FreeHandler&gt;</div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html">  288</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html">DeferredFinalizationBuilder</a> final : <span class="keyword">public</span> <a class="code" href="classFreeHandler.html">FreeHandler</a> {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a6be2be382e6a92e611e904cd070815e3">  290</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">ResultType</a> = <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">SweepingState::SweptPageState</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a79f4eebe4de886e8794499d3bd1d3806">  292</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a79f4eebe4de886e8794499d3bd1d3806">DeferredFinalizationBuilder</a>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>&amp; page, <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; page_allocator)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      : <a class="code" href="classFreeHandler.html">FreeHandler</a>(page_allocator, result_.cached_free_list, page) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    result_.page = &amp;page;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a2f9282b24baf99d5853d869d10108e5a">  297</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a2f9282b24baf99d5853d869d10108e5a">AddFinalizer</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a033434a51166234d9f56f69fe0d53656">IsFinalizable</a>()) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#if defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <span class="keywordflow">if</span> (!current_unfinalized_) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(result_.unfinalized_objects_head);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        current_unfinalized_ = header;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        result_.unfinalized_objects_head = header;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        current_unfinalized_-&gt;SetNextUnfinalized(header);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        current_unfinalized_ = header;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      result_.unfinalized_objects.push_back({header});</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      found_finalizer_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="namespacecppgc_1_1internal.html#a5fe9a99b7857f70d05c7cd44847195dd">SetMemoryInaccessible</a>(header, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#ae2b2cd5c2eba85087786765ee949d36f">  317</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#ae2b2cd5c2eba85087786765ee949d36f">AddFreeListEntry</a>(<a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a> start, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (found_finalizer_) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      result_.unfinalized_free_list.push_back({start, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>});</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">FreeHandler::Free</a>({start, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>});</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    result_.largest_new_free_list_entry =</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        std::max(result_.largest_new_free_list_entry, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    found_finalizer_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#aad9f5a1251154c242572c99c12d6a274">  328</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">ResultType</a>&amp;&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#aad9f5a1251154c242572c99c12d6a274">GetResult</a>(<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    result_.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a47b242f9c05b9dbcf92f1531eebc2a06">is_empty</a> = <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> std::move(result_);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#acb9c86779b4ef2cd7df00be5aa1e7076">  334</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">ResultType</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#acb9c86779b4ef2cd7df00be5aa1e7076">result_</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a334eb1de6e41d45b2079ecfe32216953">  335</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* current_unfinalized_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#ae21ae9a8eb423a2f756d5b6bf645230c">  336</a></span>&#160;  <span class="keywordtype">bool</span> found_finalizer_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;};</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> FinalizationBuilder&gt;</div>
<div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a69165cc6ef5679307d87357c1f4b8ef2">  340</a></span>&#160;<span class="keyword">typename</span> FinalizationBuilder::ResultType <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a69165cc6ef5679307d87357c1f4b8ef2">SweepNormalPage</a>(</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1NormalPage.html">NormalPage</a>* page, <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; page_allocator, <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48">StickyBits</a> sticky_bits) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  constexpr <span class="keyword">auto</span> kAtomicAccess = <a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  FinalizationBuilder builder(*page, page_allocator);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1PlatformAwareObjectStartBitmap.html">PlatformAwareObjectStartBitmap</a>&amp; bitmap = page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a8cdafcfb1ef74227080a91b90fe57c19">object_start_bitmap</a>();</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordtype">size_t</span> live_bytes = 0;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a> start_of_gap = page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a0ae6281c0558277709f28c06ce9f92e5">PayloadStart</a>();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> clear_bit_if_coalesced_entry = [&amp;bitmap,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                             &amp;start_of_gap](<a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a> address) {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (address != start_of_gap) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="comment">// Clear only if not the first freed entry.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      bitmap.<a class="code" href="classcppgc_1_1internal_1_1PlatformAwareObjectStartBitmap.html#a87d2154eec93fc855f49fa78d9c04f1b">ClearBit</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(address);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="comment">// Otherwise check that the bit is set.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(bitmap.<a class="code" href="classcppgc_1_1internal_1_1ObjectStartBitmap.html#a58fb434ce9c81d5ceebe614644cce00c">CheckBit</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(address));</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  };</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a> = page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a0ae6281c0558277709f28c06ce9f92e5">PayloadStart</a>(), <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a4a4ca27c20c5debea83dc45660cd9768">PayloadEnd</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;       <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a> != <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>;) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(bitmap.<a class="code" href="classcppgc_1_1internal_1_1ObjectStartBitmap.html#a58fb434ce9c81d5ceebe614644cce00c">CheckBit</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a38bd7c0ef4a16d993c2c95be6843415b">AllocatedSize</a>();</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// Check if this is a free list entry.</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac1ca63d90cf4d83f013faae430d6617b">IsFree</a>&lt;kAtomicAccess&gt;()) {</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      <a class="code" href="namespacecppgc_1_1internal.html#a5fe9a99b7857f70d05c7cd44847195dd">SetMemoryInaccessible</a>(header, std::min(<a class="code" href="namespacecppgc_1_1internal.html#af3fbdeb5aad0feb706e47f2cdda9ae30">kFreeListEntrySize</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="comment">// This prevents memory from being discarded in configurations where</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="comment">// `CheckMemoryIsInaccessibleIsNoop()` is false.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      <a class="code" href="namespacecppgc_1_1internal.html#a4437c183379f9d426f1120b17dc2e1c3">CheckMemoryIsInaccessible</a>(header, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      clear_bit_if_coalesced_entry(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a> += <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Check if object is not marked (not reachable).</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (!header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>&lt;kAtomicAccess&gt;()) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      builder.AddFinalizer(header, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      clear_bit_if_coalesced_entry(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a> += <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// The object is alive.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a> header_address = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">Address</a><span class="keyword">&gt;</span>(header);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (start_of_gap != header_address) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">size_t</span> new_free_list_entry_size =</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(header_address - start_of_gap);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      builder.AddFreeListEntry(start_of_gap, new_free_list_entry_size);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(bitmap.<a class="code" href="classcppgc_1_1internal_1_1ObjectStartBitmap.html#a58fb434ce9c81d5ceebe614644cce00c">CheckBit</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(start_of_gap));</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a22b37a25aad865adff0b7a5f4764abf6">StickyUnmark</a>(header, sticky_bits);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a> += <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    start_of_gap = <a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">begin</a>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    live_bytes += <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a> = live_bytes == 0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>, page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#a7347680f8fbd6f33fdeb352f08b079e2">marked_bytes</a>() == 0);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>, start_of_gap == page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a0ae6281c0558277709f28c06ce9f92e5">PayloadStart</a>());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// Empty pages are not added to the free list directly here. The free list is</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// either added later on or the page is destroyed.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a> &amp;&amp; start_of_gap != page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a4a4ca27c20c5debea83dc45660cd9768">PayloadEnd</a>()) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    builder.AddFreeListEntry(</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        start_of_gap, <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a4a4ca27c20c5debea83dc45660cd9768">PayloadEnd</a>() - start_of_gap));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(bitmap.<a class="code" href="classcppgc_1_1internal_1_1ObjectStartBitmap.html#a58fb434ce9c81d5ceebe614644cce00c">CheckBit</a>&lt;<a class="code" href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">AccessMode::kAtomic</a>&gt;(start_of_gap));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  page-&gt;<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a6451db743f0190038972d0467c053550">SetAllocatedBytesAtLastGC</a>(live_bytes);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#af96bf6afb4cf702bb40bb12f1e88a7da">ResetMarkedBytes</a>(sticky_bits == <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48a7b04d8795f5fd03c761ce70dab985fee">StickyBits::kDisabled</a> ? 0 : live_bytes);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> builder.GetResult(<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">is_empty</a>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">  414</a></span>&#160;constexpr <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">kSweepWithoutSpaceAssignment</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">  416</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">EmptyPageHandling</a> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054a76f7356e83459d55498b063860859d92">kDestroy</a>,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054ad7ec42086e89c1b1ffe3a16edfc12ef3">kReturn</a>,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;};</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160; </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">// SweepFinalizer is responsible for heap/space/page finalization. Finalization</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">// is defined as a step following concurrent sweeping which:</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">// - calls finalizers;</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">// - returns (unmaps) empty pages;</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">// - merges freelists to the space&#39;s freelist.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html">  426</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html">SweepFinalizer</a> final {</div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a2780756c5e6a172ec30c71c035bf0c7f">  427</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> = <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a0f9c2b8f2a5c8bbdb69011b1546ea221">SweepingConfig::FreeMemoryHandling</a>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a85e1c7aca07b4e613230c18985908e82">  430</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a85e1c7aca07b4e613230c18985908e82">SweepFinalizer</a>(<a class="code" href="classcppgc_1_1Platform.html">cppgc::Platform</a>* platform, <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html">StatsCollector</a>* stats_collector,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                 <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <span class="keywordtype">size_t</span>* unused_destroyed_normal_pages,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                 <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> free_memory_handling,</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                 <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">EmptyPageHandling</a> empty_page_handling_type)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      : platform_(platform),</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        stats_collector_(stats_collector),</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        space_(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>),</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        unused_destroyed_normal_pages_(unused_destroyed_normal_pages),</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        free_memory_handling_(free_memory_handling),</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        empty_page_handling_(empty_page_handling_type) {}</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// Finalizes all space states, irrespective of deadlines and sizes.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa172a2cb6ea306fee151b9d233e0a8b6">  442</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa172a2cb6ea306fee151b9d233e0a8b6">Finalize</a>(<a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>&amp; states) {</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state : states) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      Finalize(state);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9f6527945521c2dd92e1fd0d2cc5cfb6">  448</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9f6527945521c2dd92e1fd0d2cc5cfb6">Finalize</a>(<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page_state = state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">swept_unfinalized_pages</a>.Pop()) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02heap-statistics-collector_8cc_03.html#afb2c0713873c873606531e6916298901">FinalizePage</a>(&amp;*page_state);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// Finalizes a given SweepingState with a deadline and size. Only returns</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">// true if a single memory block of at least `size` bytes was returned to the</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="comment">// free list and false otherwise.</span></div>
<div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa70556d8a3f7c48c7dbeeb8475912a11">  457</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa70556d8a3f7c48c7dbeeb8475912a11">FinalizeWithDeadlineAndSize</a>(<a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> scope_id,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                                   <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                                   <a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> deadline, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span> (state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">swept_unfinalized_pages</a>.IsEmpty()) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::DisabledScope</a> finalize_scope(stats_collector_, scope_id);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">DeadlineChecker</a> deadline_check(deadline);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page_state = state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">swept_unfinalized_pages</a>.Pop()) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02heap-statistics-collector_8cc_03.html#afb2c0713873c873606531e6916298901">FinalizePage</a>(&amp;*page_state);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &lt;= largest_consecutive_block_) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">if</span> (deadline_check.<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">Check</a>()) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// Finalizes a given SweepingState with a deadline. Returns false if the</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// deadline exceeded and true if all pages are finalized.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9b367a75fbdfbd46760e2ba0a05f24bd">  479</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9b367a75fbdfbd46760e2ba0a05f24bd">FinalizeWithDeadline</a>(<a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> scope_id,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                            <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                            <a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> deadline) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">if</span> (state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">swept_unfinalized_pages</a>.IsEmpty()) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::DisabledScope</a> finalize_scope(stats_collector_, scope_id);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">DeadlineChecker</a> deadline_check(deadline);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page_state = state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">swept_unfinalized_pages</a>.Pop()) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02heap-statistics-collector_8cc_03.html#afb2c0713873c873606531e6916298901">FinalizePage</a>(&amp;*page_state);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordflow">if</span> (deadline_check.<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">Check</a>()) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ac7b521ee918336d17d1f31fabdfce1cc">  497</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ac7b521ee918336d17d1f31fabdfce1cc">FinalizePage</a>(<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">SweepingState::SweptPageState</a>* page_state) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(page_state);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6010b53584c9cedced12decd19dbb3e9">page</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* page = page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6010b53584c9cedced12decd19dbb3e9">page</a>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// Call finalizers.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> finalize_header = [](<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = header-&gt;AllocatedSize();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      header-&gt;Finalize();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <a class="code" href="namespacecppgc_1_1internal.html#a5fe9a99b7857f70d05c7cd44847195dd">SetMemoryInaccessible</a>(header, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    };</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="preprocessor">#if defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="preprocessor">#if defined(CPPGC_POINTER_COMPRESSION)</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keyword">const</span> uint64_t cage_base = <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">CageBaseGlobal::Get</a>();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">const</span> uint64_t cage_base = CagedHeapBase::GetBase();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* next_unfinalized = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>* unfinalized_header = page_state-&gt;unfinalized_objects_head;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;         unfinalized_header; unfinalized_header = next_unfinalized) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      next_unfinalized = unfinalized_header-&gt;GetNextUnfinalized(cage_base);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      finalize_header(unfinalized_header);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* unfinalized_header :</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;         page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#aabe86d70b25d3e29b8773298e304c5b8">unfinalized_objects</a>) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      finalize_header(unfinalized_header);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">// Unmap page if empty.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a47b242f9c05b9dbcf92f1531eebc2a06">is_empty</a>) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#ab65af9f888c5bde1db2af60c49644e62">is_large</a>(),</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                     empty_page_handling_ == EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="keywordflow">if</span> (empty_page_handling_ == EmptyPageHandling::kDestroy) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">if</span> (!page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#ab65af9f888c5bde1db2af60c49644e62">is_large</a>()) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          (*unused_destroyed_normal_pages_)++;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          <span class="comment">// Normal pages are added to the page pool when destroyed and thus</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          <span class="comment">// cannot be used for a large page allocation.</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          largest_consecutive_block_ = std::max(</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;              <a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a7a697254df2533750e5727ff4a885d11">LargePage::From</a>(page)-&gt;PayloadSize(), largest_consecutive_block_);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1BasePage.html#acda4e3db0ed7d3f684fe99c00c0ee877">BasePage::Destroy</a>(page);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="comment">// Otherwise, we currently sweep on allocation. Reinitialize the empty</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="comment">// page and return it right away.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keyword">auto</span>* normal_page = <a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a7f0a797270bdb5dc9f7c05be073481b5">NormalPage::From</a>(page);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="comment">// If a space has been assigned to the finalizer, then repurpose empty</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="comment">// pages for that space. Otherwise just retain the current space for an</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="comment">// empty page.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">if</span> (space_) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        normal_page-&gt;ChangeOwner(*space_);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a263425678dd6af878d42f3959e330c70">cached_free_list</a>.<a class="code" href="classcppgc_1_1internal_1_1FreeList.html#aae10706d4f39e53db1a9bc1c3cd43bd3">Clear</a>();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a263425678dd6af878d42f3959e330c70">cached_free_list</a>.<a class="code" href="classcppgc_1_1internal_1_1FreeList.html#a5ae5a4fc26e24838445a3c0839ab4de4">Add</a>(</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;          {normal_page-&gt;PayloadStart(), normal_page-&gt;PayloadSize()});</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#ab77166676db187090f74095fa9aa74d1">unfinalized_free_list</a>.clear();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6b92ce5de2774f004f3f452ad7e2cbf7">largest_new_free_list_entry</a> = normal_page-&gt;PayloadSize();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// We either swept a non-empty page for which the space should already match</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// or we swept an empty page for which the owner was changed.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(space_, space_ == &amp;page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">space</a>());</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#ab65af9f888c5bde1db2af60c49644e62">is_large</a>());</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">// Merge freelists without finalizers.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1FreeList.html">FreeList</a>&amp; space_freelist = <a class="code" href="classcppgc_1_1internal_1_1NormalPageSpace.html#af4bf4fa0c08ebb0d45ff99a047cdd921">NormalPageSpace::From</a>(page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">space</a>()).<a class="code" href="classcppgc_1_1internal_1_1NormalPageSpace.html#a9eb4fcccdcb2472f561c755b4cd78e59">free_list</a>();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    space_freelist.<a class="code" href="classcppgc_1_1internal_1_1FreeList.html#af7ad1a5474a39453c3f69377ca8ed6d1">Append</a>(std::move(page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a263425678dd6af878d42f3959e330c70">cached_free_list</a>));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">// Merge freelist with finalizers.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (!page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#ab77166676db187090f74095fa9aa74d1">unfinalized_free_list</a>.empty()) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      std::unique_ptr&lt;FreeHandlerBase&gt; handler =</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;          free_memory_handling_ == <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;              ? std::unique_ptr&lt;FreeHandlerBase&gt;(<span class="keyword">new</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html">DiscardingFreeHandler</a>(</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    *platform_-&gt;GetPageAllocator(), space_freelist, *page))</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;              : std::unique_ptr&lt;FreeHandlerBase&gt;(<span class="keyword">new</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html">RegularFreeHandler</a>(</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    *platform_-&gt;GetPageAllocator(), space_freelist, *page));</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      handler-&gt;FreeFreeList(page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#ab77166676db187090f74095fa9aa74d1">unfinalized_free_list</a>);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    largest_consecutive_block_ = std::max(</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        page_state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6b92ce5de2774f004f3f452ad7e2cbf7">largest_new_free_list_entry</a>, largest_consecutive_block_);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// After the page was fully finalized and freelists have been merged, verify</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// that the bitmap is consistent.</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html">ObjectStartBitmapVerifier</a>().<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#ad70a09b211d62003f771013c9ffad4cd">Verify</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="classcppgc_1_1internal_1_1NormalPage.html">NormalPage</a>&amp;<span class="keyword">&gt;</span>(*page));</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// Add the page to the space.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    page-&gt;<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">space</a>().<a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html#a5ac2d02f943d33c2f6cc470a0ce3df67">AddPage</a>(page);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ad167c659846493dca7875b7cbd13d39d">  594</a></span>&#160;  <a class="code" href="classcppgc_1_1Platform.html">cppgc::Platform</a>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ad167c659846493dca7875b7cbd13d39d">platform_</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ab19b24952b7cf1936571c452c6a498ea">  595</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html">StatsCollector</a>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ab19b24952b7cf1936571c452c6a498ea">stats_collector_</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aba099827306f531b33a67df8050b1143">  596</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aba099827306f531b33a67df8050b1143">space_</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a4ccc9fa04fbab7104791f98f52024c57">  597</a></span>&#160;  <span class="keywordtype">size_t</span>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a4ccc9fa04fbab7104791f98f52024c57">unused_destroyed_normal_pages_</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">// Largest consecutive block of memory. This is the largest free list entry</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// for normal pages and the largest page size for large objects.</span></div>
<div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a7620307fe196b0151f200cea9d1046c6">  600</a></span>&#160;  <span class="keywordtype">size_t</span> largest_consecutive_block_ = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a7d472c9a3fa5f4f1f5db8492b9ae033b">  601</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a7d472c9a3fa5f4f1f5db8492b9ae033b">free_memory_handling_</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa58379f9accb4cac078903b411ad8146">  602</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">EmptyPageHandling</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa58379f9accb4cac078903b411ad8146">empty_page_handling_</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;};</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html">  605</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html">MutatorThreadSweeper</a> final : <span class="keyword">private</span> <a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;MutatorThreadSweeper&gt; {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html">MutatorThreadSweeper</a>&gt;;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160; </div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#acee49277dd8ab003bbe6e95c8b228bb0">  608</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> = <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a0f9c2b8f2a5c8bbdb69011b1546ea221">SweepingConfig::FreeMemoryHandling</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160; </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00611"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#abad8268cccced126f2293f0dd936c04f">  611</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#abad8268cccced126f2293f0dd936c04f">MutatorThreadSweeper</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classcppgc_1_1Platform.html">cppgc::Platform</a>* platform,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                       <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html">StatsCollector</a>* stats_collector, <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>,</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                       <span class="keywordtype">size_t</span>* unused_destroyed_normal_pages,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                       <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> free_memory_handling,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                       <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">EmptyPageHandling</a> empty_page_handling)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      : platform_(platform),</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        stats_collector_(stats_collector),</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        space_(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>),</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        unused_destroyed_normal_pages_(unused_destroyed_normal_pages),</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        free_memory_handling_(free_memory_handling),</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        empty_page_handling_(empty_page_handling),</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        sticky_bits_(<a class="code" href="namespaceheap.html">heap</a>-&gt;sticky_bits()) {}</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a021c72fe0b75700f23d791f2a4400511">  624</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a021c72fe0b75700f23d791f2a4400511">SweepLiveLargePage</a>(<a class="code" href="classcppgc_1_1internal_1_1LargePage.html">LargePage</a>&amp; page, <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48">StickyBits</a> sticky_bits) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header = page.<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">ObjectHeader</a>();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>());</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a22b37a25aad865adff0b7a5f4764abf6">StickyUnmark</a>(header, sticky_bits);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">if</span> (sticky_bits == <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48a7b04d8795f5fd03c761ce70dab985fee">StickyBits::kDisabled</a>) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#af96bf6afb4cf702bb40bb12f1e88a7da">ResetMarkedBytes</a>();</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">space</a>().<a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html#a5ac2d02f943d33c2f6cc470a0ce3df67">AddPage</a>(&amp;page);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00634"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a00e544f956795d78918f6911a8f24875">  634</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a00e544f956795d78918f6911a8f24875">Sweep</a>(<a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>&amp; states) {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state : states) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      Sweep(state);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#accc6fc804ae8ef18c2216600d8a8ba9b">  640</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#accc6fc804ae8ef18c2216600d8a8ba9b">Sweep</a>(<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page = state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">unswept_pages</a>.Pop()) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      SweepPage(**page);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#af4c5cff6245f5ff8eaf23ea311dd4e95">  646</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#af4c5cff6245f5ff8eaf23ea311dd4e95">SweepPage</a>(<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>&amp; page) { Traverse(page); }</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">// Returns true if out of work. This implies that sweeping is done only if</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// `sweeping_mode` is kAll.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ac554a5605391e24cf1ad1d98b04b9a6c">  650</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ac554a5605391e24cf1ad1d98b04b9a6c">FinalizeAndSweepWithDeadline</a>(<a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> scope_id,</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                                    <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state,</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                    <a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> deadline,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                    <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cd">MutatorThreadSweepingMode</a> sweeping_mode) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// First, prioritize finalization of pages that were swept concurrently.</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html">SweepFinalizer</a> finalizer(</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        platform_, stats_collector_, space_, unused_destroyed_normal_pages_,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        free_memory_handling_, EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">if</span> (!finalizer.<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9b367a75fbdfbd46760e2ba0a05f24bd">FinalizeWithDeadline</a>(scope_id, state, deadline)) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (sweeping_mode != MutatorThreadSweepingMode::kOnlyFinalizers) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <span class="comment">// Help out the concurrent sweeper.</span></div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="keywordflow">if</span> (!SweepSpaceWithDeadline(&amp;state, deadline)) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a15f0b122937a95286c70dfc353dc0aaf">  671</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a15f0b122937a95286c70dfc353dc0aaf">SweepWithDeadlineAndSize</a>(<a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> scope_id,</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state,</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                                <a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> deadline, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span> (state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">unswept_pages</a>.IsEmpty()) {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::DisabledScope</a> sweep_scope(stats_collector_, scope_id);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">DeadlineChecker</a> deadline_check(deadline);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page = state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">unswept_pages</a>.Pop()) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      SweepPage(**page);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &lt;= largest_consecutive_block_) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">if</span> (deadline_check.<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">Check</a>()) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00692"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ad65793290475db95222f72fe6408653e">  692</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ad65793290475db95222f72fe6408653e">SweepSpaceWithDeadline</a>(<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* state,</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                              <a class="code" href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a> deadline) {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">DeadlineChecker</a> deadline_check(deadline);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page = state-&gt;<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">unswept_pages</a>.Pop()) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      Traverse(**page);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">if</span> (deadline_check.<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">Check</a>()) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160; </div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a1b1e2f305e2d396842e4521ee49a2481">  705</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a1b1e2f305e2d396842e4521ee49a2481">VisitNormalPage</a>(<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html">NormalPage</a>&amp; page) {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">if</span> (free_memory_handling_ == <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a>) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#ab1f6fb2fc65a603faff3b67d00b5052d">ResetDiscardedMemory</a>();</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        free_memory_handling_ == <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            ? <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a69165cc6ef5679307d87357c1f4b8ef2">SweepNormalPage</a>&lt;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;                  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html">InlinedFinalizationBuilder&lt;DiscardingFreeHandler&gt;</a>&gt;(</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                  &amp;page, *platform_-&gt;GetPageAllocator(), sticky_bits_)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            : <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a69165cc6ef5679307d87357c1f4b8ef2">SweepNormalPage</a>&lt;<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html">InlinedFinalizationBuilder&lt;RegularFreeHandler&gt;</a>&gt;(</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                  &amp;page, *platform_-&gt;GetPageAllocator(), sticky_bits_);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_empty &amp;&amp;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        empty_page_handling_ == EmptyPageHandling::kDestroy) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a18158e1a974dd56d383f1af419da0557">NormalPage::Destroy</a>(&amp;page);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      (*unused_destroyed_normal_pages_)++;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <span class="keywordflow">if</span> (space_) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_empty, space_ == &amp;page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">space</a>());</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#adbc0c4cc1ffb2b3c4c238548298536c9">ChangeOwner</a>(*space_);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keyword">auto</span>&amp; target_space = <a class="code" href="classcppgc_1_1internal_1_1NormalPageSpace.html#af4bf4fa0c08ebb0d45ff99a047cdd921">NormalPageSpace::From</a>(page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">space</a>());</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      target_space.AddPage(&amp;page);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_empty) {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        target_space.free_list().Add({page.<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a0ae6281c0558277709f28c06ce9f92e5">PayloadStart</a>(), page.<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a46bb8f87085df2e951e0ae2c7260e5f2">PayloadSize</a>()});</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// The page was eagerly finalized and all the freelist have been merged.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="comment">// Verify that the bitmap is consistent with headers.</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html">ObjectStartBitmapVerifier</a>().<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#ad70a09b211d62003f771013c9ffad4cd">Verify</a>(page);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      largest_consecutive_block_ =</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          std::max(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.is_empty ? page.<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html#a46bb8f87085df2e951e0ae2c7260e5f2">PayloadSize</a>()</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                   : <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.largest_new_free_list_entry,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                   largest_consecutive_block_);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ad1e4d573b1a8ce67630fa9a2c208a8b9">  741</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ad1e4d573b1a8ce67630fa9a2c208a8b9">VisitLargePage</a>(<a class="code" href="classcppgc_1_1internal_1_1LargePage.html">LargePage</a>&amp; page) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header = page.<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">ObjectHeader</a>();</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>());</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#a7347680f8fbd6f33fdeb352f08b079e2">marked_bytes</a>(), 0u);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a3201b70a7116dcdf03784dd4a8e18df4">Finalize</a>();</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    largest_consecutive_block_ =</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        std::max(page.<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#ab0b45c6e340b0dc8e947ab86cfc5bef1">PayloadSize</a>(), largest_consecutive_block_);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1LargePage.html#ad49f5a10d39b80596bdaefd14a3f0415">LargePage::Destroy</a>(&amp;page);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#aa6dcad3c6dc8a1d0fbd632599c6281d4">  752</a></span>&#160;  <a class="code" href="classcppgc_1_1Platform.html">cppgc::Platform</a>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#aa6dcad3c6dc8a1d0fbd632599c6281d4">platform_</a>;</div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a85e715b29f680300b6ddd567fdf6032a">  753</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html">StatsCollector</a>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a85e715b29f680300b6ddd567fdf6032a">stats_collector_</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">// Largest consecutive block of memory. This is the largest free list entry</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// for normal pages and the largest page size for large objects.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ae11d5f6268a11a34add921ea838437d7">  756</a></span>&#160;  <span class="keywordtype">size_t</span> largest_consecutive_block_ = 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a142182a93177043d0a5b85a9584b81a4">  757</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a142182a93177043d0a5b85a9584b81a4">space_</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a98c6f849f60f847ea8ab2a6e36201f35">  758</a></span>&#160;  <span class="keywordtype">size_t</span>* <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a98c6f849f60f847ea8ab2a6e36201f35">unused_destroyed_normal_pages_</a>;</div>
<div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ac8ab932de16f14bab1acd3307ca3e424">  759</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ac8ab932de16f14bab1acd3307ca3e424">free_memory_handling_</a>;</div>
<div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a3f0b30bc3bb2f8823ceed1e7d456396d">  760</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">EmptyPageHandling</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a3f0b30bc3bb2f8823ceed1e7d456396d">empty_page_handling_</a>;</div>
<div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a77273011a3a595351e19bd91cb452afa">  761</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48">StickyBits</a> sticky_bits_;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;};</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html">  764</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html">ConcurrentSweepTask</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1JobTask.html">cppgc::JobTask</a>,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                                  <span class="keyword">private</span> <a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;ConcurrentSweepTask&gt; {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html">ConcurrentSweepTask</a>&gt;;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a9d8c9a494c92fbb1c21d1d5c11c8f051">  768</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> = <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a0f9c2b8f2a5c8bbdb69011b1546ea221">SweepingConfig::FreeMemoryHandling</a>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ae672fe5babe2ecd1d2d9606098a35fee">  771</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ae672fe5babe2ecd1d2d9606098a35fee">ConcurrentSweepTask</a>(<a class="code" href="classcppgc_1_1Platform.html">Platform</a>* platform, <a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>,</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                      <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>* space_states,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                      <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* empty_normal_pages,</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                      <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* empty_large_pages,</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                      <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> free_memory_handling)</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      : heap_(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        page_allocator_(*platform-&gt;GetPageAllocator()),</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        space_states_(space_states),</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        empty_normal_pages_(empty_normal_pages),</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        empty_large_pages_(empty_large_pages),</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        free_memory_handling_(free_memory_handling),</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        sticky_bits_(<a class="code" href="namespaceheap.html">heap</a>.sticky_bits()) {}</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160; </div>
<div class="line"><a name="l00784"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#afb97e653bc227278f23529a3de7fe6b8">  784</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#afb97e653bc227278f23529a3de7fe6b8">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">cppgc::JobDelegate</a>* delegate) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledConcurrentScope</a> stats_scope(</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        heap_.stats_collector(), StatsCollector::kConcurrentSweep);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// Sweep empty normal pages first. These pages can be reused across all</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// regular spaces.</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (!SweepStateOrYield(delegate, *empty_normal_pages_)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state : *space_states_) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">if</span> (!SweepStateOrYield(delegate, state)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">// Sweep empty large pages last. They generally cannot be reused.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// TODO(mlippautz): We could split them into pages that can be split up for</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// normal pages.</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (!SweepStateOrYield(delegate, *empty_large_pages_)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    is_completed_.store(<span class="keyword">true</span>, std::memory_order_relaxed);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a92cf56ccfa6ec5b953218ec406deaf53">  802</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a92cf56ccfa6ec5b953218ec406deaf53">GetMaxConcurrency</a>(<span class="keywordtype">size_t</span> <span class="comment">/* active_worker_count */</span>) <span class="keyword">const</span> <span class="keyword">final</span> {</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">return</span> is_completed_.load(std::memory_order_relaxed) ? 0 : 1;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// Returns true if sweeping completed, or false if it yielded.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a09dc9a78f3bbbb233a798f601eb684bf">  808</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a09dc9a78f3bbbb233a798f601eb684bf">SweepStateOrYield</a>(<a class="code" href="classv8_1_1JobDelegate.html">cppgc::JobDelegate</a>* delegate, <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>&amp; state) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    current_sweeping_state_ = &amp;state;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">auto</span> page = state.<a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">unswept_pages</a>.Pop()) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      Traverse(**page);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">if</span> (delegate-&gt;<a class="code" href="classv8_1_1JobDelegate.html#a7180a73d20fc8a240c742163001d8b3a">ShouldYield</a>()) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    current_sweeping_state_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a3dc3cc25af4981e0d3cc425a285ed8b3">  820</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a3dc3cc25af4981e0d3cc425a285ed8b3">VisitNormalPage</a>(<a class="code" href="classcppgc_1_1internal_1_1NormalPage.html">NormalPage</a>&amp; page) {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (free_memory_handling_ == <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a>) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#ab1f6fb2fc65a603faff3b67d00b5052d">ResetDiscardedMemory</a>();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">SweepingState::SweptPageState</a> sweep_result =</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        (free_memory_handling_ == <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a>)</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            ? <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a69165cc6ef5679307d87357c1f4b8ef2">SweepNormalPage</a>&lt;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html">DeferredFinalizationBuilder&lt;DiscardingFreeHandler&gt;</a>&gt;(</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                  &amp;page, page_allocator_, sticky_bits_)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            : SweepNormalPage&lt;DeferredFinalizationBuilder&lt;RegularFreeHandler&gt;&gt;(</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                  &amp;page, page_allocator_, sticky_bits_);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    current_sweeping_state_-&gt;swept_unfinalized_pages.Push(</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        std::move(sweep_result));</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a9cd3ba008f03338a44de69b43d04e66d">  836</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a9cd3ba008f03338a44de69b43d04e66d">VisitLargePage</a>(<a class="code" href="classcppgc_1_1internal_1_1LargePage.html">LargePage</a>&amp; page) {</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* header = page.<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">ObjectHeader</a>();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">IsMarked</a>());</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(page.<a class="code" href="classcppgc_1_1internal_1_1BasePage.html#a7347680f8fbd6f33fdeb352f08b079e2">marked_bytes</a>(), 0u);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="preprocessor">#if defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html">HeapObjectHeader</a>* <span class="keyword">const</span> unfinalized_objects =</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a033434a51166234d9f56f69fe0d53656">IsFinalizable</a>() ? page.<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">ObjectHeader</a>() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="preprocessor">#else   </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    std::vector&lt;HeapObjectHeader*&gt; unfinalized_objects;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (header-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a033434a51166234d9f56f69fe0d53656">IsFinalizable</a>()) {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      unfinalized_objects.push_back(page.<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">ObjectHeader</a>());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    }</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !defined(CPPGC_CAGED_HEAP)</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// Avoid directly destroying large pages here as counter updates and</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// backend access in BasePage::Destroy() are not concurrency safe.</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    current_sweeping_state_-&gt;swept_unfinalized_pages.Push(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        {&amp;page, std::move(unfinalized_objects), {}, {}, <span class="keyword">true</span>});</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab59598c3b3f71d60fcf1b71bfd89c903">  856</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab59598c3b3f71d60fcf1b71bfd89c903">heap_</a>;</div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#aca61e5d8ea9a8160b74028450d0971b5">  857</a></span>&#160;  <a class="code" href="classv8_1_1PageAllocator.html">PageAllocator</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#aca61e5d8ea9a8160b74028450d0971b5">page_allocator_</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab9cea87f61a1efb829d392f91c762f3d">  858</a></span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab9cea87f61a1efb829d392f91c762f3d">space_states_</a>;</div>
<div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a8e1dda9f43bed5eaa48fa086b88397dc">  859</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a8e1dda9f43bed5eaa48fa086b88397dc">empty_normal_pages_</a>;</div>
<div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#afa30ade37d09ef00d64d3f28f4137092">  860</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#afa30ade37d09ef00d64d3f28f4137092">empty_large_pages_</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab2ea38e7d523cc0b20a416cb899c2e4c">  861</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* current_sweeping_state_ = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a1144668f34c67148ce4b1f3f9b4fa6f6">  862</a></span>&#160;  std::atomic_bool is_completed_{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a3bb01f18fa4e6e71d28e94ccb2b4cfaf">  863</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a3bb01f18fa4e6e71d28e94ccb2b4cfaf">free_memory_handling_</a>;</div>
<div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a2d9a8158ccbd21a0e3cf0c294a7100fb">  864</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48">StickyBits</a> sticky_bits_;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;};</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">// This visitor starts sweeping.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">// Normal spaces:</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">// - Clears free lists.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">// - Moves all pages to local state (SpaceStates).</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">// - ASAN: Poisons all unmarked object payloads.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">// Large spaces:</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">// - Directly sweeps live objects and returns pages to the space.</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">// - Moves dead objects to local state (SpaceStates).</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">// - ASAN: Poisons all unmarked object payloads.</span></div>
<div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html">  878</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html">PrepareForSweepVisitor</a> final</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    : <span class="keyword">protected</span> <a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;PrepareForSweepVisitor&gt; {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;<a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html">PrepareForSweepVisitor</a>&gt;;</div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a9b9b0fcc133dc8d2b27b76e950c21fa4">  881</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">CompactableSpaceHandling</a> = <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">SweepingConfig::CompactableSpaceHandling</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00884"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a39963738f1543ff9b95ea453573cc7f3">  884</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a39963738f1543ff9b95ea453573cc7f3">PrepareForSweepVisitor</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>* space_states,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                         <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* empty_normal_pages,</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                         <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* empty_large_pages,</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                         <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">CompactableSpaceHandling</a> compactable_space_handling)</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      : heap_(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        space_states_(space_states),</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        empty_normal_pages_(empty_normal_pages),</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        empty_large_pages_(empty_large_pages),</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        compactable_space_handling_(compactable_space_handling) {}</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160; </div>
<div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a8f0842e33338e268bcf3f16785bb4fc1">  894</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a8f0842e33338e268bcf3f16785bb4fc1">Run</a>(<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html">RawHeap</a>&amp; raw_heap) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    *space_states_ = <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>(raw_heap.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#aea0946fc0c4a655af1a6c08e327eee67">size</a>());</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    Traverse(raw_heap);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00900"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a58e058767db31de871ecac3430aab7da">  900</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a58e058767db31de871ecac3430aab7da">VisitNormalPageSpace</a>(<a class="code" href="classcppgc_1_1internal_1_1NormalPageSpace.html">NormalPageSpace</a>&amp; <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">if</span> ((compactable_space_handling_ == CompactableSpaceHandling::kIgnore) &amp;&amp;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>.is_compactable()) {</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>.linear_allocation_buffer().size());</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>.free_list().Clear();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    UnmarkedObjectsPoisoner().Traverse(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>);</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html#a36011a180a5b41ce16581de1e04099b2">BaseSpace::Pages</a> space_pages = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>.RemoveAllPages();</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <a class="code" href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">std::sort</a>(space_pages.begin(), space_pages.end(),</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;              [](<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* a, <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* b) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                return a-&gt;marked_bytes() &lt; b-&gt;marked_bytes();</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;              });</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keyword">auto</span> first_non_empty_page = std::find_if(</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        space_pages.begin(), space_pages.end(),</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        [](<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* page) { return page-&gt;marked_bytes() != 0; });</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    empty_normal_pages_-&gt;unswept_pages.Insert(space_pages.begin(),</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                                              first_non_empty_page);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    (*space_states_)[<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>.index()].unswept_pages.Insert(first_non_empty_page,</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                                                         space_pages.end());</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#aae5bacdbb3c550f4bfecc116dbacbf65">  928</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#aae5bacdbb3c550f4bfecc116dbacbf65">VisitLargePageSpace</a>(<a class="code" href="classcppgc_1_1internal_1_1LargePageSpace.html">LargePageSpace</a>&amp; <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    UnmarkedObjectsPoisoner().Traverse(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html#a36011a180a5b41ce16581de1e04099b2">BaseSpace::Pages</a> space_pages = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>.RemoveAllPages();</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classcppgc_1_1internal_1_1BasePage.html">BasePage</a>* page : space_pages) {</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span>* header = <a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a7a697254df2533750e5727ff4a885d11">LargePage::From</a>(page)-&gt;<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">ObjectHeader</a>();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(page-&gt;marked_bytes() == 0, !header-&gt;IsMarked());</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(page-&gt;marked_bytes() != 0, header-&gt;IsMarked());</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <span class="keywordflow">if</span> (page-&gt;marked_bytes() != 0) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        MutatorThreadSweeper::SweepLiveLargePage(*<a class="code" href="classcppgc_1_1internal_1_1LargePage.html#a7a697254df2533750e5727ff4a885d11">LargePage::From</a>(page),</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                                                 heap_-&gt;sticky_bits());</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        empty_large_pages_-&gt;unswept_pages.Push(page);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160; </div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160; </div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00952"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a9e097e2cc47cb67c7666724a0477bbf2">  952</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a9e097e2cc47cb67c7666724a0477bbf2">heap_</a>;</div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a75851852ef5d1f8d19395585fb5fac60">  953</a></span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a75851852ef5d1f8d19395585fb5fac60">space_states_</a>;</div>
<div class="line"><a name="l00954"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#aca2a46cea4b0a9c3ed2a939a71c6021a">  954</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#aca2a46cea4b0a9c3ed2a939a71c6021a">empty_normal_pages_</a>;</div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a940ad18b8736f35a376a490865b97d65">  955</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">SweepingState</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a940ad18b8736f35a376a490865b97d65">empty_large_pages_</a>;</div>
<div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a70c5c0fe422b6ff1552b378f59acbf70">  956</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">CompactableSpaceHandling</a> <a class="code" href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a70c5c0fe422b6ff1552b378f59acbf70">compactable_space_handling_</a>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;};</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">  961</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">Sweeper::SweeperImpl</a> final {</div>
<div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a80a326b35e7608a13392f0abd8b4670b">  962</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">FreeMemoryHandling</a> = <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a0f9c2b8f2a5c8bbdb69011b1546ea221">SweepingConfig::FreeMemoryHandling</a>;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160; </div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1afc5e069b12720a466257264f17638d">  965</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1afc5e069b12720a466257264f17638d">SweeperImpl</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>.raw_heap()),</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#af6c45ba49b73c5f576fb954b9e859f2f">page_pool_</a>(<a class="code" href="namespaceheap.html">heap</a>.page_backend()-&gt;page_pool()),</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>(<a class="code" href="namespaceheap.html">heap</a>.stats_collector()),</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>(<a class="code" href="namespaceheap.html">heap</a>.platform()) {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  }</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160; </div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a018c0243fee3d893ff2ec17413210984">  973</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a018c0243fee3d893ff2ec17413210984">~SweeperImpl</a>() { <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa55fddb91116a03368bd9f8ce0ccae90">CancelAllSweepingTasks</a>(); }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ae3f9191c2e152607b414966ee8385785">  975</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ae3f9191c2e152607b414966ee8385785">Start</a>(<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html">SweepingConfig</a> config) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> stats_scope(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>,</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                                             StatsCollector::kAtomicSweep);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a> = config;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>) {</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="comment">// The sweeper is already initialized when the platform may not be able to</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="comment">// return a foreground task runner. Lazily initialize the runners on first</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="comment">// sweep.</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a> =</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>-&gt;<a class="code" href="classcppgc_1_1Platform.html#a0dbe1a8407043f1cf645266b62dbf7f5">GetForegroundTaskRunner</a>(<a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a26a0a0915a2fa5c6f83fb60c01dbf1ea">kForegroundRegularPriority</a>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a> =</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>-&gt;<a class="code" href="classcppgc_1_1Platform.html#a0dbe1a8407043f1cf645266b62dbf7f5">GetForegroundTaskRunner</a>(<a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a76634b821dc068afa4920519e35d70cd">kForegroundLowPriority</a>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <span class="comment">// Having a low priority runner implies having a regular runner as well.</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a>.get(),</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>.get());</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> supports_non_nestable_tasks =</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          [](<span class="keyword">const</span> std::shared_ptr&lt;TaskRunner&gt;&amp; runner) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="keywordflow">return</span> runner &amp;&amp; runner-&gt;NonNestableTasksEnabled() &amp;&amp;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                   runner-&gt;NonNestableDelayedTasksEnabled();</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;          };</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordflow">if</span> (!supports_non_nestable_tasks(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>) ||</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          !supports_non_nestable_tasks(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a>)) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>.reset();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a>.reset();</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;      }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; </div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">// Verify bitmap for all spaces regardless of |compactable_space_handling|.</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    ObjectStartBitmapVerifier().Verify(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160; </div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">// If inaccessible memory is touched to check whether it is set up</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// correctly it cannot be discarded.</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#af78ffe1831bdbb1cfc3ecb7b92daf2e6">CanDiscardMemory</a>()) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a> = <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695a0c5be501cffcb84ef66adf66d02a59b2">FreeMemoryHandling::kDoNotDiscard</a>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a> ==</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a>) {</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="comment">// The discarded counter will be recomputed.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>()-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html#a2b71dc778a025435fa06a9129f05bb6e">stats_collector</a>()-&gt;<a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#ab27d34434c630e19d33155a73695d32c">ResetDiscardedMemory</a>();</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    }</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    PrepareForSweepVisitor(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>(), &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>,</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                           &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>,</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                           config.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#ac02e3e3d2f3d0a904bef2db87a027077">compactable_space_handling</a>)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        .Run(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160; </div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="keywordflow">if</span> (config.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a> &gt;= <a class="code" href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a4461e3132c6a68cc061f851d6b53fc15">SweepingConfig::SweepingType::kIncremental</a>) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a604dd3c64cd9e333165ad8742616b1f6">ScheduleLowPriorityIncrementalSweeping</a>();</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102">ScheduleIncrementalSweeping</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5d733d82044b1aa719f5dd61e4a0420">kDelayWhileLowPrioritySweepingMakesProgress</a>);</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="keywordflow">if</span> (config.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a> &gt;=</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <a class="code" href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a13b93ce70f628c016cca112357cc51b1">SweepingConfig::SweepingType::kIncrementalAndConcurrent</a>) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a09adc70e2be54867e4889af5717bb8cb">ScheduleConcurrentSweeping</a>();</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0af3a47710701a62e589bbacbf0ea50a"> 1033</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0af3a47710701a62e589bbacbf0ea50a">SweepForTask</a>(<a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="comment">// Before sweeping in a task, handle low priority sweeping cases. These are</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <span class="comment">// no-ops if low priority sweeping is not running.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a94eb8a5d70abff1a828d39c453f9351a">low_priority_task_ran_</a>) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;      <span class="comment">// Low priority task made progress. Reschedule with delay.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102">ScheduleIncrementalSweeping</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5d733d82044b1aa719f5dd61e4a0420">kDelayWhileLowPrioritySweepingMakesProgress</a>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// Low priority sweeping is not running or not being invoked on time.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keywordflow">switch</span> (</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6862740b1c8a1f4405bc78ae1dcfdf6b">SweepInForegroundTaskImpl</a>(max_duration, StatsCollector::kSweepInTask)) {</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfdadbb5c63e1a8d02ea710bc173dca28e6d">SweepResult::kFullyDone</a>:</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda0d09a587502569598e6e97d5ae834a08">SweepResult::kInProgress</a>:</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102">ScheduleIncrementalSweeping</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#add81056fdc396d56a3c86ad6445ad6fc">kDelayForRegularPrioritySweeping</a>);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda12bcbfdbf7053b7faac48a2c7b195c9c">SweepResult::kMainThreadDoneConcurrentInProgress</a>:</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="comment">// Throttle incremental sweeping while the concurrent Job is still</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="comment">// making progress.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102">ScheduleIncrementalSweeping</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6e99a78241227114dcb3889d30d1c1d9">kDelayWhileConcurrentSweepingMakesProgress</a>);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160; </div>
<div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a9238b868273b35ccd4757b1933e105f8"> 1059</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a9238b868273b35ccd4757b1933e105f8">SweepForLowPriorityTask</a>(<a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a94eb8a5d70abff1a828d39c453f9351a">low_priority_task_ran_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6862740b1c8a1f4405bc78ae1dcfdf6b">SweepInForegroundTaskImpl</a>(</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        max_duration, StatsCollector::kSweepInLowPriorityTask)) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfdadbb5c63e1a8d02ea710bc173dca28e6d">SweepResult::kFullyDone</a>:</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda0d09a587502569598e6e97d5ae834a08">SweepResult::kInProgress</a>:</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="comment">// More work to do. Continue sweeping with low priority.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a604dd3c64cd9e333165ad8742616b1f6">ScheduleLowPriorityIncrementalSweeping</a>();</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda12bcbfdbf7053b7faac48a2c7b195c9c">SweepResult::kMainThreadDoneConcurrentInProgress</a>:</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a604dd3c64cd9e333165ad8742616b1f6">ScheduleLowPriorityIncrementalSweeping</a>(</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5d733d82044b1aa719f5dd61e4a0420">kDelayWhileLowPrioritySweepingMakesProgress</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1b71cd7455e7e89fb7a7aa75401cdb74"> 1077</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1b71cd7455e7e89fb7a7aa75401cdb74">SweepForLargeAllocation</a>(<a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                               <a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;is_large());</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">// SpaceState for large objects is emtpy as those objects are put directly</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">// on `empty_large_pages_`.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    SweepingState&amp; space_state = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>[<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;index()];</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(space_state.unswept_pages.IsEmpty());</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(space_state.swept_unfinalized_pages.IsEmpty());</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// Bail out if there&#39;s no empty large pages that could be freed and be</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="comment">// reused for a large allocation.</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>.swept_unfinalized_pages.IsEmpty() &amp;&amp;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>.unswept_pages.IsEmpty()) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160; </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> incremental_sweep_scope(</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, StatsCollector::kIncrementalSweep);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::DisabledScope</a> sweep_on_allocation_scope(</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, StatsCollector::kSweepOnAllocation);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a> sweeping_in_progress(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> deadline = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>() + max_duration;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160; </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    SweepFinalizer finalizer(</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>, EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// Check empty pages first. Try to just finalize a page without sweeping.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="comment">// If there&#39;s a single page in there we will use it.</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">if</span> (finalizer.FinalizeWithDeadlineAndSize(</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            StatsCollector::kSweepFinalizeEmptyPages, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            deadline, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    MutatorThreadSweeper sweeper(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                                 <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>,</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                                 <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                                 EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="comment">// Sweeping an empty page in case there&#39;s nothing with finalizers. If</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="comment">// there&#39;s a single page in there we will use it.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (sweeper.SweepWithDeadlineAndSize(StatsCollector::kSweepEmptyPages,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                         <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>, deadline, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160; </div>
<div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a874b1dcab479f163a4dff2fcdae7ddf0"> 1126</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a874b1dcab479f163a4dff2fcdae7ddf0">SweepForNormalAllocation</a>(<a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                                <a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;is_large());</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a> &gt; 0 &amp;&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#af6c45ba49b73c5f576fb954b9e859f2f">page_pool_</a>.<a class="code" href="classcppgc_1_1internal_1_1NormalPageMemoryPool.html#a5eeb0a1e27cb66409bcc3be0c660fb48">pooled</a>() &gt; 0) {</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>--;</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="comment">// Destroyed pages during sweeping in tasks are generally sitting in the</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="comment">// page pool and can be reused without increasing memory footprint.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    SweepingState&amp; space_state = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>[<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;index()];</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">// Bail out if there&#39;s no empty pages and no pages to be processed for the</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="comment">// specific space at this moment.</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>.swept_unfinalized_pages.IsEmpty() &amp;&amp;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>.unswept_pages.IsEmpty() &amp;&amp;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        space_state.swept_unfinalized_pages.IsEmpty() &amp;&amp;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        space_state.unswept_pages.IsEmpty()) {</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160; </div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> incremental_sweep_scope(</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, StatsCollector::kIncrementalSweep);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::DisabledScope</a> sweep_on_allocation_scope(</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, StatsCollector::kSweepOnAllocation);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a> sweeping_in_progress(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160; </div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> deadline = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>() + max_duration;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160; </div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    SweepFinalizer finalizer(</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>,</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>, EmptyPageHandling::kReturn);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">// Check empty pages first. Try to just finalize a page without sweeping.</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// If there&#39;s a single page in there we will use it.</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">if</span> (finalizer.FinalizeWithDeadlineAndSize(</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            StatsCollector::kSweepFinalizeEmptyPages, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>,</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            deadline, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    MutatorThreadSweeper sweeper(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>,</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                                 <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>,</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                 <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>,</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                 EmptyPageHandling::kReturn);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="comment">// Sweeping an empty page in case there&#39;s nothing with finalizers. If</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">// there&#39;s a single page in there we will use it.</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">if</span> (sweeper.SweepWithDeadlineAndSize(StatsCollector::kSweepEmptyPages,</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                                         <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>, deadline, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    }</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160; </div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="comment">// Process unfinalized non-empty pages as finalizing a page is generally</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">// faster than sweeping.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keywordflow">if</span> (finalizer.FinalizeWithDeadlineAndSize(</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;            StatsCollector::kSweepFinalizeSweptPages, space_state, deadline,</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;            <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="comment">// Then, if no matching slot is found in the unfinalized pages, search the</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="comment">// unswept page. This also helps out the concurrent sweeper.</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordflow">if</span> (sweeper.SweepWithDeadlineAndSize(StatsCollector::kSweepPages,</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                         space_state, deadline, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  }</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160; </div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2199d562391ac6ca200ef189f5cc80c6"> 1193</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2199d562391ac6ca200ef189f5cc80c6">SweepForAllocationIfRunning</a>(<a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                                   <a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">// Bail out for recursive sweeping calls. This can happen when finalizers</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="comment">// allocate new memory.</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a>) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;is_large()</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;               ? <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1b71cd7455e7e89fb7a7aa75401cdb74">SweepForLargeAllocation</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, max_duration)</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;               : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a874b1dcab479f163a4dff2fcdae7ddf0">SweepForNormalAllocation</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, max_duration);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1073e86942c3593cf006d837b396daa5"> 1210</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1073e86942c3593cf006d837b396daa5">FinishIfRunning</a>() {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    }</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="comment">// Bail out for recursive sweeping calls. This can happen when finalizers</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">// allocate new memory.</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a>) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      std::optional&lt;StatsCollector::EnabledScope&gt; stats_scope;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a> != <a class="code" href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a726d9cf5163c50b3cf8e05800e3cef71">SweepingConfig::SweepingType::kAtomic</a>) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        stats_scope.emplace(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>,</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                            StatsCollector::kIncrementalSweep);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> inner_scope(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>,</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                               StatsCollector::kSweepFinish);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a> &amp;&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;IsValid() &amp;&amp;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;UpdatePriorityEnabled()) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;UpdatePriority(<a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a5076b7e6531826224bd1b9ab4d221708">kBackgroundBoostedPriority</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      }</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5615c54061fe6e28b30fd20f87fbdc2">Finish</a>();</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5c2e86a17e2c2a978170109445bc03ce">NotifyDone</a>();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160; </div>
<div class="line"><a name="l01239"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa6755491eef462d07129c28ef3af66d7"> 1239</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa6755491eef462d07129c28ef3af66d7">IsConcurrentSweepingDone</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a> ||</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;           !<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;IsValid() ||</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;           !<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;IsActive();</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  }</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160; </div>
<div class="line"><a name="l01245"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a88c4e2920a0584768b2949d9f716438f"> 1245</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a88c4e2920a0584768b2949d9f716438f">FinishIfOutOfWork</a>() {</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a> || <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a>) {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// We only finish through this method if concurrent sweeping is enabled but</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="comment">// not running anymore. All other paths finish sweeping through incremental</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="comment">// steps.</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a> || !<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;IsValid() ||</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;IsActive()) {</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    }</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="comment">// At this point we know that the concurrent sweeping task has run</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="comment">// out-of-work: all pages are swept. The main thread still needs to finalize</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="comment">// swept pages.</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#adcd90950c0b92baf7c69e2e711fe1e67">std::all_of</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.begin(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.end(),</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                       [](<span class="keyword">const</span> SweepingState&amp; state) {</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                         return state.unswept_pages.IsEmpty();</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                       }));</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>.unswept_pages.IsEmpty());</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>.unswept_pages.IsEmpty());</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base.html#a0e542246e39cb25a93193a080e0e1148">std::any_of</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.begin(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.end(),</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                    [](<span class="keyword">const</span> SweepingState&amp; state) {</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                      return !state.swept_unfinalized_pages.IsEmpty();</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                    })) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    }</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>.swept_unfinalized_pages.IsEmpty() ||</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        !<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>.swept_unfinalized_pages.IsEmpty()) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="comment">// All pages have also been finalized. Finalizing pages likely occured on</span></div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="comment">// allocation, in which sweeping is not finalized even though all work is</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="comment">// done.</span></div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> stats_scope(</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, StatsCollector::kSweepFinishIfOutOfWork);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa0321e268e7a0ae54f6ad69b1c72ff68">FinalizeSweep</a>();</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5c2e86a17e2c2a978170109445bc03ce">NotifyDone</a>();</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  }</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160; </div>
<div class="line"><a name="l01286"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5615c54061fe6e28b30fd20f87fbdc2"> 1286</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5615c54061fe6e28b30fd20f87fbdc2">Finish</a>() {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160; </div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a> sweeping_in_progress(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">// First, call finalizers on the mutator thread. This is just an</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// optimization as we need to call finalizers after sweeping as well. It</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// allows to spend the time in the concurrent sweeper for actual sweeping.</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    SweepFinalizer finalizer(</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">kSweepWithoutSpaceAssignment</a>,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;        &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    finalizer.Finalize(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    finalizer.Finalize(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    finalizer.Finalize(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    <span class="comment">// Then, help out the concurrent thread.</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    MutatorThreadSweeper sweeper(</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">kSweepWithoutSpaceAssignment</a>,</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>,</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    sweeper.Sweep(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    sweeper.Sweep(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    sweeper.Sweep(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="comment">// There&#39;s nothing left to sweep here for the main thread. The concurrent</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="comment">// sweeper may still sweep pages and create pages to be finalized after</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// joining the the job.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa0321e268e7a0ae54f6ad69b1c72ff68">FinalizeSweep</a>();</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160; </div>
<div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa0321e268e7a0ae54f6ad69b1c72ff68"> 1317</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa0321e268e7a0ae54f6ad69b1c72ff68">FinalizeSweep</a>() {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// Synchronize with the concurrent sweeper and call remaining finalizers.</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a16ad7e72b675f0e70b797594afe1fdfb">SynchronizeAndFinalizeConcurrentAndIncrementalSweeping</a>();</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160; </div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <span class="comment">// Clear space taken up by sweeper metadata.</span></div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.clear();</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160; </div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ab319826e15e37e0d8fc376a18c0d29a4">notify_done_pending_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a> = 0;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160; </div>
<div class="line"><a name="l01329"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5c2e86a17e2c2a978170109445bc03ce"> 1329</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5c2e86a17e2c2a978170109445bc03ce">NotifyDone</a>() {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ab319826e15e37e0d8fc376a18c0d29a4">notify_done_pending_</a>);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ab319826e15e37e0d8fc376a18c0d29a4">notify_done_pending_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>-&gt;<a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#aba57596b172b1392d63085d07b6decb1">NotifySweepingCompleted</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a>);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a> ==</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">FreeMemoryHandling::kDiscardWherePossible</a>) {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>()-&gt;<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html#ad1a50849cdcdbeb7af792c887d3728d9">page_backend</a>()-&gt;<a class="code" href="classcppgc_1_1internal_1_1PageBackend.html#a9fb955e7df7b1495a30417b2932273bd">ReleasePooledPages</a>();</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    }</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160; </div>
<div class="line"><a name="l01340"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7c65e2e4463d58077d88969641e0f377"> 1340</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7c65e2e4463d58077d88969641e0f377">WaitForConcurrentSweepingForTesting</a>() {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>) <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;Join();</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160; </div>
<div class="line"><a name="l01344"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5933a1923d624ce0ab01c4c931a2ecfb"> 1344</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5933a1923d624ce0ab01c4c931a2ecfb">IsSweepingOnMutatorThread</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160; </div>
<div class="line"><a name="l01348"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a08a961bd3bfea83090b37341ccc2a796"> 1348</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a08a961bd3bfea83090b37341ccc2a796">IsSweepingInProgress</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>; }</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a83b612c1fc20fad53f2166af0f59c2"> 1350</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a83b612c1fc20fad53f2166af0f59c2">PerformSweepOnMutatorThread</a>(<a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration,</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                   <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> internal_scope_id,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                   <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cd">MutatorThreadSweepingMode</a> sweeping_mode) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a> sweeping_in_progress(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; </div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    {</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> stats_scope(</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, StatsCollector::kIncrementalSweep);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160; </div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      MutatorThreadSweeper sweeper(</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>,</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;          <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">kSweepWithoutSpaceAssignment</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>,</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>, EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;      {</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">StatsCollector::EnabledScope</a> inner_stats_scope(</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, internal_scope_id, <span class="stringliteral">&quot;max_duration_ms&quot;</span>,</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            max_duration.<a class="code" href="classv8_1_1base_1_1TimeDelta.html#a494cc64764a7ba009367e2e8b64496de">InMillisecondsF</a>(), <span class="stringliteral">&quot;sweeping_mode&quot;</span>,</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(sweeping_mode));</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span> deadline = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>() + max_duration;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">if</span> (!sweeper.FinalizeAndSweepWithDeadline(</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                StatsCollector::kSweepFinalizeEmptyPages, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>,</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                deadline, sweeping_mode)) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        }</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; state : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>) {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;          <span class="keywordflow">if</span> (!sweeper.FinalizeAndSweepWithDeadline(</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                  StatsCollector::kSweepFinalizeSweptPages, state, deadline,</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                  sweeping_mode)) {</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;          }</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        }</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keywordflow">if</span> (!sweeper.FinalizeAndSweepWithDeadline(</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                StatsCollector::kSweepFinalizeEmptyPages, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>,</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                deadline, sweeping_mode)) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="keywordflow">if</span> (sweeping_mode != MutatorThreadSweepingMode::kAll) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa0321e268e7a0ae54f6ad69b1c72ff68">FinalizeSweep</a>();</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5c2e86a17e2c2a978170109445bc03ce">NotifyDone</a>();</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  }</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160; </div>
<div class="line"><a name="l01398"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7baf2742669ed6e55641bde2578e037b"> 1398</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7baf2742669ed6e55641bde2578e037b">AddMutatorThreadSweepingObserver</a>(</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html">Sweeper::SweepingOnMutatorThreadObserver</a>* observer) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.end(),</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;              std::find(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.begin(),</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.end(), observer));</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.push_back(observer);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;  }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160; </div>
<div class="line"><a name="l01406"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afed324d53ba90b8a299c031fef79ffdf"> 1406</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afed324d53ba90b8a299c031fef79ffdf">RemoveMutatorThreadSweepingObserver</a>(</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html">Sweeper::SweepingOnMutatorThreadObserver</a>* observer) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> it =</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        std::find(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.begin(),</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                  <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.end(), observer);</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.end(), it);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>.erase(it);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html"> 1416</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a> final {</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l01418"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a4c207fa907aebcfdff48f82d62c6119d"> 1418</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a4c207fa907aebcfdff48f82d62c6119d">MutatorThreadSweepingScope</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">SweeperImpl</a>&amp; sweeper)</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>(sweeper) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a>);</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>* observer : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>) {</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        observer-&gt;Start();</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      }</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    }</div>
<div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#af51a8665bcfeb644dab5c8b556dda3e1"> 1426</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#af51a8665bcfeb644dab5c8b556dda3e1">~MutatorThreadSweepingScope</a>() {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>* observer : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>) {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        observer-&gt;End();</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160; </div>
<div class="line"><a name="l01433"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a6216b4ed4eb9b0b6b7b76d5aef62251d"> 1433</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a6216b4ed4eb9b0b6b7b76d5aef62251d">MutatorThreadSweepingScope</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l01434"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a41ab1b15ddb5d8c87f6261684431ad91"> 1434</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a41ab1b15ddb5d8c87f6261684431ad91">operator=</a>(<span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">MutatorThreadSweepingScope</a>&amp;) =</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="keyword">delete</span>;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l01438"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62"> 1438</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">SweeperImpl</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">sweeper_</a>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  };</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html"> 1441</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html">IncrementalSweepTask</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1Task.html">cppgc::Task</a> {</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l01443"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#adc14c7ceb24300fefb3e3cf9480a56c9"> 1443</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">Handle</a> = <a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">SingleThreadedHandle</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160; </div>
<div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#af47784d781c1e24aa75f45292286d98f"> 1445</a></span>&#160;    <span class="keyword">static</span> constexpr <span class="keyword">auto</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#af47784d781c1e24aa75f45292286d98f">kMaxSweepDuration</a> =</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <a class="code" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(5);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; </div>
<div class="line"><a name="l01448"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a5f39cc99d8e69292b45fc9ebef08c5a7"> 1448</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a5f39cc99d8e69292b45fc9ebef08c5a7">IncrementalSweepTask</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">SweeperImpl</a>&amp; sweeper, <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">cppgc::TaskPriority</a> priority)</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        : <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aaabe9ee00bd24ce6832d0f526c85a42a">sweeper_</a>(sweeper),</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a339a78b2245c01aadc0400c768a62f89">handle_</a>(<a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">Handle</a>::NonEmptyTag{}),</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#ae235a134e15d4a14581929da49bffbdf">priority_</a>(priority) {}</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aca18f5dad278910ef9f034e0a4ca1637"> 1453</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">Handle</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aca18f5dad278910ef9f034e0a4ca1637">Post</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">SweeperImpl</a>&amp; sweeper,</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                       <span class="keyword">const</span> std::shared_ptr&lt;cppgc::TaskRunner&gt;&amp; runner,</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                       <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">cppgc::TaskPriority</a> priority,</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                       std::optional&lt;v8::base::TimeDelta&gt; delay = {}) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <span class="keyword">auto</span> task = std::make_unique&lt;IncrementalSweepTask&gt;(sweeper, priority);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> = task-&gt;handle_;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="keywordflow">if</span> (delay.has_value()) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        runner-&gt;PostNonNestableDelayedTask(std::move(task),</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                           delay-&gt;InSecondsF());</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        runner-&gt;PostNonNestableTask(std::move(task));</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;      }</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a86f800e267bac912b181a42c4ee22c44"> 1468</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a86f800e267bac912b181a42c4ee22c44">Run</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a339a78b2245c01aadc0400c768a62f89">handle_</a>.<a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#a1a77e0d9c749d6abfca0693fa84016af">IsCanceled</a>()) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      }</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#ae235a134e15d4a14581929da49bffbdf">priority_</a>) {</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a26a0a0915a2fa5c6f83fb60c01dbf1ea">kForegroundRegularPriority</a>:</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aaabe9ee00bd24ce6832d0f526c85a42a">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0af3a47710701a62e589bbacbf0ea50a">SweepForTask</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#af47784d781c1e24aa75f45292286d98f">kMaxSweepDuration</a>);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a76634b821dc068afa4920519e35d70cd">kForegroundLowPriority</a>:</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;          <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aaabe9ee00bd24ce6832d0f526c85a42a">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a9238b868273b35ccd4757b1933e105f8">SweepForLowPriorityTask</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#af47784d781c1e24aa75f45292286d98f">kMaxSweepDuration</a>);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    }</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l01485"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aaabe9ee00bd24ce6832d0f526c85a42a"> 1485</a></span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">SweeperImpl</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aaabe9ee00bd24ce6832d0f526c85a42a">sweeper_</a>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;    <span class="comment">// TODO(chromium:1056170): Change to CancelableTask.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a339a78b2245c01aadc0400c768a62f89"> 1487</a></span>&#160;    <a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">Handle</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a339a78b2245c01aadc0400c768a62f89">handle_</a>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#ae235a134e15d4a14581929da49bffbdf"> 1488</a></span>&#160;    <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">cppgc::TaskPriority</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#ae235a134e15d4a14581929da49bffbdf">priority_</a>;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  };</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160; </div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfd"> 1491</a></span>&#160;  <span class="keyword">enum class</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfd">SweepResult</a> {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="comment">// Sweeping is fully done.</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfdadbb5c63e1a8d02ea710bc173dca28e6d">kFullyDone</a>,</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;    <span class="comment">// Sweeping is still in progress.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda0d09a587502569598e6e97d5ae834a08">kInProgress</a>,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    <span class="comment">// Sweeping on the main thread is done but concurrent sweepers are still</span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <span class="comment">// making progress. This may be temporary.</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda12bcbfdbf7053b7faac48a2c7b195c9c">kMainThreadDoneConcurrentInProgress</a>,</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  };</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160; </div>
<div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7abf0d2d7051558661e6bdce31e93de8"> 1501</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">double</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7abf0d2d7051558661e6bdce31e93de8">kMaxHeapPercentageForNoSweeping</a> = 50;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160; </div>
<div class="line"><a name="l01503"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5d733d82044b1aa719f5dd61e4a0420"> 1503</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5d733d82044b1aa719f5dd61e4a0420">kDelayWhileLowPrioritySweepingMakesProgress</a> =</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <a class="code" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(100);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6e99a78241227114dcb3889d30d1c1d9"> 1506</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6e99a78241227114dcb3889d30d1c1d9">kDelayWhileConcurrentSweepingMakesProgress</a> =</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <a class="code" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(5);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160; </div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="comment">// We use a small delay here to allow lower priority tasks to interrupt</span></div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">// sweeping and take over.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#add81056fdc396d56a3c86ad6445ad6fc"> 1511</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#add81056fdc396d56a3c86ad6445ad6fc">kDelayForRegularPrioritySweeping</a> =</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <a class="code" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(1);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6862740b1c8a1f4405bc78ae1dcfdf6b"> 1514</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfd">SweepResult</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6862740b1c8a1f4405bc78ae1dcfdf6b">SweepInForegroundTaskImpl</a>(<a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration,</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                        <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> scope) {</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="comment">// First round of sweeping.</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordtype">bool</span> concurrent_sweep_complete = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa6755491eef462d07129c28ef3af66d7">IsConcurrentSweepingDone</a>();</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> start = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>();</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <span class="keywordtype">bool</span> main_thread_sweep_complete = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a83b612c1fc20fad53f2166af0f59c2">PerformSweepOnMutatorThread</a>(</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        max_duration, scope,</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        concurrent_sweep_complete ? MutatorThreadSweepingMode::kAll</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                  : MutatorThreadSweepingMode::kOnlyFinalizers);</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <span class="keywordflow">if</span> (main_thread_sweep_complete &amp;&amp; !concurrent_sweep_complete &amp;&amp;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa6755491eef462d07129c28ef3af66d7">IsConcurrentSweepingDone</a>()) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="comment">// Concurrent sweeping finished while processing the first round. Use the</span></div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      <span class="comment">// left over time for a second round to avoid scheduling another task.</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      max_duration -= (<a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>() - start);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <span class="keywordflow">if</span> (max_duration &gt; <a class="code" href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a>(0)) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        concurrent_sweep_complete = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;        main_thread_sweep_complete = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a83b612c1fc20fad53f2166af0f59c2">PerformSweepOnMutatorThread</a>(</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            max_duration, scope, MutatorThreadSweepingMode::kAll);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      }</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    }</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordflow">if</span> (main_thread_sweep_complete) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="keywordflow">if</span> (!concurrent_sweep_complete) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda12bcbfdbf7053b7faac48a2c7b195c9c">SweepResult::kMainThreadDoneConcurrentInProgress</a>;</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a>);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfdadbb5c63e1a8d02ea710bc173dca28e6d">SweepResult::kFullyDone</a>;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      }</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda0d09a587502569598e6e97d5ae834a08">SweepResult::kInProgress</a>;</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102"> 1545</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102">ScheduleIncrementalSweeping</a>(</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      std::optional&lt;v8::base::TimeDelta&gt; delay = {}) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a>,</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;              <a class="code" href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a4461e3132c6a68cc061f851d6b53fc15">SweepingConfig::SweepingType::kIncremental</a>);</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160; </div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>) {</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160; </div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a94eb8a5d70abff1a828d39c453f9351a">low_priority_task_ran_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03">incremental_sweeper_handle_</a>.<a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#a79992ab4db1c259471cee6a44795799d">CancelIfNonEmpty</a>();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03">incremental_sweeper_handle_</a> = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aca18f5dad278910ef9f034e0a4ca1637">IncrementalSweepTask::Post</a>(</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        *<span class="keyword">this</span>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>, <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a26a0a0915a2fa5c6f83fb60c01dbf1ea">kForegroundRegularPriority</a>, delay);</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;  }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a604dd3c64cd9e333165ad8742616b1f6"> 1560</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a604dd3c64cd9e333165ad8742616b1f6">ScheduleLowPriorityIncrementalSweeping</a>(</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      std::optional&lt;v8::base::TimeDelta&gt; delay = {}) {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a>,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;              <a class="code" href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a4461e3132c6a68cc061f851d6b53fc15">SweepingConfig::SweepingType::kIncremental</a>);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a>) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160; </div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d">incremental_sweeper_low_priority_handle_</a>.<a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#a79992ab4db1c259471cee6a44795799d">CancelIfNonEmpty</a>();</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d">incremental_sweeper_low_priority_handle_</a> =</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aca18f5dad278910ef9f034e0a4ca1637">IncrementalSweepTask::Post</a>(*<span class="keyword">this</span>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a>,</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                                   <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a76634b821dc068afa4920519e35d70cd">kForegroundLowPriority</a>, delay);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160; </div>
<div class="line"><a name="l01575"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a09adc70e2be54867e4889af5717bb8cb"> 1575</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a09adc70e2be54867e4889af5717bb8cb">ScheduleConcurrentSweeping</a>() {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">sweeping_type</a>,</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;              <a class="code" href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a13b93ce70f628c016cca112357cc51b1">SweepingConfig::SweepingType::kIncrementalAndConcurrent</a>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160; </div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a> = <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>-&gt;<a class="code" href="classcppgc_1_1Platform.html#a6cd9224a397cb79d4c56e3f0dc163c74">PostJob</a>(</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;        <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a38d7df7954da13e511d04aee32690b9b">kBackgroundRegularPriority</a>,</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;        std::make_unique&lt;ConcurrentSweepTask&gt;(</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;            <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, *<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>.<a class="code" href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">heap</a>(), &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>, &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>,</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;            &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>));</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  }</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa55fddb91116a03368bd9f8ce0ccae90"> 1586</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa55fddb91116a03368bd9f8ce0ccae90">CancelAllSweepingTasks</a>() {</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03">incremental_sweeper_handle_</a>) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03">incremental_sweeper_handle_</a>.<a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#ae10f09cffd47d7e9826b48f07a41d9ea">Cancel</a>();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    }</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d">incremental_sweeper_low_priority_handle_</a>) {</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d">incremental_sweeper_low_priority_handle_</a>.<a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#ae10f09cffd47d7e9826b48f07a41d9ea">Cancel</a>();</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a> &amp;&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;IsValid()) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>-&gt;Cancel();</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  }</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a16ad7e72b675f0e70b797594afe1fdfb"> 1598</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a16ad7e72b675f0e70b797594afe1fdfb">SynchronizeAndFinalizeConcurrentAndIncrementalSweeping</a>() {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    <span class="comment">// The precondition for this call is that actual sweeping is done. So all</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <span class="comment">// that&#39;s left is potentially invoking finalizers.</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160; </div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa55fddb91116a03368bd9f8ce0ccae90">CancelAllSweepingTasks</a>();</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160; </div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1base.html#adcd90950c0b92baf7c69e2e711fe1e67">std::all_of</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.begin(), <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>.end(),</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                       [](<span class="keyword">const</span> SweepingState&amp; state) {</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                         return state.unswept_pages.IsEmpty();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                       }));</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>.unswept_pages.IsEmpty());</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>.unswept_pages.IsEmpty());</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    SweepFinalizer finalizer(</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>, <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">kSweepWithoutSpaceAssignment</a>,</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        &amp;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a>, <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>.<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">free_memory_handling</a>,</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        EmptyPageHandling::kDestroy);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    finalizer.Finalize(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    finalizer.Finalize(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    finalizer.Finalize(<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160; </div>
<div class="line"><a name="l01620"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8"> 1620</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1RawHeap.html">RawHeap</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">heap_</a>;</div>
<div class="line"><a name="l01621"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#af6c45ba49b73c5f576fb954b9e859f2f"> 1621</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1NormalPageMemoryPool.html">NormalPageMemoryPool</a>&amp; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#af6c45ba49b73c5f576fb954b9e859f2f">page_pool_</a>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d"> 1622</a></span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html">StatsCollector</a>* <span class="keyword">const</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">stats_collector_</a>;</div>
<div class="line"><a name="l01623"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6"> 1623</a></span>&#160;  <a class="code" href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">SpaceStates</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">space_states_</a>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="comment">// States for empty normal pages. These pages do have a space as owner which</span></div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="comment">// is updated as soon as the page is reused for a specific space.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93"> 1626</a></span>&#160;  SweepingState <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">empty_normal_pages_</a>;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  <span class="comment">// States for empty large pages.</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  <span class="comment">// TODO(372512096): This can be further split into LO pages that are less than</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="comment">// a regular page size and those that are multiple, where larger sizes can</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <span class="comment">// contribute to `unused_destroyed_normal_pages_`.</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49"> 1631</a></span>&#160;  SweepingState <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">empty_large_pages_</a>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="comment">// Number of pages that have been destroyed and have not been reused by the</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="comment">// allocator yet. We assume that returning early on</span></div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="comment">// SweepForAllocationIfRunning() causes such pages to be picked up.</span></div>
<div class="line"><a name="l01635"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a"> 1635</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">unused_destroyed_normal_pages_</a> = 0;</div>
<div class="line"><a name="l01636"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441"> 1636</a></span>&#160;  <a class="code" href="classcppgc_1_1Platform.html">cppgc::Platform</a>* <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">platform_</a>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f"> 1637</a></span>&#160;  std::shared_ptr&lt;cppgc::TaskRunner&gt; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">foreground_task_runner_</a>;</div>
<div class="line"><a name="l01638"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e"> 1638</a></span>&#160;  std::shared_ptr&lt;cppgc::TaskRunner&gt; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">low_priority_foreground_task_runner_</a>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee"> 1639</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html">SweepingConfig</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">config_</a>;</div>
<div class="line"><a name="l01640"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03"> 1640</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">IncrementalSweepTask::Handle</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03">incremental_sweeper_handle_</a>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d"> 1641</a></span>&#160;  <a class="code" href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">IncrementalSweepTask::Handle</a> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d">incremental_sweeper_low_priority_handle_</a>;</div>
<div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594"> 1642</a></span>&#160;  std::unique_ptr&lt;cppgc::JobHandle&gt; <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">concurrent_sweeper_handle_</a>;</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  std::vector&lt;Sweeper::SweepingOnMutatorThreadObserver*&gt;</div>
<div class="line"><a name="l01644"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3"> 1644</a></span>&#160;      <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">mutator_thread_sweeping_observers_</a>;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// Indicates whether a low priority task has been invoked since the last</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">// scheduling of an incremental task.</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a94eb8a5d70abff1a828d39c453f9351a"> 1647</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a94eb8a5d70abff1a828d39c453f9351a">low_priority_task_ran_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="comment">// Indicates whether the sweeping phase is in progress.</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2"> 1649</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">is_in_progress_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ab319826e15e37e0d8fc376a18c0d29a4"> 1650</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ab319826e15e37e0d8fc376a18c0d29a4">notify_done_pending_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="comment">// Indicates whether whether the sweeper (or its finalization) is currently</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">// running on the main thread.</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c"> 1653</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">is_sweeping_on_mutator_thread_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;};</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160; </div>
<div class="line"><a name="l01656"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#a9056c63a10295a470115116c97b8aca8"> 1656</a></span>&#160;<a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a9056c63a10295a470115116c97b8aca8">Sweeper::Sweeper</a>(<a class="code" href="classcppgc_1_1internal_1_1HeapBase.html">HeapBase</a>&amp; <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    : heap_(<a class="code" href="namespaceheap.html">heap</a>), impl_(std::make_unique&lt;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">SweeperImpl</a>&gt;(<a class="code" href="namespaceheap.html">heap</a>)) {}</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;<a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a1b602b8a83aa8eb08d21bfa457e3fbab">Sweeper::~Sweeper</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; </div>
<div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#abef60b3e2f8ea9058a7c9ac4e0d13729"> 1661</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#abef60b3e2f8ea9058a7c9ac4e0d13729">Sweeper::Start</a>(<a class="code" href="structcppgc_1_1internal_1_1SweepingConfig.html">SweepingConfig</a> config) { <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;Start(config); }</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160; </div>
<div class="line"><a name="l01663"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34"> 1663</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">Sweeper::FinishIfRunning</a>() { <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;FinishIfRunning(); }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#a6966fd3b9af81845c4492728f19fa340"> 1665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a6966fd3b9af81845c4492728f19fa340">Sweeper::FinishIfOutOfWork</a>() { <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;FinishIfOutOfWork(); }</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160; </div>
<div class="line"><a name="l01667"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#af6a9fe091226ee71ae31b64cb29f8ede"> 1667</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#af6a9fe091226ee71ae31b64cb29f8ede">Sweeper::WaitForConcurrentSweepingForTesting</a>() {</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;WaitForConcurrentSweepingForTesting();</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;}</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#a1ab95c1d630cbd53cea3ed89f7df1760"> 1671</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a1ab95c1d630cbd53cea3ed89f7df1760">Sweeper::SweepForAllocationIfRunning</a>(<a class="code" href="classcppgc_1_1internal_1_1BaseSpace.html">BaseSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                                          <a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration) {</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;SweepForAllocationIfRunning(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, max_duration);</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;}</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#a0fd0da301ca9e0e2f9eb2d7d6bfa7d0f"> 1676</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a0fd0da301ca9e0e2f9eb2d7d6bfa7d0f">Sweeper::IsSweepingOnMutatorThread</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;IsSweepingOnMutatorThread();</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d"> 1680</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">Sweeper::IsSweepingInProgress</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;IsSweepingInProgress();</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper.html#ad46d61cb166f6b8a8ac16954c4c85ada"> 1684</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#ad46d61cb166f6b8a8ac16954c4c85ada">Sweeper::PerformSweepOnMutatorThread</a>(<a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration,</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                                          <a class="code" href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">StatsCollector::ScopeId</a> scope_id) {</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;PerformSweepOnMutatorThread(max_duration, scope_id,</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                                            MutatorThreadSweepingMode::kAll);</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;}</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160; </div>
<div class="line"><a name="l01690"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#aa10ff491f3f99d0786fc0d1ac54f990e"> 1690</a></span>&#160;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#aa10ff491f3f99d0786fc0d1ac54f990e">Sweeper::SweepingOnMutatorThreadObserver::SweepingOnMutatorThreadObserver</a>(</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    <a class="code" href="classcppgc_1_1internal_1_1Sweeper.html">Sweeper</a>&amp; sweeper)</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    : sweeper_(sweeper) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#a2d218217268bfa119131ddfbfc510eac">sweeper_</a>.<a class="code" href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">impl_</a>-&gt;AddMutatorThreadSweepingObserver(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;}</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"><a class="line" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#a5f4ba76c3960b1ecec78d52e2a5a49f5"> 1696</a></span>&#160;<a class="code" href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#a5f4ba76c3960b1ecec78d52e2a5a49f5">Sweeper::SweepingOnMutatorThreadObserver::~SweepingOnMutatorThreadObserver</a>() {</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  sweeper_.impl_-&gt;RemoveMutatorThreadSweepingObserver(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;}</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}  <span class="comment">// namespace cppgc::internal</span></div>
<div class="ttc" id="aclassFreeHandler_html"><div class="ttname"><a href="classFreeHandler.html">FreeHandler</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Heap_html_a9005da6b2685669d9b1419324e26b8a2a13b93ce70f628c016cca112357cc51b1"><div class="ttname"><a href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a13b93ce70f628c016cca112357cc51b1">cppgc::Heap::SweepingType::kIncrementalAndConcurrent</a></div><div class="ttdeci">@ kIncrementalAndConcurrent</div><div class="ttdoc">Incremental and concurrent sweeping.</div></div>
<div class="ttc" id="aclasscppgc_1_1Heap_html_a9005da6b2685669d9b1419324e26b8a2a4461e3132c6a68cc061f851d6b53fc15"><div class="ttname"><a href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a4461e3132c6a68cc061f851d6b53fc15">cppgc::Heap::SweepingType::kIncremental</a></div><div class="ttdeci">@ kIncremental</div><div class="ttdoc">Incremental sweeping interleaves sweeping with the rest of the application workload on the same threa...</div></div>
<div class="ttc" id="aclasscppgc_1_1Heap_html_a9005da6b2685669d9b1419324e26b8a2a726d9cf5163c50b3cf8e05800e3cef71"><div class="ttname"><a href="classcppgc_1_1Heap.html#a9005da6b2685669d9b1419324e26b8a2a726d9cf5163c50b3cf8e05800e3cef71">cppgc::Heap::SweepingType::kAtomic</a></div><div class="ttdeci">@ kAtomic</div><div class="ttdoc">Atomic stop-the-world sweeping.</div></div>
<div class="ttc" id="aclasscppgc_1_1Platform_html"><div class="ttname"><a href="classcppgc_1_1Platform.html">cppgc::Platform</a></div><div class="ttdoc">Platform interface used by Heap.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2platform_8h_source.html#l00031">platform.h:31</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Platform_html_a0dbe1a8407043f1cf645266b62dbf7f5"><div class="ttname"><a href="classcppgc_1_1Platform.html#a0dbe1a8407043f1cf645266b62dbf7f5">cppgc::Platform::GetForegroundTaskRunner</a></div><div class="ttdeci">virtual std::shared_ptr&lt; TaskRunner &gt; GetForegroundTaskRunner()</div><div class="ttdoc">Foreground task runner that should be used by a Heap.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2platform_8h_source.html#l00054">platform.h:54</a></div></div>
<div class="ttc" id="aclasscppgc_1_1Platform_html_a6cd9224a397cb79d4c56e3f0dc163c74"><div class="ttname"><a href="classcppgc_1_1Platform.html#a6cd9224a397cb79d4c56e3f0dc163c74">cppgc::Platform::PostJob</a></div><div class="ttdeci">virtual std::unique_ptr&lt; JobHandle &gt; PostJob(TaskPriority priority, std::unique_ptr&lt; JobTask &gt; job_task)</div><div class="ttdoc">Posts job_task to run in parallel.</div><div class="ttdef"><b>Definition:</b> <a href="include_2cppgc_2platform_8h_source.html#l00126">platform.h:126</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html">cppgc::internal::BasePage</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00030">heap-page.h:30</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_a7347680f8fbd6f33fdeb352f08b079e2"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#a7347680f8fbd6f33fdeb352f08b079e2">cppgc::internal::BasePage::marked_bytes</a></div><div class="ttdeci">size_t marked_bytes() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00114">heap-page.h:114</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_aa7c860d9ca477c0c7ca54241663b3c57"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#aa7c860d9ca477c0c7ca54241663b3c57">cppgc::internal::BasePage::space</a></div><div class="ttdeci">BaseSpace &amp; space() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00045">heap-page.h:45</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_ab1f6fb2fc65a603faff3b67d00b5052d"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#ab1f6fb2fc65a603faff3b67d00b5052d">cppgc::internal::BasePage::ResetDiscardedMemory</a></div><div class="ttdeci">void ResetDiscardedMemory()</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00096">heap-page.h:96</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_ab65af9f888c5bde1db2af60c49644e62"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#ab65af9f888c5bde1db2af60c49644e62">cppgc::internal::BasePage::is_large</a></div><div class="ttdeci">bool is_large() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00047">heap-page.h:47</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_acda4e3db0ed7d3f684fe99c00c0ee877"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#acda4e3db0ed7d3f684fe99c00c0ee877">cppgc::internal::BasePage::Destroy</a></div><div class="ttdeci">static void Destroy(BasePage *)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00053">heap-page.cc:53</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_adbc0c4cc1ffb2b3c4c238548298536c9"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#adbc0c4cc1ffb2b3c4c238548298536c9">cppgc::internal::BasePage::ChangeOwner</a></div><div class="ttdeci">void ChangeOwner(BaseSpace &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00158">heap-page.cc:158</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BasePage_html_af96bf6afb4cf702bb40bb12f1e88a7da"><div class="ttname"><a href="classcppgc_1_1internal_1_1BasePage.html#af96bf6afb4cf702bb40bb12f1e88a7da">cppgc::internal::BasePage::ResetMarkedBytes</a></div><div class="ttdeci">void ResetMarkedBytes(size_t new_value=0)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00111">heap-page.h:111</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BaseSpace_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1BaseSpace.html">cppgc::internal::BaseSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8h_source.html#l00022">heap-space.h:22</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BaseSpace_html_a36011a180a5b41ce16581de1e04099b2"><div class="ttname"><a href="classcppgc_1_1internal_1_1BaseSpace.html#a36011a180a5b41ce16581de1e04099b2">cppgc::internal::BaseSpace::Pages</a></div><div class="ttdeci">std::vector&lt; BasePage * &gt; Pages</div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8h_source.html#l00024">heap-space.h:24</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1BaseSpace_html_a5ac2d02f943d33c2f6cc470a0ce3df67"><div class="ttname"><a href="classcppgc_1_1internal_1_1BaseSpace.html#a5ac2d02f943d33c2f6cc470a0ce3df67">cppgc::internal::BaseSpace::AddPage</a></div><div class="ttdeci">void AddPage(BasePage *)</div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8cc_source.html#l00025">heap-space.cc:25</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1FreeList_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1FreeList.html">cppgc::internal::FreeList</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2free-list_8h_source.html#l00027">free-list.h:27</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1FreeList_html_a5ae5a4fc26e24838445a3c0839ab4de4"><div class="ttname"><a href="classcppgc_1_1internal_1_1FreeList.html#a5ae5a4fc26e24838445a3c0839ab4de4">cppgc::internal::FreeList::Add</a></div><div class="ttdeci">void Add(Block)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2free-list_8cc_source.html#l00070">free-list.cc:70</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1FreeList_html_aae10706d4f39e53db1a9bc1c3cd43bd3"><div class="ttname"><a href="classcppgc_1_1internal_1_1FreeList.html#aae10706d4f39e53db1a9bc1c3cd43bd3">cppgc::internal::FreeList::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2free-list_8cc_source.html#l00165">free-list.cc:165</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1FreeList_html_af7ad1a5474a39453c3f69377ca8ed6d1"><div class="ttname"><a href="classcppgc_1_1internal_1_1FreeList.html#af7ad1a5474a39453c3f69377ca8ed6d1">cppgc::internal::FreeList::Append</a></div><div class="ttdeci">void Append(FreeList &amp;&amp;)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2free-list_8cc_source.html#l00104">free-list.cc:104</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html">cppgc::internal::HeapBase</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-base_8h_source.html#l00082">heap-base.h:82</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_a2b71dc778a025435fa06a9129f05bb6e"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#a2b71dc778a025435fa06a9129f05bb6e">cppgc::internal::HeapBase::stats_collector</a></div><div class="ttdeci">StatsCollector * stats_collector()</div><div class="ttdef"><b>Definition:</b> <a href="heap-base_8h_source.html#l00118">heap-base.h:118</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapBase_html_ad1a50849cdcdbeb7af792c887d3728d9"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapBase.html#ad1a50849cdcdbeb7af792c887d3728d9">cppgc::internal::HeapBase::page_backend</a></div><div class="ttdeci">PageBackend * page_backend()</div><div class="ttdef"><b>Definition:</b> <a href="heap-base_8h_source.html#l00115">heap-base.h:115</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html">cppgc::internal::HeapObjectHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00058">heap-object-header.h:58</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a033434a51166234d9f56f69fe0d53656"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a033434a51166234d9f56f69fe0d53656">cppgc::internal::HeapObjectHeader::IsFinalizable</a></div><div class="ttdeci">bool IsFinalizable() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00309">heap-object-header.h:309</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a3201b70a7116dcdf03784dd4a8e18df4"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a3201b70a7116dcdf03784dd4a8e18df4">cppgc::internal::HeapObjectHeader::Finalize</a></div><div class="ttdeci">void Finalize()</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8cc_source.html#l00027">heap-object-header.cc:27</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a328d2dfc7af3a7a8bd7f7618a3a41699"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a328d2dfc7af3a7a8bd7f7618a3a41699">cppgc::internal::HeapObjectHeader::IsMarked</a></div><div class="ttdeci">bool IsMarked() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00270">heap-object-header.h:270</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_a38bd7c0ef4a16d993c2c95be6843415b"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#a38bd7c0ef4a16d993c2c95be6843415b">cppgc::internal::HeapObjectHeader::AllocatedSize</a></div><div class="ttdeci">size_t AllocatedSize() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00228">heap-object-header.h:228</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_ac1ca63d90cf4d83f013faae430d6617b"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac1ca63d90cf4d83f013faae430d6617b">cppgc::internal::HeapObjectHeader::IsFree</a></div><div class="ttdeci">bool IsFree() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00305">heap-object-header.h:305</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_ac7acf1215fa12fc80bc92abc5c30772e"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#ac7acf1215fa12fc80bc92abc5c30772e">cppgc::internal::HeapObjectHeader::Unmark</a></div><div class="ttdeci">void Unmark()</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00277">heap-object-header.h:277</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapObjectHeader_html_acb8d93ca4a7c69792f6c369622745255"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapObjectHeader.html#acb8d93ca4a7c69792f6c369622745255">cppgc::internal::HeapObjectHeader::IsLargeObject</a></div><div class="ttdeci">bool IsLargeObject() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-object-header_8h_source.html#l00258">heap-object-header.h:258</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1HeapVisitor_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1HeapVisitor.html">cppgc::internal::HeapVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2heap-visitor_8h_source.html#l00020">heap-visitor.h:20</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePageSpace_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePageSpace.html">cppgc::internal::LargePageSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8h_source.html#l00116">heap-space.h:116</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePage_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePage.html">cppgc::internal::LargePage</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00256">heap-page.h:256</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePage_html_a7a697254df2533750e5727ff4a885d11"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePage.html#a7a697254df2533750e5727ff4a885d11">cppgc::internal::LargePage::From</a></div><div class="ttdeci">static LargePage * From(BasePage *page)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00275">heap-page.h:275</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePage_html_a82820bcccb50f43005ee2d404ff0c57f"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePage.html#a82820bcccb50f43005ee2d404ff0c57f">cppgc::internal::LargePage::ObjectHeader</a></div><div class="ttdeci">HeapObjectHeader * ObjectHeader()</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00293">heap-page.cc:293</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePage_html_ab0b45c6e340b0dc8e947ab86cfc5bef1"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePage.html#ab0b45c6e340b0dc8e947ab86cfc5bef1">cppgc::internal::LargePage::PayloadSize</a></div><div class="ttdeci">size_t PayloadSize() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00291">heap-page.h:291</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1LargePage_html_ad49f5a10d39b80596bdaefd14a3f0415"><div class="ttname"><a href="classcppgc_1_1internal_1_1LargePage.html#ad49f5a10d39b80596bdaefd14a3f0415">cppgc::internal::LargePage::Destroy</a></div><div class="ttdeci">static void Destroy(LargePage *)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00273">heap-page.cc:273</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPageMemoryPool_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPageMemoryPool.html">cppgc::internal::NormalPageMemoryPool</a></div><div class="ttdef"><b>Definition:</b> <a href="page-memory_8h_source.html#l00096">page-memory.h:96</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPageMemoryPool_html_a5eeb0a1e27cb66409bcc3be0c660fb48"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPageMemoryPool.html#a5eeb0a1e27cb66409bcc3be0c660fb48">cppgc::internal::NormalPageMemoryPool::pooled</a></div><div class="ttdeci">size_t pooled() const</div><div class="ttdef"><b>Definition:</b> <a href="page-memory_8h_source.html#l00104">page-memory.h:104</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPageSpace_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPageSpace.html">cppgc::internal::NormalPageSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8h_source.html#l00068">heap-space.h:68</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPageSpace_html_a9eb4fcccdcb2472f561c755b4cd78e59"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPageSpace.html#a9eb4fcccdcb2472f561c755b4cd78e59">cppgc::internal::NormalPageSpace::free_list</a></div><div class="ttdeci">FreeList &amp; free_list()</div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8h_source.html#l00108">heap-space.h:108</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPageSpace_html_af4bf4fa0c08ebb0d45ff99a047cdd921"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPageSpace.html#af4bf4fa0c08ebb0d45ff99a047cdd921">cppgc::internal::NormalPageSpace::From</a></div><div class="ttdeci">static NormalPageSpace &amp; From(BaseSpace &amp;space)</div><div class="ttdef"><b>Definition:</b> <a href="heap-space_8h_source.html#l00093">heap-space.h:93</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html">cppgc::internal::NormalPage</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00152">heap-page.h:152</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a0ae6281c0558277709f28c06ce9f92e5"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a0ae6281c0558277709f28c06ce9f92e5">cppgc::internal::NormalPage::PayloadStart</a></div><div class="ttdeci">Address PayloadStart()</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00226">heap-page.cc:226</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a18158e1a974dd56d383f1af419da0557"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a18158e1a974dd56d383f1af419da0557">cppgc::internal::NormalPage::Destroy</a></div><div class="ttdeci">static void Destroy(NormalPage *)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00195">heap-page.cc:195</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a46bb8f87085df2e951e0ae2c7260e5f2"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a46bb8f87085df2e951e0ae2c7260e5f2">cppgc::internal::NormalPage::PayloadSize</a></div><div class="ttdeci">static constexpr size_t PayloadSize()</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00368">heap-page.h:368</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a4a4ca27c20c5debea83dc45660cd9768"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a4a4ca27c20c5debea83dc45660cd9768">cppgc::internal::NormalPage::PayloadEnd</a></div><div class="ttdeci">Address PayloadEnd()</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8cc_source.html#l00235">heap-page.cc:235</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a6451db743f0190038972d0467c053550"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a6451db743f0190038972d0467c053550">cppgc::internal::NormalPage::SetAllocatedBytesAtLastGC</a></div><div class="ttdeci">void SetAllocatedBytesAtLastGC(size_t bytes)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00237">heap-page.h:237</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a7f0a797270bdb5dc9f7c05be073481b5"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a7f0a797270bdb5dc9f7c05be073481b5">cppgc::internal::NormalPage::From</a></div><div class="ttdeci">static NormalPage * From(BasePage *page)</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00205">heap-page.h:205</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1NormalPage_html_a8cdafcfb1ef74227080a91b90fe57c19"><div class="ttname"><a href="classcppgc_1_1internal_1_1NormalPage.html#a8cdafcfb1ef74227080a91b90fe57c19">cppgc::internal::NormalPage::object_start_bitmap</a></div><div class="ttdeci">PlatformAwareObjectStartBitmap &amp; object_start_bitmap()</div><div class="ttdef"><b>Definition:</b> <a href="heap-page_8h_source.html#l00241">heap-page.h:241</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1ObjectStartBitmap_html_a58fb434ce9c81d5ceebe614644cce00c"><div class="ttname"><a href="classcppgc_1_1internal_1_1ObjectStartBitmap.html#a58fb434ce9c81d5ceebe614644cce00c">cppgc::internal::ObjectStartBitmap::CheckBit</a></div><div class="ttdeci">bool CheckBit(ConstAddress) const</div><div class="ttdef"><b>Definition:</b> <a href="object-start-bitmap_8h_source.html#l00157">object-start-bitmap.h:157</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1PageBackend_html_a9fb955e7df7b1495a30417b2932273bd"><div class="ttname"><a href="classcppgc_1_1internal_1_1PageBackend.html#a9fb955e7df7b1495a30417b2932273bd">cppgc::internal::PageBackend::ReleasePooledPages</a></div><div class="ttdeci">void ReleasePooledPages()</div><div class="ttdef"><b>Definition:</b> <a href="page-memory_8cc_source.html#l00258">page-memory.cc:258</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1PlatformAwareObjectStartBitmap_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1PlatformAwareObjectStartBitmap.html">cppgc::internal::PlatformAwareObjectStartBitmap</a></div><div class="ttdef"><b>Definition:</b> <a href="object-start-bitmap_8h_source.html#l00227">object-start-bitmap.h:228</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1PlatformAwareObjectStartBitmap_html_a87d2154eec93fc855f49fa78d9c04f1b"><div class="ttname"><a href="classcppgc_1_1internal_1_1PlatformAwareObjectStartBitmap.html#a87d2154eec93fc855f49fa78d9c04f1b">cppgc::internal::PlatformAwareObjectStartBitmap::ClearBit</a></div><div class="ttdeci">void ClearBit(ConstAddress)</div><div class="ttdef"><b>Definition:</b> <a href="object-start-bitmap_8h_source.html#l00262">object-start-bitmap.h:262</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawHeap_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawHeap.html">cppgc::internal::RawHeap</a></div><div class="ttdef"><b>Definition:</b> <a href="raw-heap_8h_source.html#l00023">raw-heap.h:23</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawHeap_html_a06bdc6c257ea30691c7c883de2740263"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawHeap.html#a06bdc6c257ea30691c7c883de2740263">cppgc::internal::RawHeap::heap</a></div><div class="ttdeci">HeapBase * heap()</div><div class="ttdef"><b>Definition:</b> <a href="raw-heap_8h_source.html#l00085">raw-heap.h:85</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1RawHeap_html_aea0946fc0c4a655af1a6c08e327eee67"><div class="ttname"><a href="classcppgc_1_1internal_1_1RawHeap.html#aea0946fc0c4a655af1a6c08e327eee67">cppgc::internal::RawHeap::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="raw-heap_8h_source.html#l00067">raw-heap.h:67</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_1_1InternalScope_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector_1_1InternalScope.html">cppgc::internal::StatsCollector::InternalScope</a></div><div class="ttdef"><b>Definition:</b> <a href="stats-collector_8h_source.html#l00175">stats-collector.h:175</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html">cppgc::internal::StatsCollector</a></div><div class="ttdef"><b>Definition:</b> <a href="stats-collector_8h_source.html#l00084">stats-collector.h:84</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html_ab27d34434c630e19d33155a73695d32c"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html#ab27d34434c630e19d33155a73695d32c">cppgc::internal::StatsCollector::ResetDiscardedMemory</a></div><div class="ttdeci">void ResetDiscardedMemory()</div><div class="ttdef"><b>Definition:</b> <a href="stats-collector_8cc_source.html#l00368">stats-collector.cc:368</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html_aba57596b172b1392d63085d07b6decb1"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html#aba57596b172b1392d63085d07b6decb1">cppgc::internal::StatsCollector::NotifySweepingCompleted</a></div><div class="ttdeci">void NotifySweepingCompleted(SweepingType)</div><div class="ttdef"><b>Definition:</b> <a href="stats-collector_8cc_source.html#l00261">stats-collector.cc:261</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1StatsCollector_html_af549198afe9620b919765b20fb42a9fb"><div class="ttname"><a href="classcppgc_1_1internal_1_1StatsCollector.html#af549198afe9620b919765b20fb42a9fb">cppgc::internal::StatsCollector::ScopeId</a></div><div class="ttdeci">ScopeId</div><div class="ttdef"><b>Definition:</b> <a href="stats-collector_8h_source.html#l00095">stats-collector.h:95</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01441">sweeper.cc:1441</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_a339a78b2245c01aadc0400c768a62f89"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a339a78b2245c01aadc0400c768a62f89">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::handle_</a></div><div class="ttdeci">Handle handle_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01487">sweeper.cc:1487</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_a5f39cc99d8e69292b45fc9ebef08c5a7"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a5f39cc99d8e69292b45fc9ebef08c5a7">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::IncrementalSweepTask</a></div><div class="ttdeci">IncrementalSweepTask(SweeperImpl &amp;sweeper, cppgc::TaskPriority priority)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01448">sweeper.cc:1448</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_a86f800e267bac912b181a42c4ee22c44"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#a86f800e267bac912b181a42c4ee22c44">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::Run</a></div><div class="ttdeci">void Run() override</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01468">sweeper.cc:1468</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_aaabe9ee00bd24ce6832d0f526c85a42a"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aaabe9ee00bd24ce6832d0f526c85a42a">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::sweeper_</a></div><div class="ttdeci">SweeperImpl &amp; sweeper_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01485">sweeper.cc:1485</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_aca18f5dad278910ef9f034e0a4ca1637"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#aca18f5dad278910ef9f034e0a4ca1637">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::Post</a></div><div class="ttdeci">static Handle Post(SweeperImpl &amp;sweeper, const std::shared_ptr&lt; cppgc::TaskRunner &gt; &amp;runner, cppgc::TaskPriority priority, std::optional&lt; v8::base::TimeDelta &gt; delay={})</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01453">sweeper.cc:1453</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_ae235a134e15d4a14581929da49bffbdf"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#ae235a134e15d4a14581929da49bffbdf">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::priority_</a></div><div class="ttdeci">cppgc::TaskPriority priority_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01488">sweeper.cc:1488</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask_html_af47784d781c1e24aa75f45292286d98f"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1IncrementalSweepTask.html#af47784d781c1e24aa75f45292286d98f">cppgc::internal::Sweeper::SweeperImpl::IncrementalSweepTask::kMaxSweepDuration</a></div><div class="ttdeci">static constexpr auto kMaxSweepDuration</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01445">sweeper.cc:1445</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html">cppgc::internal::Sweeper::SweeperImpl::MutatorThreadSweepingScope</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01416">sweeper.cc:1416</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope_html_a41ab1b15ddb5d8c87f6261684431ad91"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a41ab1b15ddb5d8c87f6261684431ad91">cppgc::internal::Sweeper::SweeperImpl::MutatorThreadSweepingScope::operator=</a></div><div class="ttdeci">MutatorThreadSweepingScope &amp; operator=(const MutatorThreadSweepingScope &amp;)=delete</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope_html_a4c207fa907aebcfdff48f82d62c6119d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a4c207fa907aebcfdff48f82d62c6119d">cppgc::internal::Sweeper::SweeperImpl::MutatorThreadSweepingScope::MutatorThreadSweepingScope</a></div><div class="ttdeci">MutatorThreadSweepingScope(SweeperImpl &amp;sweeper)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01418">sweeper.cc:1418</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope_html_a6216b4ed4eb9b0b6b7b76d5aef62251d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#a6216b4ed4eb9b0b6b7b76d5aef62251d">cppgc::internal::Sweeper::SweeperImpl::MutatorThreadSweepingScope::MutatorThreadSweepingScope</a></div><div class="ttdeci">MutatorThreadSweepingScope(const MutatorThreadSweepingScope &amp;)=delete</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope_html_ada392af2b361f32c54d46413870b6e62"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#ada392af2b361f32c54d46413870b6e62">cppgc::internal::Sweeper::SweeperImpl::MutatorThreadSweepingScope::sweeper_</a></div><div class="ttdeci">SweeperImpl &amp; sweeper_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01438">sweeper.cc:1438</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope_html_af51a8665bcfeb644dab5c8b556dda3e1"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_1_1MutatorThreadSweepingScope.html#af51a8665bcfeb644dab5c8b556dda3e1">cppgc::internal::Sweeper::SweeperImpl::MutatorThreadSweepingScope::~MutatorThreadSweepingScope</a></div><div class="ttdeci">~MutatorThreadSweepingScope()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01426">sweeper.cc:1426</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html">cppgc::internal::Sweeper::SweeperImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00961">sweeper.cc:961</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a018c0243fee3d893ff2ec17413210984"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a018c0243fee3d893ff2ec17413210984">cppgc::internal::Sweeper::SweeperImpl::~SweeperImpl</a></div><div class="ttdeci">~SweeperImpl()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00973">sweeper.cc:973</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a07a2b10e7d126577558c87e78728cb1d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a07a2b10e7d126577558c87e78728cb1d">cppgc::internal::Sweeper::SweeperImpl::stats_collector_</a></div><div class="ttdeci">StatsCollector *const stats_collector_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01622">sweeper.cc:1622</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a08a961bd3bfea83090b37341ccc2a796"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a08a961bd3bfea83090b37341ccc2a796">cppgc::internal::Sweeper::SweeperImpl::IsSweepingInProgress</a></div><div class="ttdeci">bool IsSweepingInProgress() const</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01348">sweeper.cc:1348</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a09adc70e2be54867e4889af5717bb8cb"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a09adc70e2be54867e4889af5717bb8cb">cppgc::internal::Sweeper::SweeperImpl::ScheduleConcurrentSweeping</a></div><div class="ttdeci">void ScheduleConcurrentSweeping()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01575">sweeper.cc:1575</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a0a6c0c87d7ff08d71249de99838b011a"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a6c0c87d7ff08d71249de99838b011a">cppgc::internal::Sweeper::SweeperImpl::unused_destroyed_normal_pages_</a></div><div class="ttdeci">size_t unused_destroyed_normal_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01635">sweeper.cc:1635</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a0a83b612c1fc20fad53f2166af0f59c2"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0a83b612c1fc20fad53f2166af0f59c2">cppgc::internal::Sweeper::SweeperImpl::PerformSweepOnMutatorThread</a></div><div class="ttdeci">bool PerformSweepOnMutatorThread(v8::base::TimeDelta max_duration, StatsCollector::ScopeId internal_scope_id, MutatorThreadSweepingMode sweeping_mode)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01350">sweeper.cc:1350</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a0af3a47710701a62e589bbacbf0ea50a"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0af3a47710701a62e589bbacbf0ea50a">cppgc::internal::Sweeper::SweeperImpl::SweepForTask</a></div><div class="ttdeci">void SweepForTask(v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01033">sweeper.cc:1033</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a0da74e71700b225f97ec34e918d9061e"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a0da74e71700b225f97ec34e918d9061e">cppgc::internal::Sweeper::SweeperImpl::low_priority_foreground_task_runner_</a></div><div class="ttdeci">std::shared_ptr&lt; cppgc::TaskRunner &gt; low_priority_foreground_task_runner_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01638">sweeper.cc:1638</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a1073e86942c3593cf006d837b396daa5"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1073e86942c3593cf006d837b396daa5">cppgc::internal::Sweeper::SweeperImpl::FinishIfRunning</a></div><div class="ttdeci">bool FinishIfRunning()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01210">sweeper.cc:1210</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a16ad7e72b675f0e70b797594afe1fdfb"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a16ad7e72b675f0e70b797594afe1fdfb">cppgc::internal::Sweeper::SweeperImpl::SynchronizeAndFinalizeConcurrentAndIncrementalSweeping</a></div><div class="ttdeci">void SynchronizeAndFinalizeConcurrentAndIncrementalSweeping()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01598">sweeper.cc:1598</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a1afc5e069b12720a466257264f17638d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1afc5e069b12720a466257264f17638d">cppgc::internal::Sweeper::SweeperImpl::SweeperImpl</a></div><div class="ttdeci">SweeperImpl(HeapBase &amp;heap)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00965">sweeper.cc:965</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a1b71cd7455e7e89fb7a7aa75401cdb74"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1b71cd7455e7e89fb7a7aa75401cdb74">cppgc::internal::Sweeper::SweeperImpl::SweepForLargeAllocation</a></div><div class="ttdeci">bool SweepForLargeAllocation(BaseSpace *space, size_t size, v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01077">sweeper.cc:1077</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a1c47be84c886757eb75b48b879a39fe2"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a1c47be84c886757eb75b48b879a39fe2">cppgc::internal::Sweeper::SweeperImpl::is_in_progress_</a></div><div class="ttdeci">bool is_in_progress_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01649">sweeper.cc:1649</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a2199d562391ac6ca200ef189f5cc80c6"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2199d562391ac6ca200ef189f5cc80c6">cppgc::internal::Sweeper::SweeperImpl::SweepForAllocationIfRunning</a></div><div class="ttdeci">bool SweepForAllocationIfRunning(BaseSpace *space, size_t size, v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01193">sweeper.cc:1193</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a2b5872ddda26b2f116732fdf893a3102"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a2b5872ddda26b2f116732fdf893a3102">cppgc::internal::Sweeper::SweeperImpl::ScheduleIncrementalSweeping</a></div><div class="ttdeci">void ScheduleIncrementalSweeping(std::optional&lt; v8::base::TimeDelta &gt; delay={})</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01545">sweeper.cc:1545</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a3682a80434d96a55a3fb3619bb4abe49"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a3682a80434d96a55a3fb3619bb4abe49">cppgc::internal::Sweeper::SweeperImpl::empty_large_pages_</a></div><div class="ttdeci">SweepingState empty_large_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01631">sweeper.cc:1631</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a383d89d4ec1554c6579054cb03ceb594"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a383d89d4ec1554c6579054cb03ceb594">cppgc::internal::Sweeper::SweeperImpl::concurrent_sweeper_handle_</a></div><div class="ttdeci">std::unique_ptr&lt; cppgc::JobHandle &gt; concurrent_sweeper_handle_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01642">sweeper.cc:1642</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a392a31612453be871fa1a95243c1386f"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a392a31612453be871fa1a95243c1386f">cppgc::internal::Sweeper::SweeperImpl::foreground_task_runner_</a></div><div class="ttdeci">std::shared_ptr&lt; cppgc::TaskRunner &gt; foreground_task_runner_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01637">sweeper.cc:1637</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a4c7350e4416bf336c4e8d2846993cf8c"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a4c7350e4416bf336c4e8d2846993cf8c">cppgc::internal::Sweeper::SweeperImpl::is_sweeping_on_mutator_thread_</a></div><div class="ttdeci">bool is_sweeping_on_mutator_thread_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01653">sweeper.cc:1653</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a51dbc753d32d72b2b1eb8df08753a99d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a51dbc753d32d72b2b1eb8df08753a99d">cppgc::internal::Sweeper::SweeperImpl::incremental_sweeper_low_priority_handle_</a></div><div class="ttdeci">IncrementalSweepTask::Handle incremental_sweeper_low_priority_handle_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01641">sweeper.cc:1641</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a5933a1923d624ce0ab01c4c931a2ecfb"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5933a1923d624ce0ab01c4c931a2ecfb">cppgc::internal::Sweeper::SweeperImpl::IsSweepingOnMutatorThread</a></div><div class="ttdeci">bool IsSweepingOnMutatorThread() const</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01344">sweeper.cc:1344</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a5ac6c0a3bdfd97ba65faeb939d068441"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5ac6c0a3bdfd97ba65faeb939d068441">cppgc::internal::Sweeper::SweeperImpl::platform_</a></div><div class="ttdeci">cppgc::Platform * platform_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01636">sweeper.cc:1636</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a5c2e86a17e2c2a978170109445bc03ce"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a5c2e86a17e2c2a978170109445bc03ce">cppgc::internal::Sweeper::SweeperImpl::NotifyDone</a></div><div class="ttdeci">void NotifyDone()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01329">sweeper.cc:1329</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a604dd3c64cd9e333165ad8742616b1f6"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a604dd3c64cd9e333165ad8742616b1f6">cppgc::internal::Sweeper::SweeperImpl::ScheduleLowPriorityIncrementalSweeping</a></div><div class="ttdeci">void ScheduleLowPriorityIncrementalSweeping(std::optional&lt; v8::base::TimeDelta &gt; delay={})</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01560">sweeper.cc:1560</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a6862740b1c8a1f4405bc78ae1dcfdf6b"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6862740b1c8a1f4405bc78ae1dcfdf6b">cppgc::internal::Sweeper::SweeperImpl::SweepInForegroundTaskImpl</a></div><div class="ttdeci">SweepResult SweepInForegroundTaskImpl(v8::base::TimeDelta max_duration, StatsCollector::ScopeId scope)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01514">sweeper.cc:1514</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a6e99a78241227114dcb3889d30d1c1d9"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a6e99a78241227114dcb3889d30d1c1d9">cppgc::internal::Sweeper::SweeperImpl::kDelayWhileConcurrentSweepingMakesProgress</a></div><div class="ttdeci">static constexpr auto kDelayWhileConcurrentSweepingMakesProgress</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01506">sweeper.cc:1506</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a7abf0d2d7051558661e6bdce31e93de8"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7abf0d2d7051558661e6bdce31e93de8">cppgc::internal::Sweeper::SweeperImpl::kMaxHeapPercentageForNoSweeping</a></div><div class="ttdeci">static constexpr double kMaxHeapPercentageForNoSweeping</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01501">sweeper.cc:1501</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a7baf2742669ed6e55641bde2578e037b"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7baf2742669ed6e55641bde2578e037b">cppgc::internal::Sweeper::SweeperImpl::AddMutatorThreadSweepingObserver</a></div><div class="ttdeci">void AddMutatorThreadSweepingObserver(Sweeper::SweepingOnMutatorThreadObserver *observer)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01398">sweeper.cc:1398</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a7c65e2e4463d58077d88969641e0f377"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a7c65e2e4463d58077d88969641e0f377">cppgc::internal::Sweeper::SweeperImpl::WaitForConcurrentSweepingForTesting</a></div><div class="ttdeci">void WaitForConcurrentSweepingForTesting()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01340">sweeper.cc:1340</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a874b1dcab479f163a4dff2fcdae7ddf0"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a874b1dcab479f163a4dff2fcdae7ddf0">cppgc::internal::Sweeper::SweeperImpl::SweepForNormalAllocation</a></div><div class="ttdeci">bool SweepForNormalAllocation(BaseSpace *space, size_t size, v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01126">sweeper.cc:1126</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a88c4e2920a0584768b2949d9f716438f"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a88c4e2920a0584768b2949d9f716438f">cppgc::internal::Sweeper::SweeperImpl::FinishIfOutOfWork</a></div><div class="ttdeci">void FinishIfOutOfWork()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01245">sweeper.cc:1245</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a9238b868273b35ccd4757b1933e105f8"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a9238b868273b35ccd4757b1933e105f8">cppgc::internal::Sweeper::SweeperImpl::SweepForLowPriorityTask</a></div><div class="ttdeci">void SweepForLowPriorityTask(v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01059">sweeper.cc:1059</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_a94eb8a5d70abff1a828d39c453f9351a"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#a94eb8a5d70abff1a828d39c453f9351a">cppgc::internal::Sweeper::SweeperImpl::low_priority_task_ran_</a></div><div class="ttdeci">bool low_priority_task_ran_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01647">sweeper.cc:1647</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa01bdc858b822145625b815817065d93"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa01bdc858b822145625b815817065d93">cppgc::internal::Sweeper::SweeperImpl::empty_normal_pages_</a></div><div class="ttdeci">SweepingState empty_normal_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01626">sweeper.cc:1626</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa0321e268e7a0ae54f6ad69b1c72ff68"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa0321e268e7a0ae54f6ad69b1c72ff68">cppgc::internal::Sweeper::SweeperImpl::FinalizeSweep</a></div><div class="ttdeci">void FinalizeSweep()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01317">sweeper.cc:1317</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa28147243c54cc2d1a1e930f7d2a2b03"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa28147243c54cc2d1a1e930f7d2a2b03">cppgc::internal::Sweeper::SweeperImpl::incremental_sweeper_handle_</a></div><div class="ttdeci">IncrementalSweepTask::Handle incremental_sweeper_handle_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01640">sweeper.cc:1640</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa55fddb91116a03368bd9f8ce0ccae90"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa55fddb91116a03368bd9f8ce0ccae90">cppgc::internal::Sweeper::SweeperImpl::CancelAllSweepingTasks</a></div><div class="ttdeci">void CancelAllSweepingTasks()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01586">sweeper.cc:1586</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa6755491eef462d07129c28ef3af66d7"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa6755491eef462d07129c28ef3af66d7">cppgc::internal::Sweeper::SweeperImpl::IsConcurrentSweepingDone</a></div><div class="ttdeci">bool IsConcurrentSweepingDone() const</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01239">sweeper.cc:1239</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa9f5ee10174c21c11c21c7967feedbfd"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfd">cppgc::internal::Sweeper::SweeperImpl::SweepResult</a></div><div class="ttdeci">SweepResult</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01491">sweeper.cc:1491</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa9f5ee10174c21c11c21c7967feedbfda0d09a587502569598e6e97d5ae834a08"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda0d09a587502569598e6e97d5ae834a08">cppgc::internal::Sweeper::SweeperImpl::SweepResult::kInProgress</a></div><div class="ttdeci">@ kInProgress</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa9f5ee10174c21c11c21c7967feedbfda12bcbfdbf7053b7faac48a2c7b195c9c"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfda12bcbfdbf7053b7faac48a2c7b195c9c">cppgc::internal::Sweeper::SweeperImpl::SweepResult::kMainThreadDoneConcurrentInProgress</a></div><div class="ttdeci">@ kMainThreadDoneConcurrentInProgress</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_aa9f5ee10174c21c11c21c7967feedbfdadbb5c63e1a8d02ea710bc173dca28e6d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#aa9f5ee10174c21c11c21c7967feedbfdadbb5c63e1a8d02ea710bc173dca28e6d">cppgc::internal::Sweeper::SweeperImpl::SweepResult::kFullyDone</a></div><div class="ttdeci">@ kFullyDone</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_ab319826e15e37e0d8fc376a18c0d29a4"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ab319826e15e37e0d8fc376a18c0d29a4">cppgc::internal::Sweeper::SweeperImpl::notify_done_pending_</a></div><div class="ttdeci">bool notify_done_pending_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01650">sweeper.cc:1650</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_abfd457d5936afff417e864651b2afcee"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#abfd457d5936afff417e864651b2afcee">cppgc::internal::Sweeper::SweeperImpl::config_</a></div><div class="ttdeci">SweepingConfig config_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01639">sweeper.cc:1639</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_ac5615c54061fe6e28b30fd20f87fbdc2"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5615c54061fe6e28b30fd20f87fbdc2">cppgc::internal::Sweeper::SweeperImpl::Finish</a></div><div class="ttdeci">void Finish()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01286">sweeper.cc:1286</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_ac5d733d82044b1aa719f5dd61e4a0420"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ac5d733d82044b1aa719f5dd61e4a0420">cppgc::internal::Sweeper::SweeperImpl::kDelayWhileLowPrioritySweepingMakesProgress</a></div><div class="ttdeci">static constexpr auto kDelayWhileLowPrioritySweepingMakesProgress</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01503">sweeper.cc:1503</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_acf631a37a7055062e6b4cbaf2cbafba8"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#acf631a37a7055062e6b4cbaf2cbafba8">cppgc::internal::Sweeper::SweeperImpl::heap_</a></div><div class="ttdeci">RawHeap &amp; heap_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01620">sweeper.cc:1620</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_ad469b122af4dd795b64f839ca0f60eb6"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ad469b122af4dd795b64f839ca0f60eb6">cppgc::internal::Sweeper::SweeperImpl::space_states_</a></div><div class="ttdeci">SpaceStates space_states_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01623">sweeper.cc:1623</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_add81056fdc396d56a3c86ad6445ad6fc"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#add81056fdc396d56a3c86ad6445ad6fc">cppgc::internal::Sweeper::SweeperImpl::kDelayForRegularPrioritySweeping</a></div><div class="ttdeci">static constexpr auto kDelayForRegularPrioritySweeping</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01511">sweeper.cc:1511</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_ae3f9191c2e152607b414966ee8385785"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#ae3f9191c2e152607b414966ee8385785">cppgc::internal::Sweeper::SweeperImpl::Start</a></div><div class="ttdeci">void Start(SweepingConfig config)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00975">sweeper.cc:975</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_af6c45ba49b73c5f576fb954b9e859f2f"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#af6c45ba49b73c5f576fb954b9e859f2f">cppgc::internal::Sweeper::SweeperImpl::page_pool_</a></div><div class="ttdeci">NormalPageMemoryPool &amp; page_pool_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01621">sweeper.cc:1621</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_afad0b04be9965e71af4ddfdcc7cbf7d3"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afad0b04be9965e71af4ddfdcc7cbf7d3">cppgc::internal::Sweeper::SweeperImpl::mutator_thread_sweeping_observers_</a></div><div class="ttdeci">std::vector&lt; Sweeper::SweepingOnMutatorThreadObserver * &gt; mutator_thread_sweeping_observers_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01644">sweeper.cc:1644</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweeperImpl_html_afed324d53ba90b8a299c031fef79ffdf"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweeperImpl.html#afed324d53ba90b8a299c031fef79ffdf">cppgc::internal::Sweeper::SweeperImpl::RemoveMutatorThreadSweepingObserver</a></div><div class="ttdeci">void RemoveMutatorThreadSweepingObserver(Sweeper::SweepingOnMutatorThreadObserver *observer)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01406">sweeper.cc:1406</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8h_source.html#l00024">sweeper.h:24</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver_html_a2d218217268bfa119131ddfbfc510eac"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#a2d218217268bfa119131ddfbfc510eac">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver::sweeper_</a></div><div class="ttdeci">Sweeper &amp; sweeper_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8h_source.html#l00033">sweeper.h:33</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver_html_a5f4ba76c3960b1ecec78d52e2a5a49f5"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#a5f4ba76c3960b1ecec78d52e2a5a49f5">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver::~SweepingOnMutatorThreadObserver</a></div><div class="ttdeci">virtual ~SweepingOnMutatorThreadObserver()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01696">sweeper.cc:1696</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver_html_aa10ff491f3f99d0786fc0d1ac54f990e"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper_1_1SweepingOnMutatorThreadObserver.html#aa10ff491f3f99d0786fc0d1ac54f990e">cppgc::internal::Sweeper::SweepingOnMutatorThreadObserver::SweepingOnMutatorThreadObserver</a></div><div class="ttdeci">SweepingOnMutatorThreadObserver(Sweeper &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01690">sweeper.cc:1690</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html">cppgc::internal::Sweeper</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8h_source.html#l00022">sweeper.h:22</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a0fd0da301ca9e0e2f9eb2d7d6bfa7d0f"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a0fd0da301ca9e0e2f9eb2d7d6bfa7d0f">cppgc::internal::Sweeper::IsSweepingOnMutatorThread</a></div><div class="ttdeci">bool IsSweepingOnMutatorThread() const</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01676">sweeper.cc:1676</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a1ab95c1d630cbd53cea3ed89f7df1760"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a1ab95c1d630cbd53cea3ed89f7df1760">cppgc::internal::Sweeper::SweepForAllocationIfRunning</a></div><div class="ttdeci">bool SweepForAllocationIfRunning(BaseSpace *space, size_t min_wanted_size, v8::base::TimeDelta max_duration)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01671">sweeper.cc:1671</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a1b602b8a83aa8eb08d21bfa457e3fbab"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a1b602b8a83aa8eb08d21bfa457e3fbab">cppgc::internal::Sweeper::~Sweeper</a></div><div class="ttdeci">~Sweeper()</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a20810eaca7b7e7220910491cdb9e586d"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a20810eaca7b7e7220910491cdb9e586d">cppgc::internal::Sweeper::IsSweepingInProgress</a></div><div class="ttdeci">bool IsSweepingInProgress() const</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01680">sweeper.cc:1680</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a4856f88b618e959eced02f8e6665c769"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a4856f88b618e959eced02f8e6665c769">cppgc::internal::Sweeper::impl_</a></div><div class="ttdeci">std::unique_ptr&lt; SweeperImpl &gt; impl_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8h_source.html#l00082">sweeper.h:82</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a6966fd3b9af81845c4492728f19fa340"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a6966fd3b9af81845c4492728f19fa340">cppgc::internal::Sweeper::FinishIfOutOfWork</a></div><div class="ttdeci">void FinishIfOutOfWork()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01665">sweeper.cc:1665</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_a9056c63a10295a470115116c97b8aca8"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#a9056c63a10295a470115116c97b8aca8">cppgc::internal::Sweeper::Sweeper</a></div><div class="ttdeci">Sweeper(HeapBase &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01656">sweeper.cc:1656</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_abef60b3e2f8ea9058a7c9ac4e0d13729"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#abef60b3e2f8ea9058a7c9ac4e0d13729">cppgc::internal::Sweeper::Start</a></div><div class="ttdeci">void Start(SweepingConfig)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01661">sweeper.cc:1661</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_ad46d61cb166f6b8a8ac16954c4c85ada"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#ad46d61cb166f6b8a8ac16954c4c85ada">cppgc::internal::Sweeper::PerformSweepOnMutatorThread</a></div><div class="ttdeci">bool PerformSweepOnMutatorThread(v8::base::TimeDelta max_duration, StatsCollector::ScopeId)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01684">sweeper.cc:1684</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_af09b5d03ff99e7984c5d8272b0722e34"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#af09b5d03ff99e7984c5d8272b0722e34">cppgc::internal::Sweeper::FinishIfRunning</a></div><div class="ttdeci">bool FinishIfRunning()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01663">sweeper.cc:1663</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_af6a9fe091226ee71ae31b64cb29f8ede"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#af6a9fe091226ee71ae31b64cb29f8ede">cppgc::internal::Sweeper::WaitForConcurrentSweepingForTesting</a></div><div class="ttdeci">void WaitForConcurrentSweepingForTesting()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l01667">sweeper.cc:1667</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1Sweeper_html_af78ffe1831bdbb1cfc3ecb7b92daf2e6"><div class="ttname"><a href="classcppgc_1_1internal_1_1Sweeper.html#af78ffe1831bdbb1cfc3ecb7b92daf2e6">cppgc::internal::Sweeper::CanDiscardMemory</a></div><div class="ttdeci">static constexpr bool CanDiscardMemory()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8h_source.html#l00036">sweeper.h:36</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00764">sweeper.cc:765</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_a09dc9a78f3bbbb233a798f601eb684bf"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a09dc9a78f3bbbb233a798f601eb684bf">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::SweepStateOrYield</a></div><div class="ttdeci">bool SweepStateOrYield(cppgc::JobDelegate *delegate, SweepingState &amp;state)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00808">sweeper.cc:808</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_a3bb01f18fa4e6e71d28e94ccb2b4cfaf"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a3bb01f18fa4e6e71d28e94ccb2b4cfaf">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::free_memory_handling_</a></div><div class="ttdeci">const FreeMemoryHandling free_memory_handling_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00863">sweeper.cc:863</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_a3dc3cc25af4981e0d3cc425a285ed8b3"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a3dc3cc25af4981e0d3cc425a285ed8b3">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::VisitNormalPage</a></div><div class="ttdeci">bool VisitNormalPage(NormalPage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00820">sweeper.cc:820</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_a8e1dda9f43bed5eaa48fa086b88397dc"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a8e1dda9f43bed5eaa48fa086b88397dc">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::empty_normal_pages_</a></div><div class="ttdeci">SweepingState *const empty_normal_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00859">sweeper.cc:859</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_a92cf56ccfa6ec5b953218ec406deaf53"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a92cf56ccfa6ec5b953218ec406deaf53">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::GetMaxConcurrency</a></div><div class="ttdeci">size_t GetMaxConcurrency(size_t) const final</div><div class="ttdoc">Controls the maximum number of threads calling Run() concurrently, given the number of threads curren...</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00802">sweeper.cc:802</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_a9cd3ba008f03338a44de69b43d04e66d"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#a9cd3ba008f03338a44de69b43d04e66d">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::VisitLargePage</a></div><div class="ttdeci">bool VisitLargePage(LargePage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00836">sweeper.cc:836</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_ab59598c3b3f71d60fcf1b71bfd89c903"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab59598c3b3f71d60fcf1b71bfd89c903">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::heap_</a></div><div class="ttdeci">HeapBase &amp; heap_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00856">sweeper.cc:856</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_ab9cea87f61a1efb829d392f91c762f3d"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ab9cea87f61a1efb829d392f91c762f3d">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::space_states_</a></div><div class="ttdeci">SpaceStates *const space_states_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00858">sweeper.cc:858</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_aca61e5d8ea9a8160b74028450d0971b5"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#aca61e5d8ea9a8160b74028450d0971b5">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::page_allocator_</a></div><div class="ttdeci">PageAllocator &amp; page_allocator_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00857">sweeper.cc:857</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_ae672fe5babe2ecd1d2d9606098a35fee"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#ae672fe5babe2ecd1d2d9606098a35fee">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::ConcurrentSweepTask</a></div><div class="ttdeci">ConcurrentSweepTask(Platform *platform, HeapBase &amp;heap, SpaceStates *space_states, SweepingState *empty_normal_pages, SweepingState *empty_large_pages, FreeMemoryHandling free_memory_handling)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00771">sweeper.cc:771</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_afa30ade37d09ef00d64d3f28f4137092"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#afa30ade37d09ef00d64d3f28f4137092">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::empty_large_pages_</a></div><div class="ttdeci">SweepingState *const empty_large_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00860">sweeper.cc:860</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask_html_afb97e653bc227278f23529a3de7fe6b8"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ConcurrentSweepTask.html#afb97e653bc227278f23529a3de7fe6b8">cppgc::internal::anonymous_namespace{sweeper.cc}::ConcurrentSweepTask::Run</a></div><div class="ttdeci">void Run(cppgc::JobDelegate *delegate) final</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00784">sweeper.cc:784</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html">cppgc::internal::anonymous_namespace{sweeper.cc}::DeadlineChecker</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00042">sweeper.cc:42</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker_html_a0ff1c4c9f7e686ee1e3ec4007c082ca9"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a0ff1c4c9f7e686ee1e3ec4007c082ca9">cppgc::internal::anonymous_namespace{sweeper.cc}::DeadlineChecker::DeadlineChecker</a></div><div class="ttdeci">DeadlineChecker(v8::base::TimeTicks end)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00044">sweeper.cc:44</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker_html_a16a3a979b911c33bef1600b98062b26d"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a16a3a979b911c33bef1600b98062b26d">cppgc::internal::anonymous_namespace{sweeper.cc}::DeadlineChecker::Check</a></div><div class="ttdeci">bool Check()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00046">sweeper.cc:46</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker_html_a6773a114dbc798c95aada31e079380ac"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeadlineChecker.html#a6773a114dbc798c95aada31e079380ac">cppgc::internal::anonymous_namespace{sweeper.cc}::DeadlineChecker::end_</a></div><div class="ttdeci">const v8::base::TimeTicks end_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00054">sweeper.cc:54</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html">cppgc::internal::anonymous_namespace{sweeper.cc}::DeferredFinalizationBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00288">sweeper.cc:288</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder_html_a2f9282b24baf99d5853d869d10108e5a"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a2f9282b24baf99d5853d869d10108e5a">cppgc::internal::anonymous_namespace{sweeper.cc}::DeferredFinalizationBuilder::AddFinalizer</a></div><div class="ttdeci">void AddFinalizer(HeapObjectHeader *header, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00297">sweeper.cc:297</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder_html_a79f4eebe4de886e8794499d3bd1d3806"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#a79f4eebe4de886e8794499d3bd1d3806">cppgc::internal::anonymous_namespace{sweeper.cc}::DeferredFinalizationBuilder::DeferredFinalizationBuilder</a></div><div class="ttdeci">DeferredFinalizationBuilder(BasePage &amp;page, PageAllocator &amp;page_allocator)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00292">sweeper.cc:292</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder_html_aad9f5a1251154c242572c99c12d6a274"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#aad9f5a1251154c242572c99c12d6a274">cppgc::internal::anonymous_namespace{sweeper.cc}::DeferredFinalizationBuilder::GetResult</a></div><div class="ttdeci">ResultType &amp;&amp; GetResult(bool is_empty)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00328">sweeper.cc:328</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder_html_acb9c86779b4ef2cd7df00be5aa1e7076"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#acb9c86779b4ef2cd7df00be5aa1e7076">cppgc::internal::anonymous_namespace{sweeper.cc}::DeferredFinalizationBuilder::result_</a></div><div class="ttdeci">ResultType result_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00334">sweeper.cc:334</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder_html_ae2b2cd5c2eba85087786765ee949d36f"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DeferredFinalizationBuilder.html#ae2b2cd5c2eba85087786765ee949d36f">cppgc::internal::anonymous_namespace{sweeper.cc}::DeferredFinalizationBuilder::AddFreeListEntry</a></div><div class="ttdeci">void AddFreeListEntry(Address start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00317">sweeper.cc:317</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00120">sweeper.cc:120</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html_a0c0d4da51a66bbd518af52443eed147a"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a0c0d4da51a66bbd518af52443eed147a">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler::FreeFreeList</a></div><div class="ttdeci">void FreeFreeList(std::vector&lt; FreeList::Block &gt; &amp;unfinalized_free_list) final</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00148">sweeper.cc:148</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html_a10ea5ff0fc71fe71420ced9a0e290ebe"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a10ea5ff0fc71fe71420ced9a0e290ebe">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler::free_list_</a></div><div class="ttdeci">FreeList &amp; free_list_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00156">sweeper.cc:156</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html_a64a782e210e146527d2e49d459e6fd15"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#a64a782e210e146527d2e49d459e6fd15">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler::page_</a></div><div class="ttdeci">BasePage &amp; page_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00157">sweeper.cc:157</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html_aa598ef514eaf8cf4bd70da2dabe4e438"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#aa598ef514eaf8cf4bd70da2dabe4e438">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler::page_allocator_</a></div><div class="ttdeci">PageAllocator &amp; page_allocator_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00155">sweeper.cc:155</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html_aa7a8e6b810e554be101261d61ae0501c"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#aa7a8e6b810e554be101261d61ae0501c">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler::Free</a></div><div class="ttdeci">void Free(FreeList::Block block)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00126">sweeper.cc:126</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler_html_ac66385db9337abb10a859ee88fdc5a99"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1DiscardingFreeHandler.html#ac66385db9337abb10a859ee88fdc5a99">cppgc::internal::anonymous_namespace{sweeper.cc}::DiscardingFreeHandler::DiscardingFreeHandler</a></div><div class="ttdeci">DiscardingFreeHandler(PageAllocator &amp;page_allocator, FreeList &amp;free_list, BasePage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00122">sweeper.cc:122</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html">cppgc::internal::anonymous_namespace{sweeper.cc}::FreeHandlerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00113">sweeper.cc:113</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase_html_a0cea32bb45495e5913dee9e903d05f07"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html#a0cea32bb45495e5913dee9e903d05f07">cppgc::internal::anonymous_namespace{sweeper.cc}::FreeHandlerBase::~FreeHandlerBase</a></div><div class="ttdeci">virtual ~FreeHandlerBase()=default</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase_html_abad82ee7b6b40d563d2b8f60733f2e06"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1FreeHandlerBase.html#abad82ee7b6b40d563d2b8f60733f2e06">cppgc::internal::anonymous_namespace{sweeper.cc}::FreeHandlerBase::FreeFreeList</a></div><div class="ttdeci">virtual void FreeFreeList(std::vector&lt; FreeList::Block &gt; &amp;unfinalized_free_list)=0</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilderBase</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00249">sweeper.cc:249</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_html_a72baf16247cdb2f96fe3f84a5af6197e"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase.html#a72baf16247cdb2f96fe3f84a5af6197e">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilderBase::result_</a></div><div class="ttdeci">ResultType result_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00257">sweeper.cc:257</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilder</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00262">sweeper.cc:263</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder_html_a0561072cff2f0ddee8f3a315ded6d3aa"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a0561072cff2f0ddee8f3a315ded6d3aa">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilder::GetResult</a></div><div class="ttdeci">ResultType &amp;&amp; GetResult(bool is_empty)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00280">sweeper.cc:280</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder_html_a1a643dd8b2dbb220dfa8fdbb7a49d963"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a1a643dd8b2dbb220dfa8fdbb7a49d963">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilder::AddFinalizer</a></div><div class="ttdeci">void AddFinalizer(HeapObjectHeader *header, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00269">sweeper.cc:269</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder_html_a430cde678344ef8da581cec58636c12e"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#a430cde678344ef8da581cec58636c12e">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilder::AddFreeListEntry</a></div><div class="ttdeci">void AddFreeListEntry(Address start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00274">sweeper.cc:274</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder_html_ad2da6e2a57f038e532632c1008cb70c2"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilder.html#ad2da6e2a57f038e532632c1008cb70c2">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilder::InlinedFinalizationBuilder</a></div><div class="ttdeci">InlinedFinalizationBuilder(BasePage &amp;page, PageAllocator &amp;page_allocator)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00265">sweeper.cc:265</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00605">sweeper.cc:605</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a00e544f956795d78918f6911a8f24875"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a00e544f956795d78918f6911a8f24875">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::Sweep</a></div><div class="ttdeci">void Sweep(SpaceStates &amp;states)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00634">sweeper.cc:634</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a021c72fe0b75700f23d791f2a4400511"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a021c72fe0b75700f23d791f2a4400511">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::SweepLiveLargePage</a></div><div class="ttdeci">static void SweepLiveLargePage(LargePage &amp;page, StickyBits sticky_bits)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00624">sweeper.cc:624</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a142182a93177043d0a5b85a9584b81a4"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a142182a93177043d0a5b85a9584b81a4">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::space_</a></div><div class="ttdeci">BaseSpace * space_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00757">sweeper.cc:757</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a15f0b122937a95286c70dfc353dc0aaf"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a15f0b122937a95286c70dfc353dc0aaf">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::SweepWithDeadlineAndSize</a></div><div class="ttdeci">bool SweepWithDeadlineAndSize(StatsCollector::ScopeId scope_id, SweepingState &amp;state, v8::base::TimeTicks deadline, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00671">sweeper.cc:671</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a1b1e2f305e2d396842e4521ee49a2481"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a1b1e2f305e2d396842e4521ee49a2481">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::VisitNormalPage</a></div><div class="ttdeci">bool VisitNormalPage(NormalPage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00705">sweeper.cc:705</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a3f0b30bc3bb2f8823ceed1e7d456396d"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a3f0b30bc3bb2f8823ceed1e7d456396d">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::empty_page_handling_</a></div><div class="ttdeci">const EmptyPageHandling empty_page_handling_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00760">sweeper.cc:760</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a85e715b29f680300b6ddd567fdf6032a"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a85e715b29f680300b6ddd567fdf6032a">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::stats_collector_</a></div><div class="ttdeci">StatsCollector * stats_collector_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00753">sweeper.cc:753</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_a98c6f849f60f847ea8ab2a6e36201f35"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#a98c6f849f60f847ea8ab2a6e36201f35">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::unused_destroyed_normal_pages_</a></div><div class="ttdeci">size_t * unused_destroyed_normal_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00758">sweeper.cc:758</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_aa6dcad3c6dc8a1d0fbd632599c6281d4"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#aa6dcad3c6dc8a1d0fbd632599c6281d4">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::platform_</a></div><div class="ttdeci">cppgc::Platform * platform_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00752">sweeper.cc:752</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_abad8268cccced126f2293f0dd936c04f"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#abad8268cccced126f2293f0dd936c04f">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::MutatorThreadSweeper</a></div><div class="ttdeci">MutatorThreadSweeper(HeapBase *heap, cppgc::Platform *platform, StatsCollector *stats_collector, BaseSpace *space, size_t *unused_destroyed_normal_pages, FreeMemoryHandling free_memory_handling, EmptyPageHandling empty_page_handling)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00611">sweeper.cc:611</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_ac554a5605391e24cf1ad1d98b04b9a6c"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ac554a5605391e24cf1ad1d98b04b9a6c">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::FinalizeAndSweepWithDeadline</a></div><div class="ttdeci">bool FinalizeAndSweepWithDeadline(StatsCollector::ScopeId scope_id, SweepingState &amp;state, v8::base::TimeTicks deadline, MutatorThreadSweepingMode sweeping_mode)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00650">sweeper.cc:650</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_ac8ab932de16f14bab1acd3307ca3e424"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ac8ab932de16f14bab1acd3307ca3e424">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::free_memory_handling_</a></div><div class="ttdeci">const FreeMemoryHandling free_memory_handling_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00759">sweeper.cc:759</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_accc6fc804ae8ef18c2216600d8a8ba9b"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#accc6fc804ae8ef18c2216600d8a8ba9b">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::Sweep</a></div><div class="ttdeci">void Sweep(SweepingState &amp;state)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00640">sweeper.cc:640</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_ad1e4d573b1a8ce67630fa9a2c208a8b9"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ad1e4d573b1a8ce67630fa9a2c208a8b9">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::VisitLargePage</a></div><div class="ttdeci">bool VisitLargePage(LargePage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00741">sweeper.cc:741</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_ad65793290475db95222f72fe6408653e"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#ad65793290475db95222f72fe6408653e">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::SweepSpaceWithDeadline</a></div><div class="ttdeci">bool SweepSpaceWithDeadline(SweepingState *state, v8::base::TimeTicks deadline)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00692">sweeper.cc:692</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper_html_af4c5cff6245f5ff8eaf23ea311dd4e95"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1MutatorThreadSweeper.html#af4c5cff6245f5ff8eaf23ea311dd4e95">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweeper::SweepPage</a></div><div class="ttdeci">void SweepPage(BasePage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00646">sweeper.cc:646</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html">cppgc::internal::anonymous_namespace{sweeper.cc}::ObjectStartBitmapVerifier</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00072">sweeper.cc:73</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier_html_a0d5d32c9e12ce5ca60b03f8916acde35"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a0d5d32c9e12ce5ca60b03f8916acde35">cppgc::internal::anonymous_namespace{sweeper.cc}::ObjectStartBitmapVerifier::VisitHeapObjectHeader</a></div><div class="ttdeci">bool VisitHeapObjectHeader(HeapObjectHeader &amp;header)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00096">sweeper.cc:96</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier_html_a4ee83c06e1d0a0d1a4ec1ade5ada5f0e"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a4ee83c06e1d0a0d1a4ec1ade5ada5f0e">cppgc::internal::anonymous_namespace{sweeper.cc}::ObjectStartBitmapVerifier::VisitNormalPage</a></div><div class="ttdeci">bool VisitNormalPage(NormalPage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00089">sweeper.cc:89</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier_html_a5de0345fe450090e40779c5ec9b38195"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#a5de0345fe450090e40779c5ec9b38195">cppgc::internal::anonymous_namespace{sweeper.cc}::ObjectStartBitmapVerifier::Verify</a></div><div class="ttdeci">void Verify(NormalPage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00082">sweeper.cc:82</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier_html_ad70a09b211d62003f771013c9ffad4cd"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ObjectStartBitmapVerifier.html#ad70a09b211d62003f771013c9ffad4cd">cppgc::internal::anonymous_namespace{sweeper.cc}::ObjectStartBitmapVerifier::Verify</a></div><div class="ttdeci">void Verify(RawHeap &amp;heap)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00077">sweeper.cc:77</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00878">sweeper.cc:879</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a39963738f1543ff9b95ea453573cc7f3"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a39963738f1543ff9b95ea453573cc7f3">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::PrepareForSweepVisitor</a></div><div class="ttdeci">PrepareForSweepVisitor(HeapBase *heap, SpaceStates *space_states, SweepingState *empty_normal_pages, SweepingState *empty_large_pages, CompactableSpaceHandling compactable_space_handling)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00884">sweeper.cc:884</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a58e058767db31de871ecac3430aab7da"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a58e058767db31de871ecac3430aab7da">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::VisitNormalPageSpace</a></div><div class="ttdeci">bool VisitNormalPageSpace(NormalPageSpace &amp;space)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00900">sweeper.cc:900</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a70c5c0fe422b6ff1552b378f59acbf70"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a70c5c0fe422b6ff1552b378f59acbf70">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::compactable_space_handling_</a></div><div class="ttdeci">CompactableSpaceHandling compactable_space_handling_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00956">sweeper.cc:956</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a75851852ef5d1f8d19395585fb5fac60"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a75851852ef5d1f8d19395585fb5fac60">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::space_states_</a></div><div class="ttdeci">SpaceStates *const space_states_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00953">sweeper.cc:953</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a8f0842e33338e268bcf3f16785bb4fc1"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a8f0842e33338e268bcf3f16785bb4fc1">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::Run</a></div><div class="ttdeci">void Run(RawHeap &amp;raw_heap)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00894">sweeper.cc:894</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a940ad18b8736f35a376a490865b97d65"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a940ad18b8736f35a376a490865b97d65">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::empty_large_pages_</a></div><div class="ttdeci">SweepingState *const empty_large_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00955">sweeper.cc:955</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_a9e097e2cc47cb67c7666724a0477bbf2"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#a9e097e2cc47cb67c7666724a0477bbf2">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::heap_</a></div><div class="ttdeci">HeapBase *const heap_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00952">sweeper.cc:952</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_aae5bacdbb3c550f4bfecc116dbacbf65"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#aae5bacdbb3c550f4bfecc116dbacbf65">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::VisitLargePageSpace</a></div><div class="ttdeci">bool VisitLargePageSpace(LargePageSpace &amp;space)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00928">sweeper.cc:928</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor_html_aca2a46cea4b0a9c3ed2a939a71c6021a"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1PrepareForSweepVisitor.html#aca2a46cea4b0a9c3ed2a939a71c6021a">cppgc::internal::anonymous_namespace{sweeper.cc}::PrepareForSweepVisitor::empty_normal_pages_</a></div><div class="ttdeci">SweepingState *const empty_normal_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00954">sweeper.cc:954</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html">cppgc::internal::anonymous_namespace{sweeper.cc}::RegularFreeHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00160">sweeper.cc:160</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler_html_a24626f33cff9cbc05e7d5fc1b21ddc07"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a24626f33cff9cbc05e7d5fc1b21ddc07">cppgc::internal::anonymous_namespace{sweeper.cc}::RegularFreeHandler::Free</a></div><div class="ttdeci">void Free(FreeList::Block block)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00166">sweeper.cc:166</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler_html_a27b2e50ed8b78c4319e68533a90ad056"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a27b2e50ed8b78c4319e68533a90ad056">cppgc::internal::anonymous_namespace{sweeper.cc}::RegularFreeHandler::RegularFreeHandler</a></div><div class="ttdeci">RegularFreeHandler(PageAllocator &amp;page_allocator, FreeList &amp;free_list, BasePage &amp;page)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00162">sweeper.cc:162</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler_html_a2fec738f2f7d3108f3b8f5bd23dd0368"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#a2fec738f2f7d3108f3b8f5bd23dd0368">cppgc::internal::anonymous_namespace{sweeper.cc}::RegularFreeHandler::free_list_</a></div><div class="ttdeci">FreeList &amp; free_list_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00175">sweeper.cc:175</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler_html_ac24d582b9a61d4249d96fd7afdd4643f"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1RegularFreeHandler.html#ac24d582b9a61d4249d96fd7afdd4643f">cppgc::internal::anonymous_namespace{sweeper.cc}::RegularFreeHandler::FreeFreeList</a></div><div class="ttdeci">void FreeFreeList(std::vector&lt; FreeList::Block &gt; &amp;unfinalized_free_list) final</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00168">sweeper.cc:168</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00426">sweeper.cc:426</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_a4ccc9fa04fbab7104791f98f52024c57"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a4ccc9fa04fbab7104791f98f52024c57">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::unused_destroyed_normal_pages_</a></div><div class="ttdeci">size_t * unused_destroyed_normal_pages_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00597">sweeper.cc:597</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_a7d472c9a3fa5f4f1f5db8492b9ae033b"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a7d472c9a3fa5f4f1f5db8492b9ae033b">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::free_memory_handling_</a></div><div class="ttdeci">const FreeMemoryHandling free_memory_handling_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00601">sweeper.cc:601</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_a85e1c7aca07b4e613230c18985908e82"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a85e1c7aca07b4e613230c18985908e82">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::SweepFinalizer</a></div><div class="ttdeci">SweepFinalizer(cppgc::Platform *platform, StatsCollector *stats_collector, BaseSpace *space, size_t *unused_destroyed_normal_pages, FreeMemoryHandling free_memory_handling, EmptyPageHandling empty_page_handling_type)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00430">sweeper.cc:430</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_a9b367a75fbdfbd46760e2ba0a05f24bd"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9b367a75fbdfbd46760e2ba0a05f24bd">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::FinalizeWithDeadline</a></div><div class="ttdeci">bool FinalizeWithDeadline(StatsCollector::ScopeId scope_id, SweepingState &amp;state, v8::base::TimeTicks deadline)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00479">sweeper.cc:479</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_a9f6527945521c2dd92e1fd0d2cc5cfb6"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#a9f6527945521c2dd92e1fd0d2cc5cfb6">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::Finalize</a></div><div class="ttdeci">void Finalize(SweepingState &amp;state)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00448">sweeper.cc:448</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_aa172a2cb6ea306fee151b9d233e0a8b6"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa172a2cb6ea306fee151b9d233e0a8b6">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::Finalize</a></div><div class="ttdeci">void Finalize(SpaceStates &amp;states)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00442">sweeper.cc:442</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_aa58379f9accb4cac078903b411ad8146"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa58379f9accb4cac078903b411ad8146">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::empty_page_handling_</a></div><div class="ttdeci">const EmptyPageHandling empty_page_handling_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00602">sweeper.cc:602</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_aa70556d8a3f7c48c7dbeeb8475912a11"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aa70556d8a3f7c48c7dbeeb8475912a11">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::FinalizeWithDeadlineAndSize</a></div><div class="ttdeci">bool FinalizeWithDeadlineAndSize(StatsCollector::ScopeId scope_id, SweepingState &amp;state, v8::base::TimeTicks deadline, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00457">sweeper.cc:457</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_ab19b24952b7cf1936571c452c6a498ea"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ab19b24952b7cf1936571c452c6a498ea">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::stats_collector_</a></div><div class="ttdeci">StatsCollector * stats_collector_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00595">sweeper.cc:595</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_aba099827306f531b33a67df8050b1143"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#aba099827306f531b33a67df8050b1143">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::space_</a></div><div class="ttdeci">BaseSpace * space_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00596">sweeper.cc:596</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_ac7b521ee918336d17d1f31fabdfce1cc"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ac7b521ee918336d17d1f31fabdfce1cc">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::FinalizePage</a></div><div class="ttdeci">void FinalizePage(SweepingState::SweptPageState *page_state)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00497">sweeper.cc:497</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer_html_ad167c659846493dca7875b7cbd13d39d"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepFinalizer.html#ad167c659846493dca7875b7cbd13d39d">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepFinalizer::platform_</a></div><div class="ttdeci">cppgc::Platform * platform_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00594">sweeper.cc:594</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00179">sweeper.cc:179</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_a0360d02e17db8c31a5c89b788f468637"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#a0360d02e17db8c31a5c89b788f468637">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00208">sweeper.cc:208</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_a12608ac4c885dada989bc52cdd32cbcf"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#a12608ac4c885dada989bc52cdd32cbcf">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::ThreadSafeStack</a></div><div class="ttdeci">ThreadSafeStack()=default</div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_aa2391de2b7d4bdadcd240286eb056eb8"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#aa2391de2b7d4bdadcd240286eb056eb8">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::Insert</a></div><div class="ttdeci">void Insert(It begin, It end)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00202">sweeper.cc:202</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_abd90c3d05f5105afa2ef6e03714d472b"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#abd90c3d05f5105afa2ef6e03714d472b">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::Push</a></div><div class="ttdeci">void Push(T t)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00183">sweeper.cc:183</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_adaed2a3c495f63f4a6e072c42d134d83"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#adaed2a3c495f63f4a6e072c42d134d83">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::Pop</a></div><div class="ttdeci">std::optional&lt; T &gt; Pop()</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00189">sweeper.cc:189</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_af5c37ae457ab57eaf1d77c15fd2f19fa"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#af5c37ae457ab57eaf1d77c15fd2f19fa">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::mutex_</a></div><div class="ttdeci">v8::base::Mutex mutex_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00211">sweeper.cc:211</a></div></div>
<div class="ttc" id="aclasscppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack_html_afddabc12f0c9e786dfb6a256302a70c8"><div class="ttname"><a href="classcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1ThreadSafeStack.html#afddabc12f0c9e786dfb6a256302a70c8">cppgc::internal::anonymous_namespace{sweeper.cc}::ThreadSafeStack::vector_</a></div><div class="ttdeci">std::vector&lt; T &gt; vector_</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00212">sweeper.cc:212</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html"><div class="ttname"><a href="classv8_1_1JobDelegate.html">v8::JobDelegate</a></div><div class="ttdoc">Delegate that's passed to Job's worker task, providing an entry point to communicate with the schedul...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00206">v8-platform.h:206</a></div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_a7180a73d20fc8a240c742163001d8b3a"><div class="ttname"><a href="classv8_1_1JobDelegate.html#a7180a73d20fc8a240c742163001d8b3a">v8::JobDelegate::ShouldYield</a></div><div class="ttdeci">virtual bool ShouldYield()=0</div><div class="ttdoc">Returns true if this thread must return from the worker task on the current thread ASAP.</div></div>
<div class="ttc" id="aclassv8_1_1JobTask_html"><div class="ttname"><a href="classv8_1_1JobTask.html">v8::JobTask</a></div><div class="ttdoc">A JobTask represents work to run in parallel from Platform::PostJob().</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00300">v8-platform.h:300</a></div></div>
<div class="ttc" id="aclassv8_1_1PageAllocator_html"><div class="ttname"><a href="classv8_1_1PageAllocator.html">v8::PageAllocator</a></div><div class="ttdoc">A V8 memory page allocator.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00455">v8-platform.h:455</a></div></div>
<div class="ttc" id="aclassv8_1_1Task_html"><div class="ttname"><a href="classv8_1_1Task.html">v8::Task</a></div><div class="ttdoc">A Task represents a unit of work.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00049">v8-platform.h:49</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Mutex_html"><div class="ttname"><a href="classv8_1_1base_1_1Mutex.html">v8::base::Mutex</a></div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00036">mutex.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00070">time.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a494cc64764a7ba009367e2e8b64496de"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a494cc64764a7ba009367e2e8b64496de">v8::base::TimeDelta::InMillisecondsF</a></div><div class="ttdeci">double InMillisecondsF() const</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00226">time.cc:226</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_aedb23f3b7d15531e09b71883aaa96b6d"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#aedb23f3b7d15531e09b71883aaa96b6d">v8::base::TimeDelta::FromMilliseconds</a></div><div class="ttdeci">static constexpr TimeDelta FromMilliseconds(int64_t milliseconds)</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00087">time.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html">v8::base::TimeTicks</a></div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00392">time.h:393</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html_ab0886bf0e84f1e1fcdc101021c2c0775"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a></div><div class="ttdeci">static TimeTicks Now()</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00736">time.cc:736</a></div></div>
<div class="ttc" id="acppgc_2free-list_8h_html"><div class="ttname"><a href="cppgc_2free-list_8h.html">free-list.h</a></div></div>
<div class="ttc" id="acppgc_2heap-visitor_8h_html"><div class="ttname"><a href="cppgc_2heap-visitor_8h.html">heap-visitor.h</a></div></div>
<div class="ttc" id="acppgc_2sweeper_8h_html"><div class="ttname"><a href="cppgc_2sweeper_8h.html">sweeper.h</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_af22849720fbd54f8307292fe33c35a07"><div class="ttname"><a href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a></div><div class="ttdeci">constexpr const char * ToString(DataViewOp op)</div><div class="ttdef"><b>Definition:</b> <a href="data-view-ops_8h_source.html#l00032">data-view-ops.h:32</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a087fd0337c14e102a4a2abccd41a39ad"><div class="ttname"><a href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available space</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02215">flag-definitions.h:2213</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aheap-base_8h_html"><div class="ttname"><a href="heap-base_8h.html">heap-base.h</a></div></div>
<div class="ttc" id="aheap-config_8h_html"><div class="ttname"><a href="heap-config_8h.html">heap-config.h</a></div></div>
<div class="ttc" id="aheap-object-header_8h_html"><div class="ttname"><a href="heap-object-header_8h.html">heap-object-header.h</a></div></div>
<div class="ttc" id="aheap-page_8h_html"><div class="ttname"><a href="heap-page_8h.html">heap-page.h</a></div></div>
<div class="ttc" id="aheap-space_8h_html"><div class="ttname"><a href="heap-space_8h.html">heap-space.h</a></div></div>
<div class="ttc" id="aheap_2cppgc_2globals_8h_html"><div class="ttname"><a href="heap_2cppgc_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="aheap_2cppgc_2memory_8h_html"><div class="ttname"><a href="heap_2cppgc_2memory_8h.html">memory.h</a></div></div>
<div class="ttc" id="ainclude_2cppgc_2platform_8h_html"><div class="ttname"><a href="include_2cppgc_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="amutex_8h_html"><div class="ttname"><a href="mutex_8h.html">mutex.h</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02heap-statistics-collector_8cc_03_html_afb2c0713873c873606531e6916298901"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02heap-statistics-collector_8cc_03.html#afb2c0713873c873606531e6916298901">cppgc::internal::anonymous_namespace{heap-statistics-collector.cc}::FinalizePage</a></div><div class="ttdeci">void FinalizePage(HeapStatistics::SpaceStatistics *space_stats, HeapStatistics::PageStatistics **page_stats)</div><div class="ttdef"><b>Definition:</b> <a href="heap-statistics-collector_8cc_source.html#l00052">heap-statistics-collector.cc:52</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a0a8e019d14ec387ab28d58adeba58710"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a0a8e019d14ec387ab28d58adeba58710">cppgc::internal::anonymous_namespace{sweeper.cc}::SpaceStates</a></div><div class="ttdeci">std::vector&lt; SweepingState &gt; SpaceStates</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00237">sweeper.cc:237</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a22b37a25aad865adff0b7a5f4764abf6"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a22b37a25aad865adff0b7a5f4764abf6">cppgc::internal::anonymous_namespace{sweeper.cc}::StickyUnmark</a></div><div class="ttdeci">void StickyUnmark(HeapObjectHeader *header, StickyBits sticky_bits)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00239">sweeper.cc:239</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a26a0a0915a2fa5c6f83fb60c01dbf1ea"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a26a0a0915a2fa5c6f83fb60c01dbf1ea">cppgc::internal::anonymous_namespace{sweeper.cc}::kForegroundRegularPriority</a></div><div class="ttdeci">constexpr TaskPriority kForegroundRegularPriority</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00039">sweeper.cc:39</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a368d289fbc7edcc26af3f0609c62a054"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054">cppgc::internal::anonymous_namespace{sweeper.cc}::EmptyPageHandling</a></div><div class="ttdeci">EmptyPageHandling</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00416">sweeper.cc:416</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a368d289fbc7edcc26af3f0609c62a054a76f7356e83459d55498b063860859d92"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054a76f7356e83459d55498b063860859d92">cppgc::internal::anonymous_namespace{sweeper.cc}::EmptyPageHandling::kDestroy</a></div><div class="ttdeci">@ kDestroy</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a368d289fbc7edcc26af3f0609c62a054ad7ec42086e89c1b1ffe3a16edfc12ef3"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a368d289fbc7edcc26af3f0609c62a054ad7ec42086e89c1b1ffe3a16edfc12ef3">cppgc::internal::anonymous_namespace{sweeper.cc}::EmptyPageHandling::kReturn</a></div><div class="ttdeci">@ kReturn</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a38d7df7954da13e511d04aee32690b9b"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a38d7df7954da13e511d04aee32690b9b">cppgc::internal::anonymous_namespace{sweeper.cc}::kBackgroundRegularPriority</a></div><div class="ttdeci">constexpr TaskPriority kBackgroundRegularPriority</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00038">sweeper.cc:38</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a5076b7e6531826224bd1b9ab4d221708"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a5076b7e6531826224bd1b9ab4d221708">cppgc::internal::anonymous_namespace{sweeper.cc}::kBackgroundBoostedPriority</a></div><div class="ttdeci">constexpr TaskPriority kBackgroundBoostedPriority</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00037">sweeper.cc:37</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a596aeb850353daf36a514816a40a74cd"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cd">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweepingMode</a></div><div class="ttdeci">MutatorThreadSweepingMode</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00058">sweeper.cc:58</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a596aeb850353daf36a514816a40a74cda34bdbffdb1c0e1b603f58fc0d49548b6"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cda34bdbffdb1c0e1b603f58fc0d49548b6">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweepingMode::kAll</a></div><div class="ttdeci">@ kAll</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a596aeb850353daf36a514816a40a74cda36487c559355efae19dacbead16855a8"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a596aeb850353daf36a514816a40a74cda36487c559355efae19dacbead16855a8">cppgc::internal::anonymous_namespace{sweeper.cc}::MutatorThreadSweepingMode::kOnlyFinalizers</a></div><div class="ttdeci">@ kOnlyFinalizers</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a69165cc6ef5679307d87357c1f4b8ef2"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a69165cc6ef5679307d87357c1f4b8ef2">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepNormalPage</a></div><div class="ttdeci">FinalizationBuilder::ResultType SweepNormalPage(NormalPage *page, PageAllocator &amp;page_allocator, StickyBits sticky_bits)</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00340">sweeper.cc:340</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_a76634b821dc068afa4920519e35d70cd"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#a76634b821dc068afa4920519e35d70cd">cppgc::internal::anonymous_namespace{sweeper.cc}::kForegroundLowPriority</a></div><div class="ttdeci">constexpr TaskPriority kForegroundLowPriority</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00040">sweeper.cc:40</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_html_aaa04b6b12bf174722aab3394006bded0"><div class="ttname"><a href="namespacecppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03.html#aaa04b6b12bf174722aab3394006bded0">cppgc::internal::anonymous_namespace{sweeper.cc}::kSweepWithoutSpaceAssignment</a></div><div class="ttdeci">constexpr BaseSpace * kSweepWithoutSpaceAssignment</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00414">sweeper.cc:414</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html"><div class="ttname"><a href="namespacecppgc_1_1internal.html">cppgc::internal</a></div><div class="ttdoc">Implementation details of cppgc.</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2allocation_8cc_source.html#l00019">allocation.cc:19</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a253e063701bfc4119e9fca7fe9800c32"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a253e063701bfc4119e9fca7fe9800c32">cppgc::internal::ConstAddress</a></div><div class="ttdeci">const uint8_t * ConstAddress</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2globals_8h_source.html#l00018">globals.h:18</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a2e27dcadb45728a61d487fc8975f9f48"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48">cppgc::internal::StickyBits</a></div><div class="ttdeci">StickyBits</div><div class="ttdef"><b>Definition:</b> <a href="heap-base_8h_source.html#l00067">heap-base.h:67</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a2e27dcadb45728a61d487fc8975f9f48a7b04d8795f5fd03c761ce70dab985fee"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a2e27dcadb45728a61d487fc8975f9f48a7b04d8795f5fd03c761ce70dab985fee">cppgc::internal::StickyBits::kDisabled</a></div><div class="ttdeci">@ kDisabled</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a4437c183379f9d426f1120b17dc2e1c3"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a4437c183379f9d426f1120b17dc2e1c3">cppgc::internal::CheckMemoryIsInaccessible</a></div><div class="ttdeci">void CheckMemoryIsInaccessible(const void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2memory_8h_source.html#l00073">memory.h:73</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a5229c26742f473fcdcc68b715482635b"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a5229c26742f473fcdcc68b715482635b">cppgc::internal::Address</a></div><div class="ttdeci">uint8_t * Address</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2globals_8h_source.html#l00017">globals.h:17</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a5fe9a99b7857f70d05c7cd44847195dd"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a5fe9a99b7857f70d05c7cd44847195dd">cppgc::internal::SetMemoryInaccessible</a></div><div class="ttdeci">void SetMemoryInaccessible(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2memory_8h_source.html#l00076">memory.h:76</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71"><div class="ttname"><a href="namespacecppgc_1_1internal.html#ac0b40b7e4ac65024fbfcf57d01fa808ea726d9cf5163c50b3cf8e05800e3cef71">cppgc::internal::AccessMode::kAtomic</a></div><div class="ttdeci">@ kAtomic</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_ae4fd7df7fe9cc65e8be73adf08678695"><div class="ttname"><a href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695">cppgc::internal::FreeMemoryHandling</a></div><div class="ttdeci">FreeMemoryHandling</div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00027">heap-config.h:27</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_ae4fd7df7fe9cc65e8be73adf08678695a0c5be501cffcb84ef66adf66d02a59b2"><div class="ttname"><a href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695a0c5be501cffcb84ef66adf66d02a59b2">cppgc::internal::FreeMemoryHandling::kDoNotDiscard</a></div><div class="ttdeci">@ kDoNotDiscard</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793"><div class="ttname"><a href="namespacecppgc_1_1internal.html#ae4fd7df7fe9cc65e8be73adf08678695aed5245ebdf1ee7fb07817c83e4a3f793">cppgc::internal::FreeMemoryHandling::kDiscardWherePossible</a></div><div class="ttdeci">@ kDiscardWherePossible</div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_af3fbdeb5aad0feb706e47f2cdda9ae30"><div class="ttname"><a href="namespacecppgc_1_1internal.html#af3fbdeb5aad0feb706e47f2cdda9ae30">cppgc::internal::kFreeListEntrySize</a></div><div class="ttdeci">constexpr size_t kFreeListEntrySize</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2globals_8h_source.html#l00049">globals.h:49</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a0e542246e39cb25a93193a080e0e1148"><div class="ttname"><a href="namespacev8_1_1base.html#a0e542246e39cb25a93193a080e0e1148">v8::base::any_of</a></div><div class="ttdeci">bool any_of(const C &amp;container, const P &amp;predicate)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00093">container-utils.h:93</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_adcd90950c0b92baf7c69e2e711fe1e67"><div class="ttname"><a href="namespacev8_1_1base.html#adcd90950c0b92baf7c69e2e711fe1e67">v8::base::all_of</a></div><div class="ttdeci">bool all_of(const C &amp;container, const P &amp;predicate)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00081">container-utils.h:81</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae8575343c68d7ad91cf7aaf24cd6643f"><div class="ttname"><a href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">v8::base::sort</a></div><div class="ttdeci">void sort(C &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00111">container-utils.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af0b04fe9288a783d9de7a19dcfc55fa3"><div class="ttname"><a href="namespacev8_1_1base.html#af0b04fe9288a783d9de7a19dcfc55fa3">v8::base::Free</a></div><div class="ttdeci">void Free(void *memory)</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2memory_8h_source.html#l00063">memory.h:63</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l01242">graph.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_ad67f19534a45514c73aee4542f8270e9"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#ad67f19534a45514c73aee4542f8270e9">v8::internal::compiler::turboshaft::is_empty</a></div><div class="ttdeci">bool is_empty(MapMaskAndOr minmax)</div><div class="ttdef"><b>Definition:</b> <a href="late-load-elimination-reducer_8h_source.html#l00158">late-load-elimination-reducer.h:158</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ae72af9053b45630a01be9a6140820b5a"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ae72af9053b45630a01be9a6140820b5a">v8::internal::compiler::begin</a></div><div class="ttdeci">Node::Uses::const_iterator begin(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00708">node.h:708</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051">v8::TaskPriority</a></div><div class="ttdeci">TaskPriority</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00024">v8-platform.h:24</a></div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">v8::TaskPriority::kUserBlocking</a></div><div class="ttdeci">@ kUserBlocking</div><div class="ttdoc">User blocking tasks are highest priority tasks that block the execution thread (e....</div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d">v8::TaskPriority::kUserVisible</a></div><div class="ttdeci">@ kUserVisible</div><div class="ttdoc">User visible tasks are long running background tasks that will improve performance and memory usage o...</div></div>
<div class="ttc" id="aobject-poisoner_8h_html"><div class="ttname"><a href="object-poisoner_8h.html">object-poisoner.h</a></div></div>
<div class="ttc" id="aobject-start-bitmap_8h_html"><div class="ttname"><a href="object-start-bitmap_8h.html">object-start-bitmap.h</a></div></div>
<div class="ttc" id="apage-memory_8h_html"><div class="ttname"><a href="page-memory_8h.html">page-memory.h</a></div></div>
<div class="ttc" id="araw-heap_8h_html"><div class="ttname"><a href="raw-heap_8h.html">raw-heap.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2c0c4cea27d0690467662bb05131b2af"><div class="ttname"><a href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a></div><div class="ttdeci">#define CHECK_IMPLIES(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a9154b181227e4b02e465befe50219158"><div class="ttname"><a href="src_2base_2logging_8h.html#a9154b181227e4b02e465befe50219158">CHECK_NOT_NULL</a></div><div class="ttdeci">#define CHECK_NOT_NULL(val)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00387">macros.h:387</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_aa0de4a420e74c8df8076fc2aaf4af27a"><div class="ttname"><a href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a></div><div class="ttdeci">constexpr T RoundDown(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00371">macros.h:371</a></div></div>
<div class="ttc" id="astats-collector_8h_html"><div class="ttname"><a href="stats-collector_8h.html">stats-collector.h</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1FreeList_1_1Block_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1FreeList_1_1Block.html">cppgc::internal::FreeList::Block</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2free-list_8h_source.html#l00029">free-list.h:29</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SingleThreadedHandle_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1SingleThreadedHandle.html">cppgc::internal::SingleThreadedHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="task-handle_8h_source.html#l00016">task-handle.h:16</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SingleThreadedHandle_html_a1a77e0d9c749d6abfca0693fa84016af"><div class="ttname"><a href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#a1a77e0d9c749d6abfca0693fa84016af">cppgc::internal::SingleThreadedHandle::IsCanceled</a></div><div class="ttdeci">bool IsCanceled() const</div><div class="ttdef"><b>Definition:</b> <a href="task-handle_8h_source.html#l00036">task-handle.h:36</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SingleThreadedHandle_html_a79992ab4db1c259471cee6a44795799d"><div class="ttname"><a href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#a79992ab4db1c259471cee6a44795799d">cppgc::internal::SingleThreadedHandle::CancelIfNonEmpty</a></div><div class="ttdeci">void CancelIfNonEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="task-handle_8h_source.html#l00030">task-handle.h:30</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SingleThreadedHandle_html_ae10f09cffd47d7e9826b48f07a41d9ea"><div class="ttname"><a href="structcppgc_1_1internal_1_1SingleThreadedHandle.html#ae10f09cffd47d7e9826b48f07a41d9ea">cppgc::internal::SingleThreadedHandle::Cancel</a></div><div class="ttdeci">void Cancel()</div><div class="ttdef"><b>Definition:</b> <a href="task-handle_8h_source.html#l00025">task-handle.h:25</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html">cppgc::internal::SweepingConfig</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00047">heap-config.h:47</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html_a0f9c2b8f2a5c8bbdb69011b1546ea221"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html#a0f9c2b8f2a5c8bbdb69011b1546ea221">cppgc::internal::SweepingConfig::FreeMemoryHandling</a></div><div class="ttdeci">cppgc::internal::FreeMemoryHandling FreeMemoryHandling</div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00050">heap-config.h:50</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html_a2523f1fec7c4b756d00f3d8c5d658077"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html#a2523f1fec7c4b756d00f3d8c5d658077">cppgc::internal::SweepingConfig::CompactableSpaceHandling</a></div><div class="ttdeci">CompactableSpaceHandling</div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00049">heap-config.h:49</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html_a654d6337dca8c8b147936896f372fb86"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html#a654d6337dca8c8b147936896f372fb86">cppgc::internal::SweepingConfig::free_memory_handling</a></div><div class="ttdeci">FreeMemoryHandling free_memory_handling</div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00055">heap-config.h:55</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html_a8082e1967d4d79c2e3f572590a55b9c4"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html#a8082e1967d4d79c2e3f572590a55b9c4">cppgc::internal::SweepingConfig::sweeping_type</a></div><div class="ttdeci">SweepingType sweeping_type</div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00052">heap-config.h:52</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1SweepingConfig_html_ac02e3e3d2f3d0a904bef2db87a027077"><div class="ttname"><a href="structcppgc_1_1internal_1_1SweepingConfig.html#ac02e3e3d2f3d0a904bef2db87a027077">cppgc::internal::SweepingConfig::compactable_space_handling</a></div><div class="ttdeci">CompactableSpaceHandling compactable_space_handling</div><div class="ttdef"><b>Definition:</b> <a href="heap-config_8h_source.html#l00053">heap-config.h:53</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilderBase::ResultType</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00251">sweeper.cc:251</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType_html_af2d35c35c4e5cfe267da6122b7583aca"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1InlinedFinalizationBuilderBase_1_1ResultType.html#af2d35c35c4e5cfe267da6122b7583aca">cppgc::internal::anonymous_namespace{sweeper.cc}::InlinedFinalizationBuilderBase::ResultType::is_empty</a></div><div class="ttdeci">bool is_empty</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00252">sweeper.cc:252</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00217">sweeper.cc:217</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html_a263425678dd6af878d42f3959e330c70"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a263425678dd6af878d42f3959e330c70">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState::cached_free_list</a></div><div class="ttdeci">FreeList cached_free_list</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00227">sweeper.cc:227</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html_a47b242f9c05b9dbcf92f1531eebc2a06"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a47b242f9c05b9dbcf92f1531eebc2a06">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState::is_empty</a></div><div class="ttdeci">bool is_empty</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00229">sweeper.cc:229</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html_a6010b53584c9cedced12decd19dbb3e9"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6010b53584c9cedced12decd19dbb3e9">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState::page</a></div><div class="ttdeci">BasePage * page</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00218">sweeper.cc:218</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html_a6b92ce5de2774f004f3f452ad7e2cbf7"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#a6b92ce5de2774f004f3f452ad7e2cbf7">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState::largest_new_free_list_entry</a></div><div class="ttdeci">size_t largest_new_free_list_entry</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00230">sweeper.cc:230</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html_aabe86d70b25d3e29b8773298e304c5b8"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#aabe86d70b25d3e29b8773298e304c5b8">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState::unfinalized_objects</a></div><div class="ttdeci">std::vector&lt; HeapObjectHeader * &gt; unfinalized_objects</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00225">sweeper.cc:225</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState_html_ab77166676db187090f74095fa9aa74d1"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_1_1SweptPageState.html#ab77166676db187090f74095fa9aa74d1">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::SweptPageState::unfinalized_free_list</a></div><div class="ttdeci">std::vector&lt; FreeList::Block &gt; unfinalized_free_list</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00228">sweeper.cc:228</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_html"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState</a></div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00216">sweeper.cc:216</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_html_ab8654b93fc54d88448cda92d2370039e"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ab8654b93fc54d88448cda92d2370039e">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::unswept_pages</a></div><div class="ttdeci">ThreadSafeStack&lt; BasePage * &gt; unswept_pages</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00233">sweeper.cc:233</a></div></div>
<div class="ttc" id="astructcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState_html_ad207e56ee75af9eefd5df4fb50ca2d7d"><div class="ttname"><a href="structcppgc_1_1internal_1_1anonymous__namespace_02sweeper_8cc_03_1_1SweepingState.html#ad207e56ee75af9eefd5df4fb50ca2d7d">cppgc::internal::anonymous_namespace{sweeper.cc}::SweepingState::swept_unfinalized_pages</a></div><div class="ttdeci">ThreadSafeStack&lt; SweptPageState &gt; swept_unfinalized_pages</div><div class="ttdef"><b>Definition:</b> <a href="cppgc_2sweeper_8cc_source.html#l00234">sweeper.cc:234</a></div></div>
<div class="ttc" id="atask-handle_8h_html"><div class="ttname"><a href="task-handle_8h.html">task-handle.h</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_a974448b91dd98c933fb07a236a86d25.html">heap</a></li><li class="navelem"><a class="el" href="dir_2a788aa3329fcdefcaff1e0c65d2649c.html">cppgc</a></li><li class="navelem"><a class="el" href="cppgc_2sweeper_8cc.html">sweeper.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:37 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
