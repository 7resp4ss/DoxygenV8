<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::anonymous_namespace{wasm-js.cc} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">v8::anonymous_namespace{wasm-js.cc} Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html">anonymous_namespace{wasm-js.cc}</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a134697b93e055ed94fb9f0922c75e9d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1String.html">i::String</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a134697b93e055ed94fb9f0922c75e9d3">v8_str</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a> *isolate, const char *str)</td></tr>
<tr class="separator:a134697b93e055ed94fb9f0922c75e9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd7b4cf0e6b2f3d52780122edc1d105"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1String.html">String</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a> (<a class="el" href="classv8_1_1Isolate.html">Isolate</a> *isolate, const char *str)</td></tr>
<tr class="separator:afbd7b4cf0e6b2f3d52780122edc1d105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae01fffe033c01485019507b9e0932b21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt; const uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">GetFirstArgumentAsBytes</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info, size_t max_length, ErrorThrower *thrower, bool *is_shared)</td></tr>
<tr class="separator:ae01fffe033c01485019507b9e0932b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631463dae9951468ccb11f081f55dd67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt; const uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info, size_t max_length, ErrorThrower *thrower)</td></tr>
<tr class="separator:a631463dae9951468ccb11f081f55dd67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9829d4bd6b0d386c48b2220d16fdb5c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a9829d4bd6b0d386c48b2220d16fdb5c5">WebAssemblyCompileImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a9829d4bd6b0d386c48b2220d16fdb5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2736eaaacaa0f666c3ecc732a6f740ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2736eaaacaa0f666c3ecc732a6f740ea">WasmStreamingCallbackForTesting</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a2736eaaacaa0f666c3ecc732a6f740ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ca8135bb0b20cdf89ea80e484efa2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">WasmStreamingPromiseFailedCallback</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a25ca8135bb0b20cdf89ea80e484efa2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80df3bb5366d6ec83e382c06d65a17c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">StartAsyncCompilationWithResolver</a> (WasmJSApiScope &amp;js_api_scope, <a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1Value.html">Value</a> &gt; response_or_promise, <a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1Value.html">Value</a> &gt; options_arg_value, std::shared_ptr&lt; i::wasm::CompilationResultResolver &gt; resolver)</td></tr>
<tr class="separator:a80df3bb5366d6ec83e382c06d65a17c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23e73fb88240f64540fadc2c56c93a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23e73fb88240f64540fadc2c56c93a1">WebAssemblyCompileStreaming</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ab23e73fb88240f64540fadc2c56c93a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa00e99e86bb5e0bcdde5308c3b924c45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa00e99e86bb5e0bcdde5308c3b924c45">WebAssemblyValidateImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aa00e99e86bb5e0bcdde5308c3b924c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccc9e8fae6961c23699b202bb751160"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aeccc9e8fae6961c23699b202bb751160">WebAssemblyModuleImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aeccc9e8fae6961c23699b202bb751160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8666752c68eedb8e6137f879a6f2444"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa8666752c68eedb8e6137f879a6f2444">WebAssemblyModuleImportsImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aa8666752c68eedb8e6137f879a6f2444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d34663209df90b28f9f17aaf6eda5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa5d34663209df90b28f9f17aaf6eda5b">WebAssemblyModuleExportsImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aa5d34663209df90b28f9f17aaf6eda5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ea0b3bd1920f543bf97b345275e517"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a42ea0b3bd1920f543bf97b345275e517">WebAssemblyModuleCustomSectionsImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a42ea0b3bd1920f543bf97b345275e517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc0faf002730cf5f7c4ef50a647671f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8fc0faf002730cf5f7c4ef50a647671f">WebAssemblyInstanceImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a8fc0faf002730cf5f7c4ef50a647671f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae46de88e70ad47716f44e4bb74c8b44d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae46de88e70ad47716f44e4bb74c8b44d">WebAssemblyInstantiateStreaming</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ae46de88e70ad47716f44e4bb74c8b44d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9fb33b2596c8b7b7834e4d71f2645c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c9fb33b2596c8b7b7834e4d71f2645c">WebAssemblyInstantiateImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a5c9fb33b2596c8b7b7834e4d71f2645c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c6d861773fb2c5a56b9929ec87d2df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af8c6d861773fb2c5a56b9929ec87d2df">WebAssemblyTableImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:af8c6d861773fb2c5a56b9929ec87d2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e84efb3ddc838b4645d1dd7ded761e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2e84efb3ddc838b4645d1dd7ded761e6">WebAssemblyMemoryImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a2e84efb3ddc838b4645d1dd7ded761e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d65454a5c0bd1202bec0c61b96c54e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0d65454a5c0bd1202bec0c61b96c54e3">WebAssemblyMemoryMapDescriptorImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a0d65454a5c0bd1202bec0c61b96c54e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6080d8b0a67ea17401b79da039a0a6d5"><td class="memItemLeft" align="right" valign="top">std::optional&lt; i::wasm::ValueType &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a> (<a class="el" href="classv8_1_1Isolate.html">Isolate</a> *isolate, <a class="el" href="classv8_1_1MaybeLocal.html">MaybeLocal</a>&lt; <a class="el" href="classv8_1_1Value.html">Value</a> &gt; maybe, <a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1Context.html">Context</a> &gt; context, WasmEnabledFeatures enabled_features)</td></tr>
<tr class="separator:a6080d8b0a67ea17401b79da039a0a6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6db6d9d019560128460f337b6d48055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac6db6d9d019560128460f337b6d48055">WebAssemblyGlobalImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ac6db6d9d019560128460f337b6d48055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa725e4c20fcbf8aa32c453db61f2eb52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa725e4c20fcbf8aa32c453db61f2eb52">WebAssemblyTagImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aa725e4c20fcbf8aa32c453db61f2eb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fdd90c4ae4ce048cda630ce1be94ef8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6fdd90c4ae4ce048cda630ce1be94ef8">WebAssemblyExceptionImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a6fdd90c4ae4ce048cda630ce1be94ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af380767a60da1e8f57fc90501286702a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1JSFunction.html">i::JSFunction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a">NewPromisingWasmExportedFunction</a> (<a class="el" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a> *i_isolate, <a class="el" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmExportedFunctionData.html">i::WasmExportedFunctionData</a> &gt; data, ErrorThrower &amp;thrower)</td></tr>
<tr class="separator:af380767a60da1e8f57fc90501286702a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70d98b3dfb9bcdb067ff8a7a713926e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ac70d98b3dfb9bcdb067ff8a7a713926e">WebAssemblyFunction</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ac70d98b3dfb9bcdb067ff8a7a713926e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2970aa8c31b970d7b3a7c100d439cf6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af2970aa8c31b970d7b3a7c100d439cf6">WebAssemblyPromising</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:af2970aa8c31b970d7b3a7c100d439cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c0a787d5c8f47ec9cd549345c95fad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab0c0a787d5c8f47ec9cd549345c95fad">WebAssemblySuspendingImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ab0c0a787d5c8f47ec9cd549345c95fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e798f57b4d736ad3f5c535c380864d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a22e798f57b4d736ad3f5c535c380864d">WebAssemblyDescriptorOptionsImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a22e798f57b4d736ad3f5c535c380864d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82b07981395ae632c3887915a53d27a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a82b07981395ae632c3887915a53d27a2">WebAssemblyFunctionType</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a82b07981395ae632c3887915a53d27a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772092d5f5db10950319b4c21c8286b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a772092d5f5db10950319b4c21c8286b9">WebAssemblyInstanceGetExportsImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a772092d5f5db10950319b4c21c8286b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80f78a54c70dfcb6788270747bf1aff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad80f78a54c70dfcb6788270747bf1aff">WebAssemblyTableGetLengthImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ad80f78a54c70dfcb6788270747bf1aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33eae2ff47c44aadd35fd800fa9daf40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a33eae2ff47c44aadd35fd800fa9daf40">WebAssemblyTableGrowImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a33eae2ff47c44aadd35fd800fa9daf40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5d211a75f47e5711a1a1c31b365848"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#abd5d211a75f47e5711a1a1c31b365848">WebAssemblyTableGetImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:abd5d211a75f47e5711a1a1c31b365848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e08326b017c12ec308795bc251bf91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a93e08326b017c12ec308795bc251bf91">WebAssemblyTableSetImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a93e08326b017c12ec308795bc251bf91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaccef9db6ddc927c8e58fb29de30502"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acaccef9db6ddc927c8e58fb29de30502">WebAssemblyTableType</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:acaccef9db6ddc927c8e58fb29de30502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad88a20b7927c5f3bb502562c3fe13a9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad88a20b7927c5f3bb502562c3fe13a9e">WebAssemblyMemoryMapDescriptorMapImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ad88a20b7927c5f3bb502562c3fe13a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab146c4d87439fed3d5e3d2b4b208001d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab146c4d87439fed3d5e3d2b4b208001d">WebAssemblyMemoryMapDescriptorUnmapImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ab146c4d87439fed3d5e3d2b4b208001d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23cbc8313cd6650a88a426e842eedf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab23cbc8313cd6650a88a426e842eedf4">WebAssemblyMemoryGrowImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ab23cbc8313cd6650a88a426e842eedf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a335ab82e09665d4075f3f17d8bde25c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a335ab82e09665d4075f3f17d8bde25c5">WebAssemblyMemoryGetBufferImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a335ab82e09665d4075f3f17d8bde25c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b8b79845e1cbc4f3d5f803d8ad7364"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95b8b79845e1cbc4f3d5f803d8ad7364">WebAssemblyMemoryToFixedLengthBufferImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a95b8b79845e1cbc4f3d5f803d8ad7364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd85f9674aa494e9069e26cd8c5b10ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acd85f9674aa494e9069e26cd8c5b10ae">WebAssemblyMemoryToResizableBufferImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:acd85f9674aa494e9069e26cd8c5b10ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efe057cb210e2909aa30b47767a7c01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4efe057cb210e2909aa30b47767a7c01">WebAssemblyMemoryType</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a4efe057cb210e2909aa30b47767a7c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4205bbb2cdbecd8548f0062a0158fd6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4205bbb2cdbecd8548f0062a0158fd6a">WebAssemblyTagType</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a4205bbb2cdbecd8548f0062a0158fd6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89952a68736479a3740810e5651682ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a89952a68736479a3740810e5651682ee">WebAssemblyExceptionGetArgImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a89952a68736479a3740810e5651682ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b20f4d4fbe2dc1a4bfb89b8daeba0bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0b20f4d4fbe2dc1a4bfb89b8daeba0bf">WebAssemblyExceptionIsImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a0b20f4d4fbe2dc1a4bfb89b8daeba0bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3bf6a1daf198c9567f2d6bc63294ced"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">WebAssemblyGlobalGetValueCommon</a> (WasmJSApiScope &amp;js_api_scope)</td></tr>
<tr class="separator:aa3bf6a1daf198c9567f2d6bc63294ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6dba74128ea0189c1e064841b7470be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab6dba74128ea0189c1e064841b7470be">WebAssemblyGlobalValueOfImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:ab6dba74128ea0189c1e064841b7470be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace3f8d67a6c83e6147a786d0d155b04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aace3f8d67a6c83e6147a786d0d155b04">WebAssemblyGlobalGetValueImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aace3f8d67a6c83e6147a786d0d155b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0445641ba7db42f32e5fc96d543b9bfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0445641ba7db42f32e5fc96d543b9bfb">WebAssemblyGlobalSetValueImpl</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:a0445641ba7db42f32e5fc96d543b9bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd2a67ed5f761d905eed967a5a4e9e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aecd2a67ed5f761d905eed967a5a4e9e4">WebAssemblyGlobalType</a> (const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;info)</td></tr>
<tr class="separator:aecd2a67ed5f761d905eed967a5a4e9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af398e8b74dcf07c921819d41525529d3"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af398e8b74dcf07c921819d41525529d3">kName_WasmGlobalObject</a> = &quot;WebAssembly.Global&quot;</td></tr>
<tr class="separator:af398e8b74dcf07c921819d41525529d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd6b449f31123f7fe548313c558da37"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a8cd6b449f31123f7fe548313c558da37">kName_WasmMemoryObject</a> = &quot;WebAssembly.Memory&quot;</td></tr>
<tr class="separator:a8cd6b449f31123f7fe548313c558da37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95401e7d95c8bb9ab309cb3875c9a403"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a95401e7d95c8bb9ab309cb3875c9a403">kName_WasmMemoryMapDescriptor</a></td></tr>
<tr class="separator:a95401e7d95c8bb9ab309cb3875c9a403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe81b55a2dd9d5e4d981542f50b4f98"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#acbe81b55a2dd9d5e4d981542f50b4f98">kName_WasmInstanceObject</a> = &quot;WebAssembly.Instance&quot;</td></tr>
<tr class="separator:acbe81b55a2dd9d5e4d981542f50b4f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe24af2c267a2334b39850944e39549"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2fe24af2c267a2334b39850944e39549">kName_WasmTableObject</a> = &quot;WebAssembly.Table&quot;</td></tr>
<tr class="separator:a2fe24af2c267a2334b39850944e39549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dac09354501498a47e41e530f2b77f3"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a1dac09354501498a47e41e530f2b77f3">kName_WasmTagObject</a> = &quot;WebAssembly.Tag&quot;</td></tr>
<tr class="separator:a1dac09354501498a47e41e530f2b77f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12bb9a1d5a119f47fd37d71d197381a9"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a12bb9a1d5a119f47fd37d71d197381a9">kName_WasmExceptionPackage</a> = &quot;WebAssembly.Exception&quot;</td></tr>
<tr class="separator:a12bb9a1d5a119f47fd37d71d197381a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a631463dae9951468ccb11f081f55dd67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a631463dae9951468ccb11f081f55dd67">&#9670;&nbsp;</a></span>GetAndCopyFirstArgumentAsBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1OwnedVector.html">base::OwnedVector</a>&lt;const uint8_t&gt; v8::anonymous_namespace{wasm-js.cc}::GetAndCopyFirstArgumentAsBytes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ErrorThrower *&#160;</td>
          <td class="paramname"><em>thrower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00243">243</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                           {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  base::Vector&lt;const uint8_t&gt; bytes =</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">GetFirstArgumentAsBytes</a>(info, max_length, thrower, &amp;<a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (bytes.empty()) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Use relaxed reads (and writes, which is unnecessary here) to avoid TSan</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// reports in case the buffer is shared and is being modified concurrently.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = base::OwnedVector&lt;uint8_t&gt;::NewForOverwrite(bytes.size());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a7a5e1c490a7a7606fdc230f5779db6f0">base::Relaxed_Memcpy</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.begin()),</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                       <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(bytes.data()),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                       bytes.size());</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_ae01fffe033c01485019507b9e0932b21"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">v8::anonymous_namespace{wasm-js.cc}::GetFirstArgumentAsBytes</a></div><div class="ttdeci">base::Vector&lt; const uint8_t &gt; GetFirstArgumentAsBytes(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, size_t max_length, ErrorThrower *thrower, bool *is_shared)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00198">wasm-js.cc:198</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7a5e1c490a7a7606fdc230f5779db6f0"><div class="ttname"><a href="namespacev8_1_1base.html#a7a5e1c490a7a7606fdc230f5779db6f0">v8::base::Relaxed_Memcpy</a></div><div class="ttdeci">void Relaxed_Memcpy(volatile Atomic8 *dst, volatile const Atomic8 *src, size_t bytes)</div><div class="ttdef"><b>Definition:</b> <a href="atomicops_8h_source.html#l00363">atomicops.h:363</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aee15b21aa31a7bcb340576c631d28141"><div class="ttname"><a href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">v8::base::Atomic8</a></div><div class="ttdeci">char Atomic8</div><div class="ttdef"><b>Definition:</b> <a href="atomicops_8h_source.html#l00057">atomicops.h:57</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adee95482032a93e07f59341fed5c909f"><div class="ttname"><a href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">v8::internal::is_shared</a></div><div class="ttdeci">JSArrayBuffer::IsDetachableBit is_shared</div><div class="ttdef"><b>Definition:</b> <a href="js-array-buffer-inl_8h_source.html#l00189">js-array-buffer-inl.h:189</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vector_8h_source.html#l00100">v8::base::Vector&lt; T &gt;::data()</a>, <a class="el" href="vector_8h_source.html#l00073">v8::base::Vector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-js_8cc_source.html#l00198">GetFirstArgumentAsBytes()</a>, <a class="el" href="js-array-buffer-inl_8h_source.html#l00189">v8::internal::is_shared</a>, <a class="el" href="vector_8h_source.html#l00294">v8::base::OwnedVector&lt; T &gt;::NewForOverwrite()</a>, <a class="el" href="atomicops_8h_source.html#l00363">v8::base::Relaxed_Memcpy()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, and <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l00756">WasmStreamingCallbackForTesting()</a>, <a class="el" href="wasm-js_8cc_source.html#l00708">WebAssemblyCompileImpl()</a>, <a class="el" href="wasm-js_8cc_source.html#l01162">WebAssemblyInstantiateImpl()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00956">WebAssemblyModuleImpl()</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67_icgraph.svg" width="100%" height="498"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae01fffe033c01485019507b9e0932b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae01fffe033c01485019507b9e0932b21">&#9670;&nbsp;</a></span>GetFirstArgumentAsBytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1base_1_1Vector.html">base::Vector</a>&lt;const uint8_t&gt; v8::anonymous_namespace{wasm-js.cc}::GetFirstArgumentAsBytes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ErrorThrower *&#160;</td>
          <td class="paramname"><em>thrower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>is_shared</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00198">198</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                            {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">const</span> uint8_t* start = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> source = info[0];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (source-&gt;<a class="code" href="classv8_1_1Value.html#a62c732277023d09f5e5a54eaa2846853">IsArrayBuffer</a>()) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// A raw array buffer was passed.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    Local&lt;ArrayBuffer&gt; buffer = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;ArrayBuffer&gt;::Cast</a>(source);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keyword">auto</span> backing_store = buffer-&gt;GetBackingStore();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    start = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(backing_store-&gt;Data());</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = backing_store-&gt;ByteLength();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = buffer-&gt;IsSharedArrayBuffer();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (source-&gt;<a class="code" href="classv8_1_1Value.html#a01183cf30ba5e6383cdca82daee630d8">IsTypedArray</a>()) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">// A TypedArray was passed.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    Local&lt;TypedArray&gt; array = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;TypedArray&gt;::Cast</a>(source);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    Local&lt;ArrayBuffer&gt; buffer = array-&gt;Buffer();</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keyword">auto</span> backing_store = buffer-&gt;GetBackingStore();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    start = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(backing_store-&gt;Data()) +</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            array-&gt;ByteOffset();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = array-&gt;ByteLength();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#adee95482032a93e07f59341fed5c909f">is_shared</a> = buffer-&gt;IsSharedArrayBuffer();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    thrower-&gt;TypeError(<span class="stringliteral">&quot;Argument 0 must be a buffer source&quot;</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, start != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> == 0) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    thrower-&gt;CompileError(<span class="stringliteral">&quot;BufferSource argument is empty&quot;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> &gt; max_length) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// The spec requires a CompileError for implementation-defined limits, see</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// https://webassembly.github.io/spec/js-api/index.html#limits.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    thrower-&gt;CompileError(<span class="stringliteral">&quot;buffer source exceeds maximum size of %zu (is %zu)&quot;</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                          max_length, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">base::VectorOf</a>(start, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Local_html"><div class="ttname"><a href="classv8_1_1Local.html">v8::Local&lt; v8::Value &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a01183cf30ba5e6383cdca82daee630d8"><div class="ttname"><a href="classv8_1_1Value.html#a01183cf30ba5e6383cdca82daee630d8">v8::Value::IsTypedArray</a></div><div class="ttdeci">bool IsTypedArray() const</div><div class="ttdoc">Returns true if this value is one of TypedArrays.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03566">api.cc:3566</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a62c732277023d09f5e5a54eaa2846853"><div class="ttname"><a href="classv8_1_1Value.html#a62c732277023d09f5e5a54eaa2846853">v8::Value::IsArrayBuffer</a></div><div class="ttdeci">bool IsArrayBuffer() const</div><div class="ttdoc">Returns true if this value is an ArrayBuffer.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03556">api.cc:3556</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5bfc65f27076e49eb7752a4fb4d45acb"><div class="ttname"><a href="namespacev8_1_1base.html#a5bfc65f27076e49eb7752a4fb4d45acb">v8::base::VectorOf</a></div><div class="ttdeci">constexpr Vector&lt; T &gt; VectorOf(T *start, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00359">vector.h:359</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a94c4a6c4ad3993b5e0e43bc2191c084b"><div class="ttname"><a href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">v8::internal::Cast</a></div><div class="ttdeci">requires HasCastImplementation&lt; Holder, To, From &gt; Holder&lt; To &gt; Cast(Holder&lt; From &gt; value, const v8::SourceLocation &amp;loc=INIT_SOURCE_LOCATION_IN_DEBUG)</div><div class="ttdef"><b>Definition:</b> <a href="casting_8h_source.html#l00122">casting.h:122</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="js-array-buffer-inl_8h_source.html#l00189">v8::internal::is_shared</a>, <a class="el" href="api_8cc_source.html#l03556">v8::Value::IsArrayBuffer()</a>, <a class="el" href="api_8cc_source.html#l03566">v8::Value::IsTypedArray()</a>, <a class="el" href="external-reference_8cc_source.html#l01508">v8::internal::length</a>, and <a class="el" href="vector_8h_source.html#l00359">v8::base::VectorOf()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l00243">GetAndCopyFirstArgumentAsBytes()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00886">WebAssemblyValidateImpl()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21_cgraph.svg" width="100%" height="478"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21_icgraph.svg" width="100%" height="498"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6080d8b0a67ea17401b79da039a0a6d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6080d8b0a67ea17401b79da039a0a6d5">&#9670;&nbsp;</a></span>GetValueType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;i::wasm::ValueType&gt; v8::anonymous_namespace{wasm-js.cc}::GetValueType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1MaybeLocal.html">MaybeLocal</a>&lt; <a class="el" href="classv8_1_1Value.html">Value</a> &gt;&#160;</td>
          <td class="paramname"><em>maybe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1Context.html">Context</a> &gt;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WasmEnabledFeatures&#160;</td>
          <td class="paramname"><em>enabled_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01713">1713</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                                          {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordflow">if</span> (!maybe.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate),</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                           Utils::OpenDirectHandle(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>))</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i32&quot;</span>))) {</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">i::wasm::kWasmI32</a>;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;f32&quot;</span>))) {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6263a62b579bcdb32ae1acafc9ddf653">i::wasm::kWasmF32</a>;</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i64&quot;</span>))) {</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">i::wasm::kWasmI64</a>;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;f64&quot;</span>))) {</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb1a0dc52ceeed030ac44fa008c1e77c">i::wasm::kWasmF64</a>;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;v128&quot;</span>))) {</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">i::wasm::kWasmS128</a>;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;externref&quot;</span>))) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">i::wasm::kWasmExternRef</a>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_type_reflection() &amp;&amp;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;             <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;funcref&quot;</span>))) {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="comment">// The type reflection proposal renames &quot;anyfunc&quot; to &quot;funcref&quot;, and makes</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="comment">// &quot;anyfunc&quot; an alias of &quot;funcref&quot;.</span></div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyfunc&quot;</span>))) {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="comment">// The JS api spec uses &#39;anyfunc&#39; instead of &#39;funcref&#39;.</span></div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;eqref&quot;</span>))) {</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75a407e39344b5260946d2c22d318f84">i::wasm::kWasmEqRef</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_stringref() &amp;&amp;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;             <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;stringref&quot;</span>))) {</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a44d8421f58b06a23f41aff519b312d3c">i::wasm::kWasmStringRef</a>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyref&quot;</span>))) {</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a697b6d1f8fb7f3463c83684346bfa145">i::wasm::kWasmAnyRef</a>;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;structref&quot;</span>))) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac4677d357c392dc8125dfa4d58f92aeb">i::wasm::kWasmStructRef</a>;</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;arrayref&quot;</span>))) {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afb33e6ba5bbd6ec3d69e3537f9912d4e">i::wasm::kWasmArrayRef</a>;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i31ref&quot;</span>))) {</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a86d0b42ae903d1d6e6f98c685ef0133b">i::wasm::kWasmI31Ref</a>;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_exnref() &amp;&amp;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;             <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;exnref&quot;</span>))) {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a9a79ec61e742ba6e76addd6390334f22">i::wasm::kWasmExnRef</a>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  }</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="comment">// Unrecognized type.</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html_adcbf09f789c51def0e48e859d5b8da57"><div class="ttname"><a href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">v8::MaybeLocal::ToLocal</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool ToLocal(Local&lt; S &gt; *out) const</div><div class="ttdoc">Converts this MaybeLocal&lt;&gt; to a Local&lt;&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00691">v8-local-handle.h:691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1DirectHandle.html">v8::internal::DirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00654">handles.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_af22849720fbd54f8307292fe33c35a07"><div class="ttname"><a href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a></div><div class="ttdeci">constexpr const char * ToString(DataViewOp op)</div><div class="ttdef"><b>Definition:</b> <a href="data-view-ops_8h_source.html#l00032">data-view-ops.h:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02api_8cc_03_html_a0be2944595d695733e968a9a946d9fcc"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">v8::anonymous_namespace{api.cc}::ToHandle</a></div><div class="ttdeci">i::DirectHandle&lt; T &gt; ToHandle(i::Handle&lt; T &gt; h)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07748">api.cc:7748</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aaa0a202e5ad0d494cc88496b8fafa571"><div class="ttname"><a href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">v8::base::CStrVector</a></div><div class="ttdeci">Vector&lt; const char &gt; CStrVector(const char *data)</div><div class="ttdef"><b>Definition:</b> <a href="vector_8h_source.html#l00330">vector.h:330</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a44d8421f58b06a23f41aff519b312d3c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a44d8421f58b06a23f41aff519b312d3c">v8::internal::wasm::kWasmStringRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmStringRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01269">value-type.h:1269</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6263a62b579bcdb32ae1acafc9ddf653"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6263a62b579bcdb32ae1acafc9ddf653">v8::internal::wasm::kWasmF32</a></div><div class="ttdeci">constexpr IndependentValueType kWasmF32</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01245">value-type.h:1245</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a697b6d1f8fb7f3463c83684346bfa145"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a697b6d1f8fb7f3463c83684346bfa145">v8::internal::wasm::kWasmAnyRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmAnyRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01257">value-type.h:1257</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a75a407e39344b5260946d2c22d318f84"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a75a407e39344b5260946d2c22d318f84">v8::internal::wasm::kWasmEqRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmEqRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01264">value-type.h:1264</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a75bfbc047d813d2932698521c1c1145f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">v8::internal::wasm::kWasmExternRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmExternRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01260">value-type.h:1260</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a7b893808fadaa287f225d7209d2d36c6"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a7b893808fadaa287f225d7209d2d36c6">v8::internal::wasm::kWasmI32</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI32</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01243">value-type.h:1243</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a86d0b42ae903d1d6e6f98c685ef0133b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a86d0b42ae903d1d6e6f98c685ef0133b">v8::internal::wasm::kWasmI31Ref</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmI31Ref</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01265">value-type.h:1265</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a90941f620285a912a302a3aced092560"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">v8::internal::wasm::kWasmFuncRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmFuncRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01256">value-type.h:1256</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a9a79ec61e742ba6e76addd6390334f22"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a9a79ec61e742ba6e76addd6390334f22">v8::internal::wasm::kWasmExnRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmExnRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01263">value-type.h:1263</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab996b620af25ac2ea5b4682df40abca3"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">v8::internal::wasm::kWasmVoid</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmVoid</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01251">value-type.h:1251</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac4677d357c392dc8125dfa4d58f92aeb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac4677d357c392dc8125dfa4d58f92aeb">v8::internal::wasm::kWasmStructRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmStructRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01267">value-type.h:1267</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adef3c09b05397b61ad793d7c0bdf9e3b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adef3c09b05397b61ad793d7c0bdf9e3b">v8::internal::wasm::kWasmS128</a></div><div class="ttdeci">constexpr IndependentValueType kWasmS128</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01247">value-type.h:1247</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aeb1a0dc52ceeed030ac44fa008c1e77c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aeb1a0dc52ceeed030ac44fa008c1e77c">v8::internal::wasm::kWasmF64</a></div><div class="ttdeci">constexpr IndependentValueType kWasmF64</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01246">value-type.h:1246</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aee8b7f805fa662ae4ed159f8072bea5f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aee8b7f805fa662ae4ed159f8072bea5f">v8::internal::wasm::kWasmI64</a></div><div class="ttdeci">constexpr IndependentValueType kWasmI64</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01244">value-type.h:1244</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afb33e6ba5bbd6ec3d69e3537f9912d4e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afb33e6ba5bbd6ec3d69e3537f9912d4e">v8::internal::wasm::kWasmArrayRef</a></div><div class="ttdeci">constexpr IndependentHeapType kWasmArrayRef</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01268">value-type.h:1268</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vector_8h_source.html#l00330">v8::base::CStrVector()</a>, <a class="el" href="value-type_8h_source.html#l01257">v8::internal::wasm::kWasmAnyRef</a>, <a class="el" href="value-type_8h_source.html#l01268">v8::internal::wasm::kWasmArrayRef</a>, <a class="el" href="value-type_8h_source.html#l01264">v8::internal::wasm::kWasmEqRef</a>, <a class="el" href="value-type_8h_source.html#l01263">v8::internal::wasm::kWasmExnRef</a>, <a class="el" href="value-type_8h_source.html#l01260">v8::internal::wasm::kWasmExternRef</a>, <a class="el" href="value-type_8h_source.html#l01245">v8::internal::wasm::kWasmF32</a>, <a class="el" href="value-type_8h_source.html#l01246">v8::internal::wasm::kWasmF64</a>, <a class="el" href="value-type_8h_source.html#l01256">v8::internal::wasm::kWasmFuncRef</a>, <a class="el" href="value-type_8h_source.html#l01265">v8::internal::wasm::kWasmI31Ref</a>, <a class="el" href="value-type_8h_source.html#l01243">v8::internal::wasm::kWasmI32</a>, <a class="el" href="value-type_8h_source.html#l01244">v8::internal::wasm::kWasmI64</a>, <a class="el" href="value-type_8h_source.html#l01247">v8::internal::wasm::kWasmS128</a>, <a class="el" href="value-type_8h_source.html#l01269">v8::internal::wasm::kWasmStringRef</a>, <a class="el" href="value-type_8h_source.html#l01267">v8::internal::wasm::kWasmStructRef</a>, <a class="el" href="value-type_8h_source.html#l01251">v8::internal::wasm::kWasmVoid</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="conversions_8cc_source.html#l01119">v8::internal::string</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, <a class="el" href="v8-local-handle_8h_source.html#l00691">v8::MaybeLocal&lt; T &gt;::ToLocal()</a>, <a class="el" href="data-view-ops_8h_source.html#l00032">ToString()</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l02288">WebAssemblyFunction()</a>, <a class="el" href="wasm-js_8cc_source.html#l01807">WebAssemblyGlobalImpl()</a>, and <a class="el" href="wasm-js_8cc_source.html#l01973">WebAssemblyTagImpl()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5_cgraph.svg" width="100%" height="492"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5_icgraph.svg" width="100%" height="437"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af380767a60da1e8f57fc90501286702a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af380767a60da1e8f57fc90501286702a">&#9670;&nbsp;</a></span>NewPromisingWasmExportedFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1JSFunction.html">i::JSFunction</a>&gt; v8::anonymous_namespace{wasm-js.cc}::NewPromisingWasmExportedFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a> *&#160;</td>
          <td class="paramname"><em>i_isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt; <a class="el" href="classv8_1_1internal_1_1WasmExportedFunctionData.html">i::WasmExportedFunctionData</a> &gt;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ErrorThrower &amp;&#160;</td>
          <td class="paramname"><em>thrower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02230">2230</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                           {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a> trusted_instance_data{</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;      data-&gt;instance_data(), i_isolate};</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordtype">int</span> func_index = data-&gt;function_index();</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">i::wasm::WasmModule</a>* module = trusted_instance_data-&gt;module();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  i::wasm::ModuleTypeIndex sig_index = module-&gt;<a class="code" href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">functions</a>[func_index].sig_index;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  <span class="keyword">const</span> i::wasm::CanonicalSig* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">i::wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;          module-&gt;canonical_sig_id(sig_index));</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Code&gt;</a> wrapper;</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">internal::wasm::IsJSCompatibleSignature</a>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>)) {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="comment">// If the signature is incompatible with JS, the original export will have</span></div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="comment">// compiled an incompatible signature wrapper, so just reuse that.</span></div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;    wrapper =</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Code&gt;</a>(data-&gt;wrapper_code(i_isolate), i_isolate);</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    wrapper = <a class="code" href="builtins_8h.html#af33bd0f259d8e6a511fd018115e0d62c">BUILTIN_CODE</a>(i_isolate, WasmPromising);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;  }</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160; </div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// TODO(14034): Create funcref RTTs lazily?</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Map&gt;</a> rtt{</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      i::Cast&lt;i::Map&gt;(</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;          trusted_instance_data-&gt;managed_object_maps()-&gt;get(sig_index.index)),</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;      i_isolate};</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160; </div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  <span class="keywordtype">int</span> num_imported_functions = module-&gt;num_imported_functions;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::TrustedObject&gt;</a> implicit_arg;</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  constexpr <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03.html#acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99">kShared</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="keywordflow">if</span> (func_index &gt;= num_imported_functions) {</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    implicit_arg = trusted_instance_data;</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    implicit_arg = i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmImportData(</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(i::Cast&lt;i::WasmImportData&gt;(</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;                          trusted_instance_data-&gt;dispatch_table_for_imports()</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;                              -&gt;implicit_arg(func_index)),</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                      i_isolate),</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03.html#acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99">kShared</a>);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160; </div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmInternalFunction&gt;</a> <span class="keyword">internal</span> =</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmInternalFunction(</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;          implicit_arg, func_index, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03.html#acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99">kShared</a>,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;          trusted_instance_data-&gt;GetCallTarget(func_index));</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmFuncRef&gt;</a> func_ref =</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;      i_isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;NewWasmFuncRef(<span class="keyword">internal</span>, rtt, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03.html#acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99">kShared</a>);</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">if</span> (func_index &lt; num_imported_functions) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    i::Cast&lt;i::WasmImportData&gt;(implicit_arg)-&gt;set_call_origin(*<span class="keyword">internal</span>);</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;  }</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160; </div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#ac6583fa41f78a2543566f9812e57146b">i::WasmExportedFunction::New</a>(</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;      i_isolate, trusted_instance_data, func_ref, <span class="keyword">internal</span>,</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(data-&gt;sig()-&gt;parameter_count()), wrapper);</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;}</div>
<div class="ttc" id="abuiltins_8h_html_af33bd0f259d8e6a511fd018115e0d62c"><div class="ttname"><a href="builtins_8h.html#af33bd0f259d8e6a511fd018115e0d62c">BUILTIN_CODE</a></div><div class="ttdeci">#define BUILTIN_CODE(isolate, name)</div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00047">builtins.h:47</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a7e2962359009581ba84e6a361f574f61"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">v8::internal::Isolate::factory</a></div><div class="ttdeci">v8::internal::Factory * factory()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01553">isolate.h:1553</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_ac6583fa41f78a2543566f9812e57146b"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#ac6583fa41f78a2543566f9812e57146b">v8::internal::WasmExportedFunction::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmExportedFunction &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_data, DirectHandle&lt; WasmFuncRef &gt; func_ref, DirectHandle&lt; WasmInternalFunction &gt; internal_function, int arity, DirectHandle&lt; Code &gt; export_wrapper)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02957">wasm-objects.cc:2957</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa1f36fc3851ba2316d47223fa2b6e155"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature</a></div><div class="ttdeci">V8_EXPORT_PRIVATE const CanonicalSig * LookupFunctionSignature(CanonicalTypeIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00190">canonical-types.cc:190</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03_html_acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03.html#acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99">v8::internal::anonymous_namespace{elements.cc}::kShared</a></div><div class="ttdeci">@ kShared</div><div class="ttdef"><b>Definition:</b> <a href="elements_8cc_source.html#l03364">elements.cc:3364</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6feb413448e84daf9201bd8a2381a718"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">v8::internal::wasm::GetTypeCanonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * GetTypeCanonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00020">canonical-types.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a769350a0bf794ab0ebf3c8fc1c8fc450"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a769350a0bf794ab0ebf3c8fc1c8fc450">v8::internal::wasm::IsJSCompatibleSignature</a></div><div class="ttdeci">bool IsJSCompatibleSignature(const CanonicalSig *sig)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-opcodes_8cc_source.html#l00031">wasm-opcodes.cc:31</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a09dbf9baefb793fd78912d6ef89f9dde"><div class="ttname"><a href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">v8::internal::WasmModule</a></div><div class="ttdeci">wasm::WasmModule WasmModule</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00110">wasm-objects.cc:110</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6135f0ef57de8d381e3225f6659c617a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">v8::internal::sig</a></div><div class="ttdeci">kWasmInternalFunctionIndirectPointerTag kProtectedInstanceDataOffset sig</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00471">wasm-objects-inl.h:471</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a73502f55102d18cb764881bc29f35c05"><div class="ttname"><a href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">v8::internal::direct_handle</a></div><div class="ttdeci">DirectHandle&lt; T &gt; direct_handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00143">handles-inl.h:143</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1wasm_1_1WasmModule_html_a79b743888793de4a17ae53dd93988de6"><div class="ttname"><a href="structv8_1_1internal_1_1wasm_1_1WasmModule.html#a79b743888793de4a17ae53dd93988de6">v8::internal::wasm::WasmModule::functions</a></div><div class="ttdeci">std::vector&lt; WasmFunction &gt; functions</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00714">wasm-module.h:714</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="builtins_8h_source.html#l00047">BUILTIN_CODE</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, <a class="el" href="wasm-module_8h_source.html#l00714">v8::internal::wasm::WasmModule::functions</a>, <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="wasm-opcodes_8cc_source.html#l00031">v8::internal::wasm::IsJSCompatibleSignature()</a>, <a class="el" href="canonical-types_8cc_source.html#l00190">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02957">v8::internal::WasmExportedFunction::New()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, and <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l02401">WebAssemblyPromising()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a80df3bb5366d6ec83e382c06d65a17c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80df3bb5366d6ec83e382c06d65a17c6">&#9670;&nbsp;</a></span>StartAsyncCompilationWithResolver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::StartAsyncCompilationWithResolver </td>
          <td>(</td>
          <td class="paramtype">WasmJSApiScope &amp;&#160;</td>
          <td class="paramname"><em>js_api_scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1Value.html">Value</a> &gt;&#160;</td>
          <td class="paramname"><em>response_or_promise</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1Local.html">Local</a>&lt; <a class="el" href="classv8_1_1Value.html">Value</a> &gt;&#160;</td>
          <td class="paramname"><em>options_arg_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; i::wasm::CompilationResultResolver &gt;&#160;</td>
          <td class="paramname"><em>resolver</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00786">786</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                                                            {</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      Utils::OpenHandle(*context);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160; </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(options_arg_value, i_isolate, enabled_features);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> exception(Cast&lt;i::JSAny&gt;(i_isolate-&gt;exception()),</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                                        i_isolate);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    resolver-&gt;OnCompilationFailed(exception);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// Allocate the streaming decoder in a Managed so we can pass it to the</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// embedder.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  std::shared_ptr&lt;WasmStreaming&gt; streaming = std::make_shared&lt;WasmStreaming&gt;(</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      std::make_unique&lt;WasmStreaming::WasmStreamingImpl&gt;(</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          i_isolate, js_api_scope.api_name(), std::move(compile_imports),</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;          resolver));</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Managed&lt;WasmStreaming&gt;</a>&gt; data =</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">i::Managed&lt;WasmStreaming&gt;::From</a>(i_isolate, 0, streaming);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(i_isolate-&gt;wasm_streaming_callback());</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  Local&lt;v8::Function&gt; compile_callback, reject_callback;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a>(context, i_isolate-&gt;wasm_streaming_callback(),</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                         Utils::ToLocal(i::Cast&lt;i::Object&gt;(data)), 1)</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;           .ToLocal(&amp;compile_callback) ||</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      !<a class="code" href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a>(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">WasmStreamingPromiseFailedCallback</a>,</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                         Utils::ToLocal(i::Cast&lt;i::Object&gt;(data)), 1)</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;           .ToLocal(&amp;reject_callback)) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  }</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160; </div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <span class="comment">// The parameter may be of type {Response} or of type {Promise&lt;Response&gt;}.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="comment">// Treat either case of parameter as Promise.resolve(parameter)</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// as per https://www.w3.org/2001/tag/doc/promises-guide#resolve-arguments</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// Ending with:</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">//    return Promise.resolve(parameter).then(compile_callback);</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  Local&lt;Promise::Resolver&gt; input_resolver;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">Promise::Resolver::New</a>(context).ToLocal(&amp;input_resolver) ||</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      input_resolver-&gt;Resolve(context, response_or_promise).IsNothing()) {</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  }</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160; </div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="comment">// Calling `then` on the promise can fail if the user monkey-patched stuff,</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="comment">// see https://crbug.com/374820218 / https://crbug.com/396461004.</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="comment">// If this does not fail, then the {compile_callback} will start streaming</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="comment">// compilation, which will eventually resolve the promise we set as result</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">// value.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (input_resolver-&gt;GetPromise()</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;          -&gt;Then(context, compile_callback, reject_callback)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;          .IsEmpty()) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    streaming-&gt;Abort(MaybeLocal&lt;Value&gt;{});</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Function_html_a22f451f67d33a8403286d27f22d9ecb3"><div class="ttname"><a href="classv8_1_1Function.html#a22f451f67d33a8403286d27f22d9ecb3">v8::Function::New</a></div><div class="ttdeci">static MaybeLocal&lt; Function &gt; New(Local&lt; Context &gt; context, FunctionCallback callback, Local&lt; Value &gt; data=Local&lt; Value &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdoc">Create a function in the current execution context for a given FunctionCallback.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l05297">api.cc:5297</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Managed_html_a1c10cb948281b864db32d8af25a7b7d9"><div class="ttname"><a href="classv8_1_1internal_1_1Managed.html#a1c10cb948281b864db32d8af25a7b7d9">v8::internal::Managed::From</a></div><div class="ttdeci">static DirectHandle&lt; Managed&lt; CppType &gt; &gt; From(Isolate *isolate, size_t estimated_size, std::shared_ptr&lt; CppType &gt; shared_ptr, AllocationType allocation_type=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="managed-inl_8h_source.html#l00027">managed-inl.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a5c27ccf9d3fac863f80bac41d3a0b60b"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions</a></div><div class="ttdeci">CompileTimeImports ArgumentToCompileOptions(Local&lt; Value &gt; arg_value, i::Isolate *isolate, WasmEnabledFeatures enabled_features)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00577">wasm-js.cc:577</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a25ca8135bb0b20cdf89ea80e484efa2f"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a25ca8135bb0b20cdf89ea80e484efa2f">v8::anonymous_namespace{wasm-js.cc}::WasmStreamingPromiseFailedCallback</a></div><div class="ttdeci">void WasmStreamingPromiseFailedCallback(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00778">wasm-js.cc:778</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_html_aea46070627c9c116b8f1be4a25840e66"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">v8::internal::anonymous_namespace{intl-objects.cc}::New</a></div><div class="ttdeci">MaybeDirectHandle&lt; T &gt; New(Isolate *isolate, DirectHandle&lt; JSFunction &gt; constructor, DirectHandle&lt; Object &gt; locales, DirectHandle&lt; Object &gt; options, const char *method_name)</div><div class="ttdef"><b>Definition:</b> <a href="intl-objects_8cc_source.html#l00205">intl-objects.cc:205</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ae99c0e646ec90851574de7cee934682c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">v8::internal::wasm::ErrorStringForCodegen</a></div><div class="ttdeci">DirectHandle&lt; String &gt; ErrorStringForCodegen(Isolate *isolate, DirectHandle&lt; Context &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00274">wasm-module.cc:274</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aeb062fb51a7aa93290a7a1313085cf65"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">v8::internal::wasm::IsWasmCodegenAllowed</a></div><div class="ttdeci">bool IsWasmCodegenAllowed(Isolate *isolate, DirectHandle&lt; NativeContext &gt; context)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00260">wasm-module.cc:260</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00896">map-inl.h:896</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l00577">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00491">DCHECK_NOT_NULL</a>, <a class="el" href="wasm-module_8cc_source.html#l00274">v8::internal::wasm::ErrorStringForCodegen()</a>, <a class="el" href="managed-inl_8h_source.html#l00027">v8::internal::Managed&lt; CppType &gt;::From()</a>, <a class="el" href="wasm-module_8cc_source.html#l00260">v8::internal::wasm::IsWasmCodegenAllowed()</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="api_8cc_source.html#l08609">v8::Promise::Resolver::New()</a>, <a class="el" href="api_8cc_source.html#l05297">v8::Function::New()</a>, <a class="el" href="api_8h_source.html#l00294">v8::Utils::OpenHandle()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00778">WasmStreamingPromiseFailedCallback()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l00863">WebAssemblyCompileStreaming()</a>, and <a class="el" href="wasm-js_8cc_source.html#l01124">WebAssemblyInstantiateStreaming()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6_icgraph.svg" width="100%" height="410"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a134697b93e055ed94fb9f0922c75e9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a134697b93e055ed94fb9f0922c75e9d3">&#9670;&nbsp;</a></span>v8_str() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle</a>&lt;<a class="el" href="classv8_1_1internal_1_1String.html">i::String</a>&gt; v8::anonymous_namespace{wasm-js.cc}::v8_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00174">174</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                                  {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a7e2962359009581ba84e6a361f574f61">factory</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">NewStringFromAsciiChecked</a>(str);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1FactoryBase_html_a099d2a505298c549ede814b4b4021464"><div class="ttname"><a href="classv8_1_1internal_1_1FactoryBase.html#a099d2a505298c549ede814b4b4021464">v8::internal::FactoryBase::NewStringFromAsciiChecked</a></div><div class="ttdeci">Handle&lt; String &gt; NewStringFromAsciiChecked(const char *str, AllocationType allocation=AllocationType::kYoung)</div><div class="ttdef"><b>Definition:</b> <a href="factory-base_8h_source.html#l00325">factory-base.h:325</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="execution_2isolate_8h_source.html#l01553">v8::internal::Isolate::factory()</a>, and <a class="el" href="factory-base_8h_source.html#l00325">v8::internal::FactoryBase&lt; Impl &gt;::NewStringFromAsciiChecked()</a>.</p>

<p class="reference">Referenced by <a class="el" href="d8_8cc_source.html#l00724">v8::anonymous_namespace{d8.cc}::ToSTLString()</a>, and <a class="el" href="d8_8cc_source.html#l00408">v8::anonymous_namespace{d8.cc}::TryGetValue()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3_cgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="afbd7b4cf0e6b2f3d52780122edc1d105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd7b4cf0e6b2f3d52780122edc1d105">&#9670;&nbsp;</a></span>v8_str() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1Local.html">Local</a>&lt;<a class="el" href="classv8_1_1String.html">String</a>&gt; v8::anonymous_namespace{wasm-js.cc}::v8_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1Isolate.html">Isolate</a> *&#160;</td>
          <td class="paramname"><em>isolate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00177">177</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                        {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">return</span> Utils::ToLocal(<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate), str));</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_afbd7b4cf0e6b2f3d52780122edc1d105"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8::anonymous_namespace{wasm-js.cc}::v8_str</a></div><div class="ttdeci">Local&lt; String &gt; v8_str(Isolate *isolate, const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00177">wasm-js.cc:177</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l01397">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetAddressType()</a>, <a class="el" href="wasm-js_8cc_source.html#l01337">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetInitialOrMinimumProperty()</a>, <a class="el" href="wasm-js_8cc_source.html#l03639">v8::internal::WasmJs::Install()</a>, <a class="el" href="wasm-js_8cc_source.html#l03800">v8::internal::WasmJs::InstallCustomDescriptors()</a>, <a class="el" href="wasm-js_8cc_source.html#l03313">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc()</a>, <a class="el" href="wasm-js_8cc_source.html#l03336">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetter()</a>, <a class="el" href="wasm-js_8cc_source.html#l03353">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetterSetter()</a>, <a class="el" href="wasm-js_8cc_source.html#l03766">v8::internal::WasmJs::InstallJSPromiseIntegration()</a>, <a class="el" href="wasm-js_8cc_source.html#l03582">v8::internal::WasmJs::InstallModule()</a>, <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>, <a class="el" href="wasm-js_8cc_source.html#l00380">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::InstantiateBytesResultResolver::OnInstantiationSucceeded()</a>, <a class="el" href="wasm-js_8cc_source.html#l03413">v8::internal::WasmJs::PrepareForSnapshot()</a>, <a class="el" href="wasm-js_8cc_source.html#l03381">v8::internal::anonymous_namespace{wasm-js.cc}::SetupConstructor()</a>, <a class="el" href="wasm-js_8cc_source.html#l02149">WebAssemblyExceptionImpl()</a>, <a class="el" href="wasm-js_8cc_source.html#l02288">WebAssemblyFunction()</a>, <a class="el" href="wasm-js_8cc_source.html#l01807">WebAssemblyGlobalImpl()</a>, <a class="el" href="wasm-js_8cc_source.html#l01570">WebAssemblyMemoryImpl()</a>, <a class="el" href="wasm-js_8cc_source.html#l01426">WebAssemblyTableImpl()</a>, and <a class="el" href="wasm-js_8cc_source.html#l01973">WebAssemblyTagImpl()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2736eaaacaa0f666c3ecc732a6f740ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2736eaaacaa0f666c3ecc732a6f740ea">&#9670;&nbsp;</a></span>WasmStreamingCallbackForTesting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WasmStreamingCallbackForTesting </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00756">756</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                                                 {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.compile()&quot;</span>};</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160; </div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  std::shared_ptr&lt;v8::WasmStreaming&gt; streaming =</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">v8::WasmStreaming::Unpack</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>());</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="comment">// We don&#39;t check the buffer length up front, to allow d8 to test that the</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="comment">// streaming decoder implementation handles overly large inputs correctly.</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordtype">size_t</span> unlimited = std::numeric_limits&lt;size_t&gt;::max();</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  base::OwnedVector&lt;const uint8_t&gt; bytes =</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(info, unlimited, &amp;thrower);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> (bytes.empty()) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    streaming-&gt;Abort(Utils::ToLocal(thrower.Reify()));</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  streaming-&gt;OnBytesReceived(bytes.begin(), bytes.size());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  streaming-&gt;Finish();</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!thrower.error());</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a7eee713a6f95d5707ce788861754682f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">v8::FunctionCallbackInfo::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdoc">The current Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00645">v8-function-callback.h:645</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ab0ebfc2ea43af2fdfc3d085272bf499f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">v8::FunctionCallbackInfo::Data</a></div><div class="ttdeci">Local&lt; Value &gt; Data() const</div><div class="ttdoc">The data argument specified when creating the callback.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00639">v8-function-callback.h:639</a></div></div>
<div class="ttc" id="aclassv8_1_1WasmStreaming_html_af90e13f9116c9c4184b6e621c87671c6"><div class="ttname"><a href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">v8::WasmStreaming::Unpack</a></div><div class="ttdeci">static std::shared_ptr&lt; WasmStreaming &gt; Unpack(Isolate *isolate, Local&lt; Value &gt; value)</div><div class="ttdoc">Unpacks a {WasmStreaming} object wrapped in a {Managed} for the embedder.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l11981">api.cc:11981</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a631463dae9951468ccb11f081f55dd67"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">v8::anonymous_namespace{wasm-js.cc}::GetAndCopyFirstArgumentAsBytes</a></div><div class="ttdeci">base::OwnedVector&lt; const uint8_t &gt; GetAndCopyFirstArgumentAsBytes(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, size_t max_length, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00243">wasm-js.cc:243</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="vector_8h_source.html#l00241">v8::base::OwnedVector&lt; T &gt;::begin()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="v8-function-callback_8h_source.html#l00639">v8::FunctionCallbackInfo&lt; T &gt;::Data()</a>, <a class="el" href="vector_8h_source.html#l00239">v8::base::OwnedVector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-js_8cc_source.html#l00243">GetAndCopyFirstArgumentAsBytes()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00645">v8::FunctionCallbackInfo&lt; T &gt;::GetIsolate()</a>, <a class="el" href="vector_8h_source.html#l00236">v8::base::OwnedVector&lt; T &gt;::size()</a>, and <a class="el" href="api_8cc_source.html#l11981">v8::WasmStreaming::Unpack()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03639">v8::internal::WasmJs::Install()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a25ca8135bb0b20cdf89ea80e484efa2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25ca8135bb0b20cdf89ea80e484efa2f">&#9670;&nbsp;</a></span>WasmStreamingPromiseFailedCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WasmStreamingPromiseFailedCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00778">778</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                                                 {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  std::shared_ptr&lt;v8::WasmStreaming&gt; streaming =</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <a class="code" href="classv8_1_1WasmStreaming.html#af90e13f9116c9c4184b6e621c87671c6">v8::WasmStreaming::Unpack</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ab0ebfc2ea43af2fdfc3d085272bf499f">Data</a>());</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  streaming-&gt;Abort(info[0]);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa0a84af2b2a0cf0453cc75fc22679b28"><div class="ttname"><a href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">v8::internal::ValidateCallbackInfo</a></div><div class="ttdeci">bool ValidateCallbackInfo(const FunctionCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l12320">api.cc:12320</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-function-callback_8h_source.html#l00639">v8::FunctionCallbackInfo&lt; T &gt;::Data()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="v8-function-callback_8h_source.html#l00645">v8::FunctionCallbackInfo&lt; T &gt;::GetIsolate()</a>, <a class="el" href="api_8cc_source.html#l11981">v8::WasmStreaming::Unpack()</a>, and <a class="el" href="api_8cc_source.html#l12320">v8::internal::ValidateCallbackInfo()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l00786">StartAsyncCompilationWithResolver()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f_icgraph.svg" width="100%" height="410"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9829d4bd6b0d386c48b2220d16fdb5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9829d4bd6b0d386c48b2220d16fdb5c5">&#9670;&nbsp;</a></span>WebAssemblyCompileImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyCompileImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00708">708</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                                                                         {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.compile()&quot;</span>};</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1">kAsyncCompilation</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160; </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  Local&lt;Promise::Resolver&gt; promise_resolver;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">Promise::Resolver::New</a>(context).ToLocal(&amp;promise_resolver)) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  Local&lt;Promise&gt; promise = promise_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  std::shared_ptr&lt;i::wasm::CompilationResultResolver&gt; resolver(</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="keyword">new</span> AsyncCompilationResolver(isolate, context, promise_resolver));</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      i_isolate-&gt;native_context();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  }</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  base::OwnedVector&lt;const uint8_t&gt; bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordflow">if</span> (bytes.empty()) {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[1], i_isolate, enabled_features);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> exception(Cast&lt;i::JSAny&gt;(i_isolate-&gt;exception()),</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                                        i_isolate);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    resolver-&gt;OnCompilationFailed(exception);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aa17c088fdbc894379d393baf814073f7">AsyncCompile</a>(</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      i_isolate, enabled_features, std::move(compile_imports),</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      std::move(resolver), std::move(bytes), js_api_scope.api_name());</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a2cb41afe1e098a46d27d901b4cc1e6f5"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">v8::FunctionCallbackInfo::GetReturnValue</a></div><div class="ttdeci">ReturnValue&lt; T &gt; GetReturnValue() const</div><div class="ttdoc">The ReturnValue for the call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00650">v8-function-callback.h:650</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aa17c088fdbc894379d393baf814073f7"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aa17c088fdbc894379d393baf814073f7">v8::internal::wasm::WasmEngine::AsyncCompile</a></div><div class="ttdeci">void AsyncCompile(Isolate *isolate, WasmEnabledFeatures enabled, CompileTimeImports compile_imports, std::shared_ptr&lt; CompilationResultResolver &gt; resolver, base::OwnedVector&lt; const uint8_t &gt; bytes, const char *api_method_name_for_errors)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00790">wasm-engine.cc:790</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4147c03ee307212e25fc9da8cb675c4a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod</a></div><div class="ttdeci">void RecordCompilationMethod(i::Isolate *isolate, CompilationMethod method)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00573">wasm-js.cc:573</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kAsyncCompilation</a></div><div class="ttdeci">@ kAsyncCompilation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00567">wasm-js.cc:567</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a76ecd8d4d54ac6dd52d2278b2cda0ba7"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">v8::internal::wasm::max_module_size</a></div><div class="ttdeci">size_t max_module_size()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02177">wasm-engine.cc:2177</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_abc12fc3b25ebfb54c20b8479642acb94"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">v8::internal::wasm::GetWasmEngine</a></div><div class="ttdeci">WasmEngine * GetWasmEngine()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02125">wasm-engine.cc:2125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l00577">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00790">v8::internal::wasm::WasmEngine::AsyncCompile()</a>, <a class="el" href="vector_8h_source.html#l00239">v8::base::OwnedVector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-module_8cc_source.html#l00274">v8::internal::wasm::ErrorStringForCodegen()</a>, <a class="el" href="wasm-js_8cc_source.html#l00243">GetAndCopyFirstArgumentAsBytes()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="wasm-module_8cc_source.html#l00260">v8::internal::wasm::IsWasmCodegenAllowed()</a>, <a class="el" href="wasm-js_8cc_source.html#l00567">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kAsyncCompilation</a>, <a class="el" href="wasm-engine_8cc_source.html#l02177">v8::internal::wasm::max_module_size()</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="api_8cc_source.html#l08609">v8::Promise::Resolver::New()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00573">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod()</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a9829d4bd6b0d386c48b2220d16fdb5c5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab23e73fb88240f64540fadc2c56c93a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23e73fb88240f64540fadc2c56c93a1">&#9670;&nbsp;</a></span>WebAssemblyCompileStreaming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyCompileStreaming </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00863">863</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                                 {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.compileStreaming()&quot;</span>};</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93">kStreamingCompilation</a>);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// Create and assign the return value of this function.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  Local&lt;Promise::Resolver&gt; promise_resolver;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">Promise::Resolver::New</a>(context).ToLocal(&amp;promise_resolver)) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  Local&lt;Promise&gt; promise = promise_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="comment">// Prepare the CompilationResultResolver for the compilation.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keyword">auto</span> resolver = std::make_shared&lt;AsyncCompilationResolver&gt;(isolate, context,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                                             promise_resolver);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">StartAsyncCompilationWithResolver</a>(js_api_scope, info[0], info[1], resolver);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kStreamingCompilation</a></div><div class="ttdeci">@ kStreamingCompilation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00568">wasm-js.cc:568</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a80df3bb5366d6ec83e382c06d65a17c6"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">v8::anonymous_namespace{wasm-js.cc}::StartAsyncCompilationWithResolver</a></div><div class="ttdeci">void StartAsyncCompilationWithResolver(WasmJSApiScope &amp;js_api_scope, Local&lt; Value &gt; response_or_promise, Local&lt; Value &gt; options_arg_value, std::shared_ptr&lt; i::wasm::CompilationResultResolver &gt; resolver)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00786">wasm-js.cc:786</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l00568">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kStreamingCompilation</a>, <a class="el" href="api_8cc_source.html#l08609">v8::Promise::Resolver::New()</a>, <a class="el" href="wasm-js_8cc_source.html#l00573">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00786">StartAsyncCompilationWithResolver()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03639">v8::internal::WasmJs::Install()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a22e798f57b4d736ad3f5c535c380864d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e798f57b4d736ad3f5c535c380864d">&#9670;&nbsp;</a></span>WebAssemblyDescriptorOptionsImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyDescriptorOptionsImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02461">2461</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;                                               {</div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.DescriptorOptions()&quot;</span>};</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; </div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;  <span class="keywordflow">if</span> (!info.IsConstructCall()) {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        <span class="stringliteral">&quot;WebAssembly.DescriptorOptions must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;  }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be an object&quot;</span>);</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160; </div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> options =</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;      Utils::OpenDirectHandle(*<a class="code" href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">Local&lt;v8::Object&gt;::Cast</a>(info[0]));</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>;</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">i::JSReceiver::GetProperty</a>(i_isolate, options, <span class="stringliteral">&quot;prototype&quot;</span>)</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>)) {</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;  }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">if</span> (!i::IsJSReceiver(*<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>)) {</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Prototype must be an object&quot;</span>);</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  }</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmDescriptorOptions&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmDescriptorOptions.html#a3d09ffa2effb4501fd95e5fb947c9970">i::WasmDescriptorOptions::New</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>);</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  info.GetReturnValue().Set(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Local_html_a8e76791c0614ec0feed0e5a3a9d6e9f8"><div class="ttname"><a href="classv8_1_1Local.html#a8e76791c0614ec0feed0e5a3a9d6e9f8">v8::Local&lt; v8::Object &gt;::Cast</a></div><div class="ttdeci">static Local&lt; v8::Object &gt; Cast(Local&lt; S &gt; that)</div><div class="ttdoc">Cast a handle to a subclass, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00354">v8-local-handle.h:354</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSReceiver_html_aba4a2cfb4946da1635ae2730b710ff00"><div class="ttname"><a href="classv8_1_1internal_1_1JSReceiver.html#aba4a2cfb4946da1635ae2730b710ff00">v8::internal::JSReceiver::GetProperty</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; Object &gt; GetProperty(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; receiver, const char *key)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00123">js-objects-inl.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmDescriptorOptions_html_a3d09ffa2effb4501fd95e5fb947c9970"><div class="ttname"><a href="classv8_1_1internal_1_1WasmDescriptorOptions.html#a3d09ffa2effb4501fd95e5fb947c9970">v8::internal::WasmDescriptorOptions::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmDescriptorOptions &gt; New(Isolate *isolate, DirectHandle&lt; Object &gt; prototype)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02400">wasm-objects.cc:2400</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3ed6964c1400e2d797f2ae7d2adf68a7"><div class="ttname"><a href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">v8::internal::IsObject</a></div><div class="ttdeci">constexpr bool IsObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00662">objects.h:662</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2d9fec01057be7bdab90bb4682717b0"><div class="ttname"><a href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">v8::internal::prototype</a></div><div class="ttdeci">kInstanceDescriptorsOffset kTransitionsOrPrototypeInfoOffset prototype</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00069">map-inl.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="js-objects-inl_8h_source.html#l00123">v8::internal::JSReceiver::GetProperty()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02400">v8::internal::WasmDescriptorOptions::New()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="map-inl_8h_source.html#l00069">v8::internal::prototype</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, and <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03800">v8::internal::WasmJs::InstallCustomDescriptors()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d_icgraph.svg" width="536" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a89952a68736479a3740810e5651682ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89952a68736479a3740810e5651682ee">&#9670;&nbsp;</a></span>WebAssemblyExceptionGetArgImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyExceptionGetArgImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02959">2959</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                                                 {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Exception.getArg()&quot;</span>};</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(exception, WasmExceptionPackage);</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160; </div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTagObject&gt;</a> tag_object;</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsTag(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;tag_object)) {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;  }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;  std::optional&lt;uint32_t&gt; maybe_index =</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<span class="stringliteral">&quot;Index&quot;</span>, info[1], context, &amp;thrower);</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">if</span> (!maybe_index) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = *maybe_index;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  <span class="keyword">auto</span> maybe_values =</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a92e3cf4344536855bbcc0c46ec31c269">i::WasmExceptionPackage::GetExceptionValues</a>(i_isolate, exception);</div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160; </div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;  <span class="keyword">auto</span> this_tag =</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aff0527791499aaefa3d40b6b010470ca">i::WasmExceptionPackage::GetExceptionTag</a>(i_isolate, exception);</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmExceptionTag(*this_tag));</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;  <span class="keywordflow">if</span> (tag_object-&gt;tag() != *this_tag) {</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;First argument does not match the exception tag&quot;</span>);</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;  }</div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160; </div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsUndefined(*maybe_values));</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;  <span class="keyword">auto</span> values = i::Cast&lt;i::FixedArray&gt;(maybe_values);</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;  <span class="keyword">auto</span> signature = tag_object-&gt;serialized_signature();</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> &gt;= <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(signature-&gt;length())) {</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Index out of range&quot;</span>);</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;  }</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;  <span class="comment">// First, find the index in the values array.</span></div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;  uint32_t decode_index = 0;</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;  <span class="comment">// Since the bounds check above passed, the cast to int is safe.</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; i &lt; static_cast&lt;int&gt;(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <span class="keywordflow">switch</span> (signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html">i</a>).kind()) {</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI32:</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF32:</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        decode_index += 2;</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI64:</div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF64:</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        decode_index += 4;</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;      <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;      <span class="keywordflow">case</span> i::wasm::kRefNull:</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        decode_index++;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;      <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        decode_index += 8;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;      <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;      <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;      <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;      <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;      <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    }</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;  }</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;  <span class="comment">// Decode the value at {decode_index}.</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;  Local&lt;Value&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;  <span class="keywordflow">switch</span> (signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>).kind()) {</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;      uint32_t u32_bits = 0;</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">i::DecodeI32ExceptionValue</a>(values, &amp;decode_index, &amp;u32_bits);</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32 = <span class="keyword">static_cast&lt;</span><a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a><span class="keyword">&gt;</span>(u32_bits);</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a>(isolate, i32);</div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    }</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;      uint64_t u64_bits = 0;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">i::DecodeI64ExceptionValue</a>(values, &amp;decode_index, &amp;u64_bits);</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;      int64_t i64 = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(u64_bits);</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1BigInt.html#a4682f096ed12241365225df82209349d">v8::BigInt::New</a>(isolate, i64);</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    }</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;      uint32_t f32_bits = 0;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">DecodeI32ExceptionValue</a>(values, &amp;decode_index, &amp;f32_bits);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;      <span class="keywordtype">float</span> f32 = base::bit_cast&lt;float&gt;(f32_bits);</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, f32);</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    }</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;      uint64_t f64_bits = 0;</div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">DecodeI64ExceptionValue</a>(values, &amp;decode_index, &amp;f64_bits);</div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;      <span class="keywordtype">double</span> f64 = base::bit_cast&lt;double&gt;(f64_bits);</div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, f64);</div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    }</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> obj(values-&gt;get(decode_index), i_isolate);</div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;      ReturnValue&lt;Value&gt; return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(return_value, obj, signature-&gt;get(<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>),</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;                                     i_isolate, &amp;thrower)) {</div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;      }</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;    }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Invalid type v128&quot;</span>);</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;  }</div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1BigInt_html_a4682f096ed12241365225df82209349d"><div class="ttname"><a href="classv8_1_1BigInt.html#a4682f096ed12241365225df82209349d">v8::BigInt::New</a></div><div class="ttdeci">static Local&lt; BigInt &gt; New(Isolate *isolate, int64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09566">api.cc:9566</a></div></div>
<div class="ttc" id="aclassv8_1_1Integer_html_acd94a64ebeb75a97c42a20c15738fca4"><div class="ttname"><a href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a></div><div class="ttdeci">static Local&lt; Integer &gt; New(Isolate *isolate, int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09543">api.cc:9543</a></div></div>
<div class="ttc" id="aclassv8_1_1Number_html_a4d8822be251214dab4cf0212475ede76"><div class="ttname"><a href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a></div><div class="ttdeci">static Local&lt; Number &gt; New(Isolate *isolate, double value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09531">api.cc:9531</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a92e3cf4344536855bbcc0c46ec31c269"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a92e3cf4344536855bbcc0c46ec31c269">v8::internal::WasmExceptionPackage::GetExceptionValues</a></div><div class="ttdeci">static DirectHandle&lt; Object &gt; GetExceptionValues(Isolate *isolate, DirectHandle&lt; WasmExceptionPackage &gt; exception_package)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02781">wasm-objects.cc:2781</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_aff0527791499aaefa3d40b6b010470ca"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#aff0527791499aaefa3d40b6b010470ca">v8::internal::WasmExceptionPackage::GetExceptionTag</a></div><div class="ttdeci">static DirectHandle&lt; Object &gt; GetExceptionTag(Isolate *isolate, DirectHandle&lt; WasmExceptionPackage &gt; exception_package)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02769">wasm-objects.cc:2769</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a679f5944281d45950d7d79c536f103b8"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EnforceUint32</a></div><div class="ttdeci">std::optional&lt; uint32_t &gt; EnforceUint32(Name argument_name, Local&lt; v8::Value &gt; v, Local&lt; Context &gt; context, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00511">wasm-js.cc:511</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab4f484a7bec0c8f51d7df97ca05936f4"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmObjectToJSReturnValue</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool WasmObjectToJSReturnValue(v8::ReturnValue&lt; v8::Value &gt; &amp;return_value, i::DirectHandle&lt; i::Object &gt; value, i::wasm::ValueType type, i::Isolate *isolate, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02641">wasm-js.cc:2641</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2ef75ab406122e31bc6a5e46e16e0de9"><div class="ttname"><a href="namespacev8_1_1internal.html#a2ef75ab406122e31bc6a5e46e16e0de9">v8::internal::DecodeI32ExceptionValue</a></div><div class="ttdeci">void DecodeI32ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint32_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02808">wasm-objects.cc:2808</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a833daad0bfc17094878be96c55497d8e"><div class="ttname"><a href="namespacev8_1_1internal.html#a833daad0bfc17094878be96c55497d8e">v8::internal::DecodeI64ExceptionValue</a></div><div class="ttdeci">void DecodeI64ExceptionValue(DirectHandle&lt; FixedArray &gt; encoded_values, uint32_t *encoded_index, uint64_t *value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02815">wasm-objects.cc:2815</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="awasm-js_8cc_html_ae79207a556b5c5abdb95386209c4b36f"><div class="ttname"><a href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a></div><div class="ttdeci">#define EXTRACT_THIS(var, WasmType)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02560">wasm-js.cc:2560</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-objects_8cc_source.html#l02808">v8::internal::DecodeI32ExceptionValue()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02815">v8::internal::DecodeI64ExceptionValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l00511">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EnforceUint32()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="wasm-objects_8cc_source.html#l02769">v8::internal::WasmExceptionPackage::GetExceptionTag()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02781">v8::internal::WasmExceptionPackage::GetExceptionValues()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="api_8cc_source.html#l09531">v8::Number::New()</a>, <a class="el" href="api_8cc_source.html#l09543">v8::Integer::New()</a>, <a class="el" href="api_8cc_source.html#l09566">v8::BigInt::New()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00067">UNREACHABLE</a>, and <a class="el" href="wasm-js_8cc_source.html#l02641">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmObjectToJSReturnValue()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a89952a68736479a3740810e5651682ee_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6fdd90c4ae4ce048cda630ce1be94ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fdd90c4ae4ce048cda630ce1be94ef8">&#9670;&nbsp;</a></span>WebAssemblyExceptionImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyExceptionImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02149">2149</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                                                                           {</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Exception()&quot;</span>};</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160; </div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Exception must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  }</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly tag&quot;</span>);</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;  }</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> arg0 = Utils::OpenDirectHandle(*info[0]);</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordflow">if</span> (!IsWasmTagObject(i::Cast&lt;i::HeapObject&gt;(*arg0))) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly tag&quot;</span>);</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keyword">auto</span> tag_object = i::Cast&lt;i::WasmTagObject&gt;(arg0);</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExceptionTag&gt;</a> tag(</div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;      i::Cast&lt;i::WasmExceptionTag&gt;(tag_object-&gt;tag()), i_isolate);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keyword">auto</span> js_tag = i::Cast&lt;i::WasmTagObject&gt;(i_isolate-&gt;context()-&gt;wasm_js_tag());</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">if</span> (*tag == js_tag-&gt;tag()) {</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 cannot be WebAssembly.JSTag&quot;</span>);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  <span class="keyword">const</span> i::wasm::CanonicalSig* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6feb413448e84daf9201bd8a2381a718">i::wasm::GetTypeCanonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa1f36fc3851ba2316d47223fa2b6e155">LookupFunctionSignature</a>(</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;          i::wasm::CanonicalTypeIndex{</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;              <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(tag_object-&gt;canonical_type_index())});</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160; </div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;return_count() != 0) {</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="stringliteral">&quot;Invalid WebAssembly tag (return values not permitted in Exception &quot;</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="stringliteral">&quot;tag)&quot;</span>);</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;  }</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160; </div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  uint32_t <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a77cc11472c760fe6c884a2b8b3247127">GetEncodedSize</a>(tag_object);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExceptionPackage&gt;</a> runtime_exception =</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a310dfde86feecf720c6a44124ab7dbca">i::WasmExceptionPackage::New</a>(i_isolate, tag, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <span class="comment">// The constructor above should guarantee that the cast below succeeds.</span></div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::FixedArray&gt;</a> values =</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      i::Cast&lt;i::FixedArray&gt;(<a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#a92e3cf4344536855bbcc0c46ec31c269">i::WasmExceptionPackage::GetExceptionValues</a>(</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;          i_isolate, runtime_exception));</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::PodArray&lt;i::wasm::ValueType&gt;</a>&gt; signature(</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      tag_object-&gt;serialized_signature(), i_isolate);</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0c59b1dfcb356042e275ff204f1127be">EncodeExceptionValues</a>(isolate, signature, tag_object, info[1], &amp;thrower,</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                             values)) {</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  }</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160; </div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <span class="comment">// Third argument: optional ExceptionOption ({traceStack: &lt;bool&gt;}).</span></div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keywordflow">if</span> (!info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">IsNullOrUndefined</a>() &amp;&amp; !info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 2 is not an object&quot;</span>);</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  }</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordflow">if</span> (info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    Local&lt;Object&gt; trace_stack_obj = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Object&gt;::Cast</a>(info[2]);</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    Local&lt;String&gt; trace_stack_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;traceStack&quot;</span>);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;Value&gt;</a> trace_stack_value;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span> (!trace_stack_obj-&gt;Get(context, trace_stack_key)</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;             .ToLocal(&amp;trace_stack_value)) {</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">if</span> (trace_stack_value-&gt;BooleanValue(isolate)) {</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Handle.html">i::Handle&lt;i::Object&gt;</a> caller = Utils::OpenHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#aa04f4c5c984db26a90b591f34550e6fa">NewTarget</a>());</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160; </div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> capture_result;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1ErrorUtils.html#ae2e7c0a93577742e9ba4ff8c8fd14f18">i::ErrorUtils::CaptureStackTrace</a>(i_isolate, runtime_exception,</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                                            <a class="code" href="namespacev8_1_1internal.html#a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b">i::SKIP_NONE</a>, caller)</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;               .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;capture_result)) {</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      }</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    }</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  }</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160; </div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      Utils::ToLocal(i::Cast&lt;i::Object&gt;(runtime_exception)));</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_aa04f4c5c984db26a90b591f34550e6fa"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#aa04f4c5c984db26a90b591f34550e6fa">v8::FunctionCallbackInfo::NewTarget</a></div><div class="ttdeci">Local&lt; Value &gt; NewTarget() const</div><div class="ttdoc">For construct calls, this returns the &quot;new.target&quot; value.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00634">v8-function-callback.h:634</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ad2105b93e9b4d02f42b7338fa5950cbc"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">v8::FunctionCallbackInfo::IsConstructCall</a></div><div class="ttdeci">bool IsConstructCall() const</div><div class="ttdoc">Indicates whether this is a regular call or a construct call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00655">v8-function-callback.h:655</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ErrorUtils_html_ae2e7c0a93577742e9ba4ff8c8fd14f18"><div class="ttname"><a href="classv8_1_1internal_1_1ErrorUtils.html#ae2e7c0a93577742e9ba4ff8c8fd14f18">v8::internal::ErrorUtils::CaptureStackTrace</a></div><div class="ttdeci">static MaybeHandle&lt; Object &gt; CaptureStackTrace(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, FrameSkipMode mode, Handle&lt; Object &gt; caller)</div><div class="ttdef"><b>Definition:</b> <a href="messages_8cc_source.html#l01217">messages.cc:1217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Handle_html"><div class="ttname"><a href="classv8_1_1internal_1_1Handle.html">v8::internal::Handle</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00150">handles.h:150</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionPackage_html_a310dfde86feecf720c6a44124ab7dbca"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionPackage.html#a310dfde86feecf720c6a44124ab7dbca">v8::internal::WasmExceptionPackage::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmExceptionPackage &gt; New(Isolate *isolate, DirectHandle&lt; WasmExceptionTag &gt; exception_tag, int encoded_size)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02750">wasm-objects.cc:2750</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a0c59b1dfcb356042e275ff204f1127be"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a0c59b1dfcb356042e275ff204f1127be">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EncodeExceptionValues</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool EncodeExceptionValues(v8::Isolate *isolate, i::DirectHandle&lt; i::PodArray&lt; i::wasm::ValueType &gt;&gt; signature, i::DirectHandle&lt; i::WasmTagObject &gt; tag_object, const Local&lt; Value &gt; &amp;arg, ErrorThrower *thrower, i::DirectHandle&lt; i::FixedArray &gt; values_out)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02051">wasm-js.cc:2051</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a77cc11472c760fe6c884a2b8b3247127"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a77cc11472c760fe6c884a2b8b3247127">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetEncodedSize</a></div><div class="ttdeci">uint32_t GetEncodedSize(i::DirectHandle&lt; i::WasmTagObject &gt; tag_object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02043">wasm-js.cc:2043</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b"><div class="ttname"><a href="namespacev8_1_1internal.html#a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b">v8::internal::SKIP_NONE</a></div><div class="ttdeci">@ SKIP_NONE</div><div class="ttdef"><b>Definition:</b> <a href="messages_8h_source.html#l00071">messages.h:71</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6db5c47c190e9de94a96948682b877c8"><div class="ttname"><a href="namespacev8_1_1internal.html#a6db5c47c190e9de94a96948682b877c8">v8::internal::IsNullOrUndefined</a></div><div class="ttdeci">bool IsNullOrUndefined(Tagged&lt; Object &gt; obj, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00179">objects-inl.h:179</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="messages_8cc_source.html#l01217">v8::internal::ErrorUtils::CaptureStackTrace()</a>, <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="wasm-js_8cc_source.html#l02051">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EncodeExceptionValues()</a>, <a class="el" href="api_8cc_source.html#l04568">v8::Object::Get()</a>, <a class="el" href="wasm-js_8cc_source.html#l02043">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetEncodedSize()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02781">v8::internal::WasmExceptionPackage::GetExceptionValues()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="canonical-types_8cc_source.html#l00020">v8::internal::wasm::GetTypeCanonicalizer()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="objects-inl_8h_source.html#l00179">v8::internal::IsNullOrUndefined()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="canonical-types_8cc_source.html#l00190">v8::internal::wasm::TypeCanonicalizer::LookupFunctionSignature()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02750">v8::internal::WasmExceptionPackage::New()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00634">v8::FunctionCallbackInfo&lt; T &gt;::NewTarget()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="api_8h_source.html#l00294">v8::Utils::OpenHandle()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, <a class="el" href="messages_8h_source.html#l00071">v8::internal::SKIP_NONE</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, <a class="el" href="v8-local-handle_8h_source.html#l00691">v8::MaybeLocal&lt; T &gt;::ToLocal()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00177">v8_str()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6fdd90c4ae4ce048cda630ce1be94ef8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0b20f4d4fbe2dc1a4bfb89b8daeba0bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b20f4d4fbe2dc1a4bfb89b8daeba0bf">&#9670;&nbsp;</a></span>WebAssemblyExceptionIsImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyExceptionIsImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03076">3076</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;                                                 {</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Exception.is()&quot;</span>};</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(exception, WasmExceptionPackage);</div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160; </div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  <span class="keyword">auto</span> tag = <a class="code" href="classv8_1_1internal_1_1WasmExceptionPackage.html#aff0527791499aaefa3d40b6b010470ca">i::WasmExceptionPackage::GetExceptionTag</a>(i_isolate, exception);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsWasmExceptionTag(*tag));</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160; </div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTagObject&gt;</a> tag_object;</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsTag(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;tag_object)) {</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  }</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(tag_object-&gt;tag() == *tag);</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="wasm-objects_8cc_source.html#l02769">v8::internal::WasmExceptionPackage::GetExceptionTag()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, and <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0b20f4d4fbe2dc1a4bfb89b8daeba0bf_cgraph.svg" width="100%" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac70d98b3dfb9bcdb067ff8a7a713926e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70d98b3dfb9bcdb067ff8a7a713926e">&#9670;&nbsp;</a></span>WebAssemblyFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02288">2288</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;                                                                      {</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Function()&quot;</span>};</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160; </div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Function must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function type&quot;</span>);</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;  }</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;  Local&lt;Object&gt; function_type = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160; </div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  <span class="comment">// Load the &#39;parameters&#39; property of the function type.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;  Local&lt;String&gt; parameters_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;parameters&quot;</span>);</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;v8::Value&gt;</a> parameters_maybe =</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      function_type-&gt;Get(context, parameters_key);</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> parameters_value;</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">if</span> (!parameters_maybe.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;parameters_value) ||</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;      !parameters_value-&gt;<a class="code" href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">IsObject</a>()) {</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function type with &#39;parameters&#39;&quot;</span>);</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  }</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  Local&lt;Object&gt; parameters = parameters_value.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae40ecf79ba420ba01bc347350bd6176f">Object</a>&gt;();</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  uint32_t parameters_len = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, parameters);</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordflow">if</span> (parameters_len == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains parameters without &#39;length&#39;&quot;</span>);</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  }</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">if</span> (parameters_len &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">i::wasm::kV8MaxWasmFunctionParams</a>) {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains too many parameters&quot;</span>);</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;  <span class="comment">// Load the &#39;results&#39; property of the function type.</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> results_value;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;  <span class="keywordflow">if</span> (!function_type-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;results&quot;</span>))</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;           .ToLocal(&amp;results_value)) {</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;  }</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="keywordflow">if</span> (!results_value-&gt;<a class="code" href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">IsObject</a>()) {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function type with &#39;results&#39;&quot;</span>);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;  }</div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  Local&lt;Object&gt; results = results_value.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae40ecf79ba420ba01bc347350bd6176f">Object</a>&gt;();</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  uint32_t results_len = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, results);</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">if</span> (results_len == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains results without &#39;length&#39;&quot;</span>);</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;  <span class="keywordflow">if</span> (results_len &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab8ffecbb34efcc8e31d1c5b84241d1fd">i::wasm::kV8MaxWasmFunctionReturns</a>) {</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains too many results&quot;</span>);</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  }</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  <span class="comment">// Decode the function type and construct a signature.</span></div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Zone.html">i::Zone</a> zone(i_isolate-&gt;allocator(), <a class="code" href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a>);</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  i::wasm::FunctionSig::Builder builder(&amp;zone, results_len, parameters_len);</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; parameters_len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    MaybeLocal&lt;Value&gt; maybe = parameters-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;          <span class="stringliteral">&quot;Argument 0 parameter type at index #%u must be a value type&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;    }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    builder.AddParam(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  }</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; results_len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    MaybeLocal&lt;Value&gt; maybe = results-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;          <span class="stringliteral">&quot;Argument 0 result type at index #%u must be a value type&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    }</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;    builder.AddReturn(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160; </div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">if</span> (!info[1]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be a function&quot;</span>);</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  }</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = builder.Get();</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">i::wasm::Suspend</a> suspend = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">i::wasm::kNoSuspend</a>;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160; </div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> callable =</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      Utils::OpenDirectHandle(*info[1].As&lt;Object&gt;());</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">if</span> (i::IsWasmSuspendingObject(*callable)) {</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;    suspend = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd">i::wasm::kSuspend</a>;</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    callable = <a class="code" href="namespacev8_1_1internal.html#a73502f55102d18cb764881bc29f35c05">direct_handle</a>(</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        i::Cast&lt;i::WasmSuspendingObject&gt;(*callable)-&gt;callable(), i_isolate);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i::IsCallable(*callable));</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!i::IsCallable(*callable)) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be a function&quot;</span>);</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  }</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160; </div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmJSFunction.html#a5f4776e0c31cabfacc5c5cfa6d1a6caa">i::WasmJSFunction::New</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, callable, suspend);</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>));</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Local_html_a00dcb92006284768dc2661c2940f935a"><div class="ttname"><a href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">v8::Local::As</a></div><div class="ttdeci">Local&lt; S &gt; As() const</div><div class="ttdoc">Calling this is equivalent to Local&lt;S&gt;::Cast().</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00370">v8-local-handle.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1MaybeLocal_html"><div class="ttname"><a href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt; v8::Value &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1Value_html_a72a01e06e897a8fedbb430cdd7fc3ffe"><div class="ttname"><a href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">v8::Value::IsObject</a></div><div class="ttdeci">bool IsObject() const</div><div class="ttdoc">Returns true if this value is an object.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l03599">api.cc:3599</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunction_html_a5f4776e0c31cabfacc5c5cfa6d1a6caa"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunction.html#a5f4776e0c31cabfacc5c5cfa6d1a6caa">v8::internal::WasmJSFunction::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmJSFunction &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, DirectHandle&lt; JSReceiver &gt; callable, wasm::Suspend suspend)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03182">wasm-objects.cc:3182</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00043">zone.h:43</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a361699e49cecab7e16584fcb747876fe"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetIterableLength</a></div><div class="ttdeci">uint32_t GetIterableLength(i::Isolate *isolate, Local&lt; Context &gt; context, Local&lt; Object &gt; iterable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01959">wasm-js.cc:1959</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6080d8b0a67ea17401b79da039a0a6d5"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">v8::anonymous_namespace{wasm-js.cc}::GetValueType</a></div><div class="ttdeci">std::optional&lt; i::wasm::ValueType &gt; GetValueType(Isolate *isolate, MaybeLocal&lt; Value &gt; maybe, Local&lt; Context &gt; context, WasmEnabledFeatures enabled_features)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01713">wasm-js.cc:1713</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_ae40ecf79ba420ba01bc347350bd6176f"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#ae40ecf79ba420ba01bc347350bd6176f">v8::internal::compiler::Object</a></div><div class="ttdeci">OptionalRef&lt; typename ref_traits&lt; T &gt;::ref_type &gt; Object</div><div class="ttdef"><b>Definition:</b> <a href="js-heap-broker_8h_source.html#l00591">js-heap-broker.h:592</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a1a17c60bc1e8b8ad11208d7b0d3ec5a9"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">v8::internal::wasm::FunctionSig</a></div><div class="ttdeci">Signature&lt; ValueType &gt; FunctionSig</div><div class="ttdef"><b>Definition:</b> <a href="value-type_8h_source.html#l01296">value-type.h:1296</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843a"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843a">v8::internal::wasm::Suspend</a></div><div class="ttdeci">Suspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd">v8::internal::wasm::kSuspend</a></div><div class="ttdeci">@ kSuspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83">v8::internal::wasm::kNoSuspend</a></div><div class="ttdeci">@ kNoSuspend</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00034">module-instantiate.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ab8ffecbb34efcc8e31d1c5b84241d1fd"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ab8ffecbb34efcc8e31d1c5b84241d1fd">v8::internal::wasm::kV8MaxWasmFunctionReturns</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmFunctionReturns</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00054">wasm-limits.h:54</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_af945328e16ca1b7c2a5d2baf50ca445c"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">v8::internal::wasm::kV8MaxWasmFunctionParams</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmFunctionParams</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00053">wasm-limits.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae9b3d70a0b2f7c3c669d187fd9a9dae2"><div class="ttname"><a href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">v8::internal::kMaxUInt32</a></div><div class="ttdeci">constexpr uint32_t kMaxUInt32</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00388">globals.h:388</a></div></div>
<div class="ttc" id="azone_8h_html_a6b1fd0a126df3f1b788cee19d9cce66e"><div class="ttname"><a href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a></div><div class="ttdeci">#define ZONE_NAME</div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00022">zone.h:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-local-handle_8h_source.html#l00370">v8::Local&lt; T &gt;::As()</a>, <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="handles-inl_8h_source.html#l00143">v8::internal::direct_handle()</a>, <a class="el" href="api_8cc_source.html#l04568">v8::Object::Get()</a>, <a class="el" href="wasm-js_8cc_source.html#l01959">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetIterableLength()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l01713">GetValueType()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="api_8cc_source.html#l03599">v8::Value::IsObject()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="module-instantiate_8h_source.html#l00034">v8::internal::wasm::kNoSuspend</a>, <a class="el" href="module-instantiate_8h_source.html#l00034">v8::internal::wasm::kSuspend</a>, <a class="el" href="wasm-limits_8h_source.html#l00053">v8::internal::wasm::kV8MaxWasmFunctionParams</a>, <a class="el" href="wasm-limits_8h_source.html#l00054">v8::internal::wasm::kV8MaxWasmFunctionReturns</a>, <a class="el" href="value-type_8h_source.html#l01251">v8::internal::wasm::kWasmVoid</a>, <a class="el" href="wasm-objects_8cc_source.html#l03182">v8::internal::WasmJSFunction::New()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>, <a class="el" href="v8-local-handle_8h_source.html#l00691">v8::MaybeLocal&lt; T &gt;::ToLocal()</a>, <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8_str()</a>, and <a class="el" href="zone_8h_source.html#l00022">ZONE_NAME</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e_icgraph.svg" width="495" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a82b07981395ae632c3887915a53d27a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82b07981395ae632c3887915a53d27a2">&#9670;&nbsp;</a></span>WebAssemblyFunctionType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyFunctionType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02493">2493</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                                                                          {</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Function.type()&quot;</span>};</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160; </div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160; </div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> fun = Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>());</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">i::WasmExportedFunction::IsWasmExportedFunction</a>(*fun)) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    <span class="keyword">auto</span> wasm_exported_function = i::Cast&lt;i::WasmExportedFunction&gt;(fun);</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">i::Tagged&lt;i::WasmExportedFunctionData&gt;</a> data =</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        wasm_exported_function-&gt;shared()-&gt;wasm_exported_function_data();</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    <span class="comment">// Note: while {zone} is only referenced directly in the if-block below,</span></div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;    <span class="comment">// its lifetime must exceed that of {sig}.</span></div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="comment">// TODO(42210967): Creating a Zone just to create a modified copy of a</span></div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">// single signature is rather expensive. It would be good to find a more</span></div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">// efficient approach, if this function is ever considered performance</span></div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="comment">// relevant.</span></div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Zone.html">i::Zone</a> zone(i_isolate-&gt;allocator(), <a class="code" href="zone_8h.html#a6b1fd0a126df3f1b788cee19d9cce66e">ZONE_NAME</a>);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a>* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> =</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        data-&gt;instance_data()-&gt;module()-&gt;functions[data-&gt;function_index()].sig;</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460">i::wasm::Promise</a> promise_flags =</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        i::WasmFunctionData::PromiseField::decode(data-&gt;js_promise_flags());</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    <span class="keywordflow">if</span> (promise_flags == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920">i::wasm::kPromise</a>) {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;      <span class="comment">// The wrapper function returns a promise as an externref instead of the</span></div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;      <span class="comment">// original return type.</span></div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;      <span class="keywordtype">size_t</span> param_count = <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;parameter_count();</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;      i::wasm::FunctionSig::Builder builder(&amp;zone, 1, param_count);</div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; param_count; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        builder.AddParam(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;GetParam(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;      }</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;      builder.AddReturn(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">i::wasm::kWasmExternRef</a>);</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = builder.Get();</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    }</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">i::wasm::GetTypeForFunction</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">i::WasmJSFunction::IsWasmJSFunction</a>(*fun)) {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <span class="keyword">const</span> i::wasm::CanonicalSig* <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a> = i::Cast&lt;i::WasmJSFunction&gt;(fun)</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                                           -&gt;shared()</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;                                           -&gt;wasm_js_function_data()</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                                           -&gt;GetSignature();</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;    <span class="comment">// As long as WasmJSFunctions cannot use indexed types, their canonical</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;    <span class="comment">// signatures are bit-compatible with module-specific signatures.</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordflow">for</span> (i::wasm::CanonicalValueType t : <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>-&gt;all()) {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!t.has_index());</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;    static_assert(<span class="keyword">sizeof</span>(i::wasm::ValueType) ==</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                  <span class="keyword">sizeof</span>(i::wasm::CanonicalValueType));</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">i::wasm::GetTypeForFunction</a>(</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;        i_isolate, <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a>*<span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>));</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Receiver must be a WebAssembly.Function&quot;</span>);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;  }</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160; </div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a4ddfd6d21732dff1c4c55d5441a8a5ca"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">v8::FunctionCallbackInfo::This</a></div><div class="ttdeci">Local&lt; Object &gt; This() const</div><div class="ttdoc">Returns the receiver.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00628">v8-function-callback.h:628</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExportedFunction_html_a89d14615aeb9e6fdd2017315fe60d0ef"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">v8::internal::WasmExportedFunction::IsWasmExportedFunction</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE bool IsWasmExportedFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02899">wasm-objects.cc:2899</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmJSFunction_html_acd5f3569a442acea759fd951ca21567f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">v8::internal::WasmJSFunction::IsWasmJSFunction</a></div><div class="ttdeci">static bool IsWasmJSFunction(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03078">wasm-objects.cc:3078</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad49eb67763b3ddf562db19959cc71ace"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">v8::internal::wasm::GetTypeForFunction</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForFunction(Isolate *isolate, const FunctionSig *sig, bool for_exception)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00290">wasm-module.cc:290</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460">v8::internal::wasm::Promise</a></div><div class="ttdeci">Promise</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920">v8::internal::wasm::kPromise</a></div><div class="ttdeci">@ kPromise</div><div class="ttdef"><b>Definition:</b> <a href="module-instantiate_8h_source.html#l00037">module-instantiate.h:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-module_8cc_source.html#l00290">v8::internal::wasm::GetTypeForFunction()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="wasm-objects_8cc_source.html#l02899">v8::internal::WasmExportedFunction::IsWasmExportedFunction()</a>, <a class="el" href="wasm-objects_8cc_source.html#l03078">v8::internal::WasmJSFunction::IsWasmJSFunction()</a>, <a class="el" href="module-instantiate_8h_source.html#l00037">v8::internal::wasm::kPromise</a>, <a class="el" href="value-type_8h_source.html#l01260">v8::internal::wasm::kWasmExternRef</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>, and <a class="el" href="zone_8h_source.html#l00022">ZONE_NAME</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2_icgraph.svg" width="524" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa3bf6a1daf198c9567f2d6bc63294ced"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3bf6a1daf198c9567f2d6bc63294ced">&#9670;&nbsp;</a></span>WebAssemblyGlobalGetValueCommon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalGetValueCommon </td>
          <td>(</td>
          <td class="paramtype">WasmJSApiScope &amp;&#160;</td>
          <td class="paramname"><em>js_api_scope</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03092">3092</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;                                                                   {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;  <span class="keyword">auto</span>&amp; info = js_api_scope.callback_info();  <span class="comment">// Needed by EXTRACT_THIS.</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmGlobalObject);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160; </div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.GetReturnValue();</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160; </div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  <span class="keywordflow">switch</span> (receiver-&gt;type().kind()) {</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32:</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(receiver-&gt;GetI32());</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;      Local&lt;BigInt&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">BigInt::New</a>(isolate, receiver-&gt;GetI64());</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    }</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32:</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(receiver-&gt;GetF32());</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64:</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;      return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(receiver-&gt;GetF64());</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Can&#39;t get the value of s128 WebAssembly.Global&quot;</span>);</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull:</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(return_value, receiver-&gt;GetRef(),</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;                                     receiver-&gt;type(), i_isolate, &amp;thrower)) {</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;      }</div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;  }</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1ReturnValue_html"><div class="ttname"><a href="classv8_1_1ReturnValue.html">v8::ReturnValue</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00041">v8-function-callback.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1ReturnValue_html_a57c4b962cf2ca387d3fb9a2f8e47a963"><div class="ttname"><a href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">v8::ReturnValue::Set</a></div><div class="ttdeci">void Set(const Global&lt; S &gt; &amp;handle)</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00337">v8-function-callback.h:337</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="api_8cc_source.html#l09566">v8::BigInt::New()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00337">v8::ReturnValue&lt; T &gt;::Set()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00067">UNREACHABLE</a>, <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>, and <a class="el" href="wasm-js_8cc_source.html#l02641">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmObjectToJSReturnValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03142">WebAssemblyGlobalGetValueImpl()</a>, and <a class="el" href="wasm-js_8cc_source.html#l03135">WebAssemblyGlobalValueOfImpl()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced_icgraph.svg" width="574" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aace3f8d67a6c83e6147a786d0d155b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace3f8d67a6c83e6147a786d0d155b04">&#9670;&nbsp;</a></span>WebAssemblyGlobalGetValueImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalGetValueImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03142">3142</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                                                 {</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;get WebAssembly.Global.value)&quot;</span>};</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">WebAssemblyGlobalGetValueCommon</a>(js_api_scope);</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_aa3bf6a1daf198c9567f2d6bc63294ced"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalGetValueCommon</a></div><div class="ttdeci">void WebAssemblyGlobalGetValueCommon(WasmJSApiScope &amp;js_api_scope)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03092">wasm-js.cc:3092</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l03092">WebAssemblyGlobalGetValueCommon()</a>.</p>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aace3f8d67a6c83e6147a786d0d155b04_cgraph.svg" width="100%" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ac6db6d9d019560128460f337b6d48055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6db6d9d019560128460f337b6d48055">&#9670;&nbsp;</a></span>WebAssemblyGlobalImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01807">1807</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                                                                        {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Global()&quot;</span>};</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160; </div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Global must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  }</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a global descriptor&quot;</span>);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  Local&lt;v8::Object&gt; descriptor = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="comment">// The descriptor&#39;s &#39;mutable&#39;.</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <span class="keywordtype">bool</span> is_mutable;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  {</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (!descriptor-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;mutable&quot;</span>)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    }</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    is_mutable = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;BooleanValue(isolate);</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="comment">// The descriptor&#39;s type, called &#39;value&#39;. It is called &#39;value&#39; because this</span></div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="comment">// descriptor is planned to be reused as the global&#39;s type for reflection,</span></div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="comment">// so calling it &#39;type&#39; is redundant.</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  {</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;v8::Value&gt;</a> maybe =</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        descriptor-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;value&quot;</span>));</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;          <span class="stringliteral">&quot;Descriptor property &#39;value&#39; must be a WebAssembly type&quot;</span>);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    }</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keyword">const</span> uint32_t offset = 0;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::WasmGlobalObject&gt;</a> maybe_global_obj =</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmGlobalObject.html#ade63c64025c7c0f0ba5a05b9d11e431f">i::WasmGlobalObject::New</a>(</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;          i_isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a>(),</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::JSArrayBuffer&gt;</a>(),</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::FixedArray&gt;</a>(), <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, offset, is_mutable);</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmGlobalObject&gt;</a> global_obj;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <span class="keywordflow">if</span> (!maybe_global_obj.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">ToHandle</a>(&amp;global_obj)) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  }</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160; </div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">// and use {global_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Global} directly, but some</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  <span class="comment">// subclass: {global_obj} has {WebAssembly.Global}&#39;s prototype at this</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, global_obj,</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                         Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  }</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160; </div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="comment">// Convert value to a WebAssembly value, the default value is 0.</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  Local&lt;v8::Value&gt; <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Value&gt;::Cast</a>(info[1]);</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.kind()) {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32_value = 0;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04">ToI32</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;i32_value)) {</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;      }</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      global_obj-&gt;SetI32(i32_value);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    }</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      int64_t i64_value = 0;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456">ToI64</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;i64_value)) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      }</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      global_obj-&gt;SetI64(i64_value);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    }</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="keywordtype">float</span> f32_value = 0;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e">ToF32</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;f32_value)) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      global_obj-&gt;SetF32(f32_value);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    }</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024">ToF64</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, context, &amp;f64_value)) {</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;      }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      global_obj-&gt;SetF64(f64_value);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    }</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;      <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 2) {</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;Non-defaultable global needs initial value&quot;</span>);</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      }</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;      [[fallthrough]];</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      <span class="comment">// We need the wasm default value {null} over {undefined}.</span></div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> value_handle;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 2) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        value_handle = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        value_handle = Utils::OpenDirectHandle(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;        <span class="comment">// While the JS API generally allows indexed types, it currently has</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;        <span class="comment">// no way to specify such types in `new WebAssembly.Global(...)`.</span></div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;        <span class="comment">// TODO(14034): Fix this if that changes.</span></div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index());</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        i::wasm::CanonicalValueType canonical_type{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>};</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">i::wasm::JSToWasmObject</a>(i_isolate, value_handle, canonical_type,</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                                     &amp;error_message)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;                 .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;value_handle)) {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;          thrower.TypeError(<span class="stringliteral">&quot;%s&quot;</span>, error_message);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;        }</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      global_obj-&gt;SetRef(value_handle);</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    }</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128: {</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;          <span class="stringliteral">&quot;A global of type &#39;v128&#39; cannot be created in JavaScript&quot;</span>);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  }</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160; </div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> global_js_object(global_obj);</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(global_js_object));</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_af97dd3f1cb01ed039f9479152ad63a84"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">v8::FunctionCallbackInfo::Length</a></div><div class="ttdeci">int Length() const</div><div class="ttdoc">The number of available arguments.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00660">v8-function-callback.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html">v8::internal::MaybeDirectHandle</a></div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00241">maybe-handles.h:241</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MaybeDirectHandle_html_a7c6aa1159cd89fe343afabcaad620b98"><div class="ttname"><a href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">v8::internal::MaybeDirectHandle::ToHandle</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool ToHandle(DirectHandle&lt; S &gt; *out) const</div><div class="ttdef"><b>Definition:</b> <a href="maybe-handles_8h_source.html#l00277">maybe-handles.h:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmGlobalObject_html_ade63c64025c7c0f0ba5a05b9d11e431f"><div class="ttname"><a href="classv8_1_1internal_1_1WasmGlobalObject.html#ade63c64025c7c0f0ba5a05b9d11e431f">v8::internal::WasmGlobalObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeDirectHandle&lt; WasmGlobalObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; instance_object, MaybeDirectHandle&lt; JSArrayBuffer &gt; maybe_untagged_buffer, MaybeDirectHandle&lt; FixedArray &gt; maybe_tagged_buffer, wasm::ValueType type, int32_t offset, bool is_mutable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01429">wasm-objects.cc:1429</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a2ae6fb774fc195675ba598072f0da456"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a2ae6fb774fc195675ba598072f0da456">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToI64</a></div><div class="ttdeci">bool ToI64(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, int64_t *i64_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01776">wasm-js.cc:1776</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a326943946c937b0837f411bd6068cf7e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a326943946c937b0837f411bd6068cf7e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToF32</a></div><div class="ttdeci">bool ToF32(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, float *f32_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01785">wasm-js.cc:1785</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a4d8c80876c9b427265f2bdb634e62d70"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype</a></div><div class="ttdeci">bool TransferPrototype(i::Isolate *isolate, i::DirectHandle&lt; i::JSObject &gt; destination, i::DirectHandle&lt; i::JSReceiver &gt; source)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00936">wasm-js.cc:936</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6175aef8f0e75a6a6ca38d79dbe08f04"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6175aef8f0e75a6a6ca38d79dbe08f04">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToI32</a></div><div class="ttdeci">bool ToI32(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, int32_t *i32_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01767">wasm-js.cc:1767</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ab1e39290866cb51520e0d9af30af7035"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::DefaultReferenceValue</a></div><div class="ttdeci">i::DirectHandle&lt; i::HeapObject &gt; DefaultReferenceValue(i::Isolate *isolate, i::wasm::ValueType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01383">wasm-js.cc:1383</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad0e5aedddf4efca62c7da916c8ef5024"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad0e5aedddf4efca62c7da916c8ef5024">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToF64</a></div><div class="ttdeci">bool ToF64(Local&lt; v8::Value &gt; value, Local&lt; Context &gt; context, double *f64_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01796">wasm-js.cc:1796</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a3e2697d50763bb9f401d4c992e24a074"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">v8::internal::wasm::JSToWasmObject</a></div><div class="ttdeci">MaybeDirectHandle&lt; Object &gt; JSToWasmObject(Isolate *isolate, DirectHandle&lt; Object &gt; value, CanonicalValueType expected, const char **error_message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03408">wasm-objects.cc:3408</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l01383">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::DefaultReferenceValue()</a>, <a class="el" href="api_8cc_source.html#l04568">v8::Object::Get()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l01713">GetValueType()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="wasm-objects_8cc_source.html#l03408">v8::internal::wasm::JSToWasmObject()</a>, <a class="el" href="value-type_8h_source.html#l01251">v8::internal::wasm::kWasmVoid</a>, <a class="el" href="v8-function-callback_8h_source.html#l00660">v8::FunctionCallbackInfo&lt; T &gt;::Length()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01429">v8::internal::WasmGlobalObject::New()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="wasm-js_8cc_source.html#l01785">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToF32()</a>, <a class="el" href="wasm-js_8cc_source.html#l01796">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToF64()</a>, <a class="el" href="maybe-handles_8h_source.html#l00277">v8::internal::MaybeDirectHandle&lt; T &gt;::ToHandle()</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, <a class="el" href="wasm-js_8cc_source.html#l01767">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToI32()</a>, <a class="el" href="wasm-js_8cc_source.html#l01776">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ToI64()</a>, <a class="el" href="wasm-js_8cc_source.html#l00936">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype()</a>, <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00067">UNREACHABLE</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8_str()</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac6db6d9d019560128460f337b6d48055_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0445641ba7db42f32e5fc96d543b9bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0445641ba7db42f32e5fc96d543b9bfb">&#9670;&nbsp;</a></span>WebAssemblyGlobalSetValueImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalSetValueImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03149">3149</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                                                 {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;set WebAssembly.Global.value)&quot;</span>};</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmGlobalObject);</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160; </div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;  <span class="keywordflow">if</span> (!receiver-&gt;is_mutable()) {</div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Can&#39;t set the value of an immutable global.&quot;</span>);</div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  }</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 0) {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 is required&quot;</span>);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160; </div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  <span class="keywordflow">switch</span> (receiver-&gt;type().kind()) {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI32: {</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;      <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> i32_value = 0;</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;Int32Value(context).To(&amp;i32_value)) {</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;      }</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;      receiver-&gt;SetI32(i32_value);</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    }</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI64: {</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;      <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::BigInt&gt;</a> bigint_value;</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;ToBigInt(context).ToLocal(&amp;bigint_value)) {</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;      }</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;      receiver-&gt;SetI64(bigint_value-&gt;Int64Value());</div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    }</div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF32: {</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;      <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;NumberValue(context).To(&amp;f64_value)) {</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;      }</div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;      receiver-&gt;SetF32(<a class="code" href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">i::DoubleToFloat32</a>(f64_value));</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;    }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF64: {</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;      <span class="keywordtype">double</span> f64_value = 0;</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;      <span class="keywordflow">if</span> (!info[0]-&gt;NumberValue(context).To(&amp;f64_value)) {</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;      }</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;      receiver-&gt;SetF64(f64_value);</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    }</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="keywordflow">case</span> i::wasm::kS128:</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Can&#39;t set the value of s128 WebAssembly.Global&quot;</span>);</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRef:</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;    <span class="keywordflow">case</span> i::wasm::kRefNull: {</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal.html#a09dbf9baefb793fd78912d6ef89f9dde">i::wasm::WasmModule</a>* module =</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;          receiver-&gt;has_trusted_data()</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;              ? receiver-&gt;trusted_data(i_isolate)-&gt;module()</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;              : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;      <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = Utils::OpenDirectHandle(*info[0]);</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a3e2697d50763bb9f401d4c992e24a074">i::wasm::JSToWasmObject</a>(i_isolate, module, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, receiver-&gt;type(),</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;                                   &amp;error_message)</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;               .ToHandle(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;%s&quot;</span>, error_message);</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;      }</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;      receiver-&gt;SetRef(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;    }</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI8:</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordflow">case</span> i::wasm::kI16:</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <span class="keywordflow">case</span> i::wasm::kF16:</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="keywordflow">case</span> i::wasm::kTop:</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <span class="keywordflow">case</span> i::wasm::kBottom:</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">case</span> i::wasm::kVoid:</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;  }</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab0d0492df59957ad450290724710e09f"><div class="ttname"><a href="namespacev8_1_1internal.html#ab0d0492df59957ad450290724710e09f">v8::internal::DoubleToFloat32</a></div><div class="ttdeci">float DoubleToFloat32(double x)</div><div class="ttdef"><b>Definition:</b> <a href="conversions-inl_8h_source.html#l00110">conversions-inl.h:110</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="conversions-inl_8h_source.html#l00110">v8::internal::DoubleToFloat32()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="wasm-objects_8cc_source.html#l03408">v8::internal::wasm::JSToWasmObject()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00660">v8::FunctionCallbackInfo&lt; T &gt;::Length()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00067">UNREACHABLE</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0445641ba7db42f32e5fc96d543b9bfb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aecd2a67ed5f761d905eed967a5a4e9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd2a67ed5f761d905eed967a5a4e9e4">&#9670;&nbsp;</a></span>WebAssemblyGlobalType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03229">3229</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;                                                                        {</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Global.type())&quot;</span>};</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(global, WasmGlobalObject);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160; </div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afe11571576d76cdcedb330d88b18f253">i::wasm::GetTypeForGlobal</a>(i_isolate, global-&gt;is_mutable(),</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                                        global-&gt;type());</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_afe11571576d76cdcedb330d88b18f253"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#afe11571576d76cdcedb330d88b18f253">v8::internal::wasm::GetTypeForGlobal</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForGlobal(Isolate *isolate, bool is_mutable, ValueType type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00334">wasm-module.cc:334</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-module_8cc_source.html#l00334">v8::internal::wasm::GetTypeForGlobal()</a>, and <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4_icgraph.svg" width="511" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab6dba74128ea0189c1e064841b7470be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6dba74128ea0189c1e064841b7470be">&#9670;&nbsp;</a></span>WebAssemblyGlobalValueOfImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyGlobalValueOfImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l03135">3135</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                                                 {</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Global.valueOf()&quot;</span>};</div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#aa3bf6a1daf198c9567f2d6bc63294ced">WebAssemblyGlobalGetValueCommon</a>(js_api_scope);</div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l03092">WebAssemblyGlobalGetValueCommon()</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab6dba74128ea0189c1e064841b7470be_cgraph.svg" width="100%" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a772092d5f5db10950319b4c21c8286b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772092d5f5db10950319b4c21c8286b9">&#9670;&nbsp;</a></span>WebAssemblyInstanceGetExportsImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstanceGetExportsImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02572">2572</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                                                 {</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Instance.exports()&quot;</span>};</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmInstanceObject);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> exports_object(receiver-&gt;exports_object(),</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;                                              i_isolate);</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160; </div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(exports_object));</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, and <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>.</p>
<div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a772092d5f5db10950319b4c21c8286b9_cgraph.svg" width="512" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8fc0faf002730cf5f7c4ef50a647671f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc0faf002730cf5f7c4ef50a647671f">&#9670;&nbsp;</a></span>WebAssemblyInstanceImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstanceImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01068">1068</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                                                                          {</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Instance()&quot;</span>};</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0">kAsyncInstantiation</a>);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  i_isolate-&gt;CountUsage(</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160; </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;wasm_instance_callback()(info)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160; </div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> instance_obj;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Instance must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160; </div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    Local&lt;Value&gt; ffi = info[1];</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (!ffi-&gt;IsUndefined() &amp;&amp; !ffi-&gt;IsObject()) {</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be an object&quot;</span>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;             -&gt;SyncInstantiate(i_isolate, &amp;thrower, module_object,</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                               <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">ImportsAsMaybeReceiver</a>(ffi),</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                               <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::JSArrayBuffer&gt;</a>())</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;instance_obj)) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <span class="comment">// and use {instance_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Instance} directly, but some</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="comment">// subclass: {instance_obj} has {WebAssembly.Instance}&#39;s prototype at this</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, instance_obj,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                         Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  }</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160; </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(instance_obj));</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ada9b780eabdd23dceca5de86995e893d"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ImportsAsMaybeReceiver</a></div><div class="ttdeci">i::MaybeDirectHandle&lt; i::JSReceiver &gt; ImportsAsMaybeReceiver(Local&lt; Value &gt; ffi)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00263">wasm-js.cc:263</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kAsyncInstantiation</a></div><div class="ttdeci">@ kAsyncInstantiation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00569">wasm-js.cc:569</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="wasm-js_8cc_source.html#l00263">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ImportsAsMaybeReceiver()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="wasm-js_8cc_source.html#l00569">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kAsyncInstantiation</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="wasm-js_8cc_source.html#l00573">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00936">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype()</a>.</p>
<div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8fc0faf002730cf5f7c4ef50a647671f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5c9fb33b2596c8b7b7834e4d71f2645c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9fb33b2596c8b7b7834e4d71f2645c">&#9670;&nbsp;</a></span>WebAssemblyInstantiateImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstantiateImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01162">1162</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                                                 {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.instantiate()&quot;</span>};</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  i_isolate-&gt;CountUsage(</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  Local&lt;Promise::Resolver&gt; promise_resolver;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">Promise::Resolver::New</a>(context).ToLocal(&amp;promise_resolver)) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  Local&lt;Promise&gt; promise = promise_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  std::unique_ptr&lt;i::wasm::InstantiationResultResolver&gt; resolver(</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <span class="keyword">new</span> InstantiateModuleResultResolver(isolate, context, promise_resolver));</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160; </div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  Local&lt;Value&gt; first_arg_value = info[0];</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> first_arg =</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      Utils::OpenDirectHandle(*first_arg_value);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="keywordflow">if</span> (!IsJSObject(*first_arg)) {</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="stringliteral">&quot;Argument 0 must be a buffer source or a WebAssembly.Module object&quot;</span>);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    resolver-&gt;OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">// If info.Length &lt; 2, this will be undefined - see FunctionCallbackInfo.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  Local&lt;Value&gt; ffi = info[1];</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (!ffi-&gt;IsUndefined() &amp;&amp; !ffi-&gt;IsObject()) {</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be an object&quot;</span>);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    resolver-&gt;OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  }</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160; </div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <span class="keywordflow">if</span> (IsWasmModuleObject(*first_arg)) {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_obj =</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        i::Cast&lt;i::WasmModuleObject&gt;(first_arg);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aefbc53197e63d504193b408056d37721">AsyncInstantiate</a>(i_isolate, std::move(resolver),</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;                                               module_obj,</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                                               <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ada9b780eabdd23dceca5de86995e893d">ImportsAsMaybeReceiver</a>(ffi));</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  base::OwnedVector&lt;const uint8_t&gt; bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keywordflow">if</span> (bytes.empty()) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    resolver-&gt;OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160; </div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// We start compilation now, we have no use for the</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="comment">// {InstantiationResultResolver}.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  resolver.reset();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160; </div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  std::shared_ptr&lt;i::wasm::CompilationResultResolver&gt; compilation_resolver(</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keyword">new</span> AsyncInstantiateCompileResultResolver(isolate, context,</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                                                promise_resolver, ffi));</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160; </div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <span class="comment">// The first parameter is a buffer source, we have to check if we are allowed</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// to compile it.</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      i_isolate-&gt;native_context();</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    compilation_resolver-&gt;OnCompilationFailed(thrower.Reify());</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[2], i_isolate, enabled_features);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSAny&gt;</a> exception(Cast&lt;i::JSAny&gt;(i_isolate-&gt;exception()),</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                                        i_isolate);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    compilation_resolver-&gt;OnCompilationFailed(exception);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aa17c088fdbc894379d393baf814073f7">AsyncCompile</a>(</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      i_isolate, enabled_features, std::move(compile_imports),</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      std::move(compilation_resolver), std::move(bytes),</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      js_api_scope.api_name());</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aefbc53197e63d504193b408056d37721"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aefbc53197e63d504193b408056d37721">v8::internal::wasm::WasmEngine::AsyncInstantiate</a></div><div class="ttdeci">void AsyncInstantiate(Isolate *isolate, std::unique_ptr&lt; InstantiationResultResolver &gt; resolver, DirectHandle&lt; WasmModuleObject &gt; module_object, MaybeDirectHandle&lt; JSReceiver &gt; imports)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00753">wasm-engine.cc:753</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l00577">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00790">v8::internal::wasm::WasmEngine::AsyncCompile()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00753">v8::internal::wasm::WasmEngine::AsyncInstantiate()</a>, <a class="el" href="vector_8h_source.html#l00239">v8::base::OwnedVector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-module_8cc_source.html#l00274">v8::internal::wasm::ErrorStringForCodegen()</a>, <a class="el" href="wasm-js_8cc_source.html#l00243">GetAndCopyFirstArgumentAsBytes()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="wasm-js_8cc_source.html#l00263">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ImportsAsMaybeReceiver()</a>, <a class="el" href="wasm-module_8cc_source.html#l00260">v8::internal::wasm::IsWasmCodegenAllowed()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02177">v8::internal::wasm::max_module_size()</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="api_8cc_source.html#l08609">v8::Promise::Resolver::New()</a>, and <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>.</p>
<div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a5c9fb33b2596c8b7b7834e4d71f2645c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ae46de88e70ad47716f44e4bb74c8b44d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46de88e70ad47716f44e4bb74c8b44d">&#9670;&nbsp;</a></span>WebAssemblyInstantiateStreaming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyInstantiateStreaming </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01124">1124</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                                                 {</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.instantiateStreaming()&quot;</span>};</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687">kStreamingInstantiation</a>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  i_isolate-&gt;CountUsage(</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160; </div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// Create and assign the return value of this function.</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  Local&lt;Promise::Resolver&gt; result_resolver;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03.html#aea46070627c9c116b8f1be4a25840e66">Promise::Resolver::New</a>(context).ToLocal(&amp;result_resolver)) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  Local&lt;Promise&gt; promise = result_resolver-&gt;GetPromise();</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(promise);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">// If info.Length &lt; 2, this will be undefined - see FunctionCallbackInfo.</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  Local&lt;Value&gt; ffi = info[1];</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordflow">if</span> (!ffi-&gt;IsUndefined() &amp;&amp; !ffi-&gt;IsObject()) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 must be an object&quot;</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    InstantiateModuleResultResolver resolver(isolate, context, result_resolver);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    resolver.OnInstantiationFailed(thrower.Reify());</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160; </div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keyword">auto</span> compilation_resolver =</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      std::make_shared&lt;AsyncInstantiateCompileResultResolver&gt;(</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          isolate, context, result_resolver, ffi);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a80df3bb5366d6ec83e382c06d65a17c6">StartAsyncCompilationWithResolver</a>(js_api_scope, info[0], info[2],</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                    std::move(compilation_resolver));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kStreamingInstantiation</a></div><div class="ttdeci">@ kStreamingInstantiation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00570">wasm-js.cc:570</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l00570">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kStreamingInstantiation</a>, <a class="el" href="api_8cc_source.html#l08609">v8::Promise::Resolver::New()</a>, <a class="el" href="wasm-js_8cc_source.html#l00573">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00786">StartAsyncCompilationWithResolver()</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03639">v8::internal::WasmJs::Install()</a>.</p>
<div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a335ab82e09665d4075f3f17d8bde25c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a335ab82e09665d4075f3f17d8bde25c5">&#9670;&nbsp;</a></span>WebAssemblyMemoryGetBufferImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryGetBufferImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02837">2837</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                                                 {</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.buffer&quot;</span>};</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmMemoryObject);</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160; </div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> buffer_obj(receiver-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsJSArrayBuffer(*buffer_obj));</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;      i::Cast&lt;i::JSArrayBuffer&gt;(*buffer_obj), i_isolate);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <span class="comment">// TODO(gdeepti): More needed here for when cached buffer, and current</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="comment">// buffer are out of sync, handle that here when bounds checks, and Grow</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    <span class="comment">// are handled correctly.</span></div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;    Maybe&lt;bool&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    }</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;  }</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">v8::internal::FROZEN</a></div><div class="ttdeci">@ FROZEN</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00027">property-details.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee"><div class="ttname"><a href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">v8::internal::kDontThrow</a></div><div class="ttdeci">@ kDontThrow</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01734">globals.h:1734</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="property-details_8h_source.html#l00027">v8::internal::FROZEN</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="common_2globals_8h_source.html#l01734">v8::internal::kDontThrow</a>, and <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>.</p>
<div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a335ab82e09665d4075f3f17d8bde25c5_cgraph.svg" width="511" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab23cbc8313cd6650a88a426e842eedf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23cbc8313cd6650a88a426e842eedf4">&#9670;&nbsp;</a></span>WebAssemblyMemoryGrowImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryGrowImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02802">2802</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                                                 {</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.grow()&quot;</span>};</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmMemoryObject);</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160; </div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;  std::optional&lt;uint64_t&gt; maybe_delta_pages = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, receiver-&gt;address_type());</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;  <span class="keywordflow">if</span> (!maybe_delta_pages) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;  uint64_t delta_pages = *maybe_delta_pages;</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160; </div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> old_buffer(receiver-&gt;array_buffer(),</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                                               i_isolate);</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160; </div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;  uint64_t old_pages = old_buffer-&gt;GetByteLength() / <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03.html#a8b6719b9c44c92c16a29ade2e66e3314">i::wasm::kWasmPageSize</a>;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;  uint64_t max_pages = receiver-&gt;maximum_pages();</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160; </div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;  <span class="keywordflow">if</span> (delta_pages &gt; max_pages - old_pages) {</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Maximum memory size exceeded&quot;</span>);</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;  }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a58280911560a19ed11d754bee507198e">i::wasm::kV8MaxWasmMemory64Pages</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> ret = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">i::WasmMemoryObject::Grow</a>(i_isolate, receiver,</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                                          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(delta_pages));</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;  <span class="keywordflow">if</span> (ret == -1) {</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Unable to grow instance memory&quot;</span>);</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;  }</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(isolate, receiver-&gt;address_type(), ret));</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab04a12b70d33ad72a3442d2a21bbfff7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab04a12b70d33ad72a3442d2a21bbfff7">v8::internal::WasmMemoryObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int32_t Grow(Isolate *, DirectHandle&lt; WasmMemoryObject &gt;, uint32_t pages)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01146">wasm-objects.cc:1146</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a3c5caa16bf7299bb8d809591ef2733b9"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToU64</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; AddressValueToU64(ErrorThrower *thrower, Local&lt; Context &gt; context, v8::Local&lt; v8::Value &gt; value, Name property_name, AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01260">wasm-js.cc:1260</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_ae103516ca8fe7bd3948cda56c6c9a31c"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueFromUnsigned</a></div><div class="ttdeci">v8::Local&lt; Value &gt; AddressValueFromUnsigned(Isolate *isolate, i::wasm::AddressType type, unsigned value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01375">wasm-js.cc:1375</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a58280911560a19ed11d754bee507198e"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a58280911560a19ed11d754bee507198e">v8::internal::wasm::kV8MaxWasmMemory64Pages</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmMemory64Pages</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00046">wasm-limits.h:46</a></div></div>
<div class="ttc" id="anamespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03_html_a8b6719b9c44c92c16a29ade2e66e3314"><div class="ttname"><a href="namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03.html#a8b6719b9c44c92c16a29ade2e66e3314">v8_inspector::anonymous_namespace{value-mirror.cc}::kWasmPageSize</a></div><div class="ttdeci">const size_t kWasmPageSize</div><div class="ttdef"><b>Definition:</b> <a href="value-mirror_8cc_source.html#l00171">value-mirror.cc:171</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l01375">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueFromUnsigned()</a>, <a class="el" href="wasm-js_8cc_source.html#l01260">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToU64()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01146">v8::internal::WasmMemoryObject::Grow()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="wasm-limits_8h_source.html#l00046">v8::internal::wasm::kV8MaxWasmMemory64Pages</a>, and <a class="el" href="value-mirror_8cc_source.html#l00171">v8_inspector::anonymous_namespace{value-mirror.cc}::kWasmPageSize</a>.</p>
<div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23cbc8313cd6650a88a426e842eedf4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2e84efb3ddc838b4645d1dd7ded761e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e84efb3ddc838b4645d1dd7ded761e6">&#9670;&nbsp;</a></span>WebAssemblyMemoryImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01570">1570</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                                                                        {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory()&quot;</span>};</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Memory must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;  }</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a memory descriptor&quot;</span>);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  Local&lt;v8::Object&gt; descriptor = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// Parse the &#39;address&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  std::optional&lt;AddressType&gt; maybe_address_type =</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">GetAddressType</a>(isolate, context, descriptor, &amp;thrower);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">if</span> (!maybe_address_type) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type = *maybe_address_type;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  uint64_t max_supported_pages = address_type == AddressType::kI64</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                                     ? <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad9a1634a9ec0775903d04d76caafb542">i::wasm::kSpecMaxMemory64Pages</a></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                                     : <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a49bb52ab23031477fbfe2807afd064f2">i::wasm::kSpecMaxMemory32Pages</a>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="comment">// {max_supported_pages} will actually be in integer range. That&#39;s the type</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// {WasmMemoryObject::New} uses.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a49bb52ab23031477fbfe2807afd064f2">i::wasm::kSpecMaxMemory32Pages</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">i::kMaxInt</a>);</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad9a1634a9ec0775903d04d76caafb542">i::wasm::kSpecMaxMemory64Pages</a> &lt; <a class="code" href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">i::kMaxInt</a>);</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// Parse the &#39;initial&#39; or &#39;minimum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  std::optional&lt;uint64_t&gt; maybe_initial =</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">GetInitialOrMinimumProperty</a>(isolate, &amp;thrower, context, descriptor,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                                  address_type, max_supported_pages);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (!maybe_initial) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;  }</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  uint64_t initial = *maybe_initial;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="comment">// Parse the &#39;maximum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="keyword">auto</span> maybe_maybe_maximum = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      &amp;thrower, context, descriptor, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;maximum&quot;</span>), address_type,</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;      initial, max_supported_pages);</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="keywordflow">if</span> (!maybe_maybe_maximum) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  }</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;  std::optional&lt;uint64_t&gt; maybe_maximum = *maybe_maybe_maximum;</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160; </div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;  <span class="comment">// Parse the &#39;shared&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  <span class="keywordflow">if</span> (!descriptor-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;shared&quot;</span>)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  }</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keyword">auto</span> shared = <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>-&gt;BooleanValue(isolate) ? <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">i::SharedFlag::kShared</a></div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                                             : <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03.html#a66d75e44e8119e492fa238e6ac04903f">i::SharedFlag::kNotShared</a>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;  <span class="comment">// Throw TypeError if shared is true, and the descriptor has no &quot;maximum&quot;.</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">if</span> (shared == <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">i::SharedFlag::kShared</a> &amp;&amp; !maybe_maximum.has_value()) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;If shared is true, maximum property should be defined.&quot;</span>);</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> memory_obj;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">i::WasmMemoryObject::New</a>(i_isolate, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(initial),</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                                maybe_maximum ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(*maybe_maximum)</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                                              : <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">i::WasmMemoryObject::kNoMaximum</a>,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                                shared, address_type)</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;memory_obj)) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;could not allocate memory&quot;</span>);</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="comment">// and use {memory_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Memory} directly, but some</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;  <span class="comment">// subclass: {memory_obj} has {WebAssembly.Memory}&#39;s prototype at this</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, memory_obj,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                         Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">if</span> (shared == <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">i::SharedFlag::kShared</a>) {</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        i::Cast&lt;i::WasmMemoryObject&gt;(memory_obj)-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    Maybe&lt;bool&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    }</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(memory_obj));</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a65b8addcf2135f693f3f83a8acf74aa7"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a65b8addcf2135f693f3f83a8acf74aa7">v8::internal::WasmMemoryObject::kNoMaximum</a></div><div class="ttdeci">static constexpr int kNoMaximum</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8h_source.html#l00427">wasm-objects.h:427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_ab10298844a3a2e6993fc6f3634eaf898"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#ab10298844a3a2e6993fc6f3634eaf898">v8::internal::WasmMemoryObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmMemoryObject &gt; New(Isolate *isolate, DirectHandle&lt; JSArrayBuffer &gt; buffer, int maximum, wasm::AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00878">wasm-objects.cc:878</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a46a8e5f8c34da455cec8ad9bedd07119"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetInitialOrMinimumProperty</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; GetInitialOrMinimumProperty(v8::Isolate *isolate, ErrorThrower *thrower, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; descriptor, AddressType address_type, uint64_t upper_bound)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01337">wasm-js.cc:1337</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_a6481005ff2b35962cd81e7a6a12eaf42"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetOptionalAddressValue</a></div><div class="ttdeci">std::optional&lt; std::optional&lt; uint64_t &gt; &gt; GetOptionalAddressValue(ErrorThrower *thrower, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; descriptor, Local&lt; String &gt; property, AddressType address_type, int64_t lower_bound, uint64_t upper_bound)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01306">wasm-js.cc:1306</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af9b6376bd669d7a974598324d3c18837"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetAddressType</a></div><div class="ttdeci">std::optional&lt; AddressType &gt; GetAddressType(Isolate *isolate, Local&lt; Context &gt; context, Local&lt; v8::Object &gt; descriptor, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l01397">wasm-js.cc:1397</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_html_a66d75e44e8119e492fa238e6ac04903f"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03.html#a66d75e44e8119e492fa238e6ac04903f">v8::internal::compiler::anonymous_namespace{wasm-inlining-into-js.cc}::kNotShared</a></div><div class="ttdeci">static constexpr bool kNotShared</div><div class="ttdef"><b>Definition:</b> <a href="wasm-inlining-into-js_8cc_source.html#l00024">wasm-inlining-into-js.cc:24</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a49bb52ab23031477fbfe2807afd064f2"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a49bb52ab23031477fbfe2807afd064f2">v8::internal::wasm::kSpecMaxMemory32Pages</a></div><div class="ttdeci">constexpr size_t kSpecMaxMemory32Pages</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00025">wasm-limits.h:25</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_aca3af72b5da01dfb563e4c5f56af8952"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">v8::internal::wasm::AddressType</a></div><div class="ttdeci">AddressType</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8h_source.html#l00049">wasm-module.h:49</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad9a1634a9ec0775903d04d76caafb542"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad9a1634a9ec0775903d04d76caafb542">v8::internal::wasm::kSpecMaxMemory64Pages</a></div><div class="ttdeci">constexpr size_t kSpecMaxMemory64Pages</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00026">wasm-limits.h:26</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">v8::internal::SharedFlag::kShared</a></div><div class="ttdeci">@ kShared</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad03e50e4d15ee0da6a722254f350e7eb"><div class="ttname"><a href="namespacev8_1_1internal.html#ad03e50e4d15ee0da6a722254f350e7eb">v8::internal::kMaxInt</a></div><div class="ttdeci">constexpr int kMaxInt</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00375">globals.h:375</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="property-details_8h_source.html#l00027">v8::internal::FROZEN</a>, <a class="el" href="api_8cc_source.html#l04568">v8::Object::Get()</a>, <a class="el" href="wasm-js_8cc_source.html#l01397">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetAddressType()</a>, <a class="el" href="wasm-js_8cc_source.html#l01337">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetInitialOrMinimumProperty()</a>, <a class="el" href="wasm-js_8cc_source.html#l01306">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetOptionalAddressValue()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="common_2globals_8h_source.html#l01734">v8::internal::kDontThrow</a>, <a class="el" href="common_2globals_8h_source.html#l00375">v8::internal::kMaxInt</a>, <a class="el" href="wasm-objects_8h_source.html#l00427">v8::internal::WasmMemoryObject::kNoMaximum</a>, <a class="el" href="wasm-inlining-into-js_8cc_source.html#l00024">v8::internal::compiler::anonymous_namespace{wasm-inlining-into-js.cc}::kNotShared</a>, <a class="el" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16">v8::internal::kShared</a>, <a class="el" href="wasm-limits_8h_source.html#l00025">v8::internal::wasm::kSpecMaxMemory32Pages</a>, <a class="el" href="wasm-limits_8h_source.html#l00026">v8::internal::wasm::kSpecMaxMemory64Pages</a>, <a class="el" href="wasm-objects_8cc_source.html#l00878">v8::internal::WasmMemoryObject::New()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, <a class="el" href="wasm-js_8cc_source.html#l00936">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype()</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8_str()</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>
<div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2e84efb3ddc838b4645d1dd7ded761e6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0d65454a5c0bd1202bec0c61b96c54e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d65454a5c0bd1202bec0c61b96c54e3">&#9670;&nbsp;</a></span>WebAssemblyMemoryMapDescriptorImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryMapDescriptorImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01668">1668</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                                 {</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor()&quot;</span>};</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  }</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160; </div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  std::optional&lt;uint32_t&gt; <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> =</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<span class="stringliteral">&quot;size&quot;</span>, info[0], isolate-&gt;GetCurrentContext(), &amp;thrower);</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160; </div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>.has_value()) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  }</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> descriptor_obj;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a5d494fe23259c204fea87f6e5eefb391">i::WasmMemoryMapDescriptor::NewFromAnonymous</a>(i_isolate, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>.value())</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;           .ToHandle(&amp;descriptor_obj)) {</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    thrower.RuntimeError(<span class="stringliteral">&quot;Failed to create a MemoryMapDescriptor&quot;</span>);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  }</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160; </div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="comment">// and use {memory_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Memory} directly, but some</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="comment">// subclass: {memory_obj} has {WebAssembly.Memory}&#39;s prototype at this</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, descriptor_obj,</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;                         Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i_isolate-&gt;has_exception());</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  }</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160; </div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(descriptor_obj));</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryMapDescriptor_html_a5d494fe23259c204fea87f6e5eefb391"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryMapDescriptor.html#a5d494fe23259c204fea87f6e5eefb391">v8::internal::WasmMemoryMapDescriptor::NewFromAnonymous</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeDirectHandle&lt; WasmMemoryMapDescriptor &gt; NewFromAnonymous(Isolate *isolate, size_t length)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01304">wasm-objects.cc:1304</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l00511">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EnforceUint32()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="wasm-objects_8cc_source.html#l01304">v8::internal::WasmMemoryMapDescriptor::NewFromAnonymous()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="wasm-js_8cc_source.html#l00936">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0d65454a5c0bd1202bec0c61b96c54e3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad88a20b7927c5f3bb502562c3fe13a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad88a20b7927c5f3bb502562c3fe13a9e">&#9670;&nbsp;</a></span>WebAssemblyMemoryMapDescriptorMapImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryMapDescriptorMapImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02752">2752</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;                                                 {</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor.map()&quot;</span>};</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmMemoryMapDescriptor);</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160; </div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmMemoryObject&gt;</a> memory;</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> memory_param = Utils::OpenDirectHandle(*info[0]);</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordflow">if</span> (!i::IsWasmMemoryObject(*memory_param)) {</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Parameter is not a WebAssembly.Memory&quot;</span>);</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    }</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    memory = i::Cast&lt;i::WasmMemoryObject&gt;(memory_param);</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  }</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160; </div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  std::optional&lt;uint32_t&gt; offset =</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a679f5944281d45950d7d79c536f103b8">EnforceUint32</a>(<span class="stringliteral">&quot;Argument 1&quot;</span>, info[1], context, &amp;thrower);</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="keywordflow">if</span> (!offset.has_value()) {</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  }</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  <span class="keywordtype">size_t</span> mapped_size = receiver-&gt;MapDescriptor(memory, offset.value());</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;  <span class="keywordflow">if</span> (!mapped_size) {</div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    thrower.RuntimeError(</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        <span class="stringliteral">&quot;Failed to map the MemoryMapDescriptor to WebAssembly memory.&quot;</span>);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  }</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  receiver-&gt;set_memory(<a class="code" href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">MakeWeak</a>(*memory));</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;  receiver-&gt;set_offset(offset.value());</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;  receiver-&gt;set_size(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mapped_size));</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(mapped_size));</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1api__internal_html_a6e19dba9644f1405ed8144c4d9e7b98f"><div class="ttname"><a href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">v8::api_internal::MakeWeak</a></div><div class="ttdeci">void MakeWeak(i::Address *location, void *parameter, WeakCallbackInfo&lt; void &gt;::Callback weak_callback, WeakCallbackType type)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00653">api.cc:653</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l00511">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::EnforceUint32()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="api_8cc_source.html#l00653">v8::api_internal::MakeWeak()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-46" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-46-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-46-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-46-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad88a20b7927c5f3bb502562c3fe13a9e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab146c4d87439fed3d5e3d2b4b208001d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab146c4d87439fed3d5e3d2b4b208001d">&#9670;&nbsp;</a></span>WebAssemblyMemoryMapDescriptorUnmapImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryMapDescriptorUnmapImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02788">2788</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                                                 {</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">i::v8_flags</a>.experimental_wasm_memory_control);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor.unmap()&quot;</span>};</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmMemoryMapDescriptor);</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;  <span class="keywordflow">if</span> (!receiver-&gt;UnmapDescriptor()) {</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;Failed to unmap the MemoryMapDescriptor.&quot;</span>);</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>

</div>
</div>
<a id="a95b8b79845e1cbc4f3d5f803d8ad7364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95b8b79845e1cbc4f3d5f803d8ad7364">&#9670;&nbsp;</a></span>WebAssemblyMemoryToFixedLengthBufferImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryToFixedLengthBufferImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02863">2863</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;                                                 {</div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.toFixedLengthBuffer()&quot;</span>};</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmMemoryObject);</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160; </div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> buffer_obj(receiver-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsJSArrayBuffer(*buffer_obj));</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;      i::Cast&lt;i::JSArrayBuffer&gt;(*buffer_obj), i_isolate);</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;    buffer = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a11123e674ed260e849a726396a6b1f3c">i::WasmMemoryObject::ToFixedLengthBuffer</a>(i_isolate, receiver);</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;  }</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    Maybe&lt;bool&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    }</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;  }</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a11123e674ed260e849a726396a6b1f3c"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a11123e674ed260e849a726396a6b1f3c">v8::internal::WasmMemoryObject::ToFixedLengthBuffer</a></div><div class="ttdeci">static DirectHandle&lt; JSArrayBuffer &gt; ToFixedLengthBuffer(Isolate *isolate, DirectHandle&lt; WasmMemoryObject &gt; memory)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01269">wasm-objects.cc:1269</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="property-details_8h_source.html#l00027">v8::internal::FROZEN</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="common_2globals_8h_source.html#l01734">v8::internal::kDontThrow</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="v8-function-callback_8h_source.html#l00337">v8::ReturnValue&lt; T &gt;::Set()</a>, and <a class="el" href="wasm-objects_8cc_source.html#l01269">v8::internal::WasmMemoryObject::ToFixedLengthBuffer()</a>.</p>
<div id="dynsection-47" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-47-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-47-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-47-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95b8b79845e1cbc4f3d5f803d8ad7364_cgraph.svg" width="100%" height="553"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acd85f9674aa494e9069e26cd8c5b10ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd85f9674aa494e9069e26cd8c5b10ae">&#9670;&nbsp;</a></span>WebAssemblyMemoryToResizableBufferImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryToResizableBufferImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02890">2890</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;                                                 {</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.toResizableBuffer()&quot;</span>};</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmMemoryObject);</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160; </div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> buffer_obj(receiver-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsJSArrayBuffer(*buffer_obj));</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;      i::Cast&lt;i::JSArrayBuffer&gt;(*buffer_obj), i_isolate);</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;  <span class="keywordflow">if</span> (!buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="keywordflow">if</span> (!receiver-&gt;has_maximum_pages()) {</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Memory must have a maximum&quot;</span>);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    }</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;    buffer = <a class="code" href="classv8_1_1internal_1_1WasmMemoryObject.html#a32101d7a077535dadf31d9373ec3a6f2">i::WasmMemoryObject::ToResizableBuffer</a>(i_isolate, receiver);</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;  }</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;  <span class="keywordflow">if</span> (buffer-&gt;is_shared()) {</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    Maybe&lt;bool&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        buffer-&gt;SetIntegrityLevel(i_isolate, buffer, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">i::FROZEN</a>, <a class="code" href="namespacev8_1_1internal.html#adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee">i::kDontThrow</a>);</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.FromJust()) {</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;          <span class="stringliteral">&quot;Status of setting SetIntegrityLevel of buffer is false.&quot;</span>);</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;    }</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;  }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmMemoryObject_html_a32101d7a077535dadf31d9373ec3a6f2"><div class="ttname"><a href="classv8_1_1internal_1_1WasmMemoryObject.html#a32101d7a077535dadf31d9373ec3a6f2">v8::internal::WasmMemoryObject::ToResizableBuffer</a></div><div class="ttdeci">static DirectHandle&lt; JSArrayBuffer &gt; ToResizableBuffer(Isolate *isolate, DirectHandle&lt; WasmMemoryObject &gt; memory)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l01285">wasm-objects.cc:1285</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="property-details_8h_source.html#l00027">v8::internal::FROZEN</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="common_2globals_8h_source.html#l01734">v8::internal::kDontThrow</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, <a class="el" href="v8-function-callback_8h_source.html#l00337">v8::ReturnValue&lt; T &gt;::Set()</a>, and <a class="el" href="wasm-objects_8cc_source.html#l01285">v8::internal::WasmMemoryObject::ToResizableBuffer()</a>.</p>
<div id="dynsection-48" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-48-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-48-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-48-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acd85f9674aa494e9069e26cd8c5b10ae_cgraph.svg" width="100%" height="553"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4efe057cb210e2909aa30b47767a7c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efe057cb210e2909aa30b47767a7c01">&#9670;&nbsp;</a></span>WebAssemblyMemoryType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyMemoryType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02921">2921</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                                                                        {</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Memory.type()&quot;</span>};</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(memory, WasmMemoryObject);</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160; </div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSArrayBuffer&gt;</a> buffer(memory-&gt;array_buffer(), i_isolate);</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;  <span class="keywordtype">size_t</span> curr_size = buffer-&gt;GetByteLength() / <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03.html#a8b6719b9c44c92c16a29ade2e66e3314">i::wasm::kWasmPageSize</a>;</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(curr_size, std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;  uint32_t min_size = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(curr_size);</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;  std::optional&lt;uint32_t&gt; max_size;</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;  <span class="keywordflow">if</span> (memory-&gt;has_maximum_pages()) {</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    uint64_t max_size64 = memory-&gt;maximum_pages();</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(max_size64, std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    max_size.emplace(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(max_size64));</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;  }</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;  <span class="keywordtype">bool</span> shared = buffer-&gt;is_shared();</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a2f81a58ed7769a3d69bf42c16ec09efb">i::wasm::GetTypeForMemory</a>(i_isolate, min_size, max_size, shared,</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                                        memory-&gt;address_type());</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a2f81a58ed7769a3d69bf42c16ec09efb"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a2f81a58ed7769a3d69bf42c16ec09efb">v8::internal::wasm::GetTypeForMemory</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForMemory(Isolate *isolate, uint32_t min_size, std::optional&lt; uint64_t &gt; max_size, bool shared, AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00351">wasm-module.cc:351</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-module_8cc_source.html#l00351">v8::internal::wasm::GetTypeForMemory()</a>, <a class="el" href="value-mirror_8cc_source.html#l00171">v8_inspector::anonymous_namespace{value-mirror.cc}::kWasmPageSize</a>, and <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>.</p>
<div id="dynsection-49" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-49-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-49-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-49-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-50" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-50-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-50-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-50-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01_icgraph.svg" width="523" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a42ea0b3bd1920f543bf97b345275e517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ea0b3bd1920f543bf97b345275e517">&#9670;&nbsp;</a></span>WebAssemblyModuleCustomSectionsImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleCustomSectionsImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01041">1041</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                                 {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module.customSections()&quot;</span>};</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160; </div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordflow">if</span> (info[1]-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 1 is required&quot;</span>);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(i_isolate, Utils::OpenDirectHandle(*info[1]))</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;           .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>)) {</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keyword">auto</span> custom_sections = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#acabda57a17d96edc612c9b843fbbea4b">i::wasm::GetCustomSections</a>(</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      i_isolate, module_object, i::Cast&lt;i::String&gt;(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>), &amp;thrower);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <span class="keywordflow">if</span> (thrower.error()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(custom_sections));</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;}</div>
<div class="ttc" id="aflag-definitions_8h_html_a3ced3697c19e78b3fb4994a89f46945e"><div class="ttname"><a href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02171">flag-definitions.h:2171</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_acabda57a17d96edc612c9b843fbbea4b"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#acabda57a17d96edc612c9b843fbbea4b">v8::internal::wasm::GetCustomSections</a></div><div class="ttdeci">DirectHandle&lt; JSArray &gt; GetCustomSections(Isolate *isolate, DirectHandle&lt; WasmModuleObject &gt; module_object, DirectHandle&lt; String &gt; name, ErrorThrower *thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00651">wasm-module.cc:651</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8cc_source.html#l00651">v8::internal::wasm::GetCustomSections()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="flag-definitions_8h_source.html#l02171">name</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, and <a class="el" href="data-view-ops_8h_source.html#l00032">ToString()</a>.</p>
<div id="dynsection-51" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-51-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-51-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-51-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a42ea0b3bd1920f543bf97b345275e517_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa5d34663209df90b28f9f17aaf6eda5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5d34663209df90b28f9f17aaf6eda5b">&#9670;&nbsp;</a></span>WebAssemblyModuleExportsImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleExportsImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01027">1027</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                                                 {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module.exports()&quot;</span>};</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keyword">auto</span> exports = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac16bee88f353656d3809b61652c63a0f">i::wasm::GetExports</a>(i_isolate, module_object);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(exports));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac16bee88f353656d3809b61652c63a0f"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac16bee88f353656d3809b61652c63a0f">v8::internal::wasm::GetExports</a></div><div class="ttdeci">DirectHandle&lt; JSArray &gt; GetExports(Isolate *isolate, DirectHandle&lt; WasmModuleObject &gt; module_object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00553">wasm-module.cc:553</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8cc_source.html#l00553">v8::internal::wasm::GetExports()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, and <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>.</p>
<div id="dynsection-52" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-52-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-52-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-52-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa5d34663209df90b28f9f17aaf6eda5b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aeccc9e8fae6961c23699b202bb751160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeccc9e8fae6961c23699b202bb751160">&#9670;&nbsp;</a></span>WebAssemblyModuleImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00956">956</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                                                        {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module()&quot;</span>};</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;wasm_module_callback()(info)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4147c03ee307212e25fc9da8cb675c4a">RecordCompilationMethod</a>(i_isolate, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e">kSyncCompilation</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Module must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> =</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      i_isolate-&gt;native_context();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1wasm.html#aeb062fb51a7aa93290a7a1313085cf65">i::wasm::IsWasmCodegenAllowed</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> error =</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ae99c0e646ec90851574de7cee934682c">i::wasm::ErrorStringForCodegen</a>(i_isolate, <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    thrower.CompileError(<span class="stringliteral">&quot;%s&quot;</span>, error-&gt;ToCString().get());</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  base::OwnedVector&lt;const uint8_t&gt; bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a631463dae9951468ccb11f081f55dd67">GetAndCopyFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160; </div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (bytes.empty()) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[1], i_isolate, enabled_features);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="comment">// TODO(14179): Does this need different error message handling?</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html">i::MaybeDirectHandle&lt;i::WasmModuleObject&gt;</a> maybe_module_obj;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  maybe_module_obj = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a3f2610a2d8fa2c20a8569e4cb665d194">SyncCompile</a>(</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      i_isolate, enabled_features, std::move(compile_imports), &amp;thrower,</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      std::move(bytes));</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_obj;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">if</span> (!maybe_module_obj.<a class="code" href="classv8_1_1internal_1_1MaybeDirectHandle.html#a7c6aa1159cd89fe343afabcaad620b98">ToHandle</a>(&amp;module_obj)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">// and use {module_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Module} directly, but some</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// subclass: {module_obj} has {WebAssembly.Module}&#39;s prototype at this</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, module_obj,</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                         Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;  }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(module_obj));</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a3f2610a2d8fa2c20a8569e4cb665d194"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a3f2610a2d8fa2c20a8569e4cb665d194">v8::internal::wasm::WasmEngine::SyncCompile</a></div><div class="ttdeci">MaybeDirectHandle&lt; WasmModuleObject &gt; SyncCompile(Isolate *isolate, WasmEnabledFeatures enabled, CompileTimeImports compile_imports, ErrorThrower *thrower, base::OwnedVector&lt; const uint8_t &gt; bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00669">wasm-engine.cc:669</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_html_af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kSyncCompilation</a></div><div class="ttdeci">@ kSyncCompilation</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l00566">wasm-js.cc:566</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l00577">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions()</a>, <a class="el" href="vector_8h_source.html#l00239">v8::base::OwnedVector&lt; T &gt;::empty()</a>, <a class="el" href="wasm-module_8cc_source.html#l00274">v8::internal::wasm::ErrorStringForCodegen()</a>, <a class="el" href="wasm-js_8cc_source.html#l00243">GetAndCopyFirstArgumentAsBytes()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="wasm-module_8cc_source.html#l00260">v8::internal::wasm::IsWasmCodegenAllowed()</a>, <a class="el" href="wasm-js_8cc_source.html#l00566">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::kSyncCompilation</a>, <a class="el" href="wasm-engine_8cc_source.html#l02177">v8::internal::wasm::max_module_size()</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="wasm-js_8cc_source.html#l00573">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::RecordCompilationMethod()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00337">v8::ReturnValue&lt; T &gt;::Set()</a>, <a class="el" href="wasm-engine_8cc_source.html#l00669">v8::internal::wasm::WasmEngine::SyncCompile()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="maybe-handles_8h_source.html#l00277">v8::internal::MaybeDirectHandle&lt; T &gt;::ToHandle()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00936">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype()</a>.</p>
<div id="dynsection-53" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-53-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-53-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-53-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aeccc9e8fae6961c23699b202bb751160_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="aa8666752c68eedb8e6137f879a6f2444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8666752c68eedb8e6137f879a6f2444">&#9670;&nbsp;</a></span>WebAssemblyModuleImportsImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyModuleImportsImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01013">1013</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                                                 {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Module.imports()&quot;</span>};</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmModuleObject&gt;</a> module_object;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordflow">if</span> (!GetFirstArgumentAsModule(info, &amp;thrower).<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;module_object)) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keyword">auto</span> imports = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a744e1f64a481e1651605a8de39aaa89d">i::wasm::GetImports</a>(i_isolate, module_object);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(imports));</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a744e1f64a481e1651605a8de39aaa89d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a744e1f64a481e1651605a8de39aaa89d">v8::internal::wasm::GetImports</a></div><div class="ttdeci">DirectHandle&lt; JSArray &gt; GetImports(Isolate *isolate, DirectHandle&lt; WasmModuleObject &gt; module_object)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00425">wasm-module.cc:425</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-module_8cc_source.html#l00425">v8::internal::wasm::GetImports()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, and <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>.</p>
<div id="dynsection-54" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-54-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-54-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-54-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa8666752c68eedb8e6137f879a6f2444_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af2970aa8c31b970d7b3a7c100d439cf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2970aa8c31b970d7b3a7c100d439cf6">&#9670;&nbsp;</a></span>WebAssemblyPromising()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyPromising </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02401">2401</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;                                                                       {</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.promising()&quot;</span>};</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  i_isolate-&gt;CountUsage(<a class="code" href="classv8_1_1Isolate.html#aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041">v8::Isolate::kWasmJavaScriptPromiseIntegration</a>);</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160; </div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsFunction()) {</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function&quot;</span>);</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;  }</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> callable =</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;      Utils::OpenDirectHandle(*info[0].As&lt;Function&gt;());</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; </div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">i::WasmExportedFunction::IsWasmExportedFunction</a>(*callable)) {</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly exported function&quot;</span>);</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  }</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="keyword">auto</span> wasm_exported_function = i::Cast&lt;i::WasmExportedFunction&gt;(*callable);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmExportedFunctionData&gt;</a> data(</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;      wasm_exported_function-&gt;shared()-&gt;wasm_exported_function_data(),</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      i_isolate);</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="keywordflow">if</span> (data-&gt;instance_data()-&gt;module_object()-&gt;is_asm_js()) {</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a WebAssembly exported function&quot;</span>);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  }</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSFunction&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a">NewPromisingWasmExportedFunction</a>(i_isolate, data, thrower);</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1Isolate_html_aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041"><div class="ttname"><a href="classv8_1_1Isolate.html#aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041">v8::Isolate::kWasmJavaScriptPromiseIntegration</a></div><div class="ttdeci">@ kWasmJavaScriptPromiseIntegration</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00614">v8-isolate.h:614</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_html_af380767a60da1e8f57fc90501286702a"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#af380767a60da1e8f57fc90501286702a">v8::anonymous_namespace{wasm-js.cc}::NewPromisingWasmExportedFunction</a></div><div class="ttdeci">i::DirectHandle&lt; i::JSFunction &gt; NewPromisingWasmExportedFunction(i::Isolate *i_isolate, i::DirectHandle&lt; i::WasmExportedFunctionData &gt; data, ErrorThrower &amp;thrower)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l02230">wasm-js.cc:2230</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02899">v8::internal::WasmExportedFunction::IsWasmExportedFunction()</a>, <a class="el" href="v8-isolate_8h_source.html#l00614">v8::Isolate::kWasmJavaScriptPromiseIntegration</a>, <a class="el" href="wasm-js_8cc_source.html#l02230">NewPromisingWasmExportedFunction()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, and <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03766">v8::internal::WasmJs::InstallJSPromiseIntegration()</a>.</p>
<div id="dynsection-55" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-55-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-55-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-55-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-56" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-56-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-56-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-56-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6_icgraph.svg" width="546" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab0c0a787d5c8f47ec9cd549345c95fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c0a787d5c8f47ec9cd549345c95fad">&#9670;&nbsp;</a></span>WebAssemblySuspendingImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblySuspendingImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02431">2431</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                                                 {</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Suspending()&quot;</span>};</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  i_isolate-&gt;CountUsage(<a class="code" href="classv8_1_1Isolate.html#aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041">v8::Isolate::kWasmJavaScriptPromiseIntegration</a>);</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160; </div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Suspending must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  }</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsFunction()) {</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a function&quot;</span>);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  }</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSReceiver&gt;</a> callable =</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;      Utils::OpenDirectHandle(*info[0].As&lt;Function&gt;());</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160; </div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1WasmExportedFunction.html#a89d14615aeb9e6fdd2017315fe60d0ef">i::WasmExportedFunction::IsWasmExportedFunction</a>(*callable) ||</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmJSFunction.html#acd5f3569a442acea759fd951ca21567f">i::WasmJSFunction::IsWasmJSFunction</a>(*callable)) {</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must not be a WebAssembly function&quot;</span>);</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;  }</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160; </div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmSuspendingObject&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmSuspendingObject.html#a07464f83ede52a8147f4d4bb36c4123d">i::WasmSuspendingObject::New</a>(i_isolate, callable);</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>)));</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmSuspendingObject_html_a07464f83ede52a8147f4d4bb36c4123d"><div class="ttname"><a href="classv8_1_1internal_1_1WasmSuspendingObject.html#a07464f83ede52a8147f4d4bb36c4123d">v8::internal::WasmSuspendingObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmSuspendingObject &gt; New(Isolate *isolate, DirectHandle&lt; JSReceiver &gt; callable)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00822">wasm-objects.cc:822</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="wasm-objects_8cc_source.html#l02899">v8::internal::WasmExportedFunction::IsWasmExportedFunction()</a>, <a class="el" href="wasm-objects_8cc_source.html#l03078">v8::internal::WasmJSFunction::IsWasmJSFunction()</a>, <a class="el" href="v8-isolate_8h_source.html#l00614">v8::Isolate::kWasmJavaScriptPromiseIntegration</a>, <a class="el" href="wasm-objects_8cc_source.html#l00822">v8::internal::WasmSuspendingObject::New()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, and <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03766">v8::internal::WasmJs::InstallJSPromiseIntegration()</a>.</p>
<div id="dynsection-57" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-57-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-57-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-57-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-58" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-58-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-58-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-58-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad_icgraph.svg" width="584" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abd5d211a75f47e5711a1a1c31b365848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd5d211a75f47e5711a1a1c31b365848">&#9670;&nbsp;</a></span>WebAssemblyTableGetImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableGetImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02668">2668</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;                                                                          {</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.get()&quot;</span>};</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmTableObject);</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160; </div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  std::optional&lt;uint64_t&gt; maybe_address = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, receiver-&gt;address_type());</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="keywordflow">if</span> (!maybe_address) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  uint64_t address = *maybe_address;</div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160; </div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="keywordflow">if</span> (address &gt; <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a> ||</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;      !receiver-&gt;is_in_bounds(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address))) {</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;invalid address %&quot;</span> PRIu64 <span class="stringliteral">&quot; in %s table of size %d&quot;</span>,</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;                       address, receiver-&gt;unsafe_type().name().c_str(),</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;                       receiver-&gt;current_length());</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  }</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160; </div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aa5e3c6d5c308301194a5fd89e6dd9e59">i::WasmTableObject::Get</a>(</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;      i_isolate, receiver, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address));</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160; </div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab4f484a7bec0c8f51d7df97ca05936f4">WasmObjectToJSReturnValue</a>(return_value, <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, receiver-&gt;unsafe_type(),</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;                                 i_isolate, &amp;thrower)) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;  }</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_aa5e3c6d5c308301194a5fd89e6dd9e59"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#aa5e3c6d5c308301194a5fd89e6dd9e59">v8::internal::WasmTableObject::Get</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; Object &gt; Get(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00431">wasm-objects.cc:431</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l01260">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToU64()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="wasm-objects_8cc_source.html#l00431">v8::internal::WasmTableObject::Get()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="clamped__math__impl_8h_source.html#l00082">v8::base::internal::result</a>, and <a class="el" href="wasm-js_8cc_source.html#l02641">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::WasmObjectToJSReturnValue()</a>.</p>
<div id="dynsection-59" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-59-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-59-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-59-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_abd5d211a75f47e5711a1a1c31b365848_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad80f78a54c70dfcb6788270747bf1aff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80f78a54c70dfcb6788270747bf1aff">&#9670;&nbsp;</a></span>WebAssemblyTableGetLengthImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableGetLengthImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02583">2583</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                                                 {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.length()&quot;</span>};</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmTableObject);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160; </div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = receiver-&gt;current_length();</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(isolate, receiver-&gt;address_type(), <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>));</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l01375">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueFromUnsigned()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, and <a class="el" href="external-reference_8cc_source.html#l01508">v8::internal::length</a>.</p>
<div id="dynsection-60" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-60-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-60-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-60-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad80f78a54c70dfcb6788270747bf1aff_cgraph.svg" width="100%" height="462"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a33eae2ff47c44aadd35fd800fa9daf40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33eae2ff47c44aadd35fd800fa9daf40">&#9670;&nbsp;</a></span>WebAssemblyTableGrowImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableGrowImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02596">2596</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;                                                                           {</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.grow()&quot;</span>};</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(receiver, WasmTableObject);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160; </div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  std::optional&lt;uint64_t&gt; maybe_grow_by = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, receiver-&gt;address_type());</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;  <span class="keywordflow">if</span> (!maybe_grow_by) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;  uint64_t grow_by = *maybe_grow_by;</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160; </div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> init_value;</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; </div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2) {</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    init_value = Utils::OpenDirectHandle(*info[1]);</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">i::WasmTableObject::JSToWasmElement</a>(i_isolate, receiver, init_value,</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                                             &amp;error_message)</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;init_value)) {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Argument 1 is invalid: %s&quot;</span>, error_message);</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    }</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (receiver-&gt;unsafe_type().is_non_nullable()) {</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;    thrower.TypeError(</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="stringliteral">&quot;Argument 1 must be specified for non-nullable element type&quot;</span>);</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    init_value = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, receiver-&gt;unsafe_type());</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  }</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">i::wasm::kV8MaxWasmTableSize</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>);</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordtype">int</span> old_size = grow_by &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">i::wasm::max_table_size</a>()</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;                     ? -1</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                     : <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">i::WasmTableObject::Grow</a>(i_isolate, receiver,</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                                                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(grow_by),</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                                                init_value);</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;  <span class="keywordflow">if</span> (old_size &lt; 0) {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;failed to grow table by %&quot;</span> PRIu64, grow_by);</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;  }</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae103516ca8fe7bd3948cda56c6c9a31c">AddressValueFromUnsigned</a>(isolate, receiver-&gt;address_type(), old_size));</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_aaa393ceb64344c386d966b5b1c6e9a16"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">v8::internal::WasmTableObject::JSToWasmElement</a></div><div class="ttdeci">static MaybeDirectHandle&lt; Object &gt; JSToWasmElement(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, DirectHandle&lt; Object &gt; entry, const char **error_message)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00328">wasm-objects.cc:328</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_ad51363b96ea8a38d2957f46f2767b4de"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#ad51363b96ea8a38d2957f46f2767b4de">v8::internal::WasmTableObject::Grow</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE int Grow(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t count, DirectHandle&lt; Object &gt; init_value)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00259">wasm-objects.cc:259</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a38d56b630d25ea0451a91c6204e89042"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a38d56b630d25ea0451a91c6204e89042">v8::internal::wasm::max_table_size</a></div><div class="ttdeci">uint32_t max_table_size()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02165">wasm-engine.cc:2165</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ad39cf555e73abbf7233ee2029b74ff7d"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ad39cf555e73abbf7233ee2029b74ff7d">v8::internal::wasm::kV8MaxWasmTableSize</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmTableSize</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00058">wasm-limits.h:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l01375">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueFromUnsigned()</a>, <a class="el" href="wasm-js_8cc_source.html#l01260">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToU64()</a>, <a class="el" href="wasm-js_8cc_source.html#l01383">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::DefaultReferenceValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00259">v8::internal::WasmTableObject::Grow()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00328">v8::internal::WasmTableObject::JSToWasmElement()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="wasm-limits_8h_source.html#l00058">v8::internal::wasm::kV8MaxWasmTableSize</a>, <a class="el" href="v8-function-callback_8h_source.html#l00660">v8::FunctionCallbackInfo&lt; T &gt;::Length()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02165">v8::internal::wasm::max_table_size()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, and <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>.</p>
<div id="dynsection-61" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-61-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-61-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-61-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a33eae2ff47c44aadd35fd800fa9daf40_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="af8c6d861773fb2c5a56b9929ec87d2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c6d861773fb2c5a56b9929ec87d2df">&#9670;&nbsp;</a></span>WebAssemblyTableImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01426">1426</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                                                                       {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table()&quot;</span>};</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160; </div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Table must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a table descriptor&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;  }</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  Local&lt;v8::Object&gt; descriptor = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  i::wasm::ValueType <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="comment">// Parse the &#39;element&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> (!descriptor-&gt;Get(context, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;element&quot;</span>)).ToLocal(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    }</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">i::Object::ToString</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1Isolate.html">i::Isolate</a>*<span class="keyword">&gt;</span>(isolate),</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                             Utils::OpenDirectHandle(*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>))</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;<span class="keywordtype">string</span>)) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;      <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    }</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="comment">// The JS api uses &#39;anyfunc&#39; instead of &#39;funcref&#39;.</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyfunc&quot;</span>))) {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_type_reflection() &amp;&amp;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;funcref&quot;</span>))) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      <span class="comment">// With the type reflection proposal, &quot;funcref&quot; replaces &quot;anyfunc&quot;,</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="comment">// and anyfunc just becomes an alias for &quot;funcref&quot;.</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a90941f620285a912a302a3aced092560">i::wasm::kWasmFuncRef</a>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;externref&quot;</span>))) {</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75bfbc047d813d2932698521c1c1145f">i::wasm::kWasmExternRef</a>;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (enabled_features.has_stringref() &amp;&amp;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;stringref&quot;</span>))) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a44d8421f58b06a23f41aff519b312d3c">i::wasm::kWasmStringRef</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;anyref&quot;</span>))) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a697b6d1f8fb7f3463c83684346bfa145">i::wasm::kWasmAnyRef</a>;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;eqref&quot;</span>))) {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a75a407e39344b5260946d2c22d318f84">i::wasm::kWasmEqRef</a>;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;structref&quot;</span>))) {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac4677d357c392dc8125dfa4d58f92aeb">i::wasm::kWasmStructRef</a>;</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;arrayref&quot;</span>))) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#afb33e6ba5bbd6ec3d69e3537f9912d4e">i::wasm::kWasmArrayRef</a>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">string</a>-&gt;IsEqualTo(<a class="code" href="namespacev8_1_1base.html#aaa0a202e5ad0d494cc88496b8fafa571">base::CStrVector</a>(<span class="stringliteral">&quot;i31ref&quot;</span>))) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a86d0b42ae903d1d6e6f98c685ef0133b">i::wasm::kWasmI31Ref</a>;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;          <span class="stringliteral">&quot;Descriptor property &#39;element&#39; must be a WebAssembly reference type&quot;</span>);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    <span class="comment">// TODO(14616): Support shared types.</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  }</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// Parse the &#39;address&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  std::optional&lt;AddressType&gt; maybe_address_type =</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#af9b6376bd669d7a974598324d3c18837">GetAddressType</a>(isolate, context, descriptor, &amp;thrower);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="keywordflow">if</span> (!maybe_address_type) {</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(i_isolate-&gt;has_exception() || thrower.error());</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#aca3af72b5da01dfb563e4c5f56af8952">AddressType</a> address_type = *maybe_address_type;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="comment">// Parse the &#39;initial&#39; or &#39;minimum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  std::optional&lt;uint64_t&gt; maybe_initial = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a46a8e5f8c34da455cec8ad9bedd07119">GetInitialOrMinimumProperty</a>(</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      isolate, &amp;thrower, context, descriptor, address_type,</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a99d89c02d7aa502fd4d2939a076c1688">i::wasm::max_table_init_entries</a>());</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="keywordflow">if</span> (!maybe_initial) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal_1_1wasm.html#a003eded058d6f8d097f814e516d757ef">i::wasm::kV8MaxWasmTableInitEntries</a> &lt;= <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  uint32_t initial = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(*maybe_initial);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  <span class="comment">// Parse the &#39;maximum&#39; property of the `descriptor`.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  uint64_t <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf">kNoMaximum</a> = <a class="code" href="namespacev8_1_1internal.html#a7f4dd65fabd482f5f1bfe4db66389fa3">i::kMaxUInt64</a>;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="keyword">auto</span> maybe_maybe_maximum = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6481005ff2b35962cd81e7a6a12eaf42">GetOptionalAddressValue</a>(</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      &amp;thrower, context, descriptor, <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;maximum&quot;</span>), address_type,</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      initial, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf">kNoMaximum</a>);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span> (!maybe_maybe_maximum) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  std::optional&lt;uint64_t&gt; maybe_maximum = *maybe_maybe_maximum;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.has_index());  <span class="comment">// The JS API can&#39;t express type indices.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  i::wasm::CanonicalValueType canonical_type{<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>};</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTableObject&gt;</a> table_obj = <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#a44960b521a446db5f1e61b9bfb0c56d6">i::WasmTableObject::New</a>(</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      i_isolate, <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a>(), <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>,</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      canonical_type, initial, maybe_maximum.has_value(),</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      maybe_maximum.value_or(0) <span class="comment">/* note: unused if previous param is false */</span>,</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>), address_type);</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160; </div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="comment">// The infrastructure for `new Foo` calls allocates an object, which is</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="comment">// available here as {info.This()}. We&#39;re going to discard this object</span></div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="comment">// and use {table_obj} instead, but it does have the correct prototype,</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="comment">// which we must harvest from it. This makes a difference when the JS</span></div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="comment">// constructor function wasn&#39;t {WebAssembly.Table} directly, but some</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <span class="comment">// subclass: {table_obj} has {WebAssembly.Table}&#39;s prototype at this</span></div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="comment">// point, so we must overwrite that with the correct prototype for {Foo}.</span></div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a4d8c80876c9b427265f2bdb634e62d70">TransferPrototype</a>(i_isolate, table_obj,</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                         Utils::OpenDirectHandle(*info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a4ddfd6d21732dff1c4c55d5441a8a5ca">This</a>()))) {</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  }</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">if</span> (initial &gt; 0 &amp;&amp; info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2 &amp;&amp; !info[1]-&gt;IsUndefined()) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> element = Utils::OpenDirectHandle(*info[1]);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">i::WasmTableObject::JSToWasmElement</a>(i_isolate, table_obj, element,</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                                             &amp;error_message)</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;element)) {</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;          <span class="stringliteral">&quot;Argument 2 must be undefined or a value of type compatible &quot;</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;          <span class="stringliteral">&quot;with the type of the new table: %s.&quot;</span>,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;          error_message);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    }</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = 0; index &lt; static_cast&lt;uint32_t&gt;(initial); ++<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">i::WasmTableObject::Set</a>(i_isolate, table_obj, <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, element);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    }</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (initial &gt; 0) {</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>, table_obj-&gt;unsafe_type());</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>.heap_representation()) {</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kString:</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        thrower.TypeError(</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;            <span class="stringliteral">&quot;Missing initial value when creating stringref table&quot;</span>);</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kStringViewWtf8:</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;stringview_wtf8 has no JS representation&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kStringViewWtf16:</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;stringview_wtf16 has no JS representation&quot;</span>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="keywordflow">case</span> i::wasm::HeapType::kStringViewIter:</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        thrower.TypeError(<span class="stringliteral">&quot;stringview_iter has no JS representation&quot;</span>);</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  }</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(Utils::ToLocal(i::Cast&lt;i::JSObject&gt;(table_obj)));</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_a44960b521a446db5f1e61b9bfb0c56d6"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#a44960b521a446db5f1e61b9bfb0c56d6">v8::internal::WasmTableObject::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmTableObject &gt; New(Isolate *isolate, DirectHandle&lt; WasmTrustedInstanceData &gt; trusted_data, wasm::ValueType type, wasm::CanonicalValueType canonical_type, uint32_t initial, bool has_maximum, uint64_t maximum, DirectHandle&lt; Object &gt; initial_value, wasm::AddressType address_type, DirectHandle&lt; WasmDispatchTable &gt; *out_dispatch_table=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00196">wasm-objects.cc:196</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTableObject_html_acfdec070b48fe34a36f7aa7fed63a969"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">v8::internal::WasmTableObject::Set</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void Set(Isolate *isolate, DirectHandle&lt; WasmTableObject &gt; table, uint32_t index, DirectHandle&lt; Object &gt; entry)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l00379">wasm-objects.cc:379</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a003eded058d6f8d097f814e516d757ef"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a003eded058d6f8d097f814e516d757ef">v8::internal::wasm::kV8MaxWasmTableInitEntries</a></div><div class="ttdeci">constexpr size_t kV8MaxWasmTableInitEntries</div><div class="ttdef"><b>Definition:</b> <a href="wasm-limits_8h_source.html#l00059">wasm-limits.h:59</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf">v8::internal::wasm::kNoMaximum</a></div><div class="ttdeci">@ kNoMaximum</div><div class="ttdef"><b>Definition:</b> <a href="wasm-constants_8h_source.html#l00088">wasm-constants.h:88</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a99d89c02d7aa502fd4d2939a076c1688"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a99d89c02d7aa502fd4d2939a076c1688">v8::internal::wasm::max_table_init_entries</a></div><div class="ttdeci">uint32_t max_table_init_entries()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l02171">wasm-engine.cc:2171</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7f4dd65fabd482f5f1bfe4db66389fa3"><div class="ttname"><a href="namespacev8_1_1internal.html#a7f4dd65fabd482f5f1bfe4db66389fa3">v8::internal::kMaxUInt64</a></div><div class="ttdeci">constexpr uint64_t kMaxUInt64</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00391">globals.h:391</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="vector_8h_source.html#l00330">v8::base::CStrVector()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00481">DCHECK</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="wasm-js_8cc_source.html#l01383">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::DefaultReferenceValue()</a>, <a class="el" href="api_8cc_source.html#l04568">v8::Object::Get()</a>, <a class="el" href="wasm-js_8cc_source.html#l01397">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetAddressType()</a>, <a class="el" href="wasm-js_8cc_source.html#l01337">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetInitialOrMinimumProperty()</a>, <a class="el" href="wasm-js_8cc_source.html#l01306">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetOptionalAddressValue()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="heap-snapshot-generator_8cc_source.html#l01698">v8::internal::index</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00328">v8::internal::WasmTableObject::JSToWasmElement()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="common_2globals_8h_source.html#l00391">v8::internal::kMaxUInt64</a>, <a class="el" href="wasm-constants_8h_source.html#l00088">v8::internal::wasm::kNoMaximum</a>, <a class="el" href="wasm-limits_8h_source.html#l00059">v8::internal::wasm::kV8MaxWasmTableInitEntries</a>, <a class="el" href="value-type_8h_source.html#l01257">v8::internal::wasm::kWasmAnyRef</a>, <a class="el" href="value-type_8h_source.html#l01268">v8::internal::wasm::kWasmArrayRef</a>, <a class="el" href="value-type_8h_source.html#l01264">v8::internal::wasm::kWasmEqRef</a>, <a class="el" href="value-type_8h_source.html#l01260">v8::internal::wasm::kWasmExternRef</a>, <a class="el" href="value-type_8h_source.html#l01256">v8::internal::wasm::kWasmFuncRef</a>, <a class="el" href="value-type_8h_source.html#l01265">v8::internal::wasm::kWasmI31Ref</a>, <a class="el" href="value-type_8h_source.html#l01269">v8::internal::wasm::kWasmStringRef</a>, <a class="el" href="value-type_8h_source.html#l01267">v8::internal::wasm::kWasmStructRef</a>, <a class="el" href="v8-function-callback_8h_source.html#l00660">v8::FunctionCallbackInfo&lt; T &gt;::Length()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02171">v8::internal::wasm::max_table_init_entries()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00196">v8::internal::WasmTableObject::New()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00337">v8::ReturnValue&lt; T &gt;::Set()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00379">v8::internal::WasmTableObject::Set()</a>, <a class="el" href="conversions_8cc_source.html#l01119">v8::internal::string</a>, <a class="el" href="v8-function-callback_8h_source.html#l00628">v8::FunctionCallbackInfo&lt; T &gt;::This()</a>, <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>, <a class="el" href="data-view-ops_8h_source.html#l00032">ToString()</a>, <a class="el" href="wasm-js_8cc_source.html#l00936">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::TransferPrototype()</a>, <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>, <a class="el" href="wasm-js_8cc_source.html#l00177">v8_str()</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>
<div id="dynsection-62" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-62-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-62-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-62-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af8c6d861773fb2c5a56b9929ec87d2df_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a93e08326b017c12ec308795bc251bf91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e08326b017c12ec308795bc251bf91">&#9670;&nbsp;</a></span>WebAssemblyTableSetImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableSetImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02698">2698</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;                                                                          {</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.set()&quot;</span>};</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(table_object, WasmTableObject);</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160; </div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;  std::optional&lt;uint64_t&gt; maybe_address = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3c5caa16bf7299bb8d809591ef2733b9">AddressValueToU64</a>(</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      &amp;thrower, context, info[0], <span class="stringliteral">&quot;Argument 0&quot;</span>, table_object-&gt;address_type());</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;  <span class="keywordflow">if</span> (!maybe_address) <span class="keywordflow">return</span> js_api_scope.AssertException();</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;  uint64_t address = *maybe_address;</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;  <span class="keywordflow">if</span> (address &gt; <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a> ||</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      !table_object-&gt;is_in_bounds(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address))) {</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    thrower.RangeError(<span class="stringliteral">&quot;invalid address %&quot;</span> PRIu64 <span class="stringliteral">&quot; in %s table of size %d&quot;</span>,</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;                       address, table_object-&gt;unsafe_type().name().c_str(),</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;                       table_object-&gt;current_length());</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::Object&gt;</a> element;</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt;= 2) {</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    element = Utils::OpenDirectHandle(*info[1]);</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* error_message;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#aaa393ceb64344c386d966b5b1c6e9a16">i::WasmTableObject::JSToWasmElement</a>(i_isolate, table_object, element,</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                                             &amp;error_message)</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;             .<a class="code" href="namespacev8_1_1anonymous__namespace_02api_8cc_03.html#a0be2944595d695733e968a9a946d9fcc">ToHandle</a>(&amp;element)) {</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      thrower.TypeError(<span class="stringliteral">&quot;Argument 1 is invalid for table: %s&quot;</span>, error_message);</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    }</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (table_object-&gt;unsafe_type().is_defaultable()) {</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    element = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#ab1e39290866cb51520e0d9af30af7035">DefaultReferenceValue</a>(i_isolate, table_object-&gt;unsafe_type());</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Table of non-defaultable type %s needs explicit element&quot;</span>,</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;                      table_object-&gt;unsafe_type().name().c_str());</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  }</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160; </div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  <a class="code" href="classv8_1_1internal_1_1WasmTableObject.html#acfdec070b48fe34a36f7aa7fed63a969">i::WasmTableObject::Set</a>(i_isolate, table_object,</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;                          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(address), element);</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l01260">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::AddressValueToU64()</a>, <a class="el" href="wasm-js_8cc_source.html#l01383">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::DefaultReferenceValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="wasm-objects_8cc_source.html#l00328">v8::internal::WasmTableObject::JSToWasmElement()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="v8-function-callback_8h_source.html#l00660">v8::FunctionCallbackInfo&lt; T &gt;::Length()</a>, <a class="el" href="api_8h_source.html#l00299">v8::Utils::OpenDirectHandle()</a>, <a class="el" href="wasm-objects_8cc_source.html#l00379">v8::internal::WasmTableObject::Set()</a>, and <a class="el" href="api_8cc_source.html#l07748">v8::anonymous_namespace{api.cc}::ToHandle()</a>.</p>
<div id="dynsection-63" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-63-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-63-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-63-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a93e08326b017c12ec308795bc251bf91_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acaccef9db6ddc927c8e58fb29de30502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaccef9db6ddc927c8e58fb29de30502">&#9670;&nbsp;</a></span>WebAssemblyTableType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTableType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02740">2740</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;                                                                       {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Table.type()&quot;</span>};</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(table, WasmTableObject);</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  std::optional&lt;uint64_t&gt; max_size = table-&gt;maximum_length_u64();</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a0213728ccf8cd499ba36ff1be97269ba">i::wasm::GetTypeForTable</a>(i_isolate, table-&gt;unsafe_type(),</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                                       table-&gt;current_length(), max_size,</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                                       table-&gt;address_type());</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_a0213728ccf8cd499ba36ff1be97269ba"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#a0213728ccf8cd499ba36ff1be97269ba">v8::internal::wasm::GetTypeForTable</a></div><div class="ttdeci">DirectHandle&lt; JSObject &gt; GetTypeForTable(Isolate *isolate, ValueType type, uint32_t min_size, std::optional&lt; uint64_t &gt; max_size, AddressType address_type)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-module_8cc_source.html#l00387">wasm-module.cc:387</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-module_8cc_source.html#l00387">v8::internal::wasm::GetTypeForTable()</a>, and <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>.</p>
<div id="dynsection-64" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-64-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-64-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-64-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-65" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-65-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-65-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-65-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502_icgraph.svg" width="503" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa725e4c20fcbf8aa32c453db61f2eb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa725e4c20fcbf8aa32c453db61f2eb52">&#9670;&nbsp;</a></span>WebAssemblyTagImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTagImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l01973">1973</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                                                                     {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Tag()&quot;</span>};</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160; </div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;WebAssembly.Tag must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a3ed6964c1400e2d797f2ae7d2adf68a7">IsObject</a>()) {</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a tag type&quot;</span>);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160; </div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;  Local&lt;Object&gt; event_type = <a class="code" href="namespacev8_1_1internal.html#a94c4a6c4ad3993b5e0e43bc2191c084b">Local&lt;Object&gt;::Cast</a>(info[0]);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  Local&lt;Context&gt; context = isolate-&gt;GetCurrentContext();</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160; </div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  <span class="comment">// Load the &#39;parameters&#39; property of the event type.</span></div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  Local&lt;String&gt; parameters_key = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#afbd7b4cf0e6b2f3d52780122edc1d105">v8_str</a>(isolate, <span class="stringliteral">&quot;parameters&quot;</span>);</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  <a class="code" href="classv8_1_1MaybeLocal.html">v8::MaybeLocal&lt;v8::Value&gt;</a> parameters_maybe =</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;      event_type-&gt;Get(context, parameters_key);</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  <a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::Value&gt;</a> parameters_value;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">if</span> (!parameters_maybe.<a class="code" href="classv8_1_1MaybeLocal.html#adcbf09f789c51def0e48e859d5b8da57">ToLocal</a>(&amp;parameters_value) ||</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      !parameters_value-&gt;<a class="code" href="classv8_1_1Value.html#a72a01e06e897a8fedbb430cdd7fc3ffe">IsObject</a>()) {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 must be a tag type with &#39;parameters&#39;&quot;</span>);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;  }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  Local&lt;Object&gt; parameters = parameters_value.<a class="code" href="classv8_1_1Local.html#a00dcb92006284768dc2661c2940f935a">As</a>&lt;<a class="code" href="namespacev8_1_1internal_1_1compiler.html#ae40ecf79ba420ba01bc347350bd6176f">Object</a>&gt;();</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  uint32_t parameters_len = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a361699e49cecab7e16584fcb747876fe">GetIterableLength</a>(i_isolate, context, parameters);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;  <span class="keywordflow">if</span> (parameters_len == <a class="code" href="namespacev8_1_1internal.html#ae9b3d70a0b2f7c3c669d187fd9a9dae2">i::kMaxUInt32</a>) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains parameters without &#39;length&#39;&quot;</span>);</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  <span class="keywordflow">if</span> (parameters_len &gt; <a class="code" href="namespacev8_1_1internal_1_1wasm.html#af945328e16ca1b7c2a5d2baf50ca445c">i::wasm::kV8MaxWasmFunctionParams</a>) {</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    thrower.TypeError(<span class="stringliteral">&quot;Argument 0 contains too many parameters&quot;</span>);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160; </div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <span class="comment">// Decode the tag type and construct a signature.</span></div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  std::vector&lt;i::wasm::ValueType&gt; param_types(parameters_len,</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                                              <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordflow">for</span> (uint32_t <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; parameters_len; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    i::wasm::ValueType&amp; <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = param_types[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    MaybeLocal&lt;Value&gt; maybe = parameters-&gt;Get(context, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;    std::optional&lt;i::wasm::ValueType&gt; maybe_type =</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#a6080d8b0a67ea17401b79da039a0a6d5">GetValueType</a>(isolate, maybe, context, enabled_features);</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">if</span> (!maybe_type) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = *maybe_type;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> == <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ab996b620af25ac2ea5b4682df40abca3">i::wasm::kWasmVoid</a>) {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      thrower.TypeError(</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;          <span class="stringliteral">&quot;Argument 0 parameter type at index #%u must be a value type&quot;</span>, <a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    }</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;  }</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a> <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>{0, parameters_len, param_types.data()};</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;  <span class="comment">// Set the tag index to 0. It is only used for debugging purposes, and has no</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;  <span class="comment">// meaningful value when declared outside of a wasm module.</span></div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <span class="keyword">auto</span> tag = <a class="code" href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">i::WasmExceptionTag::New</a>(i_isolate, 0);</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160; </div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;  i::wasm::CanonicalTypeIndex type_index =</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a82694f241e35d38f8f882c255e49e743">type_canonicalizer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">AddRecursiveGroup</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>);</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::JSObject&gt;</a> tag_object =</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">i::WasmTagObject::New</a>(i_isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, type_index, tag,</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1DirectHandle.html">i::DirectHandle&lt;i::WasmTrustedInstanceData&gt;</a>());</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(tag_object));</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmExceptionTag_html_a16f4ecfd034d8f83eb0b57c2dfeb7e86"><div class="ttname"><a href="classv8_1_1internal_1_1WasmExceptionTag.html#a16f4ecfd034d8f83eb0b57c2dfeb7e86">v8::internal::WasmExceptionTag::New</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE DirectHandle&lt; WasmExceptionTag &gt; New(Isolate *isolate, int index)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l03305">wasm-objects.cc:3305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WasmTagObject_html_a80e21a9531997c9d7c95d9bd95d86cd4"><div class="ttname"><a href="classv8_1_1internal_1_1WasmTagObject.html#a80e21a9531997c9d7c95d9bd95d86cd4">v8::internal::WasmTagObject::New</a></div><div class="ttdeci">static DirectHandle&lt; WasmTagObject &gt; New(Isolate *isolate, const wasm::FunctionSig *sig, wasm::CanonicalTypeIndex type_index, DirectHandle&lt; HeapObject &gt; tag, DirectHandle&lt; WasmTrustedInstanceData &gt; instance)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects_8cc_source.html#l02367">wasm-objects.cc:2367</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_html_aa7d63877150be29e04f49d189ea88c99"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer.html#aa7d63877150be29e04f49d189ea88c99">v8::internal::wasm::TypeCanonicalizer::AddRecursiveGroup</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void AddRecursiveGroup(WasmModule *module, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="canonical-types_8cc_source.html#l00032">canonical-types.cc:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_a82694f241e35d38f8f882c255e49e743"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#a82694f241e35d38f8f882c255e49e743">v8::internal::wasm::WasmEngine::type_canonicalizer</a></div><div class="ttdeci">TypeCanonicalizer * type_canonicalizer()</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8h_source.html#l00392">wasm-engine.h:392</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="canonical-types_8cc_source.html#l00032">v8::internal::wasm::TypeCanonicalizer::AddRecursiveGroup()</a>, <a class="el" href="v8-local-handle_8h_source.html#l00370">v8::Local&lt; T &gt;::As()</a>, <a class="el" href="v8-local-handle_8h_source.html#l00354">v8::Local&lt; T &gt;::Cast()</a>, <a class="el" href="api_8cc_source.html#l04568">v8::Object::Get()</a>, <a class="el" href="wasm-js_8cc_source.html#l01959">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::GetIterableLength()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-js_8cc_source.html#l01713">GetValueType()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00548">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a>, <a class="el" href="v8-function-callback_8h_source.html#l00655">v8::FunctionCallbackInfo&lt; T &gt;::IsConstructCall()</a>, <a class="el" href="api_8cc_source.html#l03599">v8::Value::IsObject()</a>, <a class="el" href="objects_8h_source.html#l00662">v8::internal::IsObject()</a>, <a class="el" href="common_2globals_8h_source.html#l00388">v8::internal::kMaxUInt32</a>, <a class="el" href="wasm-limits_8h_source.html#l00053">v8::internal::wasm::kV8MaxWasmFunctionParams</a>, <a class="el" href="value-type_8h_source.html#l01251">v8::internal::wasm::kWasmVoid</a>, <a class="el" href="wasm-objects_8cc_source.html#l02367">v8::internal::WasmTagObject::New()</a>, <a class="el" href="wasm-objects_8cc_source.html#l03305">v8::internal::WasmExceptionTag::New()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>, <a class="el" href="v8-local-handle_8h_source.html#l00691">v8::MaybeLocal&lt; T &gt;::ToLocal()</a>, <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>, <a class="el" href="wasm-engine_8h_source.html#l00392">v8::internal::wasm::WasmEngine::type_canonicalizer()</a>, and <a class="el" href="wasm-js_8cc_source.html#l00177">v8_str()</a>.</p>
<div id="dynsection-66" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-66-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-66-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-66-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa725e4c20fcbf8aa32c453db61f2eb52_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a4205bbb2cdbecd8548f0062a0158fd6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4205bbb2cdbecd8548f0062a0158fd6a">&#9670;&nbsp;</a></span>WebAssemblyTagType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyTagType </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02943">2943</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                                                                     {</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.Tag.type()&quot;</span>};</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;  <a class="code" href="wasm-js_8cc.html#ae79207a556b5c5abdb95386209c4b36f">EXTRACT_THIS</a>(tag, WasmTagObject);</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160; </div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;  <span class="keywordtype">int</span> n = tag-&gt;serialized_signature()-&gt;length();</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;  std::vector&lt;i::wasm::ValueType&gt; data(n);</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;  <span class="keywordflow">if</span> (n &gt; 0) {</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    tag-&gt;serialized_signature()-&gt;copy_out(0, data.data(), n);</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;  }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a1a17c60bc1e8b8ad11208d7b0d3ec5a9">i::wasm::FunctionSig</a> <a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>{0, data.size(), data.data()};</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;  constexpr <span class="keywordtype">bool</span> kForException = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ad49eb67763b3ddf562db19959cc71ace">i::wasm::GetTypeForFunction</a>(i_isolate, &amp;<a class="code" href="namespacev8_1_1internal.html#a6135f0ef57de8d381e3225f6659c617a">sig</a>, kForException);</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>));</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l02560">EXTRACT_THIS</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-module_8cc_source.html#l00290">v8::internal::wasm::GetTypeForFunction()</a>, <a class="el" href="wasm-objects-inl_8h_source.html#l00471">v8::internal::sig</a>, and <a class="el" href="tracing_2trace-event_8h_source.html#l00457">v8::internal::tracing::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="wasm-js_8cc_source.html#l03847">v8::internal::WasmJs::InstallTypeReflection()</a>.</p>
<div id="dynsection-67" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-67-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-67-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-67-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-68" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-68-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-68-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-68-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a_icgraph.svg" width="491" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa00e99e86bb5e0bcdde5308c3b924c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa00e99e86bb5e0bcdde5308c3b924c45">&#9670;&nbsp;</a></span>WebAssemblyValidateImpl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::anonymous_namespace{wasm-js.cc}::WebAssemblyValidateImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a>&lt; <a class="el" href="classv8_1_1Value.html">v8::Value</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l00886">886</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                                                                          {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  WasmJSApiScope js_api_scope{info, <span class="stringliteral">&quot;WebAssembly.validate()&quot;</span>};</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keyword">auto</span> [isolate, i_isolate, thrower] = js_api_scope.isolates_and_thrower();</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <a class="code" href="classv8_1_1ReturnValue.html">v8::ReturnValue&lt;v8::Value&gt;</a> return_value = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>();</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160; </div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordtype">bool</span> bytes_are_shared = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  base::Vector&lt;const uint8_t&gt; bytes = <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html#ae01fffe033c01485019507b9e0932b21">GetFirstArgumentAsBytes</a>(</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      info, <a class="code" href="namespacev8_1_1internal_1_1wasm.html#a76ecd8d4d54ac6dd52d2278b2cda0ba7">i::wasm::max_module_size</a>(), &amp;thrower, &amp;bytes_are_shared);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">if</span> (bytes.empty()) {</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    js_api_scope.AssertException();</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">// Propagate anything except wasm exceptions.</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (!thrower.wasm_error()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// Clear wasm exceptions; return false instead.</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    thrower.Reset();</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(<a class="code" href="namespacev8.html#ad95e01adb84e22399970bc9bffa404fe">v8::False</a>(isolate));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="keyword">auto</span> enabled_features = WasmEnabledFeatures::FromIsolate(i_isolate);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  CompileTimeImports compile_imports =</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      <a class="code" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5c27ccf9d3fac863f80bac41d3a0b60b">ArgumentToCompileOptions</a>(info[1], i_isolate, enabled_features);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keywordflow">if</span> (i_isolate-&gt;has_exception()) {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (i_isolate-&gt;is_execution_terminating()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    i_isolate-&gt;clear_exception();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(<a class="code" href="namespacev8.html#ad95e01adb84e22399970bc9bffa404fe">v8::False</a>(isolate));</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  }</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160; </div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordtype">bool</span> validated = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordflow">if</span> (bytes_are_shared) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="comment">// Make a copy of the wire bytes to avoid concurrent modification.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// Use relaxed reads (and writes, which is unnecessary here) to avoid TSan</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="comment">// reports in case the buffer is shared and is being modified concurrently.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keyword">auto</span> bytes_copy = base::OwnedVector&lt;uint8_t&gt;::NewForOverwrite(bytes.size());</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a7a5e1c490a7a7606fdc230f5779db6f0">base::Relaxed_Memcpy</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(bytes_copy.begin()),</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                         <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="namespacev8_1_1base.html#aee15b21aa31a7bcb340576c631d28141">base::Atomic8</a>*<span class="keyword">&gt;</span>(bytes.data()),</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;                         bytes.size());</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    validated = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aad8e9ffbc98ee56a23ee1e76a115b34f">SyncValidate</a>(</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        i_isolate, enabled_features, std::move(compile_imports),</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        bytes_copy.as_vector());</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">// The wire bytes are not shared, OK to use them directly.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    validated = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#abc12fc3b25ebfb54c20b8479642acb94">i::wasm::GetWasmEngine</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aad8e9ffbc98ee56a23ee1e76a115b34f">SyncValidate</a>(</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        i_isolate, enabled_features, std::move(compile_imports), bytes);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  }</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160; </div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  return_value.<a class="code" href="classv8_1_1ReturnValue.html#a57c4b962cf2ca387d3fb9a2f8e47a963">Set</a>(validated);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmEngine_html_aad8e9ffbc98ee56a23ee1e76a115b34f"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmEngine.html#aad8e9ffbc98ee56a23ee1e76a115b34f">v8::internal::wasm::WasmEngine::SyncValidate</a></div><div class="ttdeci">bool SyncValidate(Isolate *isolate, WasmEnabledFeatures enabled, CompileTimeImports compile_imports, base::Vector&lt; const uint8_t &gt; bytes)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-engine_8cc_source.html#l00585">wasm-engine.cc:585</a></div></div>
<div class="ttc" id="anamespacev8_html_ad95e01adb84e22399970bc9bffa404fe"><div class="ttname"><a href="namespacev8.html#ad95e01adb84e22399970bc9bffa404fe">v8::False</a></div><div class="ttdeci">Local&lt; Boolean &gt; False(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l01079">v8-primitive.h:1079</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="wasm-js_8cc_source.html#l00577">v8::anonymous_namespace{wasm-js.cc}::anonymous_namespace{wasm-js.cc}::ArgumentToCompileOptions()</a>, <a class="el" href="vector_8h_source.html#l00100">v8::base::Vector&lt; T &gt;::data()</a>, <a class="el" href="vector_8h_source.html#l00073">v8::base::Vector&lt; T &gt;::empty()</a>, <a class="el" href="v8-primitive_8h_source.html#l01079">v8::False()</a>, <a class="el" href="wasm-js_8cc_source.html#l00198">GetFirstArgumentAsBytes()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00650">v8::FunctionCallbackInfo&lt; T &gt;::GetReturnValue()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02125">v8::internal::wasm::GetWasmEngine()</a>, <a class="el" href="wasm-engine_8cc_source.html#l02177">v8::internal::wasm::max_module_size()</a>, <a class="el" href="vector_8h_source.html#l00294">v8::base::OwnedVector&lt; T &gt;::NewForOverwrite()</a>, <a class="el" href="atomicops_8h_source.html#l00363">v8::base::Relaxed_Memcpy()</a>, <a class="el" href="v8-function-callback_8h_source.html#l00337">v8::ReturnValue&lt; T &gt;::Set()</a>, <a class="el" href="vector_8h_source.html#l00070">v8::base::Vector&lt; T &gt;::size()</a>, and <a class="el" href="wasm-engine_8cc_source.html#l00585">v8::internal::wasm::WasmEngine::SyncValidate()</a>.</p>
<div id="dynsection-69" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-69-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-69-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-69-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa00e99e86bb5e0bcdde5308c3b924c45_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a12bb9a1d5a119f47fd37d71d197381a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12bb9a1d5a119f47fd37d71d197381a9">&#9670;&nbsp;</a></span>kName_WasmExceptionPackage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmExceptionPackage = &quot;WebAssembly.Exception&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02558">2558</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
<a id="af398e8b74dcf07c921819d41525529d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af398e8b74dcf07c921819d41525529d3">&#9670;&nbsp;</a></span>kName_WasmGlobalObject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmGlobalObject = &quot;WebAssembly.Global&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02551">2551</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
<a id="acbe81b55a2dd9d5e4d981542f50b4f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe81b55a2dd9d5e4d981542f50b4f98">&#9670;&nbsp;</a></span>kName_WasmInstanceObject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmInstanceObject = &quot;WebAssembly.Instance&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02555">2555</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
<a id="a95401e7d95c8bb9ab309cb3875c9a403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95401e7d95c8bb9ab309cb3875c9a403">&#9670;&nbsp;</a></span>kName_WasmMemoryMapDescriptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmMemoryMapDescriptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    <span class="stringliteral">&quot;WebAssembly.MemoryMapDescriptor&quot;</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02553">2553</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
<a id="a8cd6b449f31123f7fe548313c558da37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd6b449f31123f7fe548313c558da37">&#9670;&nbsp;</a></span>kName_WasmMemoryObject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmMemoryObject = &quot;WebAssembly.Memory&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02552">2552</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
<a id="a2fe24af2c267a2334b39850944e39549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fe24af2c267a2334b39850944e39549">&#9670;&nbsp;</a></span>kName_WasmTableObject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmTableObject = &quot;WebAssembly.Table&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02556">2556</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
<a id="a1dac09354501498a47e41e530f2b77f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dac09354501498a47e41e530f2b77f3">&#9670;&nbsp;</a></span>kName_WasmTagObject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char* v8::anonymous_namespace{wasm-js.cc}::kName_WasmTagObject = &quot;WebAssembly.Tag&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="wasm-js_8cc_source.html#l02557">2557</a> of file <a class="el" href="wasm-js_8cc_source.html">wasm-js.cc</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03.html">anonymous_namespace{wasm-js.cc}</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:02:07 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
