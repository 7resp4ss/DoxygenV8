<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/sandbox/testing.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sandbox_2testing_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">testing.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sandbox_2testing_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2022 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2sandbox_2testing_8h.html">src/sandbox/testing.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="api-inl_8h.html">src/api/api-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="api-natives_8h.html">src/api/api-natives.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate-inl_8h.html">src/execution/isolate-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="factory_8h.html">src/heap/factory.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="backing-store_8h.html">src/objects/backing-store.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js-objects_8h.html">src/objects/js-objects.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="templates_8h.html">src/objects/templates.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sandbox_8h.html">src/sandbox/sandbox.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;sanitizer/asan_interface.h&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;SandboxTesting::Mode SandboxTesting::mode_ = SandboxTesting::Mode::kDisabled;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_MEMORY_CORRUPTION_API</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// Sandbox.base</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keywordtype">void</span> SandboxGetBase(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordtype">double</span> sandbox_base = Sandbox::current()-&gt;base();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, sandbox_base));</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// Sandbox.byteLength</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keywordtype">void</span> SandboxGetByteLength(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordtype">double</span> sandbox_size = Sandbox::current()-&gt;size();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a>(isolate, sandbox_size));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// new Sandbox.MemoryView(info) -&gt; Sandbox.MemoryView</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keywordtype">void</span> SandboxMemoryView(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  Local&lt;v8::Context&gt; context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (!info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">IsConstructCall</a>()) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Sandbox.MemoryView must be invoked with &#39;new&#39;&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  Local&lt;v8::Integer&gt; arg1, arg2;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;ToInteger(context).ToLocal(&amp;arg1) ||</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      !info[1]-&gt;ToInteger(context).ToLocal(&amp;arg2)) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Expects two number arguments (start offset and size)&quot;</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  Sandbox* sandbox = Sandbox::current();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(sandbox-&gt;size(), <a class="code" href="namespacev8_1_1internal.html#a5c8372373f65497f1fb4414d5c0eaa36">kMaxSafeIntegerUint64</a>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  uint64_t offset = arg1-&gt;Value();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  uint64_t <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = arg2-&gt;Value();</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (offset &gt; sandbox-&gt;size() || <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &gt; sandbox-&gt;size() ||</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      (offset + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) &gt; sandbox-&gt;size()) {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="stringliteral">&quot;The MemoryView must be entirely contained within the sandbox&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  Factory* factory = <span class="keyword">reinterpret_cast&lt;</span>Isolate*<span class="keyword">&gt;</span>(isolate)-&gt;factory();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  std::unique_ptr&lt;BackingStore&gt; memory = <a class="code" href="classv8_1_1internal_1_1BackingStore.html#a2067951c5d4377b698d7799bc63af02a">BackingStore::WrapAllocation</a>(</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(sandbox-&gt;base() + offset), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="classv8_1_1BackingStore.html#ae19ce3cfb723f9559f02b54e8a5ab6a0">v8::BackingStore::EmptyDeleter</a>, <span class="keyword">nullptr</span>, <a class="code" href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">SharedFlag::kNotShared</a>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span> (!memory) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Out of memory: MemoryView backing store&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  Handle&lt;JSArrayBuffer&gt; buffer = factory-&gt;NewJSArrayBuffer(std::move(memory));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(Utils::ToLocal(buffer));</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// The methods below either take a HeapObject or the address of a HeapObject as</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">// argument. These helper functions can be used to extract the argument object</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">// in both cases.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">using</span> ArgumentObjectExtractorFunction = std::function&lt;<a class="code" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>(</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp;, <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a>* out)&gt;;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> GetArgumentObjectPassedAsReference(</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a>* out) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 0) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;First argument must be provided&quot;</span>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  Handle&lt;Object&gt; arg = <a class="code" href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">Utils::OpenHandle</a>(*info[0]);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(*arg)) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;First argument must be a HeapObject&quot;</span>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  *out = Cast&lt;HeapObject&gt;(*arg);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> GetArgumentObjectPassedAsAddress(</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info, <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a>* out) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  Sandbox* sandbox = Sandbox::current();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  Local&lt;v8::Context&gt; context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 0) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;First argument must be provided&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  Local&lt;v8::Uint32&gt; arg1;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-regexp_8cc_03.html#adbe950e8c4db7a8df88d11644ec07168">ToUint32</a>(context).ToLocal(&amp;arg1)) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;First argument must be the address of a HeapObject&quot;</span>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  uint32_t address = arg1-&gt;Value();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Allow tagged addresses by removing the kHeapObjectTag and</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// kWeakHeapObjectTag. This allows clients to just read tagged pointers from</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// the heap and use them for these APIs.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  address &amp;= ~<a class="code" href="namespacev8_1_1internal.html#a01237bc3b57304314eb2e0d0b7e84ff6">kHeapObjectTagMask</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  *out = <a class="code" href="classv8_1_1internal_1_1HeapObject.html#aa18961d55321b920bd98b2fbcf729775">HeapObject::FromAddress</a>(sandbox-&gt;base() + address);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// Sandbox.getAddressOf(Object) -&gt; Number</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keywordtype">void</span> SandboxGetAddressOf(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">if</span> (!GetArgumentObjectPassedAsReference(info, &amp;obj)) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// HeapObjects must be allocated inside the pointer compression cage so their</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// address relative to the start of the sandbox can be obtained simply by</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">// taking the lowest 32 bits of the absolute address.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  uint32_t address = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(obj-&gt;address());</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="classv8_1_1Integer.html#af5543ee5baef2567151d698b06d2087d">v8::Integer::NewFromUnsigned</a>(isolate, address));</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// Sandbox.getObjectAt(Number) -&gt; Object</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keywordtype">void</span> SandboxGetObjectAt(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">if</span> (!GetArgumentObjectPassedAsAddress(info, &amp;obj)) {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  Isolate* i_isolate = <span class="keyword">reinterpret_cast&lt;</span>Isolate*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  Handle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(obj, i_isolate);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(ToApiHandle&lt;v8::Value&gt;(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;}</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">// Sandbox.isValidObjectAt(Address) -&gt; Bool</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keywordtype">void</span> SandboxIsValidObjectAt(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  Sandbox* sandbox = Sandbox::current();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  Heap* <a class="code" href="namespaceheap.html">heap</a> = <span class="keyword">reinterpret_cast&lt;</span>Isolate*<span class="keyword">&gt;</span>(isolate)-&gt;<a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keyword">auto</span> IsLocatedInMappedMemory = [&amp;](<a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> address) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceheap.html">heap</a>-&gt;memory_allocator()-&gt;LookupChunkContainingAddress(address) !=</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceheap.html">heap</a>-&gt;read_only_space()-&gt;ContainsSlow(address);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  };</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (!GetArgumentObjectPassedAsAddress(info, &amp;obj)) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// Simple heuristic: follow the Map chain three times until we find a MetaMap</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// (where the map pointer points to itself), or give up.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> current = obj.address();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; 3; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">if</span> (!IsLocatedInMappedMemory(current)) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    uint32_t map_word = *<span class="keyword">reinterpret_cast&lt;</span>uint32_t*<span class="keyword">&gt;</span>(current);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> ((map_word &amp; <a class="code" href="namespacev8_1_1internal.html#aa2507eb9d594b9767347031fb02d0b20">kHeapObjectTag</a>) != <a class="code" href="namespacev8_1_1internal.html#aa2507eb9d594b9767347031fb02d0b20">kHeapObjectTag</a>) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> map_address = sandbox-&gt;base() + map_word - <a class="code" href="namespacev8_1_1internal.html#aa2507eb9d594b9767347031fb02d0b20">kHeapObjectTag</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (map_address == current) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    current = map_address;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SandboxIsWritableImpl(</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  MemoryChunkMetadata* chunk = <a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a34b0d9ac55f0ded87015ec95d6a43d46">MemoryChunkMetadata::FromHeapObject</a>(obj);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">bool</span> is_writable = chunk-&gt;IsWritable();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(is_writable);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">// Sandbox.isWritable(Object) -&gt; Bool</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keywordtype">void</span> SandboxIsWritable(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  SandboxIsWritableImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">// Sandbox.isWritableObjectAt(Number) -&gt; Bool</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keywordtype">void</span> SandboxIsWritableObjectAt(</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  SandboxIsWritableImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SandboxGetSizeOfImpl(</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = obj-&gt;Size();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">// Sandbox.getSizeOf(Object) -&gt; Number</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">void</span> SandboxGetSizeOf(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  SandboxGetSizeOfImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;}</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">// Sandbox.getSizeOfObjectAt(Number) -&gt; Number</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="keywordtype">void</span> SandboxGetSizeOfObjectAt(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  SandboxGetSizeOfImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SandboxGetInstanceTypeOfImpl(</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = obj-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  std::stringstream out;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  out &lt;&lt; <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  MaybeLocal&lt;v8::String&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, out.str().c_str());</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.ToLocalChecked());</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">// Sandbox.getInstanceTypeOf(Object) -&gt; String</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keywordtype">void</span> SandboxGetInstanceTypeOf(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  SandboxGetInstanceTypeOfImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">// Sandbox.getInstanceTypeOfObjectAt(Number) -&gt; String</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keywordtype">void</span> SandboxGetInstanceTypeOfObjectAt(</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  SandboxGetInstanceTypeOfImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> SandboxGetInstanceTypeIdOfImpl(</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    ArgumentObjectExtractorFunction getArgumentObject) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">if</span> (!getArgumentObject(info, &amp;obj)) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = obj-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  static_assert(std::is_same_v&lt;std::underlying_type_t&lt;InstanceType&gt;, <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a>&gt;);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> &gt; <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580">LAST_TYPE</a>) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// This can happen with corrupted objects. Canonicalize to a special</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// &quot;unknown&quot; instance type to indicate that this is an unknown type.</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> kUnknownInstanceType = std::numeric_limits&lt;uint16_t&gt;::max();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a><span class="keyword">&gt;</span>(kUnknownInstanceType);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(<a class="code" href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">type</a>);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">// Sandbox.getInstanceTypeIdOf(Object) -&gt; Number</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="keywordtype">void</span> SandboxGetInstanceTypeIdOf(</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  SandboxGetInstanceTypeIdOfImpl(info, &amp;GetArgumentObjectPassedAsReference);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;}</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">// Sandbox.getInstanceTypeIdOfObjectAt(Number) -&gt; Number</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keywordtype">void</span> SandboxGetInstanceTypeIdOfObjectAt(</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  SandboxGetInstanceTypeIdOfImpl(info, &amp;GetArgumentObjectPassedAsAddress);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">// Sandbox.getInstanceTypeIdFor(String) -&gt; Number</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keywordtype">void</span> SandboxGetInstanceTypeIdFor(</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> type_name(isolate, info[0]);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> (!*type_name) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;First argument must be a string&quot;</span>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keyword">auto</span>&amp; all_types = SandboxTesting::GetInstanceTypeMap();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span> (all_types.find(*type_name) == all_types.end()) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="stringliteral">&quot;Unknown type name. If needed, add it in &quot;</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="stringliteral">&quot;SandboxTesting::GetInstanceTypeMap&quot;</span>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> type_id = all_types[*type_name];</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(type_id);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">// Obtain the offset of a field in an object.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">// This can be used to obtain the offsets of internal object fields in order to</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">// avoid hardcoding offsets into testcases. It basically makes the various</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">// Foo::kBarOffset constants accessible from JavaScript. The main benefit of</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">// that is that testcases continue to work if the field offset changes.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">// Additionally, if a field is removed, testcases that use it will fail and can</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">// then be deleted if they are no longer useful.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// TODO(saelo): instead of this, consider adding an API like</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// `Sandbox.getTypeDescriptor(Number|String) -&gt; Object` which, given an</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">// instance type id or name, returns an object containing the offset constants</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">// as properties as well as potentially other information such as the types of</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">// the object&#39;s fields.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">// Sandbox.getFieldOffset(Number, String) -&gt; Number</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keywordtype">void</span> SandboxGetFieldOffset(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  Local&lt;v8::Context&gt; context = isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>();</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (!info[0]-&gt;IsInt32()) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Second argument must be an integer&quot;</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordtype">int</span> raw_type = info[0]-&gt;Int32Value(context).FromMaybe(-1);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (raw_type &lt; FIRST_TYPE || raw_type &gt; <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580">LAST_TYPE</a>) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Invalid instance type&quot;</span>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <span class="keyword">static_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a><span class="keyword">&gt;</span>(raw_type);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a> field_name(isolate, info[1]);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">if</span> (!*field_name) {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Second argument must be a string&quot;</span>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keyword">auto</span>&amp; all_fields = SandboxTesting::GetFieldOffsetMap();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">if</span> (all_fields.find(instance_type) == all_fields.end()) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="stringliteral">&quot;Unknown object type. If needed, add it in &quot;</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="stringliteral">&quot;SandboxTesting::GetFieldOffsetMap&quot;</span>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160; </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keyword">auto</span>&amp; obj_fields = all_fields[instance_type];</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (obj_fields.find(*field_name) == obj_fields.end()) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="stringliteral">&quot;Unknown field. If needed, add it in &quot;</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="stringliteral">&quot;SandboxTesting::GetFieldOffsetMap&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  }</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordtype">int</span> offset = obj_fields[*field_name];</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(offset);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;Handle&lt;FunctionTemplateInfo&gt; <a class="code" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">NewFunctionTemplate</a>(</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    Isolate* isolate, <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func,</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecc">ConstructorBehavior</a> constructor_behavior) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="comment">// Use the API functions here as they are more convenient to use.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* api_isolate = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>*<span class="keyword">&gt;</span>(isolate);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  Local&lt;FunctionTemplate&gt; function_template =</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(api_isolate, func, {}, {}, 0, constructor_behavior,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                            <a class="code" href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">SideEffectType::kHasSideEffect</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">v8::Utils::OpenHandle</a>(*function_template);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;Handle&lt;JSFunction&gt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(Isolate* isolate, <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                              Handle&lt;String&gt; <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a>) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecc">ConstructorBehavior</a> constructor_behavior = <a class="code" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                                 ? <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94">ConstructorBehavior::kAllow</a></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                                 : <a class="code" href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d">ConstructorBehavior::kThrow</a>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  Handle&lt;FunctionTemplateInfo&gt; function_template =</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">NewFunctionTemplate</a>(isolate, func, constructor_behavior);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1ApiNatives.html#a8c3652e604de77b7475d0ca84dc83975">ApiNatives::InstantiateFunction</a>(isolate, function_template, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      .ToHandleChecked();</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;}</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5e61d80771d71e63951123de7129ec3e">InstallFunc</a>(Isolate* isolate, Handle&lt;JSObject&gt; holder,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                 <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, <span class="keywordtype">int</span> num_parameters,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                 <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a>) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  Handle&lt;String&gt; function_name = factory-&gt;NewStringFromAsciiChecked(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  Handle&lt;JSFunction&gt; <span class="keyword">function</span> =</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, func, function_name, <a class="code" href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">is_constructor</a>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">function</span>-&gt;shared()-&gt;set_length(num_parameters);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, holder, function_name, <span class="keyword">function</span>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">NONE</a>);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(Isolate* isolate, Handle&lt;JSObject&gt; <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                   <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  Factory* factory = isolate-&gt;factory();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  Handle&lt;String&gt; property_name = factory-&gt;NewStringFromAsciiChecked(<a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  Handle&lt;JSFunction&gt; getter = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">CreateFunc</a>(isolate, func, property_name, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  Handle&lt;Object&gt; <a class="code" href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">setter</a> = factory-&gt;null_value();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#aaee0e0914a6511f99267a918d9e9da90">JSObject::DefineOwnAccessorIgnoreAttributes</a>(<span class="keywordtype">object</span>, property_name, getter,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                              <a class="code" href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">setter</a>, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">FROZEN</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(Isolate* isolate, Handle&lt;JSObject&gt; holder,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                     <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>,</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                     <span class="keywordtype">int</span> num_parameters) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5e61d80771d71e63951123de7129ec3e">InstallFunc</a>(isolate, holder, func, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, num_parameters, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="keywordtype">void</span> InstallConstructor(Isolate* isolate, Handle&lt;JSObject&gt; holder,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                        <a class="code" href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">FunctionCallback</a> func, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                        <span class="keywordtype">int</span> num_parameters) {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5e61d80771d71e63951123de7129ec3e">InstallFunc</a>(isolate, holder, func, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, num_parameters, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="keywordtype">void</span> SandboxTesting::InstallMemoryCorruptionApi(Isolate* isolate) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="preprocessor">#ifndef V8_ENABLE_MEMORY_CORRUPTION_API</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="preprocessor">#error &quot;This function should not be available in any shipping build &quot;</span>          \</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;       &quot;where it could potentially be abused to facilitate exploitation.&quot;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(Sandbox::current()-&gt;is_initialized());</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// Create the special Sandbox object that provides read/write access to the</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// sandbox address space alongside other miscellaneous functionality.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  Handle&lt;JSObject&gt; sandbox = isolate-&gt;factory()-&gt;NewJSObject(</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      isolate-&gt;object_function(), <a class="code" href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">AllocationType::kOld</a>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, sandbox, SandboxGetBase, <span class="stringliteral">&quot;base&quot;</span>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">InstallGetter</a>(isolate, sandbox, SandboxGetByteLength, <span class="stringliteral">&quot;byteLength&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  InstallConstructor(isolate, sandbox, SandboxMemoryView, <span class="stringliteral">&quot;MemoryView&quot;</span>, 2);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetAddressOf, <span class="stringliteral">&quot;getAddressOf&quot;</span>, 1);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetObjectAt, <span class="stringliteral">&quot;getObjectAt&quot;</span>, 1);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxIsValidObjectAt, <span class="stringliteral">&quot;isValidObjectAt&quot;</span>,</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                  1);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxIsWritable, <span class="stringliteral">&quot;isWritable&quot;</span>, 1);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxIsWritableObjectAt,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                  <span class="stringliteral">&quot;isWritableObjectAt&quot;</span>, 1);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetSizeOf, <span class="stringliteral">&quot;getSizeOf&quot;</span>, 1);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetSizeOfObjectAt,</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                  <span class="stringliteral">&quot;getSizeOfObjectAt&quot;</span>, 1);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetInstanceTypeOf,</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                  <span class="stringliteral">&quot;getInstanceTypeOf&quot;</span>, 1);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetInstanceTypeOfObjectAt,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                  <span class="stringliteral">&quot;getInstanceTypeOfObjectAt&quot;</span>, 1);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetInstanceTypeIdOf,</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                  <span class="stringliteral">&quot;getInstanceTypeIdOf&quot;</span>, 1);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetInstanceTypeIdOfObjectAt,</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                  <span class="stringliteral">&quot;getInstanceTypeIdOfObjectAt&quot;</span>, 1);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetInstanceTypeIdFor,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                  <span class="stringliteral">&quot;getInstanceTypeIdFor&quot;</span>, 1);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">InstallFunction</a>(isolate, sandbox, SandboxGetFieldOffset, <span class="stringliteral">&quot;getFieldOffset&quot;</span>, 2);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// Install the Sandbox object as property on the global object.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  Handle&lt;JSGlobalObject&gt; global = isolate-&gt;global_object();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  Handle&lt;String&gt; <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a> =</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      isolate-&gt;factory()-&gt;NewStringFromAsciiChecked(<span class="stringliteral">&quot;Sandbox&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">JSObject::AddProperty</a>(isolate, global, <a class="code" href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">name</a>, sandbox, <a class="code" href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">DONT_ENUM</a>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_MEMORY_CORRUPTION_API</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base_1_1debug_1_1anonymous__namespace_02stack__trace__posix_8cc_03.html#acda90fb4d15945d5cf5d7a5aed63d83a">PrintToStderr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* output) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  ssize_t return_val = write(STDERR_FILENO, output, strlen(output));</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(return_val);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;[[noreturn]] <span class="keywordtype">void</span> FilterCrash(<span class="keyword">const</span> <span class="keywordtype">char</span>* reason) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1debug_1_1anonymous__namespace_02stack__trace__posix_8cc_03.html#acda90fb4d15945d5cf5d7a5aed63d83a">PrintToStderr</a>(reason);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// In sandbox fuzzing mode, we want to exit with a non-zero status to</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// indicate to the fuzzer that the sample &quot;failed&quot; (ran into an unrecoverable</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// error) and should probably not be mutated further. Otherwise, we exit with</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// zero, which is for example needed for regression tests to make them &quot;pass&quot;</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// when no sandbox violation is detected.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a> =</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">SandboxTesting::mode</a>() == SandboxTesting::Mode::kForFuzzing ? -1 : 0;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  _exit(<a class="code" href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">status</a>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">// Signal handler checking whether a memory access violation happened inside or</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">// outside of the sandbox address space. If inside, the signal is ignored and</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">// the process terminated normally, in the latter case the original signal</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">// handler is restored and the signal delivered again.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="keyword">struct </span>sigaction g_old_sigabrt_handler, g_old_sigtrap_handler,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    g_old_sigbus_handler, g_old_sigsegv_handler;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="keywordtype">void</span> UninstallCrashFilter() {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// It&#39;s important that we always restore all signal handlers. For example, if</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// we forward a SIGSEGV to Asan&#39;s signal handler, that signal handler may</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// terminate the process with SIGABRT, which we must then *not* ignore.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Should any of the sigaction calls below ever fail, the default signal</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// handler will be invoked (due to SA_RESETHAND) and will terminate the</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="comment">// process, so there&#39;s no need to attempt to handle that condition.</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  sigaction(SIGABRT, &amp;g_old_sigabrt_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  sigaction(SIGTRAP, &amp;g_old_sigtrap_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  sigaction(SIGBUS, &amp;g_old_sigbus_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  sigaction(SIGSEGV, &amp;g_old_sigsegv_handler, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// We should also uninstall the sanitizer death callback as our crash filter</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="comment">// may hand a crash over to ASan, which should then not enter our crash</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// filtering logic a second time.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  __sanitizer_set_death_callback(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;}</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="keywordtype">void</span> CrashFilter(<span class="keywordtype">int</span> signal, siginfo_t* info, <span class="keywordtype">void</span>* void_context) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="comment">// NOTE: This code MUST be async-signal safe.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// NO malloc or stdio is allowed here.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">if</span> (signal == SIGABRT) {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// SIGABRT typically indicates a failed CHECK or similar, which is harmless.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    FilterCrash(<span class="stringliteral">&quot;Caught harmless signal (SIGABRT). Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (signal == SIGTRAP) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// Similarly, SIGTRAP may for example indicate UNREACHABLE code.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    FilterCrash(<span class="stringliteral">&quot;Caught harmless signal (SIGTRAP). Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160; </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> faultaddr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a><span class="keyword">&gt;</span>(info-&gt;si_addr);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (Sandbox::current()-&gt;Contains(faultaddr)) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="stringliteral">&quot;Caught harmless memory access violation (inside sandbox address &quot;</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="stringliteral">&quot;space). Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (info-&gt;si_code == SI_KERNEL &amp;&amp; faultaddr == 0) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="comment">// This combination appears to indicate a crash at a non-canonical address</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">// on Linux. Crashes at non-canonical addresses are for example caused by</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// failed external pointer type checks. Memory accesses that _always_ land</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="comment">// at a non-canonical address are not exploitable and so these are filtered</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="comment">// out here. However, testcases need to be written with this in mind and</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// must cause crashes at valid addresses.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="stringliteral">&quot;Caught harmless memory access violation (non-canonical address). &quot;</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="stringliteral">&quot;Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">if</span> (faultaddr &gt;= 0x8000&#39;0000&#39;0000&#39;0000ULL) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// On Linux, it appears that the kernel will still report valid (i.e.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// canonical) kernel space addresses via the si_addr field, so we need to</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// handle these separately. We&#39;ve already filtered out non-canonical</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="comment">// addresses above, so here we can just test if the most-significant bit of</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="comment">// the address is set, and if so assume that it&#39;s a kernel address.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="stringliteral">&quot;Caught harmless memory access violation (kernel space address). &quot;</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="stringliteral">&quot;Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">if</span> (faultaddr &lt; 0x1000) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">// Nullptr dereferences are harmless as nothing can be mapped there. We use</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// the typical page size (which is also the default value of mmap_min_addr</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// on Linux) to determine what counts as a nullptr dereference here.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="stringliteral">&quot;Caught harmless memory access violation (nullptr dereference). &quot;</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="stringliteral">&quot;Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160; </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordflow">if</span> (faultaddr &lt; 4ULL * <a class="code" href="namespacev8_1_1internal.html#a24ba7f85e96394b19164ecd7df3988c5">GB</a>) {</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// Currently we also ignore access violations in the first 4GB of the</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// virtual address space. See crbug.com/1470641 for more details.</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="stringliteral">&quot;Caught harmless memory access violation (first 4GB of virtual address &quot;</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="stringliteral">&quot;space). Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// Stack overflow detection.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="comment">// On Linux, we generally have two types of stacks:</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">//  1. The main thread&#39;s stack, allocated by the kernel, and</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">//  2. The stacks of any other thread, allocated by the application</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">// These stacks differ in some ways, and that affects the way stack overflows</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="comment">// (caused e.g. by unbounded recursion) materialize: for (1) the kernel will</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// use a &quot;gap&quot; region below the stack segment, i.e. an unmapped area into</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="comment">// which the kernel itself will not place any mappings and into which the</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="comment">// stack cannot grow. A stack overflow therefore crashes with a SEGV_MAPERR.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// On the other hand, for (2) the application is responsible for allocating</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// the stack and therefore also for allocating any guard regions around it.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="comment">// As these guard regions must be regular mappings (with PROT_NONE), a stack</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="comment">// overflow will crash with a SEGV_ACCERR.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// It&#39;s relatively hard to reliably and accurately detect stack overflow, so</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// here we use a simple heuristic: did we crash on any kind of access</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="comment">// violation on an address just below the current thread&#39;s stack region. This</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// may cause both false positives (e.g. an access not through the stack</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// pointer register that happens to also land just below the stack) and false</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// negatives (e.g. a stack overflow on the main thread that &quot;jumps over&quot; the</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="comment">// first page of the gap region), but is probably good enough in practice.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  pthread_attr_t attr;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordtype">int</span> pthread_error = pthread_getattr_np(pthread_self(), &amp;attr);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (!pthread_error) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="classuintptr__t.html">uintptr_t</a> stack_base;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordtype">size_t</span> stack_size;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    pthread_error = pthread_attr_getstack(</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        &amp;attr, <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>**<span class="keyword">&gt;</span>(&amp;stack_base), &amp;stack_size);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">// The main thread&#39;s stack on Linux typically has a fairly large gap region</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">// (1MB by default), but other thread&#39;s stacks usually have smaller guard</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// regions so here we&#39;re conservative and assume that the guard region</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// consists only of a single page.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> kMinStackGuardRegionSize = sysconf(_SC_PAGESIZE);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="classuintptr__t.html">uintptr_t</a> stack_guard_region_start = stack_base - kMinStackGuardRegionSize;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <a class="code" href="classuintptr__t.html">uintptr_t</a> stack_guard_region_end = stack_base;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (!pthread_error &amp;&amp; stack_guard_region_start &lt;= faultaddr &amp;&amp;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        faultaddr &lt; stack_guard_region_end) {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      FilterCrash(<span class="stringliteral">&quot;Caught harmless stack overflow. Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span> (info-&gt;si_code == SEGV_ACCERR) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">// This indicates an access to a valid mapping but with insufficient</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// permissions, for example accessing a region mapped with PROT_NONE, or</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">// writing to a read-only mapping.</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// The sandbox relies on such accesses crashing in a safe way in some</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// cases. For example, the accesses into the various pointer tables are not</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="comment">// bounds checked, but instead it is guaranteed that an out-of-bounds</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">// access will hit a PROT_NONE mapping.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">// Memory accesses that _always_ cause such a permission violation are not</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">// exploitable and the crashes are therefore filtered out here. However,</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">// testcases need to be written with this behavior in mind and should</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="comment">// typically try to access non-existing memory to demonstrate the ability</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// to escape from the sandbox.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="stringliteral">&quot;Caught harmless memory access violation (memory permission &quot;</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="stringliteral">&quot;violation). Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// Otherwise it&#39;s a sandbox violation, so restore the original signal</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// handlers, then return from this handler. The faulting instruction will be</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">// re-executed and will again trigger the access violation, but now the</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// signal will be handled by the original signal handler.</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  UninstallCrashFilter();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1debug_1_1anonymous__namespace_02stack__trace__posix_8cc_03.html#acda90fb4d15945d5cf5d7a5aed63d83a">PrintToStderr</a>(<span class="stringliteral">&quot;\n## V8 sandbox violation detected!\n\n&quot;</span>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;}</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">#ifdef V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="keywordtype">void</span> AsanFaultHandler() {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> faultaddr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a><span class="keyword">&gt;</span>(__asan_get_report_address());</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keywordflow">if</span> (faultaddr == <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="stringliteral">&quot;Caught ASan fault without a fault address. Ignoring it as we cannot &quot;</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="stringliteral">&quot;check if it is a sandbox violation. Exiting process...\n&quot;</span>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">if</span> (Sandbox::current()-&gt;<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(faultaddr)) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    FilterCrash(</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="stringliteral">&quot;Caught harmless ASan fault (inside sandbox address space). Exiting &quot;</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <span class="stringliteral">&quot;process...\n&quot;</span>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160; </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// Asan may report the failure via abort(), so we should also restore the</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// original signal handlers here.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  UninstallCrashFilter();</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1debug_1_1anonymous__namespace_02stack__trace__posix_8cc_03.html#acda90fb4d15945d5cf5d7a5aed63d83a">PrintToStderr</a>(<span class="stringliteral">&quot;\n## V8 sandbox violation detected!\n\n&quot;</span>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_USE_ADDRESS_SANITIZER</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="keywordtype">void</span> InstallCrashFilter() {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="comment">// Register an alternate stack for signal delivery so that signal handlers</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="comment">// can run properly even if for example the stack pointer has been corrupted</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="comment">// or the stack has overflowed.</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="comment">// Note that the alternate stack is currently only registered for the main</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// thread. Stack pointer corruption or stack overflows on background threads</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="comment">// may therefore still cause the signal handler to crash.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#ae41652a444a61e011b305b550cc1bb4c">base::OS::EnsureAlternativeSignalStackIsAvailableForCurrentThread</a>();</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keyword">struct </span>sigaction action;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  memset(&amp;action, 0, <span class="keyword">sizeof</span>(action));</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  action.sa_flags = SA_SIGINFO | SA_ONSTACK;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  action.sa_sigaction = &amp;CrashFilter;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  sigemptyset(&amp;action.sa_mask);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordtype">bool</span> success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  success &amp;= (sigaction(SIGABRT, &amp;action, &amp;g_old_sigabrt_handler) == 0);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  success &amp;= (sigaction(SIGTRAP, &amp;action, &amp;g_old_sigtrap_handler) == 0);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  success &amp;= (sigaction(SIGBUS, &amp;action, &amp;g_old_sigbus_handler) == 0);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  success &amp;= (sigaction(SIGSEGV, &amp;action, &amp;g_old_sigsegv_handler) == 0);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(success);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="preprocessor">#if defined(V8_USE_ADDRESS_SANITIZER)</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  __sanitizer_set_death_callback(&amp;AsanFaultHandler);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#elif defined(V8_USE_MEMORY_SANITIZER) || \</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">    defined(V8_USE_UNDEFINED_BEHAVIOR_SANITIZER)</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">// TODO(saelo): can we also test for the other sanitizers here somehow?</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;The sandbox crash filter currently only supports AddressSanitizer&quot;</span>);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="keywordtype">void</span> SandboxTesting::Enable(Mode <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(mode_, Mode::kDisabled);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>, Mode::kDisabled);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(Sandbox::current()-&gt;is_initialized());</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160; </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  mode_ = <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160; </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  fprintf(stderr,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          <span class="stringliteral">&quot;Sandbox testing mode is enabled. Only sandbox violations will be &quot;</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          <span class="stringliteral">&quot;reported, all other crashes will be ignored.\n&quot;</span>);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160; </div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="preprocessor">#ifdef V8_OS_LINUX</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  InstallCrashFilter();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a>(<span class="stringliteral">&quot;The sandbox crash filter is currently only available on Linux&quot;</span>);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_OS_LINUX</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;SandboxTesting::InstanceTypeMap&amp; SandboxTesting::GetInstanceTypeMap() {</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// This mechanism is currently very crude and needs to be manually maintained</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// and extended (e.g. when adding a js test for the sandbox). In the future,</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// it would be nice to somehow automatically generate this map from the</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// object definitions and also support the class inheritance hierarchy.</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keyword">static</span> base::LeakyObject&lt;InstanceTypeMap&gt; g_known_instance_types;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keyword">auto</span>&amp; types = *g_known_instance_types.get();</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordtype">bool</span> is_initialized = types.size() != 0;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordflow">if</span> (!is_initialized) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    types[<span class="stringliteral">&quot;JS_OBJECT_TYPE&quot;</span>] = JS_OBJECT_TYPE;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    types[<span class="stringliteral">&quot;JS_FUNCTION_TYPE&quot;</span>] = JS_FUNCTION_TYPE;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    types[<span class="stringliteral">&quot;JS_ARRAY_TYPE&quot;</span>] = JS_ARRAY_TYPE;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    types[<span class="stringliteral">&quot;JS_ARRAY_BUFFER_TYPE&quot;</span>] = JS_ARRAY_BUFFER_TYPE;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    types[<span class="stringliteral">&quot;JS_TYPED_ARRAY_TYPE&quot;</span>] = JS_TYPED_ARRAY_TYPE;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    types[<span class="stringliteral">&quot;SEQ_ONE_BYTE_STRING_TYPE&quot;</span>] = <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4">SEQ_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    types[<span class="stringliteral">&quot;SEQ_TWO_BYTE_STRING_TYPE&quot;</span>] = <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">SEQ_TWO_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    types[<span class="stringliteral">&quot;INTERNALIZED_ONE_BYTE_STRING_TYPE&quot;</span>] =</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c">INTERNALIZED_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    types[<span class="stringliteral">&quot;SLICED_ONE_BYTE_STRING_TYPE&quot;</span>] = <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da">SLICED_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    types[<span class="stringliteral">&quot;CONS_ONE_BYTE_STRING_TYPE&quot;</span>] = <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    types[<span class="stringliteral">&quot;SHARED_FUNCTION_INFO_TYPE&quot;</span>] = SHARED_FUNCTION_INFO_TYPE;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    types[<span class="stringliteral">&quot;SCRIPT_TYPE&quot;</span>] = SCRIPT_TYPE;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    types[<span class="stringliteral">&quot;WASM_MODULE_OBJECT_TYPE&quot;</span>] = WASM_MODULE_OBJECT_TYPE;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    types[<span class="stringliteral">&quot;WASM_INSTANCE_OBJECT_TYPE&quot;</span>] = WASM_INSTANCE_OBJECT_TYPE;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    types[<span class="stringliteral">&quot;WASM_FUNC_REF_TYPE&quot;</span>] = WASM_FUNC_REF_TYPE;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    types[<span class="stringliteral">&quot;WASM_TABLE_OBJECT_TYPE&quot;</span>] = WASM_TABLE_OBJECT_TYPE;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">return</span> types;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;SandboxTesting::FieldOffsetMap&amp; SandboxTesting::GetFieldOffsetMap() {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="comment">// This mechanism is currently very crude and needs to be manually maintained</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="comment">// and extended (e.g. when adding a js test for the sandbox). In the future,</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="comment">// it would be nice to somehow automatically generate this map from the</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// object definitions and also support the class inheritance hierarchy.</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keyword">static</span> base::LeakyObject&lt;FieldOffsetMap&gt; g_known_fields;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keyword">auto</span>&amp; fields = *g_known_fields.get();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="keywordtype">bool</span> is_initialized = fields.size() != 0;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">if</span> (!is_initialized) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    fields[JS_FUNCTION_TYPE][<span class="stringliteral">&quot;dispatch_handle&quot;</span>] =</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        JSFunction::kDispatchHandleOffset;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    fields[JS_FUNCTION_TYPE][<span class="stringliteral">&quot;shared_function_info&quot;</span>] =</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        JSFunction::kSharedFunctionInfoOffset;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    fields[JS_ARRAY_TYPE][<span class="stringliteral">&quot;elements&quot;</span>] = JSArray::kElementsOffset;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    fields[JS_ARRAY_TYPE][<span class="stringliteral">&quot;length&quot;</span>] = JSArray::kLengthOffset;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;byte_length&quot;</span>] =</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        JSTypedArray::kRawByteLengthOffset;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;byte_offset&quot;</span>] =</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        JSTypedArray::kRawByteOffsetOffset;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;external_pointer&quot;</span>] =</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        JSTypedArray::kExternalPointerOffset;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    fields[JS_TYPED_ARRAY_TYPE][<span class="stringliteral">&quot;base_pointer&quot;</span>] =</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        JSTypedArray::kBasePointerOffset;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4">SEQ_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        offsetof(SeqOneByteString, length_);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">SEQ_TWO_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;hash&quot;</span>] =</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        offsetof(SeqTwoByteString, raw_hash_field_);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">SEQ_TWO_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        offsetof(SeqTwoByteString, length_);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c">INTERNALIZED_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        offsetof(InternalizedString, length_);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da">SLICED_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;parent&quot;</span>] =</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        offsetof(SlicedString, parent_);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;length&quot;</span>] = offsetof(ConsString, length_);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;first&quot;</span>] = offsetof(ConsString, first_);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    fields[<a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">CONS_ONE_BYTE_STRING_TYPE</a>][<span class="stringliteral">&quot;second&quot;</span>] = offsetof(ConsString, second_);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    fields[SHARED_FUNCTION_INFO_TYPE][<span class="stringliteral">&quot;trusted_function_data&quot;</span>] =</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        SharedFunctionInfo::kTrustedFunctionDataOffset;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    fields[SHARED_FUNCTION_INFO_TYPE][<span class="stringliteral">&quot;length&quot;</span>] =</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;        SharedFunctionInfo::kLengthOffset;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    fields[SHARED_FUNCTION_INFO_TYPE][<span class="stringliteral">&quot;formal_parameter_count&quot;</span>] =</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        SharedFunctionInfo::kFormalParameterCountOffset;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    fields[SCRIPT_TYPE][<span class="stringliteral">&quot;wasm_managed_native_module&quot;</span>] =</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a82526443105a760f3fed04430c94afbf">Script::kEvalFromPositionOffset</a>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    fields[WASM_MODULE_OBJECT_TYPE][<span class="stringliteral">&quot;managed_native_module&quot;</span>] =</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        WasmModuleObject::kManagedNativeModuleOffset;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    fields[WASM_MODULE_OBJECT_TYPE][<span class="stringliteral">&quot;script&quot;</span>] = WasmModuleObject::kScriptOffset;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    fields[WASM_INSTANCE_OBJECT_TYPE][<span class="stringliteral">&quot;module_object&quot;</span>] =</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        WasmInstanceObject::kModuleObjectOffset;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    fields[WASM_FUNC_REF_TYPE][<span class="stringliteral">&quot;trusted_internal&quot;</span>] =</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a9bfe8aa958e22267f3d24430e0ec5402">WasmFuncRef::kTrustedInternalOffset</a>;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;entries&quot;</span>] = WasmTableObject::kEntriesOffset;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;current_length&quot;</span>] =</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        WasmTableObject::kCurrentLengthOffset;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;maximum_length&quot;</span>] =</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        WasmTableObject::kMaximumLengthOffset;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    fields[WASM_TABLE_OBJECT_TYPE][<span class="stringliteral">&quot;raw_type&quot;</span>] =</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        WasmTableObject::kRawTypeOffset;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordflow">return</span> fields;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;}</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160; </div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aapi-inl_8h_html"><div class="ttname"><a href="api-inl_8h.html">api-inl.h</a></div></div>
<div class="ttc" id="aapi-natives_8h_html"><div class="ttname"><a href="api-natives_8h.html">api-natives.h</a></div></div>
<div class="ttc" id="abacking-store_8h_html"><div class="ttname"><a href="backing-store_8h.html">backing-store.h</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1BackingStore_html_ae19ce3cfb723f9559f02b54e8a5ab6a0"><div class="ttname"><a href="classv8_1_1BackingStore.html#ae19ce3cfb723f9559f02b54e8a5ab6a0">v8::BackingStore::EmptyDeleter</a></div><div class="ttdeci">static void EmptyDeleter(void *data, size_t length, void *deleter_data)</div><div class="ttdoc">If the memory block of a BackingStore is static or is managed manually, then this empty deleter along...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l04038">api.cc:4038</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a></div><div class="ttdoc">The argument information given to function call callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00118">v8-function-callback.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a2cb41afe1e098a46d27d901b4cc1e6f5"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">v8::FunctionCallbackInfo::GetReturnValue</a></div><div class="ttdeci">ReturnValue&lt; T &gt; GetReturnValue() const</div><div class="ttdoc">The ReturnValue for the call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00650">v8-function-callback.h:650</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a7eee713a6f95d5707ce788861754682f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">v8::FunctionCallbackInfo::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdoc">The current Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00645">v8-function-callback.h:645</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_ad2105b93e9b4d02f42b7338fa5950cbc"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#ad2105b93e9b4d02f42b7338fa5950cbc">v8::FunctionCallbackInfo::IsConstructCall</a></div><div class="ttdeci">bool IsConstructCall() const</div><div class="ttdoc">Indicates whether this is a regular call or a construct call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00655">v8-function-callback.h:655</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_af97dd3f1cb01ed039f9479152ad63a84"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">v8::FunctionCallbackInfo::Length</a></div><div class="ttdeci">int Length() const</div><div class="ttdoc">The number of available arguments.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00660">v8-function-callback.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionTemplate_html_a41c3051fd8bba064a0de7f2d16488d99"><div class="ttname"><a href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">v8::FunctionTemplate::New</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; New(Isolate *isolate, FunctionCallback callback=nullptr, Local&lt; Value &gt; data=Local&lt; Value &gt;(), Local&lt; Signature &gt; signature=Local&lt; Signature &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, const CFunction *c_function=nullptr, uint16_t instance_type=0, uint16_t allowed_receiver_instance_type_range_start=0, uint16_t allowed_receiver_instance_type_range_end=0)</div><div class="ttdoc">Creates a function template.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01114">api.cc:1114</a></div></div>
<div class="ttc" id="aclassv8_1_1Integer_html_af5543ee5baef2567151d698b06d2087d"><div class="ttname"><a href="classv8_1_1Integer.html#af5543ee5baef2567151d698b06d2087d">v8::Integer::NewFromUnsigned</a></div><div class="ttdeci">static Local&lt; Integer &gt; NewFromUnsigned(Isolate *isolate, uint32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09554">api.cc:9554</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a630166a6a770ece436ebcea8f27e8da8"><div class="ttname"><a href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">v8::Isolate::ThrowError</a></div><div class="ttdeci">Local&lt; Value &gt; ThrowError(const char(&amp;message)[N])</div><div class="ttdoc">Schedules a v8::Exception::Error with the given message.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l01122">v8-isolate.h:1122</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_af68803b1b9fb0bf76107f56a7a762fac"><div class="ttname"><a href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">v8::Isolate::GetCurrentContext</a></div><div class="ttdeci">Local&lt; Context &gt; GetCurrentContext()</div><div class="ttdoc">Returns the context of the currently running JavaScript, or the context on the top of the stack if no...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09728">api.cc:9728</a></div></div>
<div class="ttc" id="aclassv8_1_1Number_html_a4d8822be251214dab4cf0212475ede76"><div class="ttname"><a href="classv8_1_1Number.html#a4d8822be251214dab4cf0212475ede76">v8::Number::New</a></div><div class="ttdeci">static Local&lt; Number &gt; New(Isolate *isolate, double value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09531">api.cc:9531</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1Utf8Value_html"><div class="ttname"><a href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a></div><div class="ttdoc">Converts an object to a null-terminated UTF-8-encoded character array.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00647">v8-primitive.h:647</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a6aca1685df0fc16b7e3c4ff957dd8205"><div class="ttname"><a href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; NewFromUtf8(Isolate *isolate, const char *data, NewStringType type=NewStringType::kNormal, int length=-1)</div><div class="ttdoc">Allocates a new string from UTF-8 data.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07567">api.cc:7567</a></div></div>
<div class="ttc" id="aclassv8_1_1Utils_html_aea3e5682d909c5f546b8d0342e3cc1a4"><div class="ttname"><a href="classv8_1_1Utils.html#aea3e5682d909c5f546b8d0342e3cc1a4">v8::Utils::OpenHandle</a></div><div class="ttdeci">static i::Handle&lt; To &gt; OpenHandle(v8::Local&lt; From &gt; handle)</div><div class="ttdef"><b>Definition:</b> <a href="api_8h_source.html#l00294">api.h:294</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ae41652a444a61e011b305b550cc1bb4c"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ae41652a444a61e011b305b550cc1bb4c">v8::base::OS::EnsureAlternativeSignalStackIsAvailableForCurrentThread</a></div><div class="ttdeci">static void EnsureAlternativeSignalStackIsAvailableForCurrentThread()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00277">platform-posix.cc:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ApiNatives_html_a8c3652e604de77b7475d0ca84dc83975"><div class="ttname"><a href="classv8_1_1internal_1_1ApiNatives.html#a8c3652e604de77b7475d0ca84dc83975">v8::internal::ApiNatives::InstantiateFunction</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeHandle&lt; JSFunction &gt; InstantiateFunction(Isolate *isolate, DirectHandle&lt; NativeContext &gt; native_context, DirectHandle&lt; FunctionTemplateInfo &gt; data, MaybeDirectHandle&lt; Name &gt; maybe_name={})</div><div class="ttdef"><b>Definition:</b> <a href="api-natives_8cc_source.html#l00495">api-natives.cc:495</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1BackingStore_html_a2067951c5d4377b698d7799bc63af02a"><div class="ttname"><a href="classv8_1_1internal_1_1BackingStore.html#a2067951c5d4377b698d7799bc63af02a">v8::internal::BackingStore::WrapAllocation</a></div><div class="ttdeci">static std::unique_ptr&lt; BackingStore &gt; WrapAllocation(void *allocation_base, size_t allocation_length, v8::BackingStore::DeleterCallback deleter, void *deleter_data, SharedFlag shared)</div><div class="ttdef"><b>Definition:</b> <a href="backing-store_8cc_source.html#l00697">backing-store.cc:697</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_aa18961d55321b920bd98b2fbcf729775"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#aa18961d55321b920bd98b2fbcf729775">v8::internal::HeapObject::FromAddress</a></div><div class="ttdeci">static Tagged&lt; HeapObject &gt; FromAddress(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="heap-object_8h_source.html#l00226">heap-object.h:226</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_a16c9b19de5218c056da014960fba72ae"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#a16c9b19de5218c056da014960fba72ae">v8::internal::JSObject::AddProperty</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE void AddProperty(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; value, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l03634">js-objects.cc:3634</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1JSObject_html_aaee0e0914a6511f99267a918d9e9da90"><div class="ttname"><a href="classv8_1_1internal_1_1JSObject.html#aaee0e0914a6511f99267a918d9e9da90">v8::internal::JSObject::DefineOwnAccessorIgnoreAttributes</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE MaybeDirectHandle&lt; Object &gt; DefineOwnAccessorIgnoreAttributes(DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; Name &gt; name, DirectHandle&lt; Object &gt; getter, DirectHandle&lt; Object &gt; setter, PropertyAttributes attributes)</div><div class="ttdef"><b>Definition:</b> <a href="js-objects_8cc_source.html#l04760">js-objects.cc:4760</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a34b0d9ac55f0ded87015ec95d6a43d46"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a34b0d9ac55f0ded87015ec95d6a43d46">v8::internal::MemoryChunkMetadata::FromHeapObject</a></div><div class="ttdeci">static MemoryChunkMetadata * FromHeapObject(Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata-inl_8h_source.html#l00022">memory-chunk-metadata-inl.h:22</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="aexecution_2isolate-inl_8h_html"><div class="ttname"><a href="execution_2isolate-inl_8h.html">isolate-inl.h</a></div></div>
<div class="ttc" id="afactory_8h_html"><div class="ttname"><a href="factory_8h.html">factory.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a761e4e5929b1553283fd6a532822bb17"><div class="ttname"><a href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a></div><div class="ttdeci">other heap size max size of the shared heap(in Mbytes)</div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="ajs-objects_8h_html"><div class="ttname"><a href="js-objects_8h.html">js-objects.h</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1debug_1_1anonymous__namespace_02stack__trace__posix_8cc_03_html_acda90fb4d15945d5cf5d7a5aed63d83a"><div class="ttname"><a href="namespacev8_1_1base_1_1debug_1_1anonymous__namespace_02stack__trace__posix_8cc_03.html#acda90fb4d15945d5cf5d7a5aed63d83a">v8::base::debug::anonymous_namespace{stack_trace_posix.cc}::PrintToStderr</a></div><div class="ttdeci">void PrintToStderr(const char *output)</div><div class="ttdef"><b>Definition:</b> <a href="stack__trace__posix_8cc_source.html#l00194">stack_trace_posix.cc:194</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03_html_a9fb42a64da163a9662147dc0c166b668"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02bootstrapper_8cc_03.html#a9fb42a64da163a9662147dc0c166b668">v8::internal::anonymous_namespace{bootstrapper.cc}::InstallFunction</a></div><div class="ttdeci">V8_NOINLINE DirectHandle&lt; JSFunction &gt; InstallFunction(Isolate *isolate, DirectHandle&lt; JSObject &gt; target, DirectHandle&lt; String &gt; name, InstanceType type, int instance_size, int inobject_properties, DirectHandle&lt; UnionOf&lt; JSPrototype, Hole &gt;&gt; prototype, Builtin call, int len, AdaptArguments adapt)</div><div class="ttdef"><b>Definition:</b> <a href="bootstrapper_8cc_source.html#l00544">bootstrapper.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a996ff47de27ce5f127bdcc0bff48b7f9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">v8::internal::anonymous_namespace{read-only-promotion.cc}::Contains</a></div><div class="ttdeci">bool Contains(const HeapObjectSet &amp;s, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00032">read-only-promotion.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02runtime-regexp_8cc_03_html_adbe950e8c4db7a8df88d11644ec07168"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02runtime-regexp_8cc_03.html#adbe950e8c4db7a8df88d11644ec07168">v8::internal::anonymous_namespace{runtime-regexp.cc}::ToUint32</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT MaybeDirectHandle&lt; Object &gt; ToUint32(Isolate *isolate, DirectHandle&lt; Object &gt; object, uint32_t *out)</div><div class="ttdef"><b>Definition:</b> <a href="runtime-regexp_8cc_source.html#l01708">runtime-regexp.cc:1708</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a3003282aca3921966ea5b8a3efb77de7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a3003282aca3921966ea5b8a3efb77de7">v8::internal::anonymous_namespace{wasm-js.cc}::CreateFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; CreateFunc(Isolate *isolate, DirectHandle&lt; String &gt; name, FunctionCallback func, bool has_prototype, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, DirectHandle&lt; FunctionTemplateInfo &gt; parent={})</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03280">wasm-js.cc:3280</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_a5e61d80771d71e63951123de7129ec3e"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#a5e61d80771d71e63951123de7129ec3e">v8::internal::anonymous_namespace{wasm-js.cc}::InstallFunc</a></div><div class="ttdeci">DirectHandle&lt; JSFunction &gt; InstallFunc(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, DirectHandle&lt; String &gt; name, FunctionCallback func, int length, bool has_prototype=false, PropertyAttributes attributes=NONE, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03299">wasm-js.cc:3299</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_html_ad04016809f9a3de12934636e7f335ccd"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03.html#ad04016809f9a3de12934636e7f335ccd">v8::internal::anonymous_namespace{wasm-js.cc}::InstallGetter</a></div><div class="ttdeci">void InstallGetter(Isolate *isolate, DirectHandle&lt; JSObject &gt; object, const char *str, FunctionCallback func)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03336">wasm-js.cc:3336</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1tracing_html_a96000282e12b2483531025283d63154d"><div class="ttname"><a href="namespacev8_1_1internal_1_1tracing.html#a96000282e12b2483531025283d63154d">v8::internal::tracing::type</a></div><div class="ttdeci">unsigned char * type</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00457">trace-event.h:457</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a01237bc3b57304314eb2e0d0b7e84ff6"><div class="ttname"><a href="namespacev8_1_1internal.html#a01237bc3b57304314eb2e0d0b7e84ff6">v8::internal::kHeapObjectTagMask</a></div><div class="ttdeci">const intptr_t kHeapObjectTagMask</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00075">v8-internal.h:75</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0786c89c1004cb964dc034b138b263fd"><div class="ttname"><a href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">v8::internal::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00670">objects.h:670</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a24ba7f85e96394b19164ecd7df3988c5"><div class="ttname"><a href="namespacev8_1_1internal.html#a24ba7f85e96394b19164ecd7df3988c5">v8::internal::GB</a></div><div class="ttdeci">constexpr int GB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00057">v8-internal.h:57</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370">v8::internal::NONE</a></div><div class="ttdeci">@ NONE</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00019">property-details.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868">v8::internal::DONT_ENUM</a></div><div class="ttdeci">@ DONT_ENUM</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00021">property-details.h:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2"><div class="ttname"><a href="namespacev8_1_1internal.html#a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2">v8::internal::FROZEN</a></div><div class="ttdeci">@ FROZEN</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00027">property-details.h:27</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a465f206d51e97dfac9c574f1c26ec8c7"><div class="ttname"><a href="namespacev8_1_1internal.html#a465f206d51e97dfac9c574f1c26ec8c7">v8::internal::is_constructor</a></div><div class="ttdeci">is_constructor</div><div class="ttdef"><b>Definition:</b> <a href="debug-objects-inl_8h_source.html#l00078">debug-objects-inl.h:78</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a4e2118a7c0d730210e0cb87b511cba70"><div class="ttname"><a href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">v8::internal::bool</a></div><div class="ttdeci">bool</div><div class="ttdef"><b>Definition:</b> <a href="js-function-inl_8h_source.html#l00488">js-function-inl.h:488</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a55eed44eaa9dbd54a74a0390def124b6"><div class="ttname"><a href="namespacev8_1_1internal.html#a55eed44eaa9dbd54a74a0390def124b6">v8::internal::setter</a></div><div class="ttdeci">setter</div><div class="ttdef"><b>Definition:</b> <a href="api-callbacks-inl_8h_source.html#l00036">api-callbacks-inl.h:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57f5ecf71b9a2757b0555b2be4c640b8"><div class="ttname"><a href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">v8::internal::Tagged&lt; HeapObject &gt;</a></div><div class="ttdeci">kInterpreterTrampolineOffset Tagged&lt; HeapObject &gt;</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5c8372373f65497f1fb4414d5c0eaa36"><div class="ttname"><a href="namespacev8_1_1internal.html#a5c8372373f65497f1fb4414d5c0eaa36">v8::internal::kMaxSafeIntegerUint64</a></div><div class="ttdeci">constexpr uint64_t kMaxSafeIntegerUint64</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01994">globals.h:1994</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff">v8::internal::AllocationType::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a611f0528d5415d4591ad6e8fe9513ac4"><div class="ttname"><a href="namespacev8_1_1internal.html#a611f0528d5415d4591ad6e8fe9513ac4">v8::internal::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01699">heap-snapshot-generator.cc:1699</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e"><div class="ttname"><a href="namespacev8_1_1internal.html#a680ace1d3e86dae2df93867132a3c160af80e42734f3024456dd90ae366cecf3e">v8::internal::SharedFlag::kNotShared</a></div><div class="ttdeci">@ kNotShared</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a82526443105a760f3fed04430c94afbf"><div class="ttname"><a href="namespacev8_1_1internal.html#a82526443105a760f3fed04430c94afbf">v8::internal::kEvalFromPositionOffset</a></div><div class="ttdeci">kEvalFromPositionOffset</div><div class="ttdef"><b>Definition:</b> <a href="script-inl_8h_source.html#l00052">script-inl.h:52</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00116">instance-type.h:116</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea13460db6af18b22e39fe21bc5a59ecf4">v8::internal::SEQ_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ SEQ_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00135">instance-type.h:134</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea462b48aac171df5c4d0f4b1e070836a9">v8::internal::CONS_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ CONS_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00139">instance-type.h:138</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea7d41f263aeff5f74d677977964ccd2da">v8::internal::SLICED_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ SLICED_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00143">instance-type.h:142</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fea98c54bdac95309719a3443a670a8aec0">v8::internal::SEQ_TWO_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ SEQ_TWO_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00133">instance-type.h:132</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadb75c9ce61827ad68919644008afc39c">v8::internal::INTERNALIZED_ONE_BYTE_STRING_TYPE</a></div><div class="ttdeci">@ INTERNALIZED_ONE_BYTE_STRING_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00121">instance-type.h:120</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8feadc185a3c3f94edb13394c0c545746580">v8::internal::LAST_TYPE</a></div><div class="ttdeci">@ LAST_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00197">instance-type.h:197</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9bfe8aa958e22267f3d24430e0ec5402"><div class="ttname"><a href="namespacev8_1_1internal.html#a9bfe8aa958e22267f3d24430e0ec5402">v8::internal::kTrustedInternalOffset</a></div><div class="ttdeci">kTrustedInternalOffset</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00454">wasm-objects-inl.h:454</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa0a84af2b2a0cf0453cc75fc22679b28"><div class="ttname"><a href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">v8::internal::ValidateCallbackInfo</a></div><div class="ttdeci">bool ValidateCallbackInfo(const FunctionCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l12320">api.cc:12320</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa2507eb9d594b9767347031fb02d0b20"><div class="ttname"><a href="namespacev8_1_1internal.html#aa2507eb9d594b9767347031fb02d0b20">v8::internal::kHeapObjectTag</a></div><div class="ttdeci">const int kHeapObjectTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00072">v8-internal.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab4955debfb9384e59e3d4e9fcab5b0a0"><div class="ttname"><a href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">v8::internal::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="memcopy_8h_source.html#l00022">memcopy.h:22</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af04f4104c077ccbaef7596e23816a254"><div class="ttname"><a href="namespacev8_1_1internal.html#af04f4104c077ccbaef7596e23816a254">v8::internal::status</a></div><div class="ttdeci">status</div><div class="ttdef"><b>Definition:</b> <a href="js-disposable-stack-inl_8h_source.html#l00034">js-disposable-stack-inl.h:34</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a1777425fadf90d9a148319f962ca4173"><div class="ttname"><a href="namespacev8.html#a1777425fadf90d9a148319f962ca4173">v8::NewFunctionTemplate</a></div><div class="ttdeci">static i::DirectHandle&lt; i::FunctionTemplateInfo &gt; NewFunctionTemplate(i::Isolate *i_isolate, FunctionCallback func, bool has_prototype, SideEffectType side_effect_type=SideEffectType::kHasSideEffect)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-js_8cc_source.html#l03258">wasm-js.cc:3258</a></div></div>
<div class="ttc" id="anamespacev8_html_a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46"><div class="ttname"><a href="namespacev8.html#a29711319c2b9fc7716d65faee2f7b9cba990e9e01ed66f6917a426b610d20ac46">v8::SideEffectType::kHasSideEffect</a></div><div class="ttdeci">@ kHasSideEffect</div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecc"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecc">v8::ConstructorBehavior</a></div><div class="ttdeci">ConstructorBehavior</div><div class="ttdef"><b>Definition:</b> <a href="v8-template_8h_source.html#l00475">v8-template.h:475</a></div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca35130bbee286ecb2905a1eacbddb309d">v8::ConstructorBehavior::kThrow</a></div><div class="ttdeci">@ kThrow</div></div>
<div class="ttc" id="anamespacev8_html_a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94"><div class="ttname"><a href="namespacev8.html#a74b1ae9fa47d627267888db81a335ecca734aa42737f7263b67032297f3965a94">v8::ConstructorBehavior::kAllow</a></div><div class="ttdeci">@ kAllow</div></div>
<div class="ttc" id="anamespacev8_html_a7eeecc989d9bca2093f26ca249f4d2da"><div class="ttname"><a href="namespacev8.html#a7eeecc989d9bca2093f26ca249f4d2da">v8::FunctionCallback</a></div><div class="ttdeci">void(*)(const FunctionCallbackInfo&lt; Value &gt; &amp;info) FunctionCallback</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00314">v8-function-callback.h:314</a></div></div>
<div class="ttc" id="asandbox_8h_html"><div class="ttname"><a href="sandbox_8h.html">sandbox.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0d093cb749cfc7ab5993726392df681f"><div class="ttname"><a href="src_2base_2logging_8h.html#a0d093cb749cfc7ab5993726392df681f">FATAL</a></div><div class="ttdeci">#define FATAL(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00047">logging.h:47</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aa958a8a4e5dda3abaa031977268ae60e"><div class="ttname"><a href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a></div><div class="ttdeci">#define CHECK_NE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="asrc_2sandbox_2testing_8h_html"><div class="ttname"><a href="src_2sandbox_2testing_8h.html">testing.h</a></div></div>
<div class="ttc" id="atemplates_8h_html"><div class="ttname"><a href="templates_8h.html">templates.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_d9ad92fcb1c9e950b685c3ac072f4391.html">sandbox</a></li><li class="navelem"><a class="el" href="sandbox_2testing_8cc.html">testing.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:39 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
