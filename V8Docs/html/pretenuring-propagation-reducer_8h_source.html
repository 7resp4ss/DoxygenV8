<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/compiler/turboshaft/pretenuring-propagation-reducer.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pretenuring-propagation-reducer_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pretenuring-propagation-reducer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="pretenuring-propagation-reducer_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2023 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef V8_COMPILER_TURBOSHAFT_PRETENURING_PROPAGATION_REDUCER_H_</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define V8_COMPILER_TURBOSHAFT_PRETENURING_PROPAGATION_REDUCER_H_</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="compiler_2turboshaft_2assembler_8h.html">src/compiler/turboshaft/assembler.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="turboshaft_2phase_8h.html">src/compiler/turboshaft/phase.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="reducer-traits_8h.html">src/compiler/turboshaft/reducer-traits.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="compiler_2turboshaft_2utils_8h.html">src/compiler/turboshaft/utils.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zone-allocator_8h.html">src/zone/zone-allocator.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zone-containers_8h.html">src/zone/zone-containers.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zone_8h.html">src/zone/zone.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html">v8::internal::compiler::turboshaft</a> {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// This reducer propagates pretenuring (= allocations of Old objects rather than</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// Young objects) throughout the graph: if a young allocation is stored in an</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// old allocation, then we&#39;ll make it old instead. The idea being that 1) if an</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// object is stored in an old object, it makes sense for it for be considered</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// old, and 2) this reduces the size of the remembered sets.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// For instance, if we have:</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//     a = Allocate(old)</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//     b = Allocate(young)</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//     c = Allocate(young)</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//     b.x = c</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//     a.x = b</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// Then we&#39;ll make `b` and `c` allocate Old objects directly, because they&#39;ll be</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// stored to old objects (transitively for `c`, but it still counts).</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// On the other hand, if we have:</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">//     a = Allocate(old)</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//     b = Allocate(young)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//     c = Allocate(young)</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//     a.x = c</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//     b.c = a</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// Then we&#39;ll allocate `c` Old as well (because it is stored in an old pointer),</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">// but `b` will stay young, since it&#39;s not stored in an Old object (it contains</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// a pointer to an old object, but that&#39;s probably not a good reason to make it</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// old).</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// Implementation</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// In a first phase, we iterate the input graph and create a directed graph</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// (called `store_graph_`) where each node points to the nodes stored in it (so,</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">// an edge between `a` and `b` means that `b` is stored in `a`). We also collect</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">// all of the old allocations in a separate list (`old_allocs_`). The</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// `store_graph_` of the first example above will thus be:</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//    a -----&gt; b -----&gt; c</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// And the graph of the second example will be:</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//   a -----&gt; c        b -----&gt; a</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// (it contains two unconnected subgraphs)</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">// Then, in a second phase, we iterate the old allocations (`old_allocs_`), and</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// for each one, we do a DFS in `store_graph_`, marking all of the nodes we</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// encounter as old, and stopping on old nodes (which 1- prevents infinite loops</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// easily, and 2- is sound because all of the initially-old pointers are roots</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// of this phase). On the 2 examples above, `a` will be the old entry in</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// `old_allocs_`, so in both cases will do a single DFS starting from `a`. In</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// the 1st case, it&#39;s easy to see that this DFS will encounter `b` and `c`</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// (which will thus both become Old), while in the 2nd case, this DFS will only</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// reach `c` (which will thus become Old, while `b` won&#39;t be changed).</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// To be more precise, we also record Phi inputs in `store_graph_`, so that if</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">// we have something like:</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//     a = Allocate(old)</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">//     b = Allocate(young)</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">//     c = Allocate(young)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">//     p = Phi(b, c)</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//     a.x = p</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// Then we oldify both `b` and `c`. In this case, `store_graph_` would be</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//                --------&gt; b</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//               /</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//      a ----&gt; p</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">//               \</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//                --------&gt; c</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">// Which means that in the second phase, we&#39;ll start a DFS on `a` (the only old</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">// allocation), move to `p` (the only node reachable from `a`), and the oldify</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">// `b` and `c` (which are reachable from `p`).</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">// Limitation: when a Phi of old allocations is used as the left-hand side of a</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">// Store where the value being stored is a young allocation, we don&#39;t oldify the</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">// young allocation. For instance, we won&#39;t oldify `a` in this example:</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">//     a = Allocate(young)</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//     b = Allocate(old)</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">//     c = Allocate(old)</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">//     p = Phi(b, c)</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">//     p.x = a</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">// The reason being that the store_graph sturcture isn&#39;t well suited for this,</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">// since an edge Phi-&gt;Node can mean either that Node is stored (via a StoreOp)</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// in Phi, or that Node is an input of Phi. The `store_graph_` for the example</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">// above will thus look like:</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//      ------&gt; b</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">//     /</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">//    p ------&gt; a</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">//     \</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//      ------&gt; c</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">// In order to oldify `a`, we would need to register `p` in `old_allocs_`,</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">// except that we should only do this when `p` is actually old, and we discover</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">// that only in the second phase.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">// Consider for instance this more complex example:</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">//     a = Allocate(old)</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">//     b = Allocate(young)</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">//     c = Allocate(young)</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">//     d = Allocate(young)</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//     a.x = b</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//     a.y = c</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">//     p = Phi(b, c)</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">//     p.x = d</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">// The graph will be:</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">//      -----&gt; b &lt;-----</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//     /               \</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//    a                 p -----&gt; d</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">//     \               /</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">//      -----&gt; c &lt;-----</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">// And the only entry in `old_allocs_` will be `a`. During the DFS from `a`,</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">// allocations `b` and `c` will be oldified. At this point, `p` will point to</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">// edges to 2 old (`b` and `c`) and 1 young (`d`) nodes.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">// We could look at all Phis in `store_graph_` and consider one by one for being</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// roots of an oldifying DFS: if all of the inputs of a phi `p` (in the sense</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// OpIndex inputs in the input_graph) are Old, then start an oldifying DFS from</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">// `p`. However, the worst case complexity would be something like O(n^2) where</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">// `n` is the number of Phis in the graph (since we could end up checking all</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// Phis but only finding a single one that is old, but the DFS could make a</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// single other phi old, thus repeating the process). This complexity could be</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// made linear by maintaining additional datastructures on the side, but there</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">// isn&#39;t much evidence that this optimization would be often useful in practice.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html">  151</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html">PretenuringPropagationAnalyzer</a> {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a3485f8c7d12d8d7d6e30e6f5f7afb560">  153</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a3485f8c7d12d8d7d6e30e6f5f7afb560">PretenuringPropagationAnalyzer</a>(<a class="code" href="classv8_1_1internal_1_1Zone.html">Zone</a>* phase_zone, <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">Graph</a>&amp; mutable_input_graph)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a6cb09c318a0c97534708ac0bd41c06a8">zone_</a>(phase_zone),</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a03dc4365e3c651dc703b7843dc24695c">input_graph_</a>(mutable_input_graph),</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a9f9d8e9677b8163fc91cc2f819270f88">old_allocs_</a>(phase_zone),</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>(phase_zone),</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ac604f666e85356e0b56e7a6442e0eb47">old_phis_</a>(phase_zone),</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ad81d4922a6b50a963c47624120b80076">queue_</a>(phase_zone) {}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a521f100e5c2bbefe6fa175153cd06b16">Run</a>();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#af50a07efbff7dedb8a302ca6b35b4f4a">ProcessStore</a>(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">StoreOp</a>&amp; <a class="code" href="flag-definitions_8h.html#a88efda0d30f0789fdb73665260750735">store</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#abbd50a83e85db697e79792fd548d3beb">ProcessPhi</a>(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1PhiOp.html">PhiOp</a>&amp; phi);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a841e0e569cac285066241940c849e1df">ProcessAllocate</a>(<span class="keyword">const</span> <a class="code" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1AllocateOp.html">AllocateOp</a>&amp; allocate);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a9ccc3e30e3ebac966ac57a1e973c1bca">PushContainedValues</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> base);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a14ed3ec69c6ab4132a08f2ff3fd254a4">OldifySubgraph</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> old_alloc);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a2041c16c5e90adb3d8f669687f77ba9c">BuildStoreInputGraph</a>();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a4ceca44d6652ea7f2d0848c81ee02ee0">PropagateAllocationTypes</a>();</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a23df3447f62d81e6c7ef684932d311a0">  174</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a>* <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a23df3447f62d81e6c7ef684932d311a0">FindOrCreate</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> idx) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>.find(idx);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>.end()) <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ae2a8112a5f132a14c11144264ac19232">Create</a>(idx);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ae2a8112a5f132a14c11144264ac19232">  180</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a>* <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ae2a8112a5f132a14c11144264ac19232">Create</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> idx) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>.count(idx), 0);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a>* stored_items = <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a6cb09c318a0c97534708ac0bd41c06a8">zone_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Zone.html#a619ca7387e66c82e86240c2af8f3f10f">New</a>&lt;<a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a>&gt;(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a6cb09c318a0c97534708ac0bd41c06a8">zone_</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>.insert({idx, stored_items});</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> stored_items;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a7e40f8d270acc51df26e4fc7cbb9cf47">  187</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a>* <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a7e40f8d270acc51df26e4fc7cbb9cf47">TryFind</a>(<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">OpIndex</a> idx) {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>.find(idx);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>.end()) <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a6cb09c318a0c97534708ac0bd41c06a8">  193</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Zone.html">Zone</a>* <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a6cb09c318a0c97534708ac0bd41c06a8">zone_</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a03dc4365e3c651dc703b7843dc24695c">  194</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">Graph</a>&amp; <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a03dc4365e3c651dc703b7843dc24695c">input_graph_</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a9f9d8e9677b8163fc91cc2f819270f88">  195</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a9f9d8e9677b8163fc91cc2f819270f88">old_allocs_</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// (see main comment at the begining of this file for the role of</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// `store_graph_`)</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// `store_graph_` contains mapping from OpIndex to vector&lt;OpIndex&gt;. If for an</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// entry `a` it contains a vector `v`, it means that `a` has edges to all of</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="comment">// the values in `v`.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">  202</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneAbslFlatHashMap.html">ZoneAbslFlatHashMap&lt;OpIndex, ZoneVector&lt;OpIndex&gt;</a>*&gt; <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">store_graph_</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// AllocateOp have an AllocationType field, which is set to kOld once they&#39;ve</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// been visited, thus ensuring that recursion ends. However, PhiOp don&#39;t have</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// such a field. Thus, once we&#39;ve visited a Phi, we store it in {old_phis_} to</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// prevent revisiting it.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ac604f666e85356e0b56e7a6442e0eb47">  208</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneAbslFlatHashSet.html">ZoneAbslFlatHashSet&lt;OpIndex&gt;</a> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ac604f666e85356e0b56e7a6442e0eb47">old_phis_</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// Used in the final phase to do DFS in the graph from each old store. It</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// could be a local variable, but we instead use an instance variable to reuse</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// memory.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ad81d4922a6b50a963c47624120b80076">  213</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1ZoneVector.html">ZoneVector&lt;OpIndex&gt;</a> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ad81d4922a6b50a963c47624120b80076">queue_</a>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">// Forward delcaration</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Next&gt;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer.html">MemoryOptimizationReducer</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Next&gt;</div>
<div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer.html">  221</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer.html">PretenuringPropagationReducer</a> : <span class="keyword">public</span> <a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1anonymous__namespace_02loop-unrolling-reducer_8cc_03.html#a8648e6e1be6d120a445bd087a36e5eff">Next</a> {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="preprocessor">#if defined(__clang__)</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// PretenuringPropagationReducer should run before MemoryOptimizationReducer</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="comment">// (because once young allocations are marked for folding, they can&#39;t be</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// oldified anymore). We enforce this by making PretenuringPropagationReducer</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// run in the same phase as MemoryOptimizationReducer, but before.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  static_assert(<a class="code" href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1next__contains__reducer.html">next_contains_reducer&lt;Next, MemoryOptimizationReducer&gt;::value</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <a class="code" href="compiler_2turboshaft_2assembler_8h.html#a095f0ecaadff2bbeedfb014d9e0f9acd">TURBOSHAFT_REDUCER_BOILERPLATE</a>(PretenuringPropagation)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer.html#ae9e99ee349d1c428c1d34b866d619335">  233</a></span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer.html#ae9e99ee349d1c428c1d34b866d619335">Analyze</a>() {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html">PretenuringPropagationAnalyzer</a> analyzer(Asm().phase_zone(),</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                            Asm().modifiable_input_graph());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    analyzer.<a class="code" href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a521f100e5c2bbefe6fa175153cd06b16">Run</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    Next::Analyze();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;};</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}  <span class="comment">// namespace v8::internal::compiler::turboshaft</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_COMPILER_TURBOSHAFT_PRETENURING_PROPAGATION_REDUCER_H_</span></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneAbslFlatHashMap_html"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneAbslFlatHashMap.html">v8::internal::ZoneAbslFlatHashMap</a></div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00797">zone-containers.h:799</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneAbslFlatHashSet_html"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneAbslFlatHashSet.html">v8::internal::ZoneAbslFlatHashSet</a></div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00815">zone-containers.h:816</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ZoneVector_html"><div class="ttname"><a href="classv8_1_1internal_1_1ZoneVector.html">v8::internal::ZoneVector</a></div><div class="ttdef"><b>Definition:</b> <a href="zone-containers_8h_source.html#l00053">zone-containers.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html">v8::internal::Zone</a></div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00043">zone.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Zone_html_a619ca7387e66c82e86240c2af8f3f10f"><div class="ttname"><a href="classv8_1_1internal_1_1Zone.html#a619ca7387e66c82e86240c2af8f3f10f">v8::internal::Zone::New</a></div><div class="ttdeci">T * New(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="zone_8h_source.html#l00108">zone.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Graph.html">v8::internal::compiler::turboshaft::Graph</a></div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l00578">graph.h:578</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1MemoryOptimizationReducer.html">v8::internal::compiler::turboshaft::MemoryOptimizationReducer</a></div><div class="ttdef"><b>Definition:</b> <a href="memory-optimization-reducer_8h_source.html#l00187">memory-optimization-reducer.h:187</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex.html">v8::internal::compiler::turboshaft::OpIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="index_8h_source.html#l00039">index.h:39</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer</a></div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00151">pretenuring-propagation-reducer.h:151</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a03dc4365e3c651dc703b7843dc24695c"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a03dc4365e3c651dc703b7843dc24695c">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::input_graph_</a></div><div class="ttdeci">Graph &amp; input_graph_</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00194">pretenuring-propagation-reducer.h:194</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a14ed3ec69c6ab4132a08f2ff3fd254a4"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a14ed3ec69c6ab4132a08f2ff3fd254a4">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::OldifySubgraph</a></div><div class="ttdeci">void OldifySubgraph(OpIndex old_alloc)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00096">pretenuring-propagation-reducer.cc:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a2041c16c5e90adb3d8f669687f77ba9c"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a2041c16c5e90adb3d8f669687f77ba9c">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::BuildStoreInputGraph</a></div><div class="ttdeci">void BuildStoreInputGraph()</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00123">pretenuring-propagation-reducer.cc:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a23df3447f62d81e6c7ef684932d311a0"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a23df3447f62d81e6c7ef684932d311a0">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::FindOrCreate</a></div><div class="ttdeci">ZoneVector&lt; OpIndex &gt; * FindOrCreate(OpIndex idx)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00174">pretenuring-propagation-reducer.h:174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a3485f8c7d12d8d7d6e30e6f5f7afb560"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a3485f8c7d12d8d7d6e30e6f5f7afb560">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::PretenuringPropagationAnalyzer</a></div><div class="ttdeci">PretenuringPropagationAnalyzer(Zone *phase_zone, Graph &amp;mutable_input_graph)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00153">pretenuring-propagation-reducer.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a4ceca44d6652ea7f2d0848c81ee02ee0"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a4ceca44d6652ea7f2d0848c81ee02ee0">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::PropagateAllocationTypes</a></div><div class="ttdeci">void PropagateAllocationTypes()</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00117">pretenuring-propagation-reducer.cc:117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a521f100e5c2bbefe6fa175153cd06b16"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a521f100e5c2bbefe6fa175153cd06b16">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::Run</a></div><div class="ttdeci">void Run()</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00144">pretenuring-propagation-reducer.cc:144</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a6cb09c318a0c97534708ac0bd41c06a8"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a6cb09c318a0c97534708ac0bd41c06a8">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::zone_</a></div><div class="ttdeci">Zone * zone_</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00193">pretenuring-propagation-reducer.h:193</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a7e40f8d270acc51df26e4fc7cbb9cf47"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a7e40f8d270acc51df26e4fc7cbb9cf47">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::TryFind</a></div><div class="ttdeci">ZoneVector&lt; OpIndex &gt; * TryFind(OpIndex idx)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00187">pretenuring-propagation-reducer.h:187</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a841e0e569cac285066241940c849e1df"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a841e0e569cac285066241940c849e1df">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::ProcessAllocate</a></div><div class="ttdeci">void ProcessAllocate(const AllocateOp &amp;allocate)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00072">pretenuring-propagation-reducer.cc:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a9ccc3e30e3ebac966ac57a1e973c1bca"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a9ccc3e30e3ebac966ac57a1e973c1bca">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::PushContainedValues</a></div><div class="ttdeci">bool PushContainedValues(OpIndex base)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00082">pretenuring-propagation-reducer.cc:82</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_a9f9d8e9677b8163fc91cc2f819270f88"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#a9f9d8e9677b8163fc91cc2f819270f88">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::old_allocs_</a></div><div class="ttdeci">ZoneVector&lt; OpIndex &gt; old_allocs_</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00195">pretenuring-propagation-reducer.h:195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_abbd50a83e85db697e79792fd548d3beb"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#abbd50a83e85db697e79792fd548d3beb">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::ProcessPhi</a></div><div class="ttdeci">void ProcessPhi(const PhiOp &amp;phi)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00044">pretenuring-propagation-reducer.cc:44</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_ac604f666e85356e0b56e7a6442e0eb47"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ac604f666e85356e0b56e7a6442e0eb47">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::old_phis_</a></div><div class="ttdeci">ZoneAbslFlatHashSet&lt; OpIndex &gt; old_phis_</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00208">pretenuring-propagation-reducer.h:208</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_acfead9ef87973c05946b7540d5e20f2a"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#acfead9ef87973c05946b7540d5e20f2a">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::store_graph_</a></div><div class="ttdeci">ZoneAbslFlatHashMap&lt; OpIndex, ZoneVector&lt; OpIndex &gt; * &gt; store_graph_</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00202">pretenuring-propagation-reducer.h:202</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_ad81d4922a6b50a963c47624120b80076"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ad81d4922a6b50a963c47624120b80076">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::queue_</a></div><div class="ttdeci">ZoneVector&lt; OpIndex &gt; queue_</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00213">pretenuring-propagation-reducer.h:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_ae2a8112a5f132a14c11144264ac19232"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#ae2a8112a5f132a14c11144264ac19232">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::Create</a></div><div class="ttdeci">ZoneVector&lt; OpIndex &gt; * Create(OpIndex idx)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00180">pretenuring-propagation-reducer.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer_html_af50a07efbff7dedb8a302ca6b35b4f4a"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationAnalyzer.html#af50a07efbff7dedb8a302ca6b35b4f4a">v8::internal::compiler::turboshaft::PretenuringPropagationAnalyzer::ProcessStore</a></div><div class="ttdeci">void ProcessStore(const StoreOp &amp;store)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8cc_source.html#l00017">pretenuring-propagation-reducer.cc:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer_html"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer.html">v8::internal::compiler::turboshaft::PretenuringPropagationReducer</a></div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00221">pretenuring-propagation-reducer.h:221</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer_html_ae9e99ee349d1c428c1d34b866d619335"><div class="ttname"><a href="classv8_1_1internal_1_1compiler_1_1turboshaft_1_1PretenuringPropagationReducer.html#ae9e99ee349d1c428c1d34b866d619335">v8::internal::compiler::turboshaft::PretenuringPropagationReducer::Analyze</a></div><div class="ttdeci">void Analyze()</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-propagation-reducer_8h_source.html#l00233">pretenuring-propagation-reducer.h:233</a></div></div>
<div class="ttc" id="acompiler_2turboshaft_2assembler_8h_html"><div class="ttname"><a href="compiler_2turboshaft_2assembler_8h.html">assembler.h</a></div></div>
<div class="ttc" id="acompiler_2turboshaft_2assembler_8h_html_a095f0ecaadff2bbeedfb014d9e0f9acd"><div class="ttname"><a href="compiler_2turboshaft_2assembler_8h.html#a095f0ecaadff2bbeedfb014d9e0f9acd">TURBOSHAFT_REDUCER_BOILERPLATE</a></div><div class="ttdeci">#define TURBOSHAFT_REDUCER_BOILERPLATE(Name)</div><div class="ttdef"><b>Definition:</b> <a href="compiler_2turboshaft_2assembler_8h_source.html#l00823">assembler.h:823</a></div></div>
<div class="ttc" id="acompiler_2turboshaft_2utils_8h_html"><div class="ttname"><a href="compiler_2turboshaft_2utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a88efda0d30f0789fdb73665260750735"><div class="ttname"><a href="flag-definitions_8h.html#a88efda0d30f0789fdb73665260750735">store</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats store(v8::tracing::TracingCategoryObserver::ENABLED_BY_NATIVE)) DEFINE_GENERIC_IMPLICATION(trace_gc_object_stats</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1anonymous__namespace_02loop-unrolling-reducer_8cc_03_html_a8648e6e1be6d120a445bd087a36e5eff"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1anonymous__namespace_02loop-unrolling-reducer_8cc_03.html#a8648e6e1be6d120a445bd087a36e5eff">v8::internal::compiler::turboshaft::anonymous_namespace{loop-unrolling-reducer.cc}::Next</a></div><div class="ttdeci">std::optional&lt; Int &gt; Next(Int val, Int incr, StaticCanonicalForLoopMatcher::BinOp binop_op, WordRepresentation binop_rep)</div><div class="ttdef"><b>Definition:</b> <a href="loop-unrolling-reducer_8cc_source.html#l00306">loop-unrolling-reducer.cc:306</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html">v8::internal::compiler::turboshaft</a></div><div class="ttdef"><b>Definition:</b> <a href="builtins_8h_source.html#l00035">builtins.h:35</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="areducer-traits_8h_html"><div class="ttname"><a href="reducer-traits_8h.html">reducer-traits.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1AllocateOp_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1AllocateOp.html">v8::internal::compiler::turboshaft::AllocateOp</a></div><div class="ttdef"><b>Definition:</b> <a href="operations_8h_source.html#l03505">operations.h:3505</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1PhiOp_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1PhiOp.html">v8::internal::compiler::turboshaft::PhiOp</a></div><div class="ttdef"><b>Definition:</b> <a href="operations_8h_source.html#l02539">operations.h:2539</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1StoreOp.html">v8::internal::compiler::turboshaft::StoreOp</a></div><div class="ttdef"><b>Definition:</b> <a href="operations_8h_source.html#l03384">operations.h:3384</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1compiler_1_1turboshaft_1_1next__contains__reducer_html"><div class="ttname"><a href="structv8_1_1internal_1_1compiler_1_1turboshaft_1_1next__contains__reducer.html">v8::internal::compiler::turboshaft::next_contains_reducer</a></div><div class="ttdef"><b>Definition:</b> <a href="reducer-traits_8h_source.html#l00065">reducer-traits.h:65</a></div></div>
<div class="ttc" id="aturboshaft_2phase_8h_html"><div class="ttname"><a href="turboshaft_2phase_8h.html">phase.h</a></div></div>
<div class="ttc" id="azone-allocator_8h_html"><div class="ttname"><a href="zone-allocator_8h.html">zone-allocator.h</a></div></div>
<div class="ttc" id="azone-containers_8h_html"><div class="ttname"><a href="zone-containers_8h.html">zone-containers.h</a></div></div>
<div class="ttc" id="azone_8h_html"><div class="ttname"><a href="zone_8h.html">zone.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_8397ff03797cda36c402b225885f9fa1.html">compiler</a></li><li class="navelem"><a class="el" href="dir_95ec7fe50480095dace8e01f67398b04.html">turboshaft</a></li><li class="navelem"><a class="el" href="pretenuring-propagation-reducer_8h.html">pretenuring-propagation-reducer.h</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:55:56 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
