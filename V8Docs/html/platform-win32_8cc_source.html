<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/base/platform/platform-win32.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('platform-win32_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">platform-win32.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="platform-win32_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Platform-specific code for Win32.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="platform-win32_8h.html">src/base/platform/platform-win32.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Secure API functions are not available using MinGW with msvcrt.dll</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// on Windows XP. Make sure MINGW_HAS_SECURE_API is not defined to</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// disable definition of secure API functions in standard headers that</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// would conflict with our own implementation.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifdef __MINGW32__</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;_mingw.h&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifdef MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#undef MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// MINGW_HAS_SECURE_API</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// __MINGW32__</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// This has to come after windows.h.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;VersionHelpers.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;dbghelp.h&gt;</span>            <span class="comment">// For SymLoadModule64 and al.</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;malloc.h&gt;</span>             <span class="comment">// For _msize()</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;mmsystem.h&gt;</span>           <span class="comment">// For timeGetTime().</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;processthreadsapi.h&gt;</span>  <span class="comment">// For GetProcessMitigationPolicy().</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;psapi.h&gt;</span>              <span class="comment">// For GetProcessMemoryInfo().</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;tlhelp32.h&gt;</span>           <span class="comment">// For Module32First and al.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bits_8h.html">src/base/bits.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lazy-instance_8h.html">src/base/lazy-instance.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2macros_8h.html">src/base/macros.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutex_8h.html">src/base/platform/mutex.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2platform_2platform_8h.html">src/base/platform/platform.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="time_8h.html">src/base/platform/time.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="timezone-cache_8h.html">src/base/timezone-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="random-number-generator_8h.html">src/base/utils/random-number-generator.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#if defined(_MSC_VER)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;crtdbg.h&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#endif               </span><span class="comment">// defined(_MSC_VER)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// Check that type sizes and alignments match.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;static_assert(<span class="keyword">sizeof</span>(<a class="code" href="structV8__CONDITION__VARIABLE.html">V8_CONDITION_VARIABLE</a>) == <span class="keyword">sizeof</span>(<a class="code" href="win32-headers_8h.html#acb6da8a3747366ee89602a11e61081a7">CONDITION_VARIABLE</a>));</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;static_assert(<span class="keyword">alignof</span>(<a class="code" href="structV8__CONDITION__VARIABLE.html">V8_CONDITION_VARIABLE</a>) == <span class="keyword">alignof</span>(<a class="code" href="win32-headers_8h.html#acb6da8a3747366ee89602a11e61081a7">CONDITION_VARIABLE</a>));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;static_assert(<span class="keyword">sizeof</span>(<a class="code" href="structV8__SRWLOCK.html">V8_SRWLOCK</a>) == <span class="keyword">sizeof</span>(<a class="code" href="win32-headers_8h.html#abd82f3d984cd551464a1f02ba364fe72">SRWLOCK</a>));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;static_assert(<span class="keyword">alignof</span>(<a class="code" href="structV8__SRWLOCK.html">V8_SRWLOCK</a>) == <span class="keyword">alignof</span>(<a class="code" href="win32-headers_8h.html#abd82f3d984cd551464a1f02ba364fe72">SRWLOCK</a>));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;static_assert(<span class="keyword">sizeof</span>(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>) == <span class="keyword">sizeof</span>(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;static_assert(<span class="keyword">alignof</span>(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>) == <span class="keyword">alignof</span>(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// Check that CRITICAL_SECTION offsets match.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;static_assert(offsetof(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>, DebugInfo) ==</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;              offsetof(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>, DebugInfo));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;static_assert(offsetof(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>, LockCount) ==</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;              offsetof(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>, LockCount));</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;static_assert(offsetof(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>, RecursionCount) ==</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;              offsetof(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>, RecursionCount));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;static_assert(offsetof(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>, OwningThread) ==</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;              offsetof(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>, OwningThread));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;static_assert(offsetof(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>, LockSemaphore) ==</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;              offsetof(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>, LockSemaphore));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;static_assert(offsetof(<a class="code" href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a>, SpinCount) ==</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;              offsetof(<a class="code" href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a>, SpinCount));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// Extra functions for MinGW. Most of these are the _s functions which are in</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// the Microsoft Visual Studio C++ CRT.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#ifdef __MINGW32__</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#ifndef __MINGW64_VERSION_MAJOR</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#define _TRUNCATE 0</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#define STRUNCATE 80</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> MemoryFence() {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordtype">int</span> barrier = 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  __asm__ __volatile__(<span class="stringliteral">&quot;xchgl %%eax,%0 &quot;</span>:<span class="stringliteral">&quot;=r&quot;</span> (barrier));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// __MINGW64_VERSION_MAJOR</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">int</span> localtime_s(tm* out_tm, <span class="keyword">const</span> time_t* <a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  tm* posix_local_time_struct = localtime_r(<a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>, out_tm);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> (posix_local_time_struct == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordtype">int</span> fopen_s(FILE** pFile, <span class="keyword">const</span> <span class="keywordtype">char</span>* filename, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  *pFile = fopen(filename, <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">return</span> *pFile != <span class="keyword">nullptr</span> ? 0 : 1;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keywordtype">int</span> _wfopen_s(FILE** pFile, <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* filename, <span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  *pFile = _wfopen(filename, <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> *pFile != <span class="keyword">nullptr</span> ? 0 : 1;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keywordtype">int</span> _vsnprintf_s(<span class="keywordtype">char</span>* buffer, <span class="keywordtype">size_t</span> sizeOfBuffer, <span class="keywordtype">size_t</span> count,</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                 <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, va_list argptr) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(count == _TRUNCATE);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">return</span> _vsnprintf(buffer, sizeOfBuffer, <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, argptr);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">int</span> strncpy_s(<span class="keywordtype">char</span>* dest, <span class="keywordtype">size_t</span> dest_size, <span class="keyword">const</span> <span class="keywordtype">char</span>* source, <span class="keywordtype">size_t</span> count) {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(source != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(dest != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a>(dest_size, 0);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> (count == _TRUNCATE) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">while</span> (dest_size &gt; 0 &amp;&amp; *source != 0) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      *(dest++) = *(source++);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      --dest_size;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">if</span> (dest_size == 0) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      *(dest - 1) = 0;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span> STRUNCATE;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">while</span> (dest_size &gt; 0 &amp;&amp; count &gt; 0 &amp;&amp; *source != 0) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      *(dest++) = *(source++);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      --dest_size;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      --count;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a>(dest_size, 0);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  *dest = 0;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// __MINGW32__</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">namespace </span>base {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html">  142</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1base_1_1TimezoneCache.html">TimezoneCache</a> {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab532a1c6bec3544e37b2ce2fc4275bad">  144</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab532a1c6bec3544e37b2ce2fc4275bad">WindowsTimezoneCache</a>() : <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">initialized_</a>(<a class="code" href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a>) {}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ac9b24a8605c5db26e55caf42826e5092">  146</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ac9b24a8605c5db26e55caf42826e5092">~WindowsTimezoneCache</a>()<span class="keyword"> override </span>{}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a6bfd81082575967a798a0bbac2941044">  148</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a6bfd81082575967a798a0bbac2941044">Clear</a>(<a class="code" href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9">TimeZoneDetection</a>)<span class="keyword"> override </span>{ <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">initialized_</a> = <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a3e88bfe85412df6e375359f0c0f6aeb5">LocalTimezone</a>(<span class="keywordtype">double</span> <a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a23549bbc5dc6d62d57026f7082326725">LocalTimeOffset</a>(<span class="keywordtype">double</span> <a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>, <span class="keywordtype">bool</span> is_utc) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab249d8268dfd25d1bfd5d10dfd93ab56">DaylightSavingsOffset</a>(<span class="keywordtype">double</span> <a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// Initialize timezone information. The timezone information is obtained from</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// windows. If we cannot get the timezone information we fall back to CET.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a491ca05ff3781f2d67d172ed846d94b3">  158</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a491ca05ff3781f2d67d172ed846d94b3">InitializeIfNeeded</a>() {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// Just return if timezone information has already been initialized.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">initialized_</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// Initialize POSIX time zone data.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    _tzset();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">// Obtain timezone information from operating system.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    memset(&amp;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (GetTimeZoneInformation(&amp;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>) == TIME_ZONE_ID_INVALID) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="comment">// If we cannot get timezone information we fall back to CET.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias = -60;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardDate.wMonth = 10;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardDate.wDay = 5;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardDate.wHour = 3;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardBias = 0;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightDate.wMonth = 3;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightDate.wDay = 5;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightDate.wHour = 2;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightBias = -60;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// Make standard and DST timezone names.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    WideCharToMultiByte(CP_UTF8, 0, <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardName, -1, <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>[<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    WideCharToMultiByte(CP_UTF8, 0, <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightName, -1, <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a>,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                        <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a>[<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// If OS returned empty string or resource id (like &quot;@tzres.dll,-211&quot;)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// simply guess the name from the UTC bias of the timezone.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// To properly resolve the resource identifier requires a library load,</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// which is not possible in a sandbox.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>[0] == <span class="charliteral">&#39;\0&#39;</span> || <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>[0] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a36caaf43a3f7761ae90d699b961f0239">OS::SNPrintF</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>, <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a> - 1,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                   <span class="stringliteral">&quot;%s Standard Time&quot;</span>,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                   <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#accdc97bf88ced8010e18af1b4758f099">GuessTimezoneNameFromBias</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a>[0] == <span class="charliteral">&#39;\0&#39;</span> || <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a>[0] == <span class="charliteral">&#39;@&#39;</span>) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a36caaf43a3f7761ae90d699b961f0239">OS::SNPrintF</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a>, <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a> - 1,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                   <span class="stringliteral">&quot;%s Daylight Time&quot;</span>,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                   <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#accdc97bf88ced8010e18af1b4758f099">GuessTimezoneNameFromBias</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias));</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// Timezone information initialized.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">initialized_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Guess the name of the timezone from the bias.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// The guess is very biased towards the northern hemisphere.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#accdc97bf88ced8010e18af1b4758f099">  207</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#accdc97bf88ced8010e18af1b4758f099">GuessTimezoneNameFromBias</a>(<span class="keywordtype">int</span> bias) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kHour = 60;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">switch</span> (-bias) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">case</span> -9*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Alaska&quot;</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">case</span> -8*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Pacific&quot;</span>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">case</span> -7*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Mountain&quot;</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">case</span> -6*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Central&quot;</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">case</span> -5*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Eastern&quot;</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">case</span> -4*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Atlantic&quot;</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">case</span>  0*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;GMT&quot;</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">case</span> +1*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Central Europe&quot;</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="keywordflow">case</span> +2*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Eastern Europe&quot;</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">case</span> +3*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Russia&quot;</span>;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">case</span> +5*kHour + 30: <span class="keywordflow">return</span> <span class="stringliteral">&quot;India&quot;</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">case</span> +8*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;China&quot;</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">case</span> +9*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Japan&quot;</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">case</span> +12*kHour: <span class="keywordflow">return</span> <span class="stringliteral">&quot;New Zealand&quot;</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;Local&quot;</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">  230</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a> = 128;</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">  231</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">initialized_</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">  232</a></span>&#160;  <span class="keywordtype">char</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>[<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a>];</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">  233</a></span>&#160;  <span class="keywordtype">char</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a>[<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">kTzNameSize</a>];</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">  234</a></span>&#160;  TIME_ZONE_INFORMATION <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>;</div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#af4edcf9562e8b46fd0c750ecd489bead">  235</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1base_1_1Win32Time.html">Win32Time</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;};</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">// The Time class represents time on win32. A timestamp is represented as</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">// a 64-bit integer in 100 nanoseconds since January 1, 1601 (UTC). JavaScript</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">// timestamps are represented as a doubles in milliseconds since 00:00:00 UTC,</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">// January 1, 1970.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html">  245</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1base_1_1Win32Time.html">Win32Time</a> {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="comment">// Constructors.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">Win32Time</a>();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">Win32Time</a>(<span class="keywordtype">double</span> jstime);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">Win32Time</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> mon, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> sec);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">// Convert timestamp to JavaScript representation.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a052f87c337e9d06abe156757e01c4a09">ToJSTime</a>();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="comment">// Set timestamp to current time.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#ab6f3f19dd6479e7286e3d5b9e0089b34">SetToCurrentTime</a>();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="comment">// Returns the local timezone offset in milliseconds east of UTC. This is</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// the number of milliseconds you must add to UTC to get local time, i.e.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">// LocalOffset(CET) = 3600000 and LocalOffset(PST) = -28800000. This</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// routine also takes into account whether daylight saving is effect</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// at the time.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#a48be11d8082ffc4e8fee9b72f17cfe05">LocalOffset</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">// Returns the daylight savings time offset for the time in milliseconds.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#a9a92308daaf1301f88d967a46fd2b9d7">DaylightSavingsOffset</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// Returns a string identifying the current timezone for the</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// timestamp taking into account daylight saving.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1base_1_1Win32Time.html#ac457756f879b8e9cbdb78cb9c9d7c79e">LocalTimezone</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// Constants for time conversion.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#acf233546898ede8a70973989391c7f15">  274</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#acf233546898ede8a70973989391c7f15">kTimeEpoc</a> = 116444736000000000LL;</div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">  275</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">kTimeScaler</a> = 10000;</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">  276</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">kMsPerMinute</a> = 60000;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Constants for timezone information.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a2ff49b8931e65799225ec872bfb3cc5e">  279</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a2ff49b8931e65799225ec872bfb3cc5e">kShortTzNames</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// Return whether or not daylight savings time is in effect at this time.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1c33c5d8df426c40903d513fd9e50882">InDST</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Accessor for FILETIME representation.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#af474260cb7f8e0e14523d1ceed0709c2">  285</a></span>&#160;  FILETIME&amp; <a class="code" href="classv8_1_1base_1_1Win32Time.html#af474260cb7f8e0e14523d1ceed0709c2">ft</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a84ed4aaddbb963d03ee06735fc1b1731">time_</a>.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#ad995e225faaaceebb76ca77f5412d64a">ft_</a>; }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// Accessor for integer representation.</span></div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">  288</a></span>&#160;  int64_t&amp; <a class="code" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">t</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a84ed4aaddbb963d03ee06735fc1b1731">time_</a>.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a>; }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// Although win32 uses 64-bit integers for representing timestamps,</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// these are packed into a FILETIME structure. The FILETIME structure</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// is just a struct representing a 64-bit integer. The TimeStamp union</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// allows access to both a FILETIME and an integer representation of</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// the timestamp.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html">  295</a></span>&#160;  <span class="keyword">union </span><a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html">TimeStamp</a> {</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#ad995e225faaaceebb76ca77f5412d64a">  296</a></span>&#160;    FILETIME <a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#ad995e225faaaceebb76ca77f5412d64a">ft_</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">  297</a></span>&#160;    int64_t <a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  };</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a84ed4aaddbb963d03ee06735fc1b1731">  300</a></span>&#160;  <a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html">TimeStamp</a> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a84ed4aaddbb963d03ee06735fc1b1731">time_</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;};</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">// Initialize timestamp to start of epoc.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">  305</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">Win32Time::Win32Time</a>() {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">t</a>() = 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;}</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">// Initialize timestamp from a JavaScript timestamp.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a9f8e83cbab5a3d25b11cf4371305faf8">  311</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">Win32Time::Win32Time</a>(<span class="keywordtype">double</span> jstime) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">t</a>() = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(jstime) * <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">kTimeScaler</a> + <a class="code" href="classv8_1_1base_1_1Win32Time.html#acf233546898ede8a70973989391c7f15">kTimeEpoc</a>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// Initialize timestamp from date/time components.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a189fecfc6a50f0932db3b0e025f84665">  317</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">Win32Time::Win32Time</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> mon, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> min, <span class="keywordtype">int</span> sec) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  SYSTEMTIME st;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  st.wYear = year;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  st.wMonth = mon;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  st.wDay = day;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  st.wHour = hour;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  st.wMinute = min;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  st.wSecond = sec;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  st.wMilliseconds = 0;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  SystemTimeToFileTime(&amp;st, &amp;<a class="code" href="classv8_1_1base_1_1Win32Time.html#af474260cb7f8e0e14523d1ceed0709c2">ft</a>());</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">// Convert timestamp to JavaScript timestamp.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a052f87c337e9d06abe156757e01c4a09">  331</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a052f87c337e9d06abe156757e01c4a09">Win32Time::ToJSTime</a>() {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>((<a class="code" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">t</a>() - <a class="code" href="classv8_1_1base_1_1Win32Time.html#acf233546898ede8a70973989391c7f15">kTimeEpoc</a>) / <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">kTimeScaler</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">// Set timestamp to current time.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#ab6f3f19dd6479e7286e3d5b9e0089b34">  337</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#ab6f3f19dd6479e7286e3d5b9e0089b34">Win32Time::SetToCurrentTime</a>() {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// The default GetSystemTimeAsFileTime has a ~15.5ms resolution.</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// Because we&#39;re fast, we like fast timers which have at least a</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">// 1ms resolution.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// timeGetTime() provides 1ms granularity when combined with</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// timeBeginPeriod().  If the host application for v8 wants fast</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">// timers, it can use timeBeginPeriod to increase the resolution.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// Using timeGetTime() has a drawback because it is a 32bit value</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// and hence rolls-over every ~49days.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// To use the clock, we use GetSystemTimeAsFileTime as our base;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// and then use timeGetTime to extrapolate current time from the</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// start time.  To deal with rollovers, we resync the clock</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// any time when more than kMaxClockElapsedTime has passed or</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// whenever timeGetTime creates a rollover.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keyword">static</span> <a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html">TimeStamp</a> init_time;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">static</span> <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> init_ticks;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kHundredNanosecondsPerSecond = 10000000;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> int64_t kMaxClockElapsedTime =</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      60*kHundredNanosecondsPerSecond;  <span class="comment">// 1 minute</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// If we are uninitialized, we need to resync the clock.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordtype">bool</span> needs_resync = !initialized;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// Get the current time.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html">TimeStamp</a> time_now;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  GetSystemTimeAsFileTime(&amp;time_now.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#ad995e225faaaceebb76ca77f5412d64a">ft_</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> ticks_now = timeGetTime();</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// Check if we need to resync due to clock rollover.</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  needs_resync |= ticks_now &lt; init_ticks;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Check if we need to resync due to elapsed time.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  needs_resync |= (time_now.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a> - init_time.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a>) &gt; kMaxClockElapsedTime;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// Check if we need to resync due to backwards time change.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  needs_resync |= time_now.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a> &lt; init_time.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// Resync the clock if necessary.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">if</span> (needs_resync) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    GetSystemTimeAsFileTime(&amp;init_time.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#ad995e225faaaceebb76ca77f5412d64a">ft_</a>);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    init_ticks = ticks_now = timeGetTime();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    initialized = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="comment">// Finally, compute the actual time.  Why is this so hard.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> elapsed = ticks_now - init_ticks;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  this-&gt;<a class="code" href="classv8_1_1base_1_1Win32Time.html#a84ed4aaddbb963d03ee06735fc1b1731">time_</a>.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a> = init_time.<a class="code" href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">t_</a> + (<span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(elapsed) * 10000);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">// Return the local timezone offset in milliseconds east of UTC. This</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">// takes into account whether daylight saving is in effect at the time.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">// Only times in the 32-bit Unix range may be passed to this function.</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">// Also, adding the time-zone offset to the input must not overflow.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">// The function EquivalentTime() in date.js guarantees this.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a48be11d8082ffc4e8fee9b72f17cfe05">  397</a></span>&#160;int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#a48be11d8082ffc4e8fee9b72f17cfe05">Win32Time::LocalOffset</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a491ca05ff3781f2d67d172ed846d94b3">InitializeIfNeeded</a>();</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32Time.html">Win32Time</a> rounded_to_second(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  rounded_to_second.<a class="code" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">t</a>() =</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      rounded_to_second.<a class="code" href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">t</a>() / 1000 / <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">kTimeScaler</a> * 1000 * <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">kTimeScaler</a>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// Convert to local time using POSIX localtime function.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="comment">// Windows XP Service Pack 3 made SystemTimeToTzSpecificLocalTime()</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// very slow.  Other browsers use localtime().</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="comment">// Convert from JavaScript milliseconds past 1/1/1970 0:00:00 to</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// POSIX seconds past 1/1/1970 0:00:00.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordtype">double</span> unchecked_posix_time = rounded_to_second.<a class="code" href="classv8_1_1base_1_1Win32Time.html#a052f87c337e9d06abe156757e01c4a09">ToJSTime</a>() / 1000;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">if</span> (unchecked_posix_time &gt; INT_MAX || unchecked_posix_time &lt; 0) {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// Because _USE_32BIT_TIME_T is defined, time_t is a 32-bit int.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  time_t posix_time = <span class="keyword">static_cast&lt;</span>time_t<span class="keyword">&gt;</span>(unchecked_posix_time);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">// Convert to local time, as struct with fields for day, hour, year, etc.</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  tm posix_local_time_struct;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <span class="keywordflow">if</span> (localtime_s(&amp;posix_local_time_struct, &amp;posix_time)) <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span> (posix_local_time_struct.tm_isdst &gt; 0) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> (cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias + cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightBias) * -<a class="code" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">kMsPerMinute</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (posix_local_time_struct.tm_isdst == 0) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">return</span> (cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias + cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardBias) * -<a class="code" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">kMsPerMinute</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">return</span> cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias * -<a class="code" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">kMsPerMinute</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;}</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">// Return whether or not daylight savings time is in effect at this time.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a1c33c5d8df426c40903d513fd9e50882">  431</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1c33c5d8df426c40903d513fd9e50882">Win32Time::InDST</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a491ca05ff3781f2d67d172ed846d94b3">InitializeIfNeeded</a>();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">// Determine if DST is in effect at the specified time.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordtype">bool</span> in_dst = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.StandardDate.wMonth != 0 ||</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightDate.wMonth != 0) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// Get the local timezone offset for the timestamp in milliseconds.</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    int64_t offset = <a class="code" href="classv8_1_1base_1_1Win32Time.html#a48be11d8082ffc4e8fee9b72f17cfe05">LocalOffset</a>(cache);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// Compute the offset for DST. The bias parameters in the timezone info</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// are specified in minutes. These must be converted to milliseconds.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    int64_t dstofs =</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        -(cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.Bias + cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">tzinfo_</a>.DaylightBias) * <a class="code" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">kMsPerMinute</a>;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// If the local time offset equals the timezone bias plus the daylight</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// bias then DST is in effect.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    in_dst = offset == dstofs;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">return</span> in_dst;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;}</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">// Return the daylight savings time offset for this time.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#a9a92308daaf1301f88d967a46fd2b9d7">  456</a></span>&#160;int64_t <a class="code" href="classv8_1_1base_1_1Win32Time.html#a9a92308daaf1301f88d967a46fd2b9d7">Win32Time::DaylightSavingsOffset</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1c33c5d8df426c40903d513fd9e50882">InDST</a>(cache) ? 60 * <a class="code" href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">kMsPerMinute</a> : 0;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">// Returns a string identifying the current timezone for the</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">// timestamp taking into account daylight saving.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32Time.html#ac457756f879b8e9cbdb78cb9c9d7c79e">  463</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="classv8_1_1base_1_1Win32Time.html#ac457756f879b8e9cbdb78cb9c9d7c79e">Win32Time::LocalTimezone</a>(<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>* cache) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Return the standard or DST time zone name based on whether daylight</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="comment">// saving is in effect at the given time.</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Win32Time.html#a1c33c5d8df426c40903d513fd9e50882">InDST</a>(cache) ? cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">dst_tz_name_</a> : cache-&gt;<a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">std_tz_name_</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">// Returns the accumulated user time for thread.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1OS.html#ab14abe0c27358916e32d1d5552ac182f">OS::GetUserTime</a>(uint32_t* secs,  uint32_t* usecs) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  FILETIME dummy;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  uint64_t usertime;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// Get the amount of time that the thread has executed in user mode.</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keywordflow">if</span> (!GetThreadTimes(GetCurrentThread(), &amp;dummy, &amp;dummy, &amp;dummy,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                      <span class="keyword">reinterpret_cast&lt;</span>FILETIME*<span class="keyword">&gt;</span>(&amp;usertime))) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// Adjust the resolution to micro-seconds.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  usertime /= 10;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// Convert to seconds and microseconds</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  *secs = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(usertime / 1000000);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  *usecs = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(usertime % 1000000);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1OS.html#a8b6f63d09e8e0bad9dd9f7a91cc7e106">OS::GetPeakMemoryUsageKb</a>() {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  constexpr <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#aff9725e631b764002f38c38f74f9bf22">KB</a> = 1024;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  PROCESS_MEMORY_COUNTERS mem_counters;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordtype">int</span> ret;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  ret = GetProcessMemoryInfo(GetCurrentProcess(), &amp;mem_counters,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                             <span class="keyword">sizeof</span>(mem_counters));</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="keywordflow">if</span> (ret == 0) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(mem_counters.PeakWorkingSetSize / <a class="code" href="flag-definitions_8h.html#aff9725e631b764002f38c38f74f9bf22">KB</a>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;}</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">// Returns current time as the number of milliseconds since</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">// 00:00:00 UTC, January 1, 1970.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1OS.html#ad95b9514ae4123f8d0a5456d6f2cc204">OS::TimeCurrentMillis</a>() {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Time.html#a485c6079d0a94b6e93cc931b2857382d">Time::Now</a>().<a class="code" href="classv8_1_1base_1_1Time.html#a6a9b1ac92e3bc1accf60db895398c9b5">ToJsTime</a>();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">// Returns a string identifying the current timezone taking into</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">// account daylight saving.</span></div>
<div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a3e88bfe85412df6e375359f0c0f6aeb5">  509</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a3e88bfe85412df6e375359f0c0f6aeb5">WindowsTimezoneCache::LocalTimezone</a>(<span class="keywordtype">double</span> <a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#af4edcf9562e8b46fd0c750ecd489bead">Win32Time</a>(<a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>).LocalTimezone(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">// Returns the local time offset in milliseconds east of UTC without</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">// taking daylight savings time into account.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a23549bbc5dc6d62d57026f7082326725">  515</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#a23549bbc5dc6d62d57026f7082326725">WindowsTimezoneCache::LocalTimeOffset</a>(<span class="keywordtype">double</span> time_ms, <span class="keywordtype">bool</span> is_utc) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// Ignore is_utc and time_ms for now. That way, the behavior wouldn&#39;t</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="comment">// change with icu_timezone_data disabled.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// Use current time, rounded to the millisecond.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32Time.html">Win32Time</a> t(<a class="code" href="classv8_1_1base_1_1OS.html#ad95b9514ae4123f8d0a5456d6f2cc204">OS::TimeCurrentMillis</a>());</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// Time::LocalOffset inlcudes any daylight savings offset, so subtract it.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(t.<a class="code" href="classv8_1_1base_1_1Win32Time.html#a48be11d8082ffc4e8fee9b72f17cfe05">LocalOffset</a>(<span class="keyword">this</span>) -</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                             t.<a class="code" href="classv8_1_1base_1_1Win32Time.html#a9a92308daaf1301f88d967a46fd2b9d7">DaylightSavingsOffset</a>(<span class="keyword">this</span>));</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; </div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">// Returns the daylight savings offset in milliseconds for the given</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">// time.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab249d8268dfd25d1bfd5d10dfd93ab56">  527</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab249d8268dfd25d1bfd5d10dfd93ab56">WindowsTimezoneCache::DaylightSavingsOffset</a>(<span class="keywordtype">double</span> <a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  int64_t offset = <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html#af4edcf9562e8b46fd0c750ecd489bead">Win32Time</a>(<a class="code" href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a>).DaylightSavingsOffset(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(offset);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<a class="code" href="classv8_1_1base_1_1TimezoneCache.html">TimezoneCache</a>* <a class="code" href="classv8_1_1base_1_1OS.html#ad481e6ce21d8194ec47b14e59e8aadaf">OS::CreateTimezoneCache</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classv8_1_1base_1_1WindowsTimezoneCache.html">WindowsTimezoneCache</a>(); }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1OS.html#a6dc6ca7fa1417c3b8ae2d70fb19ab023">OS::GetLastError</a>() {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  return ::GetLastError();</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1OS.html#a885bdc89bb37ed241b7e312597ad831a">OS::GetCurrentProcessId</a>() {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1base_1_1OS.html#a885bdc89bb37ed241b7e312597ad831a">::GetCurrentProcessId</a>());</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1OS.html#a65d17cb687f7e35116e9cbc646414e41">OS::GetCurrentThreadIdInternal</a>() {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1base_1_1OS.html#ab21ab688f2e6bcbeb2a40246967ec96f">::GetCurrentThreadId</a>());</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;}</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">OS::ExitProcess</a>(<span class="keywordtype">int</span> exit_code) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// Use TerminateProcess to avoid races between isolate threads and</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// static destructors.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  fflush(stdout);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  fflush(stderr);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  TerminateProcess(GetCurrentProcess(), exit_code);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// Termination the current process does not return. {TerminateProcess} is not</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// marked [[noreturn]] though, since it can also be used to terminate another</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// process.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">// Win32 console output.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">// If a Win32 application is linked as a console application it has a normal</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">// standard output and standard error. In this case normal printf works fine</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">// for output. However, if the application is linked as a GUI application,</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">// the process doesn&#39;t have a console, and therefore (debugging) output is lost.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">// This is the case if we are embedded in a windows program (like a browser).</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">// In order to be able to get debug output in this case the the debugging</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">// facility using OutputDebugString. This output goes to the active debugger</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">// for the process (if any). Else the output can be monitored using DBMON.EXE.</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16d">  571</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16d">OutputMode</a> {</div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16daf14a1b674856c28f938cb7c148e69e62">  572</a></span>&#160;  <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16daf14a1b674856c28f938cb7c148e69e62">UNKNOWN</a>,  <span class="comment">// Output method has not yet been determined.</span></div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16da314edcd936f538fc0078686ba11bc3ed">  573</a></span>&#160;  <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16da314edcd936f538fc0078686ba11bc3ed">CONSOLE</a>,  <span class="comment">// Output is written to stdout.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16dac4b76d6fb9cec3b484bff6cd89595737">ODS</a>       <span class="comment">// Output is written to debug facility.</span></div>
<div class="line"><a name="l00575"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16dac4b76d6fb9cec3b484bff6cd89595737">  575</a></span>&#160;};</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">  577</a></span>&#160;<span class="keyword">static</span> <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16d">OutputMode</a> <a class="code" href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">output_mode</a> = <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16daf14a1b674856c28f938cb7c148e69e62">UNKNOWN</a>;  <span class="comment">// Current output mode.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">// Determine if the process has a console for output.</span></div>
<div class="line"><a name="l00581"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#aba5fca3206a2e43fd022191bc482fee5">  581</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1base.html#aba5fca3206a2e43fd022191bc482fee5">HasConsole</a>() {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="comment">// Only check the first time. Eventual race conditions are not a problem,</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="comment">// because all threads will eventually determine the same mode.</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">output_mode</a> == <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16daf14a1b674856c28f938cb7c148e69e62">UNKNOWN</a>) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// We cannot just check that the standard output is attached to a console</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// because this would fail if output is redirected to a file. Therefore we</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">// say that a process does not have an output console if either the</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">// standard output handle is invalid or its file type is unknown.</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span> (GetStdHandle(STD_OUTPUT_HANDLE) != INVALID_HANDLE_VALUE &amp;&amp;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        GetFileType(GetStdHandle(STD_OUTPUT_HANDLE)) != FILE_TYPE_UNKNOWN)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">output_mode</a> = <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16da314edcd936f538fc0078686ba11bc3ed">CONSOLE</a>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">output_mode</a> = <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16dac4b76d6fb9cec3b484bff6cd89595737">ODS</a>;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">output_mode</a> == <a class="code" href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16da314edcd936f538fc0078686ba11bc3ed">CONSOLE</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#af8febcbbfb3cba7fe1561814f25234c5">  599</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#af8febcbbfb3cba7fe1561814f25234c5">VPrintHelper</a>(FILE* stream, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, va_list <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keywordflow">if</span> ((stream == stdout || stream == stderr) &amp;&amp; !<a class="code" href="namespacev8_1_1base.html#aba5fca3206a2e43fd022191bc482fee5">HasConsole</a>()) {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// It is important to use safe print here in order to avoid</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// overflowing the buffer. We might truncate the output, but this</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="comment">// does not crash.</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordtype">char</span> buffer[4096];</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="namespacev8_1_1base.html#af0f7afb0da9a6caba38ac0c0018b48e3">OS::VSNPrintF</a>(buffer, <span class="keyword">sizeof</span>(buffer), <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    OutputDebugStringA(buffer);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    vfprintf(stream, <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;}</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">// Convert utf-8 encoded string to utf-16 encoded.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">  613</a></span>&#160;<span class="keyword">static</span> std::wstring <a class="code" href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">ConvertUtf8StringToUtf16</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* str) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// On Windows wchar_t must be a 16-bit value.</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  static_assert(<span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>) == 2, <span class="stringliteral">&quot;wrong wchar_t size&quot;</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  std::wstring utf16_str;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordtype">int</span> name_length = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(strlen(str));</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordtype">int</span> len = MultiByteToWideChar(CP_UTF8, 0, str, name_length, <span class="keyword">nullptr</span>, 0);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    utf16_str.resize(len);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    MultiByteToWideChar(CP_UTF8, 0, str, name_length, &amp;utf16_str[0], len);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordflow">return</span> utf16_str;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;}</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;FILE* <a class="code" href="classv8_1_1base_1_1OS.html#a847804239d3654d9dc61325fd7a8b195">OS::FOpen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  FILE* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  std::wstring utf16_path = <a class="code" href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">ConvertUtf8StringToUtf16</a>(path);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  std::wstring utf16_mode = <a class="code" href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">ConvertUtf8StringToUtf16</a>(<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordflow">if</span> (_wfopen_s(&amp;<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>, utf16_path.c_str(), utf16_mode.c_str()) == 0) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;}</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#afc81cb4b82d6a51170eb77b2ac4cbd97">OS::Remove</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">return</span> (DeleteFileA(path) != 0);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160; </div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classv8_1_1base_1_1OS.html#aa010f31048d7a2baf7f30973bc5854d0">OS::DirectorySeparator</a>() { <span class="keywordflow">return</span> <span class="charliteral">&#39;\\&#39;</span>; }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160; </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#ae9b48025d23fcd0a98f968d90e7107d4">OS::isDirectorySeparator</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> ch) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">return</span> ch == <span class="charliteral">&#39;/&#39;</span> || ch == <span class="charliteral">&#39;\\&#39;</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;}</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160; </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;FILE* <a class="code" href="classv8_1_1base_1_1OS.html#a7984e131b66b92c725f30666de50d4e6">OS::OpenTemporaryFile</a>() {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// tmpfile_s tries to use the root dir, don&#39;t use it.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordtype">char</span> tempPathBuffer[MAX_PATH];</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> path_result = 0;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  path_result = GetTempPathA(MAX_PATH, tempPathBuffer);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">if</span> (path_result &gt; MAX_PATH || path_result == 0) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  UINT name_result = 0;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordtype">char</span> tempNameBuffer[MAX_PATH];</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  name_result = GetTempFileNameA(tempPathBuffer, <span class="stringliteral">&quot;&quot;</span>, 0, tempNameBuffer);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordflow">if</span> (name_result == 0) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  FILE* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="classv8_1_1base_1_1OS.html#a847804239d3654d9dc61325fd7a8b195">FOpen</a>(tempNameBuffer, <span class="stringliteral">&quot;w+&quot;</span>);  <span class="comment">// Same mode as tmpfile uses.</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#afc81cb4b82d6a51170eb77b2ac4cbd97">Remove</a>(tempNameBuffer);  <span class="comment">// Delete on close.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;}</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160; </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">// Open log file in binary mode to avoid /n -&gt; /r/n conversion.</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1OS.html#a4fee8706153911cacd3c3c58f17e49c6">OS::LogFileOpenMode</a> = <span class="stringliteral">&quot;wb+&quot;</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">// Print (debug) message to console.</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">OS::Print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, ...) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  va_list <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  va_start(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  VPrint(<a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  va_end(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;}</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160; </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="keywordtype">void</span> OS::VPrint(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, va_list <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="namespacev8_1_1base.html#af8febcbbfb3cba7fe1561814f25234c5">VPrintHelper</a>(stdout, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;}</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160; </div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="keywordtype">void</span> OS::FPrint(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, ...) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  va_list <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  va_start(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  VFPrint(out, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  va_end(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="keywordtype">void</span> OS::VFPrint(FILE* out, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, va_list <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="namespacev8_1_1base.html#af8febcbbfb3cba7fe1561814f25234c5">VPrintHelper</a>(out, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;}</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">// Print error message to console.</span></div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="keywordtype">void</span> OS::PrintError(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, ...) {</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  va_list <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  va_start(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  VPrintError(<a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  va_end(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  fflush(stderr);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="keywordtype">void</span> OS::VPrintError(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, va_list <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="namespacev8_1_1base.html#af8febcbbfb3cba7fe1561814f25234c5">VPrintHelper</a>(stderr, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base.html#a36caaf43a3f7761ae90d699b961f0239">OS::SNPrintF</a>(<span class="keywordtype">char</span>* str, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, ...) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  va_list <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  va_start(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1base.html#af0f7afb0da9a6caba38ac0c0018b48e3">VSNPrintF</a>(str, <a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  va_end(<a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;}</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160; </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base.html#af0f7afb0da9a6caba38ac0c0018b48e3">OS::VSNPrintF</a>(<span class="keywordtype">char</span>* str, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">format</a>, va_list <a class="code" href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">args</a>) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordtype">int</span> n = _vsnprintf_s(str, <a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a>, _TRUNCATE, <a class="code" href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">format</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">args</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="comment">// Make sure to zero-terminate the string if the output was</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// truncated or if there was an error.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">if</span> (n &lt; 0 || n &gt;= <a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a> &gt; 0)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      str[<a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">return</span> n;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160; </div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#aa2d5f71adc225182f5266fb2e4db2251">OS::StrNCpy</a>(<span class="keywordtype">char</span>* dest, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keyword">const</span> <span class="keywordtype">char</span>* src, <span class="keywordtype">size_t</span> n) {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="comment">// Use _TRUNCATE or strncpy_s crashes (by design) if buffer is too small.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordtype">size_t</span> buffer_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keywordflow">if</span> (n + 1 &gt; buffer_size)  <span class="comment">// count for trailing &#39;\0&#39;</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    n = _TRUNCATE;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = strncpy_s(dest, <a class="code" href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">length</a>, src, n);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == 0 || (n == _TRUNCATE &amp;&amp; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == STRUNCATE));</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="preprocessor">#undef _TRUNCATE</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#undef STRUNCATE</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#af84f800e82451651cc6efe8ddf189a3d">  749</a></span>&#160;<a class="code" href="namespacev8_1_1base.html#af84f800e82451651cc6efe8ddf189a3d">DEFINE_LAZY_LEAKY_OBJECT_GETTER</a>(<a class="code" href="classv8_1_1base_1_1RandomNumberGenerator.html">RandomNumberGenerator</a>,</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                                GetPlatformRandomNumberGenerator)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="keyword">static</span> <a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html">LazyMutex</a> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-starboard_8cc_03.html#a0937e0d115264e72b1b21f812e8b9518">rng_mutex</a> = <a class="code" href="mutex_8h.html#ab9eda31a32ad469c6c00d977fe45b37f">LAZY_MUTEX_INITIALIZER</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160; </div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html">  753</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a812fe31269e1a0364487d7d476158396">  755</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a812fe31269e1a0364487d7d476158396">UserShadowStackEnabled</a>() {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keyword">auto</span> is_user_cet_available_in_environment =</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>decltype(&amp;IsUserCetAvailableInEnvironment)<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;          ::GetProcAddress(::GetModuleHandleW(<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a><span class="stringliteral">&quot;kernel32.dll&quot;</span>),</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                           <span class="stringliteral">&quot;IsUserCetAvailableInEnvironment&quot;</span>));</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="keyword">auto</span> get_process_mitigation_policy =</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>decltype(&amp;GetProcessMitigationPolicy)<span class="keyword">&gt;</span>(::GetProcAddress(</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;          ::GetModuleHandle(<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a><span class="stringliteral">&quot;Kernel32.dll&quot;</span>), <span class="stringliteral">&quot;GetProcessMitigationPolicy&quot;</span>));</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">if</span> (!is_user_cet_available_in_environment || !get_process_mitigation_policy) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">if</span> (!is_user_cet_available_in_environment(</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          USER_CET_ENVIRONMENT_WIN32_PROCESS)) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  PROCESS_MITIGATION_USER_SHADOW_STACK_POLICY uss_policy;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">if</span> (!get_process_mitigation_policy(GetCurrentProcess(),</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                     ProcessUserShadowStackPolicy, &amp;uss_policy,</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                     <span class="keyword">sizeof</span>(uss_policy))) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160; </div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keywordflow">return</span> uss_policy.EnableUserShadowStack;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a88254250a2960488a56dd500cb2e988b">OS::Initialize</a>(<a class="code" href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fad">AbortMode</a> abort_mode, <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> gc_fake_mmap) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="namespacev8_1_1base.html#abfb3da57c44844599393e507140cbcd8">g_abort_mode</a> = abort_mode;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;}</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160; </div>
<div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#aeedd027d73c10ed704afa6ddfa29c1d1">  789</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>(__stdcall* <a class="code" href="namespacev8_1_1base.html#aeedd027d73c10ed704afa6ddfa29c1d1">VirtualAlloc2_t</a>)(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>, SIZE_T, ULONG, ULONG,</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                          MEM_EXTENDED_PARAMETER*, ULONG);</div>
<div class="line"><a name="l00791"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">  791</a></span>&#160;<a class="code" href="namespacev8_1_1base.html#aeedd027d73c10ed704afa6ddfa29c1d1">VirtualAlloc2_t</a> <a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160; </div>
<div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a87619b0a1932c3e4d4c0338efe862871">  793</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>(__stdcall* <a class="code" href="namespacev8_1_1base.html#a87619b0a1932c3e4d4c0338efe862871">MapViewOfFile3_t</a>)(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>, ULONG64,</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                           SIZE_T, ULONG, ULONG,</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                           MEM_EXTENDED_PARAMETER*, ULONG);</div>
<div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">  796</a></span>&#160;<a class="code" href="namespacev8_1_1base.html#a87619b0a1932c3e4d4c0338efe862871">MapViewOfFile3_t</a> <a class="code" href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">MapViewOfFile3</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a6ec1f9f97d53a12d50b359c2bade2a03">  798</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>(__stdcall* <a class="code" href="namespacev8_1_1base.html#a6ec1f9f97d53a12d50b359c2bade2a03">UnmapViewOfFile2_t</a>)(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>, <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>, ULONG);</div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">  799</a></span>&#160;<a class="code" href="namespacev8_1_1base.html#a6ec1f9f97d53a12d50b359c2bade2a03">UnmapViewOfFile2_t</a> <a class="code" href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">UnmapViewOfFile2</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="keywordtype">void</span> OS::EnsureWin32MemoryAPILoaded() {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">if</span> (!loaded) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a> = (<a class="code" href="namespacev8_1_1base.html#aeedd027d73c10ed704afa6ddfa29c1d1">VirtualAlloc2_t</a>)GetProcAddress(</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        GetModuleHandle(<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a><span class="stringliteral">&quot;kernelbase.dll&quot;</span>), <span class="stringliteral">&quot;VirtualAlloc2&quot;</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">MapViewOfFile3</a> = (<a class="code" href="namespacev8_1_1base.html#a87619b0a1932c3e4d4c0338efe862871">MapViewOfFile3_t</a>)GetProcAddress(</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        GetModuleHandle(<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a><span class="stringliteral">&quot;kernelbase.dll&quot;</span>), <span class="stringliteral">&quot;MapViewOfFile3&quot;</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">UnmapViewOfFile2</a> = (<a class="code" href="namespacev8_1_1base.html#a6ec1f9f97d53a12d50b359c2bade2a03">UnmapViewOfFile2_t</a>)GetProcAddress(</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        GetModuleHandle(<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a><span class="stringliteral">&quot;kernelbase.dll&quot;</span>), <span class="stringliteral">&quot;UnmapViewOfFile2&quot;</span>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;}</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160; </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a3c3d91f38f9c6f9d3823b5c214d37435">OS::IsHardwareEnforcedShadowStacksEnabled</a>() {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> cet_enabled = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a812fe31269e1a0364487d7d476158396">UserShadowStackEnabled</a>();</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordflow">return</span> cet_enabled;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#ae41652a444a61e011b305b550cc1bb4c">OS::EnsureAlternativeSignalStackIsAvailableForCurrentThread</a>() {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="comment">// Not supported on Windows.</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;}</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">OS::AllocatePageSize</a>() {</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> allocate_alignment = 0;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">if</span> (allocate_alignment == 0) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    SYSTEM_INFO info;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    GetSystemInfo(&amp;info);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    allocate_alignment = info.dwAllocationGranularity;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">return</span> allocate_alignment;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">OS::CommitPageSize</a>() {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> page_size = 0;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span> (page_size == 0) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    SYSTEM_INFO info;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    GetSystemInfo(&amp;info);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    page_size = info.dwPageSize;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(4096, page_size);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  }</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordflow">return</span> page_size;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;}</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#aea6cf39e9b532af620f2f7375406f1e2">OS::SetRandomMmapSeed</a>(int64_t seed) {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">if</span> (seed) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">MutexGuard</a> guard(<a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-starboard_8cc_03.html#a0937e0d115264e72b1b21f812e8b9518">rng_mutex</a>.<a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html#a731d414ae2f2f0fafb4df47502b21068">Pointer</a>());</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    GetPlatformRandomNumberGenerator()-&gt;SetSeed(seed);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;}</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1OS.html#a0dd812385ed06989631ba4146d2b649b">OS::GetRandomMmapAddr</a>() {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">// The address range used to randomize RWX allocations in OS::Allocate</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">// Try not to map pages into the default range that windows loads DLLs</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">// Use a multiple of 64k to prevent committing unused memory.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">// Note: This does not guarantee RWX regions will be within the</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">// range kAllocationRandomAddressMin to kAllocationRandomAddressMax</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="preprocessor">#ifdef V8_HOST_ARCH_64_BIT</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> kAllocationRandomAddressMin = 0x0000000080000000;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> kAllocationRandomAddressMax = 0x000003FFFFFF0000;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> kAllocationRandomAddressMin = 0x04000000;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> kAllocationRandomAddressMax = 0x3FFF0000;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> address;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">MutexGuard</a> guard(<a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-starboard_8cc_03.html#a0937e0d115264e72b1b21f812e8b9518">rng_mutex</a>.<a class="code" href="structv8_1_1base_1_1LazyInstanceImpl.html#a731d414ae2f2f0fafb4df47502b21068">Pointer</a>());</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    GetPlatformRandomNumberGenerator()-&gt;NextBytes(&amp;address, <span class="keyword">sizeof</span>(address));</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  address &lt;&lt;= <a class="code" href="build__config_8h.html#a8128318513dcb75c0fe7ae9ab4d3ebd0">kPageSizeBits</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  address += kAllocationRandomAddressMin;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  address &amp;= kAllocationRandomAddressMax;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(address);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;}</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160; </div>
<div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a963050fb98dc70c57f03655c613d953c">  887</a></span>&#160;<a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="namespacev8_1_1base.html#a17ca5a04ca6b2527ba088147ecde366e">GetProtectionFromMemoryPermission</a>(<a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> access) {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordflow">switch</span> (access) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70">OS::MemoryPermission::kNoAccess</a>:</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a14332c87a9e0e06b09a20d1fd8a64197">OS::MemoryPermission::kNoAccessWillJitLater</a>:</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <span class="keywordflow">return</span> PAGE_NOACCESS;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a8604cf55a79d6bfdcb30f77d1622839b">OS::MemoryPermission::kRead</a>:</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">return</span> PAGE_READONLY;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af34c23f2eed93c9645e1aa681c77bec5">OS::MemoryPermission::kReadWrite</a>:</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">return</span> PAGE_READWRITE;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a203620cd187bc1be1aec50642019ee57">OS::MemoryPermission::kReadWriteExecute</a>:</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <span class="keywordflow">if</span> (IsWindows10OrGreater())</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">return</span> PAGE_EXECUTE_READWRITE | PAGE_TARGETS_INVALID;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">return</span> PAGE_EXECUTE_READWRITE;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a1a4c5e3d44db171c5ee5aa4bb47a59ed">OS::MemoryPermission::kReadExecute</a>:</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">if</span> (IsWindows10OrGreater())</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">return</span> PAGE_EXECUTE_READ | PAGE_TARGETS_INVALID;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">return</span> PAGE_EXECUTE_READ;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  }</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160; </div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">// Desired access parameter for MapViewOfFile</span></div>
<div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a31cfc9a9fce923a718f658d3dfb35dd7">  909</a></span>&#160;<a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a31cfc9a9fce923a718f658d3dfb35dd7">GetFileViewAccessFromMemoryPermission</a>(<a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> access) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">switch</span> (access) {</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70">OS::MemoryPermission::kNoAccess</a>:</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a14332c87a9e0e06b09a20d1fd8a64197">OS::MemoryPermission::kNoAccessWillJitLater</a>:</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a8604cf55a79d6bfdcb30f77d1622839b">OS::MemoryPermission::kRead</a>:</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      <span class="keywordflow">return</span> FILE_MAP_READ;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af34c23f2eed93c9645e1aa681c77bec5">OS::MemoryPermission::kReadWrite</a>:</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      <span class="keywordflow">return</span> FILE_MAP_READ | FILE_MAP_WRITE;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      <span class="comment">// Execute access is not supported</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;}</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">  924</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">VirtualAllocWrapper</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>,</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                          <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect) {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a>) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a>(GetCurrentProcess(), address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect,</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                         NULL, 0);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">return</span> VirtualAlloc(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a6ca4b7f7b0918008be1156c25d2f7b3d">  934</a></span>&#160;uint8_t* <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a6ca4b7f7b0918008be1156c25d2f7b3d">VirtualAllocWithHint</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect,</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                              <span class="keywordtype">void</span>* hint) {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <a class="code" href="win32-headers_8h.html#ab064840df4ab5a8cf90ddb963f94de34">LPVOID</a> base = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">VirtualAllocWrapper</a>(hint, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160; </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="comment">// On failure, let the OS find an address to use.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (hint &amp;&amp; base == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    base = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">VirtualAllocWrapper</a>(<span class="keyword">nullptr</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(base);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;}</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#afe193e4925bba6817ac9ed8e7910baa8">  946</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#afe193e4925bba6817ac9ed8e7910baa8">AllocateInternal</a>(<span class="keywordtype">void</span>* hint, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                       <span class="keywordtype">size_t</span> page_size, <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect) {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <span class="comment">// First, try an exact size aligned allocation.</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  uint8_t* base = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a6ca4b7f7b0918008be1156c25d2f7b3d">VirtualAllocWithHint</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect, hint);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">if</span> (base == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;  <span class="comment">// Can&#39;t allocate, we&#39;re OOM.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; </div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">// If address is suitably aligned, we&#39;re done.</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  uint8_t* aligned_base = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(base), alignment));</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">if</span> (base == aligned_base) <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(base);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160; </div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="comment">// Otherwise, free it and try a larger allocation.</span></div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(VirtualFree(base, 0, MEM_RELEASE));</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// Clear the hint. It&#39;s unlikely we can allocate at this address.</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  hint = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="comment">// Add the maximum misalignment so we are guaranteed an aligned base address</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">// in the allocated region.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordtype">size_t</span> padded_size = <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> + (alignment - page_size);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxAttempts = 3;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  aligned_base = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; kMaxAttempts; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    base = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a6ca4b7f7b0918008be1156c25d2f7b3d">VirtualAllocWithHint</a>(padded_size, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect, hint);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">if</span> (base == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;  <span class="comment">// Can&#39;t allocate, we&#39;re OOM.</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// Try to trim the allocation by freeing the padded allocation and then</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="comment">// calling VirtualAlloc at the aligned base.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(VirtualFree(base, 0, MEM_RELEASE));</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    aligned_base = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(base), alignment));</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    base = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">VirtualAllocWrapper</a>(aligned_base, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect));</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// We might not get the reduced allocation due to a race. In that case,</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// base will be nullptr.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (base != <span class="keyword">nullptr</span>) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(base, base == aligned_base);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(base);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;}</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160; </div>
<div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#abafde84aab8e9fdabb1031aa2363b8be">  987</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#abafde84aab8e9fdabb1031aa2363b8be">CheckIsOOMError</a>(<span class="keywordtype">int</span> error) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="comment">// We expect one of ERROR_NOT_ENOUGH_MEMORY or ERROR_COMMITMENT_LIMIT. We&#39;d</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="comment">// still like to get the actual error code when it&#39;s not one of the expected</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// errors, so use the construct below to achieve that.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">if</span> (error != ERROR_NOT_ENOUGH_MEMORY) <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(ERROR_COMMITMENT_LIMIT, error);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;}</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160; </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1OS.html#ac66beba596dccee250254bf6a1be24af">OS::Allocate</a>(<span class="keywordtype">void</span>* hint, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                   MemoryPermission access) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordtype">size_t</span> page_size = <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>();</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % page_size);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, alignment % page_size);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(page_size, alignment);</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  hint = <a class="code" href="src_2base_2macros_8h.html#a642af91b62cafba63b2a751a6547a085">AlignedAddress</a>(hint, alignment);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> = (access == <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70">OS::MemoryPermission::kNoAccess</a>)</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                    ? MEM_RESERVE</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                    : MEM_RESERVE | MEM_COMMIT;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect = <a class="code" href="namespacev8_1_1base.html#a17ca5a04ca6b2527ba088147ecde366e">GetProtectionFromMemoryPermission</a>(access);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#afe193e4925bba6817ac9ed8e7910baa8">AllocateInternal</a>(hint, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, alignment, page_size, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;}</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160; </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#af49ddc64d9aed9c71565d48a80e9f54d">OS::Free</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(address) % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>());</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>());</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(0, VirtualFree(address, 0, MEM_RELEASE));</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;}</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1OS.html#a09f262c8eef5ba03f1f4ce5c91d988b4">OS::AllocateShared</a>(<span class="keywordtype">void</span>* hint, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MemoryPermission permission,</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                         <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>, uint64_t offset) {</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(hint) % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>());</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>());</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, offset % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>());</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> off_hi = <span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(offset &gt;&gt; 32);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> off_lo = <span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(offset);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> access = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a31cfc9a9fce923a718f658d3dfb35dd7">GetFileViewAccessFromMemoryPermission</a>(permission);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160; </div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> file_mapping = FileMappingFromSharedMemoryHandle(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      MapViewOfFileEx(file_mapping, access, off_hi, off_lo, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, hint);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160; </div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) {</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">// Retry without hint.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = MapViewOfFile(file_mapping, access, off_hi, off_lo, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160; </div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;}</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160; </div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a7338fab5bb87f80d353c71ea3dddd882">OS::FreeShared</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(UnmapViewOfFile(address));</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;}</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a91d51a9da83218dd53913547da3eaba3">OS::Release</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(address) % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(0, VirtualFree(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_DECOMMIT));</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;}</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a7742d43e87084a00f0ed98dd84a489ee">OS::SetPermissions</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MemoryPermission access) {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(address) % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">if</span> (access == <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70">MemoryPermission::kNoAccess</a>) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordflow">return</span> VirtualFree(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_DECOMMIT) != 0;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect = <a class="code" href="namespacev8_1_1base.html#a17ca5a04ca6b2527ba088147ecde366e">GetProtectionFromMemoryPermission</a>(access);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">VirtualAllocWrapper</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_COMMIT, protect);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160; </div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// Any failure that&#39;s not OOM likely indicates a bug in the caller (e.g.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// using an invalid mapping) so attempt to catch that here to facilitate</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="comment">// debugging of these failures.</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>) <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#abafde84aab8e9fdabb1031aa2363b8be">CheckIsOOMError</a>(<a class="code" href="classv8_1_1base_1_1OS.html#a6dc6ca7fa1417c3b8ae2d70fb19ab023">GetLastError</a>());</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160; </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;}</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a35867acbbe1a1379920d84872e0aa04f">OS::SetDataReadOnly</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(address) % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160; </div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> old_protection;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(VirtualProtect(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, PAGE_READONLY, &amp;old_protection));</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(old_protection == PAGE_READWRITE || old_protection == PAGE_WRITECOPY);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;}</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160; </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a9672f4e91c89f0505dc5161ecd33d7e2">OS::RecommitPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MemoryPermission access) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#a7742d43e87084a00f0ed98dd84a489ee">SetPermissions</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, access);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;}</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160; </div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a255a743660b9e487ae7da4c9dd9b1b00">OS::DiscardSystemPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">// On Windows, discarded pages are not returned to the system immediately and</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">// not guaranteed to be zeroed when returned to the application.</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keyword">using</span> DiscardVirtualMemoryFunction =</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a>(<a class="code" href="win32-headers_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a>*)(<a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a> virtualAddress, SIZE_T <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="keyword">static</span> std::atomic&lt;DiscardVirtualMemoryFunction&gt; discard_virtual_memory(</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>DiscardVirtualMemoryFunction<span class="keyword">&gt;</span>(-1));</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">if</span> (discard_virtual_memory ==</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>DiscardVirtualMemoryFunction<span class="keyword">&gt;</span>(-1))</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    discard_virtual_memory =</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span>DiscardVirtualMemoryFunction<span class="keyword">&gt;</span>(GetProcAddress(</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;            GetModuleHandle(<a class="code" href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">L</a><span class="stringliteral">&quot;Kernel32.dll&quot;</span>), <span class="stringliteral">&quot;DiscardVirtualMemory&quot;</span>));</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  <span class="comment">// Use DiscardVirtualMemory when available because it releases faster than</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">// MEM_RESET.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  DiscardVirtualMemoryFunction discard_function = discard_virtual_memory.load();</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <span class="keywordflow">if</span> (discard_function) {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> ret = discard_function(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (!ret) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  }</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="comment">// DiscardVirtualMemory is buggy in Win10 SP0, so fall back to MEM_RESET on</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="comment">// failure.</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordtype">void</span>* ptr = <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">VirtualAllocWrapper</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_RESET, PAGE_READWRITE);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(ptr);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <span class="keywordflow">return</span> ptr;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;}</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a88339c38512e8fa4bdbc8a1d8dd7bf66">OS::DecommitPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(address) % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">CommitPageSize</a>());</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="comment">// https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtualfree:</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <span class="comment">// &quot;If a page is decommitted but not released, its state changes to reserved.</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  <span class="comment">// Subsequently, you can call VirtualAlloc to commit it, or VirtualFree to</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="comment">// release it. Attempts to read from or write to a reserved page results in an</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// access violation exception.&quot;</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">// https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">// for MEM_COMMIT: &quot;The function also guarantees that when the caller later</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">// initially accesses the memory, the contents will be zero.&quot;</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">return</span> VirtualFree(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_DECOMMIT) != 0;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;}</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a116546efe64cdd2d0c085b1f8dc4983c">OS::SealPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a23eb7c8ffeb69f1ec8185af47c80662c">OS::CanReserveAddressSpace</a>() {</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a> != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">MapViewOfFile3</a> != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;         <a class="code" href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">UnmapViewOfFile2</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160; </div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;std::optional&lt;AddressSpaceReservation&gt; <a class="code" href="classv8_1_1base_1_1OS.html#af0c9325eaef65472d7ca4573ecd511c4">OS::CreateAddressSpaceReservation</a>(</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordtype">void</span>* hint, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">size_t</span> alignment,</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    MemoryPermission max_permission) {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1base_1_1OS.html#a23eb7c8ffeb69f1ec8185af47c80662c">CanReserveAddressSpace</a>());</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="keywordtype">size_t</span> page_size = <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">AllocatePageSize</a>();</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % page_size);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, alignment % page_size);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(page_size, alignment);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  hint = <a class="code" href="src_2base_2macros_8h.html#a642af91b62cafba63b2a751a6547a085">AlignedAddress</a>(hint, alignment);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160; </div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">// On Windows, address space reservations are backed by placeholder mappings.</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordtype">void</span>* reservation =</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      <a class="code" href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#afe193e4925bba6817ac9ed8e7910baa8">AllocateInternal</a>(hint, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, alignment, page_size,</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                       MEM_RESERVE | MEM_RESERVE_PLACEHOLDER, PAGE_NOACCESS);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (!reservation) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160; </div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#af3c3169ba39ed1657173720c2bbbc461">AddressSpaceReservation</a>(reservation, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;}</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a452e3c5f2ae3c33d8709e005b7ec5e56">OS::FreeAddressSpaceReservation</a>(AddressSpaceReservation reservation) {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#af49ddc64d9aed9c71565d48a80e9f54d">OS::Free</a>(reservation.base(), reservation.size());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;}</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160; </div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;<a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="classv8_1_1base_1_1OS.html#a6fff4409810cda533094f6b1a24f5d43">OS::CreateSharedMemoryHandleForTesting</a>(<span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> = CreateFileMapping(INVALID_HANDLE_VALUE, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                                    PAGE_READWRITE, 0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#ac9f421c9670d61efa9094326eb8176dc">kInvalidSharedMemoryHandle</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="keywordflow">return</span> SharedMemoryHandleFromFileMapping(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;}</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160; </div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#acf9b4dccc2649b5832604e3db654fcb3">OS::DestroySharedMemoryHandle</a>(<a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8.html#ac9f421c9670d61efa9094326eb8176dc">kInvalidSharedMemoryHandle</a>, <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> file_mapping = FileMappingFromSharedMemoryHandle(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(CloseHandle(file_mapping));</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;}</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1OS.html#a1e1f6886901ee75380b7f0514952ea2f">OS::HasLazyCommits</a>() {</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">// TODO(alph): implement for the platform.</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;}</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160; </div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a04656670e0be067dfe2a93bd2c809b7c">OS::Sleep</a>(TimeDelta interval) {</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#a04656670e0be067dfe2a93bd2c809b7c">::Sleep</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(interval.InMilliseconds()));</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a7377d9b8496af1ac97eba81f7c2d46c5"> 1190</a></span>&#160;<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a7377d9b8496af1ac97eba81f7c2d46c5">PreciseSleepTimer::PreciseSleepTimer</a>() : timer_(NULL) {}</div>
<div class="line"><a name="l01191"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a76dd03b6c2a26136fb374ce34838d1e4"> 1191</a></span>&#160;<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a76dd03b6c2a26136fb374ce34838d1e4">PreciseSleepTimer::~PreciseSleepTimer</a>() { <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a211d830495b5b17083e8a95be67b7777">Close</a>(); }</div>
<div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a6bf556a5c34977c58c63cbc94a423a1d"> 1192</a></span>&#160;<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a7377d9b8496af1ac97eba81f7c2d46c5">PreciseSleepTimer::PreciseSleepTimer</a>(<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html">PreciseSleepTimer</a>&amp;&amp; other) <a class="code" href="src_2base_2compiler-specific_8h.html#a415acbb16ae1bfc9e3e053f8477852f5">V8_NOEXCEPT</a> {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  Close();</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  timer_ = other.timer_;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  other.timer_ = NULL;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;}</div>
<div class="line"><a name="l01197"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a1ac86f0fd7144286486391339af2325a"> 1197</a></span>&#160;<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html">PreciseSleepTimer</a>&amp; <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a0ccc7c49d1d145db3b6d388151b88955">PreciseSleepTimer::operator=</a>(<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html">PreciseSleepTimer</a>&amp;&amp; other)</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="src_2base_2compiler-specific_8h.html#a415acbb16ae1bfc9e3e053f8477852f5">V8_NOEXCEPT</a> {</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  Close();</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  timer_ = other.timer_;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  other.timer_ = NULL;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;}</div>
<div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a97c0e024fece2e8e0234908abfe345af"> 1204</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a97c0e024fece2e8e0234908abfe345af">PreciseSleepTimer::IsInitialized</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a> != NULL; }</div>
<div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a211d830495b5b17083e8a95be67b7777"> 1205</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a211d830495b5b17083e8a95be67b7777">PreciseSleepTimer::Close</a>() {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a> != NULL) {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    CloseHandle(<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a> = NULL;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  }</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;}</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a430caa0a719d0b3b54acdab395f3facb"> 1212</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a430caa0a719d0b3b54acdab395f3facb">PreciseSleepTimer::TryInit</a>() {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a211d830495b5b17083e8a95be67b7777">Close</a>();</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  <span class="comment">// This flag allows precise sleep times, but is only available since Windows</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  <span class="comment">// 10 version 1803.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> = CREATE_WAITABLE_TIMER_HIGH_RESOLUTION;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <span class="comment">// The TIMER_MODIFY_STATE permission allows setting the timer, and SYNCHRONIZE</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="comment">// allows waiting for it.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> desired_access = TIMER_MODIFY_STATE | SYNCHRONIZE;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a> =</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      CreateWaitableTimerExW(NULL,  <span class="comment">// Cannot be inherited by child processes</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                             NULL,  <span class="comment">// Cannot be looked up by name</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                             <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, desired_access);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;}</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1PreciseSleepTimer.html#a07181eb2eaac5ab23b4d42d60961cccc"> 1226</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a07181eb2eaac5ab23b4d42d60961cccc">PreciseSleepTimer::Sleep</a>(<a class="code" href="classv8_1_1base_1_1TimeDelta.html">TimeDelta</a> interval)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="comment">// Time is specified in 100 nanosecond intervals. Negative values indicate</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;  <span class="comment">// relative time.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  LARGE_INTEGER due_time;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  due_time.QuadPart = -interval.<a class="code" href="classv8_1_1base_1_1TimeDelta.html#ad9006b332aa15e66f2ddb8e8ba910892">InMicroseconds</a>() * 10;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <a class="code" href="win32-headers_8h.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a> period = 0;  <span class="comment">// Not periodic; wake only once</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  PTIMERAPCROUTINE completion_routine = NULL;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <a class="code" href="win32-headers_8h.html#ab064840df4ab5a8cf90ddb963f94de34">LPVOID</a> arg_to_completion_routine = NULL;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="classint.html">BOOL</a> resume = <span class="keyword">false</span>;  <span class="comment">// No need to wake system from sleep</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(SetWaitableTimer(<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a>, &amp;due_time, period, completion_routine,</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                         arg_to_completion_routine, resume));</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> timeout_interval = INFINITE;  <span class="comment">// Return only when the object is signaled</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(WAIT_OBJECT_0, WaitForSingleObject(<a class="code" href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">timer_</a>, timeout_interval));</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;}</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160; </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a3abddefa2e7ad8ab0628e6b44fad5a6b">OS::Abort</a>() {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// Give a chance to debug the failure.</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">if</span> (IsDebuggerPresent()) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#affd1b5cd2e2a82058f49432ffc5236e6">DebugBreak</a>();</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160; </div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// Before aborting, make sure to flush output buffers.</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  fflush(stdout);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  fflush(stderr);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160; </div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacev8_1_1base.html#abfb3da57c44844599393e507140cbcd8">g_abort_mode</a>) {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fadaff277872582ccfdd97afcd867173f868">AbortMode::kExitWithSuccessAndIgnoreDcheckFailures</a>:</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">ExitProcess</a>(0);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fada7290ff94f6dd6700d63caeb72f719567">AbortMode::kExitWithFailureAndIgnoreDcheckFailures</a>:</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">ExitProcess</a>(-1);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fada3ae13cea59392a41e8b3af2bd9932584">AbortMode::kImmediateCrash</a>:</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <a class="code" href="immediate-crash_8h.html#a7c3f001a964764527e52b6a429f7499f">IMMEDIATE_CRASH</a>();</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fada6867faeaa475fda467e48267db2bb8a8">AbortMode::kDefault</a>:</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="comment">// Make sure function doesn&#39;t return.</span></div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">ExitProcess</a>(3);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160; </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#affd1b5cd2e2a82058f49432ffc5236e6">OS::DebugBreak</a>() {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="preprocessor">#if V8_CC_MSVC</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="comment">// To avoid Visual Studio runtime support the following code can be used</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="comment">// instead</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  <span class="comment">// __asm { int 3 }</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  __debugbreak();</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#affd1b5cd2e2a82058f49432ffc5236e6">::DebugBreak</a>();</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;}</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html"> 1280</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html">Win32MemoryMappedFile</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html">OS::MemoryMappedFile</a> {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01282"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ae1e188f285fecab7d70a09ef5a796a5a"> 1282</a></span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ae1e188f285fecab7d70a09ef5a796a5a">Win32MemoryMappedFile</a>(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> file_mapping, <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a6e75caaea85c6bde8915c4f05bde6d38">memory</a>,</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                        <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab2db1d85efad14a749c1f4d7976395c8">size</a>)</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      : <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a7b094fea500add8e7ad760bcce2ddd0b">file_</a>(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>),</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a11fec7c9a5733e81dc115f20092e7a35">file_mapping_</a>(file_mapping),</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;        <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab68210e4cf1032124aeadae7bd095a4f">memory_</a>(<a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a6e75caaea85c6bde8915c4f05bde6d38">memory</a>),</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;        <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a0c865611779577193ef2a95c2bc1e6a0">size_</a>(<a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab2db1d85efad14a749c1f4d7976395c8">size</a>) {}</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#abdad89a51a328960534cfa6fb0a15e27">~Win32MemoryMappedFile</a>() final;</div>
<div class="line"><a name="l01289"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a6e75caaea85c6bde8915c4f05bde6d38"> 1289</a></span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a6e75caaea85c6bde8915c4f05bde6d38">memory</a>() const final { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab68210e4cf1032124aeadae7bd095a4f">memory_</a>; }</div>
<div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab2db1d85efad14a749c1f4d7976395c8"> 1290</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab2db1d85efad14a749c1f4d7976395c8">size</a>() const final { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a0c865611779577193ef2a95c2bc1e6a0">size_</a>; }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160; </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a7b094fea500add8e7ad760bcce2ddd0b"> 1293</a></span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a7b094fea500add8e7ad760bcce2ddd0b">file_</a>;</div>
<div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a11fec7c9a5733e81dc115f20092e7a35"> 1294</a></span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a11fec7c9a5733e81dc115f20092e7a35">file_mapping_</a>;</div>
<div class="line"><a name="l01295"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab68210e4cf1032124aeadae7bd095a4f"> 1295</a></span>&#160;  <span class="keywordtype">void</span>* <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab68210e4cf1032124aeadae7bd095a4f">memory_</a>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a0c865611779577193ef2a95c2bc1e6a0"> 1296</a></span>&#160;  <span class="keywordtype">size_t</span> <span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a0c865611779577193ef2a95c2bc1e6a0">size_</a>;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;};</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160; </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html">OS::MemoryMappedFile</a>* <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#acf4def71902b724f3ed274f2b4ad3051">OS::MemoryMappedFile::open</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                                 FileMode <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="comment">// Open a physical file.</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> access = GENERIC_READ;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243af34c23f2eed93c9645e1aa681c77bec5">FileMode::kReadWrite</a>) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    access |= GENERIC_WRITE;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  }</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160; </div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  std::wstring utf16_name = <a class="code" href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">ConvertUtf8StringToUtf16</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = CreateFileW(utf16_name.c_str(), access,</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                            FILE_SHARE_READ | FILE_SHARE_WRITE, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                            OPEN_EXISTING, 0, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> == INVALID_HANDLE_VALUE) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a56e5f0fe4c5b717648bfab33a2c9b5a6">size</a> = GetFileSize(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a56e5f0fe4c5b717648bfab33a2c9b5a6">size</a> == 0) <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 0);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protection =</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d">FileMode::kReadOnly</a>) ? PAGE_READONLY : PAGE_READWRITE;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="comment">// Create a file mapping for the physical file.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> file_mapping =</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;      CreateFileMapping(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">nullptr</span>, protection, 0, <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a56e5f0fe4c5b717648bfab33a2c9b5a6">size</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">if</span> (file_mapping == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <span class="comment">// Map a view of the file into memory.</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> view_access =</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d">FileMode::kReadOnly</a>) ? FILE_MAP_READ : FILE_MAP_ALL_ACCESS;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a95a5c9b694151392c9d4d210a013dbff">memory</a> = MapViewOfFile(file_mapping, view_access, 0, 0, <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a56e5f0fe4c5b717648bfab33a2c9b5a6">size</a>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, file_mapping, <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a95a5c9b694151392c9d4d210a013dbff">memory</a>, <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a56e5f0fe4c5b717648bfab33a2c9b5a6">size</a>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;}</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<a class="code" href="classv8_1_1base_1_1OS.html#aef5475229308093e4e94c5a41d93d01b">OS::MemoryMappedFile</a>* <a class="code" href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a3c10e7c6b424824c2c6cc8dc1dd65f68">OS::MemoryMappedFile::create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                                                   <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <span class="keywordtype">void</span>* initial) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  std::wstring utf16_name = <a class="code" href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">ConvertUtf8StringToUtf16</a>(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="comment">// Open a physical file.</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> = CreateFileW(utf16_name.c_str(), GENERIC_READ | GENERIC_WRITE,</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                            FILE_SHARE_READ | FILE_SHARE_WRITE, <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                            OPEN_ALWAYS, 0, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a> == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> == 0) <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, 0);</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="comment">// Create a file mapping for the physical file.</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> file_mapping = CreateFileMapping(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, <span class="keyword">nullptr</span>, PAGE_READWRITE, 0,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                          <span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>), <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">if</span> (file_mapping == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;  <span class="comment">// Map a view of the file into memory.</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordtype">void</span>* memory = MapViewOfFile(file_mapping, FILE_MAP_ALL_ACCESS, 0, 0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">if</span> (memory) memmove(memory, initial, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> Win32MemoryMappedFile(<a class="code" href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a>, file_mapping, memory, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;}</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160; </div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160; </div>
<div class="line"><a name="l01353"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#abdad89a51a328960534cfa6fb0a15e27"> 1353</a></span>&#160;<a class="code" href="classv8_1_1base_1_1Win32MemoryMappedFile.html#abdad89a51a328960534cfa6fb0a15e27">Win32MemoryMappedFile::~Win32MemoryMappedFile</a>() {</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span> (memory_) UnmapViewOfFile(memory_);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">if</span> (file_mapping_) CloseHandle(file_mapping_);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  CloseHandle(file_);</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;}</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160; </div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;std::optional&lt;AddressSpaceReservation&gt;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#abf4beaddbe678daad5bdc533af9c897e">AddressSpaceReservation::CreateSubReservation</a>(</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    <span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> max_permission) {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="comment">// Nothing to do, the sub reservation must already have been split by now.</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">OS::AllocatePageSize</a>());</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(address) % <a class="code" href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">OS::AllocatePageSize</a>());</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160; </div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#af3c3169ba39ed1657173720c2bbbc461">AddressSpaceReservation</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;}</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160; </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#acbcdc11027c315bd18c84a58550a3b22">AddressSpaceReservation::FreeSubReservation</a>(</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#af3c3169ba39ed1657173720c2bbbc461">AddressSpaceReservation</a> reservation) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="comment">// Nothing to do.</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="comment">// Pages allocated inside the reservation must&#39;ve already been freed.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;}</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160; </div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="keywordtype">bool</span> AddressSpaceReservation::SplitPlaceholder(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  <span class="keywordflow">return</span> VirtualFree(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_RELEASE | MEM_PRESERVE_PLACEHOLDER);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;}</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160; </div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="keywordtype">bool</span> AddressSpaceReservation::MergePlaceholders(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="keywordflow">return</span> VirtualFree(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_RELEASE | MEM_COALESCE_PLACEHOLDERS);</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;}</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160; </div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#a1b2ba9ef0daae9361a3ae81a3231e7ad">AddressSpaceReservation::Allocate</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                       <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> access) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a> = (access == <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70">OS::MemoryPermission::kNoAccess</a>)</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                    ? MEM_RESERVE | MEM_REPLACE_PLACEHOLDER</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                    : MEM_RESERVE | MEM_COMMIT | MEM_REPLACE_PLACEHOLDER;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect = <a class="code" href="namespacev8_1_1base.html#a17ca5a04ca6b2527ba088147ecde366e">GetProtectionFromMemoryPermission</a>(access);</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">VirtualAlloc2</a>(GetCurrentProcess(), address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a>, protect,</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                       <span class="keyword">nullptr</span>, 0);</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;}</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160; </div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#a28886e7df7b1c1118274ced68ca42fb9">AddressSpaceReservation::Free</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="keywordflow">return</span> VirtualFree(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_RELEASE | MEM_PRESERVE_PLACEHOLDER);</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;}</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#ac23a72582093e40a021ae10c349295e7">AddressSpaceReservation::AllocateShared</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                                             <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> access,</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                                             <a class="code" href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">PlatformSharedMemoryHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>,</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                                             uint64_t offset) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">MapViewOfFile3</a>);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> protect = <a class="code" href="namespacev8_1_1base.html#a17ca5a04ca6b2527ba088147ecde366e">GetProtectionFromMemoryPermission</a>(access);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> file_mapping = FileMappingFromSharedMemoryHandle(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">MapViewOfFile3</a>(file_mapping, GetCurrentProcess(), address, offset,</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;                        <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, MEM_REPLACE_PLACEHOLDER, protect, <span class="keyword">nullptr</span>, 0);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;}</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#aa4bb7cf7948111d75fa6c35fd894f281">AddressSpaceReservation::FreeShared</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">UnmapViewOfFile2</a>);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160; </div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">UnmapViewOfFile2</a>(GetCurrentProcess(), address,</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                          MEM_PRESERVE_PLACEHOLDER);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#a333ec9f58ea8a8c14caad606a2ed2ad4">AddressSpaceReservation::SetPermissions</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;                                             <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> access) {</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#a7742d43e87084a00f0ed98dd84a489ee">OS::SetPermissions</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, access);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;}</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160; </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#a231d9def44bb0962df72c0d0b4220ba4">AddressSpaceReservation::RecommitPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                                            <a class="code" href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">OS::MemoryPermission</a> access) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#a9672f4e91c89f0505dc5161ecd33d7e2">OS::RecommitPages</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, access);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;}</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160; </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#a125b878cfa777f456a9ec2b9402d61d0">AddressSpaceReservation::DiscardSystemPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#a255a743660b9e487ae7da4c9dd9b1b00">OS::DiscardSystemPages</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;}</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1AddressSpaceReservation.html#a385a75700b7c8cb28abbd80b5145c576">AddressSpaceReservation::DecommitPages</a>(<span class="keywordtype">void</span>* address, <span class="keywordtype">size_t</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">Contains</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>));</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1OS.html#a88339c38512e8fa4bdbc8a1d8dd7bf66">OS::DecommitPages</a>(address, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;}</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160; </div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment">// The following code loads functions defined in DbhHelp.h and TlHelp32.h</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment">// dynamically. This is to avoid being depending on dbghelp.dll and</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="comment">// tlhelp32.dll when running (the functions in tlhelp32.dll have been moved to</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment">// kernel32.dll at some point so loading functions defines in TlHelp32.h</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment">// dynamically might not be necessary any more - for some versions of Windows?).</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">// Function pointers to functions dynamically loaded from dbghelp.dll.</span></div>
<div class="line"><a name="l01454"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818"> 1454</a></span>&#160;<span class="preprocessor">#define DBGHELP_FUNCTION_LIST(V)  \</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="preprocessor">  V(SymInitialize)                \</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="preprocessor">  V(SymGetOptions)                \</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="preprocessor">  V(SymSetOptions)                \</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">  V(SymGetSearchPath)             \</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor">  V(SymLoadModule64)              \</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="preprocessor">  V(StackWalk64)                  \</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="preprocessor">  V(SymGetSymFromAddr64)          \</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="preprocessor">  V(SymGetLineFromAddr64)         \</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="preprocessor">  V(SymFunctionTableAccess64)     \</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="preprocessor">  V(SymGetModuleBase64)</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160; </div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">// Function pointers to functions dynamically loaded from dbghelp.dll.</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4"> 1467</a></span>&#160;<span class="preprocessor">#define TLHELP32_FUNCTION_LIST(V)  \</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="preprocessor">  V(CreateToolhelp32Snapshot)      \</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="preprocessor">  V(Module32FirstW)                \</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="preprocessor">  V(Module32NextW)</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160; </div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">// Define the decoration to use for the type and variable name used for</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">// dynamically loaded DLL function..</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77"> 1474</a></span>&#160;<span class="preprocessor">#define DLL_FUNC_TYPE(name) _##name##_</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#a43223e71833ca2a79d67807e2ea44e38"> 1475</a></span>&#160;<span class="preprocessor">#define DLL_FUNC_VAR(name) _##name</span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160; </div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">// Define the type for each dynamically loaded DLL function. The function</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">// definitions are copied from DbgHelp.h and TlHelp32.h. The IN and VOID macros</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment">// from the Windows include files are redefined here to have the function</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment">// definitions to be as close to the ones in the original .h files as possible.</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="preprocessor">#ifndef IN</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928"> 1482</a></span>&#160;<span class="preprocessor">#define IN</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="preprocessor">#ifndef VOID</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf"> 1485</a></span>&#160;<span class="preprocessor">#define VOID void</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">// DbgHelp isn&#39;t supported on MinGW yet</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#ifndef __MINGW32__</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">// DbgHelp.h functions.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a7de9ac659321d3e042b09ddcb1e235c7"> 1491</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a7de9ac659321d3e042b09ddcb1e235c7">SymInitialize</a>) = <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(<a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess,</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                                                      <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR UserSearchPath,</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;                                                      <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="classint.html">BOOL</a> fInvadeProcess);</div>
<div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a6d0593db554d928479484836ade326fe"> 1494</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a6d0593db554d928479484836ade326fe">SymGetOptions</a>) = <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a>(__stdcall*)(<a class="code" href="platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>);</div>
<div class="line"><a name="l01495"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#aca82f387e10606199d99268240805673"> 1495</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#aca82f387e10606199d99268240805673">SymSetOptions</a>) = <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a>(__stdcall*)(<a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> SymOptions);</div>
<div class="line"><a name="l01496"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#ad1adbb312b6ffac7035510d13c07351f"> 1496</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#ad1adbb312b6ffac7035510d13c07351f">SymGetSearchPath</a>) = <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess, OUT PSTR SearchPath, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> SearchPathLength);</div>
<div class="line"><a name="l01498"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#ae7af057f5e7195b5a25bd5d2859111b6"> 1498</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#ae7af057f5e7195b5a25bd5d2859111b6">SymLoadModule64</a>) = DWORD64(__stdcall*)(</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hFile, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR ImageName, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> PSTR ModuleName,</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> DWORD64 BaseOfDll, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> SizeOfDll);</div>
<div class="line"><a name="l01501"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#ace7856ebd78c5ee1b5dede25b79ab8c5"> 1501</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#ace7856ebd78c5ee1b5dede25b79ab8c5">StackWalk64</a>) = <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> MachineType, <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess, <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hThread,</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    LPSTACKFRAME64 <a class="code" href="classv8_1_1StackFrame.html">StackFrame</a>, <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a> <a class="code" href="namespacev8_1_1internal_1_1win64__unwindinfo.html#ae4b7d96f9ac1451c2013010ee0da2e56">ContextRecord</a>,</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    PREAD_PROCESS_MEMORY_ROUTINE64 ReadMemoryRoutine,</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    PFUNCTION_TABLE_ACCESS_ROUTINE64 FunctionTableAccessRoutine,</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    PGET_MODULE_BASE_ROUTINE64 GetModuleBaseRoutine,</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    PTRANSLATE_ADDRESS_ROUTINE64 TranslateAddress);</div>
<div class="line"><a name="l01508"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#ac6c98e301d317606d696c4249faf4f9d"> 1508</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#ac6c98e301d317606d696c4249faf4f9d">SymGetSymFromAddr64</a>) = <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> DWORD64 qwAddr, OUT PDWORD64 pdwDisplacement,</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    OUT PIMAGEHLP_SYMBOL64 <a class="code" href="classv8_1_1Symbol.html">Symbol</a>);</div>
<div class="line"><a name="l01511"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a1e252e9780a545bfb5cfe0b2c59a5a19"> 1511</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a1e252e9780a545bfb5cfe0b2c59a5a19">SymGetLineFromAddr64</a>) =</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(<a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess, <a class="code" href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> DWORD64 qwAddr,</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                     OUT PDWORD pdwDisplacement, OUT PIMAGEHLP_LINE64 Line64);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment">// DbgHelp.h typedefs. Implementation found in dbghelp.dll.</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a2d73c3438561a88e61222d864a5c3983"> 1515</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a2d73c3438561a88e61222d864a5c3983">SymFunctionTableAccess64</a>) = <a class="code" href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a>(__stdcall*)(</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess,</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    DWORD64 AddrBase);  <span class="comment">// DbgHelp.h typedef PFUNCTION_TABLE_ACCESS_ROUTINE64</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#af33c6c57c919396957caeed9a5ef5e6b"> 1518</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#af33c6c57c919396957caeed9a5ef5e6b">SymGetModuleBase64</a>) = DWORD64(__stdcall*)(</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hProcess,</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    DWORD64 AddrBase);  <span class="comment">// DbgHelp.h typedef PGET_MODULE_BASE_ROUTINE64</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160; </div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment">// TlHelp32.h functions.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a61bd580c2ede98426754246fb15620ab"> 1523</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a61bd580c2ede98426754246fb15620ab">CreateToolhelp32Snapshot</a>) =</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a>(__stdcall*)(<a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> dwFlags, <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> th32ProcessID);</div>
<div class="line"><a name="l01525"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a50887727b22edfce433c4d8a568ca255"> 1525</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a50887727b22edfce433c4d8a568ca255">Module32FirstW</a>) = <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hSnapshot,</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                                                       LPMODULEENTRY32W lpme);</div>
<div class="line"><a name="l01527"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a5ca9a109686438221364d87b79c62099"> 1527</a></span>&#160;<span class="keyword">using</span> <a class="code" href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a>(<a class="code" href="namespacev8_1_1base.html#a5ca9a109686438221364d87b79c62099">Module32NextW</a>) = <a class="code" href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a>(__stdcall*)(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> hSnapshot,</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                                                      LPMODULEENTRY32W lpme);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160; </div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="preprocessor">#undef IN</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="preprocessor">#undef VOID</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160; </div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">// Declare a variable for each dynamically loaded DLL function.</span></div>
<div class="line"><a name="l01534"></a><span class="lineno"><a class="line" href="platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302"> 1534</a></span>&#160;<span class="preprocessor">#define DEF_DLL_FUNCTION(name) DLL_FUNC_TYPE(name) DLL_FUNC_VAR(name) = nullptr;</span></div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<a class="code" href="platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a>)</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<a class="code" href="platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a>)</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="preprocessor">#undef DEF_DLL_FUNCTION</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160; </div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="comment">// Load the functions. This function has a lot of &quot;ugly&quot; macros in order to</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">// keep down code duplication.</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160; </div>
<div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a75fc3bc0bebec25fca957538b908d468"> 1542</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1base.html#a75fc3bc0bebec25fca957538b908d468">LoadDbgHelpAndTlHelp32</a>() {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> dbghelp_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160; </div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">if</span> (dbghelp_loaded) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160; </div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  HMODULE module;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160; </div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="comment">// Load functions from the dbghelp.dll module.</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  module = LoadLibrary(TEXT(<span class="stringliteral">&quot;dbghelp.dll&quot;</span>));</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="keywordflow">if</span> (module == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  }</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160; </div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="preprocessor">#define LOAD_DLL_FUNC(name)                                                 \</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="preprocessor">  DLL_FUNC_VAR(name) =                                                      \</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="preprocessor">      reinterpret_cast&lt;DLL_FUNC_TYPE(name)&gt;(GetProcAddress(module, #name));</span></div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160; </div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<a class="code" href="platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a>)</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160; </div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="preprocessor">#undef LOAD_DLL_FUNC</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160; </div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  <span class="comment">// Load functions from the kernel32.dll module (the TlHelp32.h function used</span></div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  <span class="comment">// to be in tlhelp32.dll but are now moved to kernel32.dll).</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  module = LoadLibrary(TEXT(<span class="stringliteral">&quot;kernel32.dll&quot;</span>));</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <span class="keywordflow">if</span> (module == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="preprocessor">#define LOAD_DLL_FUNC(name)                                                 \</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="preprocessor">  DLL_FUNC_VAR(name) =                                                      \</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="preprocessor">      reinterpret_cast&lt;DLL_FUNC_TYPE(name)&gt;(GetProcAddress(module, #name));</span></div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160; </div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<a class="code" href="platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a>)</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="preprocessor">#undef LOAD_DLL_FUNC</span></div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160; </div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="comment">// Check that all functions where loaded.</span></div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> =</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="preprocessor">#define DLL_FUNC_LOADED(name) (DLL_FUNC_VAR(name) != nullptr)&amp;&amp;</span></div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a>(<a class="code" href="platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a>)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;        <a class="code" href="platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a>(<a class="code" href="platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a>)</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160; </div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="preprocessor">#undef DLL_FUNC_LOADED</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;            <span class="keyword">true</span>;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160; </div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  dbghelp_loaded = <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="comment">// NOTE: The modules are never unloaded and will stay around until the</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="comment">// application is closed.</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;}</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="preprocessor">#undef DBGHELP_FUNCTION_LIST</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="preprocessor">#undef TLHELP32_FUNCTION_LIST</span></div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="preprocessor">#undef DLL_FUNC_VAR</span></div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="preprocessor">#undef DLL_FUNC_TYPE</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160; </div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">// Load the symbols for generating stack traces.</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a4ba3ac1937e9da441242577b387ed8fa"> 1601</a></span>&#160;<span class="keyword">static</span> std::vector&lt;OS::SharedLibraryAddress&gt; <a class="code" href="namespacev8_1_1base.html#a4ba3ac1937e9da441242577b387ed8fa">LoadSymbols</a>(</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> process_handle) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;  <span class="keyword">static</span> std::vector&lt;OS::SharedLibraryAddress&gt; <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> symbols_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160; </div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordflow">if</span> (symbols_loaded) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160; </div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <a class="code" href="classint.html">BOOL</a> ok;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160; </div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <span class="comment">// Initialize the symbol engine.</span></div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  ok = _SymInitialize(process_handle,  <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                      <span class="keyword">nullptr</span>,         <span class="comment">// UserSearchPath</span></div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                      <span class="keyword">false</span>);          <span class="comment">// fInvadeProcess</span></div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">if</span> (!ok) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160; </div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> options = _SymGetOptions();</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  options |= SYMOPT_LOAD_LINES;</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;  options |= SYMOPT_FAIL_CRITICAL_ERRORS;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;  options = _SymSetOptions(options);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160; </div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keywordtype">char</span> buf[<a class="code" href="classv8_1_1base_1_1OS.html#a56a4e15bc8d825319f97c24c4f86c7ca">OS::kStackWalkMaxNameLen</a>] = {0};</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  ok = _SymGetSearchPath(process_handle, buf, <a class="code" href="classv8_1_1base_1_1OS.html#a56a4e15bc8d825319f97c24c4f86c7ca">OS::kStackWalkMaxNameLen</a>);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="keywordflow">if</span> (!ok) {</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="classv8_1_1base_1_1OS.html#a6dc6ca7fa1417c3b8ae2d70fb19ab023">GetLastError</a>();</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">OS::Print</a>(<span class="stringliteral">&quot;%d\n&quot;</span>, err);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  }</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160; </div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> snapshot = _CreateToolhelp32Snapshot(</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      TH32CS_SNAPMODULE,       <span class="comment">// dwFlags</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      <a class="code" href="classv8_1_1base_1_1OS.html#a885bdc89bb37ed241b7e312597ad831a">GetCurrentProcessId</a>());  <span class="comment">// th32ProcessId</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keywordflow">if</span> (snapshot == INVALID_HANDLE_VALUE) <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  MODULEENTRY32W module_entry;</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;  module_entry.dwSize = <span class="keyword">sizeof</span>(module_entry);  <span class="comment">// Set the size of the structure.</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;  <a class="code" href="classint.html">BOOL</a> cont = _Module32FirstW(snapshot, &amp;module_entry);</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">while</span> (cont) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    DWORD64 base;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="comment">// NOTE the SymLoadModule64 function has the peculiarity of accepting a</span></div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="comment">// both unicode and ASCII strings even though the parameter is PSTR.</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    base = _SymLoadModule64(</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        process_handle,                                       <span class="comment">// hProcess</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        0,                                                    <span class="comment">// hFile</span></div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span>PSTR<span class="keyword">&gt;</span>(module_entry.szExePath),       <span class="comment">// ImageName</span></div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span>PSTR<span class="keyword">&gt;</span>(module_entry.szModule),        <span class="comment">// ModuleName</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span>DWORD64<span class="keyword">&gt;</span>(module_entry.modBaseAddr),  <span class="comment">// BaseOfDll</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        module_entry.modBaseSize);                            <span class="comment">// SizeOfDll</span></div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="keywordflow">if</span> (base == 0) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;      <span class="keywordtype">int</span> err = <a class="code" href="classv8_1_1base_1_1OS.html#a6dc6ca7fa1417c3b8ae2d70fb19ab023">GetLastError</a>();</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      <span class="keywordflow">if</span> (err != ERROR_MOD_NOT_FOUND &amp;&amp;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;          err != ERROR_INVALID_HANDLE) {</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.clear();</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;      }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    }</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    <span class="keywordtype">int</span> lib_name_length = WideCharToMultiByte(</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        CP_UTF8, 0, module_entry.szExePath, -1, <span class="keyword">nullptr</span>, 0, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">std::string</a> lib_name(lib_name_length, 0);</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    WideCharToMultiByte(CP_UTF8, 0, module_entry.szExePath, -1, &amp;lib_name[0],</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                        lib_name_length, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.push_back(<a class="code" href="structv8_1_1base_1_1OS_1_1SharedLibraryAddress.html">OS::SharedLibraryAddress</a>(</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        lib_name, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(module_entry.modBaseAddr),</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(module_entry.modBaseAddr +</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                                    module_entry.modBaseSize)));</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    cont = _Module32NextW(snapshot, &amp;module_entry);</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  }</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  CloseHandle(snapshot);</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160; </div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  symbols_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;}</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160; </div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160; </div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;std::vector&lt;OS::SharedLibraryAddress&gt; <a class="code" href="classv8_1_1base_1_1OS.html#a9cf3746d7a51ec0026075a73469171bd">OS::GetSharedLibraryAddresses</a>() {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;  <span class="comment">// SharedLibraryEvents are logged when loading symbol information.</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;  <span class="comment">// Only the shared libraries loaded at the time of the call to</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="comment">// GetSharedLibraryAddresses are logged.  DLLs loaded after</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="comment">// initialization are not accounted for.</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1base.html#a75fc3bc0bebec25fca957538b908d468">LoadDbgHelpAndTlHelp32</a>()) <span class="keywordflow">return</span> std::vector&lt;OS::SharedLibraryAddress&gt;();</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> process_handle = GetCurrentProcess();</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base.html#a4ba3ac1937e9da441242577b387ed8fa">LoadSymbols</a>(process_handle);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;}</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160; </div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a13338b78af444988376b9ea52903b1c4">OS::SignalCodeMovingGC</a>() {}</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160; </div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="preprocessor">#else  </span><span class="comment">// __MINGW32__</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;std::vector&lt;OS::SharedLibraryAddress&gt; <a class="code" href="classv8_1_1base_1_1OS.html#a9cf3746d7a51ec0026075a73469171bd">OS::GetSharedLibraryAddresses</a>() {</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;  <span class="keywordflow">return</span> std::vector&lt;OS::SharedLibraryAddress&gt;();</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;}</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160; </div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#a13338b78af444988376b9ea52903b1c4">OS::SignalCodeMovingGC</a>() {}</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// __MINGW32__</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="keywordtype">int</span> <a class="code" href="classv8_1_1base_1_1OS.html#ab5546854ab1604735a7ff8112651266a">OS::ActivationFrameAlignment</a>() {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="preprocessor">#ifdef _WIN64</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keywordflow">return</span> 16;  <span class="comment">// Windows 64-bit ABI requires the stack to be 16-byte aligned.</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="preprocessor">#elif defined(__MINGW32__)</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="comment">// With gcc 4.4 the tree vectorization optimizer can generate code</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <span class="comment">// that requires 16 byte alignment such as movdqa on x86.</span></div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <span class="keywordflow">return</span> 16;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  <span class="keywordflow">return</span> 8;  <span class="comment">// Floating-point math runs faster with 8-byte alignment.</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;}</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160; </div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;<span class="preprocessor">#if defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="keywordtype">void</span> EnsureConsoleOutputWin32() {</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  UINT new_flags =</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      SEM_FAILCRITICALERRORS | SEM_NOGPFAULTERRORBOX | SEM_NOOPENFILEERRORBOX;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;  UINT existing_flags = SetErrorMode(new_flags);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  SetErrorMode(existing_flags | new_flags);</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="preprocessor">#if defined(_MSC_VER)</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  _CrtSetReportMode(_CRT_WARN, _CRTDBG_MODE_DEBUG | _CRTDBG_MODE_FILE);</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  _CrtSetReportFile(_CRT_WARN, _CRTDBG_FILE_STDERR);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  _CrtSetReportMode(_CRT_ASSERT, _CRTDBG_MODE_DEBUG | _CRTDBG_MODE_FILE);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  _CrtSetReportFile(_CRT_ASSERT, _CRTDBG_FILE_STDERR);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  _CrtSetReportMode(_CRT_ERROR, _CRTDBG_MODE_DEBUG | _CRTDBG_MODE_FILE);</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  _CrtSetReportFile(_CRT_ERROR, _CRTDBG_FILE_STDERR);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  _set_error_mode(_OUT_TO_STDERR);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(_MSC_VER)</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;}</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(V8_OS_WIN)</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160; </div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment">// ----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="comment">// Win32 thread support.</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160; </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">// Definition of invalid thread handle and id.</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#aaac7db617d2f8be2fc20678d6ece00f3"> 1729</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="namespacev8_1_1base.html#ae842d0fcc77936afae8815af7331d4fe">kNoThread</a> = INVALID_HANDLE_VALUE;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160; </div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">// Entry point for threads. The supplied argument is a pointer to the thread</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">// object. The entry function dispatches to the run method in the thread</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">// object. It is important that this function has __stdcall calling</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">// convention.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a6be283378286baff0b449c4de32dfbea"> 1735</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> __stdcall <a class="code" href="namespacev8_1_1base.html#a22715113081752efb170989afb975c02">ThreadEntry</a>(<span class="keywordtype">void</span>* arg) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  <a class="code" href="classv8_1_1base_1_1Thread.html">Thread</a>* thread = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1base_1_1Thread.html">Thread</a>*<span class="keyword">&gt;</span>(arg);</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  thread-&gt;<a class="code" href="classv8_1_1base_1_1Thread.html#af31dcce079481573bddda99840e56a88">NotifyStartedAndRun</a>();</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;}</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160; </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160; </div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="keyword">class </span>Thread::PlatformData {</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01744"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#ae37fb80a5cf240ca10435552653cf87b"> 1744</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#ae37fb80a5cf240ca10435552653cf87b">PlatformData</a>(<a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> thread) : thread_(thread) {}</div>
<div class="line"><a name="l01745"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a5dda2be4239e78fa4b5d5db197665452"> 1745</a></span>&#160;  <a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a> <a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a5dda2be4239e78fa4b5d5db197665452">thread_</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1c0d095a22bab8a4be281c96be6a5ca2"> 1746</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1c0d095a22bab8a4be281c96be6a5ca2">thread_id_</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;};</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160; </div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="comment">// Initialize a Win32 thread object. The thread has an invalid thread</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment">// handle until it is started.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160; </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<a class="code" href="classv8_1_1base_1_1Thread.html#a3ddcd0a37fd3751be4e1cac06bedc447">Thread::Thread</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1base_1_1Thread_1_1Options.html">Options</a>&amp; options)</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    : stack_size_(options.stack_size()), start_semaphore_(<a class="code" href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a>) {</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a> = <span class="keyword">new</span> <a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a0054cc62016aab3da6f5c65a52b38428">PlatformData</a>(<a class="code" href="namespacev8_1_1base.html#ae842d0fcc77936afae8815af7331d4fe">kNoThread</a>);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  <a class="code" href="classv8_1_1base_1_1Thread.html#ac8b3808f8666e627a7b13deebd9eda15">set_name</a>(options.<a class="code" href="classv8_1_1base_1_1Thread_1_1Options.html#a98daf6b7865ff6fc2db910e5bb5c45e0">name</a>());</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;}</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160; </div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1Thread.html#ac8b3808f8666e627a7b13deebd9eda15">Thread::set_name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1base_1_1Thread.html#aa8ce4978d083d9790f64a7685347ee9b">name</a>) {</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <a class="code" href="classv8_1_1base_1_1OS.html#aa2d5f71adc225182f5266fb2e4db2251">OS::StrNCpy</a>(<a class="code" href="classv8_1_1base_1_1Thread.html#ad7bf55fcc4e796d347c59734708eb81d">name_</a>, <span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1base_1_1Thread.html#ad7bf55fcc4e796d347c59734708eb81d">name_</a>), <a class="code" href="classv8_1_1base_1_1Thread.html#aa8ce4978d083d9790f64a7685347ee9b">name</a>, strlen(<a class="code" href="classv8_1_1base_1_1Thread.html#aa8ce4978d083d9790f64a7685347ee9b">name</a>));</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <a class="code" href="classv8_1_1base_1_1Thread.html#ad7bf55fcc4e796d347c59734708eb81d">name_</a>[<span class="keyword">sizeof</span>(<a class="code" href="classv8_1_1base_1_1Thread.html#ad7bf55fcc4e796d347c59734708eb81d">name_</a>) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;}</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160; </div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment">// Close our own handle for the thread.</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<a class="code" href="classv8_1_1base_1_1Thread.html#a55aae93605e66d7812a2bebf191b6457">Thread::~Thread</a>() {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1d17ab6fadf784dc0c53a1a6e6108969">thread_</a> != <a class="code" href="namespacev8_1_1base.html#ae842d0fcc77936afae8815af7331d4fe">kNoThread</a>) CloseHandle(<a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1d17ab6fadf784dc0c53a1a6e6108969">thread_</a>);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="keyword">delete</span> <a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;}</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; </div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">// Create a new thread. It is important to use _beginthreadex() instead of</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment">// the Win32 function CreateThread(), because the CreateThread() does not</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">// initialize thread specific structures in the C runtime library.</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1base_1_1Thread.html#a4c2159b224419ce01ca653ffcd5e28c2">Thread::Start</a>() {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = _beginthreadex(<span class="keyword">nullptr</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1base_1_1Thread.html#a223c063a84b4c9aa9a2fd7b01d480fbb">stack_size_</a>),</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                                    <a class="code" href="namespacev8_1_1base.html#a22715113081752efb170989afb975c02">ThreadEntry</a>, <span class="keyword">this</span>, 0, &amp;<a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1c0d095a22bab8a4be281c96be6a5ca2">thread_id_</a>);</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1d17ab6fadf784dc0c53a1a6e6108969">thread_</a> = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> != 0;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;}</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160; </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">// Wait for thread to terminate.</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1Thread.html#a03b039733dcd3df63085e74c587df9b7">Thread::Join</a>() {</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1c0d095a22bab8a4be281c96be6a5ca2">thread_id_</a> != GetCurrentThreadId()) {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    WaitForSingleObject(<a class="code" href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">data_</a>-&gt;<a class="code" href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1d17ab6fadf784dc0c53a1a6e6108969">thread_</a>, INFINITE);</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  }</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;}</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; </div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<a class="code" href="classv8_1_1base_1_1Thread.html#a63bc87055114d283604d687496a88420">Thread::LocalStorageKey</a> <a class="code" href="classv8_1_1base_1_1Thread.html#abc63f50589a8aa1cfc856f625bb1cee6">Thread::CreateThreadLocalKey</a>() {</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = TlsAlloc();</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> != TLS_OUT_OF_INDEXES);</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1base_1_1Thread.html#a63bc87055114d283604d687496a88420">LocalStorageKey</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;}</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160; </div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160; </div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1Thread.html#a7200eefbe28a522417b36aae04021948">Thread::DeleteThreadLocalKey</a>(<a class="code" href="classv8_1_1base_1_1Thread.html#a63bc87055114d283604d687496a88420">LocalStorageKey</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  <a class="code" href="classint.html">BOOL</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = TlsFree(<span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>));</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;}</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160; </div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160; </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="classv8_1_1base_1_1Thread.html#ac67b609a15f0a5753e1aa51e9ca612e7">Thread::GetThreadLocal</a>(<a class="code" href="classv8_1_1base_1_1Thread.html#a63bc87055114d283604d687496a88420">LocalStorageKey</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>) {</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  <span class="keywordflow">return</span> TlsGetValue(<span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>));</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;}</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; </div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160; </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1Thread.html#afead45228e4beabf84527e07159af24e">Thread::SetThreadLocal</a>(<a class="code" href="classv8_1_1base_1_1Thread.html#a63bc87055114d283604d687496a88420">LocalStorageKey</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <span class="keywordtype">void</span>* <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <a class="code" href="classint.html">BOOL</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = TlsSetValue(<span class="keyword">static_cast&lt;</span><a class="code" href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>), <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160; </div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1base_1_1OS.html#aff9e48f701976b8f1ee442b905a305be">OS::AdjustSchedulingParams</a>() {}</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160; </div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;std::optional&lt;OS::MemoryRange&gt; <a class="code" href="classv8_1_1base_1_1OS.html#af4f55d86b418913f11eba29009fbd0f1">OS::GetFirstFreeMemoryRangeWithin</a>(</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <a class="code" href="classv8_1_1base_1_1OS.html#abbd6612d4b410629e9532d04274e2a41">OS::Address</a> boundary_start, <a class="code" href="classv8_1_1base_1_1OS.html#abbd6612d4b410629e9532d04274e2a41">OS::Address</a> boundary_end, <span class="keywordtype">size_t</span> minimum_size,</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordtype">size_t</span> alignment) {</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  <span class="comment">// Search for the virtual memory (vm) ranges within the boundary.</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;  <span class="comment">// If a range is free and larger than {minimum_size}, then push it to the</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="comment">// returned vector.</span></div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> vm_start = <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(boundary_start, alignment);</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <a class="code" href="classuintptr__t.html">uintptr_t</a> vm_end = 0;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  MEMORY_BASIC_INFORMATION <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="comment">// This loop will terminate once the scanning reaches the higher address</span></div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  <span class="comment">// to the end of boundary or the function VirtualQuery fails.</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keywordflow">while</span> (vm_start &lt; boundary_end &amp;&amp;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;         VirtualQuery(<span class="keyword">reinterpret_cast&lt;</span>LPCVOID<span class="keyword">&gt;</span>(vm_start), &amp;<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>, <span class="keyword">sizeof</span>(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>)) !=</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;             0) {</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    vm_start = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>.BaseAddress);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    vm_end = vm_start + <a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>.RegionSize;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">mi</a>.State == MEM_FREE) {</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <span class="comment">// The available area is the overlap of the virtual memory range and</span></div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      <span class="comment">// boundary. Push the overlapped memory range to the vector if there is</span></div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <span class="comment">// enough space.</span></div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;      <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> overlap_start =</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;          <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(std::max(vm_start, boundary_start), alignment);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> overlap_end =</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;          <a class="code" href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a>(std::min(vm_end, boundary_end), alignment);</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;      <span class="keywordflow">if</span> (overlap_start &lt; overlap_end &amp;&amp;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;          overlap_end - overlap_start &gt;= minimum_size) {</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        <span class="keywordflow">return</span> OS::MemoryRange{overlap_start, overlap_end};</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    }</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="comment">// Continue to visit the next virtual memory range.</span></div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    vm_start = vm_end;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;}</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;Stack::StackSlot <a class="code" href="classv8_1_1base_1_1Stack.html#aef52783ed1b22030359a0abbade22801">Stack::ObtainCurrentThreadStackStart</a>() {</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="preprocessor">#if defined(V8_TARGET_ARCH_X64)</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>NT_TIB64*<span class="keyword">&gt;</span>(NtCurrentTeb())-&gt;StackBase);</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="preprocessor">#elif defined(V8_TARGET_ARCH_32_BIT)</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span>NT_TIB*<span class="keyword">&gt;</span>(NtCurrentTeb())-&gt;StackBase);</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="preprocessor">#elif defined(V8_TARGET_ARCH_ARM64)</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="comment">// Windows 8 and later, see</span></div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">// https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadstacklimits</span></div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <a class="code" href="win32-headers_8h.html#ab073d5620a97a9d8bf27cd174e2dbd04">ULONG_PTR</a> lowLimit, highLimit;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  ::GetCurrentThreadStackLimits(&amp;lowLimit, &amp;highLimit);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(highLimit);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="preprocessor">#error Unsupported ObtainCurrentThreadStackStart.</span></div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;}</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;Stack::StackSlot <a class="code" href="classv8_1_1base_1_1Stack.html#ae12df3e0075295b6db4c5f3575736b5a">Stack::GetCurrentStackPosition</a>() {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="preprocessor">#if V8_CC_MSVC</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="keywordflow">return</span> _AddressOfReturnAddress();</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <span class="keywordflow">return</span> __builtin_frame_address(0);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;}</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; </div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;}  <span class="comment">// namespace base</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="abits_8h_html"><div class="ttname"><a href="bits_8h.html">bits.h</a></div></div>
<div class="ttc" id="abuild__config_8h_html_a8128318513dcb75c0fe7ae9ab4d3ebd0"><div class="ttname"><a href="build__config_8h.html#a8128318513dcb75c0fe7ae9ab4d3ebd0">kPageSizeBits</a></div><div class="ttdeci">constexpr int kPageSizeBits</div><div class="ttdef"><b>Definition:</b> <a href="build__config_8h_source.html#l00080">build_config.h:80</a></div></div>
<div class="ttc" id="aclassint_html"><div class="ttname"><a href="classint.html">int</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1StackFrame_html"><div class="ttname"><a href="classv8_1_1StackFrame.html">v8::StackFrame</a></div><div class="ttdoc">A single JavaScript stack frame.</div><div class="ttdef"><b>Definition:</b> <a href="v8-debug_8h_source.html#l00021">v8-debug.h:21</a></div></div>
<div class="ttc" id="aclassv8_1_1Symbol_html"><div class="ttname"><a href="classv8_1_1Symbol.html">v8::Symbol</a></div><div class="ttdoc">A JavaScript symbol (ECMA-262 edition 6)</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00778">v8-primitive.h:778</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_a125b878cfa777f456a9ec2b9402d61d0"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#a125b878cfa777f456a9ec2b9402d61d0">v8::base::AddressSpaceReservation::DiscardSystemPages</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool DiscardSystemPages(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00485">platform-fuchsia.cc:485</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_a1b2ba9ef0daae9361a3ae81a3231e7ad"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#a1b2ba9ef0daae9361a3ae81a3231e7ad">v8::base::AddressSpaceReservation::Allocate</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool Allocate(void *address, size_t size, OS::MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00440">platform-fuchsia.cc:440</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_a231d9def44bb0962df72c0d0b4220ba4"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#a231d9def44bb0962df72c0d0b4220ba4">v8::base::AddressSpaceReservation::RecommitPages</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool RecommitPages(void *address, size_t size, OS::MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00480">platform-fuchsia.cc:480</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_a28886e7df7b1c1118274ced68ca42fb9"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#a28886e7df7b1c1118274ced68ca42fb9">v8::base::AddressSpaceReservation::Free</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool Free(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00450">platform-fuchsia.cc:450</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_a333ec9f58ea8a8c14caad606a2ed2ad4"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#a333ec9f58ea8a8c14caad606a2ed2ad4">v8::base::AddressSpaceReservation::SetPermissions</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool SetPermissions(void *address, size_t size, OS::MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00473">platform-fuchsia.cc:473</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_a385a75700b7c8cb28abbd80b5145c576"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#a385a75700b7c8cb28abbd80b5145c576">v8::base::AddressSpaceReservation::DecommitPages</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool DecommitPages(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00491">platform-fuchsia.cc:491</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_aa4bb7cf7948111d75fa6c35fd894f281"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#aa4bb7cf7948111d75fa6c35fd894f281">v8::base::AddressSpaceReservation::FreeShared</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool FreeShared(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00467">platform-fuchsia.cc:467</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_abf4beaddbe678daad5bdc533af9c897e"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#abf4beaddbe678daad5bdc533af9c897e">v8::base::AddressSpaceReservation::CreateSubReservation</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT std::optional&lt; AddressSpaceReservation &gt; CreateSubReservation(void *address, size_t size, OS::MemoryPermission max_permission)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00418">platform-fuchsia.cc:418</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_ac23a72582093e40a021ae10c349295e7"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#ac23a72582093e40a021ae10c349295e7">v8::base::AddressSpaceReservation::AllocateShared</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool AllocateShared(void *address, size_t size, OS::MemoryPermission access, PlatformSharedMemoryHandle handle, uint64_t offset)</div><div class="ttdef"><b>Definition:</b> <a href="platform-darwin_8cc_source.html#l00210">platform-darwin.cc:210</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1AddressSpaceReservation_html_acbcdc11027c315bd18c84a58550a3b22"><div class="ttname"><a href="classv8_1_1base_1_1AddressSpaceReservation.html#acbcdc11027c315bd18c84a58550a3b22">v8::base::AddressSpaceReservation::FreeSubReservation</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool FreeSubReservation(AddressSpaceReservation reservation)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00434">platform-fuchsia.cc:434</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html">v8::base::OS::MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00256">platform.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_a3c10e7c6b424824c2c6cc8dc1dd65f68"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a3c10e7c6b424824c2c6cc8dc1dd65f68">v8::base::OS::MemoryMappedFile::create</a></div><div class="ttdeci">static MemoryMappedFile * create(const char *name, size_t size, void *initial)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00854">platform-posix.cc:854</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_a56e5f0fe4c5b717648bfab33a2c9b5a6"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a56e5f0fe4c5b717648bfab33a2c9b5a6">v8::base::OS::MemoryMappedFile::size</a></div><div class="ttdeci">virtual size_t size() const =0</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_a95a5c9b694151392c9d4d210a013dbff"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#a95a5c9b694151392c9d4d210a013dbff">v8::base::OS::MemoryMappedFile::memory</a></div><div class="ttdeci">virtual void * memory() const =0</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243a8c7550dddc8f118f7a5b328d292d5a4d">v8::base::OS::MemoryMappedFile::FileMode::kReadOnly</a></div><div class="ttdeci">@ kReadOnly</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_aa8509cde53b1366b85ca6dc8f79a5243af34c23f2eed93c9645e1aa681c77bec5"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#aa8509cde53b1366b85ca6dc8f79a5243af34c23f2eed93c9645e1aa681c77bec5">v8::base::OS::MemoryMappedFile::FileMode::kReadWrite</a></div><div class="ttdeci">@ kReadWrite</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_1_1MemoryMappedFile_html_acf4def71902b724f3ed274f2b4ad3051"><div class="ttname"><a href="classv8_1_1base_1_1OS_1_1MemoryMappedFile.html#acf4def71902b724f3ed274f2b4ad3051">v8::base::OS::MemoryMappedFile::open</a></div><div class="ttdeci">static MemoryMappedFile * open(const char *name, FileMode mode=FileMode::kReadWrite)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00823">platform-posix.cc:823</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a04656670e0be067dfe2a93bd2c809b7c"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a04656670e0be067dfe2a93bd2c809b7c">v8::base::OS::Sleep</a></div><div class="ttdeci">static void Sleep(TimeDelta interval)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00754">platform-posix.cc:754</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a09f262c8eef5ba03f1f4ce5c91d988b4"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a09f262c8eef5ba03f1f4ce5c91d988b4">v8::base::OS::AllocateShared</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT void * AllocateShared(size_t size, MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00491">platform-posix.cc:491</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a0dd812385ed06989631ba4146d2b649b"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a0dd812385ed06989631ba4146d2b649b">v8::base::OS::GetRandomMmapAddr</a></div><div class="ttdeci">static void * GetRandomMmapAddr()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00354">platform-posix.cc:354</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a116546efe64cdd2d0c085b1f8dc4983c"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a116546efe64cdd2d0c085b1f8dc4983c">v8::base::OS::SealPages</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool SealPages(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00208">platform-cygwin.cc:208</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a13338b78af444988376b9ea52903b1c4"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a13338b78af444988376b9ea52903b1c4">v8::base::OS::SignalCodeMovingGC</a></div><div class="ttdeci">static void SignalCodeMovingGC()</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00128">platform-aix.cc:128</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a1a63277c4801c90d2f13e1ff1d4dea64"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a1a63277c4801c90d2f13e1ff1d4dea64">v8::base::OS::args</a></div><div class="ttdeci">static static va_list args</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00205">platform.h:205</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a1e1f6886901ee75380b7f0514952ea2f"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a1e1f6886901ee75380b7f0514952ea2f">v8::base::OS::HasLazyCommits</a></div><div class="ttdeci">static bool HasLazyCommits()</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00211">platform-cygwin.cc:211</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a23eb7c8ffeb69f1ec8185af47c80662c"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a23eb7c8ffeb69f1ec8185af47c80662c">v8::base::OS::CanReserveAddressSpace</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool CanReserveAddressSpace()</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00336">platform-fuchsia.cc:336</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a255a743660b9e487ae7da4c9dd9b1b00"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a255a743660b9e487ae7da4c9dd9b1b00">v8::base::OS::DiscardSystemPages</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool DiscardSystemPages(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00181">platform-cygwin.cc:181</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a256fc9a746d9709bee086741843b3f2c"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a256fc9a746d9709bee086741843b3f2c">v8::base::OS::AllocatePageSize</a></div><div class="ttdeci">static size_t AllocatePageSize()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00330">platform-posix.cc:330</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a287990fe7c0e39359181673f0da8a8cc"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a287990fe7c0e39359181673f0da8a8cc">v8::base::OS::ExitProcess</a></div><div class="ttdeci">static void ExitProcess(int exit_code)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00902">platform-posix.cc:902</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a2df245594e67255e3331276fb5bdb22d"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a2df245594e67255e3331276fb5bdb22d">v8::base::OS::format</a></div><div class="ttdeci">static const char * format</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00208">platform.h:208</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a35867acbbe1a1379920d84872e0aa04f"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a35867acbbe1a1379920d84872e0aa04f">v8::base::OS::SetDataReadOnly</a></div><div class="ttdeci">static void SetDataReadOnly(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00308">platform-fuchsia.cc:308</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a3abddefa2e7ad8ab0628e6b44fad5a6b"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a3abddefa2e7ad8ab0628e6b44fad5a6b">v8::base::OS::Abort</a></div><div class="ttdeci">static void Abort()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00759">platform-posix.cc:759</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a3c3d91f38f9c6f9d3823b5c214d37435"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a3c3d91f38f9c6f9d3823b5c214d37435">v8::base::OS::IsHardwareEnforcedShadowStacksEnabled</a></div><div class="ttdeci">static bool IsHardwareEnforcedShadowStacksEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00275">platform-posix.cc:275</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a452e3c5f2ae3c33d8709e005b7ec5e56"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a452e3c5f2ae3c33d8709e005b7ec5e56">v8::base::OS::FreeAddressSpaceReservation</a></div><div class="ttdeci">static void FreeAddressSpaceReservation(AddressSpaceReservation reservation)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00356">platform-fuchsia.cc:356</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a4fee8706153911cacd3c3c58f17e49c6"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a4fee8706153911cacd3c3c58f17e49c6">v8::base::OS::LogFileOpenMode</a></div><div class="ttdeci">static const char *const LogFileOpenMode</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00199">platform.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a56a4e15bc8d825319f97c24c4f86c7ca"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a56a4e15bc8d825319f97c24c4f86c7ca">v8::base::OS::kStackWalkMaxNameLen</a></div><div class="ttdeci">static const int kStackWalkMaxNameLen</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00249">platform.h:249</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a65d17cb687f7e35116e9cbc646414e41"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a65d17cb687f7e35116e9cbc646414e41">v8::base::OS::GetCurrentThreadIdInternal</a></div><div class="ttdeci">static int GetCurrentThreadIdInternal()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00882">platform-posix.cc:882</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a6dc6ca7fa1417c3b8ae2d70fb19ab023"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a6dc6ca7fa1417c3b8ae2d70fb19ab023">v8::base::OS::GetLastError</a></div><div class="ttdeci">static int GetLastError()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00961">platform-posix.cc:961</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a6fff4409810cda533094f6b1a24f5d43"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a6fff4409810cda533094f6b1a24f5d43">v8::base::OS::CreateSharedMemoryHandleForTesting</a></div><div class="ttdeci">static PlatformSharedMemoryHandle CreateSharedMemoryHandleForTesting(size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-darwin_8cc_source.html#l00144">platform-darwin.cc:144</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a7338fab5bb87f80d353c71ea3dddd882"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a7338fab5bb87f80d353c71ea3dddd882">v8::base::OS::FreeShared</a></div><div class="ttdeci">static void FreeShared(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00295">platform-fuchsia.cc:295</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a7742d43e87084a00f0ed98dd84a489ee"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a7742d43e87084a00f0ed98dd84a489ee">v8::base::OS::SetPermissions</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool SetPermissions(void *address, size_t size, MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00165">platform-cygwin.cc:165</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4">v8::base::OS::MemoryPermission</a></div><div class="ttdeci">MemoryPermission</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00220">platform.h:220</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4a14332c87a9e0e06b09a20d1fd8a64197"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a14332c87a9e0e06b09a20d1fd8a64197">v8::base::OS::MemoryPermission::kNoAccessWillJitLater</a></div><div class="ttdeci">@ kNoAccessWillJitLater</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4a1a4c5e3d44db171c5ee5aa4bb47a59ed"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a1a4c5e3d44db171c5ee5aa4bb47a59ed">v8::base::OS::MemoryPermission::kReadExecute</a></div><div class="ttdeci">@ kReadExecute</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4a203620cd187bc1be1aec50642019ee57"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a203620cd187bc1be1aec50642019ee57">v8::base::OS::MemoryPermission::kReadWriteExecute</a></div><div class="ttdeci">@ kReadWriteExecute</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4a8604cf55a79d6bfdcb30f77d1622839b"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4a8604cf55a79d6bfdcb30f77d1622839b">v8::base::OS::MemoryPermission::kRead</a></div><div class="ttdeci">@ kRead</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4af34c23f2eed93c9645e1aa681c77bec5"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af34c23f2eed93c9645e1aa681c77bec5">v8::base::OS::MemoryPermission::kReadWrite</a></div><div class="ttdeci">@ kReadWrite</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a784ff62e67203e60451e5952454046e4af5d6f15f85f8db76149a52e2f4a2aa70">v8::base::OS::MemoryPermission::kNoAccess</a></div><div class="ttdeci">@ kNoAccess</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a7984e131b66b92c725f30666de50d4e6"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a7984e131b66b92c725f30666de50d4e6">v8::base::OS::OpenTemporaryFile</a></div><div class="ttdeci">static FILE * OpenTemporaryFile()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00996">platform-posix.cc:996</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a847804239d3654d9dc61325fd7a8b195"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a847804239d3654d9dc61325fd7a8b195">v8::base::OS::FOpen</a></div><div class="ttdeci">static FILE * FOpen(const char *path, const char *mode)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00970">platform-posix.cc:970</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a88254250a2960488a56dd500cb2e988b"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a88254250a2960488a56dd500cb2e988b">v8::base::OS::Initialize</a></div><div class="ttdeci">static void Initialize(AbortMode abort_mode, const char *const gc_fake_mmap)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00254">platform-fuchsia.cc:254</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a88339c38512e8fa4bdbc8a1d8dd7bf66"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a88339c38512e8fa4bdbc8a1d8dd7bf66">v8::base::OS::DecommitPages</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool DecommitPages(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00168">platform-aix.cc:168</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a885bdc89bb37ed241b7e312597ad831a"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a885bdc89bb37ed241b7e312597ad831a">v8::base::OS::GetCurrentProcessId</a></div><div class="ttdeci">static int GetCurrentProcessId()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00878">platform-posix.cc:878</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a898e2ee73a8c43cc0c2a74d251f020da"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a898e2ee73a8c43cc0c2a74d251f020da">v8::base::OS::CommitPageSize</a></div><div class="ttdeci">static size_t CommitPageSize()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00340">platform-posix.cc:340</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a8b6f63d09e8e0bad9dd9f7a91cc7e106"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a8b6f63d09e8e0bad9dd9f7a91cc7e106">v8::base::OS::GetPeakMemoryUsageKb</a></div><div class="ttdeci">static int GetPeakMemoryUsageKb()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00925">platform-posix.cc:925</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a91d51a9da83218dd53913547da3eaba3"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a91d51a9da83218dd53913547da3eaba3">v8::base::OS::Release</a></div><div class="ttdeci">static void Release(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00158">platform-cygwin.cc:158</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a9672f4e91c89f0505dc5161ecd33d7e2"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a9672f4e91c89f0505dc5161ecd33d7e2">v8::base::OS::RecommitPages</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT bool RecommitPages(void *address, size_t size, MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00176">platform-cygwin.cc:176</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_a9cf3746d7a51ec0026075a73469171bd"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#a9cf3746d7a51ec0026075a73469171bd">v8::base::OS::GetSharedLibraryAddresses</a></div><div class="ttdeci">static std::vector&lt; SharedLibraryAddress &gt; GetSharedLibraryAddresses()</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00088">platform-aix.cc:88</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_aa010f31048d7a2baf7f30973bc5854d0"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#aa010f31048d7a2baf7f30973bc5854d0">v8::base::OS::DirectorySeparator</a></div><div class="ttdeci">static char DirectorySeparator()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00989">platform-posix.cc:989</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_aa2d5f71adc225182f5266fb2e4db2251"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#aa2d5f71adc225182f5266fb2e4db2251">v8::base::OS::StrNCpy</a></div><div class="ttdeci">static void StrNCpy(char *dest, int length, const char *src, size_t n)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01085">platform-posix.cc:1085</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ab14abe0c27358916e32d1d5552ac182f"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ab14abe0c27358916e32d1d5552ac182f">v8::base::OS::GetUserTime</a></div><div class="ttdeci">static int GetUserTime(uint32_t *secs, uint32_t *usecs)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00389">platform-fuchsia.cc:389</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ab21ab688f2e6bcbeb2a40246967ec96f"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ab21ab688f2e6bcbeb2a40246967ec96f">v8::base::OS::GetCurrentThreadId</a></div><div class="ttdeci">static int GetCurrentThreadId()</div><div class="ttdef"><b>Definition:</b> <a href="base_2platform_2platform_8cc_source.html#l00029">platform.cc:29</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ab5546854ab1604735a7ff8112651266a"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ab5546854ab1604735a7ff8112651266a">v8::base::OS::ActivationFrameAlignment</a></div><div class="ttdeci">static int ActivationFrameAlignment()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00312">platform-posix.cc:312</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_abbd6612d4b410629e9532d04274e2a41"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#abbd6612d4b410629e9532d04274e2a41">v8::base::OS::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00320">platform.h:320</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ac66beba596dccee250254bf6a1be24af"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ac66beba596dccee250254bf6a1be24af">v8::base::OS::Allocate</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT void * Allocate(void *address, size_t size, size_t alignment, MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00099">platform-cygwin.cc:99</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_acf9b4dccc2649b5832604e3db654fcb3"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#acf9b4dccc2649b5832604e3db654fcb3">v8::base::OS::DestroySharedMemoryHandle</a></div><div class="ttdeci">static void DestroySharedMemoryHandle(PlatformSharedMemoryHandle handle)</div><div class="ttdef"><b>Definition:</b> <a href="platform-darwin_8cc_source.html#l00156">platform-darwin.cc:156</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ad481e6ce21d8194ec47b14e59e8aadaf"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ad481e6ce21d8194ec47b14e59e8aadaf">v8::base::OS::CreateTimezoneCache</a></div><div class="ttdeci">static TimezoneCache * CreateTimezoneCache()</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00082">platform-aix.cc:82</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ad95b9514ae4123f8d0a5456d6f2cc204"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ad95b9514ae4123f8d0a5456d6f2cc204">v8::base::OS::TimeCurrentMillis</a></div><div class="ttdeci">static double TimeCurrentMillis()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00947">platform-posix.cc:947</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_adcf01466ae36305154d61c4b3e7ce924"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#adcf01466ae36305154d61c4b3e7ce924">v8::base::OS::length</a></div><div class="ttdeci">static int length</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00272">platform.h:272</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ae41652a444a61e011b305b550cc1bb4c"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ae41652a444a61e011b305b550cc1bb4c">v8::base::OS::EnsureAlternativeSignalStackIsAvailableForCurrentThread</a></div><div class="ttdeci">static void EnsureAlternativeSignalStackIsAvailableForCurrentThread()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00277">platform-posix.cc:277</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_ae9b48025d23fcd0a98f968d90e7107d4"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#ae9b48025d23fcd0a98f968d90e7107d4">v8::base::OS::isDirectorySeparator</a></div><div class="ttdeci">static bool isDirectorySeparator(const char ch)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00991">platform-posix.cc:991</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_aea6cf39e9b532af620f2f7375406f1e2"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#aea6cf39e9b532af620f2f7375406f1e2">v8::base::OS::SetRandomMmapSeed</a></div><div class="ttdeci">static void SetRandomMmapSeed(int64_t seed)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00346">platform-posix.cc:346</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_aef5475229308093e4e94c5a41d93d01b"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#aef5475229308093e4e94c5a41d93d01b">v8::base::OS::MemoryMappedFile</a></div><div class="ttdeci">friend class MemoryMappedFile</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00370">platform.h:370</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_af0c9325eaef65472d7ca4573ecd511c4"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#af0c9325eaef65472d7ca4573ecd511c4">v8::base::OS::CreateAddressSpaceReservation</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT std::optional&lt; AddressSpaceReservation &gt; CreateAddressSpaceReservation(void *hint, size_t size, size_t alignment, MemoryPermission max_permission)</div><div class="ttdef"><b>Definition:</b> <a href="platform-fuchsia_8cc_source.html#l00339">platform-fuchsia.cc:339</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_af3c3169ba39ed1657173720c2bbbc461"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#af3c3169ba39ed1657173720c2bbbc461">v8::base::OS::AddressSpaceReservation</a></div><div class="ttdeci">friend class AddressSpaceReservation</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00369">platform.h:369</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_af49ddc64d9aed9c71565d48a80e9f54d"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#af49ddc64d9aed9c71565d48a80e9f54d">v8::base::OS::Free</a></div><div class="ttdeci">static void Free(void *address, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-cygwin_8cc_source.html#l00150">platform-cygwin.cc:150</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_af4f55d86b418913f11eba29009fbd0f1"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#af4f55d86b418913f11eba29009fbd0f1">v8::base::OS::GetFirstFreeMemoryRangeWithin</a></div><div class="ttdeci">static std::optional&lt; MemoryRange &gt; GetFirstFreeMemoryRangeWithin(Address boundary_start, Address boundary_end, size_t minimum_size, size_t alignment)</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00132">platform-aix.cc:132</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_afc81cb4b82d6a51170eb77b2ac4cbd97"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#afc81cb4b82d6a51170eb77b2ac4cbd97">v8::base::OS::Remove</a></div><div class="ttdeci">static bool Remove(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00985">platform-posix.cc:985</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_aff9e48f701976b8f1ee442b905a305be"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#aff9e48f701976b8f1ee442b905a305be">v8::base::OS::AdjustSchedulingParams</a></div><div class="ttdeci">static void AdjustSchedulingParams()</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00130">platform-aix.cc:130</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1OS_html_affd1b5cd2e2a82058f49432ffc5236e6"><div class="ttname"><a href="classv8_1_1base_1_1OS.html#affd1b5cd2e2a82058f49432ffc5236e6">v8::base::OS::DebugBreak</a></div><div class="ttdeci">static void DebugBreak()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00775">platform-posix.cc:775</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html">v8::base::PreciseSleepTimer</a></div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8h_source.html#l00017">platform-win32.h:17</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a06237d5ea503bcf2fe88d35c6abf5481"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a06237d5ea503bcf2fe88d35c6abf5481">v8::base::PreciseSleepTimer::timer_</a></div><div class="ttdeci">HANDLE timer_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8h_source.html#l00044">platform-win32.h:44</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a07181eb2eaac5ab23b4d42d60961cccc"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a07181eb2eaac5ab23b4d42d60961cccc">v8::base::PreciseSleepTimer::Sleep</a></div><div class="ttdeci">void Sleep(TimeDelta interval) const</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01226">platform-win32.cc:1226</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a0ccc7c49d1d145db3b6d388151b88955"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a0ccc7c49d1d145db3b6d388151b88955">v8::base::PreciseSleepTimer::operator=</a></div><div class="ttdeci">PreciseSleepTimer &amp; operator=(const PreciseSleepTimer &amp;other)=delete</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a211d830495b5b17083e8a95be67b7777"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a211d830495b5b17083e8a95be67b7777">v8::base::PreciseSleepTimer::Close</a></div><div class="ttdeci">void Close()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01205">platform-win32.cc:1205</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a430caa0a719d0b3b54acdab395f3facb"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a430caa0a719d0b3b54acdab395f3facb">v8::base::PreciseSleepTimer::TryInit</a></div><div class="ttdeci">void TryInit()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01212">platform-win32.cc:1212</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a7377d9b8496af1ac97eba81f7c2d46c5"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a7377d9b8496af1ac97eba81f7c2d46c5">v8::base::PreciseSleepTimer::PreciseSleepTimer</a></div><div class="ttdeci">PreciseSleepTimer()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01190">platform-win32.cc:1190</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a76dd03b6c2a26136fb374ce34838d1e4"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a76dd03b6c2a26136fb374ce34838d1e4">v8::base::PreciseSleepTimer::~PreciseSleepTimer</a></div><div class="ttdeci">~PreciseSleepTimer()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01191">platform-win32.cc:1191</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1PreciseSleepTimer_html_a97c0e024fece2e8e0234908abfe345af"><div class="ttname"><a href="classv8_1_1base_1_1PreciseSleepTimer.html#a97c0e024fece2e8e0234908abfe345af">v8::base::PreciseSleepTimer::IsInitialized</a></div><div class="ttdeci">bool IsInitialized() const</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01204">platform-win32.cc:1204</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RandomNumberGenerator_html"><div class="ttname"><a href="classv8_1_1base_1_1RandomNumberGenerator.html">v8::base::RandomNumberGenerator</a></div><div class="ttdef"><b>Definition:</b> <a href="random-number-generator_8h_source.html#l00038">random-number-generator.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Stack_html_ae12df3e0075295b6db4c5f3575736b5a"><div class="ttname"><a href="classv8_1_1base_1_1Stack.html#ae12df3e0075295b6db4c5f3575736b5a">v8::base::Stack::GetCurrentStackPosition</a></div><div class="ttdeci">static V8_NOINLINE StackSlot GetCurrentStackPosition()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01455">platform-posix.cc:1455</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Stack_html_aef52783ed1b22030359a0abbade22801"><div class="ttname"><a href="classv8_1_1base_1_1Stack.html#aef52783ed1b22030359a0abbade22801">v8::base::Stack::ObtainCurrentThreadStackStart</a></div><div class="ttdeci">static Stack::StackSlot ObtainCurrentThreadStackStart()</div><div class="ttdef"><b>Definition:</b> <a href="platform-aix_8cc_source.html#l00139">platform-aix.cc:139</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1Options_html"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1Options.html">v8::base::Thread::Options</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00553">platform.h:553</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1Options_html_a98daf6b7865ff6fc2db910e5bb5c45e0"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1Options.html#a98daf6b7865ff6fc2db910e5bb5c45e0">v8::base::Thread::Options::name</a></div><div class="ttdeci">const char * name() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00561">platform.h:561</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1PlatformData_html_a0054cc62016aab3da6f5c65a52b38428"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a0054cc62016aab3da6f5c65a52b38428">v8::base::Thread::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01183">platform-posix.cc:1183</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1PlatformData_html_a1c0d095a22bab8a4be281c96be6a5ca2"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1c0d095a22bab8a4be281c96be6a5ca2">v8::base::Thread::PlatformData::thread_id_</a></div><div class="ttdeci">unsigned thread_id_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01746">platform-win32.cc:1746</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1PlatformData_html_a1d17ab6fadf784dc0c53a1a6e6108969"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a1d17ab6fadf784dc0c53a1a6e6108969">v8::base::Thread::PlatformData::thread_</a></div><div class="ttdeci">pthread_t thread_</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01184">platform-posix.cc:1184</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1PlatformData_html_a5dda2be4239e78fa4b5d5db197665452"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1PlatformData.html#a5dda2be4239e78fa4b5d5db197665452">v8::base::Thread::PlatformData::thread_</a></div><div class="ttdeci">HANDLE thread_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01745">platform-win32.cc:1745</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_1_1PlatformData_html_ae37fb80a5cf240ca10435552653cf87b"><div class="ttname"><a href="classv8_1_1base_1_1Thread_1_1PlatformData.html#ae37fb80a5cf240ca10435552653cf87b">v8::base::Thread::PlatformData::PlatformData</a></div><div class="ttdeci">PlatformData(HANDLE thread)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01744">platform-win32.cc:1744</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html">v8::base::Thread</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00538">platform.h:538</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a03b039733dcd3df63085e74c587df9b7"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a03b039733dcd3df63085e74c587df9b7">v8::base::Thread::Join</a></div><div class="ttdeci">void Join()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01311">platform-posix.cc:1311</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a223c063a84b4c9aa9a2fd7b01d480fbb"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a223c063a84b4c9aa9a2fd7b01d480fbb">v8::base::Thread::stack_size_</a></div><div class="ttdeci">int stack_size_</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00641">platform.h:641</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a3ddcd0a37fd3751be4e1cac06bedc447"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a3ddcd0a37fd3751be4e1cac06bedc447">v8::base::Thread::Thread</a></div><div class="ttdeci">Thread(const Options &amp;options)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01189">platform-posix.cc:1189</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a4c2159b224419ce01ca653ffcd5e28c2"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a4c2159b224419ce01ca653ffcd5e28c2">v8::base::Thread::Start</a></div><div class="ttdeci">V8_WARN_UNUSED_RESULT bool Start()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01280">platform-posix.cc:1280</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a55aae93605e66d7812a2bebf191b6457"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a55aae93605e66d7812a2bebf191b6457">v8::base::Thread::~Thread</a></div><div class="ttdeci">virtual ~Thread()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01199">platform-posix.cc:1199</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a63bc87055114d283604d687496a88420"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a63bc87055114d283604d687496a88420">v8::base::Thread::LocalStorageKey</a></div><div class="ttdeci">int32_t LocalStorageKey</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00546">platform.h:546</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_a7200eefbe28a522417b36aae04021948"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#a7200eefbe28a522417b36aae04021948">v8::base::Thread::DeleteThreadLocalKey</a></div><div class="ttdeci">static void DeleteThreadLocalKey(LocalStorageKey key)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01363">platform-posix.cc:1363</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_aa6959b4afc8ba7065d97e45327dc54a3"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#aa6959b4afc8ba7065d97e45327dc54a3">v8::base::Thread::data_</a></div><div class="ttdeci">PlatformData * data_</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00638">platform.h:638</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_aa8ce4978d083d9790f64a7685347ee9b"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#aa8ce4978d083d9790f64a7685347ee9b">v8::base::Thread::name</a></div><div class="ttdeci">const char * name() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00593">platform.h:593</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_abc63f50589a8aa1cfc856f625bb1cee6"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#abc63f50589a8aa1cfc856f625bb1cee6">v8::base::Thread::CreateThreadLocalKey</a></div><div class="ttdeci">static LocalStorageKey CreateThreadLocalKey()</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01351">platform-posix.cc:1351</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_ac67b609a15f0a5753e1aa51e9ca612e7"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#ac67b609a15f0a5753e1aa51e9ca612e7">v8::base::Thread::GetThreadLocal</a></div><div class="ttdeci">static void * GetThreadLocal(LocalStorageKey key)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01371">platform-posix.cc:1371</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_ac8b3808f8666e627a7b13deebd9eda15"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#ac8b3808f8666e627a7b13deebd9eda15">v8::base::Thread::set_name</a></div><div class="ttdeci">void set_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01275">platform-posix.cc:1275</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_ad7bf55fcc4e796d347c59734708eb81d"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#ad7bf55fcc4e796d347c59734708eb81d">v8::base::Thread::name_</a></div><div class="ttdeci">char name_[kMaxThreadNameLength]</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00640">platform.h:640</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_af31dcce079481573bddda99840e56a88"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#af31dcce079481573bddda99840e56a88">v8::base::Thread::NotifyStartedAndRun</a></div><div class="ttdeci">void NotifyStartedAndRun()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00630">platform.h:630</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Thread_html_afead45228e4beabf84527e07159af24e"><div class="ttname"><a href="classv8_1_1base_1_1Thread.html#afead45228e4beabf84527e07159af24e">v8::base::Thread::SetThreadLocal</a></div><div class="ttdeci">static void SetThreadLocal(LocalStorageKey key, void *value)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01377">platform-posix.cc:1377</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00070">time.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_ad9006b332aa15e66f2ddb8e8ba910892"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#ad9006b332aa15e66f2ddb8e8ba910892">v8::base::TimeDelta::InMicroseconds</a></div><div class="ttdeci">int64_t InMicroseconds() const</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00251">time.cc:251</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Time_html_a485c6079d0a94b6e93cc931b2857382d"><div class="ttname"><a href="classv8_1_1base_1_1Time.html#a485c6079d0a94b6e93cc931b2857382d">v8::base::Time::Now</a></div><div class="ttdeci">static Time Now()</div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Time_html_a6a9b1ac92e3bc1accf60db895398c9b5"><div class="ttname"><a href="classv8_1_1base_1_1Time.html#a6a9b1ac92e3bc1accf60db895398c9b5">v8::base::Time::ToJsTime</a></div><div class="ttdeci">double ToJsTime() const</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00502">time.cc:502</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimezoneCache_html"><div class="ttname"><a href="classv8_1_1base_1_1TimezoneCache.html">v8::base::TimezoneCache</a></div><div class="ttdef"><b>Definition:</b> <a href="timezone-cache_8h_source.html#l00011">timezone-cache.h:11</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimezoneCache_html_a966797625d4ff2cdd7e2efb6fa0dd6f9"><div class="ttname"><a href="classv8_1_1base_1_1TimezoneCache.html#a966797625d4ff2cdd7e2efb6fa0dd6f9">v8::base::TimezoneCache::TimeZoneDetection</a></div><div class="ttdeci">TimeZoneDetection</div><div class="ttdoc">Time zone redetection indicator for Clear function.</div><div class="ttdef"><b>Definition:</b> <a href="timezone-cache_8h_source.html#l00038">timezone-cache.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html">v8::base::Win32MemoryMappedFile</a></div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01280">platform-win32.cc:1280</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_a0c865611779577193ef2a95c2bc1e6a0"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a0c865611779577193ef2a95c2bc1e6a0">v8::base::Win32MemoryMappedFile::size_</a></div><div class="ttdeci">size_t const size_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01296">platform-win32.cc:1296</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_a11fec7c9a5733e81dc115f20092e7a35"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a11fec7c9a5733e81dc115f20092e7a35">v8::base::Win32MemoryMappedFile::file_mapping_</a></div><div class="ttdeci">HANDLE const file_mapping_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01294">platform-win32.cc:1294</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_a6e75caaea85c6bde8915c4f05bde6d38"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a6e75caaea85c6bde8915c4f05bde6d38">v8::base::Win32MemoryMappedFile::memory</a></div><div class="ttdeci">void * memory() const final</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01289">platform-win32.cc:1289</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_a7b094fea500add8e7ad760bcce2ddd0b"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#a7b094fea500add8e7ad760bcce2ddd0b">v8::base::Win32MemoryMappedFile::file_</a></div><div class="ttdeci">HANDLE const file_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01293">platform-win32.cc:1293</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_ab2db1d85efad14a749c1f4d7976395c8"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab2db1d85efad14a749c1f4d7976395c8">v8::base::Win32MemoryMappedFile::size</a></div><div class="ttdeci">size_t size() const final</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01290">platform-win32.cc:1290</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_ab68210e4cf1032124aeadae7bd095a4f"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ab68210e4cf1032124aeadae7bd095a4f">v8::base::Win32MemoryMappedFile::memory_</a></div><div class="ttdeci">void *const memory_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01295">platform-win32.cc:1295</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_abdad89a51a328960534cfa6fb0a15e27"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#abdad89a51a328960534cfa6fb0a15e27">v8::base::Win32MemoryMappedFile::~Win32MemoryMappedFile</a></div><div class="ttdeci">~Win32MemoryMappedFile() final</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01353">platform-win32.cc:1353</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32MemoryMappedFile_html_ae1e188f285fecab7d70a09ef5a796a5a"><div class="ttname"><a href="classv8_1_1base_1_1Win32MemoryMappedFile.html#ae1e188f285fecab7d70a09ef5a796a5a">v8::base::Win32MemoryMappedFile::Win32MemoryMappedFile</a></div><div class="ttdeci">Win32MemoryMappedFile(HANDLE file, HANDLE file_mapping, void *memory, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01282">platform-win32.cc:1282</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html">v8::base::Win32Time</a></div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00245">platform-win32.cc:245</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a052f87c337e9d06abe156757e01c4a09"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a052f87c337e9d06abe156757e01c4a09">v8::base::Win32Time::ToJSTime</a></div><div class="ttdeci">double ToJSTime()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00331">platform-win32.cc:331</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a1b4ea7a580c2d27a447886aed3740700"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a1b4ea7a580c2d27a447886aed3740700">v8::base::Win32Time::Win32Time</a></div><div class="ttdeci">Win32Time()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00305">platform-win32.cc:305</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a1b75f142e1c2816d10f2a3e9a14bc033"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a1b75f142e1c2816d10f2a3e9a14bc033">v8::base::Win32Time::kTimeScaler</a></div><div class="ttdeci">static const int64_t kTimeScaler</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00275">platform-win32.cc:275</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a1c33c5d8df426c40903d513fd9e50882"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a1c33c5d8df426c40903d513fd9e50882">v8::base::Win32Time::InDST</a></div><div class="ttdeci">bool InDST(WindowsTimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00431">platform-win32.cc:431</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a2ff49b8931e65799225ec872bfb3cc5e"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a2ff49b8931e65799225ec872bfb3cc5e">v8::base::Win32Time::kShortTzNames</a></div><div class="ttdeci">static const bool kShortTzNames</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00279">platform-win32.cc:279</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a48be11d8082ffc4e8fee9b72f17cfe05"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a48be11d8082ffc4e8fee9b72f17cfe05">v8::base::Win32Time::LocalOffset</a></div><div class="ttdeci">int64_t LocalOffset(WindowsTimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00397">platform-win32.cc:397</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a49be8a0d45eaa0a00413e3598e94bfe4"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a49be8a0d45eaa0a00413e3598e94bfe4">v8::base::Win32Time::t</a></div><div class="ttdeci">int64_t &amp; t()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00288">platform-win32.cc:288</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a84ed4aaddbb963d03ee06735fc1b1731"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a84ed4aaddbb963d03ee06735fc1b1731">v8::base::Win32Time::time_</a></div><div class="ttdeci">TimeStamp time_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00300">platform-win32.cc:300</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_a9a92308daaf1301f88d967a46fd2b9d7"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#a9a92308daaf1301f88d967a46fd2b9d7">v8::base::Win32Time::DaylightSavingsOffset</a></div><div class="ttdeci">int64_t DaylightSavingsOffset(WindowsTimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00456">platform-win32.cc:456</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_ab6f3f19dd6479e7286e3d5b9e0089b34"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#ab6f3f19dd6479e7286e3d5b9e0089b34">v8::base::Win32Time::SetToCurrentTime</a></div><div class="ttdeci">void SetToCurrentTime()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00337">platform-win32.cc:337</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_ab9c0056abd7965eeb1872df76de6036d"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#ab9c0056abd7965eeb1872df76de6036d">v8::base::Win32Time::kMsPerMinute</a></div><div class="ttdeci">static const int64_t kMsPerMinute</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00276">platform-win32.cc:276</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_ac457756f879b8e9cbdb78cb9c9d7c79e"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#ac457756f879b8e9cbdb78cb9c9d7c79e">v8::base::Win32Time::LocalTimezone</a></div><div class="ttdeci">char * LocalTimezone(WindowsTimezoneCache *cache)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00463">platform-win32.cc:463</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_acf233546898ede8a70973989391c7f15"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#acf233546898ede8a70973989391c7f15">v8::base::Win32Time::kTimeEpoc</a></div><div class="ttdeci">static const int64_t kTimeEpoc</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00274">platform-win32.cc:274</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Win32Time_html_af474260cb7f8e0e14523d1ceed0709c2"><div class="ttname"><a href="classv8_1_1base_1_1Win32Time.html#af474260cb7f8e0e14523d1ceed0709c2">v8::base::Win32Time::ft</a></div><div class="ttdeci">FILETIME &amp; ft()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00285">platform-win32.cc:285</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html">v8::base::WindowsTimezoneCache</a></div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00142">platform-win32.cc:142</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_a1af3a7ef00e71b9f857adf92ffeae50e"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#a1af3a7ef00e71b9f857adf92ffeae50e">v8::base::WindowsTimezoneCache::dst_tz_name_</a></div><div class="ttdeci">char dst_tz_name_[kTzNameSize]</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00233">platform-win32.cc:233</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_a23549bbc5dc6d62d57026f7082326725"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#a23549bbc5dc6d62d57026f7082326725">v8::base::WindowsTimezoneCache::LocalTimeOffset</a></div><div class="ttdeci">double LocalTimeOffset(double time, bool is_utc) override</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00515">platform-win32.cc:515</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_a3e88bfe85412df6e375359f0c0f6aeb5"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#a3e88bfe85412df6e375359f0c0f6aeb5">v8::base::WindowsTimezoneCache::LocalTimezone</a></div><div class="ttdeci">const char * LocalTimezone(double time) override</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00509">platform-win32.cc:509</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_a491ca05ff3781f2d67d172ed846d94b3"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#a491ca05ff3781f2d67d172ed846d94b3">v8::base::WindowsTimezoneCache::InitializeIfNeeded</a></div><div class="ttdeci">void InitializeIfNeeded()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00158">platform-win32.cc:158</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_a6bfd81082575967a798a0bbac2941044"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#a6bfd81082575967a798a0bbac2941044">v8::base::WindowsTimezoneCache::Clear</a></div><div class="ttdeci">void Clear(TimeZoneDetection) override</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00148">platform-win32.cc:148</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_a73697a8dbcfa4fca49fa0472901da844"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#a73697a8dbcfa4fca49fa0472901da844">v8::base::WindowsTimezoneCache::initialized_</a></div><div class="ttdeci">bool initialized_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00231">platform-win32.cc:231</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_ab249d8268dfd25d1bfd5d10dfd93ab56"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab249d8268dfd25d1bfd5d10dfd93ab56">v8::base::WindowsTimezoneCache::DaylightSavingsOffset</a></div><div class="ttdeci">double DaylightSavingsOffset(double time) override</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00527">platform-win32.cc:527</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_ab532a1c6bec3544e37b2ce2fc4275bad"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#ab532a1c6bec3544e37b2ce2fc4275bad">v8::base::WindowsTimezoneCache::WindowsTimezoneCache</a></div><div class="ttdeci">WindowsTimezoneCache()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00144">platform-win32.cc:144</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_ac9b24a8605c5db26e55caf42826e5092"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#ac9b24a8605c5db26e55caf42826e5092">v8::base::WindowsTimezoneCache::~WindowsTimezoneCache</a></div><div class="ttdeci">~WindowsTimezoneCache() override</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00146">platform-win32.cc:146</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_accdc97bf88ced8010e18af1b4758f099"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#accdc97bf88ced8010e18af1b4758f099">v8::base::WindowsTimezoneCache::GuessTimezoneNameFromBias</a></div><div class="ttdeci">const char * GuessTimezoneNameFromBias(int bias)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00207">platform-win32.cc:207</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_addc4be462aa9b7264ed9c5f385904eb2"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#addc4be462aa9b7264ed9c5f385904eb2">v8::base::WindowsTimezoneCache::tzinfo_</a></div><div class="ttdeci">TIME_ZONE_INFORMATION tzinfo_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00234">platform-win32.cc:234</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_af4edcf9562e8b46fd0c750ecd489bead"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#af4edcf9562e8b46fd0c750ecd489bead">v8::base::WindowsTimezoneCache::Win32Time</a></div><div class="ttdeci">friend class Win32Time</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00235">platform-win32.cc:235</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_afeb35e554c83345a4cd1cdfed14cb140"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#afeb35e554c83345a4cd1cdfed14cb140">v8::base::WindowsTimezoneCache::std_tz_name_</a></div><div class="ttdeci">char std_tz_name_[kTzNameSize]</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00232">platform-win32.cc:232</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1WindowsTimezoneCache_html_afee5816a3ca1abd9b3857bdefd05a245"><div class="ttname"><a href="classv8_1_1base_1_1WindowsTimezoneCache.html#afee5816a3ca1abd9b3857bdefd05a245">v8::base::WindowsTimezoneCache::kTzNameSize</a></div><div class="ttdeci">static const int kTzNameSize</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00230">platform-win32.cc:230</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a35294ca6f34ba906adefe31b21e5b765"><div class="ttname"><a href="flag-definitions_8h.html#a35294ca6f34ba906adefe31b21e5b765">time</a></div><div class="ttdeci">refactor address components for immediate indexing make OptimizeMaglevOnNextCall optimize to turbofan instead of maglev filter for tracing turbofan compilation trace turbo cfg trace TurboFan s graph trimmer trace TurboFan s control equivalence trace TurboFan s register allocator trace stack load store counters for optimized code in run time(x64 only)&quot;)      DEFINE_BOOL(fuzzing_and_concurrent_recompilation</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3a9beadc89284d3f78a7d4945b1b4d8c"><div class="ttname"><a href="flag-definitions_8h.html#a3a9beadc89284d3f78a7d4945b1b4d8c">false</a></div><div class="ttdeci">false</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00238">flag-definitions.h:238</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3ced3697c19e78b3fb4994a89f46945e"><div class="ttname"><a href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02171">flag-definitions.h:2171</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a583245cb1ce76ddbc0cf3db5354b33c1"><div class="ttname"><a href="flag-definitions_8h.html#a583245cb1ce76ddbc0cf3db5354b33c1">file</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this file(requires that V8 was built with v8_enable_builtins_profiling=true)&quot;) DEFINE_BOOL(reorder_builtins</div></div>
<div class="ttc" id="aflag-definitions_8h_html_aca14fbede0905858c819226fce3678cc"><div class="ttname"><a href="flag-definitions_8h.html#aca14fbede0905858c819226fce3678cc">nullptr</a></div><div class="ttdeci">refactor address components for immediate indexing make OptimizeMaglevOnNextCall optimize to turbofan instead of maglev filter for tracing turbofan compilation nullptr</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l01280">flag-definitions.h:1280</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_af0832cf93cb1767d6e6e287bb7dcdf72"><div class="ttname"><a href="flag-definitions_8h.html#af0832cf93cb1767d6e6e287bb7dcdf72">flags</a></div><div class="ttdeci">other heap size flags(e.g. initial_heap_size) take precedence&quot;) DEFINE_SIZE_T( max_shared_heap_size</div></div>
<div class="ttc" id="aflag-definitions_8h_html_aff9725e631b764002f38c38f74f9bf22"><div class="ttname"><a href="flag-definitions_8h.html#aff9725e631b764002f38c38f74f9bf22">KB</a></div><div class="ttdeci">refactor address components for immediate indexing make OptimizeMaglevOnNextCall optimize to turbofan instead of maglev filter for tracing turbofan compilation trace turbo cfg trace TurboFan s graph trimmer trace TurboFan s control equivalence trace TurboFan s register allocator trace stack load store counters for optimized code in run fuzzing &amp;&amp;concurrent_recompilation trace_turbo trace_turbo_scheduled trace_turbo_stack_accesses verify TurboFan machine graph of code stubs path where to generate builtins effects enable FixedArray bounds checks print TurboFan statistics of wasm compilations maximum cumulative size of bytecode considered for inlining maximum size of small functions bytecode that can be inlining maximum size of bytecode considered for small function inlining * KB</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l01400">flag-definitions.h:1400</a></div></div>
<div class="ttc" id="aimmediate-crash_8h_html_a7c3f001a964764527e52b6a429f7499f"><div class="ttname"><a href="immediate-crash_8h.html#a7c3f001a964764527e52b6a429f7499f">IMMEDIATE_CRASH</a></div><div class="ttdeci">#define IMMEDIATE_CRASH()</div><div class="ttdef"><b>Definition:</b> <a href="immediate-crash_8h_source.html#l00181">immediate-crash.h:181</a></div></div>
<div class="ttc" id="alazy-instance_8h_html"><div class="ttname"><a href="lazy-instance_8h.html">lazy-instance.h</a></div></div>
<div class="ttc" id="amutex_8h_html"><div class="ttname"><a href="mutex_8h.html">mutex.h</a></div></div>
<div class="ttc" id="amutex_8h_html_ab9eda31a32ad469c6c00d977fe45b37f"><div class="ttname"><a href="mutex_8h.html#ab9eda31a32ad469c6c00d977fe45b37f">LAZY_MUTEX_INITIALIZER</a></div><div class="ttdeci">#define LAZY_MUTEX_INITIALIZER</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00105">mutex.h:105</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-starboard_8cc_03_html_a0937e0d115264e72b1b21f812e8b9518"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-starboard_8cc_03.html#a0937e0d115264e72b1b21f812e8b9518">v8::base::anonymous_namespace{platform-starboard.cc}::rng_mutex</a></div><div class="ttdeci">static LazyMutex rng_mutex</div><div class="ttdef"><b>Definition:</b> <a href="platform-starboard_8cc_source.html#l00074">platform-starboard.cc:74</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03_html_a31cfc9a9fce923a718f658d3dfb35dd7"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a31cfc9a9fce923a718f658d3dfb35dd7">v8::base::anonymous_namespace{platform-win32.cc}::GetFileViewAccessFromMemoryPermission</a></div><div class="ttdeci">DWORD GetFileViewAccessFromMemoryPermission(OS::MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00909">platform-win32.cc:909</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03_html_a6ca4b7f7b0918008be1156c25d2f7b3d"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a6ca4b7f7b0918008be1156c25d2f7b3d">v8::base::anonymous_namespace{platform-win32.cc}::VirtualAllocWithHint</a></div><div class="ttdeci">uint8_t * VirtualAllocWithHint(size_t size, DWORD flags, DWORD protect, void *hint)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00934">platform-win32.cc:934</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03_html_a812fe31269e1a0364487d7d476158396"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#a812fe31269e1a0364487d7d476158396">v8::base::anonymous_namespace{platform-win32.cc}::UserShadowStackEnabled</a></div><div class="ttdeci">bool UserShadowStackEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00755">platform-win32.cc:755</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03_html_abafde84aab8e9fdabb1031aa2363b8be"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#abafde84aab8e9fdabb1031aa2363b8be">v8::base::anonymous_namespace{platform-win32.cc}::CheckIsOOMError</a></div><div class="ttdeci">void CheckIsOOMError(int error)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00987">platform-win32.cc:987</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03_html_ac82b38aaafd4329330806e93719ae0a7"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#ac82b38aaafd4329330806e93719ae0a7">v8::base::anonymous_namespace{platform-win32.cc}::VirtualAllocWrapper</a></div><div class="ttdeci">void * VirtualAllocWrapper(void *address, size_t size, DWORD flags, DWORD protect)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00924">platform-win32.cc:924</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03_html_afe193e4925bba6817ac9ed8e7910baa8"><div class="ttname"><a href="namespacev8_1_1base_1_1anonymous__namespace_02platform-win32_8cc_03.html#afe193e4925bba6817ac9ed8e7910baa8">v8::base::anonymous_namespace{platform-win32.cc}::AllocateInternal</a></div><div class="ttdeci">void * AllocateInternal(void *hint, size_t size, size_t alignment, size_t page_size, DWORD flags, DWORD protect)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00946">platform-win32.cc:946</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a0ea0d9c94b340f3ae61dfe095e71567c"><div class="ttname"><a href="namespacev8_1_1base.html#a0ea0d9c94b340f3ae61dfe095e71567c">v8::base::MapViewOfFile3</a></div><div class="ttdeci">MapViewOfFile3_t MapViewOfFile3</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00796">platform-win32.cc:796</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1164c4a4843f31b51527e1661ff36565"><div class="ttname"><a href="namespacev8_1_1base.html#a1164c4a4843f31b51527e1661ff36565">v8::base::format</a></div><div class="ttdeci">V8_BASE_EXPORT int const char * format</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00023">strings.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a17ca5a04ca6b2527ba088147ecde366e"><div class="ttname"><a href="namespacev8_1_1base.html#a17ca5a04ca6b2527ba088147ecde366e">v8::base::GetProtectionFromMemoryPermission</a></div><div class="ttdeci">int GetProtectionFromMemoryPermission(OS::MemoryPermission access)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l00202">platform-posix.cc:202</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a1e252e9780a545bfb5cfe0b2c59a5a19"><div class="ttname"><a href="namespacev8_1_1base.html#a1e252e9780a545bfb5cfe0b2c59a5a19">v8::base::SymGetLineFromAddr64</a></div><div class="ttdeci">BOOL(__stdcall *)(IN HANDLE hProcess, IN DWORD64 qwAddr, OUT PDWORD pdwDisplacement, OUT PIMAGEHLP_LINE64 Line64) SymGetLineFromAddr64</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01511">platform-win32.cc:1513</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a22715113081752efb170989afb975c02"><div class="ttname"><a href="namespacev8_1_1base.html#a22715113081752efb170989afb975c02">v8::base::ThreadEntry</a></div><div class="ttdeci">static void * ThreadEntry(void *arg)</div><div class="ttdef"><b>Definition:</b> <a href="platform-posix_8cc_source.html#l01229">platform-posix.cc:1229</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a2d73c3438561a88e61222d864a5c3983"><div class="ttname"><a href="namespacev8_1_1base.html#a2d73c3438561a88e61222d864a5c3983">v8::base::SymFunctionTableAccess64</a></div><div class="ttdeci">PVOID(__stdcall *)(HANDLE hProcess, DWORD64 AddrBase) SymFunctionTableAccess64</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01515">platform-win32.cc:1517</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a36caaf43a3f7761ae90d699b961f0239"><div class="ttname"><a href="namespacev8_1_1base.html#a36caaf43a3f7761ae90d699b961f0239">v8::base::SNPrintF</a></div><div class="ttdeci">int SNPrintF(Vector&lt; char &gt; str, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="strings_8cc_source.html#l00020">strings.cc:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37a9b036b2bb53802e6b5d0842ca0fad"><div class="ttname"><a href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fad">v8::base::AbortMode</a></div><div class="ttdeci">AbortMode</div><div class="ttdef"><b>Definition:</b> <a href="abort-mode_8h_source.html#l00016">abort-mode.h:16</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37a9b036b2bb53802e6b5d0842ca0fada3ae13cea59392a41e8b3af2bd9932584"><div class="ttname"><a href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fada3ae13cea59392a41e8b3af2bd9932584">v8::base::AbortMode::kImmediateCrash</a></div><div class="ttdeci">@ kImmediateCrash</div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37a9b036b2bb53802e6b5d0842ca0fada6867faeaa475fda467e48267db2bb8a8"><div class="ttname"><a href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fada6867faeaa475fda467e48267db2bb8a8">v8::base::AbortMode::kDefault</a></div><div class="ttdeci">@ kDefault</div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37a9b036b2bb53802e6b5d0842ca0fada7290ff94f6dd6700d63caeb72f719567"><div class="ttname"><a href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fada7290ff94f6dd6700d63caeb72f719567">v8::base::AbortMode::kExitWithFailureAndIgnoreDcheckFailures</a></div><div class="ttdeci">@ kExitWithFailureAndIgnoreDcheckFailures</div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a37a9b036b2bb53802e6b5d0842ca0fadaff277872582ccfdd97afcd867173f868"><div class="ttname"><a href="namespacev8_1_1base.html#a37a9b036b2bb53802e6b5d0842ca0fadaff277872582ccfdd97afcd867173f868">v8::base::AbortMode::kExitWithSuccessAndIgnoreDcheckFailures</a></div><div class="ttdeci">@ kExitWithSuccessAndIgnoreDcheckFailures</div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a4ba3ac1937e9da441242577b387ed8fa"><div class="ttname"><a href="namespacev8_1_1base.html#a4ba3ac1937e9da441242577b387ed8fa">v8::base::LoadSymbols</a></div><div class="ttdeci">static std::vector&lt; OS::SharedLibraryAddress &gt; LoadSymbols(HANDLE process_handle)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01601">platform-win32.cc:1601</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a4e7e0727a558ff03a0d5a9a05f16aec3"><div class="ttname"><a href="namespacev8_1_1base.html#a4e7e0727a558ff03a0d5a9a05f16aec3">v8::base::ConvertUtf8StringToUtf16</a></div><div class="ttdeci">static std::wstring ConvertUtf8StringToUtf16(const char *str)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00613">platform-win32.cc:613</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a50887727b22edfce433c4d8a568ca255"><div class="ttname"><a href="namespacev8_1_1base.html#a50887727b22edfce433c4d8a568ca255">v8::base::Module32FirstW</a></div><div class="ttdeci">BOOL(__stdcall *)(HANDLE hSnapshot, LPMODULEENTRY32W lpme) Module32FirstW</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01525">platform-win32.cc:1526</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5ca9a109686438221364d87b79c62099"><div class="ttname"><a href="namespacev8_1_1base.html#a5ca9a109686438221364d87b79c62099">v8::base::Module32NextW</a></div><div class="ttdeci">BOOL(__stdcall *)(HANDLE hSnapshot, LPMODULEENTRY32W lpme) Module32NextW</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01527">platform-win32.cc:1528</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5d9767851cd6623e1037e8cc2e344bf0"><div class="ttname"><a href="namespacev8_1_1base.html#a5d9767851cd6623e1037e8cc2e344bf0">v8::base::VirtualAlloc2</a></div><div class="ttdeci">VirtualAlloc2_t VirtualAlloc2</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00791">platform-win32.cc:791</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a61bd580c2ede98426754246fb15620ab"><div class="ttname"><a href="namespacev8_1_1base.html#a61bd580c2ede98426754246fb15620ab">v8::base::CreateToolhelp32Snapshot</a></div><div class="ttdeci">HANDLE(__stdcall *)(DWORD dwFlags, DWORD th32ProcessID) CreateToolhelp32Snapshot</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01523">platform-win32.cc:1524</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a6d0593db554d928479484836ade326fe"><div class="ttname"><a href="namespacev8_1_1base.html#a6d0593db554d928479484836ade326fe">v8::base::SymGetOptions</a></div><div class="ttdeci">DWORD(__stdcall *)(VOID) SymGetOptions</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01494">platform-win32.cc:1494</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a6ec1f9f97d53a12d50b359c2bade2a03"><div class="ttname"><a href="namespacev8_1_1base.html#a6ec1f9f97d53a12d50b359c2bade2a03">v8::base::UnmapViewOfFile2_t</a></div><div class="ttdeci">PVOID(__stdcall * UnmapViewOfFile2_t)(HANDLE, PVOID, ULONG)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00798">platform-win32.cc:798</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a75fc3bc0bebec25fca957538b908d468"><div class="ttname"><a href="namespacev8_1_1base.html#a75fc3bc0bebec25fca957538b908d468">v8::base::LoadDbgHelpAndTlHelp32</a></div><div class="ttdeci">static bool LoadDbgHelpAndTlHelp32()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01542">platform-win32.cc:1542</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7a8e5f39a6cedb50fe0f14dfc60faa17"><div class="ttname"><a href="namespacev8_1_1base.html#a7a8e5f39a6cedb50fe0f14dfc60faa17">v8::base::UnmapViewOfFile2</a></div><div class="ttdeci">UnmapViewOfFile2_t UnmapViewOfFile2</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00799">platform-win32.cc:799</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7de9ac659321d3e042b09ddcb1e235c7"><div class="ttname"><a href="namespacev8_1_1base.html#a7de9ac659321d3e042b09ddcb1e235c7">v8::base::SymInitialize</a></div><div class="ttdeci">BOOL(__stdcall *)(IN HANDLE hProcess, IN PSTR UserSearchPath, IN BOOL fInvadeProcess) SymInitialize</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01491">platform-win32.cc:1493</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8005e899c1a17ecebe9530c2a894e16d"><div class="ttname"><a href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16d">v8::base::OutputMode</a></div><div class="ttdeci">OutputMode</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00571">platform-win32.cc:571</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8005e899c1a17ecebe9530c2a894e16da314edcd936f538fc0078686ba11bc3ed"><div class="ttname"><a href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16da314edcd936f538fc0078686ba11bc3ed">v8::base::CONSOLE</a></div><div class="ttdeci">@ CONSOLE</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00573">platform-win32.cc:573</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8005e899c1a17ecebe9530c2a894e16dac4b76d6fb9cec3b484bff6cd89595737"><div class="ttname"><a href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16dac4b76d6fb9cec3b484bff6cd89595737">v8::base::ODS</a></div><div class="ttdeci">@ ODS</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00575">platform-win32.cc:574</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a8005e899c1a17ecebe9530c2a894e16daf14a1b674856c28f938cb7c148e69e62"><div class="ttname"><a href="namespacev8_1_1base.html#a8005e899c1a17ecebe9530c2a894e16daf14a1b674856c28f938cb7c148e69e62">v8::base::UNKNOWN</a></div><div class="ttdeci">@ UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00572">platform-win32.cc:572</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a87619b0a1932c3e4d4c0338efe862871"><div class="ttname"><a href="namespacev8_1_1base.html#a87619b0a1932c3e4d4c0338efe862871">v8::base::MapViewOfFile3_t</a></div><div class="ttdeci">PVOID(__stdcall * MapViewOfFile3_t)(HANDLE, HANDLE, PVOID, ULONG64, SIZE_T, ULONG, ULONG, MEM_EXTENDED_PARAMETER *, ULONG)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00793">platform-win32.cc:793</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aba5fca3206a2e43fd022191bc482fee5"><div class="ttname"><a href="namespacev8_1_1base.html#aba5fca3206a2e43fd022191bc482fee5">v8::base::HasConsole</a></div><div class="ttdeci">static bool HasConsole()</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00581">platform-win32.cc:581</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_abfb3da57c44844599393e507140cbcd8"><div class="ttname"><a href="namespacev8_1_1base.html#abfb3da57c44844599393e507140cbcd8">v8::base::g_abort_mode</a></div><div class="ttdeci">AbortMode g_abort_mode</div><div class="ttdef"><b>Definition:</b> <a href="abort-mode_8cc_source.html#l00010">abort-mode.cc:10</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ac6c98e301d317606d696c4249faf4f9d"><div class="ttname"><a href="namespacev8_1_1base.html#ac6c98e301d317606d696c4249faf4f9d">v8::base::SymGetSymFromAddr64</a></div><div class="ttdeci">BOOL(__stdcall *)(IN HANDLE hProcess, IN DWORD64 qwAddr, OUT PDWORD64 pdwDisplacement, OUT PIMAGEHLP_SYMBOL64 Symbol) SymGetSymFromAddr64</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01508">platform-win32.cc:1510</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aca82f387e10606199d99268240805673"><div class="ttname"><a href="namespacev8_1_1base.html#aca82f387e10606199d99268240805673">v8::base::SymSetOptions</a></div><div class="ttdeci">DWORD(__stdcall *)(IN DWORD SymOptions) SymSetOptions</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01495">platform-win32.cc:1495</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ace7856ebd78c5ee1b5dede25b79ab8c5"><div class="ttname"><a href="namespacev8_1_1base.html#ace7856ebd78c5ee1b5dede25b79ab8c5">v8::base::StackWalk64</a></div><div class="ttdeci">BOOL(__stdcall *)(DWORD MachineType, HANDLE hProcess, HANDLE hThread, LPSTACKFRAME64 StackFrame, PVOID ContextRecord, PREAD_PROCESS_MEMORY_ROUTINE64 ReadMemoryRoutine, PFUNCTION_TABLE_ACCESS_ROUTINE64 FunctionTableAccessRoutine, PGET_MODULE_BASE_ROUTINE64 GetModuleBaseRoutine, PTRANSLATE_ADDRESS_ROUTINE64 TranslateAddress) StackWalk64</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01501">platform-win32.cc:1507</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad03b241da4e98adde3145092fe54be8b"><div class="ttname"><a href="namespacev8_1_1base.html#ad03b241da4e98adde3145092fe54be8b">v8::base::args</a></div><div class="ttdeci">V8_BASE_EXPORT int const char va_list args</div><div class="ttdef"><b>Definition:</b> <a href="strings_8h_source.html#l00023">strings.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad1adbb312b6ffac7035510d13c07351f"><div class="ttname"><a href="namespacev8_1_1base.html#ad1adbb312b6ffac7035510d13c07351f">v8::base::SymGetSearchPath</a></div><div class="ttdeci">BOOL(__stdcall *)(IN HANDLE hProcess, OUT PSTR SearchPath, IN DWORD SearchPathLength) SymGetSearchPath</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01496">platform-win32.cc:1497</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae2d1e44ecac3d5b36ddb03961fc57cd3"><div class="ttname"><a href="namespacev8_1_1base.html#ae2d1e44ecac3d5b36ddb03961fc57cd3">v8::base::output_mode</a></div><div class="ttdeci">static OutputMode output_mode</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00577">platform-win32.cc:577</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae7af057f5e7195b5a25bd5d2859111b6"><div class="ttname"><a href="namespacev8_1_1base.html#ae7af057f5e7195b5a25bd5d2859111b6">v8::base::SymLoadModule64</a></div><div class="ttdeci">DWORD64(__stdcall *)(IN HANDLE hProcess, IN HANDLE hFile, IN PSTR ImageName, IN PSTR ModuleName, IN DWORD64 BaseOfDll, IN DWORD SizeOfDll) SymLoadModule64</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01498">platform-win32.cc:1500</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae842d0fcc77936afae8815af7331d4fe"><div class="ttname"><a href="namespacev8_1_1base.html#ae842d0fcc77936afae8815af7331d4fe">v8::base::kNoThread</a></div><div class="ttdeci">static const pthread_t kNoThread</div><div class="ttdef"><b>Definition:</b> <a href="platform-qnx_8cc_source.html#l00043">platform-qnx.cc:43</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aeedd027d73c10ed704afa6ddfa29c1d1"><div class="ttname"><a href="namespacev8_1_1base.html#aeedd027d73c10ed704afa6ddfa29c1d1">v8::base::VirtualAlloc2_t</a></div><div class="ttdeci">PVOID(__stdcall * VirtualAlloc2_t)(HANDLE, PVOID, SIZE_T, ULONG, ULONG, MEM_EXTENDED_PARAMETER *, ULONG)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00789">platform-win32.cc:789</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af0f7afb0da9a6caba38ac0c0018b48e3"><div class="ttname"><a href="namespacev8_1_1base.html#af0f7afb0da9a6caba38ac0c0018b48e3">v8::base::VSNPrintF</a></div><div class="ttdeci">int VSNPrintF(Vector&lt; char &gt; str, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="strings_8cc_source.html#l00016">strings.cc:16</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af33c6c57c919396957caeed9a5ef5e6b"><div class="ttname"><a href="namespacev8_1_1base.html#af33c6c57c919396957caeed9a5ef5e6b">v8::base::SymGetModuleBase64</a></div><div class="ttdeci">DWORD64(__stdcall *)(HANDLE hProcess, DWORD64 AddrBase) SymGetModuleBase64</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01518">platform-win32.cc:1520</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af84f800e82451651cc6efe8ddf189a3d"><div class="ttname"><a href="namespacev8_1_1base.html#af84f800e82451651cc6efe8ddf189a3d">v8::base::DEFINE_LAZY_LEAKY_OBJECT_GETTER</a></div><div class="ttdeci">DEFINE_LAZY_LEAKY_OBJECT_GETTER(RandomNumberGenerator, GetPlatformRandomNumberGenerator) static LazyMutex rng_mutex</div></div>
<div class="ttc" id="anamespacev8_1_1base_html_af8febcbbfb3cba7fe1561814f25234c5"><div class="ttname"><a href="namespacev8_1_1base.html#af8febcbbfb3cba7fe1561814f25234c5">v8::base::VPrintHelper</a></div><div class="ttdeci">static void VPrintHelper(FILE *stream, const char *format, va_list args)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00599">platform-win32.cc:599</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_html_a996ff47de27ce5f127bdcc0bff48b7f9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03.html#a996ff47de27ce5f127bdcc0bff48b7f9">v8::internal::anonymous_namespace{read-only-promotion.cc}::Contains</a></div><div class="ttdeci">bool Contains(const HeapObjectSet &amp;s, Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="read-only-promotion_8cc_source.html#l00032">read-only-promotion.cc:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1win64__unwindinfo_html_ae4b7d96f9ac1451c2013010ee0da2e56"><div class="ttname"><a href="namespacev8_1_1internal_1_1win64__unwindinfo.html#ae4b7d96f9ac1451c2013010ee0da2e56">v8::internal::win64_unwindinfo::ContextRecord</a></div><div class="ttdeci">ULONG64 PCONTEXT ContextRecord</div><div class="ttdef"><b>Definition:</b> <a href="unwinding-info-win64_8cc_source.html#l00056">unwinding-info-win64.cc:56</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3"><div class="ttname"><a href="namespacev8_1_1internal.html#a271f8ea99b7c0bbd771df015d4e4cf21ab98311bd5d26f656d79f7bc7f50d16b3">v8::internal::mi</a></div><div class="ttdeci">@ mi</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00089">constants-arm.h:89</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a68432e0286fadb63d524e475affa65fb"><div class="ttname"><a href="namespacev8_1_1internal.html#a68432e0286fadb63d524e475affa65fb">v8::internal::L</a></div><div class="ttdeci">constexpr int L</div><div class="ttdef"><b>Definition:</b> <a href="constants-arm_8h_source.html#l00174">constants-arm.h:174</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a6b717bb53640adb6d9de62f718e70b3a"><div class="ttname"><a href="namespacev8_1_1internal.html#a6b717bb53640adb6d9de62f718e70b3a">v8::internal::Print</a></div><div class="ttdeci">void Print(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00772">objects.h:772</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af68b330f02476361ab10f531933b3381"><div class="ttname"><a href="namespacev8_1_1internal.html#af68b330f02476361ab10f531933b3381">v8::internal::string</a></div><div class="ttdeci">template const char * string</div><div class="ttdef"><b>Definition:</b> <a href="conversions_8cc_source.html#l01119">conversions.cc:1119</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_ac9f421c9670d61efa9094326eb8176dc"><div class="ttname"><a href="namespacev8.html#ac9f421c9670d61efa9094326eb8176dc">v8::kInvalidSharedMemoryHandle</a></div><div class="ttdeci">static constexpr PlatformSharedMemoryHandle kInvalidSharedMemoryHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00709">v8-platform.h:709</a></div></div>
<div class="ttc" id="anamespacev8_html_ad2e4ee82254bfd04ba12af21ac69a894"><div class="ttname"><a href="namespacev8.html#ad2e4ee82254bfd04ba12af21ac69a894">v8::PlatformSharedMemoryHandle</a></div><div class="ttdeci">intptr_t PlatformSharedMemoryHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00708">v8-platform.h:708</a></div></div>
<div class="ttc" id="aplatform-win32_8cc_html_a0f965c047f07659ca0e9af4ff9df1ffb"><div class="ttname"><a href="platform-win32_8cc.html#a0f965c047f07659ca0e9af4ff9df1ffb">DLL_FUNC_LOADED</a></div><div class="ttdeci">#define DLL_FUNC_LOADED(name)</div></div>
<div class="ttc" id="aplatform-win32_8cc_html_a66d575bd069a059c1d65a87a74900fb4"><div class="ttname"><a href="platform-win32_8cc.html#a66d575bd069a059c1d65a87a74900fb4">TLHELP32_FUNCTION_LIST</a></div><div class="ttdeci">#define TLHELP32_FUNCTION_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01467">platform-win32.cc:1467</a></div></div>
<div class="ttc" id="aplatform-win32_8cc_html_a7d9e118177a6f2184128edabecad9302"><div class="ttname"><a href="platform-win32_8cc.html#a7d9e118177a6f2184128edabecad9302">DEF_DLL_FUNCTION</a></div><div class="ttdeci">#define DEF_DLL_FUNCTION(name)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01534">platform-win32.cc:1534</a></div></div>
<div class="ttc" id="aplatform-win32_8cc_html_a7f319bfc2492a2136964194204e7a8cf"><div class="ttname"><a href="platform-win32_8cc.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a></div><div class="ttdeci">#define VOID</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01485">platform-win32.cc:1485</a></div></div>
<div class="ttc" id="aplatform-win32_8cc_html_a96408c20703a2c69e5c2e52a893d618a"><div class="ttname"><a href="platform-win32_8cc.html#a96408c20703a2c69e5c2e52a893d618a">LOAD_DLL_FUNC</a></div><div class="ttdeci">#define LOAD_DLL_FUNC(name)</div></div>
<div class="ttc" id="aplatform-win32_8cc_html_ac2bbd6d630a06a980d9a92ddb9a49928"><div class="ttname"><a href="platform-win32_8cc.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a></div><div class="ttdeci">#define IN</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01482">platform-win32.cc:1482</a></div></div>
<div class="ttc" id="aplatform-win32_8cc_html_ad1bdeb16c3a6c7cf3da83c219ec4da77"><div class="ttname"><a href="platform-win32_8cc.html#ad1bdeb16c3a6c7cf3da83c219ec4da77">DLL_FUNC_TYPE</a></div><div class="ttdeci">#define DLL_FUNC_TYPE(name)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01474">platform-win32.cc:1474</a></div></div>
<div class="ttc" id="aplatform-win32_8cc_html_add09f6a0b989fa16f6586b67b6747818"><div class="ttname"><a href="platform-win32_8cc.html#add09f6a0b989fa16f6586b67b6747818">DBGHELP_FUNCTION_LIST</a></div><div class="ttdeci">#define DBGHELP_FUNCTION_LIST(V)</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l01454">platform-win32.cc:1454</a></div></div>
<div class="ttc" id="aplatform-win32_8h_html"><div class="ttname"><a href="platform-win32_8h.html">platform-win32.h</a></div></div>
<div class="ttc" id="arandom-number-generator_8h_html"><div class="ttname"><a href="random-number-generator_8h.html">random-number-generator.h</a></div></div>
<div class="ttc" id="asrc_2base_2compiler-specific_8h_html_a415acbb16ae1bfc9e3e053f8477852f5"><div class="ttname"><a href="src_2base_2compiler-specific_8h.html#a415acbb16ae1bfc9e3e053f8477852f5">V8_NOEXCEPT</a></div><div class="ttdeci">#define V8_NOEXCEPT</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2compiler-specific_8h_source.html#l00105">compiler-specific.h:105</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a43d2df1fb528ff7bee1e873e377e0323"><div class="ttname"><a href="src_2base_2logging_8h.html#a43d2df1fb528ff7bee1e873e377e0323">CHECK_GT</a></div><div class="ttdeci">#define CHECK_GT(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aa958a8a4e5dda3abaa031977268ae60e"><div class="ttname"><a href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a></div><div class="ttdeci">#define CHECK_NE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html"><div class="ttname"><a href="src_2base_2macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00387">macros.h:387</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a642af91b62cafba63b2a751a6547a085"><div class="ttname"><a href="src_2base_2macros_8h.html#a642af91b62cafba63b2a751a6547a085">AlignedAddress</a></div><div class="ttdeci">void * AlignedAddress(void *address, size_t alignment)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00407">macros.h:407</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_aa0de4a420e74c8df8076fc2aaf4af27a"><div class="ttname"><a href="src_2base_2macros_8h.html#aa0de4a420e74c8df8076fc2aaf4af27a">RoundDown</a></div><div class="ttdeci">constexpr T RoundDown(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00371">macros.h:371</a></div></div>
<div class="ttc" id="asrc_2base_2platform_2platform_8h_html"><div class="ttname"><a href="src_2base_2platform_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="astructV8__CONDITION__VARIABLE_html"><div class="ttname"><a href="structV8__CONDITION__VARIABLE.html">V8_CONDITION_VARIABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00082">win32-headers.h:82</a></div></div>
<div class="ttc" id="astructV8__CRITICAL__SECTION_html"><div class="ttname"><a href="structV8__CRITICAL__SECTION.html">V8_CRITICAL_SECTION</a></div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00086">win32-headers.h:86</a></div></div>
<div class="ttc" id="astructV8__SRWLOCK_html"><div class="ttname"><a href="structV8__SRWLOCK.html">V8_SRWLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00078">win32-headers.h:78</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstanceImpl_html"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstanceImpl.html">v8::base::LazyInstanceImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="lazy-instance_8h_source.html#l00165">lazy-instance.h:165</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1LazyInstanceImpl_html_a731d414ae2f2f0fafb4df47502b21068"><div class="ttname"><a href="structv8_1_1base_1_1LazyInstanceImpl.html#a731d414ae2f2f0fafb4df47502b21068">v8::base::LazyInstanceImpl::Pointer</a></div><div class="ttdeci">T * Pointer()</div><div class="ttdef"><b>Definition:</b> <a href="lazy-instance_8h_source.html#l00181">lazy-instance.h:181</a></div></div>
<div class="ttc" id="astructv8_1_1base_1_1OS_1_1SharedLibraryAddress_html"><div class="ttname"><a href="structv8_1_1base_1_1OS_1_1SharedLibraryAddress.html">v8::base::OS::SharedLibraryAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00281">platform.h:281</a></div></div>
<div class="ttc" id="atime_8h_html"><div class="ttname"><a href="time_8h.html">time.h</a></div></div>
<div class="ttc" id="atimezone-cache_8h_html"><div class="ttname"><a href="timezone-cache_8h.html">timezone-cache.h</a></div></div>
<div class="ttc" id="aunionv8_1_1base_1_1Win32Time_1_1TimeStamp_html"><div class="ttname"><a href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html">v8::base::Win32Time::TimeStamp</a></div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00295">platform-win32.cc:295</a></div></div>
<div class="ttc" id="aunionv8_1_1base_1_1Win32Time_1_1TimeStamp_html_a63e26198f9ff43a55e173dbf4daddd21"><div class="ttname"><a href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#a63e26198f9ff43a55e173dbf4daddd21">v8::base::Win32Time::TimeStamp::t_</a></div><div class="ttdeci">int64_t t_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00297">platform-win32.cc:297</a></div></div>
<div class="ttc" id="aunionv8_1_1base_1_1Win32Time_1_1TimeStamp_html_ad995e225faaaceebb76ca77f5412d64a"><div class="ttname"><a href="unionv8_1_1base_1_1Win32Time_1_1TimeStamp.html#ad995e225faaaceebb76ca77f5412d64a">v8::base::Win32Time::TimeStamp::ft_</a></div><div class="ttdeci">FILETIME ft_</div><div class="ttdef"><b>Definition:</b> <a href="platform-win32_8cc_source.html#l00296">platform-win32.cc:296</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_a050c65e107f0c828f856a231f4b4e788"><div class="ttname"><a href="win32-headers_8h.html#a050c65e107f0c828f856a231f4b4e788">BOOL</a></div><div class="ttdeci">int BOOL</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00051">win32-headers.h:51</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_a2a3e0cda5f1249bef6db47c5eb8e3813"><div class="ttname"><a href="win32-headers_8h.html#a2a3e0cda5f1249bef6db47c5eb8e3813">LONG</a></div><div class="ttdeci">long LONG</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00053">win32-headers.h:53</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_a2b5e00c0c5a5aa5199ba9f28ec3e8caa"><div class="ttname"><a href="win32-headers_8h.html#a2b5e00c0c5a5aa5199ba9f28ec3e8caa">PVOID</a></div><div class="ttdeci">void * PVOID</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00055">win32-headers.h:55</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_a32dd2b6f180a3b97ed89b7fe532cdff5"><div class="ttname"><a href="win32-headers_8h.html#a32dd2b6f180a3b97ed89b7fe532cdff5">CRITICAL_SECTION</a></div><div class="ttdeci">struct _RTL_CRITICAL_SECTION CRITICAL_SECTION</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00063">win32-headers.h:68</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_a9aa60e1ead64be77ad551e745cbfd4d3"><div class="ttname"><a href="win32-headers_8h.html#a9aa60e1ead64be77ad551e745cbfd4d3">WINAPI</a></div><div class="ttdeci">#define WINAPI</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00058">win32-headers.h:58</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_aa8c0374618b33785ccb02f74bcfebc46"><div class="ttname"><a href="win32-headers_8h.html#aa8c0374618b33785ccb02f74bcfebc46">HANDLE</a></div><div class="ttdeci">void * HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00056">win32-headers.h:56</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_ab064840df4ab5a8cf90ddb963f94de34"><div class="ttname"><a href="win32-headers_8h.html#ab064840df4ab5a8cf90ddb963f94de34">LPVOID</a></div><div class="ttdeci">void * LPVOID</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00054">win32-headers.h:54</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_ab073d5620a97a9d8bf27cd174e2dbd04"><div class="ttname"><a href="win32-headers_8h.html#ab073d5620a97a9d8bf27cd174e2dbd04">ULONG_PTR</a></div><div class="ttdeci">__w64 unsigned long ULONG_PTR</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00063">win32-headers.h:63</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_abd82f3d984cd551464a1f02ba364fe72"><div class="ttname"><a href="win32-headers_8h.html#abd82f3d984cd551464a1f02ba364fe72">SRWLOCK</a></div><div class="ttdeci">struct _RTL_SRWLOCK SRWLOCK</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00063">win32-headers.h:66</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_acb6da8a3747366ee89602a11e61081a7"><div class="ttname"><a href="win32-headers_8h.html#acb6da8a3747366ee89602a11e61081a7">CONDITION_VARIABLE</a></div><div class="ttdeci">struct _RTL_CONDITION_VARIABLE CONDITION_VARIABLE</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00063">win32-headers.h:67</a></div></div>
<div class="ttc" id="awin32-headers_8h_html_ad342ac907eb044443153a22f964bf0af"><div class="ttname"><a href="win32-headers_8h.html#ad342ac907eb044443153a22f964bf0af">DWORD</a></div><div class="ttdeci">unsigned long DWORD</div><div class="ttdef"><b>Definition:</b> <a href="win32-headers_8h_source.html#l00052">win32-headers.h:52</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_15cd31420d7325e73dc6fd0ece2ba0c9.html">base</a></li><li class="navelem"><a class="el" href="dir_f5fc3cea0d66853614439fa4557b29a7.html">platform</a></li><li class="navelem"><a class="el" href="platform-win32_8cc.html">platform-win32.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:50:41 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
