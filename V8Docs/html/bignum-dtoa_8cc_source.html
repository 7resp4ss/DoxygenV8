<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/base/numbers/bignum-dtoa.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bignum-dtoa_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">bignum-dtoa.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="bignum-dtoa_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2011 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bignum-dtoa_8h.html">src/base/numbers/bignum-dtoa.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bignum_8h.html">src/base/numbers/bignum.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="double_8h.html">src/base/numbers/double.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">namespace </span>base {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a635b0cff0f1e30e3a6a011c13cea4953">   16</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base.html#a635b0cff0f1e30e3a6a011c13cea4953">NormalizedExponent</a>(uint64_t significand, <span class="keywordtype">int</span> exponent) {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(significand, 0);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  <span class="keywordflow">while</span> ((significand &amp; <a class="code" href="classv8_1_1base_1_1Double.html#abb3f6a76b820bd9594eac2ec9152e368">Double::kHiddenBit</a>) == 0) {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    significand = significand &lt;&lt; 1;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    exponent = exponent - 1;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  }</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  <span class="keywordflow">return</span> exponent;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">// Forward declarations:</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">// Returns an estimation of k such that 10^(k-1) &lt;= v &lt; 10^k.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base.html#a6460bb84b0de405941cb2804b58b2257">EstimatePower</a>(<span class="keywordtype">int</span> exponent);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// Computes v / 10^estimated_power exactly, as a ratio of two bignums, numerator</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// and denominator.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a6ee5ed4b08eb62bd6af11a69017093fb">InitialScaledStartValues</a>(<span class="keywordtype">double</span> v, <span class="keywordtype">int</span> estimated_power,</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                     <span class="keywordtype">bool</span> need_boundary_deltas,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                     Bignum* numerator, Bignum* denominator,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                                     Bignum* delta_minus, Bignum* delta_plus);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// Multiplies numerator/denominator so that its values lies in the range 1-10.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// Returns decimal_point s.t.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//  v = numerator&#39;/denominator&#39; * 10^(decimal_point-1)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//     where numerator&#39; and denominator&#39; are the values of numerator and</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//     denominator after the call to this function.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#aadecc3c1e7d63a3258d49a62c8faead2">FixupMultiply10</a>(<span class="keywordtype">int</span> estimated_power, <span class="keywordtype">bool</span> is_even,</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                            <span class="keywordtype">int</span>* decimal_point, Bignum* numerator,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                            Bignum* denominator, Bignum* delta_minus,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                            Bignum* delta_plus);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// Generates digits from the left to the right and stops when the generated</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// digits yield the shortest decimal representation of v.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a240417969b8646953fc082ee26551c12">GenerateShortestDigits</a>(Bignum* numerator, Bignum* denominator,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                                   Bignum* delta_minus, Bignum* delta_plus,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                   <span class="keywordtype">bool</span> is_even, Vector&lt;char&gt; buffer,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                   <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Generates &#39;requested_digits&#39; after the decimal point.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a0d9099d490a8cfb7c06e1c497208a4c9">BignumToFixed</a>(<span class="keywordtype">int</span> requested_digits, <span class="keywordtype">int</span>* decimal_point,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                          Bignum* numerator, Bignum* denominator,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                          Vector&lt;char&gt;(buffer), <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// Generates &#39;count&#39; digits of numerator/denominator.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// Once &#39;count&#39; digits have been produced rounds the result depending on the</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// remainder (remainders of exactly .5 round upwards). Might update the</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// decimal_point when rounding up (for example for 0.9999).</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a66df5be69b9aa667b062e399785156d4">GenerateCountedDigits</a>(<span class="keywordtype">int</span> count, <span class="keywordtype">int</span>* decimal_point,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                                  Bignum* numerator, Bignum* denominator,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                  Vector&lt;char&gt;(buffer), <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a5d94b56a1268fff34859dc1aeb64196e">   61</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a5d94b56a1268fff34859dc1aeb64196e">BignumDtoa</a>(<span class="keywordtype">double</span> v, <a class="code" href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92">BignumDtoaMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>, <span class="keywordtype">int</span> requested_digits,</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <a class="code" href="classv8_1_1base_1_1Vector.html">Vector&lt;char&gt;</a> buffer, <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, <span class="keywordtype">int</span>* decimal_point) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(v, 0);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).IsSpecial());</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  uint64_t significand = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#adb31c0451099b7d8c5ff25a2d8d08572">Significand</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordtype">bool</span> is_even = (significand &amp; 1) == 0;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordtype">int</span> exponent = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#ad045f7d4ab8c7625dc0f0f0f2635da4e">Exponent</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">int</span> normalized_exponent = <a class="code" href="namespacev8_1_1base.html#a635b0cff0f1e30e3a6a011c13cea4953">NormalizedExponent</a>(significand, exponent);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// estimated_power might be too low by 1.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">int</span> estimated_power = <a class="code" href="namespacev8_1_1base.html#a6460bb84b0de405941cb2804b58b2257">EstimatePower</a>(normalized_exponent);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// Shortcut for Fixed.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// The requested digits correspond to the digits after the point. If the</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// number is much too small, then there is no need in trying to get any</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// digits.</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92a943256df602c5e7e60c5aa5f4b0d3a28">BIGNUM_DTOA_FIXED</a> &amp;&amp; -estimated_power - 1 &gt; requested_digits) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    buffer[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">// Set decimal-point to -requested_digits. This is what Gay does.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// Note that it should not have any effect anyways since the string is</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// empty.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    *decimal_point = -requested_digits;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a> numerator;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a> denominator;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a> delta_minus;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a> delta_plus;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Make sure the bignum can grow large enough. The smallest double equals</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">// 4e-324. In this case the denominator needs fewer than 324*4 binary digits.</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// The maximum double is 1.7976931348623157e308 which needs fewer than</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="comment">// 308*4 binary digits.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1base_1_1Bignum.html#a9fc22e2c1515fedfd9769a41c4ee3d51">Bignum::kMaxSignificantBits</a>, 324 * 4);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordtype">bool</span> need_boundary_deltas = (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92a167a76ecfab800ac4ce4c62949cce779">BIGNUM_DTOA_SHORTEST</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a6ee5ed4b08eb62bd6af11a69017093fb">InitialScaledStartValues</a>(v, estimated_power, need_boundary_deltas, &amp;numerator,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                           &amp;denominator, &amp;delta_minus, &amp;delta_plus);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// We now have v = (numerator / denominator) * 10^estimated_power.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="namespacev8_1_1base.html#aadecc3c1e7d63a3258d49a62c8faead2">FixupMultiply10</a>(estimated_power, is_even, decimal_point, &amp;numerator,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                  &amp;denominator, &amp;delta_minus, &amp;delta_plus);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// We now have v = (numerator / denominator) * 10^(decimal_point-1), and</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">//  1 &lt;= (numerator + delta_plus) / denominator &lt; 10</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92a167a76ecfab800ac4ce4c62949cce779">BIGNUM_DTOA_SHORTEST</a>:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a240417969b8646953fc082ee26551c12">GenerateShortestDigits</a>(&amp;numerator, &amp;denominator, &amp;delta_minus,</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                             &amp;delta_plus, is_even, buffer, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92a943256df602c5e7e60c5aa5f4b0d3a28">BIGNUM_DTOA_FIXED</a>:</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a0d9099d490a8cfb7c06e1c497208a4c9">BignumToFixed</a>(requested_digits, decimal_point, &amp;numerator, &amp;denominator,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    buffer, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92aa02c80a0a1d6bb5c7442675e3ddb7f92">BIGNUM_DTOA_PRECISION</a>:</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a66df5be69b9aa667b062e399785156d4">GenerateCountedDigits</a>(requested_digits, decimal_point, &amp;numerator,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                            &amp;denominator, buffer, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  buffer[*<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">// The procedure starts generating digits from the left to the right and stops</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// when the generated digits yield the shortest decimal representation of v. A</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">// decimal representation of v is a number lying closer to v than to any other</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">// double, so it converts to v when read.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">// This is true if d, the decimal representation, is between m- and m+, the</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">// upper and lower boundaries. d must be strictly between them if !is_even.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//           m- := (numerator - delta_minus) / denominator</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//           m+ := (numerator + delta_plus) / denominator</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// Precondition: 0 &lt;= (numerator+delta_plus) / denominator &lt; 10.</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">//   If 1 &lt;= (numerator+delta_plus) / denominator &lt; 10 then no leading 0 digit</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//   will be produced. This should be the standard precondition.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a240417969b8646953fc082ee26551c12">  135</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a240417969b8646953fc082ee26551c12">GenerateShortestDigits</a>(<a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                   <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_minus, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_plus,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                   <span class="keywordtype">bool</span> is_even, <a class="code" href="classv8_1_1base_1_1Vector.html">Vector&lt;char&gt;</a> buffer,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                   <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Small optimization: if delta_minus and delta_plus are the same just reuse</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// one of the two bignums.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Bignum.html#a99e461daacb8bfdae6a0fd157e469f1d">Bignum::Equal</a>(*delta_minus, *delta_plus)) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    delta_plus = delta_minus;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  *<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> digit;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    digit = numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a1c807ba6b873d2fd0933ca5d3c50c63f">DivideModuloIntBignum</a>(*denominator);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(digit, 9);  <span class="comment">// digit is a uint16_t and therefore always positive.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">// digit = numerator / denominator (integer division).</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="comment">// numerator = numerator % denominator.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    buffer[(*length)++] = digit + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// Can we stop already?</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// If the remainder of the division is less than the distance to the lower</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// boundary we can stop. In this case we simply round down (discarding the</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// remainder).</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// Similarly we test if we can round up (using the upper boundary).</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">bool</span> in_delta_room_minus;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">bool</span> in_delta_room_plus;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (is_even) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      in_delta_room_minus = <a class="code" href="classv8_1_1base_1_1Bignum.html#a05b01acc4a4647471924a9be7ec7dec3">Bignum::LessEqual</a>(*numerator, *delta_minus);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      in_delta_room_minus = <a class="code" href="classv8_1_1base_1_1Bignum.html#ad319a05d41ab9219ae4cebb532f9b374">Bignum::Less</a>(*numerator, *delta_minus);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (is_even) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      in_delta_room_plus =</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;          <a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *delta_plus, *denominator) &gt;= 0;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      in_delta_room_plus =</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;          <a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *delta_plus, *denominator) &gt; 0;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">if</span> (!in_delta_room_minus &amp;&amp; !in_delta_room_plus) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="comment">// Prepare for next iteration.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="comment">// We optimized delta_plus to be equal to delta_minus (if they share the</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="comment">// same value). So don&#39;t multiply delta_plus if they point to the same</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">// object.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (delta_minus != delta_plus) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in_delta_room_minus &amp;&amp; in_delta_room_plus) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="comment">// Let&#39;s see if 2*numerator &lt; denominator.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="comment">// If yes, then the next digit would be &lt; 5 and we can round down.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordtype">int</span> compare = <a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *numerator, *denominator);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keywordflow">if</span> (compare &lt; 0) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="comment">// Remaining digits are less than .5. -&gt; Round down (== do nothing).</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (compare &gt; 0) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="comment">// Remaining digits are more than .5 of denominator. -&gt; Round up.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="comment">// Note that the last digit could not be a &#39;9&#39; as otherwise the whole</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">// loop would have stopped earlier.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="comment">// We still have an assert here in case the preconditions were not</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">// satisfied.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(buffer[(*<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) - 1], <span class="charliteral">&#39;9&#39;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        buffer[(*length) - 1]++;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="comment">// Halfway case.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="comment">// TODO(floitsch): need a way to solve half-way cases.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="comment">//   For now let&#39;s round towards even (since this is what Gay seems to</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="comment">//   do).</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">if</span> ((buffer[(*<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) - 1] - <span class="charliteral">&#39;0&#39;</span>) % 2 == 0) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;          <span class="comment">// Round down =&gt; Do nothing.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(buffer[(*<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) - 1], <span class="charliteral">&#39;9&#39;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;          buffer[(*length) - 1]++;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (in_delta_room_minus) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="comment">// Round down (== do nothing).</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    } <span class="keywordflow">else</span> {  <span class="comment">// in_delta_room_plus</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="comment">// Round up.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="comment">// Note again that the last digit could not be &#39;9&#39; since this would have</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="comment">// stopped the loop earlier.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// We still have an DCHECK here, in case the preconditions were not</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// satisfied.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(buffer[(*<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) - 1], <span class="charliteral">&#39;9&#39;</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      buffer[(*length) - 1]++;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">// Let v = numerator / denominator &lt; 10.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">// Then we generate &#39;count&#39; digits of d = x.xxxxx... (without the decimal point)</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">// from left to right. Once &#39;count&#39; digits have been produced we decide wether</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">// to round up or down. Remainders of exactly .5 round upwards. Numbers such</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// as 9.999999 propagate a carry all the way, and change the</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">// exponent (decimal_point), when rounding upwards.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a66df5be69b9aa667b062e399785156d4">  232</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a66df5be69b9aa667b062e399785156d4">GenerateCountedDigits</a>(<span class="keywordtype">int</span> count, <span class="keywordtype">int</span>* decimal_point,</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                                  <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                  <a class="code" href="classv8_1_1base_1_1Vector.html">Vector&lt;char&gt;</a>(buffer), <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(count, 0);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; count - 1; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> digit;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    digit = numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a1c807ba6b873d2fd0933ca5d3c50c63f">DivideModuloIntBignum</a>(*denominator);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(digit, 9);  <span class="comment">// digit is a uint16_t and therefore always positive.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// digit = numerator / denominator (integer division).</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// numerator = numerator % denominator.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    buffer[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = digit + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// Prepare for next iteration.</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// Generate the last digit.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> digit;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  digit = numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a1c807ba6b873d2fd0933ca5d3c50c63f">DivideModuloIntBignum</a>(*denominator);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *numerator, *denominator) &gt;= 0) {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    digit++;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  buffer[count - 1] = digit + <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Correct bad digits (in case we had a sequence of &#39;9&#39;s). Propagate the</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// carry until we hat a non-&#39;9&#39; or til we reach the first digit.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = count - 1; <a class="code" href="namespacev8_1_1internal.html">i</a> &gt; 0; --<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (buffer[<a class="code" href="namespacev8_1_1internal.html">i</a>] != <span class="charliteral">&#39;0&#39;</span> + 10) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    buffer[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    buffer[<a class="code" href="namespacev8_1_1internal.html">i</a> - 1]++;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keywordflow">if</span> (buffer[0] == <span class="charliteral">&#39;0&#39;</span> + 10) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// Propagate a carry past the top place.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    buffer[0] = <span class="charliteral">&#39;1&#39;</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    (*decimal_point)++;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  *<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = count;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;}</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">// Generates &#39;requested_digits&#39; after the decimal point. It might omit</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">// trailing &#39;0&#39;s. If the input number is too small then no digits at all are</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// generated (ex.: 2 fixed digits for 0.00001).</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// Input verifies:  1 &lt;= (numerator + delta) / denominator &lt; 10.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a0d9099d490a8cfb7c06e1c497208a4c9">  273</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a0d9099d490a8cfb7c06e1c497208a4c9">BignumToFixed</a>(<span class="keywordtype">int</span> requested_digits, <span class="keywordtype">int</span>* decimal_point,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                          <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                          <a class="code" href="classv8_1_1base_1_1Vector.html">Vector&lt;char&gt;</a>(buffer), <span class="keywordtype">int</span>* <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// Note that we have to look at more than just the requested_digits, since</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// a number could be rounded up. Example: v=0.5 with requested_digits=0.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Even though the power of v equals 0 we can&#39;t just stop here.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (-(*decimal_point) &gt; requested_digits) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// The number is definitively too small.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// Ex: 0.001 with requested_digits == 1.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// Set decimal-point to -requested_digits. This is what Gay does.</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// Note that it should not have any effect anyways since the string is</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// empty.</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    *decimal_point = -requested_digits;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    *<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (-(*decimal_point) == requested_digits) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// We only need to verify if the number rounds down or up.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// Ex: 0.04 and 0.06 with requested_digits == 1.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(*decimal_point == -requested_digits);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// Initially the fraction lies in range (1, 10]. Multiply the denominator</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// by 10 so that we can compare more easily.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *numerator, *denominator) &gt;= 0) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="comment">// If the fraction is &gt;= 0.5 then we have to include the rounded</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="comment">// digit.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      buffer[0] = <span class="charliteral">&#39;1&#39;</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      *<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 1;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      (*decimal_point)++;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="comment">// Note that we caught most of similar cases earlier.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      *<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = 0;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// The requested digits correspond to the digits after the point.</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="comment">// The variable &#39;needed_digits&#39; includes the digits before the point.</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">int</span> needed_digits = (*decimal_point) + requested_digits;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a66df5be69b9aa667b062e399785156d4">GenerateCountedDigits</a>(needed_digits, decimal_point, numerator, denominator,</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                          buffer, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">// Returns an estimation of k such that 10^(k-1) &lt;= v &lt; 10^k where</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">// v = f * 2^exponent and 2^52 &lt;= f &lt; 2^53.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">// v is hence a normalized double with the given exponent. The output is an</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">// approximation for the exponent of the decimal approimation .digits * 10^k.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">// The result might undershoot by 1 in which case 10^k &lt;= v &lt; 10^k+1.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">// Note: this property holds for v&#39;s upper boundary m+ too.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">//    10^k &lt;= m+ &lt; 10^k+1.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">//   (see explanation below).</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">// Examples:</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">//  EstimatePower(0)   =&gt; 16</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">//  EstimatePower(-52) =&gt; 0</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">// Note: e &gt;= 0 =&gt; EstimatedPower(e) &gt; 0. No similar claim can be made for e&lt;0.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a6460bb84b0de405941cb2804b58b2257">  330</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base.html#a6460bb84b0de405941cb2804b58b2257">EstimatePower</a>(<span class="keywordtype">int</span> exponent) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// This function estimates log10 of v where v = f*2^e (with e == exponent).</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Note that 10^floor(log10(v)) &lt;= v, but v &lt;= 10^ceil(log10(v)).</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="comment">// Note that f is bounded by its container size. Let p = 53 (the double&#39;s</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">// significand size). Then 2^(p-1) &lt;= f &lt; 2^p.</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// Given that log10(v) == log2(v)/log2(10) and e+(len(f)-1) is quite close</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// to log2(v) the function is simplified to (e+(len(f)-1)/log2(10)).</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// The computed number undershoots by less than 0.631 (when we compute log3</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// and not log10).</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="comment">// Optimization: since we only need an approximated result this computation</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="comment">// can be performed on 64 bit integers. On x86/x64 architecture the speedup is</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// not really measurable, though.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// Since we want to avoid overshooting we decrement by 1e10 so that</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="comment">// floating-point imprecisions don&#39;t affect us.</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// Explanation for v&#39;s boundary m+: the computation takes advantage of</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// the fact that 2^(p-1) &lt;= f &lt; 2^p. Boundaries still satisfy this requirement</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// (even for denormals where the delta can be much more important).</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> k1Log10 = 0.30102999566398114;  <span class="comment">// 1/lg(10)</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="comment">// For doubles len(f) == 53 (don&#39;t forget the hidden bit).</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kSignificandSize = 53;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordtype">double</span> estimate =</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      std::ceil((exponent + kSignificandSize - 1) * k1Log10 - 1e-10);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(estimate);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">// See comments for InitialScaledStartValues.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a077d52d39a0d958cb95533d43782febd">  362</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a077d52d39a0d958cb95533d43782febd">InitialScaledStartValuesPositiveExponent</a>(</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordtype">double</span> v, <span class="keywordtype">int</span> estimated_power, <span class="keywordtype">bool</span> need_boundary_deltas, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator,</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_minus, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_plus) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// A positive exponent implies a positive power.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(estimated_power, 0);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="comment">// Since the estimated_power is positive we simply multiply the denominator</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// by 10^estimated_power.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// numerator = v.</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a8ff8d25a8efe1d9a05c996ff30b20304">AssignUInt64</a>(<a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).Significand());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(<a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).Exponent());</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// denominator = 10^estimated_power.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ae6642c069c9ea45116046180755e6f40">AssignPowerUInt16</a>(10, estimated_power);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">if</span> (need_boundary_deltas) {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Introduce a common denominator so that the deltas to the boundaries are</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">// integers.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// Let v = f * 2^e, then m+ - v = 1/2 * 2^e; With the common</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// denominator (of 2) delta_plus equals 2^e.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a0063139b7c80d42e52f3ff01a1651b14">AssignUInt16</a>(1);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(<a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).Exponent());</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// Same for delta_minus (with adjustments below if f == 2^p-1).</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a0063139b7c80d42e52f3ff01a1651b14">AssignUInt16</a>(1);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(<a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).Exponent());</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// If the significand (without the hidden bit) is 0, then the lower</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// boundary is closer than just half a ulp (unit in the last place).</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">// There is only one exception: if the next lower number is a denormal then</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">// the distance is 1 ulp. This cannot be the case for exponent &gt;= 0 (but we</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// have to test it in the other function where exponent &lt; 0).</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    uint64_t v_bits = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#a0665436f14314809738a608112f4bdd8">AsUint64</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> ((v_bits &amp; <a class="code" href="classv8_1_1base_1_1Double.html#a391fee3ff5ef598b7e8c509026c018fb">Double::kSignificandMask</a>) == 0) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      <span class="comment">// The lower boundary is closer at half the distance of &quot;normal&quot; numbers.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">// Increase the common denominator and adapt all but the delta_minus.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);  <span class="comment">// *2</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);    <span class="comment">// *2</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);   <span class="comment">// *2</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">// See comments for InitialScaledStartValues</span></div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a7044cbacae59a2973b78020311ffd9b8">  406</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a7044cbacae59a2973b78020311ffd9b8">InitialScaledStartValuesNegativeExponentPositivePower</a>(</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">double</span> v, <span class="keywordtype">int</span> estimated_power, <span class="keywordtype">bool</span> need_boundary_deltas, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator,</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_minus, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_plus) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  uint64_t significand = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#adb31c0451099b7d8c5ff25a2d8d08572">Significand</a>();</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordtype">int</span> exponent = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#ad045f7d4ab8c7625dc0f0f0f2635da4e">Exponent</a>();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// v = f * 2^e with e &lt; 0, and with estimated_power &gt;= 0.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="comment">// This means that e is close to 0 (have a look at how estimated_power is</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="comment">// computed).</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160; </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">// numerator = significand</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="comment">//  since v = significand * 2^exponent this is equivalent to</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="comment">//  numerator = v * / 2^-exponent</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a8ff8d25a8efe1d9a05c996ff30b20304">AssignUInt64</a>(significand);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// denominator = 10^estimated_power * 2^-exponent (with exponent &lt; 0)</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ae6642c069c9ea45116046180755e6f40">AssignPowerUInt16</a>(10, estimated_power);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(-exponent);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">if</span> (need_boundary_deltas) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// Introduce a common denominator so that the deltas to the boundaries are</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// integers.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// Let v = f * 2^e, then m+ - v = 1/2 * 2^e; With the common</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">// denominator (of 2) delta_plus equals 2^e.</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">// Given that the denominator already includes v&#39;s exponent the distance</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// to the boundaries is simply 1.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a0063139b7c80d42e52f3ff01a1651b14">AssignUInt16</a>(1);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// Same for delta_minus (with adjustments below if f == 2^p-1).</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a0063139b7c80d42e52f3ff01a1651b14">AssignUInt16</a>(1);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// If the significand (without the hidden bit) is 0, then the lower</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// boundary is closer than just one ulp (unit in the last place).</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">// There is only one exception: if the next lower number is a denormal</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// then the distance is 1 ulp. Since the exponent is close to zero</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// (otherwise estimated_power would have been negative) this cannot happen</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// here either.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    uint64_t v_bits = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#a0665436f14314809738a608112f4bdd8">AsUint64</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> ((v_bits &amp; <a class="code" href="classv8_1_1base_1_1Double.html#a391fee3ff5ef598b7e8c509026c018fb">Double::kSignificandMask</a>) == 0) {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="comment">// The lower boundary is closer at half the distance of &quot;normal&quot; numbers.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// Increase the denominator and adapt all but the delta_minus.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);  <span class="comment">// *2</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);    <span class="comment">// *2</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);   <span class="comment">// *2</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">// See comments for InitialScaledStartValues</span></div>
<div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a6ecb59760d3e88e516b51ba9ae0c1b10">  454</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a6ecb59760d3e88e516b51ba9ae0c1b10">InitialScaledStartValuesNegativeExponentNegativePower</a>(</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordtype">double</span> v, <span class="keywordtype">int</span> estimated_power, <span class="keywordtype">bool</span> need_boundary_deltas, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_minus, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_plus) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="keyword">const</span> uint64_t kMinimalNormalizedExponent = 0x0010&#39;0000&#39;0000&#39;0000;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  uint64_t significand = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#adb31c0451099b7d8c5ff25a2d8d08572">Significand</a>();</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="keywordtype">int</span> exponent = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#ad045f7d4ab8c7625dc0f0f0f2635da4e">Exponent</a>();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="comment">// Instead of multiplying the denominator with 10^estimated_power we</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="comment">// multiply all values (numerator and deltas) by 10^-estimated_power.</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">// Use numerator as temporary container for power_ten.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* power_ten = numerator;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  power_ten-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ae6642c069c9ea45116046180755e6f40">AssignPowerUInt16</a>(10, -estimated_power);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (need_boundary_deltas) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">// Since power_ten == numerator we must make a copy of 10^estimated_power</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// before we complete the computation of the numerator.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// delta_plus = delta_minus = 10^estimated_power</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#aaf90e7075d592e9ca16167429b89bad0">AssignBignum</a>(*power_ten);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#aaf90e7075d592e9ca16167429b89bad0">AssignBignum</a>(*power_ten);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; </div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// numerator = significand * 2 * 10^-estimated_power</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">//  since v = significand * 2^exponent this is equivalent to</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// numerator = v * 10^-estimated_power * 2 * 2^-exponent.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">// Remember: numerator has been abused as power_ten. So no need to assign it</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">//  to itself.</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(numerator == power_ten);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a77bdf343e4b7a64ef270ecf8d35f60a8">MultiplyByUInt64</a>(significand);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// denominator = 2 * 2^-exponent with exponent &lt; 0.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a0063139b7c80d42e52f3ff01a1651b14">AssignUInt16</a>(1);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(-exponent);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">if</span> (need_boundary_deltas) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// Introduce a common denominator so that the deltas to the boundaries are</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// integers.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">// With this shift the boundaries have their correct value, since</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// delta_plus = 10^-estimated_power, and</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// delta_minus = 10^-estimated_power.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">// These assignments have been done earlier.</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">// The special case where the lower boundary is twice as close.</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// This time we have to look out for the exception too.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    uint64_t v_bits = <a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).<a class="code" href="classv8_1_1base_1_1Double.html#a0665436f14314809738a608112f4bdd8">AsUint64</a>();</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">if</span> ((v_bits &amp; <a class="code" href="classv8_1_1base_1_1Double.html#a391fee3ff5ef598b7e8c509026c018fb">Double::kSignificandMask</a>) == 0 &amp;&amp;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <span class="comment">// The only exception where a significand == 0 has its boundaries at</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// &quot;normal&quot; distances:</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        (v_bits &amp; <a class="code" href="classv8_1_1base_1_1Double.html#a509e2cf0fc5e637e311d52ce4b8f51d0">Double::kExponentMask</a>) != kMinimalNormalizedExponent) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);    <span class="comment">// *2</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      denominator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);  <span class="comment">// *2</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">ShiftLeft</a>(1);   <span class="comment">// *2</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">// Let v = significand * 2^exponent.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">// Computes v / 10^estimated_power exactly, as a ratio of two bignums, numerator</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">// and denominator. The functions GenerateShortestDigits and</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">// GenerateCountedDigits will then convert this ratio to its decimal</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">// representation d, with the required accuracy.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">// Then d * 10^estimated_power is the representation of v.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">// (Note: the fraction and the estimated_power might get adjusted before</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">// generating the decimal representation.)</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">// The initial start values consist of:</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">//  - a scaled numerator: s.t. numerator/denominator == v / 10^estimated_power.</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">//  - a scaled (common) denominator.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">//  optionally (used by GenerateShortestDigits to decide if it has the shortest</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">//  decimal converting back to v):</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">//  - v - m-: the distance to the lower boundary.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">//  - m+ - v: the distance to the upper boundary.</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">// v, m+, m-, and therefore v - m- and m+ - v all share the same denominator.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">// Let ep == estimated_power, then the returned values will satisfy:</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">//  v / 10^ep = numerator / denominator.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">//  v&#39;s boundarys m- and m+:</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">//    m- / 10^ep == v / 10^ep - delta_minus / denominator</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">//    m+ / 10^ep == v / 10^ep + delta_plus / denominator</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">//  Or in other words:</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">//    m- == v - delta_minus * 10^ep / denominator;</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">//    m+ == v + delta_plus * 10^ep / denominator;</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">// Since 10^(k-1) &lt;= v &lt; 10^k    (with k == estimated_power)</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">//  or       10^k &lt;= v &lt; 10^(k+1)</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">//  we then have 0.1 &lt;= numerator/denominator &lt; 1</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">//           or    1 &lt;= numerator/denominator &lt; 10</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">// It is then easy to kickstart the digit-generation routine.</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">// The boundary-deltas are only filled if need_boundary_deltas is set.</span></div>
<div class="line"><a name="l00547"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#a6ee5ed4b08eb62bd6af11a69017093fb">  547</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#a6ee5ed4b08eb62bd6af11a69017093fb">InitialScaledStartValues</a>(<span class="keywordtype">double</span> v, <span class="keywordtype">int</span> estimated_power,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                                     <span class="keywordtype">bool</span> need_boundary_deltas,</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                                     <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator,</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                                     <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_minus, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_plus) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Double.html">Double</a>(v).Exponent() &gt;= 0) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a077d52d39a0d958cb95533d43782febd">InitialScaledStartValuesPositiveExponent</a>(</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        v, estimated_power, need_boundary_deltas, numerator, denominator,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        delta_minus, delta_plus);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (estimated_power &gt;= 0) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a7044cbacae59a2973b78020311ffd9b8">InitialScaledStartValuesNegativeExponentPositivePower</a>(</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        v, estimated_power, need_boundary_deltas, numerator, denominator,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        delta_minus, delta_plus);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a6ecb59760d3e88e516b51ba9ae0c1b10">InitialScaledStartValuesNegativeExponentNegativePower</a>(</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        v, estimated_power, need_boundary_deltas, numerator, denominator,</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        delta_minus, delta_plus);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">// This routine multiplies numerator/denominator so that its values lies in the</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">// range 1-10. That is after a call to this function we have:</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">//    1 &lt;= (numerator + delta_plus) /denominator &lt; 10.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">// Let numerator the input before modification and numerator&#39; the argument</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">// after modification, then the output-parameter decimal_point is such that</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">//  numerator / denominator * 10^estimated_power ==</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">//    numerator&#39; / denominator&#39; * 10^(decimal_point - 1)</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">// In some cases estimated_power was too low, and this is already the case. We</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">// then simply adjust the power so that 10^(k-1) &lt;= v &lt; 10^k (with k ==</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">// estimated_power) but do not touch the numerator or denominator.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">// Otherwise the routine multiplies the numerator and the deltas by 10.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="namespacev8_1_1base.html#aadecc3c1e7d63a3258d49a62c8faead2">  577</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1base.html#aadecc3c1e7d63a3258d49a62c8faead2">FixupMultiply10</a>(<span class="keywordtype">int</span> estimated_power, <span class="keywordtype">bool</span> is_even,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                            <span class="keywordtype">int</span>* decimal_point, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* numerator,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                            <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* denominator, <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_minus,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                            <a class="code" href="classv8_1_1base_1_1Bignum.html">Bignum</a>* delta_plus) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordtype">bool</span> in_range;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <span class="keywordflow">if</span> (is_even) {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// For IEEE doubles half-way cases (in decimal system numbers ending with 5)</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// are rounded to the closest floating-point number with even significand.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    in_range = <a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *delta_plus, *denominator) &gt;= 0;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    in_range = <a class="code" href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">Bignum::PlusCompare</a>(*numerator, *delta_plus, *denominator) &gt; 0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (in_range) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">// Since numerator + delta_plus &gt;= denominator we already have</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">// 1 &lt;= numerator/denominator &lt; 10. Simply update the estimated_power.</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    *decimal_point = estimated_power + 1;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    *decimal_point = estimated_power;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    numerator-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1base_1_1Bignum.html#a99e461daacb8bfdae6a0fd157e469f1d">Bignum::Equal</a>(*delta_minus, *delta_plus)) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#aaf90e7075d592e9ca16167429b89bad0">AssignBignum</a>(*delta_minus);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      delta_minus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      delta_plus-&gt;<a class="code" href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">Times10</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;}  <span class="comment">// namespace base</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="abignum-dtoa_8h_html"><div class="ttname"><a href="bignum-dtoa_8h.html">bignum-dtoa.h</a></div></div>
<div class="ttc" id="abignum_8h_html"><div class="ttname"><a href="bignum_8h.html">bignum.h</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html">v8::base::Bignum</a></div><div class="ttdef"><b>Definition:</b> <a href="bignum_8h_source.html#l00013">bignum.h:13</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a0063139b7c80d42e52f3ff01a1651b14"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a0063139b7c80d42e52f3ff01a1651b14">v8::base::Bignum::AssignUInt16</a></div><div class="ttdeci">void AssignUInt16(uint16_t value)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00025">bignum.cc:25</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a05b01acc4a4647471924a9be7ec7dec3"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a05b01acc4a4647471924a9be7ec7dec3">v8::base::Bignum::LessEqual</a></div><div class="ttdeci">static bool LessEqual(const Bignum &amp;a, const Bignum &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8h_source.html#l00056">bignum.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a1c807ba6b873d2fd0933ca5d3c50c63f"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a1c807ba6b873d2fd0933ca5d3c50c63f">v8::base::Bignum::DivideModuloIntBignum</a></div><div class="ttdeci">uint16_t DivideModuloIntBignum(const Bignum &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00448">bignum.cc:448</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a5686a50316692f5ed41444b11e8e1bda"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a5686a50316692f5ed41444b11e8e1bda">v8::base::Bignum::Times10</a></div><div class="ttdeci">void Times10()</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8h_source.html#l00043">bignum.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a77bdf343e4b7a64ef270ecf8d35f60a8"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a77bdf343e4b7a64ef270ecf8d35f60a8">v8::base::Bignum::MultiplyByUInt64</a></div><div class="ttdeci">void MultiplyByUInt64(uint64_t factor)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00239">bignum.cc:239</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a8ff8d25a8efe1d9a05c996ff30b20304"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a8ff8d25a8efe1d9a05c996ff30b20304">v8::base::Bignum::AssignUInt64</a></div><div class="ttdeci">void AssignUInt64(uint64_t value)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00035">bignum.cc:35</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a99e461daacb8bfdae6a0fd157e469f1d"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a99e461daacb8bfdae6a0fd157e469f1d">v8::base::Bignum::Equal</a></div><div class="ttdeci">static bool Equal(const Bignum &amp;a, const Bignum &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8h_source.html#l00053">bignum.h:53</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_a9fc22e2c1515fedfd9769a41c4ee3d51"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#a9fc22e2c1515fedfd9769a41c4ee3d51">v8::base::Bignum::kMaxSignificantBits</a></div><div class="ttdeci">static const int kMaxSignificantBits</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8h_source.html#l00018">bignum.h:18</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_aaf90e7075d592e9ca16167429b89bad0"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#aaf90e7075d592e9ca16167429b89bad0">v8::base::Bignum::AssignBignum</a></div><div class="ttdeci">void AssignBignum(const Bignum &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00051">bignum.cc:51</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_ac7d0d01734d3496f8f73c07d958f70b2"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#ac7d0d01734d3496f8f73c07d958f70b2">v8::base::Bignum::ShiftLeft</a></div><div class="ttdeci">void ShiftLeft(int shift_amount)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00206">bignum.cc:206</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_ad319a05d41ab9219ae4cebb532f9b374"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#ad319a05d41ab9219ae4cebb532f9b374">v8::base::Bignum::Less</a></div><div class="ttdeci">static bool Less(const Bignum &amp;a, const Bignum &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8h_source.html#l00059">bignum.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_ae6642c069c9ea45116046180755e6f40"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#ae6642c069c9ea45116046180755e6f40">v8::base::Bignum::AssignPowerUInt16</a></div><div class="ttdeci">void AssignPowerUInt16(uint16_t base, int exponent)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00375">bignum.cc:375</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Bignum_html_afcf747b5e550583d6b821aa0f49a45d8"><div class="ttname"><a href="classv8_1_1base_1_1Bignum.html#afcf747b5e550583d6b821aa0f49a45d8">v8::base::Bignum::PlusCompare</a></div><div class="ttdeci">static int PlusCompare(const Bignum &amp;a, const Bignum &amp;b, const Bignum &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="bignum_8cc_source.html#l00584">bignum.cc:584</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html"><div class="ttname"><a href="classv8_1_1base_1_1Double.html">v8::base::Double</a></div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00025">double.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html_a0665436f14314809738a608112f4bdd8"><div class="ttname"><a href="classv8_1_1base_1_1Double.html#a0665436f14314809738a608112f4bdd8">v8::base::Double::AsUint64</a></div><div class="ttdeci">constexpr uint64_t AsUint64() const</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00066">double.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html_a391fee3ff5ef598b7e8c509026c018fb"><div class="ttname"><a href="classv8_1_1base_1_1Double.html#a391fee3ff5ef598b7e8c509026c018fb">v8::base::Double::kSignificandMask</a></div><div class="ttdeci">static constexpr uint64_t kSignificandMask</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00029">double.h:29</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html_a509e2cf0fc5e637e311d52ce4b8f51d0"><div class="ttname"><a href="classv8_1_1base_1_1Double.html#a509e2cf0fc5e637e311d52ce4b8f51d0">v8::base::Double::kExponentMask</a></div><div class="ttdeci">static constexpr uint64_t kExponentMask</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00028">double.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html_abb3f6a76b820bd9594eac2ec9152e368"><div class="ttname"><a href="classv8_1_1base_1_1Double.html#abb3f6a76b820bd9594eac2ec9152e368">v8::base::Double::kHiddenBit</a></div><div class="ttdeci">static constexpr uint64_t kHiddenBit</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00030">double.h:30</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html_ad045f7d4ab8c7625dc0f0f0f2635da4e"><div class="ttname"><a href="classv8_1_1base_1_1Double.html#ad045f7d4ab8c7625dc0f0f0f2635da4e">v8::base::Double::Exponent</a></div><div class="ttdeci">constexpr int Exponent() const</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00082">double.h:82</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Double_html_adb31c0451099b7d8c5ff25a2d8d08572"><div class="ttname"><a href="classv8_1_1base_1_1Double.html#adb31c0451099b7d8c5ff25a2d8d08572">v8::base::Double::Significand</a></div><div class="ttdeci">constexpr uint64_t Significand() const</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00091">double.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Vector_html"><div class="ttname"><a href="classv8_1_1base_1_1Vector.html">v8::base::Vector&lt; char &gt;</a></div></div>
<div class="ttc" id="adouble_8h_html"><div class="ttname"><a href="double_8h.html">double.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a077d52d39a0d958cb95533d43782febd"><div class="ttname"><a href="namespacev8_1_1base.html#a077d52d39a0d958cb95533d43782febd">v8::base::InitialScaledStartValuesPositiveExponent</a></div><div class="ttdeci">static void InitialScaledStartValuesPositiveExponent(double v, int estimated_power, bool need_boundary_deltas, Bignum *numerator, Bignum *denominator, Bignum *delta_minus, Bignum *delta_plus)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00362">bignum-dtoa.cc:362</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a0d9099d490a8cfb7c06e1c497208a4c9"><div class="ttname"><a href="namespacev8_1_1base.html#a0d9099d490a8cfb7c06e1c497208a4c9">v8::base::BignumToFixed</a></div><div class="ttdeci">static void BignumToFixed(int requested_digits, int *decimal_point, Bignum *numerator, Bignum *denominator, Vector&lt; char &gt;(buffer), int *length)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00273">bignum-dtoa.cc:273</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a240417969b8646953fc082ee26551c12"><div class="ttname"><a href="namespacev8_1_1base.html#a240417969b8646953fc082ee26551c12">v8::base::GenerateShortestDigits</a></div><div class="ttdeci">static void GenerateShortestDigits(Bignum *numerator, Bignum *denominator, Bignum *delta_minus, Bignum *delta_plus, bool is_even, Vector&lt; char &gt; buffer, int *length)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00135">bignum-dtoa.cc:135</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a5d94b56a1268fff34859dc1aeb64196e"><div class="ttname"><a href="namespacev8_1_1base.html#a5d94b56a1268fff34859dc1aeb64196e">v8::base::BignumDtoa</a></div><div class="ttdeci">void BignumDtoa(double v, BignumDtoaMode mode, int requested_digits, Vector&lt; char &gt; buffer, int *length, int *decimal_point)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00061">bignum-dtoa.cc:61</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a635b0cff0f1e30e3a6a011c13cea4953"><div class="ttname"><a href="namespacev8_1_1base.html#a635b0cff0f1e30e3a6a011c13cea4953">v8::base::NormalizedExponent</a></div><div class="ttdeci">static int NormalizedExponent(uint64_t significand, int exponent)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00016">bignum-dtoa.cc:16</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a6460bb84b0de405941cb2804b58b2257"><div class="ttname"><a href="namespacev8_1_1base.html#a6460bb84b0de405941cb2804b58b2257">v8::base::EstimatePower</a></div><div class="ttdeci">static int EstimatePower(int exponent)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00330">bignum-dtoa.cc:330</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a66df5be69b9aa667b062e399785156d4"><div class="ttname"><a href="namespacev8_1_1base.html#a66df5be69b9aa667b062e399785156d4">v8::base::GenerateCountedDigits</a></div><div class="ttdeci">static void GenerateCountedDigits(int count, int *decimal_point, Bignum *numerator, Bignum *denominator, Vector&lt; char &gt;(buffer), int *length)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00232">bignum-dtoa.cc:232</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a6ecb59760d3e88e516b51ba9ae0c1b10"><div class="ttname"><a href="namespacev8_1_1base.html#a6ecb59760d3e88e516b51ba9ae0c1b10">v8::base::InitialScaledStartValuesNegativeExponentNegativePower</a></div><div class="ttdeci">static void InitialScaledStartValuesNegativeExponentNegativePower(double v, int estimated_power, bool need_boundary_deltas, Bignum *numerator, Bignum *denominator, Bignum *delta_minus, Bignum *delta_plus)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00454">bignum-dtoa.cc:454</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a6ee5ed4b08eb62bd6af11a69017093fb"><div class="ttname"><a href="namespacev8_1_1base.html#a6ee5ed4b08eb62bd6af11a69017093fb">v8::base::InitialScaledStartValues</a></div><div class="ttdeci">static void InitialScaledStartValues(double v, int estimated_power, bool need_boundary_deltas, Bignum *numerator, Bignum *denominator, Bignum *delta_minus, Bignum *delta_plus)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00547">bignum-dtoa.cc:547</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a7044cbacae59a2973b78020311ffd9b8"><div class="ttname"><a href="namespacev8_1_1base.html#a7044cbacae59a2973b78020311ffd9b8">v8::base::InitialScaledStartValuesNegativeExponentPositivePower</a></div><div class="ttdeci">static void InitialScaledStartValuesNegativeExponentPositivePower(double v, int estimated_power, bool need_boundary_deltas, Bignum *numerator, Bignum *denominator, Bignum *delta_minus, Bignum *delta_plus)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00406">bignum-dtoa.cc:406</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aadecc3c1e7d63a3258d49a62c8faead2"><div class="ttname"><a href="namespacev8_1_1base.html#aadecc3c1e7d63a3258d49a62c8faead2">v8::base::FixupMultiply10</a></div><div class="ttdeci">static void FixupMultiply10(int estimated_power, bool is_even, int *decimal_point, Bignum *numerator, Bignum *denominator, Bignum *delta_minus, Bignum *delta_plus)</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8cc_source.html#l00577">bignum-dtoa.cc:577</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad032a832b4c03fbf8b2c5027fed9de92"><div class="ttname"><a href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92">v8::base::BignumDtoaMode</a></div><div class="ttdeci">BignumDtoaMode</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8h_source.html#l00013">bignum-dtoa.h:13</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad032a832b4c03fbf8b2c5027fed9de92a167a76ecfab800ac4ce4c62949cce779"><div class="ttname"><a href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92a167a76ecfab800ac4ce4c62949cce779">v8::base::BIGNUM_DTOA_SHORTEST</a></div><div class="ttdeci">@ BIGNUM_DTOA_SHORTEST</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8h_source.html#l00017">bignum-dtoa.h:17</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad032a832b4c03fbf8b2c5027fed9de92a943256df602c5e7e60c5aa5f4b0d3a28"><div class="ttname"><a href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92a943256df602c5e7e60c5aa5f4b0d3a28">v8::base::BIGNUM_DTOA_FIXED</a></div><div class="ttdeci">@ BIGNUM_DTOA_FIXED</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8h_source.html#l00021">bignum-dtoa.h:21</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ad032a832b4c03fbf8b2c5027fed9de92aa02c80a0a1d6bb5c7442675e3ddb7f92"><div class="ttname"><a href="namespacev8_1_1base.html#ad032a832b4c03fbf8b2c5027fed9de92aa02c80a0a1d6bb5c7442675e3ddb7f92">v8::base::BIGNUM_DTOA_PRECISION</a></div><div class="ttdeci">@ BIGNUM_DTOA_PRECISION</div><div class="ttdef"><b>Definition:</b> <a href="bignum-dtoa_8h_source.html#l00024">bignum-dtoa.h:23</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_15cd31420d7325e73dc6fd0ece2ba0c9.html">base</a></li><li class="navelem"><a class="el" href="dir_2215e676c453323ff26951f38455d4e7.html">numbers</a></li><li class="navelem"><a class="el" href="bignum-dtoa_8cc.html">bignum-dtoa.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:50:40 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
