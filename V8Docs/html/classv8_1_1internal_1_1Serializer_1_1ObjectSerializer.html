<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: v8::internal::Serializer::ObjectSerializer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">v8::internal::Serializer::ObjectSerializer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="serializer_8h_source.html">serializer.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for v8::internal::Serializer::ObjectSerializer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer__inherit__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for v8::internal::Serializer::ObjectSerializer:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a192928cbf3c51de6c1aa617064627feb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a192928cbf3c51de6c1aa617064627feb">ObjectSerializer</a> (<a class="el" href="classv8_1_1internal_1_1Serializer.html">Serializer</a> *serializer, <a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; obj, <a class="el" href="classv8_1_1internal_1_1SnapshotByteSink.html">SnapshotByteSink</a> *sink)</td></tr>
<tr class="separator:a192928cbf3c51de6c1aa617064627feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b39416030336d82f3486cd17785651"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a55b39416030336d82f3486cd17785651">~ObjectSerializer</a> () override</td></tr>
<tr class="separator:a55b39416030336d82f3486cd17785651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d10e3f4a351231668fe2144c84b6ef7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a9d10e3f4a351231668fe2144c84b6ef7">Serialize</a> (<a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91">SlotType</a> slot_type)</td></tr>
<tr class="separator:a9d10e3f4a351231668fe2144c84b6ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0abcc7d2448a3dfe6735d678038c5a9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">SerializeObject</a> ()</td></tr>
<tr class="separator:a0abcc7d2448a3dfe6735d678038c5a9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c2c0ae3537fe25ec45162aeb077664"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a38c2c0ae3537fe25ec45162aeb077664">SerializeDeferred</a> ()</td></tr>
<tr class="separator:a38c2c0ae3537fe25ec45162aeb077664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209b287eb78d36bdf77b7a434d6c4db0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a209b287eb78d36bdf77b7a434d6c4db0">VisitPointers</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> start, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> end) override</td></tr>
<tr class="separator:a209b287eb78d36bdf77b7a434d6c4db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592c5336151e79cdb98fac3deec661a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a592c5336151e79cdb98fac3deec661a4">VisitPointers</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> start, <a class="el" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> end) override</td></tr>
<tr class="separator:a592c5336151e79cdb98fac3deec661a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02490f72325d234a359937032fa0cdb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02490f72325d234a359937032fa0cdb7">VisitInstructionStreamPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Code.html">Code</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#ab2a51a653a4864c3feda71605aadf6ca">InstructionStreamSlot</a> slot) override</td></tr>
<tr class="separator:a02490f72325d234a359937032fa0cdb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6becbb8b20368418e6bbb44a78f9f4b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a6becbb8b20368418e6bbb44a78f9f4b8">VisitEmbeddedPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *target) override</td></tr>
<tr class="separator:a6becbb8b20368418e6bbb44a78f9f4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1edbce9485a6a24c165d4ca8ac8de148"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1edbce9485a6a24c165d4ca8ac8de148">VisitExternalReference</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *rinfo) override</td></tr>
<tr class="separator:a1edbce9485a6a24c165d4ca8ac8de148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab700f495d152fb78c1733c887e05864b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ab700f495d152fb78c1733c887e05864b">VisitInternalReference</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *rinfo) override</td></tr>
<tr class="separator:ab700f495d152fb78c1733c887e05864b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab47625176ff4525fab2fd51f836c6668"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ab47625176ff4525fab2fd51f836c6668">VisitCodeTarget</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *target) override</td></tr>
<tr class="separator:ab47625176ff4525fab2fd51f836c6668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91498c161f498524acfe923645fc4724"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a91498c161f498524acfe923645fc4724">VisitOffHeapTarget</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *target) override</td></tr>
<tr class="separator:a91498c161f498524acfe923645fc4724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6de87c7de13d21ab1128d59bfa818d28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a6de87c7de13d21ab1128d59bfa818d28">VisitExternalPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1ExternalPointerSlot.html">ExternalPointerSlot</a> slot) override</td></tr>
<tr class="separator:a6de87c7de13d21ab1128d59bfa818d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d92b940acfc951419054ba579ed80b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7d92b940acfc951419054ba579ed80b7">VisitIndirectPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot, <a class="el" href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">IndirectPointerMode</a> <a class="el" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) override</td></tr>
<tr class="separator:a7d92b940acfc951419054ba579ed80b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cab61279c0f62a91caa4b332c1ef5ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a6cab61279c0f62a91caa4b332c1ef5ec">VisitTrustedPointerTableEntry</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot) override</td></tr>
<tr class="separator:a6cab61279c0f62a91caa4b332c1ef5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d1549386eae607447fb2b8567efdcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a30d1549386eae607447fb2b8567efdcf">VisitProtectedPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1TrustedObject.html">TrustedObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a69c3bdc8841db30ac59806f44663d229">ProtectedPointerSlot</a> slot) override</td></tr>
<tr class="separator:a30d1549386eae607447fb2b8567efdcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c817e546bcf3408ac3230e6179efc5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a8c817e546bcf3408ac3230e6179efc5f">VisitProtectedPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1TrustedObject.html">TrustedObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a5eb6c17d238a6a1a82c53fcb5357b3b6">ProtectedMaybeObjectSlot</a> slot) override</td></tr>
<tr class="separator:a8c817e546bcf3408ac3230e6179efc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0505bf1897edef3ec95d2ceb64109f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ac0505bf1897edef3ec95d2ceb64109f2">VisitCppHeapPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1CppHeapPointerSlot.html">CppHeapPointerSlot</a> slot) override</td></tr>
<tr class="separator:ac0505bf1897edef3ec95d2ceb64109f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4393b550c0d2b769ff09282bf9a16d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1f4393b550c0d2b769ff09282bf9a16d">VisitJSDispatchTableEntry</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#ae8f086a5ae078a9752085a6b967a135c">JSDispatchHandle</a> <a class="el" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) override</td></tr>
<tr class="separator:a1f4393b550c0d2b769ff09282bf9a16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4278536023ea91fb84330bcd415323a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a> ()</td></tr>
<tr class="separator:ae4278536023ea91fb84330bcd415323a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classv8_1_1internal_1_1ObjectVisitor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html">v8::internal::ObjectVisitor</a></td></tr>
<tr class="memitem:abf1e60e9312899e06b021e589d6bfa5f inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#abf1e60e9312899e06b021e589d6bfa5f">~ObjectVisitor</a> ()=default</td></tr>
<tr class="separator:abf1e60e9312899e06b021e589d6bfa5f inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778057b28dc33be005754abebe29f315 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a778057b28dc33be005754abebe29f315">VisitCustomWeakPointers</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> start, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> end)</td></tr>
<tr class="separator:a778057b28dc33be005754abebe29f315 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbdbc17172916d26d7080cda085aed54 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#abbdbc17172916d26d7080cda085aed54">VisitPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> p)</td></tr>
<tr class="separator:abbdbc17172916d26d7080cda085aed54 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6aa39a3360f362bcb9f9d1ce46beef5 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#ab6aa39a3360f362bcb9f9d1ce46beef5">VisitPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> p)</td></tr>
<tr class="separator:ab6aa39a3360f362bcb9f9d1ce46beef5 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96edddd34741b0572a395aaaa0ac90f inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#ab96edddd34741b0572a395aaaa0ac90f">VisitCustomWeakPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> p)</td></tr>
<tr class="separator:ab96edddd34741b0572a395aaaa0ac90f inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e23bcbdfb024b6976686170d73ad2a inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a87e23bcbdfb024b6976686170d73ad2a">VisitEphemeron</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host, <a class="el" href="classint.html">int</a> <a class="el" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> <a class="el" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> <a class="el" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)</td></tr>
<tr class="separator:a87e23bcbdfb024b6976686170d73ad2a inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb5b5c1b71f7dab9888c31c205c0e70 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#aefb5b5c1b71f7dab9888c31c205c0e70">VisitRelocInfo</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt; host, <a class="el" href="classv8_1_1internal_1_1RelocIterator.html">RelocIterator</a> *it)</td></tr>
<tr class="separator:aefb5b5c1b71f7dab9888c31c205c0e70 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659ae2a5e29a917bd652ae13a38bf769 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a659ae2a5e29a917bd652ae13a38bf769">VisitMapPointer</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt; host)</td></tr>
<tr class="separator:a659ae2a5e29a917bd652ae13a38bf769 inherit pub_methods_classv8_1_1internal_1_1ObjectVisitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad60ec9b31a65cd483a3f96e136213fde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ad60ec9b31a65cd483a3f96e136213fde">SerializePrologue</a> (<a class="el" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> <a class="el" href="flag-definitions_8h.html#a1d8cf0775c94df78b63812966a84395c">space</a>, <a class="el" href="classint.html">int</a> <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Map.html">Map</a> &gt; map)</td></tr>
<tr class="separator:ad60ec9b31a65cd483a3f96e136213fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03da81c82477a2de4f6b3eed13f6adb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a03da81c82477a2de4f6b3eed13f6adb2">SerializeContent</a> (<a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Map.html">Map</a> &gt; map, <a class="el" href="classint.html">int</a> <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)</td></tr>
<tr class="separator:a03da81c82477a2de4f6b3eed13f6adb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f3b97571ccc36318a4f69dd5c62311"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a97f3b97571ccc36318a4f69dd5c62311">OutputExternalReference</a> (<a class="el" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> target, <a class="el" href="classint.html">int</a> target_size, <a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a> sandboxify, <a class="el" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> tag)</td></tr>
<tr class="separator:a97f3b97571ccc36318a4f69dd5c62311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c64c27afe9e7e32ba9688dfd1dcd82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a> (<a class="el" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> up_to)</td></tr>
<tr class="separator:a19c64c27afe9e7e32ba9688dfd1dcd82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2570840c8733789271b9ba8c0b098edd"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a2570840c8733789271b9ba8c0b098edd">SerializeBackingStore</a> (void *backing_store, uint32_t byte_length, <a class="el" href="classv8_1_1Maybe.html">Maybe</a>&lt; uint32_t &gt; max_byte_length)</td></tr>
<tr class="separator:a2570840c8733789271b9ba8c0b098edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1c954fbca6c4a9271b09b4a2c52a0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ace1c954fbca6c4a9271b09b4a2c52a0f">SerializeJSTypedArray</a> ()</td></tr>
<tr class="separator:ace1c954fbca6c4a9271b09b4a2c52a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1104e122255b2a3f6e3f74ad2d9e3ce1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1104e122255b2a3f6e3f74ad2d9e3ce1">SerializeJSArrayBuffer</a> ()</td></tr>
<tr class="separator:a1104e122255b2a3f6e3f74ad2d9e3ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c6cf6eaea2198bd4e8c7862333511b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a51c6cf6eaea2198bd4e8c7862333511b">SerializeExternalString</a> ()</td></tr>
<tr class="separator:a51c6cf6eaea2198bd4e8c7862333511b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb7a4d99767ca978dd60ca4ac819d513"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acb7a4d99767ca978dd60ca4ac819d513">SerializeExternalStringAsSequentialString</a> ()</td></tr>
<tr class="separator:acb7a4d99767ca978dd60ca4ac819d513"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a02f1a8816540ed8523a5766a0a8a0300"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02f1a8816540ed8523a5766a0a8a0300">isolate_</a></td></tr>
<tr class="separator:a02f1a8816540ed8523a5766a0a8a0300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab885cca1150b0ff3f285998bb4b7d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Serializer.html">Serializer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a></td></tr>
<tr class="separator:aaab885cca1150b0ff3f285998bb4b7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7443d3cc9c144907bac8b8cf9c2c4951"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a></td></tr>
<tr class="separator:a7443d3cc9c144907bac8b8cf9c2c4951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd649c1ab2a6485719c380a7d195337a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classv8_1_1internal_1_1SnapshotByteSink.html">SnapshotByteSink</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a></td></tr>
<tr class="separator:acd649c1ab2a6485719c380a7d195337a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f9cc35cf530826d714d7f88a179e89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a></td></tr>
<tr class="separator:a35f9cc35cf530826d714d7f88a179e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00455">455</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a192928cbf3c51de6c1aa617064627feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192928cbf3c51de6c1aa617064627feb">&#9670;&nbsp;</a></span>ObjectSerializer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::Serializer::ObjectSerializer::ObjectSerializer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Serializer.html">Serializer</a> *&#160;</td>
          <td class="paramname"><em>serializer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1SnapshotByteSink.html">SnapshotByteSink</a> *&#160;</td>
          <td class="paramname"><em>sink</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00457">457</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02f1a8816540ed8523a5766a0a8a0300">isolate_</a>(serializer-&gt;isolate()),</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>(serializer),</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>(obj),</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>(sink),</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a>(0) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;PushStack(obj);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a02f1a8816540ed8523a5766a0a8a0300"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02f1a8816540ed8523a5766a0a8a0300">v8::internal::Serializer::ObjectSerializer::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00526">serializer.h:526</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a35f9cc35cf530826d714d7f88a179e89"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">v8::internal::Serializer::ObjectSerializer::bytes_processed_so_far_</a></div><div class="ttdeci">int bytes_processed_so_far_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00530">serializer.h:530</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a7443d3cc9c144907bac8b8cf9c2c4951"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">v8::internal::Serializer::ObjectSerializer::object_</a></div><div class="ttdeci">Handle&lt; HeapObject &gt; object_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00528">serializer.h:528</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_aaab885cca1150b0ff3f285998bb4b7d8"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">v8::internal::Serializer::ObjectSerializer::serializer_</a></div><div class="ttdeci">Serializer * serializer_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00527">serializer.h:527</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_acd649c1ab2a6485719c380a7d195337a"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">v8::internal::Serializer::ObjectSerializer::sink_</a></div><div class="ttdeci">SnapshotByteSink * sink_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00529">serializer.h:529</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00527">serializer_</a>.</p>

</div>
</div>
<a id="a55b39416030336d82f3486cd17785651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b39416030336d82f3486cd17785651">&#9670;&nbsp;</a></span>~ObjectSerializer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">v8::internal::Serializer::ObjectSerializer::~ObjectSerializer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00468">468</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                               {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;PopStack();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00527">serializer_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae4278536023ea91fb84330bcd415323a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4278536023ea91fb84330bcd415323a">&#9670;&nbsp;</a></span>isolate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* v8::internal::Serializer::ObjectSerializer::isolate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00508">508</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02f1a8816540ed8523a5766a0a8a0300">isolate_</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00526">isolate_</a>.</p>

<p class="reference">Referenced by <a class="el" href="serializer_8cc_source.html#l00459">SerializePrologue()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_ae4278536023ea91fb84330bcd415323a_icgraph.svg" width="499" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a97f3b97571ccc36318a4f69dd5c62311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f3b97571ccc36318a4f69dd5c62311">&#9670;&nbsp;</a></span>OutputExternalReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::OutputExternalReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a>&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>target_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a4e2118a7c0d730210e0cb87b511cba70">bool</a>&#160;</td>
          <td class="paramname"><em>sandboxify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a>&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01073">1073</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                                                              {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(target_size, <span class="keyword">sizeof</span>(target));  <span class="comment">// Must fit in Address.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(sandboxify, <a class="code" href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a>);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(sandboxify,</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                 tag != <a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306">kExternalPointerNullTag</a> || target == <a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  ExternalReferenceEncoder::Value encoded_reference;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordtype">bool</span> encoded_successfully;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160; </div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a0d25080c8f266b81d19e59f838ea0b20">allow_unknown_external_references_for_testing</a>()) {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    encoded_successfully =</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ac847735155f57c56bed2a50b01e87b7e">TryEncodeExternalReference</a>(target).To(&amp;encoded_reference);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    encoded_reference = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1b2b87d06484b99484378e1fcbfed6a8">EncodeExternalReference</a>(target);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    encoded_successfully = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160; </div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="keywordflow">if</span> (!encoded_successfully) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// In this case the serialized snapshot will not be used in a different</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// Isolate and thus the target address will not change between</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// serialization and deserialization. We can serialize seen external</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">// references verbatim.</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a0d25080c8f266b81d19e59f838ea0b20">allow_unknown_external_references_for_testing</a>());</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(target_size, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(target_size, <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a4fe282cde405a487899037ab25414c38">kFixedRawDataCount</a> * <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(target_size, <a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaf1e38ac567a66b9b88231f8db236a807">kSandboxedRawExternalReference</a>, <span class="stringliteral">&quot;SandboxedRawReference&quot;</span>);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(&amp;target), target_size,</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                    <span class="stringliteral">&quot;raw pointer&quot;</span>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <span class="comment">// Encode as FixedRawData instead of RawExternalReference as the target</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;      <span class="comment">// may be less than kSystemPointerSize large.</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;      <span class="keywordtype">int</span> size_in_tagged = target_size &gt;&gt; <a class="code" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="structv8_1_1internal_1_1SerializerDeserializer_1_1BytecodeValueEncoder.html#a4afcfde449a17208625abcd6eddafa6c">FixedRawDataWithSize::Encode</a>(size_in_tagged), <span class="stringliteral">&quot;FixedRawData&quot;</span>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(&amp;target), target_size,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                    <span class="stringliteral">&quot;raw pointer&quot;</span>);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (encoded_reference.is_from_api()) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aadfa1ace52447fb65d6c91bfe13ca4290">kSandboxedApiReference</a>, <span class="stringliteral">&quot;SandboxedApiRef&quot;</span>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa72015a3c8e78709011970279c73a87f1">kApiReference</a>, <span class="stringliteral">&quot;ApiRef&quot;</span>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(encoded_reference.index(), <span class="stringliteral">&quot;reference index&quot;</span>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa9bbc993c3ffd9598dfb5d69991aec1f7">kSandboxedExternalReference</a>, <span class="stringliteral">&quot;SandboxedExternalRef&quot;</span>);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa8fcd67067f28fd60e62d0c5fc88c24b7">kExternalReference</a>, <span class="stringliteral">&quot;ExternalRef&quot;</span>);</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(encoded_reference.index(), <span class="stringliteral">&quot;reference index&quot;</span>);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">if</span> (sandboxify) {</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(tag, <span class="stringliteral">&quot;external pointer tag&quot;</span>);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa72015a3c8e78709011970279c73a87f1"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa72015a3c8e78709011970279c73a87f1">v8::internal::SerializerDeserializer::kApiReference</a></div><div class="ttdeci">@ kApiReference</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00123">serializer-deserializer.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa8fcd67067f28fd60e62d0c5fc88c24b7"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa8fcd67067f28fd60e62d0c5fc88c24b7">v8::internal::SerializerDeserializer::kExternalReference</a></div><div class="ttdeci">@ kExternalReference</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00125">serializer-deserializer.h:125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa9bbc993c3ffd9598dfb5d69991aec1f7"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa9bbc993c3ffd9598dfb5d69991aec1f7">v8::internal::SerializerDeserializer::kSandboxedExternalReference</a></div><div class="ttdeci">@ kSandboxedExternalReference</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00131">serializer-deserializer.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aadfa1ace52447fb65d6c91bfe13ca4290"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aadfa1ace52447fb65d6c91bfe13ca4290">v8::internal::SerializerDeserializer::kSandboxedApiReference</a></div><div class="ttdeci">@ kSandboxedApiReference</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00130">serializer-deserializer.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aaf1e38ac567a66b9b88231f8db236a807"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaf1e38ac567a66b9b88231f8db236a807">v8::internal::SerializerDeserializer::kSandboxedRawExternalReference</a></div><div class="ttdeci">@ kSandboxedRawExternalReference</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00132">serializer-deserializer.h:132</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a4fe282cde405a487899037ab25414c38"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a4fe282cde405a487899037ab25414c38">v8::internal::SerializerDeserializer::kFixedRawDataCount</a></div><div class="ttdeci">static const int kFixedRawDataCount</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00077">serializer-deserializer.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a0d25080c8f266b81d19e59f838ea0b20"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a0d25080c8f266b81d19e59f838ea0b20">v8::internal::Serializer::allow_unknown_external_references_for_testing</a></div><div class="ttdeci">bool allow_unknown_external_references_for_testing() const</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00325">serializer.h:325</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a1b2b87d06484b99484378e1fcbfed6a8"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a1b2b87d06484b99484378e1fcbfed6a8">v8::internal::Serializer::EncodeExternalReference</a></div><div class="ttdeci">ExternalReferenceEncoder::Value EncodeExternalReference(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00374">serializer.cc:374</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_ac847735155f57c56bed2a50b01e87b7e"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#ac847735155f57c56bed2a50b01e87b7e">v8::internal::Serializer::TryEncodeExternalReference</a></div><div class="ttdeci">Maybe&lt; ExternalReferenceEncoder::Value &gt; TryEncodeExternalReference(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00278">serializer.h:278</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_aabc2272982a939be24759c15eabaa615"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">v8::internal::SnapshotByteSink::PutUint30</a></div><div class="ttdeci">void PutUint30(uint32_t integer, const char *description)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot-source-sink_8cc_source.html#l00021">snapshot-source-sink.cc:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_ad93d2ad1d56393d7d265886b92b58cd6"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">v8::internal::SnapshotByteSink::PutRaw</a></div><div class="ttdeci">void PutRaw(const uint8_t *data, int number_of_bytes, const char *description)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot-source-sink_8cc_source.html#l00035">snapshot-source-sink.cc:35</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_adb67204da52ee59ab5626f0d71248cae"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">v8::internal::SnapshotByteSink::Put</a></div><div class="ttdeci">void Put(uint8_t b, const char *description)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot-source-sink_8h_source.html#l00135">snapshot-source-sink.h:135</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a9fbe5720e523e0d3c9202480f33405d7"><div class="ttname"><a href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a></div><div class="ttdeci">#define V8_ENABLE_SANDBOX_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00168">globals.h:168</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a12d50d7bb2c9d8a916ff0785e6eff241"><div class="ttname"><a href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">v8::internal::kTaggedSize</a></div><div class="ttdeci">constexpr int kTaggedSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00533">globals.h:533</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a72cbfdfeabb9a401f279f7b80bcff67a"><div class="ttname"><a href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">v8::internal::kSystemPointerSize</a></div><div class="ttdeci">constexpr int kSystemPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00411">globals.h:411</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7b94dc2dd5250e9341c12941db8e9595"><div class="ttname"><a href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">v8::internal::kTaggedSizeLog2</a></div><div class="ttdeci">constexpr int kTaggedSizeLog2</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00534">globals.h:534</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306">v8::internal::kExternalPointerNullTag</a></div><div class="ttdeci">@ kExternalPointerNullTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00554">v8-internal.h:554</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a56e883b55c80205b4d1727679c68b2bd"><div class="ttname"><a href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a></div><div class="ttdeci">#define CHECK_LE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab7a19c1f785f31f2b190afc19875368a"><div class="ttname"><a href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a></div><div class="ttdeci">constexpr bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00403">macros.h:403</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1SerializerDeserializer_1_1BytecodeValueEncoder_html_a4afcfde449a17208625abcd6eddafa6c"><div class="ttname"><a href="structv8_1_1internal_1_1SerializerDeserializer_1_1BytecodeValueEncoder.html#a4afcfde449a17208625abcd6eddafa6c">v8::internal::SerializerDeserializer::BytecodeValueEncoder::Encode</a></div><div class="ttdeci">static constexpr uint8_t Encode(TValue value)</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00210">serializer-deserializer.h:210</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00489">DCHECK_LE</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00210">v8::internal::SerializerDeserializer::BytecodeValueEncoder&lt; kBytecode, kMinValue, kMaxValue, TValue &gt;::Encode()</a>, <a class="el" href="external-reference-encoder_8h_source.html#l00030">v8::internal::ExternalReferenceEncoder::Value::index()</a>, <a class="el" href="external-reference-encoder_8h_source.html#l00029">v8::internal::ExternalReferenceEncoder::Value::is_from_api()</a>, <a class="el" href="src_2base_2macros_8h_source.html#l00403">IsAligned()</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00123">v8::internal::SerializerDeserializer::kApiReference</a>, <a class="el" href="v8-internal_8h_source.html#l00554">v8::internal::kExternalPointerNullTag</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00125">v8::internal::SerializerDeserializer::kExternalReference</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00077">v8::internal::SerializerDeserializer::kFixedRawDataCount</a>, <a class="el" href="v8-internal_8h_source.html#l00053">v8::internal::kNullAddress</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00130">v8::internal::SerializerDeserializer::kSandboxedApiReference</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00131">v8::internal::SerializerDeserializer::kSandboxedExternalReference</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00132">v8::internal::SerializerDeserializer::kSandboxedRawExternalReference</a>, <a class="el" href="common_2globals_8h_source.html#l00411">v8::internal::kSystemPointerSize</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="common_2globals_8h_source.html#l00534">v8::internal::kTaggedSizeLog2</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00035">v8::internal::SnapshotByteSink::PutRaw()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00021">v8::internal::SnapshotByteSink::PutUint30()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, and <a class="el" href="common_2globals_8h_source.html#l00168">V8_ENABLE_SANDBOX_BOOL</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a97f3b97571ccc36318a4f69dd5c62311_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a19c64c27afe9e7e32ba9688dfd1dcd82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c64c27afe9e7e32ba9688dfd1dcd82">&#9670;&nbsp;</a></span>OutputRawData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::OutputRawData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a>&#160;</td>
          <td class="paramname"><em>up_to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01361">1361</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                                                            {</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> object_start = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;address();</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  <span class="keywordtype">int</span> base = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a>;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordtype">int</span> up_to_offset = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(up_to - object_start);</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordtype">int</span> to_skip = up_to_offset - <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a>;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="keywordtype">int</span> bytes_to_output = to_skip;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(bytes_to_output, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordtype">int</span> tagged_to_output = bytes_to_output / <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += to_skip;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(to_skip, 0);</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordflow">if</span> (bytes_to_output != 0) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(to_skip == bytes_to_output);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (tagged_to_output &lt;= <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a4fe282cde405a487899037ab25414c38">kFixedRawDataCount</a>) {</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="structv8_1_1internal_1_1SerializerDeserializer_1_1BytecodeValueEncoder.html#a4afcfde449a17208625abcd6eddafa6c">FixedRawDataWithSize::Encode</a>(tagged_to_output),</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                 <span class="stringliteral">&quot;FixedRawData&quot;</span>);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaf01d4f2c27bce53b7735c2ef41a4d4cb">kVariableRawData</a>, <span class="stringliteral">&quot;VariableRawData&quot;</span>);</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(tagged_to_output, <span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    }</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="preprocessor">#ifdef MEMORY_SANITIZER</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="comment">// Check that we do not serialize uninitialized memory.</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    __msan_check_mem_is_initialized(</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(object_start + base), bytes_to_output);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// MEMORY_SANITIZER</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    PtrComprCageBase <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a02f1a8816540ed8523a5766a0a8a0300">isolate_</a>);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">if</span> (IsSharedFunctionInfo(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)) {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="comment">// The bytecode age field can be changed by GC concurrently.</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      static_assert(<a class="code" href="classv8_1_1internal_1_1SharedFunctionInfo.html#a797466b3187512748402017c81027ce0">SharedFunctionInfo::kAgeSize</a> == <a class="code" href="namespacev8_1_1internal.html#ac0c09470b1de2d9aa46378e0fc5f937e">kUInt16Size</a>);</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> field_value = 0;</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a36a5c486a3d69f6bc94249f9376e4f81">OutputRawWithCustomField</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>, object_start, base, bytes_to_output,</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                               SharedFunctionInfo::kAgeOffset,</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                               <span class="keyword">sizeof</span>(field_value),</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                               <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(&amp;field_value));</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsDescriptorArray(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)) {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      <span class="comment">// The number of marked descriptors field can be changed by GC</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="comment">// concurrently.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> field_value = <a class="code" href="classv8_1_1internal_1_1DescriptorArrayMarkingState.html#a731064217f87809f0342753432d65ed3">DescriptorArrayMarkingState::kInitialGCState</a>;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      static_assert(<span class="keyword">sizeof</span>(field_value) == <a class="code" href="classv8_1_1internal_1_1DescriptorArray.html#aac118f021cade8ef5958a6faa6243138">DescriptorArray::kSizeOfRawGcState</a>);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a36a5c486a3d69f6bc94249f9376e4f81">OutputRawWithCustomField</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>, object_start, base, bytes_to_output,</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                               DescriptorArray::kRawGcStateOffset,</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                               <span class="keyword">sizeof</span>(field_value),</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                               <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(&amp;field_value));</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsCode(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="comment">// When the sandbox is enabled, this field contains the handle to this</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <span class="comment">// Code object&#39;s code pointer table entry. This will be recomputed after</span></div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="comment">// deserialization.</span></div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keyword">static</span> uint8_t field_value[<a class="code" href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">kIndirectPointerSize</a>] = {0};</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a36a5c486a3d69f6bc94249f9376e4f81">OutputRawWithCustomField</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>, object_start, base, bytes_to_output,</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                               Code::kSelfIndirectPointerOffset,</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                               <span class="keyword">sizeof</span>(field_value), field_value);</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="comment">// In this case, instruction_start field contains a raw value that will</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      <span class="comment">// similarly be recomputed after deserialization, so write zeros to keep</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="comment">// the snapshot deterministic.</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;      <span class="keyword">static</span> uint8_t field_value[<a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>] = {0};</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a36a5c486a3d69f6bc94249f9376e4f81">OutputRawWithCustomField</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>, object_start, base, bytes_to_output,</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                               Code::kInstructionStartOffset,</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                               <span class="keyword">sizeof</span>(field_value), field_value);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#afb3ec97f16d3e44bb89e321f19c7b340">IsSeqString</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)) {</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;      <span class="comment">// SeqStrings may contain padding. Serialize the padding bytes as 0s to</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="comment">// make the snapshot content deterministic.</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;      SeqString::DataAndPaddingSizes sizes =</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;          Cast&lt;SeqString&gt;(*object_)-&gt;GetDataAndPaddingSizes();</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(bytes_to_output, sizes.data_size - base + sizes.padding_size);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="keywordtype">int</span> data_bytes_to_output = sizes.data_size - base;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + base),</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                    data_bytes_to_output, <span class="stringliteral">&quot;SeqStringData&quot;</span>);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#a1d7dab158a09aea2511510cfd5b644d3">PutN</a>(sizes.padding_size, 0, <span class="stringliteral">&quot;SeqStringPadding&quot;</span>);</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(object_start + base),</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                    bytes_to_output, <span class="stringliteral">&quot;Bytes&quot;</span>);</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    }</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  }</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1DescriptorArrayMarkingState_html_a731064217f87809f0342753432d65ed3"><div class="ttname"><a href="classv8_1_1internal_1_1DescriptorArrayMarkingState.html#a731064217f87809f0342753432d65ed3">v8::internal::DescriptorArrayMarkingState::kInitialGCState</a></div><div class="ttdeci">static constexpr RawGCStateType kInitialGCState</div><div class="ttdef"><b>Definition:</b> <a href="descriptor-array_8h_source.html#l00305">descriptor-array.h:305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1DescriptorArray_html_aac118f021cade8ef5958a6faa6243138"><div class="ttname"><a href="classv8_1_1internal_1_1DescriptorArray.html#aac118f021cade8ef5958a6faa6243138">v8::internal::DescriptorArray::kSizeOfRawGcState</a></div><div class="ttdeci">static constexpr size_t kSizeOfRawGcState</div><div class="ttdef"><b>Definition:</b> <a href="descriptor-array_8h_source.html#l00190">descriptor-array.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aaf01d4f2c27bce53b7735c2ef41a4d4cb"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaf01d4f2c27bce53b7735c2ef41a4d4cb">v8::internal::SerializerDeserializer::kVariableRawData</a></div><div class="ttdeci">@ kVariableRawData</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00121">serializer-deserializer.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a1330836e658df6feb2d8a6d2b0e2bf21"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">v8::internal::Serializer::cage_base</a></div><div class="ttdeci">PtrComprCageBase cage_base() const</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00199">serializer.h:199</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SharedFunctionInfo_html_a797466b3187512748402017c81027ce0"><div class="ttname"><a href="classv8_1_1internal_1_1SharedFunctionInfo.html#a797466b3187512748402017c81027ce0">v8::internal::SharedFunctionInfo::kAgeSize</a></div><div class="ttdeci">static constexpr int kAgeSize</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info_8h_source.html#l00246">shared-function-info.h:246</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_a1d7dab158a09aea2511510cfd5b644d3"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#a1d7dab158a09aea2511510cfd5b644d3">v8::internal::SnapshotByteSink::PutN</a></div><div class="ttdeci">void PutN(int number_of_bytes, const uint8_t v, const char *description)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot-source-sink_8cc_source.html#l00016">snapshot-source-sink.cc:16</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_afb3ec97f16d3e44bb89e321f19c7b340"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#afb3ec97f16d3e44bb89e321f19c7b340">v8::internal::InstanceTypeChecker::IsSeqString</a></div><div class="ttdeci">constexpr bool IsSeqString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00332">instance-type-inl.h:332</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03_html_a36a5c486a3d69f6bc94249f9376e4f81"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a36a5c486a3d69f6bc94249f9376e4f81">v8::internal::anonymous_namespace{serializer.cc}::OutputRawWithCustomField</a></div><div class="ttdeci">void OutputRawWithCustomField(SnapshotByteSink *sink, Address object_start, int written_so_far, int bytes_to_write, int field_offset, int field_size, const uint8_t *field_value)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l01340">serializer.cc:1340</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a992050d065034254293bc79869dee600"><div class="ttname"><a href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">v8::internal::kIndirectPointerSize</a></div><div class="ttdeci">constexpr int kIndirectPointerSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00620">globals.h:620</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab4955debfb9384e59e3d4e9fcab5b0a0"><div class="ttname"><a href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">v8::internal::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="memcopy_8h_source.html#l00022">memcopy.h:22</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac0c09470b1de2d9aa46378e0fc5f937e"><div class="ttname"><a href="namespacev8_1_1internal.html#ac0c09470b1de2d9aa46378e0fc5f937e">v8::internal::kUInt16Size</a></div><div class="ttdeci">constexpr int kUInt16Size</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00400">globals.h:400</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00199">v8::internal::Serializer::cage_base()</a>, <a class="el" href="string_8h_source.html#l00840">v8::internal::SeqString::DataAndPaddingSizes::data_size</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00487">DCHECK_GE</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00210">v8::internal::SerializerDeserializer::BytecodeValueEncoder&lt; kBytecode, kMinValue, kMaxValue, TValue &gt;::Encode()</a>, <a class="el" href="src_2base_2macros_8h_source.html#l00403">IsAligned()</a>, <a class="el" href="serializer_8h_source.html#l00394">v8::internal::Serializer::isolate_</a>, <a class="el" href="instance-type-inl_8h_source.html#l00332">v8::internal::InstanceTypeChecker::IsSeqString()</a>, <a class="el" href="shared-function-info_8h_source.html#l00246">v8::internal::SharedFunctionInfo::kAgeSize</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00077">v8::internal::SerializerDeserializer::kFixedRawDataCount</a>, <a class="el" href="common_2globals_8h_source.html#l00620">v8::internal::kIndirectPointerSize</a>, <a class="el" href="descriptor-array_8h_source.html#l00305">v8::internal::DescriptorArrayMarkingState::kInitialGCState</a>, <a class="el" href="descriptor-array_8h_source.html#l00190">v8::internal::DescriptorArray::kSizeOfRawGcState</a>, <a class="el" href="common_2globals_8h_source.html#l00411">v8::internal::kSystemPointerSize</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="common_2globals_8h_source.html#l00400">v8::internal::kUInt16Size</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00121">v8::internal::SerializerDeserializer::kVariableRawData</a>, <a class="el" href="serializer_8cc_source.html#l01340">v8::internal::anonymous_namespace{serializer.cc}::OutputRawWithCustomField()</a>, <a class="el" href="string_8h_source.html#l00841">v8::internal::SeqString::DataAndPaddingSizes::padding_size</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00016">v8::internal::SnapshotByteSink::PutN()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00035">v8::internal::SnapshotByteSink::PutRaw()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00021">v8::internal::SnapshotByteSink::PutUint30()</a>, and <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a19c64c27afe9e7e32ba9688dfd1dcd82_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9d10e3f4a351231668fe2144c84b6ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d10e3f4a351231668fe2144c84b6ef7">&#9670;&nbsp;</a></span>Serialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::Serialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91">SlotType</a>&#160;</td>
          <td class="paramname"><em>slot_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00794">794</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                                                             {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  RecursionScope recursion(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160; </div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  {</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> raw = *<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// Defer objects as &quot;pending&quot; if they cannot be serialized now, or if we</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// exceed a certain recursion depth. Some objects cannot be deferred.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordtype">bool</span> should_defer =</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        recursion.ExceedsMaximum() || <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1d3fa128798ba258870b320d53fb1369">MustBeDeferred</a>(raw);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">if</span> (should_defer &amp;&amp; <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#af1344bac8876eae3e493775952553fd5">CanBeDeferred</a>(raw, slot_type)) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Deferring heap object: &quot;</span>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      }</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <span class="comment">// Deferred objects are considered &quot;pending&quot;.</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a346eaeae49ddf1454352cc086479f239">RegisterObjectIsPending</a>(raw);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a72b716d61b11317b32f93152885e1088">PutPendingForwardReference</a>(</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          *<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aaab187ee8dff2f40020c9645e8d929b2">forward_refs_per_pending_object_</a>.Find(raw));</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a64ca013ab3ee2ef8ec9e342771b07528">QueueDeferredObject</a>(raw);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer &amp;&amp; recursion.ExceedsMaximum()) {</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Exceeding max recursion depth by %d for: &quot;</span>,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;               recursion.ExceedsMaximumBy());</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; </div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding heap object: &quot;</span>);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  PtrComprCageBase <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;map(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)-&gt;instance_type();</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">InstanceTypeChecker::IsExternalString</a>(instance_type)) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a51c6cf6eaea2198bd4e8c7862333511b">SerializeExternalString</a>();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">if</span> (InstanceTypeChecker::IsJSTypedArray(instance_type)) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ace1c954fbca6c4a9271b09b4a2c52a0f">SerializeJSTypedArray</a>();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  }</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span> (InstanceTypeChecker::IsJSArrayBuffer(instance_type)) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1104e122255b2a3f6e3f74ad2d9e3ce1">SerializeJSArrayBuffer</a>();</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">if</span> (InstanceTypeChecker::IsScript(instance_type)) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="comment">// Clear cached line ends &amp; compiled lazy function positions.</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    Cast&lt;Script&gt;(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)-&gt;set_line_ends(<a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>());</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    Cast&lt;Script&gt;(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)-&gt;set_compiled_lazy_function_positions(</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        ReadOnlyRoots(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()).undefined_value());</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  }</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160; </div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="preprocessor">#if V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="comment">// The padding for wasm null is a free space filler. We put it into the roots</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">// table to be able to skip its payload when serializing the read only heap</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="comment">// in the ReadOnlyHeapImageSerializer.</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      !<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;SafeEquals(ReadOnlyRoots(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()).wasm_null_padding()),</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;      !<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#abbf68b3bf1ca62b0645f031cdc769188">IsFreeSpaceOrFiller</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>));</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#abbf68b3bf1ca62b0645f031cdc769188">IsFreeSpaceOrFiller</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>));</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160; </div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">SerializeObject</a>();</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_af1344bac8876eae3e493775952553fd5"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#af1344bac8876eae3e493775952553fd5">v8::internal::SerializerDeserializer::CanBeDeferred</a></div><div class="ttdeci">static bool CanBeDeferred(Tagged&lt; HeapObject &gt; o, SlotType slot_type)</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8cc_source.html#l00048">serializer-deserializer.cc:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a0abcc7d2448a3dfe6735d678038c5a9c"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">v8::internal::Serializer::ObjectSerializer::SerializeObject</a></div><div class="ttdeci">void SerializeObject()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00911">serializer.cc:911</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a1104e122255b2a3f6e3f74ad2d9e3ce1"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a1104e122255b2a3f6e3f74ad2d9e3ce1">v8::internal::Serializer::ObjectSerializer::SerializeJSArrayBuffer</a></div><div class="ttdeci">void SerializeJSArrayBuffer()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00642">serializer.cc:642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a51c6cf6eaea2198bd4e8c7862333511b"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a51c6cf6eaea2198bd4e8c7862333511b">v8::internal::Serializer::ObjectSerializer::SerializeExternalString</a></div><div class="ttdeci">void SerializeExternalString()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00682">serializer.cc:682</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_ace1c954fbca6c4a9271b09b4a2c52a0f"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ace1c954fbca6c4a9271b09b4a2c52a0f">v8::internal::Serializer::ObjectSerializer::SerializeJSTypedArray</a></div><div class="ttdeci">void SerializeJSTypedArray()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00600">serializer.cc:600</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_ae4278536023ea91fb84330bcd415323a"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">v8::internal::Serializer::ObjectSerializer::isolate</a></div><div class="ttdeci">Isolate * isolate()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00508">serializer.h:508</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a1d3fa128798ba258870b320d53fb1369"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a1d3fa128798ba258870b320d53fb1369">v8::internal::Serializer::MustBeDeferred</a></div><div class="ttdeci">virtual bool MustBeDeferred(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00181">serializer.cc:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a346eaeae49ddf1454352cc086479f239"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a346eaeae49ddf1454352cc086479f239">v8::internal::Serializer::RegisterObjectIsPending</a></div><div class="ttdeci">void RegisterObjectIsPending(Tagged&lt; HeapObject &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00391">serializer.cc:391</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a64ca013ab3ee2ef8ec9e342771b07528"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a64ca013ab3ee2ef8ec9e342771b07528">v8::internal::Serializer::QueueDeferredObject</a></div><div class="ttdeci">void QueueDeferredObject(Tagged&lt; HeapObject &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00296">serializer.h:296</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a72b716d61b11317b32f93152885e1088"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a72b716d61b11317b32f93152885e1088">v8::internal::Serializer::PutPendingForwardReference</a></div><div class="ttdeci">void PutPendingForwardReference(PendingObjectReferences &amp;ref)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00347">serializer.cc:347</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_aaab187ee8dff2f40020c9645e8d929b2"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#aaab187ee8dff2f40020c9645e8d929b2">v8::internal::Serializer::forward_refs_per_pending_object_</a></div><div class="ttdeci">IdentityMap&lt; PendingObjectReferences, base::DefaultAllocationPolicy &gt; forward_refs_per_pending_object_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00425">serializer.h:425</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a5386e0cc44bcfd6a13c8481b95f5652f"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_a4dd27cf9309273fdf5e136ba0bc57b08"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">v8::internal::InstanceTypeChecker::IsExternalString</a></div><div class="ttdeci">constexpr bool IsExternalString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00346">instance-type-inl.h:346</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_abbf68b3bf1ca62b0645f031cdc769188"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#abbf68b3bf1ca62b0645f031cdc769188">v8::internal::InstanceTypeChecker::IsFreeSpaceOrFiller</a></div><div class="ttdeci">constexpr bool IsFreeSpaceOrFiller(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00520">instance-type-inl.h:520</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_a63d8eefb47468aa3f816fbe26a59466a"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a></div><div class="ttdeci">size_t const DisallowGarbageCollection &amp; no_gc</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00544">json-stringifier.cc:544</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57f5ecf71b9a2757b0555b2be4c640b8"><div class="ttname"><a href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">v8::internal::Tagged&lt; HeapObject &gt;</a></div><div class="ttdeci">kInterpreterTrampolineOffset Tagged&lt; HeapObject &gt;</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8899d90340d811cd369173aac228774e"><div class="ttname"><a href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">v8::internal::ShortPrint</a></div><div class="ttdeci">void ShortPrint(Tagged&lt; Object &gt; obj, FILE *out)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8cc_source.html#l01869">objects.cc:1869</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9312a9fc987dba9376a530956f94e8fe"><div class="ttname"><a href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">v8::internal::InstanceType</a></div><div class="ttdeci">InstanceType</div><div class="ttdef"><b>Definition:</b> <a href="instance-type_8h_source.html#l00116">instance-type.h:116</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2248a427f8ff8f81e68a2a87758e145"><div class="ttname"><a href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">v8::internal::DisallowGarbageCollection</a></div><div class="ttdeci">PerThreadAssertScopeDebugOnly&lt; false, SAFEPOINTS_ASSERT, HEAP_ALLOCATION_ASSERT &gt; DisallowGarbageCollection</div><div class="ttdef"><b>Definition:</b> <a href="assert-scope_8h_source.html#l00239">assert-scope.h:241</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00199">v8::internal::Serializer::cage_base()</a>, <a class="el" href="serializer-deserializer_8cc_source.html#l00048">v8::internal::SerializerDeserializer::CanBeDeferred()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="serializer_8h_source.html#l00219">v8::internal::Serializer::RecursionScope::ExceedsMaximum()</a>, <a class="el" href="serializer_8h_source.html#l00222">v8::internal::Serializer::RecursionScope::ExceedsMaximumBy()</a>, <a class="el" href="instance-type-inl_8h_source.html#l00346">v8::internal::InstanceTypeChecker::IsExternalString()</a>, <a class="el" href="instance-type-inl_8h_source.html#l00520">v8::internal::InstanceTypeChecker::IsFreeSpaceOrFiller()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, <a class="el" href="utils_2utils_8cc_source.html#l00039">v8::internal::PrintF()</a>, <a class="el" href="serializer_8cc_source.html#l00161">v8::internal::Serializer::SerializeObject()</a>, <a class="el" href="objects_8cc_source.html#l01869">v8::internal::ShortPrint()</a>, <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>, and <a class="el" href="smi_8h_source.html#l00099">v8::internal::Smi::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="code-serializer_8cc_source.html#l00281">v8::internal::CodeSerializer::SerializeGeneric()</a>, <a class="el" href="context-serializer_8cc_source.html#l00159">v8::internal::ContextSerializer::SerializeObjectImpl()</a>, <a class="el" href="startup-serializer_8cc_source.html#l00100">v8::internal::StartupSerializer::SerializeObjectImpl()</a>, <a class="el" href="shared-heap-serializer_8cc_source.html#l00162">v8::internal::SharedHeapSerializer::SerializeObjectImpl()</a>, and <a class="el" href="context-serializer_8cc_source.html#l00319">v8::internal::ContextSerializer::SerializeObjectWithEmbedderFields()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a9d10e3f4a351231668fe2144c84b6ef7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a9d10e3f4a351231668fe2144c84b6ef7_icgraph.svg" width="100%" height="525"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a2570840c8733789271b9ba8c0b098edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2570840c8733789271b9ba8c0b098edd">&#9670;&nbsp;</a></span>SerializeBackingStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t v8::internal::Serializer::ObjectSerializer::SerializeBackingStore </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>backing_store</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1Maybe.html">Maybe</a>&lt; uint32_t &gt;&#160;</td>
          <td class="paramname"><em>max_byte_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00568">568</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                     {</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keyword">const</span> SerializerReference* reference_ptr =</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#a15c6905298de5925bac768cd718e2671">LookupBackingStore</a>(backing_store);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="comment">// Serialize the off-heap backing store.</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">if</span> (reference_ptr) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span> reference_ptr-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReference.html#a49fac7397dd24788771630b725d7880a">off_heap_backing_store_index</a>();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">if</span> (max_byte_length.IsJust()) {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aac00fcd7f5a5c7d960d474bef0d42f3bc">kOffHeapResizableBackingStore</a>,</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;               <span class="stringliteral">&quot;Off-heap resizable backing store&quot;</span>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa7b03935975ed041b49b78ff6767d6f12">kOffHeapBackingStore</a>, <span class="stringliteral">&quot;Off-heap backing store&quot;</span>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#a3948101c24367f9b91f1f29eee013e2c">PutUint32</a>(byte_length, <span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (max_byte_length.IsJust()) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#a3948101c24367f9b91f1f29eee013e2c">PutUint32</a>(max_byte_length.FromJust(), <span class="stringliteral">&quot;max length&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(backing_store), byte_length,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                <span class="stringliteral">&quot;BackingStore&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(0, <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ab5e6ac8f655088975857f12daa3426cb">seen_backing_stores_index_</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  SerializerReference reference =</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="classv8_1_1internal_1_1SerializerReference.html#a3bf331bda9d66a88c90d3486e6aa0059">SerializerReference::OffHeapBackingStoreReference</a>(</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ab5e6ac8f655088975857f12daa3426cb">seen_backing_stores_index_</a>++);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">// Mark this backing store as already serialized.</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#a09b40d92d1bf30545cb4704da1a306b2">AddBackingStore</a>(backing_store, reference);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">return</span> reference.off_heap_backing_store_index();</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa7b03935975ed041b49b78ff6767d6f12"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa7b03935975ed041b49b78ff6767d6f12">v8::internal::SerializerDeserializer::kOffHeapBackingStore</a></div><div class="ttdeci">@ kOffHeapBackingStore</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00114">serializer-deserializer.h:114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aac00fcd7f5a5c7d960d474bef0d42f3bc"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aac00fcd7f5a5c7d960d474bef0d42f3bc">v8::internal::SerializerDeserializer::kOffHeapResizableBackingStore</a></div><div class="ttdeci">@ kOffHeapResizableBackingStore</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00115">serializer-deserializer.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReferenceMap_html_a09b40d92d1bf30545cb4704da1a306b2"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReferenceMap.html#a09b40d92d1bf30545cb4704da1a306b2">v8::internal::SerializerReferenceMap::AddBackingStore</a></div><div class="ttdeci">void AddBackingStore(void *backing_store, SerializerReference reference)</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00128">references.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReferenceMap_html_a15c6905298de5925bac768cd718e2671"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReferenceMap.html#a15c6905298de5925bac768cd718e2671">v8::internal::SerializerReferenceMap::LookupBackingStore</a></div><div class="ttdeci">const SerializerReference * LookupBackingStore(void *backing_store) const</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00117">references.h:117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a3bf331bda9d66a88c90d3486e6aa0059"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a3bf331bda9d66a88c90d3486e6aa0059">v8::internal::SerializerReference::OffHeapBackingStoreReference</a></div><div class="ttdeci">static SerializerReference OffHeapBackingStoreReference(uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00043">references.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a49fac7397dd24788771630b725d7880a"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a49fac7397dd24788771630b725d7880a">v8::internal::SerializerReference::off_heap_backing_store_index</a></div><div class="ttdeci">uint32_t off_heap_backing_store_index() const</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00068">references.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_aa5fc7dd5cdc84a3ff41bcc9287cb09d0"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">v8::internal::Serializer::reference_map</a></div><div class="ttdeci">SerializerReferenceMap * reference_map()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00320">serializer.h:320</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_ab5e6ac8f655088975857f12daa3426cb"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#ab5e6ac8f655088975857f12daa3426cb">v8::internal::Serializer::seen_backing_stores_index_</a></div><div class="ttdeci">uint32_t seen_backing_stores_index_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00432">serializer.h:432</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_a3948101c24367f9b91f1f29eee013e2c"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#a3948101c24367f9b91f1f29eee013e2c">v8::internal::SnapshotByteSink::PutUint32</a></div><div class="ttdeci">void PutUint32(uint32_t integer, const char *description)</div><div class="ttdef"><b>Definition:</b> <a href="snapshot-source-sink_8h_source.html#l00140">snapshot-source-sink.h:140</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00485">DCHECK_NE</a>, <a class="el" href="v8-maybe_8h_source.html#l00076">v8::Maybe&lt; T &gt;::FromJust()</a>, <a class="el" href="v8-maybe_8h_source.html#l00038">v8::Maybe&lt; T &gt;::IsJust()</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00114">v8::internal::SerializerDeserializer::kOffHeapBackingStore</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00115">v8::internal::SerializerDeserializer::kOffHeapResizableBackingStore</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, <a class="el" href="references_8h_source.html#l00068">v8::internal::SerializerReference::off_heap_backing_store_index()</a>, <a class="el" href="references_8h_source.html#l00043">v8::internal::SerializerReference::OffHeapBackingStoreReference()</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00035">v8::internal::SnapshotByteSink::PutRaw()</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00140">v8::internal::SnapshotByteSink::PutUint32()</a>, and <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a2570840c8733789271b9ba8c0b098edd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a03da81c82477a2de4f6b3eed13f6adb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03da81c82477a2de4f6b3eed13f6adb2">&#9670;&nbsp;</a></span>SerializeContent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Map.html">Map</a> &gt;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00955">955</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                                                                           {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> raw = *<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  UnlinkWeakNextScope unlink_weak_next(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()-&gt;<a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>(), raw);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">// Iterate references first.</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a239f1125191de952f41c27c683282d76">VisitObjectBody</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>(), map, raw, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// Then output data payload, if any.</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a>(raw.address() + <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a19c64c27afe9e7e32ba9688dfd1dcd82"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">v8::internal::Serializer::ObjectSerializer::OutputRawData</a></div><div class="ttdeci">void OutputRawData(Address up_to)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l01361">serializer.cc:1361</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a761e4e5929b1553283fd6a532822bb17"><div class="ttname"><a href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a></div><div class="ttdeci">other heap size max size of the shared heap(in Mbytes)</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a239f1125191de952f41c27c683282d76"><div class="ttname"><a href="namespacev8_1_1internal.html#a239f1125191de952f41c27c683282d76">v8::internal::VisitObjectBody</a></div><div class="ttdeci">void VisitObjectBody(Isolate *isolate, Tagged&lt; HeapObject &gt; object, ObjectVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="visit-object_8cc_source.html#l00146">visit-object.cc:146</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="tagged_8h_source.html#l00525">v8::internal::Tagged&lt; HeapObject &gt;::address()</a>, <a class="el" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, and <a class="el" href="visit-object_8cc_source.html#l00146">v8::internal::VisitObjectBody()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a03da81c82477a2de4f6b3eed13f6adb2_cgraph.svg" width="100%" height="515"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a38c2c0ae3537fe25ec45162aeb077664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c2c0ae3537fe25ec45162aeb077664">&#9670;&nbsp;</a></span>SerializeDeferred()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeDeferred </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00936">936</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                                                   {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keyword">const</span> SerializerReference* back_reference =</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab4adc406444c061849e8278b866cfd68">LookupReference</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">if</span> (back_reference != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Deferred heap object &quot;</span>);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a8899d90340d811cd369173aac228774e">ShortPrint</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; was already serialized\n&quot;</span>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  }</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_serializer) {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot; Encoding deferred heap object\n&quot;</span>);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a9d10e3f4a351231668fe2144c84b6ef7">Serialize</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">SlotType::kAnySlot</a>);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::SlotType::kAnySlot</a></div><div class="ttdeci">@ kAnySlot</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReferenceMap_html_ab4adc406444c061849e8278b866cfd68"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab4adc406444c061849e8278b866cfd68">v8::internal::SerializerReferenceMap::LookupReference</a></div><div class="ttdeci">const SerializerReference * LookupReference(Tagged&lt; HeapObject &gt; object) const</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00108">references.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a9d10e3f4a351231668fe2144c84b6ef7"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a9d10e3f4a351231668fe2144c84b6ef7">v8::internal::Serializer::ObjectSerializer::Serialize</a></div><div class="ttdeci">void Serialize(SlotType slot_type)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00794">serializer.cc:794</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::kAnySlot</a>, <a class="el" href="utils_2utils_8cc_source.html#l00039">v8::internal::PrintF()</a>, <a class="el" href="objects_8cc_source.html#l01869">v8::internal::ShortPrint()</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a38c2c0ae3537fe25ec45162aeb077664_cgraph.svg" width="482" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a51c6cf6eaea2198bd4e8c7862333511b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c6cf6eaea2198bd4e8c7862333511b">&#9670;&nbsp;</a></span>SerializeExternalString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeExternalString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00682">682</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                                                         {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// For external strings with known resources, we replace the resource field</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// with the encoded external reference, which we restore upon deserialize.</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// For the rest we serialize them to look like ordinary sequential strings.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keyword">auto</span> <span class="keywordtype">string</span> = Cast&lt;ExternalString&gt;(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> resource = <span class="keywordtype">string</span>-&gt;resource_as_address();</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  ExternalReferenceEncoder::Value reference;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a77ce43f8a7fe3b7dfb19208665eb5d14">external_reference_encoder_</a>.<a class="code" href="classv8_1_1internal_1_1ExternalReferenceEncoder.html#a81ce0ee99bd798125f2ecefed56be4c7">TryEncode</a>(resource).To(</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          &amp;reference)) {</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(reference.is_from_api());</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    uint32_t external_pointer_entry =</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordtype">string</span>-&gt;GetResourceRefForDeserialization();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordtype">string</span>-&gt;SetResourceRefForSerialization(reference.index());</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">SerializeObject</a>();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordtype">string</span>-&gt;SetResourceRefForSerialization(external_pointer_entry);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordtype">string</span>-&gt;set_address_as_resource(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>(), resource);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acb7a4d99767ca978dd60ca4ac819d513">SerializeExternalStringAsSequentialString</a>();</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalReferenceEncoder_html_a81ce0ee99bd798125f2ecefed56be4c7"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalReferenceEncoder.html#a81ce0ee99bd798125f2ecefed56be4c7">v8::internal::ExternalReferenceEncoder::TryEncode</a></div><div class="ttdeci">Maybe&lt; Value &gt; TryEncode(Address key) const</div><div class="ttdef"><b>Definition:</b> <a href="external-reference-encoder_8cc_source.html#l00059">external-reference-encoder.cc:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_acb7a4d99767ca978dd60ca4ac819d513"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acb7a4d99767ca978dd60ca4ac819d513">v8::internal::Serializer::ObjectSerializer::SerializeExternalStringAsSequentialString</a></div><div class="ttdeci">void SerializeExternalStringAsSequentialString()</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00708">serializer.cc:708</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a77ce43f8a7fe3b7dfb19208665eb5d14"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a77ce43f8a7fe3b7dfb19208665eb5d14">v8::internal::Serializer::external_reference_encoder_</a></div><div class="ttdeci">ExternalReferenceEncoder external_reference_encoder_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00400">serializer.h:400</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="external-reference-encoder_8h_source.html#l00030">v8::internal::ExternalReferenceEncoder::Value::index()</a>, <a class="el" href="external-reference-encoder_8h_source.html#l00029">v8::internal::ExternalReferenceEncoder::Value::is_from_api()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, and <a class="el" href="serializer_8cc_source.html#l00161">v8::internal::Serializer::SerializeObject()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a51c6cf6eaea2198bd4e8c7862333511b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="acb7a4d99767ca978dd60ca4ac819d513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7a4d99767ca978dd60ca4ac819d513">&#9670;&nbsp;</a></span>SerializeExternalStringAsSequentialString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeExternalStringAsSequentialString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00708">708</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                                                                           {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="comment">// Instead of serializing this as an external string, we serialize</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="comment">// an imaginary sequential string with the same content.</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  ReadOnlyRoots roots(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  PtrComprCageBase <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">IsExternalString</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>));</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  DirectHandle&lt;ExternalString&gt; <span class="keywordtype">string</span> = Cast&lt;ExternalString&gt;(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  uint32_t <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = <span class="keywordtype">string</span>-&gt;length();</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  Tagged&lt;Map&gt; map;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordtype">int</span> content_size;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <span class="keywordtype">int</span> allocation_size;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keyword">const</span> uint8_t* resource;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// Find the map and size for the imaginary sequential string.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordtype">bool</span> internalized = <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">if</span> (IsExternalOneByteString(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    map = internalized ? roots.internalized_one_byte_string_map()</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                       : roots.seq_one_byte_string_map();</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    allocation_size = <a class="code" href="classv8_1_1internal_1_1SeqOneByteString.html#a305f9c4ed0696be2e0a2ba84651cf0e3">SeqOneByteString::SizeFor</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    content_size = <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> * <a class="code" href="namespacev8_1_1internal.html#a3c5a1b85562d862c803870241deaed67">kCharSize</a>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    resource = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        Cast&lt;ExternalOneByteString&gt;(<span class="keywordtype">string</span>)-&gt;resource()-&gt;data());</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    map = internalized ? roots.internalized_two_byte_string_map()</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                       : roots.seq_two_byte_string_map();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    allocation_size = <a class="code" href="classv8_1_1internal_1_1SeqTwoByteString.html#a9ce7256ad3f049ab7c3be6b7e607ac55">SeqTwoByteString::SizeFor</a>(<a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    content_size = <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> * <a class="code" href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">kShortSize</a>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    resource = <span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        Cast&lt;ExternalTwoByteString&gt;(<span class="keywordtype">string</span>)-&gt;resource()-&gt;data());</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160; </div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a> = <a class="code" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9a0aa38c28f349d65a6819e03844b73dff">SnapshotSpace::kOld</a>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ad60ec9b31a65cd483a3f96e136213fde">SerializePrologue</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, allocation_size, map);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160; </div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="comment">// Output the rest of the imaginary string.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <span class="keywordtype">int</span> bytes_to_output = allocation_size - <a class="code" href="classv8_1_1internal_1_1HeapObject.html#a08d8b3cbf29c8d1287956c715df91faa">HeapObject::kHeaderSize</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(bytes_to_output, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordtype">int</span> slots_to_output = bytes_to_output &gt;&gt; <a class="code" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Output raw data header. Do not bother with common raw length cases here.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaf01d4f2c27bce53b7735c2ef41a4d4cb">kVariableRawData</a>, <span class="stringliteral">&quot;RawDataForString&quot;</span>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(slots_to_output, <span class="stringliteral">&quot;length&quot;</span>);</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// Serialize string header (except for map).</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  uint8_t* string_start = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(<span class="keywordtype">string</span>-&gt;address());</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = <span class="keyword">sizeof</span>(HeapObjectLayout); <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <span class="keyword">sizeof</span>(SeqString); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(string_start[<a class="code" href="namespacev8_1_1internal.html">i</a>], <span class="stringliteral">&quot;StringHeader&quot;</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="comment">// Serialize string content.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(resource, content_size, <span class="stringliteral">&quot;StringContent&quot;</span>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="comment">// Since the allocation size is rounded up to object alignment, there</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  <span class="comment">// maybe left-over bytes that need to be padded.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordtype">size_t</span> padding_size = allocation_size - <span class="keyword">sizeof</span>(SeqString) - content_size;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(0 &lt;= padding_size &amp;&amp; padding_size &lt; <a class="code" href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">kObjectAlignment</a>);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; padding_size; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(0), <span class="stringliteral">&quot;StringPadding&quot;</span>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_a08d8b3cbf29c8d1287956c715df91faa"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#a08d8b3cbf29c8d1287956c715df91faa">v8::internal::HeapObject::kHeaderSize</a></div><div class="ttdeci">static constexpr int kHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="heap-object_8h_source.html#l00499">heap-object.h:499</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqOneByteString_html_a305f9c4ed0696be2e0a2ba84651cf0e3"><div class="ttname"><a href="classv8_1_1internal_1_1SeqOneByteString.html#a305f9c4ed0696be2e0a2ba84651cf0e3">v8::internal::SeqOneByteString::SizeFor</a></div><div class="ttdeci">static constexpr int32_t SizeFor(int32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01359">string-inl.h:1359</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SeqTwoByteString_html_a9ce7256ad3f049ab7c3be6b7e607ac55"><div class="ttname"><a href="classv8_1_1internal_1_1SeqTwoByteString.html#a9ce7256ad3f049ab7c3be6b7e607ac55">v8::internal::SeqTwoByteString::SizeFor</a></div><div class="ttdeci">static constexpr int32_t SizeFor(int32_t length)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01364">string-inl.h:1364</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_ad60ec9b31a65cd483a3f96e136213fde"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ad60ec9b31a65cd483a3f96e136213fde">v8::internal::Serializer::ObjectSerializer::SerializePrologue</a></div><div class="ttdeci">void SerializePrologue(SnapshotSpace space, int size, Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00459">serializer.cc:459</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a087fd0337c14e102a4a2abccd41a39ad"><div class="ttname"><a href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available space</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02215">flag-definitions.h:2213</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_aa50b8d8a7e8d5da47c21d36be5b2a14d"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">v8::internal::InstanceTypeChecker::IsInternalizedString</a></div><div class="ttdeci">constexpr bool IsInternalizedString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00317">instance-type-inl.h:317</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a2ccec82573e05962ef54cab168895c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#a2ccec82573e05962ef54cab168895c2a">v8::internal::kObjectAlignment</a></div><div class="ttdeci">constexpr intptr_t kObjectAlignment</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00924">globals.h:924</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3c5a1b85562d862c803870241deaed67"><div class="ttname"><a href="namespacev8_1_1internal.html#a3c5a1b85562d862c803870241deaed67">v8::internal::kCharSize</a></div><div class="ttdeci">constexpr int kCharSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00397">globals.h:397</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a46b9a1b06854a0906e24b2eb20af28f9"><div class="ttname"><a href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">v8::internal::SnapshotSpace</a></div><div class="ttdeci">SnapshotSpace</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00018">references.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a46b9a1b06854a0906e24b2eb20af28f9a0aa38c28f349d65a6819e03844b73dff"><div class="ttname"><a href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9a0aa38c28f349d65a6819e03844b73dff">v8::internal::SnapshotSpace::kOld</a></div><div class="ttdeci">@ kOld</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae5fc7dfc0625c0d2a6bca971abf68365"><div class="ttname"><a href="namespacev8_1_1internal.html#ae5fc7dfc0625c0d2a6bca971abf68365">v8::internal::kShortSize</a></div><div class="ttdeci">constexpr int kShortSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00398">globals.h:398</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00199">v8::internal::Serializer::cage_base()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2macros_8h_source.html#l00403">IsAligned()</a>, <a class="el" href="instance-type-inl_8h_source.html#l00346">v8::internal::InstanceTypeChecker::IsExternalString()</a>, <a class="el" href="instance-type-inl_8h_source.html#l00317">v8::internal::InstanceTypeChecker::IsInternalizedString()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="common_2globals_8h_source.html#l00397">v8::internal::kCharSize</a>, <a class="el" href="heap-object_8h_source.html#l00499">v8::internal::HeapObject::kHeaderSize</a>, <a class="el" href="common_2globals_8h_source.html#l00924">v8::internal::kObjectAlignment</a>, <a class="el" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9a0aa38c28f349d65a6819e03844b73dff">v8::internal::kOld</a>, <a class="el" href="common_2globals_8h_source.html#l00398">v8::internal::kShortSize</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="common_2globals_8h_source.html#l00534">v8::internal::kTaggedSizeLog2</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00121">v8::internal::SerializerDeserializer::kVariableRawData</a>, <a class="el" href="external-reference_8cc_source.html#l01508">v8::internal::length</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00035">v8::internal::SnapshotByteSink::PutRaw()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00021">v8::internal::SnapshotByteSink::PutUint30()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, <a class="el" href="string-inl_8h_source.html#l01359">v8::internal::SeqOneByteString::SizeFor()</a>, <a class="el" href="string-inl_8h_source.html#l01364">v8::internal::SeqTwoByteString::SizeFor()</a>, and <a class="el" href="flag-definitions_8h_source.html#l02213">space</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_acb7a4d99767ca978dd60ca4ac819d513_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1104e122255b2a3f6e3f74ad2d9e3ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1104e122255b2a3f6e3f74ad2d9e3ce1">&#9670;&nbsp;</a></span>SerializeJSArrayBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeJSArrayBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00642">642</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                                                        {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  ArrayBufferExtension* extension;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordtype">void</span>* backing_store;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    Tagged&lt;JSArrayBuffer&gt; buffer = Cast&lt;JSArrayBuffer&gt;(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    backing_store = buffer-&gt;backing_store();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">// We cannot store byte_length or max_byte_length larger than uint32 range</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// in the snapshot.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">size_t</span> byte_length_size = buffer-&gt;GetByteLength();</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(byte_length_size, std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    uint32_t byte_length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(byte_length_size);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    Maybe&lt;uint32_t&gt; max_byte_length = Nothing&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(buffer-&gt;max_byte_length(), std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      max_byte_length = <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;max_byte_length()));</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    extension = buffer-&gt;extension();</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">// Only serialize non-empty backing stores.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">if</span> (buffer-&gt;IsEmpty()) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      buffer-&gt;SetBackingStoreRefForSerialization(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#ad335f581bf1259ead415e9dc008f1ca3">kEmptyBackingStoreRefSentinel</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      uint32_t ref =</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a2570840c8733789271b9ba8c0b098edd">SerializeBackingStore</a>(backing_store, byte_length, max_byte_length);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      buffer-&gt;SetBackingStoreRefForSerialization(ref);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="comment">// Ensure deterministic output by setting extension to null during</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="comment">// serialization.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    buffer-&gt;set_extension(<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">SerializeObject</a>();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    Tagged&lt;JSArrayBuffer&gt; buffer = Cast&lt;JSArrayBuffer&gt;(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    buffer-&gt;set_backing_store(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>(), backing_store);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    buffer-&gt;set_extension(extension);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_ad335f581bf1259ead415e9dc008f1ca3"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#ad335f581bf1259ead415e9dc008f1ca3">v8::internal::SerializerDeserializer::kEmptyBackingStoreRefSentinel</a></div><div class="ttdeci">static const uint32_t kEmptyBackingStoreRefSentinel</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00281">serializer-deserializer.h:281</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a2570840c8733789271b9ba8c0b098edd"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a2570840c8733789271b9ba8c0b098edd">v8::internal::Serializer::ObjectSerializer::SerializeBackingStore</a></div><div class="ttdeci">uint32_t SerializeBackingStore(void *backing_store, uint32_t byte_length, Maybe&lt; uint32_t &gt; max_byte_length)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00568">serializer.cc:568</a></div></div>
<div class="ttc" id="anamespacev8_html_a41f0e280eadfba6ac9afd833fdd540cf"><div class="ttname"><a href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">v8::Just</a></div><div class="ttdeci">Maybe&lt; T &gt; Just(const T &amp;t)</div><div class="ttdef"><b>Definition:</b> <a href="v8-maybe_8h_source.html#l00126">v8-maybe.h:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="v8-maybe_8h_source.html#l00126">v8::Just()</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00281">v8::internal::SerializerDeserializer::kEmptyBackingStoreRefSentinel</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, and <a class="el" href="serializer_8cc_source.html#l00161">v8::internal::Serializer::SerializeObject()</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a1104e122255b2a3f6e3f74ad2d9e3ce1_cgraph.svg" width="100%" height="476"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ace1c954fbca6c4a9271b09b4a2c52a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1c954fbca6c4a9271b09b4a2c52a0f">&#9670;&nbsp;</a></span>SerializeJSTypedArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeJSTypedArray </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00600">600</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                                       {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    Tagged&lt;JSTypedArray&gt; typed_array = Cast&lt;JSTypedArray&gt;(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">if</span> (typed_array-&gt;is_on_heap()) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      typed_array-&gt;RemoveExternalPointerCompensationForSerialization(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">if</span> (!typed_array-&gt;IsDetachedOrOutOfBounds()) {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="comment">// Explicitly serialize the backing store now.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        Tagged&lt;JSArrayBuffer&gt; buffer =</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            Cast&lt;JSArrayBuffer&gt;(typed_array-&gt;buffer());</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="comment">// We cannot store byte_length or max_byte_length larger than uint32</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="comment">// range in the snapshot.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordtype">size_t</span> byte_length_size = buffer-&gt;GetByteLength();</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(byte_length_size,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                 <span class="keywordtype">size_t</span>{std::numeric_limits&lt;uint32_t&gt;::max()});</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        uint32_t byte_length = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(byte_length_size);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        Maybe&lt;uint32_t&gt; max_byte_length = Nothing&lt;uint32_t&gt;();</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">if</span> (buffer-&gt;is_resizable_by_js()) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>(buffer-&gt;max_byte_length(),</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                   std::numeric_limits&lt;uint32_t&gt;::max());</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;          max_byte_length =</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;              <a class="code" href="namespacev8.html#a41f0e280eadfba6ac9afd833fdd540cf">Just</a>(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(buffer-&gt;max_byte_length()));</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordtype">size_t</span> byte_offset = typed_array-&gt;byte_offset();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="comment">// We need to calculate the backing store from the data pointer</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">// because the ArrayBuffer may already have been serialized.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordtype">void</span>* backing_store = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a><span class="keyword">&gt;</span>(typed_array-&gt;DataPtr()) - byte_offset);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        uint32_t ref =</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a2570840c8733789271b9ba8c0b098edd">SerializeBackingStore</a>(backing_store, byte_length, max_byte_length);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        typed_array-&gt;SetExternalBackingStoreRefForSerialization(ref);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        typed_array-&gt;SetExternalBackingStoreRefForSerialization(0);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a0abcc7d2448a3dfe6735d678038c5a9c">SerializeObject</a>();</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h.html#a56e883b55c80205b4d1727679c68b2bd">CHECK_LE</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="v8-maybe_8h_source.html#l00126">v8::Just()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, and <a class="el" href="serializer_8cc_source.html#l00161">v8::internal::Serializer::SerializeObject()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_ace1c954fbca6c4a9271b09b4a2c52a0f_cgraph.svg" width="100%" height="476"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0abcc7d2448a3dfe6735d678038c5a9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0abcc7d2448a3dfe6735d678038c5a9c">&#9670;&nbsp;</a></span>SerializeObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializeObject </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00911">911</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                                                 {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  Tagged&lt;Map&gt; map = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;map(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>());</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;SizeFromMap(map);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="comment">// Descriptor arrays have complex element weakness, that is dependent on the</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// maps pointing to them. During deserialization, this can cause them to get</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="comment">// prematurely trimmed if one of their owners isn&#39;t deserialized yet. We work</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// around this by forcing all descriptor arrays to be serialized as &quot;strong&quot;,</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// i.e. no custom weakness, and &quot;re-weaken&quot; them in the deserializer once</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// deserialization completes.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">// See also `Deserializer::WeakenDescriptorArrays`.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">if</span> (map == ReadOnlyRoots(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()).descriptor_array_map()) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    map = ReadOnlyRoots(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()).strong_descriptor_array_map();</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  }</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a> <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a145fd533b1001b530d79f77c9f6d75e7">GetSnapshotSpace</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ad60ec9b31a65cd483a3f96e136213fde">SerializePrologue</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, map);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="comment">// Serialize the rest of the object.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(0, <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a>);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> = <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; </div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a03da81c82477a2de4f6b3eed13f6adb2">SerializeContent</a>(map, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a03da81c82477a2de4f6b3eed13f6adb2"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a03da81c82477a2de4f6b3eed13f6adb2">v8::internal::Serializer::ObjectSerializer::SerializeContent</a></div><div class="ttdeci">void SerializeContent(Tagged&lt; Map &gt; map, int size)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00955">serializer.cc:955</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03_html_a145fd533b1001b530d79f77c9f6d75e7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02serializer_8cc_03.html#a145fd533b1001b530d79f77c9f6d75e7">v8::internal::anonymous_namespace{serializer.cc}::GetSnapshotSpace</a></div><div class="ttdeci">SnapshotSpace GetSnapshotSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00868">serializer.cc:868</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>, <a class="el" href="serializer_8cc_source.html#l00868">v8::internal::anonymous_namespace{serializer.cc}::GetSnapshotSpace()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, and <a class="el" href="flag-definitions_8h_source.html#l02213">space</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a0abcc7d2448a3dfe6735d678038c5a9c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ad60ec9b31a65cd483a3f96e136213fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60ec9b31a65cd483a3f96e136213fde">&#9670;&nbsp;</a></span>SerializePrologue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::SerializePrologue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9">SnapshotSpace</a>&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Map.html">Map</a> &gt;&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00459">459</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                                      {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a28e18a9bf821675e07668308b9b53360">code_address_map_</a>) {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* code_name =</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a28e18a9bf821675e07668308b9b53360">code_address_map_</a>-&gt;Lookup(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;address());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a2a0bb475a79a6094294882195dd6cb86">isolate_</a>,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        CodeNameEvent(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;address(), <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#abf237b5f3107f50f0a0135296b81a547">Position</a>(), code_name));</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">if</span> (map.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a2f2dd9d2a3a33b75e7510a58b0bde9a5">SafeEquals</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (map == ReadOnlyRoots(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()).meta_map()) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9ad5a5a11a80b7f8e16b8764ceaf28ef4f">SnapshotSpace::kReadOnlyHeap</a>);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa3082db5e07900e2466185da922ec4f0a">kNewContextlessMetaMap</a>, <span class="stringliteral">&quot;NewContextlessMetaMap&quot;</span>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9a0aa38c28f349d65a6819e03844b73dff">SnapshotSpace::kOld</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsContext(map-&gt;native_context_or_null()));</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa7d7d8539e27e35f7cdfbc72597d33549">kNewContextfulMetaMap</a>, <span class="stringliteral">&quot;NewContextfulMetaMap&quot;</span>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="comment">// Defer serialization of the native context in order to break</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="comment">// a potential cycle through the map slot:</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      <span class="comment">//   MAP -&gt; meta map -&gt; NativeContext -&gt; ... -&gt; MAP</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="comment">// Otherwise it&#39;ll be a &quot;forward ref to a map&quot; problem: deserializer</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">// will not be able to create {obj} because {MAP} is not deserialized yet.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ae44d0639e4ecf84b0482188184d90096">Tagged&lt;NativeContext&gt;</a> <a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a> = map-&gt;native_context();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      <span class="comment">// Sanity check - the native context must not be serialized yet since</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="comment">// it has a contextful map and thus the respective meta map must be</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <span class="comment">// serialized first. So we don&#39;t have to search the native context</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      <span class="comment">// among the back refs before adding it to the deferred queue.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab4adc406444c061849e8278b866cfd68">LookupReference</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aaab187ee8dff2f40020c9645e8d929b2">forward_refs_per_pending_object_</a>.Find(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>)) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a346eaeae49ddf1454352cc086479f239">RegisterObjectIsPending</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a64ca013ab3ee2ef8ec9e342771b07528">QueueDeferredObject</a>(<a class="code" href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">native_context</a>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      }</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, Map::kSize);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="structv8_1_1internal_1_1SerializerDeserializer_1_1BytecodeValueEncoder.html#a4afcfde449a17208625abcd6eddafa6c">NewObject::Encode</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>), <span class="stringliteral">&quot;NewObject&quot;</span>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// TODO(leszeks): Skip this when the map has a fixed size.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> &gt;&gt; <a class="code" href="namespacev8_1_1internal.html#aeb44daf78b4adf972ac5fda3c4561eff">kObjectAlignmentBits</a>, <span class="stringliteral">&quot;ObjectSizeInWords&quot;</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// Until the space for the object is allocated, it is considered &quot;pending&quot;.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a346eaeae49ddf1454352cc086479f239">RegisterObjectIsPending</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// Serialize map (first word of the object) before anything else, so that</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// the deserializer can access it when allocating. Make sure that the map</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">// is known to be being serialized for the map slot, so that it is not</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// deferred.</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsMap(map));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">SerializeObject</a>(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(map, <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()), <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a9375a2b08f71c7d5a3e6c94913fa42a8">SlotType::kMapSlot</a>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// Make sure the map serialization didn&#39;t accidentally recursively serialize</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// this object.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        !<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ae8c6b9a163d72fe7883c33852fbb5ce0">IsNotMappedSymbol</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>),</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab4adc406444c061849e8278b866cfd68">LookupReference</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>) == <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">// To support deserializing pending objects referenced through indirect</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">// pointers, we need to make sure that the &#39;self&#39; indirect pointer is</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="comment">// initialized before the pending reference is resolved. Otherwise, the</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// object cannot be referenced.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a> &amp;&amp; IsExposedTrustedObject(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aafc3d021223d179401260d5d10e753cf1">kInitializeSelfIndirectPointer</a>,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                 <span class="stringliteral">&quot;InitializeSelfIndirectPointer&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Now that the object is allocated, we can resolve pending references to</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// it.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a2cd9731c34318384e8a047035bb5e3dd">ResolvePendingObject</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.serialization_statistics) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a6990199dd4c6d6d70fc43dfba49d1404">CountAllocation</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;map(), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="comment">// The snapshot should only contain internalized strings (since these end up</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="comment">// in RO space). If this DCHECK fails, allocate the object_ String through</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="comment">// Factory::InternalizeString instead.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// TODO(jgruber,v8:13789): Try to enable this DCHECK once custom snapshots</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// can extend RO space. We may have to do a pass over the heap prior to</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// serialization that in-place converts all strings to internalized strings.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="comment">// DCHECK_IMPLIES(object_-&gt;IsString(), object_-&gt;IsInternalizedString());</span></div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="comment">// Mark this object as already serialized, and add it to the reference map so</span></div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="comment">// that it can be accessed by backreference by future objects.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a9e9f38991986dacae444308819631d24">num_back_refs_</a>++;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;back_refs_.Push(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;back_refs_.size(), <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a9e9f38991986dacae444308819631d24">num_back_refs_</a>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ae8c6b9a163d72fe7883c33852fbb5ce0">IsNotMappedSymbol</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">// Only add the object to the map if it&#39;s not not_mapped_symbol, else</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="comment">// the reference IdentityMap has issues. We don&#39;t expect to have back</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="comment">// references to the not_mapped_symbol anyway, so it&#39;s fine.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    SerializerReference back_reference =</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="classv8_1_1internal_1_1SerializerReference.html#a0d749f5d69f3adaeea1e0c040743f5e2">SerializerReference::BackReference</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a9e9f38991986dacae444308819631d24">num_back_refs_</a> - 1);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab033e609739681f891ca42c6f7e25e30">Add</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>, back_reference);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(*<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>,</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;              *<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;back_refs_[back_reference.back_ref_index()]);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(back_reference.back_ref_index(), <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#aa5fc7dd5cdc84a3ff41bcc9287cb09d0">reference_map</a>()</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                                                   -&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab4adc406444c061849e8278b866cfd68">LookupReference</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>)</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                                                   -&gt;<a class="code" href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">back_ref_index</a>());</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa3082db5e07900e2466185da922ec4f0a"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa3082db5e07900e2466185da922ec4f0a">v8::internal::SerializerDeserializer::kNewContextlessMetaMap</a></div><div class="ttdeci">@ kNewContextlessMetaMap</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00148">serializer-deserializer.h:148</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa7d7d8539e27e35f7cdfbc72597d33549"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa7d7d8539e27e35f7cdfbc72597d33549">v8::internal::SerializerDeserializer::kNewContextfulMetaMap</a></div><div class="ttdeci">@ kNewContextfulMetaMap</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00149">serializer-deserializer.h:149</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aafc3d021223d179401260d5d10e753cf1"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aafc3d021223d179401260d5d10e753cf1">v8::internal::SerializerDeserializer::kInitializeSelfIndirectPointer</a></div><div class="ttdeci">@ kInitializeSelfIndirectPointer</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00160">serializer-deserializer.h:160</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a108b70a5e6f10e237fd67e9ccb692c91a9375a2b08f71c7d5a3e6c94913fa42a8"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a9375a2b08f71c7d5a3e6c94913fa42a8">v8::internal::SerializerDeserializer::SlotType::kMapSlot</a></div><div class="ttdeci">@ kMapSlot</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReferenceMap_html_ab033e609739681f891ca42c6f7e25e30"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReferenceMap.html#ab033e609739681f891ca42c6f7e25e30">v8::internal::SerializerReferenceMap::Add</a></div><div class="ttdeci">void Add(Tagged&lt; HeapObject &gt; object, SerializerReference reference)</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00123">references.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_a0d749f5d69f3adaeea1e0c040743f5e2"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#a0d749f5d69f3adaeea1e0c040743f5e2">v8::internal::SerializerReference::BackReference</a></div><div class="ttdeci">static SerializerReference BackReference(uint32_t index)</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00039">references.h:39</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerReference_html_ae97c004f964d6aeb33e0659d36757c2f"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerReference.html#ae97c004f964d6aeb33e0659d36757c2f">v8::internal::SerializerReference::back_ref_index</a></div><div class="ttdeci">uint32_t back_ref_index() const</div><div class="ttdef"><b>Definition:</b> <a href="references_8h_source.html#l00059">references.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a28e18a9bf821675e07668308b9b53360"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a28e18a9bf821675e07668308b9b53360">v8::internal::Serializer::code_address_map_</a></div><div class="ttdeci">std::unique_ptr&lt; CodeAddressMap &gt; code_address_map_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00402">serializer.h:402</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a2a0bb475a79a6094294882195dd6cb86"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a2a0bb475a79a6094294882195dd6cb86">v8::internal::Serializer::isolate_</a></div><div class="ttdeci">Isolate * isolate_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00394">serializer.h:394</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a2cd9731c34318384e8a047035bb5e3dd"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a2cd9731c34318384e8a047035bb5e3dd">v8::internal::Serializer::ResolvePendingObject</a></div><div class="ttdeci">void ResolvePendingObject(Tagged&lt; HeapObject &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00408">serializer.cc:408</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a6990199dd4c6d6d70fc43dfba49d1404"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a6990199dd4c6d6d70fc43dfba49d1404">v8::internal::Serializer::CountAllocation</a></div><div class="ttdeci">void CountAllocation(Tagged&lt; Map &gt; map, int size, SnapshotSpace space)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00067">serializer.cc:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a9e9f38991986dacae444308819631d24"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a9e9f38991986dacae444308819631d24">v8::internal::Serializer::num_back_refs_</a></div><div class="ttdeci">int num_back_refs_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00406">serializer.h:406</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_ad06db6eb2818b2b15a4ab94c427c12a6"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">v8::internal::Serializer::SerializeObject</a></div><div class="ttdeci">void SerializeObject(Handle&lt; HeapObject &gt; o, SlotType slot_type)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00161">serializer.cc:161</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_ae8c6b9a163d72fe7883c33852fbb5ce0"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#ae8c6b9a163d72fe7883c33852fbb5ce0">v8::internal::Serializer::IsNotMappedSymbol</a></div><div class="ttdeci">bool IsNotMappedSymbol(Tagged&lt; HeapObject &gt; obj) const</div><div class="ttdef"><b>Definition:</b> <a href="serializer-inl_8h_source.html#l00016">serializer-inl.h:16</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SnapshotByteSink_html_abf237b5f3107f50f0a0135296b81a547"><div class="ttname"><a href="classv8_1_1internal_1_1SnapshotByteSink.html#abf237b5f3107f50f0a0135296b81a547">v8::internal::SnapshotByteSink::Position</a></div><div class="ttdeci">int Position() const</div><div class="ttdef"><b>Definition:</b> <a href="snapshot-source-sink_8h_source.html#l00147">snapshot-source-sink.h:147</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a2f2dd9d2a3a33b75e7510a58b0bde9a5"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a2f2dd9d2a3a33b75e7510a58b0bde9a5">v8::internal::TaggedImpl::SafeEquals</a></div><div class="ttdeci">constexpr bool SafeEquals(TaggedImpl&lt; kOtherRefType, StorageType &gt; other) const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00089">tagged-impl.h:89</a></div></div>
<div class="ttc" id="alog_8h_html_a146099bfe6b228d314fa3c784c56feec"><div class="ttname"><a href="log_8h.html#a146099bfe6b228d314fa3c784c56feec">LOG</a></div><div class="ttdeci">#define LOG(isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00078">log.h:78</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a46b9a1b06854a0906e24b2eb20af28f9ad5a5a11a80b7f8e16b8764ceaf28ef4f"><div class="ttname"><a href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9ad5a5a11a80b7f8e16b8764ceaf28ef4f">v8::internal::SnapshotSpace::kReadOnlyHeap</a></div><div class="ttdeci">@ kReadOnlyHeap</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae44d0639e4ecf84b0482188184d90096"><div class="ttname"><a href="namespacev8_1_1internal.html#ae44d0639e4ecf84b0482188184d90096">v8::internal::Tagged&lt; NativeContext &gt;</a></div><div class="ttdeci">!IsContextMap !IsContextMap Tagged&lt; NativeContext &gt;</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00896">map-inl.h:896</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aeb44daf78b4adf972ac5fda3c4561eff"><div class="ttname"><a href="namespacev8_1_1internal.html#aeb44daf78b4adf972ac5fda3c4561eff">v8::internal::kObjectAlignmentBits</a></div><div class="ttdeci">constexpr int kObjectAlignmentBits</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00923">globals.h:923</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afe601ad9b4b4c61d8a6a700e7db12c2a"><div class="ttname"><a href="namespacev8_1_1internal.html#afe601ad9b4b4c61d8a6a700e7db12c2a">v8::internal::native_context</a></div><div class="ttdeci">!IsContextMap !IsContextMap native_context</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00896">map-inl.h:896</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="references_8h_source.html#l00123">v8::internal::SerializerReferenceMap::Add()</a>, <a class="el" href="references_8h_source.html#l00059">v8::internal::SerializerReference::back_ref_index()</a>, <a class="el" href="references_8h_source.html#l00039">v8::internal::SerializerReference::BackReference()</a>, <a class="el" href="serializer_8h_source.html#l00402">v8::internal::Serializer::code_address_map_</a>, <a class="el" href="serializer_8cc_source.html#l00067">v8::internal::Serializer::CountAllocation()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00492">DCHECK_IMPLIES</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00490">DCHECK_NULL</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00210">v8::internal::SerializerDeserializer::BytecodeValueEncoder&lt; kBytecode, kMinValue, kMaxValue, TValue &gt;::Encode()</a>, <a class="el" href="serializer_8h_source.html#l00425">v8::internal::Serializer::forward_refs_per_pending_object_</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="serializer-inl_8h_source.html#l00016">v8::internal::Serializer::IsNotMappedSymbol()</a>, <a class="el" href="serializer_8h_source.html#l00508">isolate()</a>, <a class="el" href="serializer_8h_source.html#l00394">v8::internal::Serializer::isolate_</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00160">v8::internal::SerializerDeserializer::kInitializeSelfIndirectPointer</a>, <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a9375a2b08f71c7d5a3e6c94913fa42a8">v8::internal::SerializerDeserializer::kMapSlot</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00149">v8::internal::SerializerDeserializer::kNewContextfulMetaMap</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00148">v8::internal::SerializerDeserializer::kNewContextlessMetaMap</a>, <a class="el" href="common_2globals_8h_source.html#l00923">v8::internal::kObjectAlignmentBits</a>, <a class="el" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9a0aa38c28f349d65a6819e03844b73dff">v8::internal::kOld</a>, <a class="el" href="namespacev8_1_1internal.html#a46b9a1b06854a0906e24b2eb20af28f9ad5a5a11a80b7f8e16b8764ceaf28ef4f">v8::internal::kReadOnlyHeap</a>, <a class="el" href="log_8h_source.html#l00078">LOG</a>, <a class="el" href="references_8h_source.html#l00108">v8::internal::SerializerReferenceMap::LookupReference()</a>, <a class="el" href="map-inl_8h_source.html#l00896">v8::internal::native_context</a>, <a class="el" href="serializer_8h_source.html#l00406">v8::internal::Serializer::num_back_refs_</a>, <a class="el" href="serializer_8h_source.html#l00528">object_</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00147">v8::internal::SnapshotByteSink::Position()</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00021">v8::internal::SnapshotByteSink::PutUint30()</a>, <a class="el" href="serializer_8h_source.html#l00296">v8::internal::Serializer::QueueDeferredObject()</a>, <a class="el" href="serializer_8h_source.html#l00320">v8::internal::Serializer::reference_map()</a>, <a class="el" href="serializer_8cc_source.html#l00391">v8::internal::Serializer::RegisterObjectIsPending()</a>, <a class="el" href="serializer_8cc_source.html#l00408">v8::internal::Serializer::ResolvePendingObject()</a>, <a class="el" href="tagged-impl_8h_source.html#l00089">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::SafeEquals()</a>, <a class="el" href="serializer_8cc_source.html#l00161">v8::internal::Serializer::SerializeObject()</a>, <a class="el" href="serializer_8h_source.html#l00527">serializer_</a>, <a class="el" href="serializer_8h_source.html#l00529">sink_</a>, <a class="el" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size()</a>, <a class="el" href="flag-definitions_8h_source.html#l02213">space</a>, <a class="el" href="common_2globals_8h_source.html#l00168">V8_ENABLE_SANDBOX_BOOL</a>, and <a class="el" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_ad60ec9b31a65cd483a3f96e136213fde_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab47625176ff4525fab2fd51f836c6668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab47625176ff4525fab2fd51f836c6668">&#9670;&nbsp;</a></span>VisitCodeTarget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitCodeTarget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a3b2f668c2ccd1f79b04d066d1eceab68">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01068">1068</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                                                      {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_ab47625176ff4525fab2fd51f836c6668_cgraph.svg" width="504" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac0505bf1897edef3ec95d2ceb64109f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0505bf1897edef3ec95d2ceb64109f2">&#9670;&nbsp;</a></span>VisitCppHeapPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitCppHeapPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1CppHeapPointerSlot.html">CppHeapPointerSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a73df33dc979452a24f5e86609aaad886">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01131">1131</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                                                      {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  PtrComprCageBase <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">// Currently there&#39;s only very limited support for CppHeapPointerSlot</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="comment">// serialization as it&#39;s only used for API wrappers.</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="comment">// We serialize the slot as initialized-but-unused slot.  The actual API</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// wrapper serialization is implemented in</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  <span class="comment">// `ContextSerializer::SerializeApiWrapperFields()`.</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsJSApiWrapperObjectMap(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;map(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)));</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a> % <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a> == 0);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <a class="code" href="structv8_1_1internal_1_1SerializerDeserializer_1_1BytecodeValueEncoder.html#a4afcfde449a17208625abcd6eddafa6c">FixedRawDataWithSize::Encode</a>(<a class="code" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a> &gt;&gt; <a class="code" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>),</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      <span class="stringliteral">&quot;FixedRawData&quot;</span>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#ad93d2ad1d56393d7d265886b92b58cd6">PutRaw</a>(<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint8_t*<span class="keyword">&gt;</span>(&amp;<a class="code" href="namespacev8_1_1internal.html#a57a373e86870b2b1e197193963523409">kNullCppHeapPointer</a>),</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a>, <span class="stringliteral">&quot;empty cpp heap pointer handle&quot;</span>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">kCppHeapPointerSlotSize</a>;</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57a373e86870b2b1e197193963523409"><div class="ttname"><a href="namespacev8_1_1internal.html#a57a373e86870b2b1e197193963523409">v8::internal::kNullCppHeapPointer</a></div><div class="ttdeci">constexpr CppHeapPointer_t kNullCppHeapPointer</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00394">v8-internal.h:394</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab019f91902194a522ac883098c98f69d"><div class="ttname"><a href="namespacev8_1_1internal.html#ab019f91902194a522ac883098c98f69d">v8::internal::kCppHeapPointerSlotSize</a></div><div class="ttdeci">constexpr int kCppHeapPointerSlotSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00613">globals.h:613</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="serializer_8h_source.html#l00199">v8::internal::Serializer::cage_base()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00210">v8::internal::SerializerDeserializer::BytecodeValueEncoder&lt; kBytecode, kMinValue, kMaxValue, TValue &gt;::Encode()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="common_2globals_8h_source.html#l00613">v8::internal::kCppHeapPointerSlotSize</a>, <a class="el" href="v8-internal_8h_source.html#l00394">v8::internal::kNullCppHeapPointer</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="common_2globals_8h_source.html#l00534">v8::internal::kTaggedSizeLog2</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00035">v8::internal::SnapshotByteSink::PutRaw()</a>, and <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>.</p>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_ac0505bf1897edef3ec95d2ceb64109f2_cgraph.svg" width="100%" height="585"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6becbb8b20368418e6bbb44a78f9f4b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6becbb8b20368418e6bbb44a78f9f4b8">&#9670;&nbsp;</a></span>VisitEmbeddedPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitEmbeddedPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a35467803ff9fb5ef6248239a7e86a4c0">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01048">1048</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                                                      {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a6becbb8b20368418e6bbb44a78f9f4b8_cgraph.svg" width="500" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6de87c7de13d21ab1128d59bfa818d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6de87c7de13d21ab1128d59bfa818d28">&#9670;&nbsp;</a></span>VisitExternalPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitExternalPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1ExternalPointerSlot.html">ExternalPointerSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a5f60b14a8e3408a5dc8fdb0412f2e556">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01150">1150</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                                                       {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  PtrComprCageBase <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a9312a9fc987dba9376a530956f94e8fe">InstanceType</a> instance_type = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a7443d3cc9c144907bac8b8cf9c2c4951">object_</a>-&gt;map(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)-&gt;instance_type();</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordflow">if</span> (InstanceTypeChecker::IsForeign(instance_type) ||</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;      InstanceTypeChecker::IsJSExternalObject(instance_type) ||</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      InstanceTypeChecker::IsAccessorInfo(instance_type) ||</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      InstanceTypeChecker::IsInterceptorInfo(instance_type) ||</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      InstanceTypeChecker::IsFunctionTemplateInfo(instance_type)) {</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;    <span class="comment">// Output raw data payload, if any.</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a>(slot.address());</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ab4955debfb9384e59e3d4e9fcab5b0a0">Address</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = slot.load(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="comment">// We need to load the actual tag from the table here since the slot may</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <span class="comment">// use a generic tag (e.g. kAnyExternalPointerTag) if the concrete tag is</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="comment">// unknown by the visitor (for example the case for Foreigns).</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aba548aae398799ae5ad2a11ff110178b">ExternalPointerHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> = slot.Relaxed_LoadHandle();</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> tag = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>()-&gt;external_pointer_table().GetTag(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">ExternalPointerTag</a> tag = <a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9e97412171740e65d15dfb935887e306">kExternalPointerNullTag</a>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> sandboxify = <a class="code" href="common_2globals_8h.html#a9fbe5720e523e0d3c9202480f33405d7">V8_ENABLE_SANDBOX_BOOL</a>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a97f3b97571ccc36318a4f69dd5c62311">OutputExternalReference</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>, sandboxify, tag);</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a961d4936b006deb497460eb9ab4a882a">kExternalPointerSlotSize</a>;</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="comment">// Serialization of external references in other objects is handled</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="comment">// elsewhere or not supported.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="comment">// Serialization of external pointers stored in EmbedderDataArray</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="comment">// is not supported yet, mostly because it&#39;s not used.</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        InstanceTypeChecker::IsEmbedderDataArray(instance_type) ||</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="comment">// See ObjectSerializer::SerializeJSTypedArray().</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        InstanceTypeChecker::IsJSTypedArray(instance_type) ||</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">// See ObjectSerializer::SerializeJSArrayBuffer().</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        InstanceTypeChecker::IsJSArrayBuffer(instance_type) ||</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <span class="comment">// See ObjectSerializer::SerializeExternalString().</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">InstanceTypeChecker::IsExternalString</a>(instance_type) ||</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <span class="comment">// See ObjectSerializer::SanitizeNativeContextScope.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        InstanceTypeChecker::IsNativeContext(instance_type) ||</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="comment">// Serialization of external pointers stored in</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="comment">// JSSynchronizationPrimitive is not supported.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <span class="comment">// TODO(v8:12547): JSSynchronizationPrimitives should also be sanitized</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="comment">// to always be serialized in an unlocked state.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        InstanceTypeChecker::IsJSSynchronizationPrimitive(instance_type) ||</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="comment">// See ContextSerializer::SerializeObjectWithEmbedderFields().</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        (InstanceTypeChecker::IsJSObject(instance_type) &amp;&amp;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;         Cast&lt;JSObject&gt;(host)-&gt;GetEmbedderFieldCount() &gt; 0));</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  }</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a97f3b97571ccc36318a4f69dd5c62311"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a97f3b97571ccc36318a4f69dd5c62311">v8::internal::Serializer::ObjectSerializer::OutputExternalReference</a></div><div class="ttdeci">void OutputExternalReference(Address target, int target_size, bool sandboxify, ExternalPointerTag tag)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l01073">serializer.cc:1073</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a961d4936b006deb497460eb9ab4a882a"><div class="ttname"><a href="namespacev8_1_1internal.html#a961d4936b006deb497460eb9ab4a882a">v8::internal::kExternalPointerSlotSize</a></div><div class="ttdeci">constexpr int kExternalPointerSlotSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00604">globals.h:604</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbc"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbc">v8::internal::ExternalPointerTag</a></div><div class="ttdeci">ExternalPointerTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00552">v8-internal.h:552</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aba548aae398799ae5ad2a11ff110178b"><div class="ttname"><a href="namespacev8_1_1internal.html#aba548aae398799ae5ad2a11ff110178b">v8::internal::ExternalPointerHandle</a></div><div class="ttdeci">uint32_t ExternalPointerHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00363">v8-internal.h:363</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="slots_8h_source.html#l00078">v8::internal::SlotBase&lt; Subclass, Data, SlotDataAlignment &gt;::address()</a>, <a class="el" href="serializer_8h_source.html#l00199">v8::internal::Serializer::cage_base()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="instance-type-inl_8h_source.html#l00346">v8::internal::InstanceTypeChecker::IsExternalString()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="v8-internal_8h_source.html#l00554">v8::internal::kExternalPointerNullTag</a>, <a class="el" href="common_2globals_8h_source.html#l00604">v8::internal::kExternalPointerSlotSize</a>, <a class="el" href="common_2globals_8h_source.html#l00411">v8::internal::kSystemPointerSize</a>, <a class="el" href="slots-inl_8h_source.html#l00237">v8::internal::ExternalPointerSlot::load()</a>, <a class="el" href="common_2globals_8h_source.html#l00168">V8_ENABLE_SANDBOX_BOOL</a>, and <a class="el" href="map-inl_8h_source.html#l00912">v8::internal::value</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a6de87c7de13d21ab1128d59bfa818d28_cgraph.svg" width="100%" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a1edbce9485a6a24c165d4ca8ac8de148"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1edbce9485a6a24c165d4ca8ac8de148">&#9670;&nbsp;</a></span>VisitExternalReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitExternalReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *&#160;</td>
          <td class="paramname"><em>rinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a3b08b8402bd935a7c4e763c7a84543ac">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01053">1053</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                                                      {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a1edbce9485a6a24c165d4ca8ac8de148_cgraph.svg" width="486" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a7d92b940acfc951419054ba579ed80b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d92b940acfc951419054ba579ed80b7">&#9670;&nbsp;</a></span>VisitIndirectPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitIndirectPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">IndirectPointerMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a53fd10bf72ebca8d3025857f6d45c50f">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01200">1200</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                              {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// If the slot is empty (i.e. contains a null handle), then we can just skip</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// it since in that case the correct action is to encode the null handle as</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// raw data, which will automatically happen if the slot is skipped here.</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">if</span> (slot.IsEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160; </div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">// If necessary, output any raw data preceding this slot.</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a>(slot.address());</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="comment">// The slot must be properly initialized at this point, so will always contain</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="comment">// a reference to a HeapObject.</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;  Handle&lt;HeapObject&gt; slot_value(Cast&lt;HeapObject&gt;(slot.load(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>())),</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(*slot_value));</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">kIndirectPointerSize</a>;</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160; </div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;  <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">SerializePendingObject</a>(*slot_value));</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa509f4219842eebc5c97c96183b611772">kIndirectPointerPrefix</a>, <span class="stringliteral">&quot;IndirectPointer&quot;</span>);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">SerializeObject</a>(slot_value, <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">SlotType::kAnySlot</a>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa509f4219842eebc5c97c96183b611772"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa509f4219842eebc5c97c96183b611772">v8::internal::SerializerDeserializer::kIndirectPointerPrefix</a></div><div class="ttdeci">@ kIndirectPointerPrefix</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00153">serializer-deserializer.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a12cc0c154fdab6e4aa55bc136dbc114e"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">v8::internal::Serializer::SerializePendingObject</a></div><div class="ttdeci">bool SerializePendingObject(Tagged&lt; HeapObject &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00264">serializer.cc:264</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0786c89c1004cb964dc034b138b263fd"><div class="ttname"><a href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">v8::internal::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00670">objects.h:670</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="slots_8h_source.html#l00078">v8::internal::SlotBase&lt; Subclass, Data, SlotDataAlignment &gt;::address()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="slots-inl_8h_source.html#l00427">v8::internal::IndirectPointerSlot::IsEmpty()</a>, <a class="el" href="objects_8h_source.html#l00670">v8::internal::IsHeapObject()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::kAnySlot</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00153">v8::internal::SerializerDeserializer::kIndirectPointerPrefix</a>, <a class="el" href="common_2globals_8h_source.html#l00620">v8::internal::kIndirectPointerSize</a>, <a class="el" href="slots-inl_8h_source.html#l00360">v8::internal::IndirectPointerSlot::load()</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, and <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a7d92b940acfc951419054ba579ed80b7_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a02490f72325d234a359937032fa0cdb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02490f72325d234a359937032fa0cdb7">&#9670;&nbsp;</a></span>VisitInstructionStreamPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitInstructionStreamPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1Code.html">Code</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#ab2a51a653a4864c3feda71605aadf6ca">InstructionStreamSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#ac6173a8b62893a92009e3dbfd1b2fced">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01041">1041</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                                                   {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!host-&gt;has_instruction_stream());</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a02490f72325d234a359937032fa0cdb7_cgraph.svg" width="456" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab700f495d152fb78c1733c887e05864b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab700f495d152fb78c1733c887e05864b">&#9670;&nbsp;</a></span>VisitInternalReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitInternalReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *&#160;</td>
          <td class="paramname"><em>rinfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#abf5ed2db34652fa6675e37b920fcd650">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01058">1058</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                                                      {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_ab700f495d152fb78c1733c887e05864b_cgraph.svg" width="482" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1f4393b550c0d2b769ff09282bf9a16d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4393b550c0d2b769ff09282bf9a16d">&#9670;&nbsp;</a></span>VisitJSDispatchTableEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitJSDispatchTableEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#ae8f086a5ae078a9752085a6b967a135c">JSDispatchHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a857c0cb554569c6e6ec74644d8cff12f">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01297">1297</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                                      {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  JSDispatchTable* jdt = <a class="code" href="classv8_1_1internal_1_1IsolateGroup.html#a3ca6c5d3f2b884f5866595543d2e0fd7">IsolateGroup::current</a>()-&gt;js_dispatch_table();</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="comment">// If the slot is empty, we will skip it here and then just serialize the</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="comment">// null handle as raw data.</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> == <a class="code" href="namespacev8_1_1internal.html#a81b2771da9cb582ba5af3c4bbb0714b8">kNullJSDispatchHandle</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160; </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="comment">// TODO(saelo): we might want to call OutputRawData here, but for that we</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="comment">// first need to pass the slot address to this method (e.g. as part of a</span></div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="comment">// JSDispatchHandleSlot struct).</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="preprocessor">#if !defined(V8_COMPRESS_POINTERS) &amp;&amp; defined(V8_TARGET_ARCH_64_BIT)</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  static_assert(<a class="code" href="namespacev8_1_1internal.html#a3819bc8a26f6654b36067956454f614d">kJSDispatchHandleSize</a> + JSFunction::kPaddingOffsetEnd + 1 -</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                    JSFunction::kPaddingOffset ==</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#a72cbfdfeabb9a401f279f7b80bcff67a">kSystemPointerSize</a>);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// COMPRESS_POINTERS</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a>(<a class="code" href="namespacev8_1_1internal.html#a3819bc8a26f6654b36067956454f614d">kJSDispatchHandleSize</a>, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>);</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keyword">auto</span> it = <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#abbea95669a77a01da5b0af77306ab46d">dispatch_handle_map_</a>.find(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>);</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">if</span> (it == <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#abbea95669a77a01da5b0af77306ab46d">dispatch_handle_map_</a>.end()) {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="keyword">auto</span> <span class="keywordtype">id</span> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#abbea95669a77a01da5b0af77306ab46d">dispatch_handle_map_</a>.size());</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#abbea95669a77a01da5b0af77306ab46d">dispatch_handle_map_</a>[<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>] = id;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa29436a24c4b6557a965c2c3a19351759">kAllocateJSDispatchEntry</a>, <span class="stringliteral">&quot;AllocateJSDispatchEntry&quot;</span>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(jdt-&gt;GetParameterCount(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>), <span class="stringliteral">&quot;ParameterCount&quot;</span>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    Handle&lt;Code&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>(jdt-&gt;GetCode(<a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>), <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">SerializePendingObject</a>(*<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>));</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">SerializeObject</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">SlotType::kAnySlot</a>);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa98886b584a2f6abee6379a47529c2e8e">kJSDispatchEntry</a>, <span class="stringliteral">&quot;JSDispatchEntry&quot;</span>);</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#aabc2272982a939be24759c15eabaa615">PutUint30</a>(it-&gt;second, <span class="stringliteral">&quot;EntryID&quot;</span>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  }</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160; </div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateGroup_html_a3ca6c5d3f2b884f5866595543d2e0fd7"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateGroup.html#a3ca6c5d3f2b884f5866595543d2e0fd7">v8::internal::IsolateGroup::current</a></div><div class="ttdeci">static IsolateGroup * current()</div><div class="ttdef"><b>Definition:</b> <a href="isolate-group_8h_source.html#l00181">isolate-group.h:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa29436a24c4b6557a965c2c3a19351759"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa29436a24c4b6557a965c2c3a19351759">v8::internal::SerializerDeserializer::kAllocateJSDispatchEntry</a></div><div class="ttdeci">@ kAllocateJSDispatchEntry</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00164">serializer-deserializer.h:164</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa98886b584a2f6abee6379a47529c2e8e"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa98886b584a2f6abee6379a47529c2e8e">v8::internal::SerializerDeserializer::kJSDispatchEntry</a></div><div class="ttdeci">@ kJSDispatchEntry</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00166">serializer-deserializer.h:166</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_abbea95669a77a01da5b0af77306ab46d"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#abbea95669a77a01da5b0af77306ab46d">v8::internal::Serializer::dispatch_handle_map_</a></div><div class="ttdeci">std::unordered_map&lt; JSDispatchHandle, uint32_t &gt; dispatch_handle_map_</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00409">serializer.h:409</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3819bc8a26f6654b36067956454f614d"><div class="ttname"><a href="namespacev8_1_1internal.html#a3819bc8a26f6654b36067956454f614d">v8::internal::kJSDispatchHandleSize</a></div><div class="ttdeci">constexpr int kJSDispatchHandleSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00638">globals.h:638</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a81b2771da9cb582ba5af3c4bbb0714b8"><div class="ttname"><a href="namespacev8_1_1internal.html#a81b2771da9cb582ba5af3c4bbb0714b8">v8::internal::kNullJSDispatchHandle</a></div><div class="ttdeci">constexpr JSDispatchHandle kNullJSDispatchHandle(0)</div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5113f5db9eec9c30ecea57b8d4175f2d"><div class="ttname"><a href="src_2base_2macros_8h.html#a5113f5db9eec9c30ecea57b8d4175f2d">RoundUp</a></div><div class="ttdeci">constexpr T RoundUp(T x, intptr_t m)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00387">macros.h:387</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="flag-definitions_8h_source.html#l00546">code</a>, <a class="el" href="isolate-group_8h_source.html#l00181">v8::internal::IsolateGroup::current()</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00164">v8::internal::SerializerDeserializer::kAllocateJSDispatchEntry</a>, <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::kAnySlot</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00166">v8::internal::SerializerDeserializer::kJSDispatchEntry</a>, <a class="el" href="common_2globals_8h_source.html#l00638">v8::internal::kJSDispatchHandleSize</a>, <a class="el" href="namespacev8_1_1internal.html#a81b2771da9cb582ba5af3c4bbb0714b8">v8::internal::kNullJSDispatchHandle()</a>, <a class="el" href="common_2globals_8h_source.html#l00411">v8::internal::kSystemPointerSize</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="snapshot-source-sink_8cc_source.html#l00021">v8::internal::SnapshotByteSink::PutUint30()</a>, <a class="el" href="src_2base_2macros_8h_source.html#l00387">RoundUp()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, and <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a1f4393b550c0d2b769ff09282bf9a16d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a91498c161f498524acfe923645fc4724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91498c161f498524acfe923645fc4724">&#9670;&nbsp;</a></span>VisitOffHeapTarget()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitOffHeapTarget </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1InstructionStream.html">InstructionStream</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a> *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a4ea877f0821d6ad180b67615944d56f1">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01063">1063</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                                                      {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a91498c161f498524acfe923645fc4724_cgraph.svg" width="484" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a592c5336151e79cdb98fac3deec661a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592c5336151e79cdb98fac3deec661a4">&#9670;&nbsp;</a></span>VisitPointers() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitPointers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#aa8fba58d03b5d111eb21559217b8a045">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00970">970</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                                                                      {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  HandleScope scope(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  PtrComprCageBase <a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#af2248a427f8ff8f81e68a2a87758e145">DisallowGarbageCollection</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#a63d8eefb47468aa3f816fbe26a59466a">no_gc</a>;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160; </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> current = start;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">while</span> (current &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">while</span> (current &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp; current.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>).IsSmi()) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      ++current;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">if</span> (current &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a>(current.address());</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// TODO(ishell): Revisit this change once we stick to 32-bit compressed</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="comment">// tagged values.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keywordflow">while</span> (current &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp; current.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>).IsCleared()) {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa04233ca627dcb5fa4d28954cffd918e3">kClearedWeakReference</a>, <span class="stringliteral">&quot;ClearedWeakReference&quot;</span>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      ++current;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> current_contents;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    HeapObjectReferenceType reference_type;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">while</span> (current &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp; current.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>).GetHeapObject(</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                &amp;current_contents, &amp;reference_type)) {</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="comment">// Write a weak prefix if we need it. This has to be done before the</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="comment">// potential pending object serialization.</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;      <span class="keywordflow">if</span> (reference_type == <a class="code" href="common_2globals_8h.html#ae59947d43a8a9ca7f16679f2db9fb0ea">HeapObjectReferenceType::WEAK</a>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaff08bae7eb27e54766722df3bc5f3213">kWeakPrefix</a>, <span class="stringliteral">&quot;WeakReference&quot;</span>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160; </div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      Handle&lt;HeapObject&gt; obj = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(current_contents, <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">SerializePendingObject</a>(*obj)) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;        ++current;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160; </div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">RootIndex</a> root_index;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="comment">// Compute repeat count and write repeat prefix if applicable.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="comment">// Repeats are not subject to the write barrier so we can only use</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      <span class="comment">// immortal immovable root members. In practice we&#39;re most likely to only</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="comment">// repeat smaller root indices, so we limit the root index to 256 to keep</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="comment">// decoding simple.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;      static_assert(UINT8_MAX &lt;=</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977a01e44e79d22570c04f54c7ef512da78d">RootIndex::kLastImmortalImmovableRoot</a>));</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> repeat_end = current + 1;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">if</span> (repeat_end &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#acff7806fce4b2795cc3a4fe40fe16665">root_index_map</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1RootIndexMap.html#a13900ad2d36d747420a8cc27fa26eae3">Lookup</a>(*obj, &amp;root_index) &amp;&amp;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(root_index) &lt;= UINT8_MAX &amp;&amp;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          current.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>) == repeat_end.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>) &amp;&amp;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;          reference_type == <a class="code" href="common_2globals_8h.html#a68e9d1b360a669e69ca475ff475cb341">HeapObjectReferenceType::STRONG</a>) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(*obj));</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">while</span> (repeat_end &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> &amp;&amp;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;               repeat_end.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>) == current.load(<a class="code" href="classv8_1_1internal_1_1Serializer.html#a1330836e658df6feb2d8a6d2b0e2bf21">cage_base</a>)) {</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          repeat_end++;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordtype">int</span> repeat_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(repeat_end - current);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        current = repeat_end;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += repeat_count * <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a87ec2f24e32aeb63f4ef71ccd7296ed1">PutRepeatRoot</a>(repeat_count, root_index);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        ++current;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">SerializeObject</a>(obj, <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">SlotType::kAnySlot</a>);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a597d0e70459c694743e92d98a9292f92"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">v8::internal::HeapLayout::InYoungGeneration</a></div><div class="ttdeci">static bool InYoungGeneration(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00043">heap-layout-inl.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootIndexMap_html_a13900ad2d36d747420a8cc27fa26eae3"><div class="ttname"><a href="classv8_1_1internal_1_1RootIndexMap.html#a13900ad2d36d747420a8cc27fa26eae3">v8::internal::RootIndexMap::Lookup</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool Lookup(Tagged&lt; HeapObject &gt; obj, RootIndex *out_root_list) const</div><div class="ttdef"><b>Definition:</b> <a href="address-map_8h_source.html#l00064">address-map.h:64</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa04233ca627dcb5fa4d28954cffd918e3"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa04233ca627dcb5fa4d28954cffd918e3">v8::internal::SerializerDeserializer::kClearedWeakReference</a></div><div class="ttdeci">@ kClearedWeakReference</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00134">serializer-deserializer.h:134</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aaff08bae7eb27e54766722df3bc5f3213"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaff08bae7eb27e54766722df3bc5f3213">v8::internal::SerializerDeserializer::kWeakPrefix</a></div><div class="ttdeci">@ kWeakPrefix</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00135">serializer-deserializer.h:135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_a87ec2f24e32aeb63f4ef71ccd7296ed1"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#a87ec2f24e32aeb63f4ef71ccd7296ed1">v8::internal::Serializer::PutRepeatRoot</a></div><div class="ttdeci">void PutRepeatRoot(int repeat_count, RootIndex root_index)</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00334">serializer.cc:334</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_html_acff7806fce4b2795cc3a4fe40fe16665"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer.html#acff7806fce4b2795cc3a4fe40fe16665">v8::internal::Serializer::root_index_map</a></div><div class="ttdeci">const RootIndexMap * root_index_map() const</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8h_source.html#l00321">serializer.h:321</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a68e9d1b360a669e69ca475ff475cb341"><div class="ttname"><a href="common_2globals_8h.html#a68e9d1b360a669e69ca475ff475cb341">STRONG</a></div><div class="ttdeci">STRONG</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01027">globals.h:1027</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_ae59947d43a8a9ca7f16679f2db9fb0ea"><div class="ttname"><a href="common_2globals_8h.html#ae59947d43a8a9ca7f16679f2db9fb0ea">WEAK</a></div><div class="ttdeci">WEAK</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01026">globals.h:1026</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5c81bf980e0cdd16e6f80a806701fd76"><div class="ttname"><a href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">v8::internal::MaybeObjectSlot</a></div><div class="ttdeci">SlotTraits::TMaybeObjectSlot MaybeObjectSlot</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01242">globals.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae6e8bb7da3421a00b1b77972829b7977"><div class="ttname"><a href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977">v8::internal::RootIndex</a></div><div class="ttdeci">RootIndex</div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00498">roots.h:498</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae6e8bb7da3421a00b1b77972829b7977a01e44e79d22570c04f54c7ef512da78d"><div class="ttname"><a href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977a01e44e79d22570c04f54c7ef512da78d">v8::internal::RootIndex::kLastImmortalImmovableRoot</a></div><div class="ttdeci">@ kLastImmortalImmovableRoot</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="slots_8h_source.html#l00078">v8::internal::SlotBase&lt; Subclass, Data, SlotDataAlignment &gt;::address()</a>, <a class="el" href="serializer_8h_source.html#l00199">v8::internal::Serializer::cage_base()</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="node_8h_source.html#l00711">v8::internal::compiler::end()</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="heap-layout-inl_8h_source.html#l00043">v8::internal::HeapLayout::InYoungGeneration()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::kAnySlot</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00134">v8::internal::SerializerDeserializer::kClearedWeakReference</a>, <a class="el" href="namespacev8_1_1internal.html#ae6e8bb7da3421a00b1b77972829b7977a01e44e79d22570c04f54c7ef512da78d">v8::internal::kLastImmortalImmovableRoot</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00135">v8::internal::SerializerDeserializer::kWeakPrefix</a>, <a class="el" href="slots-inl_8h_source.html#l00130">v8::internal::FullMaybeObjectSlot::load()</a>, <a class="el" href="json-stringifier_8cc_source.html#l00544">v8::internal::anonymous_namespace{json-stringifier.cc}::no_gc</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, <a class="el" href="common_2globals_8h_source.html#l01027">STRONG</a>, and <a class="el" href="common_2globals_8h_source.html#l01026">WEAK</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a592c5336151e79cdb98fac3deec661a4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a209b287eb78d36bdf77b7a434d6c4db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209b287eb78d36bdf77b7a434d6c4db0">&#9670;&nbsp;</a></span>VisitPointers() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitPointers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a8350b4fe71f6cdfba2ee31e82195e91e">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l00964">964</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                                                                 {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a209b287eb78d36bdf77b7a434d6c4db0">VisitPointers</a>(host, <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>(start), <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1Serializer_1_1ObjectSerializer_html_a209b287eb78d36bdf77b7a434d6c4db0"><div class="ttname"><a href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a209b287eb78d36bdf77b7a434d6c4db0">v8::internal::Serializer::ObjectSerializer::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="serializer_8cc_source.html#l00964">serializer.cc:964</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="node_8h_source.html#l00711">v8::internal::compiler::end()</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a209b287eb78d36bdf77b7a434d6c4db0_cgraph.svg" width="100%" height="388"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a8c817e546bcf3408ac3230e6179efc5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c817e546bcf3408ac3230e6179efc5f">&#9670;&nbsp;</a></span>VisitProtectedPointer() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitProtectedPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1TrustedObject.html">TrustedObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a5eb6c17d238a6a1a82c53fcb5357b3b6">ProtectedMaybeObjectSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a7bed39fee73b2ea0874f448d1ad840b4">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01267">1267</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                                                               {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  Tagged&lt;MaybeObject&gt; maybe_content = slot.load();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="comment">// Empty slots (Smi::zero()) and Smi slots can be skipped here.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordflow">if</span> (maybe_content.IsSmi()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="comment">// If necessary, output any raw data preceding this slot.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a>(slot.address());</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160; </div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;  <span class="keywordflow">if</span> (maybe_content.IsCleared()) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa04233ca627dcb5fa4d28954cffd918e3">kClearedWeakReference</a>, <span class="stringliteral">&quot;ClearedWeakReference&quot;</span>);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  }</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> content;</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  HeapObjectReferenceType reference_type;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">if</span> (maybe_content.GetHeapObject(&amp;content, &amp;reference_type)) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">if</span> (reference_type == <a class="code" href="common_2globals_8h.html#ae59947d43a8a9ca7f16679f2db9fb0ea">HeapObjectReferenceType::WEAK</a>) {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aaff08bae7eb27e54766722df3bc5f3213">kWeakPrefix</a>, <span class="stringliteral">&quot;WeakReference&quot;</span>);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    Handle&lt;HeapObject&gt; <span class="keywordtype">object</span> = <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>(content, <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">SerializePendingObject</a>(*<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa3998a45d56e51dabedc4f2aed962993e">kProtectedPointerPrefix</a>, <span class="stringliteral">&quot;ProtectedPointer&quot;</span>);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">SerializeObject</a>(<span class="keywordtype">object</span>, <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">SlotType::kAnySlot</a>);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;}</div>
<div class="ttc" id="aclassv8_1_1internal_1_1SerializerDeserializer_html_a0fc92b9bfbeae623ad8508e89f71619aa3998a45d56e51dabedc4f2aed962993e"><div class="ttname"><a href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa3998a45d56e51dabedc4f2aed962993e">v8::internal::SerializerDeserializer::kProtectedPointerPrefix</a></div><div class="ttdeci">@ kProtectedPointerPrefix</div><div class="ttdef"><b>Definition:</b> <a href="serializer-deserializer_8h_source.html#l00169">serializer-deserializer.h:169</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="slots_8h_source.html#l00078">v8::internal::SlotBase&lt; Subclass, Data, SlotDataAlignment &gt;::address()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="tagged-impl-inl_8h_source.html#l00048">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::GetHeapObject()</a>, <a class="el" href="handles-inl_8h_source.html#l00072">v8::internal::handle()</a>, <a class="el" href="tagged-impl_8h_source.html#l00125">v8::internal::TaggedImpl&lt; kRefType, StorageType &gt;::IsCleared()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="tagged_8h_source.html#l00508">v8::internal::Tagged&lt; HeapObject &gt;::IsSmi()</a>, <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::kAnySlot</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00134">v8::internal::SerializerDeserializer::kClearedWeakReference</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00169">v8::internal::SerializerDeserializer::kProtectedPointerPrefix</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00135">v8::internal::SerializerDeserializer::kWeakPrefix</a>, <a class="el" href="slots-inl_8h_source.html#l00130">v8::internal::FullMaybeObjectSlot::load()</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, and <a class="el" href="common_2globals_8h_source.html#l01026">WEAK</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a8c817e546bcf3408ac3230e6179efc5f_cgraph.svg" width="504" height="496"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a30d1549386eae607447fb2b8567efdcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d1549386eae607447fb2b8567efdcf">&#9670;&nbsp;</a></span>VisitProtectedPointer() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitProtectedPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1TrustedObject.html">TrustedObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacev8_1_1internal.html#a69c3bdc8841db30ac59806f44663d229">ProtectedPointerSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a0d354411a3364f03fa45406c0a41e33e">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01245">1245</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                                                           {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> content = slot.load(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// Similar to the indirect pointer case, if the slot is empty (i.e. contains</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// Smi::zero()), then we skip it here.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">if</span> (content == <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(content));</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="comment">// If necessary, output any raw data preceeding this slot.</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a19c64c27afe9e7e32ba9688dfd1dcd82">OutputRawData</a>(slot.address());</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160; </div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  Handle&lt;HeapObject&gt; object(Cast&lt;HeapObject&gt;(content), <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#ae4278536023ea91fb84330bcd415323a">isolate</a>());</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="comment">// Currently we cannot see pending objects here, but we may need to support</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="comment">// them in the future. They should already be supported by the deserializer.</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#a12cc0c154fdab6e4aa55bc136dbc114e">SerializePendingObject</a>(*<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#acd649c1ab2a6485719c380a7d195337a">sink_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1SnapshotByteSink.html#adb67204da52ee59ab5626f0d71248cae">Put</a>(<a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a0fc92b9bfbeae623ad8508e89f71619aa3998a45d56e51dabedc4f2aed962993e">kProtectedPointerPrefix</a>, <span class="stringliteral">&quot;ProtectedPointer&quot;</span>);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#aaab885cca1150b0ff3f285998bb4b7d8">serializer_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Serializer.html#ad06db6eb2818b2b15a4ab94c427c12a6">SerializeObject</a>(<span class="keywordtype">object</span>, <a class="code" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">SlotType::kAnySlot</a>);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;}</div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5297fd2c72981b2220e6b9a831570fb3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdeci">Tagged&lt; Object &gt;</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00162">js-objects-inl.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac299e59759eecb4621f6bad64d5db952"><div class="ttname"><a href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">v8::internal::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00666">objects.h:666</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="slots_8h_source.html#l00078">v8::internal::SlotBase&lt; Subclass, Data, SlotDataAlignment &gt;::address()</a>, <a class="el" href="src_2base_2logging_8h_source.html#l00124">CHECK</a>, <a class="el" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK()</a>, <a class="el" href="serializer_8h_source.html#l00195">v8::internal::Serializer::isolate()</a>, <a class="el" href="objects_8h_source.html#l00666">v8::internal::IsSmi()</a>, <a class="el" href="classv8_1_1internal_1_1SerializerDeserializer.html#a108b70a5e6f10e237fd67e9ccb692c91a90de82d2ff185fb7bada4622349083e2">v8::internal::SerializerDeserializer::kAnySlot</a>, <a class="el" href="serializer-deserializer_8h_source.html#l00169">v8::internal::SerializerDeserializer::kProtectedPointerPrefix</a>, <a class="el" href="common_2globals_8h_source.html#l00533">v8::internal::kTaggedSize</a>, <a class="el" href="slots-inl_8h_source.html#l00048">v8::internal::FullObjectSlot::load()</a>, <a class="el" href="snapshot-source-sink_8h_source.html#l00135">v8::internal::SnapshotByteSink::Put()</a>, <a class="el" href="serializer_8h_source.html#l00323">v8::internal::Serializer::sink_</a>, and <a class="el" href="smi_8h_source.html#l00099">v8::internal::Smi::zero()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a30d1549386eae607447fb2b8567efdcf_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6cab61279c0f62a91caa4b332c1ef5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cab61279c0f62a91caa4b332c1ef5ec">&#9670;&nbsp;</a></span>VisitTrustedPointerTableEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void v8::internal::Serializer::ObjectSerializer::VisitTrustedPointerTableEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1Tagged.html">Tagged</a>&lt; <a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a> &gt;&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a>&#160;</td>
          <td class="paramname"><em>slot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classv8_1_1internal_1_1ObjectVisitor.html#a4dd69582b23453cab4a51f6002a4fb0d">v8::internal::ObjectVisitor</a>.</p>

<p class="definition">Definition at line <a class="el" href="serializer_8cc_source.html#l01229">1229</a> of file <a class="el" href="serializer_8cc_source.html">serializer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                                       {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// These fields only exist on the ExposedTrustedObject class, and they are</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  <span class="comment">// located directly after the Map word.</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a>,</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            ExposedTrustedObject::kSelfIndirectPointerOffset);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; </div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  <span class="comment">// Nothing to do here. We already emitted the kInitializeSelfIndirectPointer</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  <span class="comment">// after processing the Map word in SerializePrologue.</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html#a35f9cc35cf530826d714d7f88a179e89">bytes_processed_so_far_</a> += <a class="code" href="namespacev8_1_1internal.html#a992050d065034254293bc79869dee600">kIndirectPointerSize</a>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2base_2logging_8h_source.html#l00484">DCHECK_EQ</a>, <a class="el" href="common_2globals_8h_source.html#l00620">v8::internal::kIndirectPointerSize</a>, and <a class="el" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer_a6cab61279c0f62a91caa4b332c1ef5ec_cgraph.svg" width="479" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a35f9cc35cf530826d714d7f88a179e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f9cc35cf530826d714d7f88a179e89">&#9670;&nbsp;</a></span>bytes_processed_so_far_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classint.html">int</a> v8::internal::Serializer::ObjectSerializer::bytes_processed_so_far_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00530">530</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>

</div>
</div>
<a id="a02f1a8816540ed8523a5766a0a8a0300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f1a8816540ed8523a5766a0a8a0300">&#9670;&nbsp;</a></span>isolate_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* v8::internal::Serializer::ObjectSerializer::isolate_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00526">526</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="serializer_8h_source.html#l00508">isolate()</a>.</p>

</div>
</div>
<a id="a7443d3cc9c144907bac8b8cf9c2c4951"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7443d3cc9c144907bac8b8cf9c2c4951">&#9670;&nbsp;</a></span>object_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Handle.html">Handle</a>&lt;<a class="el" href="classv8_1_1internal_1_1HeapObject.html">HeapObject</a>&gt; v8::internal::Serializer::ObjectSerializer::object_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00528">528</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="serializer_8cc_source.html#l00459">SerializePrologue()</a>.</p>

</div>
</div>
<a id="aaab885cca1150b0ff3f285998bb4b7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaab885cca1150b0ff3f285998bb4b7d8">&#9670;&nbsp;</a></span>serializer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1Serializer.html">Serializer</a>* v8::internal::Serializer::ObjectSerializer::serializer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00527">527</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="serializer_8h_source.html#l00457">ObjectSerializer()</a>, <a class="el" href="serializer_8cc_source.html#l00459">SerializePrologue()</a>, and <a class="el" href="serializer_8h_source.html#l00468">~ObjectSerializer()</a>.</p>

</div>
</div>
<a id="acd649c1ab2a6485719c380a7d195337a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd649c1ab2a6485719c380a7d195337a">&#9670;&nbsp;</a></span>sink_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classv8_1_1internal_1_1SnapshotByteSink.html">SnapshotByteSink</a>* v8::internal::Serializer::ObjectSerializer::sink_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="serializer_8h_source.html#l00529">529</a> of file <a class="el" href="serializer_8h_source.html">serializer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="serializer_8cc_source.html#l00459">SerializePrologue()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/V8SourceCode/src/snapshot/<a class="el" href="serializer_8h_source.html">serializer.h</a></li>
<li>/mnt/V8SourceCode/src/snapshot/<a class="el" href="serializer_8cc_source.html">serializer.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacev8.html">v8</a></li><li class="navelem"><a class="el" href="namespacev8_1_1internal.html">internal</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1Serializer.html">Serializer</a></li><li class="navelem"><a class="el" href="classv8_1_1internal_1_1Serializer_1_1ObjectSerializer.html">ObjectSerializer</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 16:06:15 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
