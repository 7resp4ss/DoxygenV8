<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/heap/mark-compact.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('mark-compact_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">mark-compact.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mark-compact_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2012 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mark-compact_8h.html">src/heap/mark-compact.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="bits_8h.html">src/base/bits.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2logging_8h.html">src/base/logging.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutex_8h.html">src/base/platform/mutex.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2base_2platform_2platform_8h.html">src/base/platform/platform.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="random-number-generator_8h.html">src/base/utils/random-number-generator.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="compilation-cache_8h.html">src/codegen/compilation-cache.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="assert-scope_8h.html">src/common/assert-scope.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_2globals_8h.html">src/common/globals.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="deoptimizer_8h.html">src/deoptimizer/deoptimizer.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_8h.html">src/execution/execution.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="frames-inl_8h.html">src/execution/frames-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="execution_2isolate-inl_8h.html">src/execution/isolate-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="isolate-utils-inl_8h.html">src/execution/isolate-utils-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vm-state-inl_8h.html">src/execution/vm-state-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="flags_2flags_8h.html">src/flags/flags.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="global-handles_8h.html">src/handles/global-handles.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="array-buffer-sweeper_8h.html">src/heap/array-buffer-sweeper.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="basic-slot-set_8h.html">src/heap/base/basic-slot-set.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="concurrent-marking_8h.html">src/heap/concurrent-marking.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ephemeron-remembered-set_8h.html">src/heap/ephemeron-remembered-set.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="evacuation-allocator-inl_8h.html">src/heap/evacuation-allocator-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="evacuation-verifier-inl_8h.html">src/heap/evacuation-verifier-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gc-tracer-inl_8h.html">src/heap/gc-tracer-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gc-tracer_8h.html">src/heap/gc-tracer.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-layout-inl_8h.html">src/heap/heap-layout-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-utils-inl_8h.html">src/heap/heap-utils-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-visitor-inl_8h.html">src/heap/heap-visitor-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2heap_2heap_8h.html">src/heap/heap.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="incremental-marking_8h.html">src/heap/incremental-marking.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="index-generator_8h.html">src/heap/index-generator.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="large-spaces_8h.html">src/heap/large-spaces.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="live-object-range-inl_8h.html">src/heap/live-object-range-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mark-compact-inl_8h.html">src/heap/mark-compact-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mark-sweep-utilities_8h.html">src/heap/mark-sweep-utilities.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="marking-barrier_8h.html">src/heap/marking-barrier.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="marking-inl_8h.html">src/heap/marking-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="marking-state-inl_8h.html">src/heap/marking-state-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="marking-visitor-inl_8h.html">src/heap/marking-visitor-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="marking_8h.html">src/heap/marking.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory-allocator_8h.html">src/heap/memory-allocator.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory-chunk-layout_8h.html">src/heap/memory-chunk-layout.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory-chunk-metadata_8h.html">src/heap/memory-chunk-metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory-chunk_8h.html">src/heap/memory-chunk.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory-measurement-inl_8h.html">src/heap/memory-measurement-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory-measurement_8h.html">src/heap/memory-measurement.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mutable-page-metadata_8h.html">src/heap/mutable-page-metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="new-spaces_8h.html">src/heap/new-spaces.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="object-stats_8h.html">src/heap/object-stats.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page-metadata-inl_8h.html">src/heap/page-metadata-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page-metadata_8h.html">src/heap/page-metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parallel-work-item_8h.html">src/heap/parallel-work-item.h</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pretenuring-handler-inl_8h.html">src/heap/pretenuring-handler-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pretenuring-handler_8h.html">src/heap/pretenuring-handler.h</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="read-only-heap_8h.html">src/heap/read-only-heap.h</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="read-only-spaces_8h.html">src/heap/read-only-spaces.h</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="remembered-set_8h.html">src/heap/remembered-set.h</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="safepoint_8h.html">src/heap/safepoint.h</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slot-set_8h.html">src/heap/slot-set.h</a>&quot;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="spaces-inl_8h.html">src/heap/spaces-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sweeper_8h.html">src/heap/sweeper.h</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="traced-handles-marking-visitor_8h.html">src/heap/traced-handles-marking-visitor.h</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="weak-object-worklists_8h.html">src/heap/weak-object-worklists.h</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="zapping_8h.html">src/heap/zapping.h</a>&quot;</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="src_2init_2v8_8h.html">src/init/v8.h</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tracing-flags_8h.html">src/logging/tracing-flags.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="embedder-data-array-inl_8h.html">src/objects/embedder-data-array-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="foreign_8h.html">src/objects/foreign.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hash-table-inl_8h.html">src/objects/hash-table-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-object-inl_8h.html">src/objects/heap-object-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="heap-object_8h.html">src/objects/heap-object.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="instance-type_8h.html">src/objects/instance-type.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js-array-buffer-inl_8h.html">src/objects/js-array-buffer-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="js-objects-inl_8h.html">src/objects/js-objects-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maybe-object_8h.html">src/objects/maybe-object.h</a>&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objects_8h.html">src/objects/objects.h</a>&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="slots-inl_8h.html">src/objects/slots-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="smi_8h.html">src/objects/smi.h</a>&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="string-forwarding-table-inl_8h.html">src/objects/string-forwarding-table-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="transitions-inl_8h.html">src/objects/transitions-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="visitors_8h.html">src/objects/visitors.h</a>&quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="indirect-pointer-tag_8h.html">src/sandbox/indirect-pointer-tag.h</a>&quot;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="shared-heap-serializer_8h.html">src/snapshot/shared-heap-serializer.h</a>&quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cancelable-task_8h.html">src/tasks/cancelable-task.h</a>&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tracing-category-observer_8h.html">src/tracing/tracing-category-observer.h</a>&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils-inl_8h.html">src/utils/utils-inl.h</a>&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="wasm-code-pointer-table_8h.html">src/wasm/wasm-code-pointer-table.h</a>&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">internal</a> {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">// =============================================================================</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// Verifiers</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">// =============================================================================</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">class </span>FullMarkingVerifier : <span class="keyword">public</span> MarkingVerifierBase {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">explicit</span> FullMarkingVerifier(Heap* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      : MarkingVerifierBase(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        marking_state_(<a class="code" href="namespaceheap.html">heap</a>-&gt;non_atomic_marking_state()) {}</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordtype">void</span> Run()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    VerifyRoots();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    VerifyMarking(heap_-&gt;new_space());</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    VerifyMarking(heap_-&gt;new_lo_space());</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    VerifyMarking(heap_-&gt;old_space());</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    VerifyMarking(heap_-&gt;code_space());</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;shared_space()) VerifyMarking(heap_-&gt;shared_space());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    VerifyMarking(heap_-&gt;lo_space());</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    VerifyMarking(heap_-&gt;code_lo_space());</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;shared_lo_space()) VerifyMarking(heap_-&gt;shared_lo_space());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    VerifyMarking(heap_-&gt;trusted_space());</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    VerifyMarking(heap_-&gt;trusted_lo_space());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keyword">const</span> MarkingBitmap* bitmap(<span class="keyword">const</span> MutablePageMetadata* chunk)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">return</span> chunk-&gt;marking_bitmap();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">bool</span> IsMarked(<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> marking_state_-&gt;IsMarked(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordtype">void</span> VerifyMap(Tagged&lt;Map&gt; map)<span class="keyword"> override </span>{ VerifyHeapObjectImpl(map); }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">void</span> VerifyPointers(<a class="code" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> start, <a class="code" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    VerifyPointersImpl(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">void</span> VerifyPointers(<a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> start, <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    VerifyPointersImpl(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">void</span> VerifyCodePointer(<a class="code" href="namespacev8_1_1internal.html#ab2a51a653a4864c3feda71605aadf6ca">InstructionStreamSlot</a> slot)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> maybe_code = slot.load(code_cage_base());</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// The slot might contain smi during Code creation, so skip it.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (maybe_code.GetHeapObject(&amp;<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>)) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      VerifyHeapObjectImpl(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">void</span> VerifyRootPointers(FullObjectSlot start, FullObjectSlot <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    VerifyPointersImpl(start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">void</span> VisitCodeTarget(Tagged&lt;InstructionStream&gt; host,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                       RelocInfo* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    Tagged&lt;InstructionStream&gt; target =</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="classv8_1_1internal_1_1InstructionStream.html#a609ae4cdb6b49935b0fc6a55711a5191">InstructionStream::FromTargetAddress</a>(rinfo-&gt;target_address());</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    VerifyHeapObjectImpl(target);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordtype">void</span> VisitEmbeddedPointer(Tagged&lt;InstructionStream&gt; host,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            RelocInfo* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a9de6eaa529e2d449eb3c4c78fc321d2e">RelocInfo::IsEmbeddedObjectMode</a>(rinfo-&gt;rmode()));</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> target_object = rinfo-&gt;target_object(cage_base());</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    Tagged&lt;Code&gt; <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = UncheckedCast&lt;Code&gt;(host-&gt;raw_code(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IsWeakObject(target_object)) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      VerifyHeapObjectImpl(target_object);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> VerifyHeapObjectImpl(<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (!ShouldVerifyObject(heap_object)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;MustBeInSharedOldSpace(heap_object)) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(heap_-&gt;SharedHeapContains(heap_object));</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">HeapLayout::InReadOnlySpace</a>(heap_object) ||</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.black_allocated_pages &amp;&amp;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;           <a class="code" href="classv8_1_1internal_1_1HeapLayout.html#ac9879fed71642d70a0509695654ff874">HeapLayout::InBlackAllocatedPage</a>(heap_object)) ||</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          marking_state_-&gt;IsMarked(heap_object));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">bool</span> ShouldVerifyObject(<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> in_shared_heap = <a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> heap_-&gt;isolate()-&gt;is_shared_space_isolate() ? <a class="code" href="namespacev8_1_1internal.html#a7f5302a7c7fd292ffd4a5f9758bd3686">true</a> : !in_shared_heap;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> VerifyPointersImpl(TSlot start, TSlot <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    PtrComprCageBase cage_base =</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a0f0ae2cfa08579e4e985876e24d0e649">GetPtrComprCageBaseFromOnHeapAddress</a>(start.address());</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span> (TSlot slot = start; slot &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++slot) {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keyword">typename</span> TSlot::TObject <span class="keywordtype">object</span> = slot.load(cage_base);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_DIRECT_HANDLE</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.ptr() == <a class="code" href="namespacev8_1_1internal.html#a175c065c1245d42fdbd4a853993be670">kTaggedNullAddress</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.GetHeapObjectIfStrong(&amp;heap_object)) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        VerifyHeapObjectImpl(heap_object);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  NonAtomicMarkingState* <span class="keyword">const</span> marking_state_;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;};</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// ==================================================================</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">// MarkCompactCollector</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">// ==================================================================</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html">  227</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2d6091682608c63aa3aeb4bda6b52282">  229</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2d6091682608c63aa3aeb4bda6b52282">NumberOfAvailableCores</a>() {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> num_cores = <a class="code" href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a57cdd7eb4c482bfb806c378beeda716d">NumberOfWorkerThreads</a>() + 1;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// This number of cores should be greater than zero and never change.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(num_cores, 1);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(num_cores, <a class="code" href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">V8::GetCurrentPlatform</a>()-&gt;NumberOfWorkerThreads() + 1);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">return</span> num_cores;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ac96697cb73132b17cc8b6641fefb9b06">  237</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ac96697cb73132b17cc8b6641fefb9b06">NumberOfParallelCompactionTasks</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordtype">int</span> tasks = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_compaction ? <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2d6091682608c63aa3aeb4bda6b52282">NumberOfAvailableCores</a>() : 1;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceheap.html">heap</a>-&gt;CanPromoteYoungAndExpandOldGeneration(</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(tasks * <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a8ca68362b7531b2ab93a045cdcedfdde">PageMetadata::kPageSize</a>))) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// Optimize for memory usage near the heap limit.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    tasks = 1;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">return</span> tasks;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">// This visitor is used for marking on the main thread. It is cheaper than</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// the concurrent marking visitor because it does not snapshot JSObjects.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MainMarkingVisitor.html">  251</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MainMarkingVisitor.html">MainMarkingVisitor</a> final</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1FullMarkingVisitorBase.html">FullMarkingVisitorBase</a>&lt;MainMarkingVisitor&gt; {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MainMarkingVisitor.html#ad945b37c8e372cb371cb6bf74b10fcd4">  254</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MainMarkingVisitor.html#ad945b37c8e372cb371cb6bf74b10fcd4">MainMarkingVisitor</a>(<a class="code" href="classv8_1_1internal_1_1MarkingWorklists.html#a941d07bdea68cc187975415adc4dac79">MarkingWorklists::Local</a>* local_marking_worklists,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1WeakObjects_1_1Local.html">WeakObjects::Local</a>* local_weak_objects, <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                     <span class="keywordtype">unsigned</span> mark_compact_epoch,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                     <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;CodeFlushMode&gt;</a> code_flush_mode,</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                     <span class="keywordtype">bool</span> should_keep_ages_unchanged,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                     <a class="code" href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">uint16_t</a> code_flushing_increase)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1FullMarkingVisitorBase.html">FullMarkingVisitorBase</a>&lt;<a class="code" href="classv8_1_1internal_1_1MainMarkingVisitor.html">MainMarkingVisitor</a>&gt;(</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            local_marking_worklists, local_weak_objects, <a class="code" href="namespaceheap.html">heap</a>,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            mark_compact_epoch, code_flush_mode, should_keep_ages_unchanged,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            code_flushing_increase) {}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// Functions required by MarkingVisitorBase.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MainMarkingVisitor.html#a3dda2cde53397c3d473420df6865205f">  269</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MainMarkingVisitor.html#a3dda2cde53397c3d473420df6865205f">RecordSlot</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, TSlot slot,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a48f19e21a6973a04ac052c06f045ac10">MarkCompactCollector::RecordSlot</a>(<span class="keywordtype">object</span>, slot, target);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MainMarkingVisitor.html#a2d76bb0a9a987182426dae7babc202fd">  274</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MainMarkingVisitor.html#a14440e7b1510fc82c5638f0a1f9b076c">RecordRelocSlot</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae4455c0b37942d5616bb57730157eb6a">MarkCompactCollector::RecordRelocSlot</a>(host, rinfo, target);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MarkingVisitorBase.html">MarkingVisitorBase</a>&lt;<a class="code" href="classv8_1_1internal_1_1MainMarkingVisitor.html">MainMarkingVisitor</a>&gt;;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;};</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#af7e1a054489f11045c46e33fd3c17c97">  282</a></span>&#160;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#af7e1a054489f11045c46e33fd3c17c97">MarkCompactCollector::MarkCompactCollector</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    : heap_(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;#ifdef DEBUG</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      state_(<a class="code" href="namespacev8.html#af4bd667bae597459fddd3443cbec0cb2ab7c9b8c4d5920370856a0fc30c2b6bb8">IDLE</a>),</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;#endif</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      uses_shared_heap_(heap_-&gt;isolate()-&gt;has_shared_space()),</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      is_shared_space_isolate_(heap_-&gt;isolate()-&gt;is_shared_space_isolate()),</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      marking_state_(heap_-&gt;marking_state()),</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      non_atomic_marking_state_(heap_-&gt;non_atomic_marking_state()),</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      sweeper_(heap_-&gt;sweeper()) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a62f2fdb072e51e33c943ff1835035d9a">MarkCompactCollector::~MarkCompactCollector</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac79654a97e006616402d89dcec98eac7">  296</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac79654a97e006616402d89dcec98eac7">MarkCompactCollector::TearDown</a>() {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aca549fb459876aff6e5a580c807d1607">incremental_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IncrementalMarking.html#af7648dd98be368a6b882111f2c62441c">IsMajorMarking</a>()) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a7aa3dd4e8cf79ce7342fd16773ecfb8a">local_marking_worklists_</a>-&gt;Publish();</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ab6f9aac6bf996ce2f9945e0ff998c58a">main_thread_local_heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1LocalHeap.html#a2e77f2b0e778003862ff3351ded8e80a">marking_barrier</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MarkingBarrier.html#a2d768331ca216e2dc7f88961d5f1f5fc">PublishIfNeeded</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// Marking barriers of LocalHeaps will be published in their destructors.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a84cbdfc60879f899e3aca799e53e5e42">marking_worklists_</a>.<a class="code" href="classv8_1_1internal_1_1MarkingWorklists.html#a89010874238d7f05fc609afa7119ef40">Clear</a>();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5c26fb846b8fa0a693ab2d751fc7b1c9">local_weak_objects</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1WeakObjects_1_1Local.html#ad05233ba4265300887d0800ff7d7f3f9">Publish</a>();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a13bc63346bb82388df996ca28b39f6d3">weak_objects</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1WeakObjects.html#a0557b5c72151038a6d73b9d5aa6804eb">Clear</a>();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">  307</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">MarkCompactCollector::AddEvacuationCandidate</a>(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a72bc65caf0c47dc3a85f4535359b8ac1">NeverEvacuate</a>());</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a2cced78334b717b2021a1a0f8148ad48">MemoryChunk::BLACK_ALLOCATED</a>));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_evacuation_candidates) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>(),</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="stringliteral">&quot;Evacuation candidate: Free bytes: %6zu. Free Lists length: %4d.\n&quot;</span>,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#acd8dfb2e8657abe513a212fea3bf4683">area_size</a>() - p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a9fc112c5748d8edf2b68bd19ab082519">allocated_bytes</a>(), p-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#afef91880298e04ebdb19a05ee7fd0b58">ComputeFreeListsLength</a>());</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  p-&gt;<a class="code" href="classv8_1_1internal_1_1PageMetadata.html#a1b6da13a34e2984a618db74bda54dd3a">MarkEvacuationCandidate</a>();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a57e6e0473e2cf52591357fcbeb4ebfca">evacuation_candidates_</a>.push_back(p);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a95616b4a1de76737188bb25ce12243d7">  322</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal.html#a95616b4a1de76737188bb25ce12243d7">TraceFragmentation</a>(<a class="code" href="classv8_1_1internal_1_1PagedSpace.html">PagedSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordtype">int</span> number_of_pages = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;CountTotalPages();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  intptr_t reserved = (number_of_pages * <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;AreaSize());</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  intptr_t free = reserved - <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;SizeOfObjects();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">PrintF</a>(<span class="stringliteral">&quot;[%s]: %d pages, %d (%.1f%%) free\n&quot;</span>, <a class="code" href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">ToString</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity()),</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;         number_of_pages, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(free),</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;         <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(free) * 100 / reserved);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7e6a8160a88f451d394d7135403f3ae">  331</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7e6a8160a88f451d394d7135403f3ae">MarkCompactCollector::StartCompaction</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aeffa934d2a7a740c62b6b7521f0c3897">StartCompactionMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ade96b53880b218eba9217ef4f296dcdf">compacting_</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a57e6e0473e2cf52591357fcbeb4ebfca">evacuation_candidates_</a>.empty());</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="comment">// Bailouts for completely disabled compaction.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact ||</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> == <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aeffa934d2a7a740c62b6b7521f0c3897a726d9cf5163c50b3cf8e05800e3cef71">StartCompactionMode::kAtomic</a> &amp;&amp; <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae4625769d6915289a7acd2c41144b9c3">IsGCWithStack</a>() &amp;&amp;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;       !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_with_stack) ||</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.gc_experiment_less_compaction &amp;&amp;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;       !<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#afd52b490b8d03599fbf5510d6f54b117">ShouldReduceMemory</a>()) ||</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a10fb79c24c416de942fc05b82680b440">serializer_enabled</a>()) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">CollectEvacuationCandidates</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8d7b791efdd8818bc3dcd98ce920b06c">old_space</a>());</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// Don&#39;t compact shared space when CSS is enabled, since there may be</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// DirectHandles on stacks of client isolates.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8c6699d1a91a5f1e8d7748d80b068c7c">ConservativeStackScanningModeForMajorGC</a>() !=</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;       <a class="code" href="classv8_1_1internal_1_1Heap.html#a6a1078397aea6722948012db089cd96caa60924e124da4d51bd4dc74c8f85b158">Heap::StackScanMode::kFull</a>) &amp;&amp;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a125e37c0ebec23dda96a152ac6881820">shared_space</a>()) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">CollectEvacuationCandidates</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a125e37c0ebec23dda96a152ac6881820">shared_space</a>());</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">CollectEvacuationCandidates</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a353eba8c85db23f30be40d7e297ded1d">trusted_space</a>());</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a939fb55411a48a11cd43f3de55ef5ff3">AllowsCodeCompaction</a>() &amp;&amp;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      (!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae4625769d6915289a7acd2c41144b9c3">IsGCWithStack</a>() || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_code_space_with_stack)) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">CollectEvacuationCandidates</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a36ef98ceb504120eae6a5b3d0dcf9fd4">code_space</a>());</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_fragmentation) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a95616b4a1de76737188bb25ce12243d7">TraceFragmentation</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a36ef98ceb504120eae6a5b3d0dcf9fd4">code_space</a>());</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ade96b53880b218eba9217ef4f296dcdf">compacting_</a> = !<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a57e6e0473e2cf52591357fcbeb4ebfca">evacuation_candidates_</a>.empty();</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ade96b53880b218eba9217ef4f296dcdf">compacting_</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">// Helper function to get the bytecode flushing mode based on the flags. This</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">// is required because it is not safe to access flags in concurrent marker.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#add930103cc1c8f4e2b122d8a5086a7c7">  372</a></span>&#160;<a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;CodeFlushMode&gt;</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#add930103cc1c8f4e2b122d8a5086a7c7">GetCodeFlushMode</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;disable_bytecode_flushing()) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;CodeFlushMode&gt;</a>();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  }</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;CodeFlushMode&gt;</a> code_flush_mode;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_bytecode) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    code_flush_mode.<a class="code" href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">Add</a>(<a class="code" href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba8c3051baaa6427f61402f9f207469b77">CodeFlushMode::kFlushBytecode</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_baseline_code) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    code_flush_mode.<a class="code" href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">Add</a>(<a class="code" href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba023a5e1ba319d0465005e0fd207f3f50">CodeFlushMode::kFlushBaselineCode</a>);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_flush_code) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// This is to check tests accidentally don&#39;t miss out on adding either flush</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// bytecode or flush code along with stress flush code. stress_flush_code</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// doesn&#39;t do anything if either one of them isn&#39;t enabled.</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.fuzzing || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_baseline_code ||</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_bytecode);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    code_flush_mode.<a class="code" href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">Add</a>(<a class="code" href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba9835d90aa80a7bb2ab4cb991ff1462d4">CodeFlushMode::kForceFlush</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac8cc509992b731609d1cf0137437e6be">IsLastResortGC</a>() &amp;&amp;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_code_based_on_time ||</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;       <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_code_based_on_tab_visibility)) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    code_flush_mode.<a class="code" href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">Add</a>(<a class="code" href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba9835d90aa80a7bb2ab4cb991ff1462d4">CodeFlushMode::kForceFlush</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">return</span> code_flush_mode;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;}</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a222eabb25bd3b1513f83bc63e6043bf3">  406</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a222eabb25bd3b1513f83bc63e6043bf3">MarkCompactCollector::StartMarking</a>(</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    std::shared_ptr&lt;::heap::base::IncrementalMarkingSchedule&gt; schedule) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// The state for background thread is saved here and maintained for the whole</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">// GC cycle. Both CppHeap and regular V8 heap will refer to this flag.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a1c9a5589f6ebd3fd2eb5869923fe8e54">use_background_threads_in_cycle_</a> = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac434b6b237146b5964c6b76d7a8ad2c6">ShouldUseBackgroundThreads</a>();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae19c3ac5994087b78c51c64221e1771c">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac689c784f01c1729d13aeb4dc389c398">Unmark</a>();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="preprocessor">#ifdef V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;young_external_pointer_space()-&gt;StartCompactingIfNeeded();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;old_external_pointer_space()-&gt;StartCompactingIfNeeded();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;cpp_heap_pointer_space()-&gt;StartCompactingIfNeeded();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="comment">// CppHeap&#39;s marker must be initialized before the V8 marker to allow</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="comment">// exchanging of worklists.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* cpp_heap = <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a24145cfb85d15c42c670288e26308822">cpp_heap</a>())) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae19c3ac5994087b78c51c64221e1771c">heap</a>()-&gt;tracer(), GCTracer::Scope::MC_MARK_EMBEDDER_PROLOGUE);</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    cpp_heap-&gt;InitializeMarking(<a class="code" href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60a94f16e44c50fb544fc2b1f177b913cbc">CppHeap::CollectionType::kMajor</a>, schedule);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  std::vector&lt;Address&gt; contexts =</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abee2b61d93cc55561134df8f2ebb3401">memory_measurement</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryMeasurement.html#a061d53ab3d6b57b6a76398a07172fdc0">StartProcessing</a>();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_per_context_marking_worklist) {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    contexts.clear();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="classv8_1_1internal_1_1HandleScope.html">HandleScope</a> handle_scope(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>());</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> context : <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ad2046480742afeae3e40fc52ec9dd582">FindAllNativeContexts</a>()) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      contexts.push_back(context-&gt;ptr());</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GCTracer.html#a9f2350f20960172b968c227996c3974d">NotifyMarkingStart</a>();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a25ccbff2b71c818ffeab6970aad6510f">code_flush_mode_</a> = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#add930103cc1c8f4e2b122d8a5086a7c7">GetCodeFlushMode</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>());</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a84cbdfc60879f899e3aca799e53e5e42">marking_worklists_</a>.<a class="code" href="classv8_1_1internal_1_1MarkingWorklists.html#a03bdf39a61570cea166a4c86c4dc404a">CreateContextWorklists</a>(contexts);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keyword">auto</span>* cpp_heap = <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a7aa3dd4e8cf79ce7342fd16773ecfb8a">local_marking_worklists_</a> = std::make_unique&lt;MarkingWorklists::Local&gt;(</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      &amp;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a84cbdfc60879f899e3aca799e53e5e42">marking_worklists_</a>,</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      cpp_heap ? cpp_heap-&gt;CreateCppMarkingStateForMutatorThread()</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;               : MarkingWorklists::Local::kNoCppMarkingState);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7a10b022d9f335231b5ea7dbbdbaa51">local_weak_objects_</a> = std::make_unique&lt;WeakObjects::Local&gt;(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a13bc63346bb82388df996ca28b39f6d3">weak_objects</a>());</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#af61342980b0507790efb15034d83162f">marking_visitor_</a> = std::make_unique&lt;MainMarkingVisitor&gt;(</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a7aa3dd4e8cf79ce7342fd16773ecfb8a">local_marking_worklists_</a>.get(), <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7a10b022d9f335231b5ea7dbbdbaa51">local_weak_objects_</a>.get(), <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>, <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab77b1f17c1aaf49a93ba2e394fd11984">epoch</a>(),</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a00b443b2076c56d087e7c0decad77074">code_flush_mode</a>(), <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4b0a6b7b8b7d6daeff5de689c9008cbf">ShouldCurrentGCKeepAgesUnchanged</a>(),</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GCTracer.html#a52bba12f494cafdfa348e34457698eaf">CodeFlushingIncrease</a>());</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="comment">// This method evicts SFIs with flushed bytecode from the cache before</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// iterating the compilation cache as part of the root set. SFIs that get</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="comment">// flushed in this GC cycle will get evicted out of the cache in the next GC</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// cycle. The SFI will remain in the cache until then and may remain in the</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="comment">// cache even longer in case the SFI is re-compiled.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ad4c4bcd709b46ec7bb94b592e1421e06">compilation_cache</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1CompilationCache.html#a6c6f1bec5e0eeb46801ff0f051fd381a">MarkCompactPrologue</a>();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Marking bits are cleared by the sweeper or unmarker (if sticky mark-bits</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="comment">// are enabled).</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_heap) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    VerifyMarkbitsAreClean();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;}</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a927eebc2a596cab74de9a052a849d0ea">  466</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a927eebc2a596cab74de9a052a849d0ea">MarkCompactCollector::MaybeEnableBackgroundThreadsInCycle</a>(</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a85c44c012f24399a6d96a1191d92e4fb">CallOrigin</a> origin) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.concurrent_marking &amp;&amp; !<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a1c9a5589f6ebd3fd2eb5869923fe8e54">use_background_threads_in_cycle_</a>) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">// With --parallel_pause_for_gc_in_background we force background threads in</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">// the atomic pause.</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> force_background_threads =</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_pause_for_gc_in_background &amp;&amp;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        origin == <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a85c44c012f24399a6d96a1191d92e4fba9475de0921b6e2867bf258b7d16d50f7">CallOrigin::kAtomicGC</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a1c9a5589f6ebd3fd2eb5869923fe8e54">use_background_threads_in_cycle_</a> =</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        force_background_threads || <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae19c3ac5994087b78c51c64221e1771c">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac434b6b237146b5964c6b76d7a8ad2c6">ShouldUseBackgroundThreads</a>();</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a1c9a5589f6ebd3fd2eb5869923fe8e54">use_background_threads_in_cycle_</a>) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aaac51e78398da9ba59e847682b3a62fa">concurrent_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ConcurrentMarking.html#aaf8d90cff77b3890a4de513377521ce4">RescheduleJobIfNeeded</a>(</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5">GarbageCollector::MARK_COMPACTOR</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span>* cpp_heap = <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>)) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        cpp_heap-&gt;ReEnableConcurrentMarking();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;}</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a82db441b928fc8abc959d3d4c7c18906">  488</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a82db441b928fc8abc959d3d4c7c18906">MarkCompactCollector::CollectGarbage</a>() {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// Make sure that Prepare() has been called. The individual steps below will</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">// update the state as they proceed.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(state_ == PREPARE_GC);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a927eebc2a596cab74de9a052a849d0ea">MaybeEnableBackgroundThreadsInCycle</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a85c44c012f24399a6d96a1191d92e4fba9475de0921b6e2867bf258b7d16d50f7">CallOrigin::kAtomicGC</a>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a16935f51d75fd467f80fae7c7d960e5e">MarkLiveObjects</a>();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* cpp_heap = <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>)) {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    cpp_heap-&gt;ProcessCrossThreadWeakness();</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// This will walk dead object graphs and so requires that all references are</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="comment">// still intact.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#adf2bc94ab3ef1e83c8e7f8df722f1896">RecordObjectStats</a>();</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a129119a903f3c2057d4a02d0ed5d0e7e">ClearNonLiveReferences</a>();</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a17e6e45984b6757652c6611c22c17cff">VerifyMarking</a>();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* cpp_heap = <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>)) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    cpp_heap-&gt;FinishMarkingAndProcessWeakness();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abee2b61d93cc55561134df8f2ebb3401">memory_measurement</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryMeasurement.html#a2b16af443017f8c53573e169987d6d93">FinishProcessing</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#adebad6550fadebad8005f173c10359c6">native_context_stats_</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a10a5a2e6ceb32614eacab77deaa104fe">Sweep</a>();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa553d7a0b23e5ce515c7dd3289ae84fa">Evacuate</a>();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa1bd78a56ac02e2696341af641334a6b">Finish</a>();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1PagedSpaceBase.html">PagedSpaceBase</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : *<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(p-&gt;marking_bitmap()-&gt;IsClean());</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(0, p-&gt;live_bytes());</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::VerifyMarkbitsAreClean(NewSpace* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms) {</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1PagedNewSpace.html#a92f245da42fe0a7f7385138e4ad491cd">PagedNewSpace::From</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>)-&gt;paged_space());</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">for</span> (PageMetadata* p : *<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(p-&gt;marking_bitmap()-&gt;IsClean());</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(0, p-&gt;live_bytes());</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::VerifyMarkbitsAreClean(LargeObjectSpace* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  LargeObjectSpaceObjectIterator it(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> obj = it.Next(); !obj.is_null(); obj = it.Next()) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#afae21b5cab72b362b1b379c2f3bda5f8">non_atomic_marking_state_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MarkingStateBase.html#aaf1662a3d84f030521524b6bc605785e">IsUnmarked</a>(obj));</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a>(0, <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#afd76b7261895b2043b1715d180858d29">MutablePageMetadata::FromHeapObject</a>(obj)-&gt;live_bytes());</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::VerifyMarkbitsAreClean() {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8d7b791efdd8818bc3dcd98ce920b06c">old_space</a>());</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a36ef98ceb504120eae6a5b3d0dcf9fd4">code_space</a>());</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>());</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ad2f135c51e5752f90638521eee547129">lo_space</a>());</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a5764a451d0ae89d86f93771f9bf7ab9b">code_lo_space</a>());</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>());</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a353eba8c85db23f30be40d7e297ded1d">trusted_space</a>());</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  VerifyMarkbitsAreClean(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2af5297111d0e83b963f308d5b5e1d52">trusted_lo_space</a>());</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5baec12608267c330286a39281ddf7af">  561</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5baec12608267c330286a39281ddf7af">MarkCompactCollector::ComputeEvacuationHeuristics</a>(</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">size_t</span> area_size, <span class="keywordtype">int</span>* target_fragmentation_percent,</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">size_t</span>* max_evacuated_bytes) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// For memory reducing and optimize for memory mode we directly define both</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// constants.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kTargetFragmentationPercentForReduceMemory = 20;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> kMaxEvacuatedBytesForReduceMemory = 12 * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kTargetFragmentationPercentForOptimizeMemory = 20;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> kMaxEvacuatedBytesForOptimizeMemory = 6 * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">// For regular mode (which is latency critical) we define less aggressive</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="comment">// defaults to start and switch to a trace-based (using compaction speed)</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// approach as soon as we have enough samples.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> kTargetFragmentationPercent = 70;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> kMaxEvacuatedBytes = 4 * <a class="code" href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">MB</a>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="comment">// Time to take for a single area (=payload of page). Used as soon as there</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="comment">// exist enough compaction speed samples.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">float</span> kTargetMsPerArea = .5;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#afd52b490b8d03599fbf5510d6f54b117">ShouldReduceMemory</a>()) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    *target_fragmentation_percent = kTargetFragmentationPercentForReduceMemory;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    *max_evacuated_bytes = kMaxEvacuatedBytesForReduceMemory;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ad2128865e219ddb70695e23563141da9">ShouldOptimizeForMemoryUsage</a>()) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    *target_fragmentation_percent =</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        kTargetFragmentationPercentForOptimizeMemory;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    *max_evacuated_bytes = kMaxEvacuatedBytesForOptimizeMemory;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">const</span> std::optional&lt;double&gt; estimated_compaction_speed =</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GCTracer.html#ad7d2f16e123b5303b24858b22ddde30f">CompactionSpeedInBytesPerMillisecond</a>();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">if</span> (estimated_compaction_speed.has_value()) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="comment">// Estimate the target fragmentation based on traced compaction speed</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="comment">// and a goal for a single page.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> estimated_ms_per_area =</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;          1 + area_size / *estimated_compaction_speed;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      *target_fragmentation_percent = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;          100 - 100 * kTargetMsPerArea / estimated_ms_per_area);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (*target_fragmentation_percent &lt;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          kTargetFragmentationPercentForReduceMemory) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        *target_fragmentation_percent =</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            kTargetFragmentationPercentForReduceMemory;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      *target_fragmentation_percent = kTargetFragmentationPercent;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    *max_evacuated_bytes = kMaxEvacuatedBytes;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">  609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">MarkCompactCollector::CollectEvacuationCandidates</a>(<a class="code" href="classv8_1_1internal_1_1PagedSpace.html">PagedSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a> || <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">CODE_SPACE</a> ||</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;         <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">SHARED_SPACE</a> ||</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;         <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b">TRUSTED_SPACE</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordtype">int</span> number_of_pages = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;CountTotalPages();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keywordtype">size_t</span> area_size = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;AreaSize();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> in_standard_path =</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      !(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.manual_evacuation_candidates_selection ||</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction_random || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction ||</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_on_every_full_gc);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// Those variables will only be initialized if |in_standard_path|, and are not</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="comment">// used otherwise.</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordtype">size_t</span> max_evacuated_bytes;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordtype">int</span> target_fragmentation_percent;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordtype">size_t</span> free_bytes_threshold;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (in_standard_path) {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// We use two conditions to decide whether a page qualifies as an evacuation</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">// candidate, or not:</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="comment">// * Target fragmentation: How fragmented is a page, i.e., how is the ratio</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="comment">//   between live bytes and capacity of this page (= area).</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    <span class="comment">// * Evacuation quota: A global quota determining how much bytes should be</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">//   compacted.</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5baec12608267c330286a39281ddf7af">ComputeEvacuationHeuristics</a>(area_size, &amp;target_fragmentation_percent,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                                &amp;max_evacuated_bytes);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    free_bytes_threshold = target_fragmentation_percent * (area_size / 100);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="comment">// Pairs of (live_bytes_in_page, page).</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keyword">using</span> LiveBytesPagePair = std::pair&lt;size_t, PageMetadata*&gt;;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  std::vector&lt;LiveBytesPagePair&gt; pages;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  pages.reserve(number_of_pages);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac461786105da85b3815ffc21717d883d">sweeper_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#a01bad92ed163322fda20e965bec9e19e">sweeping_in_progress</a>());</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : *<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = p-&gt;Chunk();</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a72bc65caf0c47dc3a85f4535359b8ac1">NeverEvacuate</a>() || !chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#ac6f69e1c360286fb6d0112508969cc39">CanAllocate</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a59bec6e443b8360a946b8285aee9d887">IsPinned</a>()) {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a9b9c83db34c98c75a25e8f82f7bc8cef">MemoryChunk::FORCE_EVACUATION_CANDIDATE_FOR_TESTING</a>));</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">// Invariant: Evacuation candidates are just created when marking is</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// started. This means that sweeping has finished. Furthermore, at the end</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// of a GC all evacuation candidates are cleared and their slot buffers are</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// released.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a31917793e4e1f003c57c07b8dd2422fa">IsEvacuationCandidate</a>());</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a>(p-&gt;slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>&gt;());</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a>(p-&gt;typed_slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>&gt;());</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(p-&gt;SweepingDone());</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(p-&gt;area_size() == area_size);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">if</span> (in_standard_path) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="comment">// Only the pages with at more than |free_bytes_threshold| free bytes are</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="comment">// considered for evacuation.</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">if</span> (area_size - p-&gt;allocated_bytes() &gt;= free_bytes_threshold) {</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        pages.push_back(std::make_pair(p-&gt;allocated_bytes(), p));</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      pages.push_back(std::make_pair(p-&gt;allocated_bytes(), p));</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordtype">int</span> candidate_count = 0;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keywordtype">size_t</span> total_live_bytes = 0;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> reduce_memory = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#afd52b490b8d03599fbf5510d6f54b117">ShouldReduceMemory</a>();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.manual_evacuation_candidates_selection) {</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; pages.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p = pages[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].second;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>();</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;              <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a9b9c83db34c98c75a25e8f82f7bc8cef">MemoryChunk::FORCE_EVACUATION_CANDIDATE_FOR_TESTING</a>)) {</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        candidate_count++;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        total_live_bytes += pages[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].first;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a0398fad4cb6436a18dc1599b206c3b87">ClearFlagSlow</a>(</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a9b9c83db34c98c75a25e8f82f7bc8cef">MemoryChunk::FORCE_EVACUATION_CANDIDATE_FOR_TESTING</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">AddEvacuationCandidate</a>(p);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction_random) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordtype">double</span> fraction = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#af9cf39c5ddba566eeed46a1f5064a561">fuzzer_rng</a>()-&gt;<a class="code" href="classv8_1_1base_1_1RandomNumberGenerator.html#a3cb661fd70f4322d36792f98acd6ca7e">NextDouble</a>();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordtype">size_t</span> pages_to_mark_count =</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(fraction * (pages.size() + 1));</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">for</span> (uint64_t <a class="code" href="namespacev8_1_1internal.html">i</a> : <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#af9cf39c5ddba566eeed46a1f5064a561">fuzzer_rng</a>()-&gt;<a class="code" href="classv8_1_1base_1_1RandomNumberGenerator.html#a4090ec844e0f1cc4150db68cf69c6c7d">NextSample</a>(</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;             pages.size(), pages_to_mark_count)) {</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      candidate_count++;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      total_live_bytes += pages[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].first;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">AddEvacuationCandidate</a>(pages[<a class="code" href="namespacev8_1_1internal.html">i</a>].second);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; pages.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p = pages[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].second;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html">i</a> % 2 == 0) {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        candidate_count++;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        total_live_bytes += pages[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].first;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">AddEvacuationCandidate</a>(p);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      }</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// The following approach determines the pages that should be evacuated.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// Sort pages from the most free to the least free, then select</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// the first n pages for evacuation such that:</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// - the total size of evacuated objects does not exceed the specified</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// limit.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// - fragmentation of (n+1)-th page does not exceed the specified limit.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">std::sort</a>(pages.begin(), pages.end(),</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;              [](<span class="keyword">const</span> LiveBytesPagePair&amp; a, <span class="keyword">const</span> LiveBytesPagePair&amp; b) {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                return a.first &lt; b.first;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;              });</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; pages.size(); <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordtype">size_t</span> live_bytes = pages[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>].first;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(area_size, live_bytes);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_on_every_full_gc ||</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          ((total_live_bytes + live_bytes) &lt;= max_evacuated_bytes)) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        candidate_count++;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        total_live_bytes += live_bytes;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_fragmentation_verbose) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>(),</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                     <span class="stringliteral">&quot;compaction-selection-page: space=%s free_bytes_page=%zu &quot;</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                     <span class="stringliteral">&quot;fragmentation_limit_kb=%zu &quot;</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                     <span class="stringliteral">&quot;fragmentation_limit_percent=%d sum_compaction_kb=%zu &quot;</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                     <span class="stringliteral">&quot;compaction_limit_kb=%zu\n&quot;</span>,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                     <a class="code" href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">ToString</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity()), (area_size - live_bytes) / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                     free_bytes_threshold / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>, target_fragmentation_percent,</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                     total_live_bytes / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>, max_evacuated_bytes / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>);</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      }</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// How many pages we will allocated for the evacuated objects</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// in the worst case: ceil(total_live_bytes / area_size)</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordtype">int</span> estimated_new_pages =</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>((total_live_bytes + area_size - 1) / area_size);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(estimated_new_pages, candidate_count);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordtype">int</span> estimated_released_pages = candidate_count - estimated_new_pages;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="comment">// Avoid (compact -&gt; expand) cycles.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">if</span> ((estimated_released_pages == 0) &amp;&amp; !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_on_every_full_gc) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      candidate_count = 0;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; candidate_count; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">AddEvacuationCandidate</a>(pages[<a class="code" href="namespacev8_1_1internal.html">i</a>].second);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_fragmentation) {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>(),</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                 <span class="stringliteral">&quot;compaction-selection: space=%s reduce_memory=%d pages=%d &quot;</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                 <span class="stringliteral">&quot;total_live_bytes=%zu\n&quot;</span>,</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                 <a class="code" href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">ToString</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity()), reduce_memory, candidate_count,</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                 total_live_bytes / <a class="code" href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">KB</a>);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a88bb504c9d7b76a16ab2f067e907574c">  765</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a88bb504c9d7b76a16ab2f067e907574c">MarkCompactCollector::Prepare</a>() {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(state_ == <a class="code" href="namespacev8.html#af4bd667bae597459fddd3443cbec0cb2ab7c9b8c4d5920370856a0fc30c2b6bb8">IDLE</a>);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  state_ = PREPARE_GC;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac461786105da85b3815ffc21717d883d">sweeper_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#a01bad92ed163322fda20e965bec9e19e">sweeping_in_progress</a>());</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aca549fb459876aff6e5a580c807d1607">incremental_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IncrementalMarking.html#a36f76d27a7a670a4b270804cef79cea1">IsMarking</a>(),</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                 <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aca549fb459876aff6e5a580c807d1607">incremental_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IncrementalMarking.html#af7648dd98be368a6b882111f2c62441c">IsMajorMarking</a>());</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aca549fb459876aff6e5a580c807d1607">incremental_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IncrementalMarking.html#a36f76d27a7a670a4b270804cef79cea1">IsMarking</a>()) {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7e6a8160a88f451d394d7135403f3ae">StartCompaction</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aeffa934d2a7a740c62b6b7521f0c3897a726d9cf5163c50b3cf8e05800e3cef71">StartCompactionMode::kAtomic</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a222eabb25bd3b1513f83bc63e6043bf3">StartMarking</a>();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_MARK_EMBEDDER_PROLOGUE);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="comment">// `StartMarking()` immediately starts marking which requires V8 worklists</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="comment">// to be set up.</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>)-&gt;<a class="code" href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">StartMarking</a>();</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* new_space = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    new_space-&gt;GarbageCollectionPrologue();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a3498d35123e49efe70dd0921c5dda802">use_new_space</a>()) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> original_top = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a71a5010a2dde4bbad050c4947dc450e2">allocator</a>()</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                               -&gt;<a class="code" href="classv8_1_1internal_1_1HeapAllocator.html#a021e4a3fc4d7ff340e494fa638d848ef">new_space_allocator</a>()</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                               -&gt;<a class="code" href="classv8_1_1internal_1_1MainAllocator.html#af8c189b36b71592dd9f3b3b98c636de9">GetOriginalTopAndLimit</a>()</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                               .first;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a71a5010a2dde4bbad050c4947dc450e2">allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1HeapAllocator.html#a021e4a3fc4d7ff340e494fa638d848ef">new_space_allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MainAllocator.html#affcbea59347c2fdd71bfdf184be65197">top</a>(), original_top);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;}</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; </div>
<div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a9d6f060a09240e70ae531c260c99650b">  799</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a9d6f060a09240e70ae531c260c99650b">MarkCompactCollector::FinishConcurrentMarking</a>() {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="comment">// FinishConcurrentMarking is called for both, concurrent and parallel,</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  <span class="comment">// marking. It is safe to call this function when tasks are already finished.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aaac51e78398da9ba59e847682b3a62fa">concurrent_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ConcurrentMarking.html#a884b7ca1bb9c41508d91ca620cdd29a9">garbage_collector</a>(),</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <a class="code" href="namespacev8_1_1internal.html#ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5">GarbageCollector::MARK_COMPACTOR</a>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_marking || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.concurrent_marking) {</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aaac51e78398da9ba59e847682b3a62fa">concurrent_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ConcurrentMarking.html#a43f88ef394ce90569543e44ab0381cf8">Join</a>();</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aaac51e78398da9ba59e847682b3a62fa">concurrent_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ConcurrentMarking.html#a3f1743cd46ce9240e4ffbb5098de064b">FlushMemoryChunkData</a>();</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aaac51e78398da9ba59e847682b3a62fa">concurrent_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ConcurrentMarking.html#a8eaf129f2de29cd9b015ed61b31babc5">FlushNativeContexts</a>(&amp;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#adebad6550fadebad8005f173c10359c6">native_context_stats_</a>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* cpp_heap = <a class="code" href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">CppHeap::From</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">cpp_heap_</a>)) {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    cpp_heap-&gt;FinishConcurrentMarkingIfNeeded();</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a17e6e45984b6757652c6611c22c17cff">  814</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a17e6e45984b6757652c6611c22c17cff">MarkCompactCollector::VerifyMarking</a>() {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a7aa3dd4e8cf79ce7342fd16773ecfb8a">local_marking_worklists_</a>-&gt;IsEmpty());</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aca549fb459876aff6e5a580c807d1607">incremental_marking</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1IncrementalMarking.html#a421afcfedbad9dba889295ea646625fa">IsStopped</a>());</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_heap) {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_MARK_VERIFY);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    FullMarkingVerifier verifier(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    verifier.Run();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8d7b791efdd8818bc3dcd98ce920b06c">old_space</a>()-&gt;VerifyLiveBytes();</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a36ef98ceb504120eae6a5b3d0dcf9fd4">code_space</a>()-&gt;VerifyLiveBytes();</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a125e37c0ebec23dda96a152ac6881820">shared_space</a>()) <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a125e37c0ebec23dda96a152ac6881820">shared_space</a>()-&gt;VerifyLiveBytes();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a353eba8c85db23f30be40d7e297ded1d">trusted_space</a>()-&gt;VerifyLiveBytes();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms &amp;&amp; <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#acdb258ef166633d7ea0912d882109e30">paged_new_space</a>())</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#acdb258ef166633d7ea0912d882109e30">paged_new_space</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1PagedNewSpace.html#ad0dd111dc068ebfadba6491a35652691">paged_space</a>()-&gt;VerifyLiveBytes();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;}</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2f28540a451fde6740ec4100c5e186ea">  834</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2f28540a451fde6740ec4100c5e186ea">ShrinkPagesToObjectSizes</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1OldLargeObjectSpace.html">OldLargeObjectSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordtype">size_t</span> surviving_object_size = 0;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate());</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;begin(); it != <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;end();) {</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html">LargePageMetadata</a>* current = *(it++);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = current-&gt;<a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html#aa81d2320947766137b1c995447fb464c">GetObject</a>();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> object_size = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<span class="keywordtype">object</span>-&gt;Size(cage_base));</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;ShrinkPageToObjectSize(current, <span class="keywordtype">object</span>, object_size);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    surviving_object_size += object_size;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;set_objects_size(surviving_object_size);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160; </div>
<div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa1bd78a56ac02e2696341af641334a6b">  849</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa1bd78a56ac02e2696341af641334a6b">MarkCompactCollector::Finish</a>() {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="gc-tracer_8h.html#a44d6debe5f608aa9654172245625ef38">TRACE_GC_EPOCH_WITH_FLOW</a>(</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_SWEEP, <a class="code" href="namespacev8_1_1internal.html#a34c412e70714b6b814e60c4b6883e0eea04ed0d17680a76a1a906aed4ff47cd07">ThreadKind::kMain</a>,</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac461786105da85b3815ffc21717d883d">sweeper_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#a374de26e99dae0ad5f32c1cbeab58285">GetTraceIdForFlowEvent</a>(GCTracer::Scope::MC_SWEEP),</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a> | <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160; </div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="comment">// Delay releasing empty new space pages and dead new large object pages</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="comment">// until after pointer updating is done because dead old space objects may</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// have slots pointing to these pages and will need to be updated.</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms,</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa333a0a067ea24b0545c99392cc77848">empty_new_space_pages_to_be_swept_</a>.empty());</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa333a0a067ea24b0545c99392cc77848">empty_new_space_pages_to_be_swept_</a>.empty()) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_SWEEP_NEW, <a class="code" href="namespacev8_1_1internal.html#a34c412e70714b6b814e60c4b6883e0eea04ed0d17680a76a1a906aed4ff47cd07">ThreadKind::kMain</a>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa333a0a067ea24b0545c99392cc77848">empty_new_space_pages_to_be_swept_</a>) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <span class="comment">// Sweeping empty pages already relinks them to the freelist.</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac461786105da85b3815ffc21717d883d">sweeper_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#aca5b4d1317e28419219a4ef8982efc72">SweepEmptyNewSpacePage</a>(p);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      }</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa333a0a067ea24b0545c99392cc77848">empty_new_space_pages_to_be_swept_</a>.clear();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160; </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>()) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_SWEEP_NEW_LO);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a14f47d0348b13ca89bea5f71604fa8f9">SweepLargeSpace</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>());</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160; </div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;VerifyCountersBeforeConcurrentSweeping(</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5">GarbageCollector::MARK_COMPACTOR</a>);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()) {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_EVACUATE);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_EVACUATE_REBALANCE);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4f77b61e4d779f97f1305eb1b7339bc4">ResizeNewSpace</a>();</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::MC_FINISH);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a71a5010a2dde4bbad050c4947dc450e2">allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1HeapAllocator.html#a021e4a3fc4d7ff340e494fa638d848ef">new_space_allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MainAllocator.html#af63591da1398980234236b7168175772">IsLabValid</a>());</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1NewSpace.html#a6666d02587ff04156b91f1e56dbedbd7">GarbageCollectionEpilogue</a>();</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160; </div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keyword">auto</span>* isolate = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>();</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a2714e74bceacf9555c6a02745a0319e2">global_handles</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalHandles.html#a286951f39aa659e819fdcbcf31cd7d9d">ClearListOfYoungNodes</a>();</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; </div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a26199027fc8ec567b87add6be727214c">SweepArrayBufferExtensions</a>();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#af61342980b0507790efb15034d83162f">marking_visitor_</a>.reset();</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a7aa3dd4e8cf79ce7342fd16773ecfb8a">local_marking_worklists_</a>.reset();</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a84cbdfc60879f899e3aca799e53e5e42">marking_worklists_</a>.<a class="code" href="classv8_1_1internal_1_1MarkingWorklists.html#ad043c0f34b550badabc3d15a17c52943">ReleaseContextWorklists</a>();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#adebad6550fadebad8005f173c10359c6">native_context_stats_</a>.<a class="code" href="classv8_1_1internal_1_1NativeContextStats.html#af295a45eb3605b4771e84ae2aa4a7f48">Clear</a>();</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a081b322601a4f48341bab12890a37b11">key_to_values_</a>.clear();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a0fcc37fc5a17ba03b80c55849b314fec">weak_objects_</a>.current_ephemerons.IsEmpty());</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7a10b022d9f335231b5ea7dbbdbaa51">local_weak_objects_</a>-&gt;next_ephemerons_local.Publish();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7a10b022d9f335231b5ea7dbbdbaa51">local_weak_objects_</a>.reset();</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a0fcc37fc5a17ba03b80c55849b314fec">weak_objects_</a>.next_ephemerons.<a class="code" href="classv8_1_1internal_1_1WeakObjects.html#a0557b5c72151038a6d73b9d5aa6804eb">Clear</a>();</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac461786105da85b3815ffc21717d883d">sweeper_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#a18ffd1567b5bf06adae1fff80f4207d0">StartMajorSweeperTasks</a>();</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160; </div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="comment">// Release empty pages now, when the pointer-update phase is done.</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page : <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a18e20b7391f846e5f4c429eda5bf5cbe">queued_pages_to_be_freed_</a>) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a9564c4573a66c20043a7602155074b57">memory_allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryAllocator.html#a44f020919cc4a6c1859943003e577424">Free</a>(<a class="code" href="classv8_1_1internal_1_1MemoryAllocator.html#a1c5f0a0deae321ce11d19b7be506ed8ba40aff34e1505b9920e3a4ec8f3763fb5">MemoryAllocator::FreeMode::kImmediately</a>,</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                                    page);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a18e20b7391f846e5f4c429eda5bf5cbe">queued_pages_to_be_freed_</a>.clear();</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// Shrink pages if possible after processing and filtering slots.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2f28540a451fde6740ec4100c5e186ea">ShrinkPagesToObjectSizes</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>, <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ad2f135c51e5752f90638521eee547129">lo_space</a>());</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; </div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(state_ == SWEEP_SPACES || state_ == RELOCATE_OBJECTS);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  state_ = <a class="code" href="namespacev8.html#af4bd667bae597459fddd3443cbec0cb2ab7c9b8c4d5920370856a0fc30c2b6bb8">IDLE</a>;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160; </div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a2bf16e5a4b1908c7abfc22383d37980f">have_code_to_deoptimize_</a>) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="comment">// Some code objects were marked for deoptimization during the GC.</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Deoptimizer.html#a7cbb81963c0529cc90612511d408db06">Deoptimizer::DeoptimizeMarkedCode</a>(isolate);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a2bf16e5a4b1908c7abfc22383d37980f">have_code_to_deoptimize_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;}</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160; </div>
<div class="line"><a name="l00935"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a26199027fc8ec567b87add6be727214c">  935</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a26199027fc8ec567b87add6be727214c">MarkCompactCollector::SweepArrayBufferExtensions</a>() {</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>(), <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()-&gt;Size() == 0);</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>(), <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1LargeObjectSpace.html#a2bffda9f3fd2a5766480a0b4f2c77a82">Size</a>() == 0);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aad4ced219dceeeabe3f688dcc3b7736a">array_buffer_sweeper</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1ArrayBufferSweeper.html#a5fd86b603aaa53c5799679544e8b479f">RequestSweep</a>(</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ArrayBufferSweeper.html#a64a03d5f0aa3d4fb500b899ed3ff3342aa60924e124da4d51bd4dc74c8f85b158">ArrayBufferSweeper::SweepingType::kFull</a>,</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ArrayBufferSweeper.html#a77240e54ef35b7c87630abc2b6b2b82ea1ea590aa4a64767508460736ac0edaa9">ArrayBufferSweeper::TreatAllYoungAsPromoted::kYes</a>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;}</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160; </div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">// This visitor is used to visit the body of special objects held alive by</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">// other roots.</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">// It is currently used for</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">// - InstructionStream held alive by the top optimized frame. This code cannot</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">// be deoptimized and thus have to be kept alive in an isolate way, i.e., it</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">// should not keep alive other code objects reachable through the weak list but</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">// they should keep alive its embedded pointers (which would otherwise be</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">// dropped).</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">// - Prefix of the string table.</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">// - If V8_ENABLE_SANDBOX, client Isolates&#39; waiter queue node</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">// ExternalPointer_t in shared Isolates.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html">  955</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html">MarkCompactCollector::CustomRootBodyMarkingVisitor</a> final</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html">ObjectVisitorWithCageBases</a> {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#ae037bbace247314c3f474eab73defb45">  958</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#ae037bbace247314c3f474eab73defb45">CustomRootBodyMarkingVisitor</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html">ObjectVisitorWithCageBases</a>(collector-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;isolate()),</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52fc0ed74a9c8a99483baaa99d02bc33">collector_</a>(collector) {}</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a7b773b2815d0ae8e57e44d3b8a17ff19">  962</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a7b773b2815d0ae8e57e44d3b8a17ff19">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(host, p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a2183640daa791b6e179c41a56af82255">  966</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a2183640daa791b6e179c41a56af82255">VisitMapPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(host, host-&gt;map(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#adfdf4627a33fb7f125335a4371840ef7">  970</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#adfdf4627a33fb7f125335a4371840ef7">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> start,</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="comment">// The map slot should be handled in VisitMapPointer.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(host-&gt;map_slot(), p);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#af039bc88de94b25997667370586789d0">HasWeakHeapObjectTag</a>(p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>())));</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(host, p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160; </div>
<div class="line"><a name="l00980"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a42bf6bc8999d191223cab0d468eb7db8">  980</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a42bf6bc8999d191223cab0d468eb7db8">VisitInstructionStreamPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host,</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(host, slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a4e88c8ba68e8440c83abd6077dad7c0a">load</a>(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a659af9693d9c8a62f14eba44fd06cfe6">code_cage_base</a>()));</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a997aee5aabfbef6df6c0d6cda031580c">  985</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a997aee5aabfbef6df6c0d6cda031580c">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">// At the moment, custom roots cannot contain weak pointers.</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160; </div>
<div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52151f4b401932c665a3374cc8f7e2dd">  991</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52151f4b401932c665a3374cc8f7e2dd">VisitCodeTarget</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> target =</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="classv8_1_1internal_1_1InstructionStream.html#a609ae4cdb6b49935b0fc6a55711a5191">InstructionStream::FromTargetAddress</a>(rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a5105ad25a3cfafd733106928a9d8a4ad">target_address</a>());</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(host, target);</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#add5c795d9670b0c59735d7563457d923">  998</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#add5c795d9670b0c59735d7563457d923">VisitEmbeddedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(host, rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ab620178a9b0590638fdc6834b53eb328">target_object</a>(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160; </div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357"> 1004</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">MarkObject</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(<span class="keywordtype">object</span>)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> target_worklist =</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ac5e90f6e0c7ddb83975856969a4ad03f">MarkingHelper::ShouldMarkObject</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52fc0ed74a9c8a99483baaa99d02bc33">collector_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae19c3ac5994087b78c51c64221e1771c">heap</a>(), heap_object);</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (!target_worklist) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52fc0ed74a9c8a99483baaa99d02bc33">collector_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a12d88c9886e76b0365ad7e70af83b280">MarkObject</a>(host, heap_object, target_worklist.value());</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52fc0ed74a9c8a99483baaa99d02bc33"> 1015</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52fc0ed74a9c8a99483baaa99d02bc33">collector_</a>;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;};</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html"> 1018</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html">MarkCompactCollector::SharedHeapObjectVisitor</a> final</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;MarkCompactCollector::SharedHeapObjectVisitor&gt; {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01021"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a0bf824516021b2368b38148540b85096"> 1021</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a0bf824516021b2368b38148540b85096">SharedHeapObjectVisitor</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>(collector-&gt;<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#a4026d6517442ceaf7c3f2f74156fe9ae">heap_</a>-&gt;isolate()), <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ab1b43886c6ffb0f3ade4f8ad8a4e836f">collector_</a>(collector) {}</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160; </div>
<div class="line"><a name="l01024"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a16776b5432f51c6c2b6252bc22420b0a"> 1024</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a16776b5432f51c6c2b6252bc22420b0a">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29">CheckForSharedObject</a>(host, p, p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#acea62577d515690e9ad7b84bc832ae0e"> 1028</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#acea62577d515690e9ad7b84bc832ae0e">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> p) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> <span class="keywordtype">object</span> = p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>());</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.GetHeapObject(&amp;heap_object))</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29">CheckForSharedObject</a>(host, <a class="code" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a>(p), heap_object);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160; </div>
<div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a5fec89650b78f0bda9c57a22038c95bb"> 1035</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a5fec89650b78f0bda9c57a22038c95bb">VisitMapPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29">CheckForSharedObject</a>(host, host-&gt;map_slot(), host-&gt;map(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160; </div>
<div class="line"><a name="l01039"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a2123ddc921b380733dfb73b59a4757e9"> 1039</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a2123ddc921b380733dfb73b59a4757e9">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> start,</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      <span class="comment">// The map slot should be handled in VisitMapPointer.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(host-&gt;map_slot(), p);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#af039bc88de94b25997667370586789d0">HasWeakHeapObjectTag</a>(p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>())));</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29">CheckForSharedObject</a>(host, p, p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()));</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ac87920e3725a9ecaea79cefd4881c1f5"> 1049</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ac87920e3725a9ecaea79cefd4881c1f5">VisitInstructionStreamPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host,</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8012ea60cbce361a19727bef2ca999ec"> 1054</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8012ea60cbce361a19727bef2ca999ec">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="comment">// The map slot should be handled in VisitMapPointer.</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(host-&gt;map_slot(), <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a>(p));</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a16776b5432f51c6c2b6252bc22420b0a">VisitPointer</a>(host, p);</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    }</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160; </div>
<div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a91df02cd39747af4cbe3b876f511e192"> 1063</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a91df02cd39747af4cbe3b876f511e192">VisitCodeTarget</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a3c6ff55ec2916dad128b28633956c487"> 1068</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a3c6ff55ec2916dad128b28633956c487">VisitEmbeddedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29"> 1074</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29">CheckForSharedObject</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                                      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#ae77bf0d1f0e1b86681fb29101ecd527a">HeapLayout::InAnySharedSpace</a>(host));</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>.GetHeapObject(&amp;heap_object)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object));</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* host_chunk = <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a0481ad8f68cb1d4a794d588d80cc8f54">MemoryChunk::FromHeapObject</a>(host);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* host_page_metadata =</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#acaa892e234b2fe3170fa488f5a9a3767">MutablePageMetadata::cast</a>(host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">Metadata</a>());</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(host));</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// Temporarily record new-to-shared slots in the old-to-shared remembered</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// set so we don&#39;t need to iterate the page again later for updating the</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// references.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        host_page_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()));</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ac5e90f6e0c7ddb83975856969a4ad03f">MarkingHelper::ShouldMarkObject</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ab1b43886c6ffb0f3ade4f8ad8a4e836f">collector_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae19c3ac5994087b78c51c64221e1771c">heap</a>(), heap_object)) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ab1b43886c6ffb0f3ade4f8ad8a4e836f">collector_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a4ff3035e5f30676d376dfe540f5cb6ea">MarkRootObject</a>(Root::kClientHeap, heap_object,</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                                 <a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#a73ca663c9ba5d36d0b15ff93b323b267a520ecade39431601ba732cd4f6de66fa">MarkingHelper::WorklistTarget::kRegular</a>);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ab1b43886c6ffb0f3ade4f8ad8a4e836f"> 1096</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ab1b43886c6ffb0f3ade4f8ad8a4e836f">collector_</a>;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;};</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html"> 1099</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html">InternalizedStringTableCleaner</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01101"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a75acba88de7b78ce94f33431d41af1c8"> 1101</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a75acba88de7b78ce94f33431d41af1c8">InternalizedStringTableCleaner</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>) : <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160; </div>
<div class="line"><a name="l01103"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a1361cd9f1f8f2588337cb24d7d376211"> 1103</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a1361cd9f1f8f2588337cb24d7d376211">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> start, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#ad0ec0e4d1601a86840938148cd39c210"> 1108</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#ad0ec0e4d1601a86840938148cd39c210">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> start,</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(root, Root::kStringTable);</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// Visit all HeapObject pointers in [start, end).</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>();</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> o = p.load(isolate);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(o)) {</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(o);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(heap_object));</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ab368d545a9f0cdd6db20243117cc8944">MarkingHelper::IsUnmarkedAndNotAlwaysLive</a>(</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a">heap_</a>, <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a7bfaafb912d7be87fd7043b7629f7675">marking_state</a>(), heap_object)) {</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;          <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a904d7c1c06d49fbf9ea9039e19061783">pointers_removed_</a>++;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;          p.store(<a class="code" href="classv8_1_1internal_1_1StringTable.html#ae6b153e0f379e1c83a976e3da401ebf8">StringTable::deleted_element</a>());</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  }</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160; </div>
<div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#acc8652376ea10be09435416bd4a4c6dc"> 1128</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#acc8652376ea10be09435416bd4a4c6dc">PointersRemoved</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a904d7c1c06d49fbf9ea9039e19061783">pointers_removed_</a>; }</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01131"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a"> 1131</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a">heap_</a>;</div>
<div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a904d7c1c06d49fbf9ea9039e19061783"> 1132</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a904d7c1c06d49fbf9ea9039e19061783">pointers_removed_</a> = 0;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;};</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160; </div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="keyword">class </span>MarkExternalPointerFromExternalStringTable : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="keyword">explicit</span> MarkExternalPointerFromExternalStringTable(</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      ExternalPointerTable* shared_table, ExternalPointerTable::Space* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>)</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      : visitor(shared_table, <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {}</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160; </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordtype">void</span> VisitRootPointers(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                         FullObjectSlot start, FullObjectSlot <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">// Visit all HeapObject pointers in [start, end).</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">for</span> (FullObjectSlot p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> o = *p;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(o)) {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(o);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">IsExternalString</a>(heap_object)) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;          Tagged&lt;ExternalString&gt; <span class="keywordtype">string</span> = Cast&lt;ExternalString&gt;(heap_object);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;          <span class="keywordtype">string</span>-&gt;VisitExternalPointers(&amp;visitor);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;          <span class="comment">// The original external string may have been internalized.</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(o));</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;      }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    }</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="keyword">class </span>MarkExternalPointerTableVisitor : <span class="keyword">public</span> ObjectVisitor {</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keyword">explicit</span> MarkExternalPointerTableVisitor(ExternalPointerTable* table,</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                                             ExternalPointerTable::Space* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>)</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        : table_(table), space_(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="keywordtype">void</span> VisitExternalPointer(<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                              ExternalPointerSlot slot)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!slot.tag_range().IsEmpty());</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ab2246faa71151b0796765b988d046828">IsSharedExternalPointerType</a>(slot.tag_range()));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aba548aae398799ae5ad2a11ff110178b">ExternalPointerHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a> = slot.Relaxed_LoadHandle();</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      table_-&gt;Mark(space_, <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>, slot.address());</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    }</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="keywordtype">void</span> VisitPointers(<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> start,</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                       <a class="code" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <span class="keywordtype">void</span> VisitPointers(<a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                       <a class="code" href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    }</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <span class="keywordtype">void</span> VisitInstructionStreamPointer(Tagged&lt;Code&gt; host,</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                       <a class="code" href="namespacev8_1_1internal.html#ab2a51a653a4864c3feda71605aadf6ca">InstructionStreamSlot</a> slot)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    }</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordtype">void</span> VisitCodeTarget(Tagged&lt;InstructionStream&gt; host,</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                         RelocInfo* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="keywordtype">void</span> VisitEmbeddedPointer(Tagged&lt;InstructionStream&gt; host,</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                              RelocInfo* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">UNREACHABLE</a>();</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    }</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160; </div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;   <span class="keyword">private</span>:</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    ExternalPointerTable* table_;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    ExternalPointerTable::Space* space_;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  };</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  MarkExternalPointerTableVisitor visitor;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;};</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">// Implementation of WeakObjectRetainer for mark compact GCs. All marked objects</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">// are retained.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html"> 1205</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html">MarkCompactWeakObjectRetainer</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1WeakObjectRetainer.html">WeakObjectRetainer</a> {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01207"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a4eef87d0358bbd1997ab4e8398ddbf3d"> 1207</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a4eef87d0358bbd1997ab4e8398ddbf3d">MarkCompactWeakObjectRetainer</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1MarkingState.html">MarkingState</a>* marking_state)</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a8708056908657e3a4fd85387383ad7ec">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>), <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a2c82e641ad0863c4718dea93a70ec93f">marking_state_</a>(marking_state) {}</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a322a6ec1741b0c952ffcf51fb576ee59"> 1210</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a322a6ec1741b0c952ffcf51fb576ee59">RetainAs</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#a526aa3d8b3fa085271b2f23137766544">MarkingHelper::IsMarkedOrAlwaysLive</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a8708056908657e3a4fd85387383ad7ec">heap_</a>, <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a2c82e641ad0863c4718dea93a70ec93f">marking_state_</a>,</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                            heap_object)) {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsAllocationSite(heap_object) &amp;&amp;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;               !Cast&lt;AllocationSite&gt;(<span class="keywordtype">object</span>)-&gt;IsZombie()) {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="comment">// &quot;dead&quot; AllocationSites need to live long enough for a traversal of new</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      <span class="comment">// space. These sites get a one-time reprieve.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160; </div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> nested = object;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">while</span> (IsAllocationSite(nested)) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;AllocationSite&gt;</a> current_site = Cast&lt;AllocationSite&gt;(nested);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="comment">// MarkZombie will override the nested_site, read it first before</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <span class="comment">// marking</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        nested = current_site-&gt;nested_site();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        current_site-&gt;MarkZombie();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a2c82e641ad0863c4718dea93a70ec93f">marking_state_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MarkingStateBase.html#a25369a80f635ffb368937574c7a4e6a6">TryMarkAndAccountLiveBytes</a>(current_site);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;      <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>();</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    }</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  }</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160; </div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a8708056908657e3a4fd85387383ad7ec"> 1237</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a8708056908657e3a4fd85387383ad7ec">heap_</a>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a2c82e641ad0863c4718dea93a70ec93f"> 1238</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkingState.html">MarkingState</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a2c82e641ad0863c4718dea93a70ec93f">marking_state_</a>;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;};</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160; </div>
<div class="line"><a name="l01241"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html"> 1241</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>&lt;RecordMigratedSlotVisitor&gt; {</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ab172b2831dbf736806f42554812338ce"> 1244</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ab172b2831dbf736806f42554812338ce">RecordMigratedSlotVisitor</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1HeapVisitor.html">HeapVisitor</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate()), <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aced2ae6eec28891d4ba4a495e22443ec">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160; </div>
<div class="line"><a name="l01247"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ad82673c24ba477e95e8c9aa50dbc86dc"> 1247</a></span>&#160;  <a class="code" href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a> <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ad82673c24ba477e95e8c9aa50dbc86dc">UsePrecomputedObjectSize</a>() { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160; </div>
<div class="line"><a name="l01249"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad"> 1249</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#af039bc88de94b25997667370586789d0">HasWeakHeapObjectTag</a>(p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>())));</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">RecordMigratedSlot</a>(host, p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()), p.address());</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a11e5b09a4d09ac70fce864d7b9b2edae"> 1254</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a11e5b09a4d09ac70fce864d7b9b2edae">VisitMapPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">VisitPointer</a>(host, host-&gt;map_slot());</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  }</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160; </div>
<div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a4cb053e8971d48ea61b26368929bc170"> 1258</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a4cb053e8971d48ea61b26368929bc170">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> p) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MapWord.html#a2da249cf285df1454abda362ce7a293e">MapWord::IsPacked</a>(p.Relaxed_Load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()).ptr()));</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">RecordMigratedSlot</a>(host, p.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>()), p.address());</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  }</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160; </div>
<div class="line"><a name="l01263"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ae62d0c166ca3e300c5e7f7d10b882c22"> 1263</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ae62d0c166ca3e300c5e7f7d10b882c22">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> start,</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">while</span> (start &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">VisitPointer</a>(host, start);</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      ++start;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    }</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a773e7ae3a6eeaf442c507f8f2ff8b3d0"> 1271</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a773e7ae3a6eeaf442c507f8f2ff8b3d0">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">while</span> (start &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">VisitPointer</a>(host, start);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      ++start;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160; </div>
<div class="line"><a name="l01279"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aa3c7e54ea08258cfb01d19c8e42389b3"> 1279</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aa3c7e54ea08258cfb01d19c8e42389b3">VisitInstructionStreamPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host,</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">// This code is similar to the implementation of VisitPointer() modulo</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="comment">// new kind of slot.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#af039bc88de94b25997667370586789d0">HasWeakHeapObjectTag</a>(slot.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a659af9693d9c8a62f14eba44fd06cfe6">code_cage_base</a>())));</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = slot.load(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a659af9693d9c8a62f14eba44fd06cfe6">code_cage_base</a>());</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">RecordMigratedSlot</a>(host, <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>, slot.address());</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160; </div>
<div class="line"><a name="l01288"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ac418d0aadd8da17d89a71811c863fb1d"> 1288</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ac418d0aadd8da17d89a71811c863fb1d">VisitEphemeron</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>,</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;                             <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(IsEphemeronHashTable(host));</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(host));</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160; </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// Simply record ephemeron keys in OLD_TO_NEW if it points into the young</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// generation instead of recording it in ephemeron_remembered_set here for</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// migrated objects. OLD_TO_NEW is per page and we can therefore easily</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">// record in OLD_TO_NEW on different pages in parallel without merging. Both</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="comment">// sets are anyways guaranteed to be empty after a full GC.</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">VisitPointer</a>(host, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">VisitPointer</a>(host, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160; </div>
<div class="line"><a name="l01302"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a3b152c30ba854d8663280f74861f1566"> 1302</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a3b152c30ba854d8663280f74861f1566">VisitCodeTarget</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;                              <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a4826de2c62c03505c8cef4fdd868a2a4">RelocInfo::IsCodeTargetMode</a>(rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#adbcb85c0a1896ff1e7661746d6143e90">rmode</a>()));</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> target =</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        <a class="code" href="classv8_1_1internal_1_1InstructionStream.html#a609ae4cdb6b49935b0fc6a55711a5191">InstructionStream::FromTargetAddress</a>(rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a5105ad25a3cfafd733106928a9d8a4ad">target_address</a>());</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="comment">// The target is always in old space, we don&#39;t have to record the slot in</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="comment">// the old-to-new remembered set.</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(target));</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(target));</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aced2ae6eec28891d4ba4a495e22443ec">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#af562806aafc1f078a8da45674d431c1a">mark_compact_collector</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae4455c0b37942d5616bb57730157eb6a">RecordRelocSlot</a>(host, rinfo, target);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  }</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a6eeedbde3bbe55f4f0872d7c75e72aa9"> 1314</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a6eeedbde3bbe55f4f0872d7c75e72aa9">VisitEmbeddedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a9de6eaa529e2d449eb3c4c78fc321d2e">RelocInfo::IsEmbeddedObjectMode</a>(rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#adbcb85c0a1896ff1e7661746d6143e90">rmode</a>()));</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ab620178a9b0590638fdc6834b53eb328">target_object</a>(<a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">cage_base</a>());</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WriteBarrier.html#a606e46d0c77a3b252673584c3e359565">WriteBarrier::GenerationalForRelocInfo</a>(host, rinfo, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WriteBarrier.html#a9bb1fb710da2e3e6a4b9b42e8c003ab9">WriteBarrier::SharedForRelocInfo</a>(host, rinfo, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aced2ae6eec28891d4ba4a495e22443ec">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#af562806aafc1f078a8da45674d431c1a">mark_compact_collector</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae4455c0b37942d5616bb57730157eb6a">RecordRelocSlot</a>(host, rinfo, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160; </div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="comment">// Entries that are skipped for recording.</span></div>
<div class="line"><a name="l01324"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#af42b76fc7d1c794163e0c32123a59d1a"> 1324</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#af42b76fc7d1c794163e0c32123a59d1a">VisitExternalReference</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) <span class="keyword">final</span> {}</div>
<div class="line"><a name="l01326"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#abb76952d9da9c4ff3d872b627f0b3510"> 1326</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#abb76952d9da9c4ff3d872b627f0b3510">VisitInternalReference</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo) <span class="keyword">final</span> {}</div>
<div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aa1c4aee0c2d81aea906c9fbf6bc2b7f9"> 1328</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aa1c4aee0c2d81aea906c9fbf6bc2b7f9">VisitExternalPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1ExternalPointerSlot.html">ExternalPointerSlot</a> slot) <span class="keyword">final</span> {}</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160; </div>
<div class="line"><a name="l01331"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a97c012d3ee7189ec66c5501974ac7bd8"> 1331</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a97c012d3ee7189ec66c5501974ac7bd8">VisitIndirectPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot,</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                   <a class="code" href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">IndirectPointerMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) <span class="keyword">final</span> {}</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160; </div>
<div class="line"><a name="l01335"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a347d4f88bbfe77ce23a3343cf3c21724"> 1335</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a347d4f88bbfe77ce23a3343cf3c21724">VisitTrustedPointerTableEntry</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> slot) <span class="keyword">final</span> {}</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160; </div>
<div class="line"><a name="l01338"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ab2a5d6a019dd53fd10dc2bf71572aa1f"> 1338</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ab2a5d6a019dd53fd10dc2bf71572aa1f">VisitProtectedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TrustedObject&gt;</a> host,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ProtectedPointerSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">RecordMigratedSlot</a>(host, slot.load(), slot.address());</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160; </div>
<div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aeb45778e96164c12570b0b6288d3409d"> 1343</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aeb45778e96164c12570b0b6288d3409d">VisitProtectedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TrustedObject&gt;</a> host,</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                    <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">ProtectedMaybeObjectSlot</a> slot) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MapWord.html#a2da249cf285df1454abda362ce7a293e">MapWord::IsPacked</a>(slot.Relaxed_Load().ptr()));</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">RecordMigratedSlot</a>(host, slot.load(), slot.address());</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  }</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l01350"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170"> 1350</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">RecordMigratedSlot</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, <a class="code" href="classuintptr__t.html">Address</a> slot) {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.IsStrongOrWeak()) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* value_chunk = <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a1c9e126ddfcab88ef54ab6a899ece138">MemoryChunk::FromAddress</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.ptr());</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* host_chunk = <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a0481ad8f68cb1d4a794d588d80cc8f54">MemoryChunk::FromHeapObject</a>(host);</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">HeapLayout::InYoungGeneration</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* host_metadata =</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#acaa892e234b2fe3170fa488f5a9a3767">MutablePageMetadata::cast</a>(host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">Metadata</a>());</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#aebf4eb09277a5083da24d59c98974894">IsToPage</a>(),</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;                       <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms || value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af9fbfead34700f0653b0dfe65bf5d473">IsLargePage</a>());</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(host_metadata-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a9d7e9f4513ced2b857cd305de14df9a2">SweepingDone</a>());</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;            host_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a31917793e4e1f003c57c07b8dd2422fa">IsEvacuationCandidate</a>()) {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* host_metadata =</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#acaa892e234b2fe3170fa488f5a9a3767">MutablePageMetadata::cast</a>(host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">Metadata</a>());</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <span class="keywordflow">if</span> (value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9adf40869b808cdb4df42933e6402fcf93">MemoryChunk::IS_EXECUTABLE</a>)) {</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;          <span class="comment">// TODO(377724745): currently needed because flags are untrusted.</span></div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;          <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#a741cb77b6f267fbe178b0a59d98a32c4">InsideSandbox</a>(value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a73d4d1837ecc5f047a1ff2f79a663429">address</a>()));</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;          <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_CODE&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;              host_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a8a4e62697e6258d1ac19282da3fcd9e9">MemoryChunk::IS_TRUSTED</a>) &amp;&amp;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                   host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a8a4e62697e6258d1ac19282da3fcd9e9">MemoryChunk::IS_TRUSTED</a>)) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;          <span class="comment">// When the sandbox is disabled, we use plain tagged pointers to</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;          <span class="comment">// reference trusted objects from untrusted ones. However, for these</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;          <span class="comment">// references we want to use the OLD_TO_OLD remembered set, so here</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;          <span class="comment">// we need to check that both the value chunk and the host chunk are</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;          <span class="comment">// trusted space chunks.</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;          <span class="comment">// TODO(377724745): currently needed because flags are untrusted.</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;          <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#a741cb77b6f267fbe178b0a59d98a32c4">InsideSandbox</a>(value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a73d4d1837ecc5f047a1ff2f79a663429">address</a>()));</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;          <span class="keywordflow">if</span> (value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a44866a12b8321da05aa7482a1ae25e50">InWritableSharedSpace</a>()) {</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;            <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_SHARED_TRUSTED&gt;::Insert</a>&lt;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                <a class="code" href="namespacev8_1_1internal.html#ade1fa6c3f4fadb82080eb655686b6ebca670ae114e5d40462ad1f14c003b2fdeb">AccessMode::NON_ATOMIC</a>&gt;(host_metadata,</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                        host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_TRUSTED&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                host_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;          }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;              host_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a44866a12b8321da05aa7482a1ae25e50">InWritableSharedSpace</a>() &amp;&amp;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                 !<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(host)) {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* host_metadata =</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;            <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#acaa892e234b2fe3170fa488f5a9a3767">MutablePageMetadata::cast</a>(host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">Metadata</a>());</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="keywordflow">if</span> (value_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a8a4e62697e6258d1ac19282da3fcd9e9">MemoryChunk::IS_TRUSTED</a>) &amp;&amp;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;            host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a8a4e62697e6258d1ac19282da3fcd9e9">MemoryChunk::IS_TRUSTED</a>)) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;          <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_SHARED_TRUSTED&gt;::Insert</a>&lt;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;              <a class="code" href="namespacev8_1_1internal.html#ade1fa6c3f4fadb82080eb655686b6ebca670ae114e5d40462ad1f14c003b2fdeb">AccessMode::NON_ATOMIC</a>&gt;(host_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;          <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;              host_metadata, host_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(slot));</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        }</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;      }</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    }</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160; </div>
<div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aced2ae6eec28891d4ba4a495e22443ec"> 1408</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aced2ae6eec28891d4ba4a495e22443ec">heap_</a>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;};</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160; </div>
<div class="line"><a name="l01411"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MigrationObserver.html"> 1411</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MigrationObserver.html">MigrationObserver</a> {</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01413"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MigrationObserver.html#a6908dc5cb778073789390891215ce21d"> 1413</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#a6908dc5cb778073789390891215ce21d">MigrationObserver</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>) : <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160; </div>
<div class="line"><a name="l01415"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MigrationObserver.html#a33ca4605dda8e7683c7ed3d38729f363"> 1415</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#a33ca4605dda8e7683c7ed3d38729f363">~MigrationObserver</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MigrationObserver.html#a19443570f17cfff396a9cd963c7ffe99"> 1416</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#a19443570f17cfff396a9cd963c7ffe99">Move</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> dest, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) = 0;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160; </div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64"> 1420</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64">heap_</a>;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;};</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160; </div>
<div class="line"><a name="l01423"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ProfilingMigrationObserver.html"> 1423</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1ProfilingMigrationObserver.html">ProfilingMigrationObserver</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html">MigrationObserver</a> {</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ProfilingMigrationObserver.html#a0a790431ab1d0d16b7d0b45393391cb0"> 1425</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1ProfilingMigrationObserver.html#a0a790431ab1d0d16b7d0b45393391cb0">ProfilingMigrationObserver</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>) : <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html">MigrationObserver</a>(<a class="code" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160; </div>
<div class="line"><a name="l01427"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1ProfilingMigrationObserver.html#ad609a7e1385f3f00c58980fd6f01ed5d"> 1427</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1ProfilingMigrationObserver.html#ad609a7e1385f3f00c58980fd6f01ed5d">Move</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> dest, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src,</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="comment">// Note this method is called in a concurrent setting. The current object</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="comment">// (src and dst) is somewhat safe to access without precautions, but other</span></div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="comment">// objects may be subject to concurrent modification.</span></div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordflow">if</span> (dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">CODE_SPACE</a>) {</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      <a class="code" href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a>(<a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>(), CodeMoveEvent(Cast&lt;InstructionStream&gt;(src),</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                                              Cast&lt;InstructionStream&gt;(dst)));</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a> || dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b">TRUSTED_SPACE</a>) &amp;&amp;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;               IsBytecodeArray(dst)) {</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="comment">// TODO(saelo): remove `dest == OLD_SPACE` once BytecodeArrays are</span></div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <span class="comment">// allocated in trusted space.</span></div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <a class="code" href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a>(<a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>(), BytecodeMoveEvent(Cast&lt;BytecodeArray&gt;(src),</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                                                  Cast&lt;BytecodeArray&gt;(dst)));</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a4b0fd946ef07698c78c89b373c38c52b">OnMoveEvent</a>(src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  }</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;};</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1HeapObjectVisitor.html"> 1446</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1HeapObjectVisitor.html">HeapObjectVisitor</a> {</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01448"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1HeapObjectVisitor.html#ad67856ea986f2847ff6484c4f6b00e30"> 1448</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1internal_1_1HeapObjectVisitor.html#ad67856ea986f2847ff6484c4f6b00e30">~HeapObjectVisitor</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l01449"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1HeapObjectVisitor.html#af7de561f80f01389fefacf8ffbb150eb"> 1449</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1HeapObjectVisitor.html#af7de561f80f01389fefacf8ffbb150eb">Visit</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) = 0;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;};</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160; </div>
<div class="line"><a name="l01452"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html"> 1452</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1HeapObjectVisitor.html">HeapObjectVisitor</a> {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01454"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a9e08b20159fa7ad1617e50bb2ca66be2"> 1454</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a9e08b20159fa7ad1617e50bb2ca66be2">AddObserver</a>(<a class="code" href="classv8_1_1internal_1_1MigrationObserver.html">MigrationObserver</a>* observer) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#afd183ddd5f921860066ac73daedb16be">migration_function_</a> = RawMigrateObject&lt;MigrationMode::kObserved&gt;;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#af11ebcfa59df555e097b381c1125beb0">observers_</a>.push_back(observer);</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160; </div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordtype">void</span> DisableAbortEvacuationAtAddress(<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    abort_evacuation_at_address_ = chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a898aedc43e020dfdc0dbf686a863c92d">area_end</a>();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160; </div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordtype">void</span> SetUpAbortEvacuationAtAddress(MutablePageMetadata* chunk) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction_random) {</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      <span class="comment">// Stress aborting of evacuation by aborting ~5% of evacuation candidates</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="comment">// when stress testing.</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">double</span> kFraction = 0.05;</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a54053f4329e3d80206fd801c3d72d0c5">rng_</a>-&gt;NextDouble() &lt; kFraction) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">double</span> abort_evacuation_percentage = <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a54053f4329e3d80206fd801c3d72d0c5">rng_</a>-&gt;NextDouble();</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        abort_evacuation_at_address_ =</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;            chunk-&gt;area_start() +</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            abort_evacuation_percentage * chunk-&gt;area_size();</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;      }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160; </div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    abort_evacuation_at_address_ = chunk-&gt;area_end();</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  }</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160; </div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; <span class="keyword">protected</span>:</div>
<div class="line"><a name="l01484"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2a83b8471afdd467a199dc0ed307c2eae4"> 1484</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2">MigrationMode</a> { <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2a83b8471afdd467a199dc0ed307c2eae4">kFast</a>, <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2ae90c548a51955fbdeb25dbb8441ea8ac">kObserved</a> };</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160; </div>
<div class="line"><a name="l01486"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90"> 1486</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>() {</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="preprocessor">#if V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a>{<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()};</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a>{};</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ac4b17a5efe9e8312259e6b834f83bbd7"> 1494</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ac4b17a5efe9e8312259e6b834f83bbd7">MigrateFunction</a> = <a class="code" href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">void</a> (*)(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a>* base,</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst,</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                                   <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                                   <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> dest);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160; </div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  <span class="keyword">template</span> &lt;MigrationMode mode&gt;</div>
<div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a12a3ff0d411a446f60d4398f9e0f1877"> 1500</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a12a3ff0d411a446f60d4398f9e0f1877">RawMigrateObject</a>(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a>* base,</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                               <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src,</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                               <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> dest) {</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> dst_addr = dst.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>();</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> src_addr = src.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>();</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a> = base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>();</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2e0986e48f75e46b0ba888801358d967">AllowedToBeMigrated</a>(src-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>), src, dest));</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(dest, <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542">LO_SPACE</a>);</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(dest, <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa93dfdbc84455c750a99db7dd0cc02aff">CODE_LO_SPACE</a>);</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(dest, <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa14e4604f12b3138f8e00091e7093c023">TRUSTED_LO_SPACE</a>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">if</span> (dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>) {</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <a class="code" href="spaces_8h.html#a56ff3dec24b9951f79e32d38157610a8">DCHECK_OBJECT_SIZE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">CopyBlock</a>(dst_addr, src_addr, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> != MigrationMode::kFast) {</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">ExecuteMigrationObservers</a>(dest, src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      }</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      <span class="comment">// In case the object&#39;s map gets relocated during GC we load the old map</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;      <span class="comment">// here. This is fine since they store the same content.</span></div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">record_visitor_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(dst-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>), dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">SHARED_SPACE</a>) {</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <a class="code" href="spaces_8h.html#a56ff3dec24b9951f79e32d38157610a8">DCHECK_OBJECT_SIZE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">CopyBlock</a>(dst_addr, src_addr, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> != MigrationMode::kFast) {</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;        base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">ExecuteMigrationObservers</a>(dest, src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;      }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">record_visitor_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(dst-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>), dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b">TRUSTED_SPACE</a>) {</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;      <a class="code" href="spaces_8h.html#a56ff3dec24b9951f79e32d38157610a8">DCHECK_OBJECT_SIZE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">kTaggedSize</a>));</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">CopyBlock</a>(dst_addr, src_addr, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> != MigrationMode::kFast) {</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;        base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">ExecuteMigrationObservers</a>(dest, src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="comment">// In case the object&#39;s map gets relocated during GC we load the old map</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="comment">// here. This is fine since they store the same content.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">record_visitor_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(dst-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>), dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">CODE_SPACE</a>) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <a class="code" href="spaces_8h.html#a30fdeba02f6d5417e78244ad5fe87702">DCHECK_CODEOBJECT_SIZE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;        <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> writable_allocation =</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <a class="code" href="classv8_1_1internal_1_1ThreadIsolation.html#abca61cf418b5bae301d7572fdc494d02">ThreadIsolation::RegisterInstructionStreamAllocation</a>(dst_addr,</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                                                 <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="classv8_1_1internal_1_1TrustedObject.html#ac98a534794000484db08cfaf849ae073">InstructionStream::kHeaderSize</a>);</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        writable_allocation.<a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#ae8874306b45c6cb31544e5654210a001">CopyData</a>(0, <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(src_addr),</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1TrustedObject.html#ac98a534794000484db08cfaf849ae073">InstructionStream::kHeaderSize</a>);</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;        writable_allocation.<a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#a5214a39ff535864c1f6ae1968547208d">CopyCode</a>(</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <a class="code" href="classv8_1_1internal_1_1TrustedObject.html#ac98a534794000484db08cfaf849ae073">InstructionStream::kHeaderSize</a>,</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(src_addr +</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1TrustedObject.html#ac98a534794000484db08cfaf849ae073">InstructionStream::kHeaderSize</a>),</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a> - <a class="code" href="classv8_1_1internal_1_1TrustedObject.html#ac98a534794000484db08cfaf849ae073">InstructionStream::kHeaderSize</a>);</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> istream = Cast&lt;InstructionStream&gt;(dst);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;        istream-&gt;Relocate(writable_allocation, dst_addr - src_addr);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      }</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> != MigrationMode::kFast) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">ExecuteMigrationObservers</a>(dest, src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;      <span class="comment">// In case the object&#39;s map gets relocated during GC we load the old map</span></div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="comment">// here. This is fine since they store the same content.</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">record_visitor_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(dst-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>), dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;      <a class="code" href="spaces_8h.html#a56ff3dec24b9951f79e32d38157610a8">DCHECK_OBJECT_SIZE</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">CopyBlock</a>(dst_addr, src_addr, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> != MigrationMode::kFast) {</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;        base-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">ExecuteMigrationObservers</a>(dest, src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160; </div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="keywordflow">if</span> (dest == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">CODE_SPACE</a>) {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#a72af50fa547073a14369c06b3667345c">WritableJitAllocation::ForInstructionStream</a>(</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;              Cast&lt;InstructionStream&gt;(src));</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      jit_allocation.<a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html#a52b003e3469ade15c70597343f00540e">WriteHeaderSlot</a>&lt;<a class="code" href="classv8_1_1internal_1_1MapWord.html">MapWord</a>, <a class="code" href="classv8_1_1internal_1_1HeapObject.html#a6250a2489c3d60667b5b3153dff0fed3">HeapObject::kMapOffset</a>&gt;(</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MapWord.html#ae428c02beb0d195fcfb8b44b3c149efa">MapWord::FromForwardingAddress</a>(src, dst));</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      src-&gt;set_map_word_forwarded(dst, <a class="code" href="namespacev8.html#a6f4ac914af065ca471d59c67f789296f">kRelaxedStore</a>);</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    }</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160; </div>
<div class="line"><a name="l01581"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa4d49f3e5e4c15d09fa367db1fcf1b6c"> 1581</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa4d49f3e5e4c15d09fa367db1fcf1b6c">EvacuateVisitorBase</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html">EvacuationAllocator</a>* local_allocator,</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                      <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a>* record_visitor)</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">local_allocator_</a>(local_allocator),</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">record_visitor_</a>(record_visitor),</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a129c5df17e8230e4e0aecb5e183c4fd1">shared_string_table_</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shared_string_table &amp;&amp;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                             <a class="code" href="namespaceheap.html">heap</a>-&gt;isolate()-&gt;has_shared_space()) {</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#afd183ddd5f921860066ac73daedb16be">migration_function_</a> = RawMigrateObject&lt;MigrationMode::kFast&gt;;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a54053f4329e3d80206fd801c3d72d0c5">rng_</a>.emplace(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#af9cf39c5ddba566eeed46a1f5064a561">fuzzer_rng</a>()-&gt;<a class="code" href="classv8_1_1base_1_1RandomNumberGenerator.html#ac44e22b8b6250f2cc8666c880a4871a8">NextInt64</a>());</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  }</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6321f4dbe8353193b8e5bd4ea1d96cf4"> 1594</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6321f4dbe8353193b8e5bd4ea1d96cf4">TryEvacuateObject</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> target_space,</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>* target_object) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(abort_evacuation_at_address_,</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;              <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#afd76b7261895b2043b1715d180858d29">MutablePageMetadata::FromHeapObject</a>(<span class="keywordtype">object</span>)-&gt;area_end());</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(abort_evacuation_at_address_,</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;              <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#afd76b7261895b2043b1715d180858d29">MutablePageMetadata::FromHeapObject</a>(<span class="keywordtype">object</span>)-&gt;area_start());</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160; </div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<span class="keywordtype">object</span>.address() &gt;= abort_evacuation_at_address_)) {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map = <span class="keywordtype">object</span>-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">cage_base</a>());</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    <a class="code" href="classv8_1_1internal_1_1AllocationResult.html">AllocationResult</a> allocation;</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="keywordflow">if</span> (target_space == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a> &amp;&amp; <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a22152d774553dd906bca340c583ddbb1">ShouldPromoteIntoSharedHeap</a>(map)) {</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803">AllocationAlignment</a> alignment =</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;          <a class="code" href="classv8_1_1internal_1_1HeapObject.html#aaaf446da21f242ad97a4c6a3eca16bf8">HeapObject::RequiredAlignment</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">SHARED_SPACE</a>, map);</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;      allocation = <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">local_allocator_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html#af7bd391747123f679c7a30f8e826d830">Allocate</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">SHARED_SPACE</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, alignment);</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803">AllocationAlignment</a> alignment =</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;          <a class="code" href="classv8_1_1internal_1_1HeapObject.html#aaaf446da21f242ad97a4c6a3eca16bf8">HeapObject::RequiredAlignment</a>(target_space, map);</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      allocation = <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">local_allocator_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html#af7bd391747123f679c7a30f8e826d830">Allocate</a>(target_space, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, alignment);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="keywordflow">if</span> (allocation.<a class="code" href="classv8_1_1internal_1_1AllocationResult.html#a31246fcfde98bb83ffbf3829f5a3e835">To</a>(target_object)) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;      <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#acd573012c922867059b0f4ac0c6e2df3">MigrateObject</a>(*target_object, <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, target_space);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;    }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160; </div>
<div class="line"><a name="l01626"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a22152d774553dd906bca340c583ddbb1"> 1626</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a22152d774553dd906bca340c583ddbb1">ShouldPromoteIntoSharedHeap</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map) {</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a129c5df17e8230e4e0aecb5e183c4fd1">shared_string_table_</a>) {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1String.html#ae7e164d91a146cf703e0cde41ab179b9">String::IsInPlaceInternalizableExcludingExternal</a>(</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;          map-&gt;instance_type());</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    }</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed"> 1634</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">ExecuteMigrationObservers</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> dest,</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src,</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1MigrationObserver.html">MigrationObserver</a>* obs : <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#af11ebcfa59df555e097b381c1125beb0">observers_</a>) {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      obs-&gt;Move(dest, src, dst, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;  }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160; </div>
<div class="line"><a name="l01642"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#acd573012c922867059b0f4ac0c6e2df3"> 1642</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#acd573012c922867059b0f4ac0c6e2df3">MigrateObject</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> dst, <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> src,</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                            <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> dest) {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#afd183ddd5f921860066ac73daedb16be">migration_function_</a>(<span class="keyword">this</span>, dst, src, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, dest);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160; </div>
<div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb"> 1647</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>;</div>
<div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb"> 1648</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html">EvacuationAllocator</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">local_allocator_</a>;</div>
<div class="line"><a name="l01649"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54"> 1649</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">record_visitor_</a>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#af11ebcfa59df555e097b381c1125beb0"> 1650</a></span>&#160;  std::vector&lt;MigrationObserver*&gt; <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#af11ebcfa59df555e097b381c1125beb0">observers_</a>;</div>
<div class="line"><a name="l01651"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#afd183ddd5f921860066ac73daedb16be"> 1651</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ac4b17a5efe9e8312259e6b834f83bbd7">MigrateFunction</a> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#afd183ddd5f921860066ac73daedb16be">migration_function_</a>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a129c5df17e8230e4e0aecb5e183c4fd1"> 1652</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a129c5df17e8230e4e0aecb5e183c4fd1">shared_string_table_</a>;</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> abort_evacuation_at_address_{<a class="code" href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">kNullAddress</a>};</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a54053f4329e3d80206fd801c3d72d0c5"> 1656</a></span>&#160;  std::optional&lt;base::RandomNumberGenerator&gt; <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a54053f4329e3d80206fd801c3d72d0c5">rng_</a>;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;};</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html"> 1659</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html">EvacuateNewSpaceVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a> {</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6eda57074c3bed95d2e9619004bbd7d7"> 1661</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6eda57074c3bed95d2e9619004bbd7d7">EvacuateNewSpaceVisitor</a>(</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html">EvacuationAllocator</a>* local_allocator,</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a>* record_visitor,</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#af4636a79d24b9944a5f2a8c4b5c7fdcb">PretenuringHandler::PretenuringFeedbackMap</a>* local_pretenuring_feedback)</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a>(<a class="code" href="namespaceheap.html">heap</a>, local_allocator, record_visitor),</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6583f689af8e8a1c63d512a0c5b6a9d4">promoted_size_</a>(0),</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a90fb3760becee2760ba03536f1313828">pretenuring_handler_</a>(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;pretenuring_handler()),</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a1d759af3da5b6b665fb3b9f825547667">local_pretenuring_feedback_</a>(local_pretenuring_feedback),</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6ba380e0e9e0ec82b34e74ac32e18b48">is_incremental_marking_</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;incremental_marking()-&gt;IsMarking()),</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#abbe684f6cf7a217348a5c6d55886cbda">shortcut_strings_</a>(!<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;IsGCWithStack() ||</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                          <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.shortcut_strings_with_stack) {</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6ba380e0e9e0ec82b34e74ac32e18b48">is_incremental_marking_</a>,</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                   <a class="code" href="namespaceheap.html">heap</a>-&gt;incremental_marking()-&gt;IsMajorMarking());</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  }</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160; </div>
<div class="line"><a name="l01676"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#ab44fb37b3abd158ebc6dc6a320e272e4"> 1676</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#ab44fb37b3abd158ebc6dc6a320e272e4">Visit</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a948da804c84d2df85242c755f9965a31">TryEvacuateWithoutCopy</a>(<span class="keywordtype">object</span>)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target_object;</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#afe6ffac83eddf7cac23594de7d90da1f">PretenuringHandler::UpdateAllocationSite</a>(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>, object-&gt;map(), <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                                             <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a1d759af3da5b6b665fb3b9f825547667">local_pretenuring_feedback_</a>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160; </div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6321f4dbe8353193b8e5bd4ea1d96cf4">TryEvacuateObject</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>, <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, &amp;target_object)) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac2186ae87a3cd28acde06a9f50d31b2c">FatalProcessOutOfMemory</a>(</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;          <span class="stringliteral">&quot;MarkCompactCollector: young object promotion failed&quot;</span>);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    }</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160; </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6583f689af8e8a1c63d512a0c5b6a9d4">promoted_size_</a> += <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>;</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a5f6cb02b7a390f271ba17d2a67225665"> 1692</a></span>&#160;  intptr_t <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a5f6cb02b7a390f271ba17d2a67225665">promoted_size</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6583f689af8e8a1c63d512a0c5b6a9d4">promoted_size_</a>; }</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160; </div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01695"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a948da804c84d2df85242c755f9965a31"> 1695</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a948da804c84d2df85242c755f9965a31">TryEvacuateWithoutCopy</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6ba380e0e9e0ec82b34e74ac32e18b48">is_incremental_marking_</a>);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160; </div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#abbe684f6cf7a217348a5c6d55886cbda">shortcut_strings_</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160; </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map = <span class="keywordtype">object</span>-&gt;map();</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <span class="comment">// Some objects can be evacuated without creating a copy.</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    <span class="keywordflow">if</span> (map-&gt;visitor_id() == kVisitThinString) {</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> actual = Cast&lt;ThinString&gt;(<span class="keywordtype">object</span>)-&gt;unchecked_actual();</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5f0477b3276f6b872199164ffc981999">MarkCompactCollector::IsOnEvacuationCandidate</a>(actual)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="keywordtype">object</span>-&gt;set_map_word_forwarded(actual, <a class="code" href="namespacev8.html#a6f4ac914af065ca471d59c67f789296f">kRelaxedStore</a>);</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;    }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;    <span class="comment">// TODO(mlippautz): Handle ConsString.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160; </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;  }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160; </div>
<div class="line"><a name="l01714"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a2d0b21dc57fd9b9c82fc26064ed60843"> 1714</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a2d0b21dc57fd9b9c82fc26064ed60843">AllocateTargetObject</a>(</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> old_object, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>* target_object) {</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> space_allocated_in = <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>;</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803">AllocationAlignment</a> alignment =</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <a class="code" href="classv8_1_1internal_1_1HeapObject.html#aaaf446da21f242ad97a4c6a3eca16bf8">HeapObject::RequiredAlignment</a>(space_allocated_in, old_object-&gt;map());</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <a class="code" href="classv8_1_1internal_1_1AllocationResult.html">AllocationResult</a> allocation =</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">local_allocator_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html#af7bd391747123f679c7a30f8e826d830">Allocate</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, alignment);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (allocation.<a class="code" href="classv8_1_1internal_1_1AllocationResult.html#a80c925fd9d024e9ec6da26987f40eb91">IsFailure</a>()) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      space_allocated_in = <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      alignment =</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;          <a class="code" href="classv8_1_1internal_1_1HeapObject.html#aaaf446da21f242ad97a4c6a3eca16bf8">HeapObject::RequiredAlignment</a>(space_allocated_in, old_object-&gt;map());</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;      allocation = <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a81a30226c318f15df8c8db85c22c2721">AllocateInOldSpace</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, alignment);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordtype">bool</span> ok = allocation.<a class="code" href="classv8_1_1internal_1_1AllocationResult.html#a31246fcfde98bb83ffbf3829f5a3e835">To</a>(target_object);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(ok);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(ok);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">return</span> space_allocated_in;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  }</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160; </div>
<div class="line"><a name="l01734"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a81a30226c318f15df8c8db85c22c2721"> 1734</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1AllocationResult.html">AllocationResult</a> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a81a30226c318f15df8c8db85c22c2721">AllocateInOldSpace</a>(<span class="keywordtype">int</span> size_in_bytes,</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                             <a class="code" href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803">AllocationAlignment</a> alignment) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="classv8_1_1internal_1_1AllocationResult.html">AllocationResult</a> allocation =</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">local_allocator_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html#af7bd391747123f679c7a30f8e826d830">Allocate</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>, size_in_bytes, alignment);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">if</span> (allocation.<a class="code" href="classv8_1_1internal_1_1AllocationResult.html#a80c925fd9d024e9ec6da26987f40eb91">IsFailure</a>()) {</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;      <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ac2186ae87a3cd28acde06a9f50d31b2c">FatalProcessOutOfMemory</a>(</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;          <span class="stringliteral">&quot;MarkCompactCollector: semi-space copy, fallback in old gen&quot;</span>);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    }</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <span class="keywordflow">return</span> allocation;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160; </div>
<div class="line"><a name="l01745"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6583f689af8e8a1c63d512a0c5b6a9d4"> 1745</a></span>&#160;  intptr_t <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6583f689af8e8a1c63d512a0c5b6a9d4">promoted_size_</a>;</div>
<div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a90fb3760becee2760ba03536f1313828"> 1746</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html">PretenuringHandler</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a90fb3760becee2760ba03536f1313828">pretenuring_handler_</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a1d759af3da5b6b665fb3b9f825547667"> 1747</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#af4636a79d24b9944a5f2a8c4b5c7fdcb">PretenuringHandler::PretenuringFeedbackMap</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a1d759af3da5b6b665fb3b9f825547667">local_pretenuring_feedback_</a>;</div>
<div class="line"><a name="l01748"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6ba380e0e9e0ec82b34e74ac32e18b48"> 1748</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6ba380e0e9e0ec82b34e74ac32e18b48">is_incremental_marking_</a>;</div>
<div class="line"><a name="l01749"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#abbe684f6cf7a217348a5c6d55886cbda"> 1749</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#abbe684f6cf7a217348a5c6d55886cbda">shortcut_strings_</a>;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;};</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160; </div>
<div class="line"><a name="l01752"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html"> 1752</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html">EvacuateNewToOldSpacePageVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1HeapObjectVisitor.html">HeapObjectVisitor</a> {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01754"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a4d1553ba331c744c54b046ff216bfa76"> 1754</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a4d1553ba331c744c54b046ff216bfa76">EvacuateNewToOldSpacePageVisitor</a>(</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a>* record_visitor,</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#af4636a79d24b9944a5f2a8c4b5c7fdcb">PretenuringHandler::PretenuringFeedbackMap</a>* local_pretenuring_feedback)</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#acc0958757144c2844afea5016ac972f4">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a03d8c6055f02edef843f7541a31e086e">record_visitor_</a>(record_visitor),</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a74f0b51bc1a4346b8963f2a8244ccec9">moved_bytes_</a>(0),</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#afd11c697cabd9a2972265f4d22b3d87a">pretenuring_handler_</a>(<a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#acc0958757144c2844afea5016ac972f4">heap_</a>-&gt;pretenuring_handler()),</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ae47a09dd3b279f876538e74543283657">local_pretenuring_feedback_</a>(local_pretenuring_feedback) {}</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160; </div>
<div class="line"><a name="l01763"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ab08bf909e4b9d6b8aa72af4c17767896"> 1763</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ab08bf909e4b9d6b8aa72af4c17767896">Move</a>(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page) {</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#ae6359cac53a62c06486ec030fa37bc28">heap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1NewSpace.html#ad57cffc5ba332ca66576978a276c3620">PromotePageToOldSpace</a>(</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        page, <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms ? <a class="code" href="namespacev8_1_1internal.html#a45db351d90234e7d9e494015fcf3829caba2ca651c63fb8feea63d688e34fceb4">FreeMode::kDoNotLinkCategory</a></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                                : <a class="code" href="namespacev8_1_1internal.html#a45db351d90234e7d9e494015fcf3829ca53409264f9ed262cc16b5b513fea3a6e">FreeMode::kLinkCategory</a>);</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160; </div>
<div class="line"><a name="l01769"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#adf2216bbd8150b14345b02a55cf7e355"> 1769</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#adf2216bbd8150b14345b02a55cf7e355">Visit</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#afe6ffac83eddf7cac23594de7d90da1f">PretenuringHandler::UpdateAllocationSite</a>(<a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#acc0958757144c2844afea5016ac972f4">heap_</a>, object-&gt;map(), <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>,</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                                             <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ae47a09dd3b279f876538e74543283657">local_pretenuring_feedback_</a>);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#af21f0f74e8bed1d00aab0e877e001759">HeapLayout::InCodeSpace</a>(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a03d8c6055f02edef843f7541a31e086e">record_visitor_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(object-&gt;map(), <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  }</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160; </div>
<div class="line"><a name="l01777"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a88b766bb4b1fdf92a63add2a730fff03"> 1777</a></span>&#160;  intptr_t <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a88b766bb4b1fdf92a63add2a730fff03">moved_bytes</a>() { <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a74f0b51bc1a4346b8963f2a8244ccec9">moved_bytes_</a>; }</div>
<div class="line"><a name="l01778"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a67905c0c95dc72ca1edee835d2b00aa2"> 1778</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a67905c0c95dc72ca1edee835d2b00aa2">account_moved_bytes</a>(intptr_t bytes) { <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a74f0b51bc1a4346b8963f2a8244ccec9">moved_bytes_</a> += bytes; }</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#acc0958757144c2844afea5016ac972f4"> 1781</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#acc0958757144c2844afea5016ac972f4">heap_</a>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a03d8c6055f02edef843f7541a31e086e"> 1782</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a03d8c6055f02edef843f7541a31e086e">record_visitor_</a>;</div>
<div class="line"><a name="l01783"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a74f0b51bc1a4346b8963f2a8244ccec9"> 1783</a></span>&#160;  intptr_t <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a74f0b51bc1a4346b8963f2a8244ccec9">moved_bytes_</a>;</div>
<div class="line"><a name="l01784"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#afd11c697cabd9a2972265f4d22b3d87a"> 1784</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html">PretenuringHandler</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#afd11c697cabd9a2972265f4d22b3d87a">pretenuring_handler_</a>;</div>
<div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ae47a09dd3b279f876538e74543283657"> 1785</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#af4636a79d24b9944a5f2a8c4b5c7fdcb">PretenuringHandler::PretenuringFeedbackMap</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ae47a09dd3b279f876538e74543283657">local_pretenuring_feedback_</a>;</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;};</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160; </div>
<div class="line"><a name="l01788"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html"> 1788</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html">EvacuateOldSpaceVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a> {</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01790"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html#ac66c14aebc595f4389334a3799a27404"> 1790</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html#ac66c14aebc595f4389334a3799a27404">EvacuateOldSpaceVisitor</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html">EvacuationAllocator</a>* local_allocator,</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                          <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a>* record_visitor)</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html">EvacuateVisitorBase</a>(<a class="code" href="namespaceheap.html">heap</a>, local_allocator, record_visitor) {}</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160; </div>
<div class="line"><a name="l01794"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html#a6bd5bea82ad2b8dabf63b2dc3ab08833"> 1794</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html#a6bd5bea82ad2b8dabf63b2dc3ab08833">Visit</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target_object;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6321f4dbe8353193b8e5bd4ea1d96cf4">TryEvacuateObject</a>(</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <a class="code" href="classv8_1_1internal_1_1PageMetadata.html#ac37b751cd85e3a4b1e272da7ea409039">PageMetadata::FromHeapObject</a>(<span class="keywordtype">object</span>)-&gt;owner_identity(), <span class="keywordtype">object</span>,</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>, &amp;target_object)) {</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(object-&gt;map_word(<a class="code" href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>(), <a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>)</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                 .IsForwardingAddress());</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    }</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;  }</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;};</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html"> 1807</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html">EvacuateRecordOnlyVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1HeapObjectVisitor.html">HeapObjectVisitor</a> {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l01809"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8e0748a9199cee3b8007aebb2d228604"> 1809</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8e0748a9199cee3b8007aebb2d228604">EvacuateRecordOnlyVisitor</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ac6125bc754d4c7ba02699e489318fbf0">heap_</a>(<a class="code" href="namespaceheap.html">heap</a>), <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ab5700d6b1148270b82e06d8050d2ae87">cage_base_</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate()) {}</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160; </div>
<div class="line"><a name="l01812"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#aff475f46419c2e731b1670e8e00d0270"> 1812</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#aff475f46419c2e731b1670e8e00d0270">Visit</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <span class="keywordtype">int</span> <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a> visitor(<a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ac6125bc754d4c7ba02699e489318fbf0">heap_</a>);</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map = <span class="keywordtype">object</span>-&gt;map(<a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ab5700d6b1148270b82e06d8050d2ae87">cage_base_</a>);</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="comment">// Instead of calling object.IterateFast(cage_base(), &amp;visitor) here</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="comment">// we can shortcut and use the precomputed size value passed to the visitor.</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(object-&gt;SizeFromMap(map), <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#acd485928e97629ce830a3fae5be7b993">live_object_size_</a> += <a class="code" href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a>(<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    visitor.<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(map, <span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;  }</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160; </div>
<div class="line"><a name="l01823"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8fb4b99fb5e8ee1714b20cb24f993a44"> 1823</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8fb4b99fb5e8ee1714b20cb24f993a44">live_object_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#acd485928e97629ce830a3fae5be7b993">live_object_size_</a>; }</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160; </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l01826"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ac6125bc754d4c7ba02699e489318fbf0"> 1826</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ac6125bc754d4c7ba02699e489318fbf0">heap_</a>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ab5700d6b1148270b82e06d8050d2ae87"> 1827</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ab5700d6b1148270b82e06d8050d2ae87">cage_base_</a>;</div>
<div class="line"><a name="l01828"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#acd485928e97629ce830a3fae5be7b993"> 1828</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#acd485928e97629ce830a3fae5be7b993">live_object_size_</a> = 0;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;};</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160; </div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac134d900ab0dbca461ef7cb20318c4ba"> 1832</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac134d900ab0dbca461ef7cb20318c4ba">MarkCompactCollector::IsUnmarkedHeapObject</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p) {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> o = *p;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(o)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(o);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ab368d545a9f0cdd6db20243117cc8944">MarkingHelper::IsUnmarkedAndNotAlwaysLive</a>(</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;      <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="namespaceheap.html">heap</a>-&gt;non_atomic_marking_state(), heap_object);</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;}</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160; </div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a45dbe9fb4c2e4b5ebdf19806b2de88fe"> 1841</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a45dbe9fb4c2e4b5ebdf19806b2de88fe">MarkCompactCollector::IsUnmarkedSharedHeapObject</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* client_heap,</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                                                      <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p) {</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> o = *p;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">IsHeapObject</a>(o)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(o);</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* shared_space_heap =</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a79661c3a6407e46b4aa382eae991ecfa">shared_space_isolate</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>();</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ab368d545a9f0cdd6db20243117cc8944">MarkingHelper::IsUnmarkedAndNotAlwaysLive</a>(</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      shared_space_heap, shared_space_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a81880e557d80731da98aebef763044e0">non_atomic_marking_state</a>(),</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      heap_object);</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;}</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a158db1a522505fb3dd824882108797bb"> 1854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a158db1a522505fb3dd824882108797bb">MarkCompactCollector::MarkRoots</a>(<a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a>* root_visitor) {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>();</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160; </div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;  <span class="comment">// Mark the heap roots including global variables, stack variables,</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;  <span class="comment">// etc., and all objects reachable from them.</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a888246e231dc6514e84cbad718195f2e">IterateRoots</a>(</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      root_visitor,</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;SkipRoot&gt;</a>{<a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885af46adad9d0cb04df164724e715cf5562">SkipRoot::kWeak</a>, <a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885af08c9166c4ec6240391d3b750460a155">SkipRoot::kTracedHandles</a>,</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                              <a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885ae627e43b3da0dfc9dc84c70a96c3e983">SkipRoot::kConservativeStack</a>,</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                              <a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885a995dffcce98bdfc9e48bd47a0cdaf2d5">SkipRoot::kReadOnlyBuiltins</a>});</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="comment">// Custom marking for top optimized frame.</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html">CustomRootBodyMarkingVisitor</a> custom_root_body_visitor(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf362cecdae97f4d77f1b446496fcbe6">ProcessTopOptimizedFrame</a>(&amp;custom_root_body_visitor, isolate);</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160; </div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) {</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ClientRootVisitor.html">ClientRootVisitor&lt;&gt;</a> client_root_visitor(root_visitor);</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ClientObjectVisitor.html">ClientObjectVisitor&lt;&gt;</a> client_custom_root_body_visitor(</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        &amp;custom_root_body_visitor);</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">global_safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">IterateClientIsolates</a>(</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        [<span class="keyword">this</span>, &amp;client_root_visitor,</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;         &amp;client_custom_root_body_visitor](<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;          client-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;IterateRoots(</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;              &amp;client_root_visitor,</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;              <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;SkipRoot&gt;</a>{<a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885af46adad9d0cb04df164724e715cf5562">SkipRoot::kWeak</a>,</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                                      <a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885ae627e43b3da0dfc9dc84c70a96c3e983">SkipRoot::kConservativeStack</a>,</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                                      <a class="code" href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885a995dffcce98bdfc9e48bd47a0cdaf2d5">SkipRoot::kReadOnlyBuiltins</a>});</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;          <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf362cecdae97f4d77f1b446496fcbe6">ProcessTopOptimizedFrame</a>(&amp;client_custom_root_body_visitor, client);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        });</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  }</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;}</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160; </div>
<div class="line"><a name="l01887"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#acedafe750c7420c9b300b28d35551732"> 1887</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#acedafe750c7420c9b300b28d35551732">MarkCompactCollector::MarkRootsFromConservativeStack</a>(</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a>* root_visitor) {</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>(), GCTracer::Scope::CONSERVATIVE_STACK_SCANNING);</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a813f065fd20e706f633a1f94da96f839">in_conservative_stack_scanning_</a>);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a813f065fd20e706f633a1f94da96f839">in_conservative_stack_scanning_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a905002cc9f6743a32fc5456088997ff7">IterateConservativeStackRoots</a>(root_visitor,</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1Heap.html#a77f39fcecd7558c4210bda0df86b1599a5db4f3ca1a470a6da7e6cdfcaa4ef69d">Heap::IterateRootsMode::kMainIsolate</a>);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160; </div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>();</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ClientRootVisitor.html">ClientRootVisitor&lt;&gt;</a> client_root_visitor(root_visitor);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    <span class="comment">// For client isolates, use the stack marker to conservatively scan the</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="comment">// stack.</span></div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">global_safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">IterateClientIsolates</a>(</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        [v = &amp;client_root_visitor](<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;          client-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;IterateConservativeStackRoots(</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;              v, <a class="code" href="classv8_1_1internal_1_1Heap.html#a77f39fcecd7558c4210bda0df86b1599a8b40e6ec432d43adb30d551e51018de0">Heap::IterateRootsMode::kClientIsolate</a>);</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;        });</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#a813f065fd20e706f633a1f94da96f839">in_conservative_stack_scanning_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;}</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160; </div>
<div class="line"><a name="l01909"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac8160c925310ee4a1b68a3ce930c2edb"> 1909</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac8160c925310ee4a1b68a3ce930c2edb">MarkCompactCollector::MarkObjectsFromClientHeaps</a>() {</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">heap_</a>-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">isolate</a>();</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="keywordflow">if</span> (!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160; </div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">global_safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">IterateClientIsolates</a>(</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;      [collector = <span class="keyword">this</span>](<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        collector-&gt;MarkObjectsFromClientHeap(client);</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      });</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;}</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160; </div>
<div class="line"><a name="l01919"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab6e6080b49b981420d6462957e003821"> 1919</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab6e6080b49b981420d6462957e003821">MarkCompactCollector::MarkObjectsFromClientHeap</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  <span class="comment">// There is no OLD_TO_SHARED remembered set for the young generation. We</span></div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  <span class="comment">// therefore need to iterate each object and check whether it points into the</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="comment">// shared heap. As an optimization and to avoid a second heap iteration in the</span></div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <span class="comment">// &quot;update pointers&quot; phase, all pointers into the shared heap are recorded in</span></div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  <span class="comment">// the OLD_TO_SHARED remembered set as well.</span></div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html">SharedHeapObjectVisitor</a> visitor(<span class="keyword">this</span>);</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160; </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(client);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* client_heap = client-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>();</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="comment">// Finish sweeping quarantined pages for Scavenger&#39;s new space in order to</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="comment">// iterate objects in it.</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;  client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aee7ba6958af1cfce850fde178b414d8f">EnsureQuarantinedPagesSweepingCompleted</a>();</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;  <span class="comment">// Finish sweeping for new space in order to iterate objects in it.</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aad499bc7154a594f5a3e7036d683cdfa">sweeper</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#acbf8d62c575f291093cbd3b9914bc093">FinishMinorJobs</a>();</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="comment">// Finish sweeping for old generation in order to iterate OLD_TO_SHARED.</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#aad499bc7154a594f5a3e7036d683cdfa">sweeper</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#a14efe8780587dd11ca0a382df885945b">FinishMajorJobs</a>();</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160; </div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* new_space = client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">new_space</a>()) {</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a71a5010a2dde4bbad050c4947dc450e2">allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1HeapAllocator.html#a021e4a3fc4d7ff340e494fa638d848ef">new_space_allocator</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MainAllocator.html#af63591da1398980234236b7168175772">IsLabValid</a>());</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page : *new_space) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> obj : <a class="code" href="classv8_1_1internal_1_1HeapObjectRange.html">HeapObjectRange</a>(page)) {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;        visitor.<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(obj);</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160; </div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="keywordflow">if</span> (client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>()) {</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    std::unique_ptr&lt;ObjectIterator&gt; iterator =</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        client_heap-&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">new_lo_space</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1LargeObjectSpace.html#a1efaf4f5beb810f114aa55456fbd4175">GetObjectIterator</a>(client_heap);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> obj = iterator-&gt;Next(); !obj.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>();</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;         obj = iterator-&gt;Next()) {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      visitor.<a class="code" href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">Visit</a>(obj);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  }</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160; </div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  <span class="comment">// In the old generation we can simply use the OLD_TO_SHARED remembered set to</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;  <span class="comment">// find all incoming pointers into the shared heap.</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;  <a class="code" href="classv8_1_1internal_1_1OldGenerationMemoryChunkIterator.html">OldGenerationMemoryChunkIterator</a> chunk_iterator(client_heap);</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160; </div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="comment">// Tracking OLD_TO_SHARED requires the write barrier.</span></div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.disable_write_barriers);</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160; </div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk = chunk_iterator.<a class="code" href="classv8_1_1internal_1_1OldGenerationMemoryChunkIterator.html#a9ea66f860848f7d450f677032859d256">next</a>(); chunk;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;       chunk = chunk_iterator.<a class="code" href="classv8_1_1internal_1_1OldGenerationMemoryChunkIterator.html#a9ea66f860848f7d450f677032859d256">next</a>()) {</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> slot_count = <a class="code" href="classv8_1_1internal_1_1RememberedSet.html#af1f20aa96b6a02882a1fe0ce5e8b1da3">RememberedSet&lt;OLD_TO_SHARED&gt;::Iterate</a>(</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;        chunk,</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;        [collector = <span class="keyword">this</span>, cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> obj = slot.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a6172d3ff8e11b288be8036d08fda22c6">Relaxed_Load</a>(cage_base);</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160; </div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;          <span class="keywordflow">if</span> (obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;heap_object) &amp;&amp;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;              <a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object)) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="comment">// If the object points to the black allocated shared page, don&#39;t</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            <span class="comment">// mark the object, but still keep the slot.</span></div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            if (MarkingHelper::ShouldMarkObject(collector-&gt;heap(),</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                                                heap_object)) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;              collector-&gt;MarkRootObject(</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                  Root::kClientHeap, heap_object,</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                  MarkingHelper::WorklistTarget::kRegular);</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            }</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;          }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        },</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;        <a class="code" href="classheap_1_1base_1_1BasicSlotSet.html#a29cbe55a0c506ffa5e38391facbe7b99a43a6065835f1c9c12356790a590c40d4">SlotSet::FREE_EMPTY_BUCKETS</a>);</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="keywordflow">if</span> (slot_count == 0) {</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;      chunk-&gt;ReleaseSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b">OLD_TO_SHARED</a>);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160; </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> typed_slot_count = <a class="code" href="classv8_1_1internal_1_1RememberedSet.html#a948ca4aacbb909303ffd8d7b78ceb9be">RememberedSet&lt;OLD_TO_SHARED&gt;::IterateTyped</a>(</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        chunk,</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        [collector = <span class="keyword">this</span>, client_heap](<a class="code" href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">SlotType</a> slot_type, <a class="code" href="classuintptr__t.html">Address</a> slot) {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object =</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;              <a class="code" href="classv8_1_1internal_1_1UpdateTypedSlotHelper.html#a4b52de1f32d1c5e37149e76eb8b3d387">UpdateTypedSlotHelper::GetTargetObject</a>(client_heap, slot_type,</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                                                     slot);</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object)) {</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;            <span class="comment">// If the object points to the black allocated shared page, don&#39;t</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;            <span class="comment">// mark the object, but still keep the slot.</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ac5e90f6e0c7ddb83975856969a4ad03f">MarkingHelper::ShouldMarkObject</a>(collector-&gt;heap(),</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                                                heap_object)) {</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;              collector-&gt;MarkRootObject(</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                  Root::kClientHeap, heap_object,</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                  <a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#a73ca663c9ba5d36d0b15ff93b323b267a520ecade39431601ba732cd4f6de66fa">MarkingHelper::WorklistTarget::kRegular</a>);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;            }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;          }</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;        });</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">if</span> (typed_slot_count == 0) {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      chunk-&gt;ReleaseTypedSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b">OLD_TO_SHARED</a>);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> protected_slot_count =</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RememberedSet.html#af1f20aa96b6a02882a1fe0ce5e8b1da3">RememberedSet&lt;TRUSTED_TO_SHARED_TRUSTED&gt;::Iterate</a>(</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            chunk,</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            [collector = <span class="keyword">this</span>](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;              <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ProtectedPointerSlot</a> protected_slot(slot.address());</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;              <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> obj = protected_slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a503f3174807124ef8c65227ffb37250d">Relaxed_Load</a>();</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;              <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;              <span class="keywordflow">if</span> (obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;heap_object) &amp;&amp;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                  <a class="code" href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">HeapLayout::InWritableSharedSpace</a>(heap_object)) {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                <span class="comment">// If the object points to the black allocated shared page,</span></div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                <span class="comment">// don&#39;t mark the object, but still keep the slot.</span></div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#ac5e90f6e0c7ddb83975856969a4ad03f">MarkingHelper::ShouldMarkObject</a>(collector-&gt;heap(),</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                                                    heap_object)) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                  collector-&gt;MarkRootObject(</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                      Root::kClientHeap, heap_object,</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                      <a class="code" href="structv8_1_1internal_1_1MarkingHelper.html#a73ca663c9ba5d36d0b15ff93b323b267a520ecade39431601ba732cd4f6de66fa">MarkingHelper::WorklistTarget::kRegular</a>);</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;              }</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;            },</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;            <a class="code" href="classheap_1_1base_1_1BasicSlotSet.html#a29cbe55a0c506ffa5e38391facbe7b99a43a6065835f1c9c12356790a590c40d4">SlotSet::FREE_EMPTY_BUCKETS</a>);</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;    <span class="keywordflow">if</span> (protected_slot_count == 0) {</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      chunk-&gt;ReleaseSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa4dc0d88d3eaa2b7b5ea263b3a347fb31">TRUSTED_TO_SHARED_TRUSTED</a>);</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    }</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;  }</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160; </div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ab2246faa71151b0796765b988d046828">IsSharedExternalPointerType</a>(<a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca592a1b13d5f6454340f5d3e2be0f0909">kExternalStringResourceTag</a>));</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#ab2246faa71151b0796765b988d046828">IsSharedExternalPointerType</a>(<a class="code" href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9ffc9bd9f1613f7fdb6e42f391828ff7">kExternalStringResourceDataTag</a>));</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="comment">// All ExternalString resources are stored in the shared external pointer</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <span class="comment">// table. Mark entries from client heaps.</span></div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  ExternalPointerTable&amp; shared_table = client-&gt;shared_external_pointer_table();</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  ExternalPointerTable::Space* shared_space =</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      client-&gt;shared_external_pointer_space();</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;  MarkExternalPointerFromExternalStringTable external_string_visitor(</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      &amp;shared_table, shared_space);</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  client_heap-&gt;external_string_table_.IterateAll(&amp;external_string_visitor);</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;}</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160; </div>
<div class="line"><a name="l02058"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a29754ded838631a20e64ff72c4ebc7b5"> 2058</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::MarkTransitiveClosureUntilFixpoint() {</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <span class="keywordtype">int</span> iterations = 0;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordtype">int</span> max_iterations = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.ephemeron_fixpoint_iterations;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160; </div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordtype">bool</span> another_ephemeron_iteration_main_thread;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; </div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">if</span> (iterations &gt;= max_iterations) {</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      <span class="comment">// Give up fixpoint iteration and switch to linear algorithm.</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    }</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160; </div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    PerformWrapperTracing();</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    <span class="comment">// Move ephemerons from next_ephemerons into current_ephemerons to</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;    <span class="comment">// drain them in this iteration.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        local_weak_objects()-&gt;current_ephemerons_local.IsLocalAndGlobalEmpty());</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    weak_objects_.current_ephemerons.Merge(weak_objects_.next_ephemerons);</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    heap_-&gt;concurrent_marking()-&gt;set_another_ephemeron_iteration(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160; </div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    {</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;      <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;               GCTracer::Scope::MC_MARK_WEAK_CLOSURE_EPHEMERON_MARKING);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;      another_ephemeron_iteration_main_thread = ProcessEphemerons();</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    }</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160; </div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        local_weak_objects()-&gt;current_ephemerons_local.IsLocalAndGlobalEmpty());</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(local_weak_objects()-&gt;next_ephemerons_local.IsLocalEmpty());</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160; </div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    ++iterations;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  } <span class="keywordflow">while</span> (another_ephemeron_iteration_main_thread ||</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;           heap_-&gt;concurrent_marking()-&gt;another_ephemeron_iteration() ||</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;           !local_marking_worklists_-&gt;IsEmpty() ||</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;           !<a class="code" href="namespacev8_1_1internal.html#a9702f1cf0153510561af900313494b5e">IsCppHeapMarkingFinished</a>(heap_, local_marking_worklists_.get()));</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160; </div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;}</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160; </div>
<div class="line"><a name="l02098"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a22174d94a0be4a06c478e30787da2835"> 2098</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::ProcessEphemerons() {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;  <a class="code" href="structv8_1_1internal_1_1Ephemeron.html">Ephemeron</a> ephemeron;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="keywordtype">bool</span> another_ephemeron_iteration = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160; </div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  <span class="comment">// Drain current_ephemerons and push ephemerons where key and value are still</span></div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  <span class="comment">// unreachable into next_ephemerons.</span></div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;current_ephemerons_local.Pop(&amp;ephemeron)) {</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">if</span> (ProcessEphemeron(ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a00fcd545d3f3107bbca49a18aa168165">key</a>, ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a5edaef71d745c9745bef91064094c55e">value</a>)) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;      another_ephemeron_iteration = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    }</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="comment">// Drain marking worklist and push discovered ephemerons into</span></div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="comment">// next_ephemerons.</span></div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  <span class="keywordtype">size_t</span> objects_processed;</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  std::tie(<a class="code" href="namespacewasm.html#a1159abdb217149e8db975f0037d4bfe7">std::ignore</a>, objects_processed) =</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;      ProcessMarkingWorklist(<a class="code" href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a>(), SIZE_MAX);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160; </div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;  <span class="comment">// As soon as a single object was processed and potentially marked another</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="comment">// object we need another iteration. Otherwise we might miss to apply</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  <span class="comment">// ephemeron semantics on it.</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;  <span class="keywordflow">if</span> (objects_processed &gt; 0) another_ephemeron_iteration = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160; </div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  <span class="comment">// Flush local ephemerons for main task to global pool.</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;  local_weak_objects()-&gt;ephemeron_hash_tables_local.Publish();</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  local_weak_objects()-&gt;next_ephemerons_local.Publish();</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keywordflow">return</span> another_ephemeron_iteration;</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;}</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aab5735ec944913ace7e63d14f47ba872"> 2128</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::MarkTransitiveClosureLinear() {</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;           GCTracer::Scope::MC_MARK_WEAK_CLOSURE_EPHEMERON_LINEAR);</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;  <span class="comment">// This phase doesn&#39;t support parallel marking.</span></div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(heap_-&gt;concurrent_marking()-&gt;IsStopped());</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(key_to_values_.empty());</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      local_weak_objects()-&gt;current_ephemerons_local.IsLocalAndGlobalEmpty());</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="comment">// Update visitor to directly add new ephemerons to key_to_values_.</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  marking_visitor_-&gt;SetKeyToValues(&amp;key_to_values_);</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <a class="code" href="structv8_1_1internal_1_1Ephemeron.html">Ephemeron</a> ephemeron;</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;next_ephemerons_local.Pop(&amp;ephemeron)) {</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;    <span class="keywordflow">if</span> (ApplyEphemeronSemantics(ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a00fcd545d3f3107bbca49a18aa168165">key</a>, ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a5edaef71d745c9745bef91064094c55e">value</a>) ==</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        EphemeronResult::kUnresolved) {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;      <span class="keyword">auto</span> it = key_to_values_.try_emplace(ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a00fcd545d3f3107bbca49a18aa168165">key</a>).first;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;      it-&gt;second.push_back(ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a5edaef71d745c9745bef91064094c55e">value</a>);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    }</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  }</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160; </div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  <span class="keywordtype">bool</span> work_to_do;</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160; </div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    PerformWrapperTracing();</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160; </div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;      <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;               GCTracer::Scope::MC_MARK_WEAK_CLOSURE_EPHEMERON_MARKING);</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;      <span class="comment">// Drain marking worklist but:</span></div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;      <span class="comment">// (1) push all new ephemerons directly into key_to_values_.</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;      <span class="comment">// (2) look up all traced objects in key_to_values_.</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;      ProcessMarkingWorklist&lt;</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;          MarkingWorklistProcessingMode::kProcessRememberedEphemerons&gt;(</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;          <a class="code" href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a>(), SIZE_MAX);</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    }</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160; </div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <span class="comment">// Do NOT drain marking worklist here, otherwise the current checks</span></div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="comment">// for work_to_do are not sufficient for determining if another iteration</span></div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <span class="comment">// is necessary.</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160; </div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    work_to_do =</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        !local_marking_worklists_-&gt;IsEmpty() ||</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        !<a class="code" href="namespacev8_1_1internal.html#a9702f1cf0153510561af900313494b5e">IsCppHeapMarkingFinished</a>(heap_, local_marking_worklists_.get());</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(local_weak_objects()-&gt;next_ephemerons_local.IsLocalAndGlobalEmpty());</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  } <span class="keywordflow">while</span> (work_to_do);</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(local_marking_worklists_-&gt;IsEmpty());</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160; </div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(weak_objects_.current_ephemerons.IsEmpty());</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(weak_objects_.next_ephemerons.IsEmpty());</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160; </div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="comment">// Flush local ephemerons for main task to global pool.</span></div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  local_weak_objects()-&gt;ephemeron_hash_tables_local.Publish();</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  local_weak_objects()-&gt;next_ephemerons_local.Publish();</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;}</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa35f5f312b9c6ccc1965b9cba1ae14fc"> 2185</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::PerformWrapperTracing() {</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="keyword">auto</span>* cpp_heap = CppHeap::From(heap_-&gt;cpp_heap_);</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;  <span class="keywordflow">if</span> (!cpp_heap) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160; </div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_EMBEDDER_TRACING);</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  cpp_heap-&gt;AdvanceMarking(<a class="code" href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a>(), SIZE_MAX);</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;}</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160; </div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160; </div>
<div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a83d32f2ce33023f3050bedde123689c1"> 2195</a></span>&#160;constexpr <span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a83d32f2ce33023f3050bedde123689c1">kDeadlineCheckInterval</a> = 128u;</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160; </div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160; </div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;<span class="keyword">template</span> &lt;MarkCompactCollector::MarkingWorklistProcessingMode mode&gt;</div>
<div class="line"><a name="l02200"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a0af0fd7aa4d838723848a5c082e43412"> 2200</a></span>&#160;std::pair&lt;size_t, size_t&gt; MarkCompactCollector::ProcessMarkingWorklist(</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;    <a class="code" href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a> max_duration, <span class="keywordtype">size_t</span> max_bytes_to_process) {</div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> object;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;  <span class="keywordtype">size_t</span> bytes_processed = 0;</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  <span class="keywordtype">size_t</span> objects_processed = 0;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;  <span class="keywordtype">bool</span> is_per_context_mode = local_marking_worklists_-&gt;IsPerContextMode();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> start = <a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>();</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(isolate);</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160; </div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;  <span class="keywordflow">if</span> (parallel_marking_ &amp;&amp; UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;    heap_-&gt;concurrent_marking()-&gt;RescheduleJobIfNeeded(</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        GarbageCollector::MARK_COMPACTOR, <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>);</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  }</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160; </div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;  <span class="keywordflow">while</span> (local_marking_worklists_-&gt;Pop(&amp;<span class="keywordtype">object</span>) ||</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;         local_marking_worklists_-&gt;PopOnHold(&amp;<span class="keywordtype">object</span>)) {</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;    <span class="comment">// The marking worklist should never contain filler objects.</span></div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#abbf68b3bf1ca62b0645f031cdc769188">IsFreeSpaceOrFiller</a>(<span class="keywordtype">object</span>, cage_base));</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!HeapLayout::InReadOnlySpace(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(HeapUtils::GetOwnerHeap(<span class="keywordtype">object</span>), heap_);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(heap_-&gt;Contains(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!(marking_state_-&gt;IsUnmarked(<span class="keywordtype">object</span>)));</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">if</span> constexpr (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a> ==</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                  MarkingWorklistProcessingMode::kProcessRememberedEphemerons) {</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;      <span class="keyword">auto</span> it = key_to_values_.find(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;      <span class="keywordflow">if</span> (it != key_to_values_.end()) {</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> : it-&gt;second) {</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;          <span class="keyword">const</span> <span class="keyword">auto</span> target_worklist =</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;              MarkingHelper::ShouldMarkObject(heap_, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;          <span class="keywordflow">if</span> (target_worklist) {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02traced-handles_8cc_03.html#a2f52281c9e556f7a59f37b007fabebe3">MarkObject</a>(<span class="keywordtype">object</span>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, target_worklist.value());</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;          }</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        }</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        key_to_values_.erase(it);</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;      }</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    }</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160; </div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map = <span class="keywordtype">object</span>-&gt;map(cage_base);</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">if</span> (is_per_context_mode) {</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> context;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;      <span class="keywordflow">if</span> (native_context_inferrer_.Infer(cage_base, map, <span class="keywordtype">object</span>, &amp;context)) {</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        local_marking_worklists_-&gt;SwitchToContext(context);</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      }</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;    }</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> visited_size = marking_visitor_-&gt;Visit(map, <span class="keywordtype">object</span>);</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;    <span class="keywordflow">if</span> (visited_size) {</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      MutablePageMetadata::FromHeapObject(<span class="keywordtype">object</span>)-&gt;IncrementLiveBytesAtomically(</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;          <a class="code" href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a>(visited_size));</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    }</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    <span class="keywordflow">if</span> (is_per_context_mode) {</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;      native_context_stats_.IncrementSize(local_marking_worklists_-&gt;Context(),</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                                          map, <span class="keywordtype">object</span>, visited_size);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    }</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    bytes_processed += visited_size;</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    objects_processed++;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    static_assert(<a class="code" href="namespacev8_1_1base_1_1bits.html#af9eb752b538fa8a66badab8f26e0e000">base::bits::IsPowerOfTwo</a>(<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a83d32f2ce33023f3050bedde123689c1">kDeadlineCheckInterval</a>),</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                  <span class="stringliteral">&quot;kDeadlineCheckInterval must be power of 2&quot;</span>);</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    <span class="comment">// The below check is an optimized version of</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    <span class="comment">// `(objects_processed % kDeadlineCheckInterval) == 0`</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    <span class="keywordflow">if</span> ((objects_processed &amp; (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a83d32f2ce33023f3050bedde123689c1">kDeadlineCheckInterval</a> -1)) == 0 &amp;&amp;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        ((<a class="code" href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a>() - start) &gt; max_duration)) {</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    }</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordflow">if</span> (bytes_processed &gt;= max_bytes_to_process) {</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  }</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <span class="keywordflow">return</span> std::make_pair(bytes_processed, objects_processed);</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;}</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160; </div>
<div class="line"><a name="l02273"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a68f84b58f91bd059cec89f8b1a061775"> 2273</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::ProcessEphemeron(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>,</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf4a3c7fbd042b3a90c2c1e4f00cac88">EphemeronResult</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = ApplyEphemeronSemantics(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160; </div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == EphemeronResult::kUnresolved) {</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;    local_weak_objects()-&gt;next_ephemerons_local.Push(<a class="code" href="structv8_1_1internal_1_1Ephemeron.html">Ephemeron</a>{<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>});</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  }</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160; </div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == EphemeronResult::kMarkedValue;</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;}</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160; </div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf4a3c7fbd042b3a90c2c1e4f00cac88">MarkCompactCollector::EphemeronResult</a></div>
<div class="line"><a name="l02286"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab610702a8f54d8e17897592b3047103c"> 2286</a></span>&#160;MarkCompactCollector::ApplyEphemeronSemantics(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>,</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;                                              <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>) {</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;  <span class="comment">// Objects in the shared heap are prohibited from being used as keys in</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;  <span class="comment">// WeakMaps and WeakSets and therefore cannot be ephemeron keys, because that</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;  <span class="comment">// would enable thread local -&gt; shared heap edges.</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!HeapLayout::InWritableSharedSpace(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>));</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;  <span class="comment">// Usually values that should not be marked are not added to the ephemeron</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;  <span class="comment">// worklist. However, minor collection during incremental marking may promote</span></div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;  <span class="comment">// strings from the younger generation into the shared heap. This</span></div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;  <span class="comment">// ShouldMarkObject call catches those cases.</span></div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> target_worklist = MarkingHelper::ShouldMarkObject(heap_, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;  <span class="keywordflow">if</span> (!target_worklist) {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;    <span class="comment">// The value doesn&#39;t need to be marked in this GC, so no need to track</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;    <span class="comment">// ephemeron further.</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;    <span class="keywordflow">return</span> EphemeronResult::kResolved;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;  }</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160; </div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;  <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, marking_state_, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>)) {</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::TryMarkAndPush(heap_, local_marking_worklists_.get(),</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;                                      marking_state_, target_worklist.value(),</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;                                      <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;      <span class="keywordflow">return</span> EphemeronResult::kMarkedValue;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;      <span class="keywordflow">return</span> EphemeronResult::kResolved;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    }</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <span class="keywordflow">if</span> (marking_state_-&gt;IsMarked(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;      <span class="keywordflow">return</span> EphemeronResult::kResolved;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;      <span class="keywordflow">return</span> EphemeronResult::kUnresolved;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    }</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  }</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;}</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160; </div>
<div class="line"><a name="l02320"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab744335a59a10dfc63766f57720f8a8b"> 2320</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::VerifyEphemeronMarking() {</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_heap) {</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <a class="code" href="structv8_1_1internal_1_1Ephemeron.html">Ephemeron</a> ephemeron;</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160; </div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="comment">// In the fixpoint iteration all unresolved ephemerons are in</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    <span class="comment">// `next_ephemerons_`.</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        local_weak_objects()-&gt;current_ephemerons_local.IsLocalAndGlobalEmpty());</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    weak_objects_.current_ephemerons.Merge(weak_objects_.next_ephemerons);</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <span class="keywordflow">while</span> (local_weak_objects()-&gt;current_ephemerons_local.Pop(&amp;ephemeron)) {</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(ApplyEphemeronSemantics(ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a00fcd545d3f3107bbca49a18aa168165">key</a>, ephemeron.<a class="code" href="structv8_1_1internal_1_1Ephemeron.html#a5edaef71d745c9745bef91064094c55e">value</a>),</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;               EphemeronResult::kMarkedValue);</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    }</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;    <span class="comment">// In the linear-time algorithm ephemerons are kept in `key_to_values_`.</span></div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; [<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, values] : key_to_values_) {</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> : values) {</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a>(ApplyEphemeronSemantics(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>),</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;                 EphemeronResult::kMarkedValue);</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;      }</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    }</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  }</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;}</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a14908aaa211b8c1bbafb7e4496736114"> 2346</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::MarkTransitiveClosure() {</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="comment">// Incremental marking might leave ephemerons in main task&#39;s local</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  <span class="comment">// buffer, flush it into global pool.</span></div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  local_weak_objects()-&gt;next_ephemerons_local.Publish();</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160; </div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  <span class="keywordflow">if</span> (!MarkTransitiveClosureUntilFixpoint()) {</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="comment">// Fixpoint iteration needed too many iterations and was cancelled. Use the</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    <span class="comment">// guaranteed linear algorithm. But only in the final single-thread marking</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;    <span class="comment">// phase.</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <span class="keywordflow">if</span> (!parallel_marking_) MarkTransitiveClosureLinear();</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  }</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;}</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160; </div>
<div class="line"><a name="l02359"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf362cecdae97f4d77f1b446496fcbe6"> 2359</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ProcessTopOptimizedFrame(<a class="code" href="classv8_1_1internal_1_1ObjectVisitor.html">ObjectVisitor</a>* visitor,</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;                                                    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate) {</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1StackFrameIterator.html">StackFrameIterator</a> it(isolate, isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#aa3f53c9b9733db23efd7d26d2c854409">thread_local_top</a>()); !it.<a class="code" href="classv8_1_1internal_1_1StackFrameIteratorBase.html#a0fdde3eed7621e64ee5e1a6ea0799c4b">done</a>();</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;       it.Advance()) {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <span class="keywordflow">if</span> (it.frame()-&gt;is_unoptimized_js()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <span class="keywordflow">if</span> (it.frame()-&gt;is_optimized_js()) {</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;GcSafeCode&gt;</a> lookup_result = it.frame()-&gt;GcSafeLookupCode();</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;      <span class="keywordflow">if</span> (!lookup_result-&gt;has_instruction_stream()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;      <span class="keywordflow">if</span> (!lookup_result-&gt;CanDeoptAt(isolate,</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                                     it.frame()-&gt;maybe_unauthenticated_pc())) {</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> istream = UncheckedCast&lt;InstructionStream&gt;(</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            lookup_result-&gt;raw_instruction_stream());</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;        <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(isolate);</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;        InstructionStream::BodyDescriptor::IterateBody(istream-&gt;map(cage_base),</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                                                       istream, visitor);</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;      }</div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;    }</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  }</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;}</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160; </div>
<div class="line"><a name="l02380"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#adf2bc94ab3ef1e83c8e7f8df722f1896"> 2380</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::RecordObjectStats() {</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a>(!TracingFlags::is_gc_stats_enabled())) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  <span class="comment">// Cannot run during bootstrapping due to incomplete objects.</span></div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;isolate()-&gt;bootstrapper()-&gt;IsActive()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="gc-tracer_8h.html#af107f5a2136b9fcf104fc8c23a5bdfaa">TRACE_GC_CATEGORIES</a>, <span class="stringliteral">&quot;V8.GC_OBJECT_DUMP_STATISTICS&quot;</span>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  heap_-&gt;CreateObjectStats();</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ObjectStatsCollector.html">ObjectStatsCollector</a> collector(heap_, heap_-&gt;live_object_stats_.get(),</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                                 heap_-&gt;dead_object_stats_.get());</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;  collector.<a class="code" href="classv8_1_1internal_1_1ObjectStatsCollector.html#afd62fd6f3928d1905c1b41249b3082b8">Collect</a>();</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(TracingFlags::gc_stats.load(std::memory_order_relaxed) &amp;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                  <a class="code" href="classv8_1_1tracing_1_1TracingCategoryObserver.html#aeb955195fe66a5b0497cff536c090589a31fe0ad3ce8b8c278bd0f78770f13b30">v8::tracing::TracingCategoryObserver::ENABLED_BY_TRACING</a>)) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    std::stringstream live, dead;</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    heap_-&gt;live_object_stats_-&gt;Dump(live);</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    heap_-&gt;dead_object_stats_-&gt;Dump(dead);</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#a9caa02a30959b26112c2dcc35ed3727e">TRACE_EVENT_INSTANT2</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc_stats&quot;</span>),</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;                         <span class="stringliteral">&quot;V8.GC_Objects_Stats&quot;</span>, <a class="code" href="trace-event-no-perfetto_8h.html#a8b5bca924ef796a311bb5ba5c8d7f57d">TRACE_EVENT_SCOPE_THREAD</a>,</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                         <span class="stringliteral">&quot;live&quot;</span>, <a class="code" href="tracing_2trace-event_8h.html#a3e7918f87c057008134f23473b59c341">TRACE_STR_COPY</a>(live.str().c_str()), <span class="stringliteral">&quot;dead&quot;</span>,</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;                         <a class="code" href="tracing_2trace-event_8h.html#a3e7918f87c057008134f23473b59c341">TRACE_STR_COPY</a>(dead.str().c_str()));</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  }</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_gc_object_stats) {</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    heap_-&gt;live_object_stats_-&gt;PrintJSON(<span class="stringliteral">&quot;live&quot;</span>);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    heap_-&gt;dead_object_stats_-&gt;PrintJSON(<span class="stringliteral">&quot;dead&quot;</span>);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  }</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  heap_-&gt;live_object_stats_-&gt;CheckpointObjectStats();</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  heap_-&gt;dead_object_stats_-&gt;ClearObjectStats();</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;}</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160; </div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160; </div>
<div class="line"><a name="l02409"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a149d8c397d9b5e24f9f059e879b85ac2"> 2409</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a149d8c397d9b5e24f9f059e879b85ac2">ShouldRetainMap</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1MarkingState.html">MarkingState</a>* marking_state, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map,</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;                     <span class="keywordtype">int</span> age) {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <span class="keywordflow">if</span> (age == 0) {</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    <span class="comment">// The map has aged. Do not retain this map.</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;  }</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> constructor = map-&gt;GetConstructor();</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(constructor) ||</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;      MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;          <a class="code" href="namespaceheap.html">heap</a>, marking_state, Cast&lt;HeapObject&gt;(constructor))) {</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="comment">// The constructor is dead, no new objects with this map can</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    <span class="comment">// be created. Do not retain this map.</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  }</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;}</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160; </div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160; </div>
<div class="line"><a name="l02428"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac29e4cf8c7be9c6a3e843b5695b16fb3"> 2428</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::RetainMaps() {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <span class="comment">// Retaining maps increases the chances of reusing map transitions at some</span></div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="comment">// memory cost, hence disable it when trying to reduce memory footprint more</span></div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <span class="comment">// aggressively.</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> should_retain_maps =</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;      !heap_-&gt;ShouldReduceMemory() &amp;&amp; <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.retain_maps_for_n_gc != 0;</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WeakArrayList&gt;</a> retained_maps : heap_-&gt;FindAllRetainedMaps()) {</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, retained_maps-&gt;length() % 2);</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; retained_maps-&gt;length(); <a class="code" href="namespacev8_1_1internal.html">i</a> += 2) {</div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = retained_maps-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> map_heap_object;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>.GetHeapObjectIfWeak(&amp;map_heap_object)) {</div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      }</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;      <span class="keywordtype">int</span> age = retained_maps-&gt;Get(<a class="code" href="namespacev8_1_1internal.html">i</a> + 1).<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#ab4335f1a0873e1d31150ee52ccc7b320">ToSmi</a>().value();</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;      <span class="keywordtype">int</span> new_age;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map = Cast&lt;Map&gt;(map_heap_object);</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;      <span class="keywordflow">if</span> (should_retain_maps &amp;&amp; MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                                    heap_, marking_state_, map)) {</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a149d8c397d9b5e24f9f059e879b85ac2">ShouldRetainMap</a>(heap_, marking_state_, map, age)) {</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;          <span class="keywordflow">if</span> (MarkingHelper::ShouldMarkObject(heap_, map)) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;            MarkingHelper::TryMarkAndPush(</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                heap_, local_marking_worklists_.get(), marking_state_,</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02v8-console_8cc_03.html#adf875f9db530467b78e5703cb6bef044a5a9c69b905f40e54ca7cd2ca1ed9dd83">MarkingHelper::WorklistTarget::kRegular</a>, map);</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;          }</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        }</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a> = map-&gt;prototype();</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        <span class="keywordflow">if</span> (age &gt; 0 &amp;&amp; <a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>) &amp;&amp;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;            MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                heap_, marking_state_, Cast&lt;HeapObject&gt;(<a class="code" href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">prototype</a>))) {</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;          <span class="comment">// The prototype is not marked, age the map.</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;          new_age = age - 1;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;          <span class="comment">// The prototype and the constructor are marked, this map keeps only</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;          <span class="comment">// transition tree alive, not JSObjects. Do not age the map.</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;          new_age = age;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        }</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;        new_age = <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.retain_maps_for_n_gc;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      }</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      <span class="comment">// Compact the array and update the age.</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;      <span class="keywordflow">if</span> (new_age != age) {</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        retained_maps-&gt;Set(<a class="code" href="namespacev8_1_1internal.html">i</a> + 1, Smi::FromInt(new_age));</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;      }</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    }</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;  }</div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;}</div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160; </div>
<div class="line"><a name="l02477"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a16935f51d75fd467f80fae7c7d960e5e"> 2477</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::MarkLiveObjects() {</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;  <a class="code" href="gc-tracer_8h.html#ab1b9d31a6993723e2ab2a57d5d18ef5a">TRACE_GC_ARG1</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK,</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                <span class="stringliteral">&quot;UseBackgroundThreads&quot;</span>, UseBackgroundThreadsInCycle());</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160; </div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> was_marked_incrementally =</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      !heap_-&gt;incremental_marking()-&gt;IsStopped();</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;  <span class="keywordflow">if</span> (was_marked_incrementally) {</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keyword">auto</span>* incremental_marking = heap_-&gt;incremental_marking();</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;    <a class="code" href="gc-tracer_8h.html#a4b6fc205b8b8bbe4275672c2a66c5b94">TRACE_GC_WITH_FLOW</a>(</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_FINISH_INCREMENTAL,</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        incremental_marking-&gt;current_trace_id(), <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(incremental_marking-&gt;IsMajorMarking());</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;    incremental_marking-&gt;Stop();</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    MarkingBarrier::PublishAll(heap_);</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;  }</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160; </div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(state_ == PREPARE_GC);</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  state_ = MARK_LIVE_OBJECTS;</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160; </div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;cpp_heap_) {</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    CppHeap::From(heap_-&gt;cpp_heap_)</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        -&gt;EnterFinalPause(heap_-&gt;embedder_stack_state_);</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;  }</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160; </div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RootMarkingVisitor.html">RootMarkingVisitor</a> root_visitor(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160; </div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;  {</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_ROOTS);</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    MarkRoots(&amp;root_visitor);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;  }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160; </div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;  {</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_CLIENT_HEAPS);</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;    MarkObjectsFromClientHeaps();</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  }</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160; </div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;  {</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_RETAIN_MAPS);</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    RetainMaps();</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  }</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160; </div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_marking &amp;&amp; UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_FULL_CLOSURE_PARALLEL);</div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;    parallel_marking_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    heap_-&gt;concurrent_marking()-&gt;RescheduleJobIfNeeded(</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;        GarbageCollector::MARK_COMPACTOR, <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>);</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    MarkTransitiveClosure();</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;    {</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;      <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;               GCTracer::Scope::MC_MARK_FULL_CLOSURE_PARALLEL_JOIN);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;      FinishConcurrentMarking();</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    }</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    parallel_marking_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  }</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160; </div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  {</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_ROOTS);</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;    MarkRootsFromConservativeStack(&amp;root_visitor);</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;  }</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160; </div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;  {</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_MARK_FULL_CLOSURE_SERIAL);</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    <span class="comment">// Complete the transitive closure single-threaded to avoid races with</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;    <span class="comment">// multiple threads when processing weak maps and embedder heaps.</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(heap_-&gt;concurrent_marking()-&gt;IsStopped());</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span>* cpp_heap = CppHeap::From(heap_-&gt;cpp_heap())) {</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;      <span class="comment">// Lock the process-global mutex here and mark cross-thread roots again.</span></div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <span class="comment">// This is done as late as possible to keep locking durations short.</span></div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      cpp_heap-&gt;EnterProcessGlobalAtomicPause();</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;    }</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;    MarkTransitiveClosure();</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(local_marking_worklists_-&gt;IsEmpty());</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        local_weak_objects()-&gt;current_ephemerons_local.IsLocalAndGlobalEmpty());</div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(<a class="code" href="namespacev8_1_1internal.html#a9702f1cf0153510561af900313494b5e">IsCppHeapMarkingFinished</a>(heap_, local_marking_worklists_.get()));</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    VerifyEphemeronMarking();</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;  }</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160; </div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;  <span class="keywordflow">if</span> (was_marked_incrementally) {</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;    <span class="comment">// Disable the marking barrier after concurrent/parallel marking has</span></div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;    <span class="comment">// finished as it will reset page flags that share the same bitmap as</span></div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;    <span class="comment">// the evacuation candidate bit.</span></div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    MarkingBarrier::DeactivateAll(heap_);</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;    heap_-&gt;isolate()-&gt;traced_handles()-&gt;SetIsMarking(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  }</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160; </div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  epoch_++;</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;}</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160; </div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160; </div>
<div class="line"><a name="l02570"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html"> 2570</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html">ParallelClearingJob</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1JobTask.html">v8::JobTask</a> {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02572"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html"> 2572</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html">ClearingItem</a> {</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;   <span class="keyword">public</span>:</div>
<div class="line"><a name="l02574"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html#a5c5e1908be62dc53e7455d8d74d592d9"> 2574</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html#a5c5e1908be62dc53e7455d8d74d592d9">~ClearingItem</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l02575"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html#a948d5524c264e22bf0fb1adb65fe58a5"> 2575</a></span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html#a948d5524c264e22bf0fb1adb65fe58a5">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) = 0;</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;  };</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160; </div>
<div class="line"><a name="l02578"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#abaa7a1c7e6ddec3fb71e99b1eaab2125"> 2578</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#abaa7a1c7e6ddec3fb71e99b1eaab2125">ParallelClearingJob</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;      : collector_(collector) {}</div>
<div class="line"><a name="l02580"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ade9faf0c17004b08a2e7ca31e7d789f3"> 2580</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ade9faf0c17004b08a2e7ca31e7d789f3">~ParallelClearingJob</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l02581"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ae0f2beec6ef42e4177c583f67222f341"> 2581</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ae0f2beec6ef42e4177c583f67222f341">ParallelClearingJob</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html">ParallelClearingJob</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l02582"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a1718527ee6ebc932727c8bd37d51f18d"> 2582</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html">ParallelClearingJob</a>&amp; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a1718527ee6ebc932727c8bd37d51f18d">operator=</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html">ParallelClearingJob</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160; </div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;  <span class="comment">// v8::JobTask overrides.</span></div>
<div class="line"><a name="l02585"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ac6d74aa6cf026b3869e5fff879dbeb03"> 2585</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ac6d74aa6cf026b3869e5fff879dbeb03">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;    std::unique_ptr&lt;ClearingItem&gt; item;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    {</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;      <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;items_mutex_);</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      item = std::move(items_.back());</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;      items_.pop_back();</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    }</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;    item-&gt;Run(delegate);</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;  }</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160; </div>
<div class="line"><a name="l02595"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ac162da9d521d1a2bdd93357381584293"> 2595</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ac162da9d521d1a2bdd93357381584293">GetMaxConcurrency</a>(<span class="keywordtype">size_t</span> worker_count)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;    <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;items_mutex_);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_weak_ref_clearing ||</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        !collector_-&gt;UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;      <span class="keywordflow">return</span> std::min&lt;size_t&gt;(items_.size(), 1);</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    }</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <span class="keywordflow">return</span> items_.size();</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;  }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160; </div>
<div class="line"><a name="l02604"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a7913e843ea5f5f310c567728ed8b42ad"> 2604</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a7913e843ea5f5f310c567728ed8b42ad">Add</a>(std::unique_ptr&lt;ClearingItem&gt; item) {</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    items_.push_back(std::move(item));</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;  }</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160; </div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02609"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a648893766d4ba16e8c47ed9ae3e8dd0a"> 2609</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a648893766d4ba16e8c47ed9ae3e8dd0a">collector_</a>;</div>
<div class="line"><a name="l02610"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a7c287336c0da177bc755c8b229c018a6"> 2610</a></span>&#160;  <span class="keyword">mutable</span> <a class="code" href="classv8_1_1base_1_1Mutex.html">base::Mutex</a> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a7c287336c0da177bc755c8b229c018a6">items_mutex_</a>;</div>
<div class="line"><a name="l02611"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#aae156325b1870b06ff8a575819c16e95"> 2611</a></span>&#160;  std::vector&lt;std::unique_ptr&lt;ClearingItem&gt;&gt; <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#aae156325b1870b06ff8a575819c16e95">items_</a>;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;};</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160; </div>
<div class="line"><a name="l02614"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html"> 2614</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html">ClearStringTableJobItem</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html">ParallelClearingJob::ClearingItem</a> {</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02616"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a9fc47b04df84d6ff13a8a5b33435039f"> 2616</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a9fc47b04df84d6ff13a8a5b33435039f">ClearStringTableJobItem</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      : isolate_(isolate),</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        trace_id_(reinterpret_cast&lt;uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>) ^</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                  isolate-&gt;<a class="code" href="namespaceheap.html">heap</a>()-&gt;tracer()-&gt;CurrentEpoch(</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;                      <a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>::<a class="code" href="classv8_1_1internal_1_1Scope.html">Scope</a>::MC_CLEAR_STRING_TABLE)) {}</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#ad288a296acc6b38dbc26d828456ee6ea"> 2622</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#ad288a296acc6b38dbc26d828456ee6ea">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) <span class="keyword">final</span> {</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    <span class="comment">// Set the current isolate such that trusted pointer tables etc are</span></div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <span class="comment">// available and the cage base is set correctly for multi-cage mode.</span></div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">SetCurrentIsolateScope</a> isolate_scope(isolate_);</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160; </div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="keywordflow">if</span> (isolate_-&gt;OwnsStringTables()) {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;      <a class="code" href="gc-tracer_8h.html#af9338020b2e2d4a1c8fe541d32e18473">TRACE_GC1_WITH_FLOW</a>(isolate_-&gt;heap()-&gt;tracer(),</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;                          GCTracer::Scope::MC_CLEAR_STRING_TABLE,</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;                          delegate-&gt;IsJoiningThread() ? ThreadKind::kMain</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                                                      : ThreadKind::kBackground,</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;                          trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;      <span class="comment">// Prune the string table removing all strings only pointed to by the</span></div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;      <span class="comment">// string table.  Cannot use string_table() here because the string</span></div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;      <span class="comment">// table is marked.</span></div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;      <a class="code" href="classv8_1_1internal_1_1StringTable.html">StringTable</a>* string_table = isolate_-&gt;string_table();</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;      <a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html">InternalizedStringTableCleaner</a> internalized_visitor(isolate_-&gt;heap());</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;      string_table-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable.html#ac7051d18932bb54945f2bfac94d75765">DropOldData</a>();</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;      string_table-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a1f5c9338a7df2c61bfda8ae715ec3f14">IterateElements</a>(&amp;internalized_visitor);</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;      string_table-&gt;<a class="code" href="classv8_1_1internal_1_1StringTable.html#a8a7915726542f03275e2cddbe03ddef3">NotifyElementsRemoved</a>(</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;          internalized_visitor.<a class="code" href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#acc8652376ea10be09435416bd4a4c6dc">PointersRemoved</a>());</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    }</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  }</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160; </div>
<div class="line"><a name="l02645"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a495710e13364080d25bbe12255b27362"> 2645</a></span>&#160;  uint64_t <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a495710e13364080d25bbe12255b27362">trace_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> trace_id_; }</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160; </div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02648"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a198172adfac89ca14cf557716c6b843b"> 2648</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a198172adfac89ca14cf557716c6b843b">isolate_</a>;</div>
<div class="line"><a name="l02649"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#ad3f4df976e97b42b5ba9ec917b418500"> 2649</a></span>&#160;  <span class="keyword">const</span> uint64_t <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#ad3f4df976e97b42b5ba9ec917b418500">trace_id_</a>;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;};</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160; </div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160; </div>
<div class="line"><a name="l02654"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html"> 2654</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html">FullStringForwardingTableCleaner</a> final</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1StringForwardingTableCleanerBase.html">StringForwardingTableCleanerBase</a> {</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02657"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aedd993cea743624dd174908e63046cf4"> 2657</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aedd993cea743624dd174908e63046cf4">FullStringForwardingTableCleaner</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1StringForwardingTableCleanerBase.html">StringForwardingTableCleanerBase</a>(<a class="code" href="namespaceheap.html">heap</a>), heap_(<a class="code" href="namespaceheap.html">heap</a>) {</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(heap_);</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;  }</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160; </div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;  <span class="comment">// Transition all strings in the forwarding table to</span></div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  <span class="comment">// ThinStrings/ExternalStrings and clear the table afterwards.</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aab81ddafa287b1e2b2cb04427954ce51"> 2664</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aab81ddafa287b1e2b2cb04427954ce51">TransitionStrings</a>() {</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!heap_-&gt;IsGCWithStack() ||</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;           <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.transition_strings_during_gc_with_stack);</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html">StringForwardingTable</a>* forwarding_table =</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        isolate_-&gt;string_forwarding_table();</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    forwarding_table-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#a2a70a10b07a2a256fbe87d4d1b8e2ece">IterateElements</a>(</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        [&amp;](<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">StringForwardingTable::Record</a>* record) {</div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;          TransitionStrings(record);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        });</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    forwarding_table-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#a21b17e1cef42e96f10fd272a2e42336f">Reset</a>();</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  }</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="comment">// When performing GC with a stack, we conservatively assume that</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="comment">// the GC could have been triggered by optimized code. Optimized code</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="comment">// assumes that flat strings don&#39;t transition during GCs, so we are not</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="comment">// allowed to transition strings to ThinString/ExternalString in that</span></div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;  <span class="comment">// case.</span></div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;  <span class="comment">// Instead we mark forward objects to keep them alive and update entries</span></div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <span class="comment">// of evacuated objects later.</span></div>
<div class="line"><a name="l02683"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a8dbc01746330b8c8a17559d38e3e4787"> 2683</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a8dbc01746330b8c8a17559d38e3e4787">ProcessFullWithStack</a>() {</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(heap_-&gt;IsGCWithStack() &amp;&amp;</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;           !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.transition_strings_during_gc_with_stack);</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html">StringForwardingTable</a>* forwarding_table =</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;        isolate_-&gt;string_forwarding_table();</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    forwarding_table-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable.html#a2a70a10b07a2a256fbe87d4d1b8e2ece">IterateElements</a>(</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;        [&amp;](<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">StringForwardingTable::Record</a>* record) {</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;          MarkForwardObject(record);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        });</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  }</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160; </div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02695"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a7d710c61024aa2c6364bf0c9895a14aa"> 2695</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a7d710c61024aa2c6364bf0c9895a14aa">MarkForwardObject</a>(<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">StringForwardingTable::Record</a>* record) {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> original = record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#a12944c032e22e8751e7470ae7c887e12">OriginalStringObject</a>(isolate_);</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(original)) {</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(original, StringForwardingTable::deleted_element());</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    }</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> original_string = Cast&lt;String&gt;(original);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, marking_state_,</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;                                            original_string)) {</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> forward = record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#adbf9fddd129c0a593bb4fa0174633634">ForwardStringObjectOrHash</a>(isolate_);</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(forward) ||</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;          (MarkingHelper::GetLivenessMode(heap_, Cast&lt;HeapObject&gt;(forward)) ==</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;           MarkingHelper::LivenessMode::kAlwaysLive)) {</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;      }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;      marking_state_-&gt;TryMarkAndAccountLiveBytes(Cast&lt;HeapObject&gt;(forward));</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;      DisposeExternalResource(record);</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;      record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#ab7d0c7d00f23b0db74e9910fd92e62c9">set_original_string</a>(StringForwardingTable::deleted_element());</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    }</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  }</div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160; </div>
<div class="line"><a name="l02717"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a081f675103836ed2a701fc1ce08162ba"> 2717</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a081f675103836ed2a701fc1ce08162ba">TransitionStrings</a>(<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">StringForwardingTable::Record</a>* record) {</div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> original = record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#a12944c032e22e8751e7470ae7c887e12">OriginalStringObject</a>(isolate_);</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(original)) {</div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(original, StringForwardingTable::deleted_element());</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    }</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, marking_state_,</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                                            Cast&lt;HeapObject&gt;(original))) {</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> original_string = Cast&lt;String&gt;(original);</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">IsThinString</a>(original_string)) {</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;        original_string = Cast&lt;ThinString&gt;(original_string)-&gt;actual();</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;      }</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;      TryExternalize(original_string, record);</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;      TryInternalize(original_string, record);</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;      original_string-&gt;set_raw_hash_field(record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#a2d023c028d0c643b6c7f4d800f68bd5b">raw_hash</a>(isolate_));</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;      DisposeExternalResource(record);</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    }</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;  }</div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160; </div>
<div class="line"><a name="l02737"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#ac6d9e97e79f9cb4248dfb0d5d58367c2"> 2737</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#ac6d9e97e79f9cb4248dfb0d5d58367c2">TryExternalize</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> original_string,</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;                      <a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">StringForwardingTable::Record</a>* record) {</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="comment">// If the string is already external, dispose the resource.</span></div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">IsExternalString</a>(original_string)) {</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;      record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#ac19ffa028172569e7e61f8a1ed2e34ae">DisposeUnusedExternalResource</a>(isolate_, original_string);</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    }</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160; </div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="keywordtype">bool</span> is_one_byte;</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <a class="code" href="classv8_1_1String_1_1ExternalStringResourceBase.html">v8::String::ExternalStringResourceBase</a>* external_resource =</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;        record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#aa0fe2a9faaa439576c4efc897689ce1e">external_resource</a>(&amp;is_one_byte);</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <span class="keywordflow">if</span> (external_resource == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160; </div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">if</span> (is_one_byte) {</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;      original_string-&gt;MakeExternalDuringGC(</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;          isolate_,</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;          <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1String_1_1ExternalOneByteStringResource.html">v8::String::ExternalOneByteStringResource</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;              external_resource));</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;      original_string-&gt;MakeExternalDuringGC(</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;          isolate_, <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classv8_1_1String_1_1ExternalStringResource.html">v8::String::ExternalStringResource</a>*<span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                        external_resource));</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    }</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;  }</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160; </div>
<div class="line"><a name="l02762"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aee1ff83bc1f236a0aed952c846603571"> 2762</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aee1ff83bc1f236a0aed952c846603571">TryInternalize</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> original_string,</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                      <a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">StringForwardingTable::Record</a>* record) {</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">IsInternalizedString</a>(original_string)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> forward = record-&gt;<a class="code" href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#adbf9fddd129c0a593bb4fa0174633634">ForwardStringObjectOrHash</a>(isolate_);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(forward)) {</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;    }</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> forward_string = Cast&lt;String&gt;(forward);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160; </div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="comment">// Mark the forwarded string to keep it alive.</span></div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::GetLivenessMode(heap_, forward_string) !=</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        MarkingHelper::LivenessMode::kAlwaysLive) {</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;      marking_state_-&gt;TryMarkAndAccountLiveBytes(forward_string);</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;    }</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;    <span class="comment">// Transition the original string to a ThinString and override the</span></div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;    <span class="comment">// forwarding index with the correct hash.</span></div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;    original_string-&gt;MakeThin(isolate_, forward_string);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    <span class="comment">// Record the slot in the old-to-old remembered set. This is</span></div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;    <span class="comment">// required as the internalized string could be relocated during</span></div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="comment">// compaction.</span></div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot(&amp;Cast&lt;ThinString&gt;(original_string)-&gt;actual_);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    MarkCompactCollector::RecordSlot(original_string, slot, forward_string);</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160; </div>
<div class="line"><a name="l02786"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#ad24520747549f426f376afb21541516d"> 2786</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#ad24520747549f426f376afb21541516d">heap_</a>;</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;};</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160; </div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160; </div>
<div class="line"><a name="l02791"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html"> 2791</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html">SharedStructTypeRegistryCleaner</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02793"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a3ec3a3e09dca1e731aab3c6c4f7490ff"> 2793</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a3ec3a3e09dca1e731aab3c6c4f7490ff">SharedStructTypeRegistryCleaner</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>) : heap_(<a class="code" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160; </div>
<div class="line"><a name="l02795"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a542c7f6ebb227ae030f64f2154a7c849"> 2795</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a542c7f6ebb227ae030f64f2154a7c849">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> start, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;  }</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160; </div>
<div class="line"><a name="l02800"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#af504eb9c49fb58b890fc2f78c23955d3"> 2800</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#af504eb9c49fb58b890fc2f78c23955d3">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> start,</div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(root, Root::kSharedStructTypeRegistry);</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="comment">// The SharedStructTypeRegistry holds the canonical SharedStructType</span></div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="comment">// instance maps weakly. Visit all Map pointers in [start, end), deleting</span></div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;    <span class="comment">// it if unmarked.</span></div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    <span class="keyword">auto</span>* marking_state = heap_-&gt;marking_state();</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; p++) {</div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> o = p.load(isolate);</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsString(o));</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;      <span class="keywordflow">if</span> (IsMap(o)) {</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> map = Cast&lt;Map&gt;(o);</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(HeapLayout::InAnySharedSpace(map));</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;        <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, marking_state, map))</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;        elements_removed_++;</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        p.store(SharedStructTypeRegistry::deleted_element());</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;      }</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;    }</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;  }</div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160; </div>
<div class="line"><a name="l02823"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a5ebb12e9e03c678a2b84383d5ce14d5f"> 2823</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a5ebb12e9e03c678a2b84383d5ce14d5f">ElementsRemoved</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> elements_removed_; }</div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160; </div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02826"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a0f8640aa75145a20ade4ad2ae283e89c"> 2826</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a0f8640aa75145a20ade4ad2ae283e89c">heap_</a>;</div>
<div class="line"><a name="l02827"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a44845474fca49cbdc8b1c7c644d22516"> 2827</a></span>&#160;  <span class="keywordtype">int</span> elements_removed_ = 0;</div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;};</div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160; </div>
<div class="line"><a name="l02830"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html"> 2830</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html">ClearSharedStructTypeRegistryJobItem</a> final</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html">ParallelClearingJob::ClearingItem</a> {</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02833"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#a0d3825cf9cced3238e354f048b0ee429"> 2833</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#a0d3825cf9cced3238e354f048b0ee429">ClearSharedStructTypeRegistryJobItem</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate)</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;      : isolate_(isolate) {</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>());</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac37eddc7863443926e237390221f0471">shared_struct_type_registry</a>());</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;  }</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160; </div>
<div class="line"><a name="l02839"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#abf72b57295fad60314b6f1866fb5f592"> 2839</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#abf72b57295fad60314b6f1866fb5f592">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) <span class="keyword">final</span> {</div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    <span class="comment">// Set the current isolate such that trusted pointer tables etc are</span></div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;    <span class="comment">// available and the cage base is set correctly for multi-cage mode.</span></div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">SetCurrentIsolateScope</a> isolate_scope(isolate_);</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160; </div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="keyword">auto</span>* registry = isolate_-&gt;shared_struct_type_registry();</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html">SharedStructTypeRegistryCleaner</a> cleaner(isolate_-&gt;heap());</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;    registry-&gt;IterateElements(isolate_, &amp;cleaner);</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    registry-&gt;NotifyElementsRemoved(cleaner.<a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a5ebb12e9e03c678a2b84383d5ce14d5f">ElementsRemoved</a>());</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;  }</div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160; </div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02851"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#a288cf4d5c7dc19a20187f9bfee37b750"> 2851</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#a288cf4d5c7dc19a20187f9bfee37b750">isolate_</a>;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;};</div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160; </div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160; </div>
<div class="line"><a name="l02856"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html"> 2856</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html">MarkCompactCollector::ClearTrivialWeakRefJobItem</a> final</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    : <span class="keyword">public</span> ParallelClearingJob::ClearingItem {</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02859"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a499931b7bd824dc60fb534c147dadad9"> 2859</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a499931b7bd824dc60fb534c147dadad9">ClearTrivialWeakRefJobItem</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;      : collector_(collector),</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;        trace_id_(reinterpret_cast&lt;uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>) ^</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;                  collector-&gt;<a class="code" href="namespaceheap.html">heap</a>()-&gt;tracer()-&gt;CurrentEpoch(</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;                      <a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>::<a class="code" href="classv8_1_1internal_1_1Scope.html">Scope</a>::MC_CLEAR_WEAK_REFERENCES_TRIVIAL)) {}</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160; </div>
<div class="line"><a name="l02865"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a69e59718369b2dd601760d202b8d20ae"> 2865</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a69e59718369b2dd601760d202b8d20ae">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) <span class="keyword">final</span> {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = collector_-&gt;heap();</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160; </div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="comment">// Set the current isolate such that trusted pointer tables etc are</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="comment">// available and the cage base is set correctly for multi-cage mode.</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">SetCurrentIsolateScope</a> isolate_scope(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate());</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160; </div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;    <a class="code" href="gc-tracer_8h.html#af9338020b2e2d4a1c8fe541d32e18473">TRACE_GC1_WITH_FLOW</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;tracer(),</div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                        GCTracer::Scope::MC_CLEAR_WEAK_REFERENCES_TRIVIAL,</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;                        delegate-&gt;IsJoiningThread() ? ThreadKind::kMain</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                                                    : ThreadKind::kBackground,</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;                        trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;    collector_-&gt;ClearTrivialWeakReferences();</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;    collector_-&gt;ClearTrustedWeakReferences();</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;  }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160; </div>
<div class="line"><a name="l02881"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a4cb7f1b4e37cdd219a4b65a470c296e0"> 2881</a></span>&#160;  uint64_t <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a4cb7f1b4e37cdd219a4b65a470c296e0">trace_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> trace_id_; }</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160; </div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02884"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a36476be5c4de2fe5a66aa1a53bb57aab"> 2884</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a36476be5c4de2fe5a66aa1a53bb57aab">collector_</a>;</div>
<div class="line"><a name="l02885"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a1ecefb0c27b01afc3e7ee26478066625"> 2885</a></span>&#160;  <span class="keyword">const</span> uint64_t <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a1ecefb0c27b01afc3e7ee26478066625">trace_id_</a>;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;};</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160; </div>
<div class="line"><a name="l02888"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html"> 2888</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html">MarkCompactCollector::FilterNonTrivialWeakRefJobItem</a> final</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    : <span class="keyword">public</span> ParallelClearingJob::ClearingItem {</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l02891"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a99d39e8918d9be0080294ca98247ae99"> 2891</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a99d39e8918d9be0080294ca98247ae99">FilterNonTrivialWeakRefJobItem</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;      : collector_(collector),</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;        trace_id_(</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;            reinterpret_cast&lt;uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>) ^</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;            collector-&gt;<a class="code" href="namespaceheap.html">heap</a>()-&gt;tracer()-&gt;CurrentEpoch(</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;                <a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>::<a class="code" href="classv8_1_1internal_1_1Scope.html">Scope</a>::MC_CLEAR_WEAK_REFERENCES_FILTER_NON_TRIVIAL)) {</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;  }</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160; </div>
<div class="line"><a name="l02899"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a12aa5d6e9b216c7f21a2126328dfc8c8"> 2899</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a12aa5d6e9b216c7f21a2126328dfc8c8">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) <span class="keyword">final</span> {</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = collector_-&gt;heap();</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160; </div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <span class="comment">// Set the current isolate such that trusted pointer tables etc are</span></div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="comment">// available and the cage base is set correctly for multi-cage mode.</span></div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">SetCurrentIsolateScope</a> isolate_scope(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate());</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160; </div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;    <a class="code" href="gc-tracer_8h.html#af9338020b2e2d4a1c8fe541d32e18473">TRACE_GC1_WITH_FLOW</a>(</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;        <a class="code" href="namespaceheap.html">heap</a>-&gt;tracer(),</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        GCTracer::Scope::MC_CLEAR_WEAK_REFERENCES_FILTER_NON_TRIVIAL,</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        delegate-&gt;IsJoiningThread() ? ThreadKind::kMain</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                                    : ThreadKind::kBackground,</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;        trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    collector_-&gt;FilterNonTrivialWeakReferences();</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;  }</div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160; </div>
<div class="line"><a name="l02915"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a2553a069825c0f163871407001a81d8a"> 2915</a></span>&#160;  uint64_t <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a2553a069825c0f163871407001a81d8a">trace_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> trace_id_; }</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160; </div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l02918"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a524715bec55d545d74ba5213515eda31"> 2918</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a524715bec55d545d74ba5213515eda31">collector_</a>;</div>
<div class="line"><a name="l02919"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a4a742fe5db0febeffcf9183b7f3e9789"> 2919</a></span>&#160;  <span class="keyword">const</span> uint64_t <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a4a742fe5db0febeffcf9183b7f3e9789">trace_id_</a>;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;};</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160; </div>
<div class="line"><a name="l02922"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a129119a903f3c2057d4a02d0ed5d0e7e"> 2922</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearNonLiveReferences() {</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR);</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160; </div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a1d9bb224427c1714f358560957771946">OwnsStringTables</a>()) {</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;             GCTracer::Scope::MC_CLEAR_STRING_FORWARDING_TABLE);</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="comment">// Clear string forwarding table. Live strings are transitioned to</span></div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="comment">// ThinStrings/ExternalStrings in the cleanup process, if this is a GC</span></div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;    <span class="comment">// without stack.</span></div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;    <span class="comment">// Clearing the string forwarding table must happen before clearing the</span></div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    <span class="comment">// string table, as entries in the forwarding table can keep internalized</span></div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <span class="comment">// strings alive.</span></div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html">FullStringForwardingTableCleaner</a> forwarding_table_cleaner(heap_);</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;    <span class="keywordflow">if</span> (!heap_-&gt;IsGCWithStack() ||</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;        <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.transition_strings_during_gc_with_stack) {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;      forwarding_table_cleaner.<a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aab81ddafa287b1e2b2cb04427954ce51">TransitionStrings</a>();</div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;      forwarding_table_cleaner.<a class="code" href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a8dbc01746330b8c8a17559d38e3e4787">ProcessFullWithStack</a>();</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;    }</div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;  }</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160; </div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;  {</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="comment">// Clear Isolate::topmost_script_having_context slot if it&#39;s not alive.</span></div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> maybe_caller_context =</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6380a46785ed06e26c14c31d2320fb21">topmost_script_having_context</a>();</div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <span class="keywordflow">if</span> (maybe_caller_context.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#aea3274f07dad292adc478dc20a811210">IsHeapObject</a>() &amp;&amp;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;        MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;            heap_, marking_state_, Cast&lt;HeapObject&gt;(maybe_caller_context))) {</div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ad8a05b89a5ac9d307f76fde4462ec32b">clear_topmost_script_having_context</a>();</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    }</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;  }</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160; </div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;  std::unique_ptr&lt;JobHandle&gt; clear_string_table_job_handle;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;  {</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;    <span class="keyword">auto</span> job = std::make_unique&lt;ParallelClearingJob&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    <span class="keyword">auto</span> job_item = std::make_unique&lt;ClearStringTableJobItem&gt;(isolate);</div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="keyword">const</span> uint64_t trace_id = job_item-&gt;trace_id();</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    job-&gt;Add(std::move(job_item));</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <a class="code" href="gc-tracer_8h.html#a17375713518e1833362b491ef9c163cc">TRACE_GC_NOTE_WITH_FLOW</a>(<span class="stringliteral">&quot;ClearStringTableJob started&quot;</span>, trace_id,</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;                            <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>() &amp;&amp;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac37eddc7863443926e237390221f0471">shared_struct_type_registry</a>()) {</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;      <span class="keyword">auto</span> registry_job_item =</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;          std::make_unique&lt;ClearSharedStructTypeRegistryJobItem&gt;(isolate);</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;      job-&gt;Add(std::move(registry_job_item));</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;    }</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    clear_string_table_job_handle = <a class="code" href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;        <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>, std::move(job));</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;  }</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_weak_ref_clearing &amp;&amp; UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    clear_string_table_job_handle-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;  }</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160; </div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;  {</div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_EXTERNAL_STRING_TABLE);</div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ExternalStringTableCleanerVisitor.html">ExternalStringTableCleanerVisitor&lt;ExternalStringTableCleaningMode::kAll&gt;</a></div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;        external_visitor(heap_);</div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;    heap_-&gt;external_string_table_.IterateAll(&amp;external_visitor);</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;    heap_-&gt;external_string_table_.CleanUpAll();</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;  }</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160; </div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;  {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_WEAK_GLOBAL_HANDLES);</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    <span class="comment">// We depend on `IterateWeakRootsForPhantomHandles()` being called before</span></div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="comment">// `ProcessOldCodeCandidates()` in order to identify flushed bytecode in the</span></div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="comment">// CPU profiler.</span></div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a2714e74bceacf9555c6a02745a0319e2">global_handles</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalHandles.html#afa07f32c8258551fd4b82156c41f2e18">IterateWeakRootsForPhantomHandles</a>(</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        &amp;IsUnmarkedHeapObject);</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a25a5f2cf26f80f049dbbe6ea6046b754">traced_handles</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1TracedHandles.html#a669fdc8a4e4cb764c14a05a7a67f236b">ResetDeadNodes</a>(&amp;IsUnmarkedHeapObject);</div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160; </div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) {</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">global_safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">IterateClientIsolates</a>([](<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;        client-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a2714e74bceacf9555c6a02745a0319e2">global_handles</a>()-&gt;IterateWeakRootsForPhantomHandles(</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;            &amp;IsUnmarkedSharedHeapObject);</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        <span class="comment">// No need to reset traced handles since they are always strong.</span></div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;      });</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    }</div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;  }</div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160; </div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;  {</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_FLUSHABLE_BYTECODE);</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="comment">// `ProcessFlushedBaselineCandidates()` must be called after</span></div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    <span class="comment">// `ProcessOldCodeCandidates()` so that we correctly set the code object on</span></div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="comment">// the JSFunction after flushing.</span></div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;    ProcessOldCodeCandidates();</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;<span class="preprocessor">#ifndef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <span class="comment">// With leaptiering this is done during sweeping.</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    ProcessFlushedBaselineCandidates();</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;  }</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160; </div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;  {</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_JS_DISPATCH_TABLE);</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;    JSDispatchTable* jdt = IsolateGroup::current()-&gt;js_dispatch_table();</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> compile_lazy =</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;        heap_-&gt;isolate()-&gt;builtins()-&gt;code(Builtin::kCompileLazy);</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    jdt-&gt;Sweep(heap_-&gt;js_dispatch_table_space(), isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a9690b82e4f9b4c8a9160630396cde0b3">counters</a>(),</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;               [&amp;](JSDispatchEntry&amp; entry) {</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                 Tagged&lt;Code&gt; code = entry.GetCode();</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                 if (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                         heap_, marking_state_, code)) {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                   <span class="comment">// Baseline flushing: if the Code object is no longer alive,</span></div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                   <span class="comment">// it must have been flushed and so we replace it with the</span></div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;                   <span class="comment">// CompileLazy builtin. Once we use leaptiering on all</span></div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;                   <span class="comment">// platforms, we can probably simplify the other code related</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;                   <span class="comment">// to baseline flushing.</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160; </div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;                   <span class="comment">// Currently, we can also see optimized code here. This</span></div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;                   <span class="comment">// happens when a FeedbackCell for which no JSFunctions</span></div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;                   <span class="comment">// remain references optimized code. However, in that case we</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;                   <span class="comment">// probably do want to delete the optimized code, so that is</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                   <span class="comment">// working as intended. It does mean, however, that we cannot</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;                   <span class="comment">// DCHECK here that we only see baseline code.</span></div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;                   DCHECK(code-&gt;kind() == CodeKind::FOR_TESTING ||</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;                          code-&gt;kind() == CodeKind::BASELINE ||</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                          code-&gt;kind() == CodeKind::MAGLEV ||</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;                          code-&gt;kind() == CodeKind::TURBOFAN_JS);</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;                   entry.SetCodeAndEntrypointPointer(</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;                       compile_lazy.ptr(), compile_lazy-&gt;instruction_start());</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;                 }</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;               });</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;  }</div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160; </div>
<div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;  <span class="comment">// TODO(olivf, 42204201): If we make the bytecode accessible from the dispatch</span></div>
<div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;  <span class="comment">// table this could also be implemented during JSDispatchTable::Sweep.</span></div>
<div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;  {</div>
<div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_FLUSHED_JS_FUNCTIONS);</div>
<div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;    ClearFlushedJsFunctions();</div>
<div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;  }</div>
<div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160; </div>
<div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;  {</div>
<div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_WEAK_LISTS);</div>
<div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    <span class="comment">// Process the weak references.</span></div>
<div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;    MarkCompactWeakObjectRetainer mark_compact_object_retainer(heap_,</div>
<div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;                                                               marking_state_);</div>
<div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    heap_-&gt;ProcessAllWeakReferences(&amp;mark_compact_object_retainer);</div>
<div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;  }</div>
<div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160; </div>
<div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;  {</div>
<div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_MAPS);</div>
<div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="comment">// ClearFullMapTransitions must be called before weak references are</span></div>
<div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;    <span class="comment">// cleared.</span></div>
<div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;    ClearFullMapTransitions();</div>
<div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;    <span class="comment">// Weaken recorded strong DescriptorArray objects. This phase can</span></div>
<div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    <span class="comment">// potentially move everywhere after `ClearFullMapTransitions()`.</span></div>
<div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;    WeakenStrongDescriptorArrays();</div>
<div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;  }</div>
<div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160; </div>
<div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;  <span class="comment">// Start two parallel jobs: one for clearing trivial weak references and one</span></div>
<div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;  <span class="comment">// for filtering out non-trivial weak references that will not be cleared.</span></div>
<div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;  <span class="comment">// Both jobs read the values of weak references and the corresponding</span></div>
<div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;  <span class="comment">// mark bits. They cannot start before the following methods have finished,</span></div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;  <span class="comment">// because these may change the values of weak references and/or mark more</span></div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;  <span class="comment">// objects, thus creating data races:</span></div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;  <span class="comment">//   - ProcessOldCodeCandidates</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;  <span class="comment">//   - ProcessAllWeakReferences</span></div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;  <span class="comment">//   - ClearFullMapTransitions</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;  <span class="comment">//   - WeakenStrongDescriptorArrays</span></div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;  <span class="comment">// The two jobs could be merged but it&#39;s convenient to keep them separate,</span></div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;  <span class="comment">// as they are joined at different times. The filtering job must be joined</span></div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;  <span class="comment">// before proceeding to the actual clearing of non-trivial weak references,</span></div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;  <span class="comment">// whereas the job for clearing trivial weak references can be joined at the</span></div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;  <span class="comment">// end of this method.</span></div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;  std::unique_ptr&lt;JobHandle&gt; clear_trivial_weakrefs_job_handle;</div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;  {</div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="keyword">auto</span> job = std::make_unique&lt;ParallelClearingJob&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keyword">auto</span> job_item = std::make_unique&lt;ClearTrivialWeakRefJobItem&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    <span class="keyword">const</span> uint64_t trace_id = job_item-&gt;trace_id();</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    job-&gt;Add(std::move(job_item));</div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;    <a class="code" href="gc-tracer_8h.html#a17375713518e1833362b491ef9c163cc">TRACE_GC_NOTE_WITH_FLOW</a>(<span class="stringliteral">&quot;ClearTrivialWeakRefJob started&quot;</span>, trace_id,</div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;                            <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;    clear_trivial_weakrefs_job_handle = <a class="code" href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        <a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>, std::move(job));</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;  }</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;  std::unique_ptr&lt;JobHandle&gt; filter_non_trivial_weakrefs_job_handle;</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;  {</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;    <span class="keyword">auto</span> job = std::make_unique&lt;ParallelClearingJob&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    <span class="keyword">auto</span> job_item = std::make_unique&lt;FilterNonTrivialWeakRefJobItem&gt;(<span class="keyword">this</span>);</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keyword">const</span> uint64_t trace_id = job_item-&gt;trace_id();</div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    job-&gt;Add(std::move(job_item));</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;    <a class="code" href="gc-tracer_8h.html#a17375713518e1833362b491ef9c163cc">TRACE_GC_NOTE_WITH_FLOW</a>(<span class="stringliteral">&quot;FilterNonTrivialWeakRefJob started&quot;</span>, trace_id,</div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;                            <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;    filter_non_trivial_weakrefs_job_handle =</div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;        <a class="code" href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">TaskPriority::kUserBlocking</a>,</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;                                            std::move(job));</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;  }</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_weak_ref_clearing &amp;&amp; UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;    clear_trivial_weakrefs_job_handle-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;    filter_non_trivial_weakrefs_job_handle-&gt;NotifyConcurrencyIncrease();</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;  }</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160; </div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="preprocessor">#ifdef V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;  {</div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_EXTERNAL_POINTER_TABLE);</div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <span class="comment">// External pointer table sweeping needs to happen before evacuating live</span></div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;    <span class="comment">// objects as it may perform table compaction, which requires objects to</span></div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="comment">// still be at the same location as during marking.</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="comment">// Note we explicitly do NOT run SweepAndCompact on</span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="comment">// read_only_external_pointer_space since these entries are all immortal by</span></div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;    <span class="comment">// definition.</span></div>
<div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;    isolate-&gt;external_pointer_table().EvacuateAndSweepAndCompact(</div>
<div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        isolate-&gt;heap()-&gt;old_external_pointer_space(),</div>
<div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;        isolate-&gt;heap()-&gt;young_external_pointer_space(), isolate-&gt;counters());</div>
<div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;    isolate-&gt;heap()-&gt;young_external_pointer_space()-&gt;AssertEmpty();</div>
<div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;owns_shareable_data()) {</div>
<div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;      isolate-&gt;shared_external_pointer_table().SweepAndCompact(</div>
<div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;          isolate-&gt;shared_external_pointer_space(), isolate-&gt;counters());</div>
<div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;    }</div>
<div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    isolate-&gt;cpp_heap_pointer_table().SweepAndCompact(</div>
<div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;        isolate-&gt;heap()-&gt;cpp_heap_pointer_space(), isolate-&gt;counters());</div>
<div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;  }</div>
<div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160; </div>
<div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;  {</div>
<div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_TRUSTED_POINTER_TABLE);</div>
<div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;    isolate-&gt;trusted_pointer_table().Sweep(heap_-&gt;trusted_pointer_space(),</div>
<div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                                           isolate-&gt;counters());</div>
<div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;    <span class="keywordflow">if</span> (isolate-&gt;owns_shareable_data()) {</div>
<div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;      isolate-&gt;shared_trusted_pointer_table().Sweep(</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;          isolate-&gt;shared_trusted_pointer_space(), isolate-&gt;counters());</div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    }</div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;  }</div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160; </div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;  {</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_CODE_POINTER_TABLE);</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;    IsolateGroup::current()-&gt;code_pointer_table()-&gt;Sweep(</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;        heap_-&gt;code_pointer_space(), isolate-&gt;counters());</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;  }</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160; </div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;  {</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;             GCTracer::Scope::MC_SWEEP_WASM_CODE_POINTER_TABLE);</div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">wasm::GetProcessWideWasmCodePointerTable</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#aee92d168ffa2e3a975289b9e785d10cd">SweepSegments</a>();</div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;  }</div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_WEBASSEMBLY</span></div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160; </div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;  {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;             GCTracer::Scope::MC_CLEAR_WEAK_REFERENCES_JOIN_FILTER_JOB);</div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;    filter_non_trivial_weakrefs_job_handle-&gt;Join();</div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;  }</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160; </div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;  {</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_WEAKNESS_HANDLING);</div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    ClearNonTrivialWeakReferences();</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    ClearWeakCollections();</div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    ClearJSWeakRefs();</div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;  }</div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160; </div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;  <a class="code" href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a>(heap_-&gt;isolate(), WeakCodeClearEvent());</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160; </div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;  {</div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="comment">// This method may be called from within a DisallowDeoptimizations scope.</span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;    <span class="comment">// Temporarily allow deopts for marking code for deopt. This is not doing</span></div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;    <span class="comment">// the deopt yet and the actual deopts will be bailed out on later if the</span></div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;    <span class="comment">// current safepoint is not safe for deopts.</span></div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;    <span class="comment">// TODO(357636610): Reconsider whether the DisallowDeoptimization scopes are</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;    <span class="comment">// truly needed.</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;    AllowDeoptimization allow_deoptimization(heap_-&gt;isolate());</div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;    MarkDependentCodeForDeoptimization();</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;  }</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160; </div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;  {</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_JOIN_JOB);</div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;    clear_string_table_job_handle-&gt;Join();</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    clear_trivial_weakrefs_job_handle-&gt;Join();</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;  }</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160; </div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits) {</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="comment">// TODO(333906585): Consider adjusting the dchecks that happen on clearing</span></div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;    <span class="comment">// and move this phase into MarkingBarrier::DeactivateAll.</span></div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>()-&gt;DeactivateMajorGCInProgressFlag();</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;  }</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160; </div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.transition_arrays.IsEmpty());</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.weak_references_trivial.IsEmpty());</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.weak_references_non_trivial.IsEmpty());</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.weak_references_non_trivial_unmarked.IsEmpty());</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.weak_objects_in_code.IsEmpty());</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.js_weak_refs.IsEmpty());</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.weak_cells.IsEmpty());</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.code_flushing_candidates.IsEmpty());</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.flushed_js_functions.IsEmpty());</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;<span class="preprocessor">#ifndef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(weak_objects_.baseline_flushing_candidates.IsEmpty());</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;}</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160; </div>
<div class="line"><a name="l03217"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5f4d0e2e67b039d30d737212e64b71fa"> 3217</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::MarkDependentCodeForDeoptimization() {</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;  <a class="code" href="structv8_1_1internal_1_1HeapObjectAndCode.html">HeapObjectAndCode</a> weak_object_in_code;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;weak_objects_in_code_local.Pop(</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;      &amp;weak_object_in_code)) {</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = weak_object_in_code.<a class="code" href="structv8_1_1internal_1_1HeapObjectAndCode.html#adba85b514a3b68e3366b849190098abc">heap_object</a>;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = weak_object_in_code.<a class="code" href="structv8_1_1internal_1_1HeapObjectAndCode.html#ac34945db58656becd333d08665ec88c3">code</a>;</div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;            heap_, non_atomic_marking_state_, <span class="keywordtype">object</span>) &amp;&amp;</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        !<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;embedded_objects_cleared()) {</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;marked_for_deoptimization()) {</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;SetMarkedForDeoptimization(heap_-&gt;isolate(),</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                                         LazyDeoptimizeReason::kWeakObjects);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;        have_code_to_deoptimize_ = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;      }</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;      <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;ClearEmbeddedObjectsAndJSDispatchHandles(heap_);</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;embedded_objects_cleared());</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    }</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;  }</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;}</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160; </div>
<div class="line"><a name="l03237"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a112747cd949c517326fef486c68a39f6"> 3237</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearPotentialSimpleMapTransition(</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> dead_target) {</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(non_atomic_marking_state_-&gt;IsUnmarked(dead_target));</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> potential_parent = dead_target-&gt;constructor_or_back_pointer();</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;  <span class="keywordflow">if</span> (IsMap(potential_parent)) {</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> parent = Cast&lt;Map&gt;(potential_parent);</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">DisallowGarbageCollection</a> no_gc_obviously;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;                                            parent) &amp;&amp;</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        <a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html">TransitionsAccessor</a>(heap_-&gt;isolate(), parent)</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;            .<a class="code" href="classv8_1_1internal_1_1TransitionsAccessor.html#a054b0c6bf8a73f306c44a4c3c9d641f2">HasSimpleTransitionTo</a>(dead_target)) {</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;      ClearPotentialSimpleMapTransition(parent, dead_target);</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    }</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;  }</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;}</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160; </div>
<div class="line"><a name="l03253"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a03e68bee93758940e2d106f7819cce9a"> 3253</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearPotentialSimpleMapTransition(</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> dead_target) {</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!map-&gt;is_prototype_map());</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!dead_target-&gt;is_prototype_map());</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(map-&gt;raw_transitions(), <a class="code" href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">MakeWeak</a>(dead_target));</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;  <span class="comment">// Take ownership of the descriptor array.</span></div>
<div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;  <span class="keywordtype">int</span> number_of_own_descriptors = map-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors =</div>
<div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;      map-&gt;instance_descriptors(heap_-&gt;isolate());</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;  <span class="keywordflow">if</span> (descriptors == dead_target-&gt;instance_descriptors(heap_-&gt;isolate()) &amp;&amp;</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;      number_of_own_descriptors &gt; 0) {</div>
<div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    TrimDescriptorArray(map, descriptors);</div>
<div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(descriptors-&gt;number_of_descriptors() == number_of_own_descriptors);</div>
<div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;  }</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;}</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160; </div>
<div class="line"><a name="l03269"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a2f6c6946b314cbd396fedd9a8d3b1887"> 3269</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::SpecialClearMapSlot(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host,</div>
<div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;                                               <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map,</div>
<div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;                                               <a class="code" href="classv8_1_1internal_1_1FullHeapObjectSlot.html">HeapObjectSlot</a> slot) {</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;  ClearPotentialSimpleMapTransition(map);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160; </div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;  <span class="comment">// Special handling for clearing field type entries, identified by their host</span></div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;  <span class="comment">// being a descriptor array.</span></div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;  <span class="comment">// TODO(olivf): This whole special handling of field-type clearing</span></div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;  <span class="comment">// could be replaced by eagerly triggering field type dependencies and</span></div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;  <span class="comment">// generalizing field types, as soon as a field-type map becomes</span></div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;  <span class="comment">// unstable.</span></div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;  <span class="keywordflow">if</span> (IsDescriptorArray(host)) {</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;    <span class="comment">// We want to distinguish two cases:</span></div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="comment">// 1. There are no instances of the descriptor owner&#39;s map left.</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="comment">// 2. The field type is not up to date because the stored object</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="comment">//    migrated away to a different map.</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="comment">// In case (1) it makes sense to clear the field type such that we</span></div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    <span class="comment">// can learn a new one should we ever start creating instances</span></div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;    <span class="comment">// again.</span></div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;    <span class="comment">// In case (2) we must not re-learn a new field type. Doing so could</span></div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    <span class="comment">// lead us to learning a field type that is not consistent with</span></div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    <span class="comment">// still existing object&#39;s contents. To conservatively identify case</span></div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="comment">// (1) we check the stability of the dead map.</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> location(slot);</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="keywordflow">if</span> (map-&gt;is_stable() &amp;&amp; FieldType::kFieldTypesCanBeClearedOnGC) {</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;      location.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#ab6f8319af72d18669c0e0c533924f052">store</a>(<a class="code" href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">FieldType::None</a>());</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;      location.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#ab6f8319af72d18669c0e0c533924f052">store</a>(FieldType::Any());</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;  }</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;}</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160; </div>
<div class="line"><a name="l03303"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#afe3c91189f1c5ba073f1b8835017f358"> 3303</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::FlushBytecodeFromSFI(</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> shared_info) {</div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(shared_info-&gt;HasBytecodeArray());</div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160; </div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;  <span class="comment">// Retain objects required for uncompiled data.</span></div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> inferred_name = shared_info-&gt;inferred_name();</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;  <span class="keywordtype">int</span> start_position = shared_info-&gt;StartPosition();</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;  <span class="keywordtype">int</span> end_position = shared_info-&gt;EndPosition();</div>
<div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160; </div>
<div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;  shared_info-&gt;DiscardCompiledMetadata(</div>
<div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;      heap_-&gt;isolate(),</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;      [](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;         <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) { RecordSlot(object, slot, target); });</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160; </div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;  <span class="comment">// The size of the bytecode array should always be larger than an</span></div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;  <span class="comment">// UncompiledData object.</span></div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;  static_assert(BytecodeArray::SizeFor(0) &gt;=</div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;                UncompiledDataWithoutPreparseData::kSize);</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160; </div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;  <span class="comment">// Replace the bytecode with an uncompiled data object.</span></div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;BytecodeArray&gt;</a> bytecode_array =</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;      shared_info-&gt;GetBytecodeArray(heap_-&gt;isolate());</div>
<div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160; </div>
<div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!HeapLayout::InWritableSharedSpace(shared_info));</div>
<div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;  <span class="comment">// Zap the old entry in the trusted pointer table.</span></div>
<div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;  TrustedPointerTable&amp; table = heap_-&gt;isolate()-&gt;trusted_pointer_table();</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;  <a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html">IndirectPointerSlot</a> self_indirect_pointer_slot =</div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;      bytecode_array-&gt;RawIndirectPointerField(</div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;          BytecodeArray::kSelfIndirectPointerOffset,</div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;          kBytecodeArrayIndirectPointerTag);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;  table.Zap(self_indirect_pointer_slot.<a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html#a93c5b66f3ea58e6333365b4085d5fcf1">Relaxed_LoadHandle</a>());</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160; </div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> compiled_data = bytecode_array;</div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> compiled_data_start = compiled_data.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>();</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;  <span class="keywordtype">int</span> compiled_data_size = <a class="code" href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a>(compiled_data-&gt;Size());</div>
<div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk =</div>
<div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;      MutablePageMetadata::FromAddress(compiled_data_start);</div>
<div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160; </div>
<div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;  <span class="comment">// Clear any recorded slots for the compiled data as being invalid.</span></div>
<div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;      chunk, compiled_data_start, compiled_data_start + compiled_data_size,</div>
<div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;      SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW_BACKGROUND&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;      chunk, compiled_data_start, compiled_data_start + compiled_data_size,</div>
<div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;      SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;      chunk, compiled_data_start, compiled_data_start + compiled_data_size,</div>
<div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;      SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;      chunk, compiled_data_start, compiled_data_start + compiled_data_size,</div>
<div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;      SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_TRUSTED&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;      chunk, compiled_data_start, compiled_data_start + compiled_data_size,</div>
<div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;      SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160; </div>
<div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;  <span class="comment">// Swap the map, using set_map_after_allocation to avoid verify heap checks</span></div>
<div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;  <span class="comment">// which are not necessary since we are doing this during the GC atomic pause.</span></div>
<div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;  compiled_data-&gt;set_map_after_allocation(</div>
<div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;      heap_-&gt;isolate(),</div>
<div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(heap_).uncompiled_data_without_preparse_data_map(),</div>
<div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a6719428bfb5874884bca62eb8fe3de75">SKIP_WRITE_BARRIER</a>);</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160; </div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;  <span class="comment">// Create a filler object for any left over space in the bytecode array.</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;  <span class="keywordflow">if</span> (!heap_-&gt;IsLargeObject(compiled_data)) {</div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> aligned_filler_offset =</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;        <a class="code" href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a>(UncompiledDataWithoutPreparseData::kSize);</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    heap_-&gt;CreateFillerObjectAt(compiled_data.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>() + aligned_filler_offset,</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;                                compiled_data_size - aligned_filler_offset);</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;  }</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160; </div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;  <span class="comment">// Initialize the uncompiled data.</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;UncompiledData&gt;</a> uncompiled_data = Cast&lt;UncompiledData&gt;(compiled_data);</div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160; </div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;  uncompiled_data-&gt;InitAfterBytecodeFlush(</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;      heap_-&gt;isolate(), inferred_name, start_position, end_position,</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;      [](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;         <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) { RecordSlot(object, slot, target); });</div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160; </div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;  <span class="comment">// Mark the uncompiled data as black, and ensure all fields have already been</span></div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;  <span class="comment">// marked.</span></div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(MarkingHelper::IsMarkedOrAlwaysLive(heap_, marking_state_,</div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                                             inferred_name));</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;  <span class="keywordflow">if</span> (MarkingHelper::GetLivenessMode(heap_, uncompiled_data) ==</div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;      MarkingHelper::LivenessMode::kMarkbit) {</div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    marking_state_-&gt;TryMarkAndAccountLiveBytes(uncompiled_data);</div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;  }</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160; </div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;  <span class="comment">// Mark the new entry in the trusted pointer table as alive.</span></div>
<div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;  TrustedPointerTable::Space* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a> = heap_-&gt;trusted_pointer_space();</div>
<div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;  table.Mark(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, self_indirect_pointer_slot.<a class="code" href="classv8_1_1internal_1_1IndirectPointerSlot.html#a93c5b66f3ea58e6333365b4085d5fcf1">Relaxed_LoadHandle</a>());</div>
<div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160; </div>
<div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;  shared_info-&gt;set_uncompiled_data(uncompiled_data);</div>
<div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!shared_info-&gt;is_compiled());</div>
<div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;}</div>
<div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160; </div>
<div class="line"><a name="l03402"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a2d909e79588ddfce09dd94ffa673417b"> 3402</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ProcessOldCodeCandidates() {</div>
<div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_bytecode || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_baseline_code ||</div>
<div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;         weak_objects_.code_flushing_candidates.IsEmpty());</div>
<div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> flushing_candidate;</div>
<div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;  <span class="keywordtype">int</span> number_of_flushed_sfis = 0;</div>
<div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;code_flushing_candidates_local.Pop(</div>
<div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;      &amp;flushing_candidate)) {</div>
<div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keywordtype">bool</span> is_bytecode_live;</div>
<div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_baseline_code &amp;&amp; flushing_candidate-&gt;HasBaselineCode()) {</div>
<div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;      is_bytecode_live = ProcessOldBaselineSFI(flushing_candidate);</div>
<div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;      is_bytecode_live = ProcessOldBytecodeSFI(flushing_candidate);</div>
<div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    }</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160; </div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <span class="keywordflow">if</span> (!is_bytecode_live) number_of_flushed_sfis++;</div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160; </div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    <span class="comment">// Now record the data slots, which have been updated to an uncompiled</span></div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <span class="comment">// data, Baseline code or BytecodeArray which is still alive.</span></div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;<span class="preprocessor">#ifndef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    <span class="comment">// If the sandbox is enabled, the slot contains an indirect pointer which</span></div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;    <span class="comment">// does not need to be updated during mark-compact (because the pointer in</span></div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;    <span class="comment">// the pointer table will be updated), so no action is needed here.</span></div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot = flushing_candidate-&gt;RawField(</div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;        SharedFunctionInfo::kTrustedFunctionDataOffset);</div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(*slot)) {</div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;      RecordSlot(flushing_candidate, slot, Cast&lt;HeapObject&gt;(*slot));</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    }</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;  }</div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160; </div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_flush_code) {</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(heap_-&gt;isolate(), <span class="stringliteral">&quot;%d flushed SharedFunctionInfo(s)\n&quot;</span>,</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                 number_of_flushed_sfis);</div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;  }</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;}</div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160; </div>
<div class="line"><a name="l03438"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac98eb6a98516e575832b222b6312ce5c"> 3438</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::ProcessOldBytecodeSFI(</div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> flushing_candidate) {</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;  <span class="comment">// During flushing a BytecodeArray is transformed into an UncompiledData</span></div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;  <span class="comment">// in place. Seeing an UncompiledData here implies that another</span></div>
<div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;  <span class="comment">// SharedFunctionInfo had a reference to the same BytecodeArray and</span></div>
<div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;  <span class="comment">// flushed it before processing this candidate. This can happen when using</span></div>
<div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;  <span class="comment">// CloneSharedFunctionInfo().</span></div>
<div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160; </div>
<div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> bytecode_already_decompiled =</div>
<div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;      flushing_candidate-&gt;HasUncompiledData(isolate);</div>
<div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;  <span class="keywordflow">if</span> (!bytecode_already_decompiled) {</div>
<div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;    <span class="comment">// Check if the bytecode is still live.</span></div>
<div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;BytecodeArray&gt;</a> bytecode =</div>
<div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;        flushing_candidate-&gt;GetBytecodeArray(isolate);</div>
<div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                                            bytecode)) {</div>
<div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;    }</div>
<div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;  }</div>
<div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;  FlushSFI(flushing_candidate, bytecode_already_decompiled);</div>
<div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;}</div>
<div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160; </div>
<div class="line"><a name="l03462"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ad34de0569d3f17ed9938be62ab5cda04"> 3462</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::ProcessOldBaselineSFI(</div>
<div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> flushing_candidate) {</div>
<div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> baseline_code = flushing_candidate-&gt;baseline_code(<a class="code" href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">kAcquireLoad</a>);</div>
<div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;  <span class="comment">// Safe to do a relaxed load here since the Code was acquire-loaded.</span></div>
<div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> baseline_istream =</div>
<div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;      baseline_code-&gt;instruction_stream(baseline_code-&gt;code_cage_base(),</div>
<div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;                                        <a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>);</div>
<div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> baseline_bytecode_or_interpreter_data =</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;      baseline_code-&gt;bytecode_or_interpreter_data();</div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160; </div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;  <span class="comment">// During flushing a BytecodeArray is transformed into an UncompiledData</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;  <span class="comment">// in place. Seeing an UncompiledData here implies that another</span></div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;  <span class="comment">// SharedFunctionInfo had a reference to the same BytecodeArray and</span></div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;  <span class="comment">// flushed it before processing this candidate. This can happen when using</span></div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;  <span class="comment">// CloneSharedFunctionInfo().</span></div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> bytecode_already_decompiled =</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;      IsUncompiledData(baseline_bytecode_or_interpreter_data, heap_-&gt;isolate());</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;  <span class="keywordtype">bool</span> is_bytecode_live = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;  <span class="keywordflow">if</span> (!bytecode_already_decompiled) {</div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;BytecodeArray&gt;</a> bytecode =</div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;        flushing_candidate-&gt;GetBytecodeArray(heap_-&gt;isolate());</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    is_bytecode_live = MarkingHelper::IsMarkedOrAlwaysLive(</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;        heap_, non_atomic_marking_state_, bytecode);</div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;  }</div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160; </div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;  <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;                                          baseline_istream)) {</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="comment">// Currently baseline code holds bytecode array strongly and it is</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    <span class="comment">// always ensured that bytecode is live if baseline code is live. Hence</span></div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="comment">// baseline code can safely load bytecode array without any additional</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;    <span class="comment">// checks. In future if this changes we need to update these checks to</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;    <span class="comment">// flush code if the bytecode is not live and also update baseline code</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    <span class="comment">// to bailout if there is no bytecode.</span></div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(is_bytecode_live);</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160; </div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="comment">// Regardless of whether the Code is a Code or</span></div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="comment">// the InstructionStream itself, if the InstructionStream is live then</span></div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <span class="comment">// the Code has to be live and will have been marked via</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <span class="comment">// the owning JSFunction.</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(MarkingHelper::IsMarkedOrAlwaysLive(heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;                                               baseline_code));</div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (is_bytecode_live || bytecode_already_decompiled) {</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    <span class="comment">// Reset the function_data field to the BytecodeArray, InterpreterData,</span></div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;    <span class="comment">// or UncompiledData found on the baseline code. We can skip this step</span></div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;    <span class="comment">// if the BytecodeArray is not live and not already decompiled, because</span></div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;    <span class="comment">// FlushBytecodeFromSFI below will set the function_data field.</span></div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;    flushing_candidate-&gt;FlushBaselineCode();</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;  }</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160; </div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;  <span class="keywordflow">if</span> (!is_bytecode_live) {</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    FlushSFI(flushing_candidate, bytecode_already_decompiled);</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;  }</div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;  <span class="keywordflow">return</span> is_bytecode_live;</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;}</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160; </div>
<div class="line"><a name="l03517"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a4672c902176abf0363018f4b29435209"> 3517</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::FlushSFI(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;SharedFunctionInfo&gt;</a> sfi,</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;                                    <span class="keywordtype">bool</span> bytecode_already_decompiled) {</div>
<div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;  <span class="comment">// If baseline code flushing is disabled we should only flush bytecode</span></div>
<div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;  <span class="comment">// from functions that don&#39;t have baseline data.</span></div>
<div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_baseline_code || !sfi-&gt;HasBaselineCode());</div>
<div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160; </div>
<div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;  <span class="keywordflow">if</span> (bytecode_already_decompiled) {</div>
<div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;    sfi-&gt;DiscardCompiledMetadata(</div>
<div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;        heap_-&gt;isolate(),</div>
<div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;        [](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span>, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) { RecordSlot(object, slot, target); });</div>
<div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <span class="comment">// If the BytecodeArray is dead, flush it, which will replace the field</span></div>
<div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;    <span class="comment">// with an uncompiled data object.</span></div>
<div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    FlushBytecodeFromSFI(sfi);</div>
<div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;  }</div>
<div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;}</div>
<div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160; </div>
<div class="line"><a name="l03535"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#af12dba7c5c1e1e2e5c8b30809005605b"> 3535</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearFlushedJsFunctions() {</div>
<div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_bytecode ||</div>
<div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;         weak_objects_.flushed_js_functions.IsEmpty());</div>
<div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> flushed_js_function;</div>
<div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;flushed_js_functions_local.Pop(</div>
<div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;      &amp;flushed_js_function)) {</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <span class="keyword">auto</span> gc_notify_updated_slot = [](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> object, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> target) {</div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;      RecordSlot(<span class="keywordtype">object</span>, slot, Cast&lt;HeapObject&gt;(target));</div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    };</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    flushed_js_function-&gt;ResetIfCodeFlushed(heap_-&gt;isolate(),</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;                                            gc_notify_updated_slot);</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;  }</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;}</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160; </div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;<span class="preprocessor">#ifndef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160; </div>
<div class="line"><a name="l03552"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a90e4a47ecc544481e5d1d8217817a392"> 3552</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ProcessFlushedBaselineCandidates() {</div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.flush_baseline_code ||</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;         weak_objects_.baseline_flushing_candidates.IsEmpty());</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFunction&gt;</a> flushed_js_function;</div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;baseline_flushing_candidates_local.Pop(</div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;      &amp;flushed_js_function)) {</div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;    <span class="keyword">auto</span> gc_notify_updated_slot = [](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> object, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> target) {</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;      RecordSlot(<span class="keywordtype">object</span>, slot, Cast&lt;HeapObject&gt;(target));</div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    };</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    flushed_js_function-&gt;ResetIfCodeFlushed(heap_-&gt;isolate(),</div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;                                            gc_notify_updated_slot);</div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160; </div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;<span class="preprocessor">#ifndef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="comment">// Record the code slot that has been updated either to CompileLazy,</span></div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;    <span class="comment">// InterpreterEntryTrampoline or baseline code.</span></div>
<div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    <span class="comment">// This is only necessary when the sandbox is not enabled. If it is, the</span></div>
<div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;    <span class="comment">// Code objects are referenced through a pointer table indirection and so</span></div>
<div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;    <span class="comment">// remembered slots are not necessary as the Code object will update its</span></div>
<div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;    <span class="comment">// entry in the pointer table when it is relocated.</span></div>
<div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot = flushed_js_function-&gt;RawField(JSFunction::kCodeOffset);</div>
<div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;    RecordSlot(flushed_js_function, slot, Cast&lt;HeapObject&gt;(*slot));</div>
<div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;  }</div>
<div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;}</div>
<div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160; </div>
<div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// !V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160; </div>
<div class="line"><a name="l03580"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#acae633babe09a8fa47c416b37fba6410"> 3580</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearFullMapTransitions() {</div>
<div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TransitionArray&gt;</a> array;</div>
<div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(isolate);</div>
<div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;transition_arrays_local.Pop(&amp;array)) {</div>
<div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;    <span class="keywordtype">int</span> num_transitions = array-&gt;number_of_transitions();</div>
<div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;    <span class="keywordflow">if</span> (num_transitions &gt; 0) {</div>
<div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map;</div>
<div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;        <span class="comment">// The array might contain &quot;undefined&quot; elements because it&#39;s not yet</span></div>
<div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;        <span class="comment">// filled. Allow it.</span></div>
<div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;        <span class="keywordflow">if</span> (array-&gt;GetTargetIfExists(0, isolate, &amp;map)) {</div>
<div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!map.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>());  <span class="comment">// Weak pointers aren&#39;t cleared yet.</span></div>
<div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ae3cd5ae1226a4707d6e6834191b97c92">constructor_or_back_pointer</a> =</div>
<div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;              map-&gt;constructor_or_back_pointer();</div>
<div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">IsSmi</a>(<a class="code" href="namespacev8_1_1internal.html#ae3cd5ae1226a4707d6e6834191b97c92">constructor_or_back_pointer</a>)) {</div>
<div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac61ec4fa9a19159b6bbdf78952645d1c">has_active_deserializer</a>());</div>
<div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;            <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#ae3cd5ae1226a4707d6e6834191b97c92">constructor_or_back_pointer</a>,</div>
<div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;                      Smi::uninitialized_deserialization_value());</div>
<div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;          }</div>
<div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> parent = Cast&lt;Map&gt;(map-&gt;constructor_or_back_pointer());</div>
<div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;          <span class="keyword">const</span> <span class="keywordtype">bool</span> parent_is_alive = MarkingHelper::IsMarkedOrAlwaysLive(</div>
<div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;              heap_, non_atomic_marking_state_, parent);</div>
<div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors =</div>
<div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;              parent_is_alive ? parent-&gt;instance_descriptors(isolate)</div>
<div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;                              : <a class="code" href="namespacev8_1_1internal.html#a403f10ce1c7dc18ea5f622a1aaa56285">Tagged&lt;DescriptorArray&gt;</a>();</div>
<div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;          <span class="keywordtype">bool</span> descriptors_owner_died =</div>
<div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;              CompactTransitionArray(parent, array, descriptors);</div>
<div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;          <span class="keywordflow">if</span> (descriptors_owner_died) {</div>
<div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;            TrimDescriptorArray(parent, descriptors);</div>
<div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;          }</div>
<div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;        }</div>
<div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;      }</div>
<div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;  }</div>
<div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;}</div>
<div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160; </div>
<div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;<span class="comment">// Returns false if no maps have died, or if the transition array is</span></div>
<div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;<span class="comment">// still being deserialized.</span></div>
<div class="line"><a name="l03618"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a859d6252de36904e629ec0cd26408902"> 3618</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::TransitionArrayNeedsCompaction(</div>
<div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TransitionArray&gt;</a> transitions, <span class="keywordtype">int</span> num_transitions) {</div>
<div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(heap_-&gt;isolate());</div>
<div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_transitions; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> raw_target = transitions-&gt;GetRawTarget(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;    <span class="keywordflow">if</span> (raw_target.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a2283cc249d5cb022b9be15bbf31a09f1">IsSmi</a>()) {</div>
<div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;      <span class="comment">// This target is still being deserialized,</span></div>
<div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(heap_-&gt;isolate()-&gt;has_active_deserializer());</div>
<div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(raw_target.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#ab4335f1a0873e1d31150ee52ccc7b320">ToSmi</a>(), Smi::uninitialized_deserialization_value());</div>
<div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;      <span class="comment">// Targets can only be dead iff this array is fully deserialized.</span></div>
<div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; num_transitions; ++j) {</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(</div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;            !transitions-&gt;GetRawTarget(j).<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a2283cc249d5cb022b9be15bbf31a09f1">IsSmi</a>(),</div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;            !non_atomic_marking_state_-&gt;IsUnmarked(transitions-&gt;GetTarget(j)));</div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;      }</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;                   heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;                   TransitionsAccessor::GetTargetFromRaw(raw_target))) {</div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;      <span class="comment">// Targets can only be dead iff this array is fully deserialized.</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; num_transitions; ++j) {</div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!transitions-&gt;GetRawTarget(j).<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a2283cc249d5cb022b9be15bbf31a09f1">IsSmi</a>());</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;      }</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    }</div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;  }</div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;}</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160; </div>
<div class="line"><a name="l03651"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a05a22eaa8eafd6ae1bcfb066edd7acc1"> 3651</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::CompactTransitionArray(</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;TransitionArray&gt;</a> transitions,</div>
<div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors) {</div>
<div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!map-&gt;is_prototype_map());</div>
<div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;  <span class="keywordtype">int</span> num_transitions = transitions-&gt;number_of_transitions();</div>
<div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;  <span class="keywordflow">if</span> (!TransitionArrayNeedsCompaction(transitions, num_transitions)) {</div>
<div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;  }</div>
<div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;  <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a> roots(heap_-&gt;isolate());</div>
<div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;  <span class="keywordtype">bool</span> descriptors_owner_died = <span class="keyword">false</span>;</div>
<div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;  <span class="keywordtype">int</span> transition_index = 0;</div>
<div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;  <span class="comment">// Compact all live transitions to the left.</span></div>
<div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; num_transitions; ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> target = transitions-&gt;GetTarget(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(target-&gt;constructor_or_back_pointer(), map);</div>
<div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160; </div>
<div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;            heap_, non_atomic_marking_state_, target)) {</div>
<div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;      <span class="keywordflow">if</span> (!descriptors.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">is_null</a>() &amp;&amp;</div>
<div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;          target-&gt;instance_descriptors(heap_-&gt;isolate()) == descriptors) {</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!target-&gt;is_prototype_map());</div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;        descriptors_owner_died = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;      }</div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;    }</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160; </div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html">i</a> != transition_index) {</div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Name&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = transitions-&gt;GetKey(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;      transitions-&gt;SetKey(transition_index, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FullHeapObjectSlot.html">HeapObjectSlot</a> key_slot = transitions-&gt;GetKeySlot(transition_index);</div>
<div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;      RecordSlot(transitions, key_slot, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> raw_target = transitions-&gt;GetRawTarget(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;      transitions-&gt;SetRawTarget(transition_index, raw_target);</div>
<div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FullHeapObjectSlot.html">HeapObjectSlot</a> target_slot = transitions-&gt;GetTargetSlot(transition_index);</div>
<div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;      RecordSlot(transitions, target_slot, raw_target.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>());</div>
<div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;    }</div>
<div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    transition_index++;</div>
<div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;  }</div>
<div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;  <span class="comment">// If there are no transitions to be cleared, return.</span></div>
<div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;  <span class="keywordflow">if</span> (transition_index == num_transitions) {</div>
<div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!descriptors_owner_died);</div>
<div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;  }</div>
<div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;  <span class="comment">// Note that we never eliminate a transition array, though we might right-trim</span></div>
<div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;  <span class="comment">// such that number_of_transitions() == 0. If this assumption changes,</span></div>
<div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;  <span class="comment">// TransitionArray::Insert() will need to deal with the case that a transition</span></div>
<div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;  <span class="comment">// array disappeared during GC.</span></div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;  <span class="keywordtype">int</span> old_capacity_in_entries = transitions-&gt;Capacity();</div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;  <span class="keywordflow">if</span> (transition_index &lt; old_capacity_in_entries) {</div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <span class="keywordtype">int</span> old_capacity = transitions-&gt;length();</div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    static_assert(TransitionArray::kEntryKeyIndex == 0);</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(TransitionArray::ToKeyIndex(old_capacity_in_entries),</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;              old_capacity);</div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="keywordtype">int</span> new_capacity = TransitionArray::ToKeyIndex(transition_index);</div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    heap_-&gt;RightTrimArray(transitions, new_capacity, old_capacity);</div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    transitions-&gt;SetNumberOfTransitions(transition_index);</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;  }</div>
<div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;  <span class="keywordflow">return</span> descriptors_owner_died;</div>
<div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;}</div>
<div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160; </div>
<div class="line"><a name="l03711"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa5044d30e7d0db55493414748d740aaa"> 3711</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::RightTrimDescriptorArray(</div>
<div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> array, <span class="keywordtype">int</span> descriptors_to_trim) {</div>
<div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;  <span class="keywordtype">int</span> old_nof_all_descriptors = array-&gt;number_of_all_descriptors();</div>
<div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;  <span class="keywordtype">int</span> new_nof_all_descriptors = old_nof_all_descriptors - descriptors_to_trim;</div>
<div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, descriptors_to_trim);</div>
<div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a>(0, new_nof_all_descriptors);</div>
<div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> start = array-&gt;GetDescriptorSlot(new_nof_all_descriptors).<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>();</div>
<div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> = array-&gt;GetDescriptorSlot(old_nof_all_descriptors).<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>();</div>
<div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk = MutablePageMetadata::FromHeapObject(array);</div>
<div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW&gt;::RemoveRange</a>(chunk, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>,</div>
<div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;                                         SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW_BACKGROUND&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;      chunk, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>, SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::RemoveRange</a>(chunk, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>,</div>
<div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;                                            SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::RemoveRange</a>(chunk, start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>,</div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;                                         SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="common_2globals_8h.html#a69541a836e89979350b2e7634e2d5a0a">V8_COMPRESS_POINTERS_8GB_BOOL</a>) {</div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> aligned_start = <a class="code" href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a>(start);</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> aligned_end = <a class="code" href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="keywordflow">if</span> (aligned_start &lt; aligned_end) {</div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;      heap_-&gt;CreateFillerObjectAt(</div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;          aligned_start, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(aligned_end - aligned_start));</div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    }</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1heap.html#abbe47cc01f1d548508ed123a8be3f4ca">heap::ShouldZapGarbage</a>()) {</div>
<div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;      <a class="code" href="classuintptr__t.html">Address</a> zap_end = std::min(aligned_start, <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>);</div>
<div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#a5b59223136254772ef018d90e009318d">MemsetTagged</a>(<a class="code" href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">ObjectSlot</a>(start),</div>
<div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;                   <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a>(<span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">Address</a><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#a82c1746016699f0092cef67ba2e71956">kZapValue</a>)),</div>
<div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;                   (zap_end - start) &gt;&gt; <a class="code" href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">kTaggedSizeLog2</a>);</div>
<div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;    }</div>
<div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    heap_-&gt;CreateFillerObjectAt(start, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a> - start));</div>
<div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;  }</div>
<div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;  array-&gt;set_number_of_all_descriptors(new_nof_all_descriptors);</div>
<div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;}</div>
<div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160; </div>
<div class="line"><a name="l03747"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a268c6d19f21e9b35d477806a33960d64"> 3747</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::RecordStrongDescriptorArraysForWeakening(</div>
<div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GlobalHandleVector.html">GlobalHandleVector&lt;DescriptorArray&gt;</a> strong_descriptor_arrays) {</div>
<div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(heap_-&gt;incremental_marking()-&gt;IsMajorMarking());</div>
<div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;strong_descriptor_arrays_mutex_);</div>
<div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;  strong_descriptor_arrays_.push_back(std::move(strong_descriptor_arrays));</div>
<div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;}</div>
<div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160; </div>
<div class="line"><a name="l03754"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a67923b4c8c39c7b225af81c264d2ee46"> 3754</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::WeakenStrongDescriptorArrays() {</div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> descriptor_array_map =</div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;      <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(heap_-&gt;isolate()).descriptor_array_map();</div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; vec : strong_descriptor_arrays_) {</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = vec.begin(); it != vec.end(); ++it) {</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> raw = it.raw();</div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsStrongDescriptorArray(raw));</div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;      raw-&gt;set_map_safe_transition_no_write_barrier(heap_-&gt;isolate(),</div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;                                                    descriptor_array_map);</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(raw-&gt;raw_gc_state(<a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>), 0);</div>
<div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    }</div>
<div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;  }</div>
<div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;  strong_descriptor_arrays_.clear();</div>
<div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;}</div>
<div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160; </div>
<div class="line"><a name="l03769"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a71e8a1a84a4a8174d41df38622577ddb"> 3769</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::TrimDescriptorArray(</div>
<div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map, <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors) {</div>
<div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;  <span class="keywordtype">int</span> number_of_own_descriptors = map-&gt;NumberOfOwnDescriptors();</div>
<div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;  <span class="keywordflow">if</span> (number_of_own_descriptors == 0) {</div>
<div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(descriptors == <a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(heap_).empty_descriptor_array());</div>
<div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;  }</div>
<div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;  <span class="keywordtype">int</span> to_trim =</div>
<div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;      descriptors-&gt;number_of_all_descriptors() - number_of_own_descriptors;</div>
<div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;  <span class="keywordflow">if</span> (to_trim &gt; 0) {</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;    descriptors-&gt;set_number_of_descriptors(number_of_own_descriptors);</div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    RightTrimDescriptorArray(descriptors, to_trim);</div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160; </div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    TrimEnumCache(map, descriptors);</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    descriptors-&gt;Sort();</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;  }</div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(descriptors-&gt;number_of_descriptors() == number_of_own_descriptors);</div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;  map-&gt;set_owns_descriptors(<span class="keyword">true</span>);</div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;}</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160; </div>
<div class="line"><a name="l03789"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a242069ae8205f32e03cf726bffa280b9"> 3789</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::TrimEnumCache(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Map&gt;</a> map,</div>
<div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;                                         <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;DescriptorArray&gt;</a> descriptors) {</div>
<div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;  <span class="keywordtype">int</span> live_enum = map-&gt;EnumLength();</div>
<div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;  <span class="keywordflow">if</span> (live_enum == <a class="code" href="namespacev8_1_1internal.html#a7fabf69c19f19fafd8f7b6c73fc6a3ee">kInvalidEnumCacheSentinel</a>) {</div>
<div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    live_enum = map-&gt;NumberOfEnumerableProperties();</div>
<div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;  }</div>
<div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;  <span class="keywordflow">if</span> (live_enum == 0) <span class="keywordflow">return</span> descriptors-&gt;ClearEnumCache();</div>
<div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;EnumCache&gt;</a> enum_cache = descriptors-&gt;enum_cache();</div>
<div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160; </div>
<div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> keys = enum_cache-&gt;keys();</div>
<div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;  <span class="keywordtype">int</span> keys_length = keys-&gt;length();</div>
<div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;  <span class="keywordflow">if</span> (live_enum &gt;= keys_length) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;  heap_-&gt;RightTrimArray(keys, live_enum, keys_length);</div>
<div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160; </div>
<div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;FixedArray&gt;</a> indices = enum_cache-&gt;indices();</div>
<div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;  <span class="keywordtype">int</span> indices_length = indices-&gt;length();</div>
<div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;  <span class="keywordflow">if</span> (live_enum &gt;= indices_length) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;  heap_-&gt;RightTrimArray(indices, live_enum, indices_length);</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;}</div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160; </div>
<div class="line"><a name="l03809"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a8683f1e2a840f0b54efff9b4a3d30e6a"> 3809</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearWeakCollections() {</div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_WEAK_COLLECTIONS);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;EphemeronHashTable&gt;</a> table;</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;ephemeron_hash_tables_local.Pop(&amp;table)) {</div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a> <a class="code" href="namespacev8_1_1internal.html">i</a> : table-&gt;IterateEntries()) {</div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = Cast&lt;HeapObject&gt;(table-&gt;KeyAt(<a class="code" href="namespacev8_1_1internal.html">i</a>));</div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_heap) {</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = table-&gt;ValueAt(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;          <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160; </div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a>(MarkingHelper::IsMarkedOrAlwaysLive(</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                            heap_, non_atomic_marking_state_, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>),</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                        MarkingHelper::IsMarkedOrAlwaysLive(</div>
<div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                            heap_, non_atomic_marking_state_, heap_object));</div>
<div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;        }</div>
<div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;      }</div>
<div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;      <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;              heap_, non_atomic_marking_state_, <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>)) {</div>
<div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;        table-&gt;RemoveEntry(<a class="code" href="namespacev8_1_1internal.html">i</a>);</div>
<div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;      }</div>
<div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;    }</div>
<div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;  }</div>
<div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;  <span class="keyword">auto</span>* table_map = heap_-&gt;ephemeron_remembered_set()-&gt;tables();</div>
<div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = table_map-&gt;begin(); it != table_map-&gt;end();) {</div>
<div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;            heap_, non_atomic_marking_state_, it-&gt;first)) {</div>
<div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;      it = table_map-&gt;erase(it);</div>
<div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;      ++it;</div>
<div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    }</div>
<div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;  }</div>
<div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;}</div>
<div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160; </div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TObjectAndSlot, <span class="keyword">typename</span> TMaybeSlot&gt;</div>
<div class="line"><a name="l03846"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a6c5024e51f8944c9ad34e7f962490285"> 3846</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearWeakReferences(</div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <a class="code" href="classheap_1_1base_1_1Worklist_1_1Local.html">WeakObjects::WeakObjectWorklist&lt;TObjectAndSlot&gt;::Local</a>&amp; worklist,</div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObjectReference&gt;</a> cleared_weak_ref) {</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;  TObjectAndSlot slot;</div>
<div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;  <span class="keywordflow">while</span> (worklist.<a class="code" href="classheap_1_1base_1_1Worklist_1_1Local.html#abba14522bed612889111e86c354c38bc">Pop</a>(&amp;slot)) {</div>
<div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;    <span class="comment">// The slot could have been overwritten, so we have to treat it</span></div>
<div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;    <span class="comment">// as [Protected]MaybeObjectSlot.</span></div>
<div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;    TMaybeSlot location(slot.slot);</div>
<div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    <span class="keywordflow">if</span> (location.load().GetHeapObjectIfWeak(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsWeakCell(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;      <span class="comment">// Values in RO space have already been filtered, but a non-RO value may</span></div>
<div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;      <span class="comment">// have been overwritten by a RO value since marking.</span></div>
<div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;      <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;                                              <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;        <span class="comment">// The value of the weak reference is alive.</span></div>
<div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;        RecordSlot(slot.heap_object, slot.slot, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(MainMarkingVisitor::IsTrivialWeakReferenceValue(slot.heap_object,</div>
<div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;                                                               <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;        <span class="comment">// The value of the weak reference is non-live.</span></div>
<div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;        <span class="comment">// This is a non-atomic store, which is fine as long as we only have a</span></div>
<div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;        <span class="comment">// single clearing job.</span></div>
<div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;        location.store(cleared_weak_ref);</div>
<div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;      }</div>
<div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    }</div>
<div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;  }</div>
<div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;}</div>
<div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160; </div>
<div class="line"><a name="l03875"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a4c690a1124b34af7925738d838255de0"> 3875</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearTrivialWeakReferences() {</div>
<div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObjectReference&gt;</a> cleared_weak_ref = <a class="code" href="namespacev8_1_1internal.html#aa2b1520107e1a7067d5db8226721c882">ClearedValue</a>(heap_-&gt;isolate());</div>
<div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;  ClearWeakReferences&lt;HeapObjectAndSlot, MaybeObjectSlot&gt;(</div>
<div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;      local_weak_objects()-&gt;weak_references_trivial_local, cleared_weak_ref);</div>
<div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;}</div>
<div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160; </div>
<div class="line"><a name="l03881"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a94a20caf915889d8ba10e3bd9bbc3778"> 3881</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearTrustedWeakReferences() {</div>
<div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObjectReference&gt;</a> cleared_weak_ref = <a class="code" href="namespacev8_1_1internal.html#aaae66fce459a82ed75641e4543500b4d">ClearedTrustedValue</a>();</div>
<div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;  ClearWeakReferences&lt;TrustedObjectAndSlot, ProtectedMaybeObjectSlot&gt;(</div>
<div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;      local_weak_objects()-&gt;weak_references_trusted_local, cleared_weak_ref);</div>
<div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;}</div>
<div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160; </div>
<div class="line"><a name="l03887"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae8d1737f64ec1c402f115889a75d1cbf"> 3887</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::FilterNonTrivialWeakReferences() {</div>
<div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;  <a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html">HeapObjectAndSlot</a> slot;</div>
<div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;weak_references_non_trivial_local.Pop(&amp;slot)) {</div>
<div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>;</div>
<div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="comment">// The slot could have been overwritten, so we have to treat it</span></div>
<div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;    <span class="comment">// as MaybeObjectSlot.</span></div>
<div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> location(slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a36e704a24ba1f0964f14b4293d947c5b">slot</a>);</div>
<div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;    <span class="keywordflow">if</span> ((*location).GetHeapObjectIfWeak(&amp;<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsWeakCell(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;      <span class="comment">// Values in RO space have already been filtered, but a non-RO value may</span></div>
<div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;      <span class="comment">// have been overwritten by a RO value since marking.</span></div>
<div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;      <span class="keywordflow">if</span> (MarkingHelper::IsMarkedOrAlwaysLive(heap_, non_atomic_marking_state_,</div>
<div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;                                              <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>)) {</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;        <span class="comment">// The value of the weak reference is alive.</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;        RecordSlot(slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a2d12cf0a78bf5dbc18f4366e809b3c9e">heap_object</a>, <a class="code" href="classv8_1_1internal_1_1FullHeapObjectSlot.html">HeapObjectSlot</a>(location), <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>);</div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!MainMarkingVisitor::IsTrivialWeakReferenceValue(</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;            slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a2d12cf0a78bf5dbc18f4366e809b3c9e">heap_object</a>, <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;        <span class="comment">// The value is non-live, defer the actual clearing.</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;        <span class="comment">// This is non-atomic, which is fine as long as we only have a single</span></div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;        <span class="comment">// filtering job.</span></div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        local_weak_objects_-&gt;weak_references_non_trivial_unmarked_local.Push(</div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;            slot);</div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;      }</div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    }</div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;  }</div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;}</div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160; </div>
<div class="line"><a name="l03915"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ab9f8058df74c7f0a2611b5af24a75f4c"> 3915</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearNonTrivialWeakReferences() {</div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;           GCTracer::Scope::MC_CLEAR_WEAK_REFERENCES_NON_TRIVIAL);</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;  <a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html">HeapObjectAndSlot</a> slot;</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;HeapObjectReference&gt;</a> cleared_weak_ref = <a class="code" href="namespacev8_1_1internal.html#aa2b1520107e1a7067d5db8226721c882">ClearedValue</a>(heap_-&gt;isolate());</div>
<div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;weak_references_non_trivial_unmarked_local.Pop(</div>
<div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;      &amp;slot)) {</div>
<div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;    <span class="comment">// The slot may not have been overwritten since it was filtered, so we can</span></div>
<div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;    <span class="comment">// directly read its value.</span></div>
<div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> = (*slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a36e704a24ba1f0964f14b4293d947c5b">slot</a>).GetHeapObjectAssumeWeak();</div>
<div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!IsWeakCell(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!HeapLayout::InReadOnlySpace(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.black_allocated_pages,</div>
<div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;                   !HeapLayout::InBlackAllocatedPage(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!non_atomic_marking_state_-&gt;IsMarked(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!MainMarkingVisitor::IsTrivialWeakReferenceValue(slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a2d12cf0a78bf5dbc18f4366e809b3c9e">heap_object</a>,</div>
<div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;                                                            <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>));</div>
<div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;    <span class="keywordflow">if</span> (!SpecialClearMapSlot(slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a2d12cf0a78bf5dbc18f4366e809b3c9e">heap_object</a>, Cast&lt;Map&gt;(<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>), slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a36e704a24ba1f0964f14b4293d947c5b">slot</a>)) {</div>
<div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;      slot.<a class="code" href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a36e704a24ba1f0964f14b4293d947c5b">slot</a>.store(cleared_weak_ref);</div>
<div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;    }</div>
<div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;  }</div>
<div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;}</div>
<div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160; </div>
<div class="line"><a name="l03938"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a9de8db3fd9c732c14070a08203daa811"> 3938</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ClearJSWeakRefs() {</div>
<div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_CLEAR_JS_WEAK_REFERENCES);</div>
<div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSWeakRef&gt;</a> weak_ref;</div>
<div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;js_weak_refs_local.Pop(&amp;weak_ref)) {</div>
<div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target = Cast&lt;HeapObject&gt;(weak_ref-&gt;target());</div>
<div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;            heap_, non_atomic_marking_state_, target)) {</div>
<div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;      weak_ref-&gt;set_target(<a class="code" href="classv8_1_1internal_1_1ReadOnlyRoots.html">ReadOnlyRoots</a>(isolate).undefined_value());</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;      <span class="comment">// The value of the JSWeakRef is alive.</span></div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot = weak_ref-&gt;RawField(JSWeakRef::kTargetOffset);</div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;      RecordSlot(weak_ref, slot, target);</div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    }</div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;  }</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;WeakCell&gt;</a> weak_cell;</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;  <span class="keywordflow">while</span> (local_weak_objects()-&gt;weak_cells_local.Pop(&amp;weak_cell)) {</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;    <span class="keyword">auto</span> gc_notify_updated_slot = [](<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> object, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot,</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> target) {</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>(target)) {</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;        RecordSlot(<span class="keywordtype">object</span>, slot, Cast&lt;HeapObject&gt;(target));</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;      }</div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    };</div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target = Cast&lt;HeapObject&gt;(weak_cell-&gt;target());</div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;            heap_, non_atomic_marking_state_, target)) {</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(Object::CanBeHeldWeakly(target));</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;      <span class="comment">// The value of the WeakCell is dead.</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFinalizationRegistry&gt;</a> finalization_registry =</div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;          Cast&lt;JSFinalizationRegistry&gt;(weak_cell-&gt;finalization_registry());</div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;      <span class="keywordflow">if</span> (!finalization_registry-&gt;scheduled_for_cleanup()) {</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;        heap_-&gt;EnqueueDirtyJSFinalizationRegistry(finalization_registry,</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;                                                  gc_notify_updated_slot);</div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;      }</div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;      <span class="comment">// We&#39;re modifying the pointers in WeakCell and JSFinalizationRegistry</span></div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;      <span class="comment">// during GC; thus we need to record the slots it writes. The normal write</span></div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;      <span class="comment">// barrier is not enough, since it&#39;s disabled before GC.</span></div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;      weak_cell-&gt;Nullify(isolate, gc_notify_updated_slot);</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(finalization_registry-&gt;NeedsCleanup());</div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(finalization_registry-&gt;scheduled_for_cleanup());</div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;      <span class="comment">// The value of the WeakCell is alive.</span></div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot = weak_cell-&gt;RawField(WeakCell::kTargetOffset);</div>
<div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;      RecordSlot(weak_cell, slot, Cast&lt;HeapObject&gt;(*slot));</div>
<div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;    }</div>
<div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160; </div>
<div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> unregister_token = weak_cell-&gt;unregister_token();</div>
<div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;    <span class="keywordflow">if</span> (MarkingHelper::IsUnmarkedAndNotAlwaysLive(</div>
<div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;            heap_, non_atomic_marking_state_, unregister_token)) {</div>
<div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(Object::CanBeHeldWeakly(unregister_token));</div>
<div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;      <span class="comment">// The unregister token is dead. Remove any corresponding entries in the</span></div>
<div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;      <span class="comment">// key map. Multiple WeakCell with the same token will have all their</span></div>
<div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;      <span class="comment">// unregister_token field set to undefined when processing the first</span></div>
<div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;      <span class="comment">// WeakCell. Like above, we&#39;re modifying pointers during GC, so record the</span></div>
<div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;      <span class="comment">// slots.</span></div>
<div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;JSFinalizationRegistry&gt;</a> finalization_registry =</div>
<div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;          Cast&lt;JSFinalizationRegistry&gt;(weak_cell-&gt;finalization_registry());</div>
<div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;      finalization_registry-&gt;RemoveUnregisterToken(</div>
<div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;          unregister_token, isolate,</div>
<div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;          JSFinalizationRegistry::kKeepMatchedCellsInRegistry,</div>
<div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;          gc_notify_updated_slot);</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;      <span class="comment">// The unregister_token is alive.</span></div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;      <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot = weak_cell-&gt;RawField(WeakCell::kUnregisterTokenOffset);</div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;      RecordSlot(weak_cell, slot, Cast&lt;HeapObject&gt;(*slot));</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;    }</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;  }</div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;  heap_-&gt;PostFinalizationRegistryCleanupTaskIfNeeded();</div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;}</div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160; </div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l04009"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ac97a73ff845731485fa3556291425f39"> 4009</a></span>&#160;<span class="keywordtype">bool</span> MarkCompactCollector::ShouldRecordRelocSlot(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;                                                 <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo,</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;                                                 <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) {</div>
<div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* source_chunk = MemoryChunk::FromHeapObject(host);</div>
<div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* target_chunk = MemoryChunk::FromHeapObject(target);</div>
<div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;  <span class="keywordflow">return</span> target_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a31917793e4e1f003c57c07b8dd2422fa">IsEvacuationCandidate</a>() &amp;&amp;</div>
<div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;         !source_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#aab1d9e4d7cb3d99eba977b301cd1cd89">ShouldSkipEvacuationSlotRecording</a>();</div>
<div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;}</div>
<div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160; </div>
<div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;<a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html">MarkCompactCollector::RecordRelocSlotInfo</a></div>
<div class="line"><a name="l04020"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#adb22d7642cc47c49db3b6f5041b129b9"> 4020</a></span>&#160;MarkCompactCollector::ProcessRelocInfo(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo,</div>
<div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) {</div>
<div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;  <a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html">RecordRelocSlotInfo</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">RelocInfo::Mode</a> rmode = rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#adbcb85c0a1896ff1e7661746d6143e90">rmode</a>();</div>
<div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;  <a class="code" href="classuintptr__t.html">Address</a> addr;</div>
<div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">SlotType</a> slot_type;</div>
<div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160; </div>
<div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;  <span class="keywordflow">if</span> (rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#a74178a98b5efdd971a4f647281b6296e">IsInConstantPool</a>()) {</div>
<div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    addr = rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#abecc351ac3cac56e2f2c19081b2fc2e1">constant_pool_entry_address</a>();</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160; </div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="keywordflow">if</span> (RelocInfo::IsCodeTargetMode(rmode)) {</div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;      slot_type = SlotType::kConstPoolCodeEntry;</div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RelocInfo::IsCompressedEmbeddedObject(rmode)) {</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;      slot_type = SlotType::kConstPoolEmbeddedObjectCompressed;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(RelocInfo::IsFullEmbeddedObject(rmode));</div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;      slot_type = SlotType::kConstPoolEmbeddedObjectFull;</div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    }</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;    addr = rinfo-&gt;<a class="code" href="classv8_1_1internal_1_1RelocInfo.html#ae4e4b6b325ffcbba5c03de7c640c8f99">pc</a>();</div>
<div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160; </div>
<div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;    <span class="keywordflow">if</span> (RelocInfo::IsCodeTargetMode(rmode)) {</div>
<div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;      slot_type = <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a7cc35fed688945edc2503b7f776bc3b2a72195357633e7b5032aed9111794586f">SlotType::kCodeEntry</a>;</div>
<div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RelocInfo::IsFullEmbeddedObject(rmode)) {</div>
<div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;      slot_type = SlotType::kEmbeddedObjectFull;</div>
<div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(RelocInfo::IsCompressedEmbeddedObject(rmode));</div>
<div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;      slot_type = SlotType::kEmbeddedObjectCompressed;</div>
<div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    }</div>
<div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;  }</div>
<div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160; </div>
<div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* <span class="keyword">const</span> source_chunk = MemoryChunk::FromHeapObject(host);</div>
<div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* <span class="keyword">const</span> source_page_metadata =</div>
<div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;      MutablePageMetadata::cast(source_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">Metadata</a>());</div>
<div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;  <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = source_chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">Offset</a>(addr);</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(offset, <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(TypedSlotSet::kMaxOffset));</div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.page_metadata = source_page_metadata;</div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.slot_type = slot_type;</div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;  <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>.offset = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(offset);</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160; </div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;}</div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160; </div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;<span class="comment">// static</span></div>
<div class="line"><a name="l04065"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae4455c0b37942d5616bb57730157eb6a"> 4065</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::RecordRelocSlot(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;                                           <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo,</div>
<div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;                                           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> target) {</div>
<div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;  <span class="keywordflow">if</span> (!ShouldRecordRelocSlot(host, rinfo, target)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;  <a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html">RecordRelocSlotInfo</a> info = ProcessRelocInfo(host, rinfo, target);</div>
<div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160; </div>
<div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;  <span class="comment">// Access to TypeSlots need to be protected, since LocalHeaps might</span></div>
<div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;  <span class="comment">// publish code in the background thread.</span></div>
<div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;  std::optional&lt;base::MutexGuard&gt; opt_guard;</div>
<div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.concurrent_sparkplug) {</div>
<div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;    opt_guard.emplace(info.<a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#a9415cdb6b2a964d1c4e392bb0e405aad">page_metadata</a>-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#ad22c3af8aec9b6cbaf0a55506d28bdd1">mutex</a>());</div>
<div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;  }</div>
<div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::InsertTyped</a>(info.<a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#a9415cdb6b2a964d1c4e392bb0e405aad">page_metadata</a>, info.<a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#a191c30f6abbbab0bafcc131168f42356">slot_type</a>,</div>
<div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;                                         info.<a class="code" href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#ad9a25721552de75cb696048496a92427">offset</a>);</div>
<div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;}</div>
<div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160; </div>
<div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160; </div>
<div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;<span class="comment">// Missing specialization MakeSlotValue&lt;FullObjectSlot, WEAK&gt;() will turn</span></div>
<div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;<span class="comment">// attempt to store a weak reference to strong-only slot to a compilation error.</span></div>
<div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot, HeapObjectReferenceType reference_type&gt;</div>
<div class="line"><a name="l04086"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a9bbf08f1619cc116dd2a87e72c3055b3"> 4086</a></span>&#160;<span class="keyword">typename</span> TSlot::TObject <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a9bbf08f1619cc116dd2a87e72c3055b3">MakeSlotValue</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object);</div>
<div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160; </div>
<div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> MakeSlotValue&lt;ObjectSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;}</div>
<div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160; </div>
<div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a></div>
<div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;MakeSlotValue&lt;MaybeObjectSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;}</div>
<div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160; </div>
<div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;Tagged&lt;MaybeObject&gt;</div>
<div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;MakeSlotValue&lt;MaybeObjectSlot, HeapObjectReferenceType::WEAK&gt;(</div>
<div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">MakeWeak</a>(heap_object);</div>
<div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;}</div>
<div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160; </div>
<div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a></div>
<div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;MakeSlotValue&lt;WriteProtectedSlot&lt;ObjectSlot&gt;, <a class="code" href="common_2globals_8h.html#a68e9d1b360a669e69ca475ff475cb341">HeapObjectReferenceType::STRONG</a>&gt;(</div>
<div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;}</div>
<div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160; </div>
<div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> MakeSlotValue&lt;WriteProtectedSlot&lt;ProtectedPointerSlot&gt;,</div>
<div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;                             <a class="code" href="common_2globals_8h.html#a68e9d1b360a669e69ca475ff475cb341">HeapObjectReferenceType::STRONG</a>&gt;(</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;}</div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160; </div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;Tagged&lt;MaybeObject&gt;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;MakeSlotValue&lt;ProtectedMaybeObjectSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;}</div>
<div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160; </div>
<div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;Tagged&lt;MaybeObject&gt;</div>
<div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;MakeSlotValue&lt;ProtectedMaybeObjectSlot, HeapObjectReferenceType::WEAK&gt;(</div>
<div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">MakeWeak</a>(heap_object);</div>
<div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;}</div>
<div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160; </div>
<div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a></div>
<div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;MakeSlotValue&lt;OffHeapObjectSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;}</div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160; </div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;<span class="preprocessor">#ifdef V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a> MakeSlotValue&lt;FullObjectSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;}</div>
<div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160; </div>
<div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;Tagged&lt;MaybeObject&gt;</div>
<div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;MakeSlotValue&lt;FullMaybeObjectSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;}</div>
<div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160; </div>
<div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;Tagged&lt;MaybeObject&gt;</div>
<div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;MakeSlotValue&lt;FullMaybeObjectSlot, HeapObjectReferenceType::WEAK&gt;(</div>
<div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">MakeWeak</a>(heap_object);</div>
<div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;}</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160; </div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;<span class="preprocessor">#ifdef V8_EXTERNAL_CODE_SPACE</span></div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;MakeSlotValue&lt;InstructionStreamSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;}</div>
<div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_EXTERNAL_CODE_SPACE</span></div>
<div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160; </div>
<div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;<a class="code" href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">Tagged&lt;Object&gt;</a></div>
<div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;MakeSlotValue&lt;ProtectedPointerSlot, HeapObjectReferenceType::STRONG&gt;(</div>
<div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">Tagged&lt;HeapObject&gt;</a> heap_object) {</div>
<div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;  <span class="keywordflow">return</span> heap_object;</div>
<div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;}</div>
<div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160; </div>
<div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;<span class="comment">// The following specialization</span></div>
<div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;<span class="comment">//   MakeSlotValue&lt;FullMaybeObjectSlot, HeapObjectReferenceType::WEAK&gt;()</span></div>
<div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;<span class="comment">// is not used.</span></div>
<div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_COMPRESS_POINTERS</span></div>
<div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160; </div>
<div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;<span class="keyword">template</span> &lt;HeapObjectReferenceType reference_type, <span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l04190"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a3f7f3def67d792d8ca7b6fb3c9b1efdd"> 4190</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, TSlot slot,</div>
<div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;                              <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj) {</div>
<div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;  static_assert(</div>
<div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;      std::is_same_v&lt;TSlot, FullObjectSlot&gt; ||</div>
<div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;          std::is_same_v&lt;TSlot, ObjectSlot&gt; ||</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;          std::is_same_v&lt;TSlot, FullMaybeObjectSlot&gt; ||</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;          std::is_same_v&lt;TSlot, MaybeObjectSlot&gt; ||</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;          std::is_same_v&lt;TSlot, OffHeapObjectSlot&gt; ||</div>
<div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;          std::is_same_v&lt;TSlot, InstructionStreamSlot&gt; ||</div>
<div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;          std::is_same_v&lt;TSlot, ProtectedPointerSlot&gt; ||</div>
<div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;          std::is_same_v&lt;TSlot, ProtectedMaybeObjectSlot&gt; ||</div>
<div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;          std::is_same_v&lt;TSlot, <a class="code" href="classv8_1_1internal_1_1WriteProtectedSlot.html">WriteProtectedSlot&lt;ObjectSlot&gt;</a>&gt; ||</div>
<div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;          std::is_same_v&lt;TSlot, <a class="code" href="classv8_1_1internal_1_1WriteProtectedSlot.html">WriteProtectedSlot&lt;ProtectedPointerSlot&gt;</a>&gt;,</div>
<div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;      <span class="stringliteral">&quot;Only [Full|OffHeap]ObjectSlot, [Full]MaybeObjectSlot, &quot;</span></div>
<div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;      <span class="stringliteral">&quot;InstructionStreamSlot, Protected[Pointer|MaybeObject]Slot, &quot;</span></div>
<div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;      <span class="stringliteral">&quot;or WriteProtectedSlot are expected here&quot;</span>);</div>
<div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapWord.html">MapWord</a> map_word = heap_obj-&gt;map_word(cage_base, <a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>);</div>
<div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;  <span class="keywordflow">if</span> (!map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#a9dca2a41d176b2abbd067e956796a439">IsForwardingAddress</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>((!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms &amp;&amp; !Heap::InFromPage(heap_obj)),</div>
<div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;                 MarkCompactCollector::IsOnEvacuationCandidate(heap_obj) ||</div>
<div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;                     MemoryChunk::FromHeapObject(heap_obj)-&gt;IsFlagSet(</div>
<div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;                         MemoryChunk::COMPACTION_WAS_ABORTED));</div>
<div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;  <span class="keyword">typename</span> TSlot::TObject target = MakeSlotValue&lt;TSlot, reference_type&gt;(</div>
<div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;      map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#af98460db3cf5e0731cdd50d22b7e4c27">ToForwardingAddress</a>(heap_obj));</div>
<div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;  <span class="comment">// Needs to be atomic for map space compaction: This slot could be a map</span></div>
<div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;  <span class="comment">// word which we update while loading the map word for updating the slot</span></div>
<div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;  <span class="comment">// on another page.</span></div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;  slot.Relaxed_Store(target);</div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits, !Heap::InFromPage(target));</div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!MarkCompactCollector::IsOnEvacuationCandidate(target));</div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;}</div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160; </div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l04223"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d"> 4223</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, TSlot slot) {</div>
<div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;  <span class="keyword">typename</span> TSlot::TObject obj = slot.Relaxed_Load(cage_base);</div>
<div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj;</div>
<div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;  <span class="keywordflow">if</span> constexpr (TSlot::kCanBeWeak) {</div>
<div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    <span class="keywordflow">if</span> (obj.GetHeapObjectIfWeak(&amp;heap_obj)) {</div>
<div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;      <span class="keywordflow">return</span> UpdateSlot&lt;HeapObjectReferenceType::WEAK&gt;(cage_base, slot,</div>
<div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;                                                       heap_obj);</div>
<div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;    }</div>
<div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;  }</div>
<div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;  <span class="keywordflow">if</span> (obj.GetHeapObjectIfStrong(&amp;heap_obj)) {</div>
<div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;    UpdateSlot&lt;HeapObjectReferenceType::STRONG&gt;(cage_base, slot, heap_obj);</div>
<div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;  }</div>
<div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;}</div>
<div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160; </div>
<div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l04238"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8e179782425b7be1054e814f897f2f32"> 4238</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759">SlotCallbackResult</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8e179782425b7be1054e814f897f2f32">UpdateOldToSharedSlot</a>(</div>
<div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, TSlot slot) {</div>
<div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;  <span class="keyword">typename</span> TSlot::TObject obj = slot.Relaxed_Load(cage_base);</div>
<div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj;</div>
<div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160; </div>
<div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;  <span class="keywordflow">if</span> constexpr (TSlot::kCanBeWeak) {</div>
<div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;    <span class="keywordflow">if</span> (obj.GetHeapObjectIfWeak(&amp;heap_obj)) {</div>
<div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;      UpdateSlot&lt;HeapObjectReferenceType::WEAK&gt;(cage_base, slot, heap_obj);</div>
<div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;      <span class="keywordflow">return</span> HeapLayout::InWritableSharedSpace(heap_obj) ? <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a></div>
<div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;                                                         : <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    }</div>
<div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;  }</div>
<div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160; </div>
<div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;  <span class="keywordflow">if</span> (obj.GetHeapObjectIfStrong(&amp;heap_obj)) {</div>
<div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    UpdateSlot&lt;HeapObjectReferenceType::STRONG&gt;(cage_base, slot, heap_obj);</div>
<div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    <span class="keywordflow">return</span> HeapLayout::InWritableSharedSpace(heap_obj) ? <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a></div>
<div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;                                                       : <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;  }</div>
<div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160; </div>
<div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;}</div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160; </div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l04261"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51"> 4261</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, TSlot slot) {</div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;  <span class="keyword">typename</span> TSlot::TObject obj = slot.Relaxed_Load(cage_base);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_DIRECT_HANDLE</span></div>
<div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;  <span class="keywordflow">if</span> (obj.ptr() == <a class="code" href="namespacev8_1_1internal.html#a175c065c1245d42fdbd4a853993be670">kTaggedNullAddress</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="common_2globals_8h.html#ad1424123c0c7ea60e89475a70021d7ca">HAS_WEAK_HEAP_OBJECT_TAG</a>(obj.ptr()));</div>
<div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj;</div>
<div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;  <span class="keywordflow">if</span> (obj.GetHeapObject(&amp;heap_obj)) {</div>
<div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;    UpdateSlot&lt;HeapObjectReferenceType::STRONG&gt;(cage_base, slot, heap_obj);</div>
<div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;  }</div>
<div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;}</div>
<div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160; </div>
<div class="line"><a name="l04273"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ae2720d5d6d34c434f5882ea31fc87f83"> 4273</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759">SlotCallbackResult</a> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ae2720d5d6d34c434f5882ea31fc87f83">UpdateStrongOldToSharedSlot</a>(</div>
<div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">FullMaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;MaybeObject&gt;</a> obj = slot.<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a6172d3ff8e11b288be8036d08fda22c6">Relaxed_Load</a>(cage_base);</div>
<div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_DIRECT_HANDLE</span></div>
<div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;  <span class="keywordflow">if</span> (obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>() == <a class="code" href="namespacev8_1_1internal.html#a175c065c1245d42fdbd4a853993be670">kTaggedNullAddress</a>) <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="common_2globals_8h.html#ad1424123c0c7ea60e89475a70021d7ca">HAS_WEAK_HEAP_OBJECT_TAG</a>(obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()));</div>
<div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj;</div>
<div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;  <span class="keywordflow">if</span> (obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;heap_obj)) {</div>
<div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;    UpdateSlot&lt;HeapObjectReferenceType::STRONG&gt;(cage_base, slot, heap_obj);</div>
<div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    <span class="keywordflow">return</span> HeapLayout::InWritableSharedSpace(heap_obj) ? <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a></div>
<div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;                                                       : <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;  }</div>
<div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160; </div>
<div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">REMOVE_SLOT</a>;</div>
<div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;}</div>
<div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160; </div>
<div class="line"><a name="l04290"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#acbc305d5a53430007c4921879d25e45b"> 4290</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#acbc305d5a53430007c4921879d25e45b">UpdateStrongCodeSlot</a>(<a class="code" href="classv8_1_1internal_1_1IsolateForSandbox.html">IsolateForSandbox</a> isolate,</div>
<div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> code_cage_base,</div>
<div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot) {</div>
<div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> obj = slot.<a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html#a503f3174807124ef8c65227ffb37250d">Relaxed_Load</a>(code_cage_base);</div>
<div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!<a class="code" href="common_2globals_8h.html#ad1424123c0c7ea60e89475a70021d7ca">HAS_WEAK_HEAP_OBJECT_TAG</a>(obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()));</div>
<div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj;</div>
<div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;  <span class="keywordflow">if</span> (obj.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;heap_obj)) {</div>
<div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;    UpdateSlot&lt;HeapObjectReferenceType::STRONG&gt;(cage_base, slot, heap_obj);</div>
<div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160; </div>
<div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = Cast&lt;Code&gt;(HeapObject::FromAddress(</div>
<div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;        slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>() - Code::kInstructionStreamOffset));</div>
<div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> instruction_stream =</div>
<div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;        <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;instruction_stream(code_cage_base);</div>
<div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;    <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;UpdateInstructionStart(isolate, instruction_stream);</div>
<div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;  }</div>
<div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;}</div>
<div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160; </div>
<div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160; </div>
<div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;<span class="comment">// Visitor for updating root pointers and to-space pointers.</span></div>
<div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;<span class="comment">// It does not expect to encounter pointers to dead objects.</span></div>
<div class="line"><a name="l04312"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html"> 4312</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html">PointersUpdatingVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html">ObjectVisitorWithCageBases</a>,</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;                                      <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04315"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a84e6800ee618f900fbe6bad487fbbd28"> 4315</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a84e6800ee618f900fbe6bad487fbbd28">PointersUpdatingVisitor</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html">ObjectVisitorWithCageBases</a>(<a class="code" href="namespaceheap.html">heap</a>), isolate_(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate()) {}</div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160; </div>
<div class="line"><a name="l04318"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a4a0346342ff39c8666b3d04972702df2"> 4318</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a4a0346342ff39c8666b3d04972702df2">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;    UpdateStrongSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;  }</div>
<div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160; </div>
<div class="line"><a name="l04322"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#ad63aa0973a0317be3d6deb33a976a44f"> 4322</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#ad63aa0973a0317be3d6deb33a976a44f">VisitPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> p)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;    UpdateSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;  }</div>
<div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160; </div>
<div class="line"><a name="l04326"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#acacecfbf17f7c6cf823b7992872cbd4f"> 4326</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#acacecfbf17f7c6cf823b7992872cbd4f">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> start,</div>
<div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;      UpdateStrongSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;    }</div>
<div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;  }</div>
<div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160; </div>
<div class="line"><a name="l04333"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a9b8eb27114011280596923afdc49d3de"> 4333</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a9b8eb27114011280596923afdc49d3de">VisitPointers</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> host, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> start,</div>
<div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;                     <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;      UpdateSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;    }</div>
<div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;  }</div>
<div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160; </div>
<div class="line"><a name="l04340"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#ac90286a87b77730cf8d8ee0cb155e149"> 4340</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#ac90286a87b77730cf8d8ee0cb155e149">VisitInstructionStreamPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> host,</div>
<div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;                                     <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">InstructionStreamSlot</a> slot)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#acbc305d5a53430007c4921879d25e45b">UpdateStrongCodeSlot</a>(isolate_, cage_base(), code_cage_base(), slot);</div>
<div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;  }</div>
<div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160; </div>
<div class="line"><a name="l04345"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a12e0f73c507983e1b17ed0a714edf887"> 4345</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a12e0f73c507983e1b17ed0a714edf887">VisitRootPointer</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!MapWord::IsPacked(p.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a503f3174807124ef8c65227ffb37250d">Relaxed_Load</a>().<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">ptr</a>()));</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    UpdateRootSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;  }</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160; </div>
<div class="line"><a name="l04351"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a77cafef335dc1d5702c51cde718f0780"> 4351</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a77cafef335dc1d5702c51cde718f0780">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> start, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;      UpdateRootSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;    }</div>
<div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;  }</div>
<div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160; </div>
<div class="line"><a name="l04358"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#aba289854862505f857a7fc8b7de4d779"> 4358</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#aba289854862505f857a7fc8b7de4d779">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> start,</div>
<div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;      UpdateRootSlotInternal(cage_base(), p);</div>
<div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;    }</div>
<div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;  }</div>
<div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160; </div>
<div class="line"><a name="l04366"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a74df3d0eadfa92c64660d0832ae55d2f"> 4366</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a74df3d0eadfa92c64660d0832ae55d2f">VisitCodeTarget</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;                       <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;    <span class="comment">// This visitor nevers visits code objects.</span></div>
<div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;  }</div>
<div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160; </div>
<div class="line"><a name="l04372"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a5792ea7f59db9f6e5dc51a579a458abf"> 4372</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a5792ea7f59db9f6e5dc51a579a458abf">VisitEmbeddedPointer</a>(<a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;InstructionStream&gt;</a> host,</div>
<div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;                            <a class="code" href="classv8_1_1internal_1_1RelocInfo.html">RelocInfo</a>* rinfo)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;    <span class="comment">// This visitor nevers visits code objects.</span></div>
<div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a>();</div>
<div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;  }</div>
<div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160; </div>
<div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04379"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a9888588f42f46c236026a92b2f64f089"> 4379</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a9888588f42f46c236026a92b2f64f089">UpdateRootSlotInternal</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> slot) {</div>
<div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;  }</div>
<div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160; </div>
<div class="line"><a name="l04384"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a851da4ae786f1ca6715ad04fc4e1039d"> 4384</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a851da4ae786f1ca6715ad04fc4e1039d">UpdateRootSlotInternal</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;                                            <a class="code" href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">OffHeapObjectSlot</a> slot) {</div>
<div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;  }</div>
<div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160; </div>
<div class="line"><a name="l04389"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a1dafa8a90760e8d386453e4757487e50"> 4389</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a1dafa8a90760e8d386453e4757487e50">UpdateStrongMaybeObjectSlotInternal</a>(</div>
<div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;      <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base, <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;  }</div>
<div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160; </div>
<div class="line"><a name="l04394"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a68bad4fe60a488b395cf2af6d74095bc"> 4394</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a68bad4fe60a488b395cf2af6d74095bc">UpdateStrongSlotInternal</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;                                              <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> slot) {</div>
<div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;  }</div>
<div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160; </div>
<div class="line"><a name="l04399"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#af5b600bb560adda62b71bf57b495fbd5"> 4399</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#af5b600bb560adda62b71bf57b495fbd5">UpdateSlotInternal</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;                                        <a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;  }</div>
<div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160; </div>
<div class="line"><a name="l04404"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a63c9964020eaf1bb3aa2c4331bd99589"> 4404</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1IsolateForSandbox.html">IsolateForSandbox</a> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a63c9964020eaf1bb3aa2c4331bd99589">isolate_</a>;</div>
<div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;};</div>
<div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160; </div>
<div class="line"><a name="l04407"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal.html#a08ab6d4992ef16c0af0e8cecdd074f84"> 4407</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a08ab6d4992ef16c0af0e8cecdd074f84">UpdateReferenceInExternalStringTableEntry</a>(</div>
<div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p) {</div>
<div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> old_string = Cast&lt;HeapObject&gt;(*p);</div>
<div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MapWord.html">MapWord</a> map_word = old_string-&gt;map_word(<a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>);</div>
<div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160; </div>
<div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;  <span class="keywordflow">if</span> (map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#a9dca2a41d176b2abbd067e956796a439">IsForwardingAddress</a>()) {</div>
<div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;String&gt;</a> new_string =</div>
<div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;        Cast&lt;String&gt;(map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#af98460db3cf5e0731cdd50d22b7e4c27">ToForwardingAddress</a>(old_string));</div>
<div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160; </div>
<div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">IsExternalString</a>(new_string)) {</div>
<div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;      MutablePageMetadata::MoveExternalBackingStoreBytes(</div>
<div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;          ExternalBackingStoreType::kExternalString,</div>
<div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;          PageMetadata::FromAddress((*p).ptr()),</div>
<div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;          PageMetadata::FromHeapObject(new_string),</div>
<div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;          Cast&lt;ExternalString&gt;(new_string)-&gt;ExternalPayloadSize());</div>
<div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;    }</div>
<div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    <span class="keywordflow">return</span> new_string;</div>
<div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;  }</div>
<div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160; </div>
<div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;  <span class="keywordflow">return</span> Cast&lt;String&gt;(*p);</div>
<div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;}</div>
<div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160; </div>
<div class="line"><a name="l04429"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#af5937c57f10e0293505055fc348ddde5"> 4429</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::EvacuatePrologue() {</div>
<div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;  <span class="comment">// New space.</span></div>
<div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1NewSpace.html">NewSpace</a>* new_space = heap_-&gt;new_space()) {</div>
<div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(new_space_evacuation_pages_.empty());</div>
<div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;    std::copy_if(new_space-&gt;begin(), new_space-&gt;end(),</div>
<div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;                 std::back_inserter(new_space_evacuation_pages_),</div>
<div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;                 [](<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p) { return p-&gt;live_bytes() &gt; 0; });</div>
<div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms) {</div>
<div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;      SemiSpaceNewSpace::From(new_space)-&gt;SwapSemiSpaces();</div>
<div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;    }</div>
<div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;  }</div>
<div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160; </div>
<div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;  <span class="comment">// Large new space.</span></div>
<div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1internal_1_1NewLargeObjectSpace.html">NewLargeObjectSpace</a>* new_lo_space = heap_-&gt;new_lo_space()) {</div>
<div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;    new_lo_space-&gt;Flip();</div>
<div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;    new_lo_space-&gt;ResetPendingObject();</div>
<div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;  }</div>
<div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160; </div>
<div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;  <span class="comment">// Old space.</span></div>
<div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(old_space_evacuation_pages_.empty());</div>
<div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;  old_space_evacuation_pages_ = std::move(evacuation_candidates_);</div>
<div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;  evacuation_candidates_.clear();</div>
<div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(evacuation_candidates_.empty());</div>
<div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;}</div>
<div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160; </div>
<div class="line"><a name="l04454"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa457554fa770421e38516be33c3cd201"> 4454</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::EvacuateEpilogue() {</div>
<div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;  aborted_evacuation_candidates_due_to_oom_.clear();</div>
<div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;  aborted_evacuation_candidates_due_to_flags_.clear();</div>
<div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160; </div>
<div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;  <span class="comment">// New space.</span></div>
<div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;new_space()) {</div>
<div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, heap_-&gt;new_space()-&gt;Size());</div>
<div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;  }</div>
<div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160; </div>
<div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;  <span class="comment">// Old generation. Deallocate evacuated candidate pages.</span></div>
<div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;  ReleaseEvacuationCandidates();</div>
<div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160; </div>
<div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;  VerifyRememberedSetsAfterEvacuation(heap_, GarbageCollector::MARK_COMPACTOR);</div>
<div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;}</div>
<div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160; </div>
<div class="line"><a name="l04471"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html"> 4471</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1Evacuator.html">Evacuator</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1Malloced.html">Malloced</a> {</div>
<div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04473"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383ef"> 4473</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383ef">EvacuationMode</a> {</div>
<div class="line"><a name="l04474"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efa2fd8847afdb04aa160bc337c6e64f70e"> 4474</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efa2fd8847afdb04aa160bc337c6e64f70e">kObjectsNewToOld</a>,</div>
<div class="line"><a name="l04475"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efa315982c5c79641380ac25c95ecbcd594"> 4475</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efa315982c5c79641380ac25c95ecbcd594">kPageNewToOld</a>,</div>
<div class="line"><a name="l04476"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efacbcde51e3034957abd95f58cc8cd3a02"> 4476</a></span>&#160;    <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efacbcde51e3034957abd95f58cc8cd3a02">kObjectsOldToOld</a>,</div>
<div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;  };</div>
<div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160; </div>
<div class="line"><a name="l04479"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ac1fbf76f4a209acebb1d9b905dc7d311"> 4479</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1internal_1_1Evacuator.html#ac1fbf76f4a209acebb1d9b905dc7d311">EvacuationModeName</a>(<a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383ef">EvacuationMode</a> <a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a>) {</div>
<div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;      <span class="keywordflow">case</span> kObjectsNewToOld:</div>
<div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;objects-new-to-old&quot;</span>;</div>
<div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;      <span class="keywordflow">case</span> kPageNewToOld:</div>
<div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;page-new-to-old&quot;</span>;</div>
<div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;      <span class="keywordflow">case</span> kObjectsOldToOld:</div>
<div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;objects-old-to-old&quot;</span>;</div>
<div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;    }</div>
<div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;  }</div>
<div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160; </div>
<div class="line"><a name="l04490"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a6ac2dddaa2b1b1ddb1a576575595016c"> 4490</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383ef">EvacuationMode</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a6ac2dddaa2b1b1ddb1a576575595016c">ComputeEvacuationMode</a>(<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk) {</div>
<div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    <span class="comment">// Note: The order of checks is important in this function.</span></div>
<div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::PAGE_NEW_OLD_PROMOTION))</div>
<div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;      <span class="keywordflow">return</span> kPageNewToOld;</div>
<div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a4d00dabb4e29bfdd7d683ce953be2289">InYoungGeneration</a>()) <span class="keywordflow">return</span> kObjectsNewToOld;</div>
<div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;    <span class="keywordflow">return</span> kObjectsOldToOld;</div>
<div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;  }</div>
<div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160; </div>
<div class="line"><a name="l04498"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a55485870c03a2aa636ec73c893c3cb85"> 4498</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a55485870c03a2aa636ec73c893c3cb85">Evacuator</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>)</div>
<div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;      : heap_(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;        local_pretenuring_feedback_(</div>
<div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;            <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html">PretenuringHandler</a>::kInitialFeedbackCapacity),</div>
<div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;        local_allocator_(heap_,</div>
<div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;                         <a class="code" href="namespacev8_1_1internal.html#a5ae38dc7ddb420b6d0f8cd6b3ede93c0">CompactionSpaceKind</a>::<a class="code" href="namespacev8_1_1internal.html#a5ae38dc7ddb420b6d0f8cd6b3ede93c0ad1c03161d710554d14dab31167da863d">kCompactionSpaceForMarkCompact</a>),</div>
<div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;        record_visitor_(heap_),</div>
<div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;        new_space_visitor_(heap_, &amp;local_allocator_, &amp;record_visitor_,</div>
<div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;                           &amp;local_pretenuring_feedback_),</div>
<div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;        new_to_old_page_visitor_(heap_, &amp;record_visitor_,</div>
<div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;                                 &amp;local_pretenuring_feedback_),</div>
<div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160; </div>
<div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;        old_space_visitor_(heap_, &amp;local_allocator_, &amp;record_visitor_),</div>
<div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;        duration_(0.0),</div>
<div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;        bytes_compacted_(0) {}</div>
<div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160; </div>
<div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;  <span class="keywordtype">void</span> EvacuatePage(<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk);</div>
<div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160; </div>
<div class="line"><a name="l04516"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#aff74cdcc3d9b14d81a3a023f13e403f1"> 4516</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#aff74cdcc3d9b14d81a3a023f13e403f1">AddObserver</a>(<a class="code" href="classv8_1_1internal_1_1MigrationObserver.html">MigrationObserver</a>* observer) {</div>
<div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;    new_space_visitor_.AddObserver(observer);</div>
<div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;    old_space_visitor_.AddObserver(observer);</div>
<div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;  }</div>
<div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160; </div>
<div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;  <span class="comment">// Merge back locally cached info sequentially. Note that this method needs</span></div>
<div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;  <span class="comment">// to be called from the main thread.</span></div>
<div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;  <span class="keywordtype">void</span> Finalize();</div>
<div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160; </div>
<div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;  <span class="comment">// |saved_live_bytes| returns the live bytes of the page that was processed.</span></div>
<div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;  <span class="keywordtype">bool</span> RawEvacuatePage(<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk);</div>
<div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160; </div>
<div class="line"><a name="l04529"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a49f82f5ab43f4a9644a4b74aa0494085"> 4529</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a49f82f5ab43f4a9644a4b74aa0494085">heap</a>() { <span class="keywordflow">return</span> heap_; }</div>
<div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160; </div>
<div class="line"><a name="l04531"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ace3364584e04bb959c0969999c820b7f"> 4531</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#ace3364584e04bb959c0969999c820b7f">ReportCompactionProgress</a>(<span class="keywordtype">double</span> <a class="code" href="namespacev8_1_1internal.html#aae0d674c07aba6028b4ee683cb1e760d">duration</a>, intptr_t bytes_compacted) {</div>
<div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;    duration_ += <a class="code" href="namespacev8_1_1internal.html#aae0d674c07aba6028b4ee683cb1e760d">duration</a>;</div>
<div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;    bytes_compacted_ += bytes_compacted;</div>
<div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;  }</div>
<div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160; </div>
<div class="line"><a name="l04536"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ab742b02acfc2907cbcb8345cf302094c"> 4536</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1Evacuator.html#ab742b02acfc2907cbcb8345cf302094c">heap_</a>;</div>
<div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160; </div>
<div class="line"><a name="l04538"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a075d41cc74c8cec162ba1bc7872148a4"> 4538</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PretenuringHandler.html#af4636a79d24b9944a5f2a8c4b5c7fdcb">PretenuringHandler::PretenuringFeedbackMap</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a075d41cc74c8cec162ba1bc7872148a4">local_pretenuring_feedback_</a>;</div>
<div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160; </div>
<div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;  <span class="comment">// Locally cached collector data.</span></div>
<div class="line"><a name="l04541"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#af16c91022ee8813d5139f89bab2f0e6a"> 4541</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuationAllocator.html">EvacuationAllocator</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#af16c91022ee8813d5139f89bab2f0e6a">local_allocator_</a>;</div>
<div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160; </div>
<div class="line"><a name="l04543"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ade99e8f2ecade0357423eb916543e635"> 4543</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">RecordMigratedSlotVisitor</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#ade99e8f2ecade0357423eb916543e635">record_visitor_</a>;</div>
<div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160; </div>
<div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;  <span class="comment">// Visitors for the corresponding spaces.</span></div>
<div class="line"><a name="l04546"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#aaf0b310376fca6d434f0f86665f54cc3"> 4546</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html">EvacuateNewSpaceVisitor</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#aaf0b310376fca6d434f0f86665f54cc3">new_space_visitor_</a>;</div>
<div class="line"><a name="l04547"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ae08b5048adc559aebb594250454e6b6b"> 4547</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html">EvacuateNewToOldSpacePageVisitor</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#ae08b5048adc559aebb594250454e6b6b">new_to_old_page_visitor_</a>;</div>
<div class="line"><a name="l04548"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a637b8c1d84de69d52244d7936307cf39"> 4548</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html">EvacuateOldSpaceVisitor</a> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a637b8c1d84de69d52244d7936307cf39">old_space_visitor_</a>;</div>
<div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160; </div>
<div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;  <span class="comment">// Book keeping info.</span></div>
<div class="line"><a name="l04551"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a7e7e6db642a2a69847319b2b0107634d"> 4551</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a7e7e6db642a2a69847319b2b0107634d">duration_</a>;</div>
<div class="line"><a name="l04552"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a8cd5f5f0a98465d866842dcff1c47f47"> 4552</a></span>&#160;  intptr_t <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a8cd5f5f0a98465d866842dcff1c47f47">bytes_compacted_</a>;</div>
<div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;};</div>
<div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160; </div>
<div class="line"><a name="l04555"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ad509768172b792b199449fb4f3c26b32"> 4555</a></span>&#160;<span class="keywordtype">void</span> Evacuator::EvacuatePage(<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page) {</div>
<div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>), <span class="stringliteral">&quot;Evacuator::EvacuatePage&quot;</span>);</div>
<div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a9d7e9f4513ced2b857cd305de14df9a2">SweepingDone</a>());</div>
<div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;  intptr_t saved_live_bytes = page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">live_bytes</a>();</div>
<div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;  <span class="keywordtype">double</span> evacuation_time = 0.0;</div>
<div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;  {</div>
<div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;    <a class="code" href="classv8_1_1internal_1_1TimedScope.html">TimedScope</a> timed_scope(&amp;evacuation_time);</div>
<div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    success = RawEvacuatePage(page);</div>
<div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;  }</div>
<div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;  ReportCompactionProgress(evacuation_time, saved_live_bytes);</div>
<div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_evacuation) {</div>
<div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>();</div>
<div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(heap_-&gt;isolate(),</div>
<div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;                 <span class="stringliteral">&quot;evacuation[%p]: page=%p new_space=%d &quot;</span></div>
<div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;                 <span class="stringliteral">&quot;page_evacuation=%d executable=%d can_promote=%d &quot;</span></div>
<div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;                 <span class="stringliteral">&quot;live_bytes=%&quot;</span> <a class="code" href="src_2base_2macros_8h.html#a5647046a5349ec401aa3ae0c65a1b755">V8PRIdPTR</a> <span class="stringliteral">&quot; time=%f success=%d\n&quot;</span>,</div>
<div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;                 <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>), <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(page),</div>
<div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;                 chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#afaf7fe0fa08ae9f3b0c0d2e16b41b0a8">InNewSpace</a>(),</div>
<div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;                 chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::PAGE_NEW_OLD_PROMOTION),</div>
<div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;                 chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::IS_EXECUTABLE),</div>
<div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;                 heap_-&gt;new_space()-&gt;IsPromotionCandidate(page),</div>
<div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;                 saved_live_bytes, evacuation_time, success);</div>
<div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;  }</div>
<div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;}</div>
<div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160; </div>
<div class="line"><a name="l04581"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#ac796527afb0f320c5fcdbabb255f741b"> 4581</a></span>&#160;<span class="keywordtype">void</span> Evacuator::Finalize() {</div>
<div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;  local_allocator_.Finalize();</div>
<div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;  heap_-&gt;tracer()-&gt;AddCompactionEvent(duration_, bytes_compacted_);</div>
<div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;  heap_-&gt;IncrementPromotedObjectsSize(new_space_visitor_.promoted_size() +</div>
<div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;                                      new_to_old_page_visitor_.moved_bytes());</div>
<div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;  heap_-&gt;IncrementYoungSurvivorsCounter(</div>
<div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;      new_space_visitor_.promoted_size() +</div>
<div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;      new_to_old_page_visitor_.moved_bytes());</div>
<div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;  heap_-&gt;pretenuring_handler()-&gt;MergeAllocationSitePretenuringFeedback(</div>
<div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;      local_pretenuring_feedback_);</div>
<div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;}</div>
<div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160; </div>
<div class="line"><a name="l04593"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1LiveObjectVisitor.html"> 4593</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1LiveObjectVisitor.html">LiveObjectVisitor</a> final : <a class="code" href="classv8_1_1internal_1_1AllStatic.html">AllStatic</a> {</div>
<div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;  <span class="comment">// Visits marked objects using `bool Visitor::Visit(HeapObject object, size_t</span></div>
<div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;  <span class="comment">// size)` as long as the return value is true.</span></div>
<div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;  <span class="comment">// Returns whether all objects were successfully visited. Upon returning</span></div>
<div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;  <span class="comment">// false, also sets `failed_object` to the object for which the visitor</span></div>
<div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;  <span class="comment">// returned false.</span></div>
<div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> Visitor&gt;</div>
<div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> VisitMarkedObjects(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page, Visitor* visitor,</div>
<div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;                                 <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>* failed_object);</div>
<div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160; </div>
<div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;  <span class="comment">// Visits marked objects using `bool Visitor::Visit(HeapObject object, size_t</span></div>
<div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;  <span class="comment">// size)` as long as the return value is true. Assumes that the return value</span></div>
<div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;  <span class="comment">// is always true (success).</span></div>
<div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> Visitor&gt;</div>
<div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> VisitMarkedObjectsNoFail(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page, Visitor* visitor);</div>
<div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;};</div>
<div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160; </div>
<div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Visitor&gt;</div>
<div class="line"><a name="l04613"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1LiveObjectVisitor.html#af33fd16cb03289321bf3dfc2544081f5"> 4613</a></span>&#160;<span class="keywordtype">bool</span> LiveObjectVisitor::VisitMarkedObjects(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page, Visitor* visitor,</div>
<div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;                                           <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a>* failed_object) {</div>
<div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>),</div>
<div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;               <span class="stringliteral">&quot;LiveObjectVisitor::VisitMarkedObjects&quot;</span>);</div>
<div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>] : <a class="code" href="classv8_1_1internal_1_1LiveObjectRange.html">LiveObjectRange</a>(page)) {</div>
<div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;    <span class="keywordflow">if</span> (!visitor-&gt;Visit(<span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>)) {</div>
<div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;      *failed_object = object;</div>
<div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    }</div>
<div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;  }</div>
<div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;}</div>
<div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160; </div>
<div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> Visitor&gt;</div>
<div class="line"><a name="l04627"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1LiveObjectVisitor.html#a30652cf8fa7b9291465658208a3ab588"> 4627</a></span>&#160;<span class="keywordtype">void</span> LiveObjectVisitor::VisitMarkedObjectsNoFail(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page,</div>
<div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;                                                 Visitor* visitor) {</div>
<div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>),</div>
<div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;               <span class="stringliteral">&quot;LiveObjectVisitor::VisitMarkedObjectsNoFail&quot;</span>);</div>
<div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> [<span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>] : <a class="code" href="classv8_1_1internal_1_1LiveObjectRange.html">LiveObjectRange</a>(page)) {</div>
<div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> success = visitor-&gt;Visit(<span class="keywordtype">object</span>, <a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>);</div>
<div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;    <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(success);</div>
<div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(success);</div>
<div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;  }</div>
<div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;}</div>
<div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160; </div>
<div class="line"><a name="l04638"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1Evacuator.html#a861e761fc6f12818481babc49ba4db31"> 4638</a></span>&#160;<span class="keywordtype">bool</span> Evacuator::RawEvacuatePage(<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page) {</div>
<div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>();</div>
<div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;  <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383ef">EvacuationMode</a> evacuation_mode = ComputeEvacuationMode(chunk);</div>
<div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;  <a class="code" href="trace-event-no-perfetto_8h.html#a58927f99d797f77024561f336303380c">TRACE_EVENT2</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>),</div>
<div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;               <span class="stringliteral">&quot;FullEvacuator::RawEvacuatePage&quot;</span>, <span class="stringliteral">&quot;evacuation_mode&quot;</span>,</div>
<div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;               EvacuationModeName(evacuation_mode), <span class="stringliteral">&quot;live_bytes&quot;</span>,</div>
<div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;               page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">live_bytes</a>());</div>
<div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;  <span class="keywordflow">switch</span> (evacuation_mode) {</div>
<div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    <span class="keywordflow">case</span> kObjectsNewToOld:</div>
<div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;      new_space_visitor_.DisableAbortEvacuationAtAddress(page);</div>
<div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;      LiveObjectVisitor::VisitMarkedObjectsNoFail(PageMetadata::cast(page),</div>
<div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;                                                  &amp;new_space_visitor_);</div>
<div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;      page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a5eb6ae43868b6e96fe84c3cda0b54b41">ClearLiveness</a>();</div>
<div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;    <span class="keywordflow">case</span> kPageNewToOld:</div>
<div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;      <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af9fbfead34700f0653b0dfe65bf5d473">IsLargePage</a>()) {</div>
<div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;        <span class="keyword">auto</span> <span class="keywordtype">object</span> = LargePageMetadata::cast(page)-&gt;GetObject();</div>
<div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;        <span class="keywordtype">bool</span> success = new_to_old_page_visitor_.Visit(<span class="keywordtype">object</span>, object-&gt;Size());</div>
<div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;        <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(success);</div>
<div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(success);</div>
<div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;        LiveObjectVisitor::VisitMarkedObjectsNoFail(PageMetadata::cast(page),</div>
<div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;                                                    &amp;new_to_old_page_visitor_);</div>
<div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;      }</div>
<div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;      new_to_old_page_visitor_.account_moved_bytes(page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">live_bytes</a>());</div>
<div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    <span class="keywordflow">case</span> kObjectsOldToOld: {</div>
<div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;      old_space_visitor_.SetUpAbortEvacuationAtAddress(page);</div>
<div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> failed_object;</div>
<div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;      <span class="keywordflow">if</span> (LiveObjectVisitor::VisitMarkedObjects(</div>
<div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;              PageMetadata::cast(page), &amp;old_space_visitor_, &amp;failed_object)) {</div>
<div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;        page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a5eb6ae43868b6e96fe84c3cda0b54b41">ClearLiveness</a>();</div>
<div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;        <span class="comment">// Aborted compaction page. Actual processing happens on the main</span></div>
<div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;        <span class="comment">// thread for simplicity reasons.</span></div>
<div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;        heap_-&gt;mark_compact_collector()</div>
<div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;            -&gt;ReportAbortedEvacuationCandidateDueToOOM(</div>
<div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;                failed_object.<a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">address</a>(), <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>*<span class="keyword">&gt;</span>(page));</div>
<div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;      }</div>
<div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    }</div>
<div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;  }</div>
<div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160; </div>
<div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;}</div>
<div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160; </div>
<div class="line"><a name="l04689"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html"> 4689</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html">PageEvacuationJob</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1JobTask.html">v8::JobTask</a> {</div>
<div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04691"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a1a7442d382a0af5986098026327237d0"> 4691</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#a1a7442d382a0af5986098026327237d0">PageEvacuationJob</a>(</div>
<div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector,</div>
<div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;      std::vector&lt;std::unique_ptr&lt;Evacuator&gt;&gt;* evacuators,</div>
<div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;      std::vector&lt;std::pair&lt;ParallelWorkItem, MutablePageMetadata*&gt;&gt;</div>
<div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;          evacuation_items)</div>
<div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;      : collector_(collector),</div>
<div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;        evacuators_(evacuators),</div>
<div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;        evacuation_items_(std::move(evacuation_items)),</div>
<div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;        remaining_evacuation_items_(evacuation_items_.<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>()),</div>
<div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;        generator_(evacuation_items_.<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>()),</div>
<div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;        tracer_(isolate-&gt;<a class="code" href="namespaceheap.html">heap</a>()-&gt;tracer()),</div>
<div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;        trace_id_(reinterpret_cast&lt;uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>) ^</div>
<div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;                  tracer_-&gt;CurrentEpoch(<a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>::<a class="code" href="classv8_1_1internal_1_1Scope.html">Scope</a>::MC_EVACUATE)) {}</div>
<div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160; </div>
<div class="line"><a name="l04705"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#ab708e50f29b82e26827fe0da974196e7"> 4705</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#ab708e50f29b82e26827fe0da974196e7">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;    <span class="comment">// Set the current isolate such that trusted pointer tables etc are</span></div>
<div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;    <span class="comment">// available and the cage base is set correctly for multi-cage mode.</span></div>
<div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">SetCurrentIsolateScope</a> isolate_scope(collector_-&gt;heap()-&gt;isolate());</div>
<div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160; </div>
<div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Evacuator.html">Evacuator</a>* evacuator = (*evacuators_)[delegate-&gt;<a class="code" href="classv8_1_1JobDelegate.html#aeaea259d5f4fec4aaca6f9fc35126fda">GetTaskId</a>()].get();</div>
<div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;    <span class="keywordflow">if</span> (delegate-&gt;<a class="code" href="classv8_1_1JobDelegate.html#a93be293521d70bd38d5c69d35b1df790">IsJoiningThread</a>()) {</div>
<div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;      <a class="code" href="gc-tracer_8h.html#a4b6fc205b8b8bbe4275672c2a66c5b94">TRACE_GC_WITH_FLOW</a>(tracer_, GCTracer::Scope::MC_EVACUATE_COPY_PARALLEL,</div>
<div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;                         trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;      ProcessItems(delegate, evacuator);</div>
<div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;      <a class="code" href="gc-tracer_8h.html#a44d6debe5f608aa9654172245625ef38">TRACE_GC_EPOCH_WITH_FLOW</a>(</div>
<div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;          tracer_, GCTracer::Scope::MC_BACKGROUND_EVACUATE_COPY,</div>
<div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;          ThreadKind::kBackground, trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;      ProcessItems(delegate, evacuator);</div>
<div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;    }</div>
<div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;  }</div>
<div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160; </div>
<div class="line"><a name="l04723"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a80267f74c0711aa95b67ee3013612073"> 4723</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#a80267f74c0711aa95b67ee3013612073">ProcessItems</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate, <a class="code" href="classv8_1_1internal_1_1Evacuator.html">Evacuator</a>* evacuator) {</div>
<div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <span class="keywordflow">while</span> (remaining_evacuation_items_.load(std::memory_order_relaxed) &gt; 0) {</div>
<div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;      std::optional&lt;size_t&gt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = generator_.GetNext();</div>
<div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = *<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; evacuation_items_.size(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;        <span class="keyword">auto</span>&amp; work_item = evacuation_items_[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;        <span class="keywordflow">if</span> (!work_item.first.TryAcquire()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;        evacuator-&gt;<a class="code" href="classv8_1_1internal_1_1Evacuator.html#ad509768172b792b199449fb4f3c26b32">EvacuatePage</a>(work_item.second);</div>
<div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;        <span class="keywordflow">if</span> (remaining_evacuation_items_.fetch_sub(</div>
<div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;                1, std::memory_order_relaxed) &lt;= 1) {</div>
<div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;        }</div>
<div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;      }</div>
<div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;    }</div>
<div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;  }</div>
<div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160; </div>
<div class="line"><a name="l04739"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a5a339abfedcef84952b058b058769ecc"> 4739</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#a5a339abfedcef84952b058b058769ecc">GetMaxConcurrency</a>(<span class="keywordtype">size_t</span> worker_count)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> kItemsPerWorker = std::max(1, <a class="code" href="flag-definitions_8h.html#a67f6e75911a1c9e16076ff4db599e681">MB</a> / <a class="code" href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">PageMetadata::kPageSize</a>);</div>
<div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;    <span class="comment">// Ceiling division to ensure enough workers for all</span></div>
<div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;    <span class="comment">// |remaining_evacuation_items_|</span></div>
<div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="keywordtype">size_t</span> wanted_num_workers =</div>
<div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;        (remaining_evacuation_items_.load(std::memory_order_relaxed) +</div>
<div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;         kItemsPerWorker - 1) /</div>
<div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;        kItemsPerWorker;</div>
<div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    wanted_num_workers =</div>
<div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        std::min&lt;size_t&gt;(wanted_num_workers, evacuators_-&gt;size());</div>
<div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;    <span class="keywordflow">if</span> (!collector_-&gt;UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;      <span class="keywordflow">return</span> std::min&lt;size_t&gt;(wanted_num_workers, 1);</div>
<div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;    }</div>
<div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;    <span class="keywordflow">return</span> wanted_num_workers;</div>
<div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;  }</div>
<div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160; </div>
<div class="line"><a name="l04755"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#ac21b3f891aa6c7d3af83aea5b6046194"> 4755</a></span>&#160;  uint64_t <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#ac21b3f891aa6c7d3af83aea5b6046194">trace_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> trace_id_; }</div>
<div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160; </div>
<div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04758"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#aa15bdf2dc48de10e1bd830c603a19380"> 4758</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#aa15bdf2dc48de10e1bd830c603a19380">collector_</a>;</div>
<div class="line"><a name="l04759"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#ac5abac82ad199acdb73676f7233a2b59"> 4759</a></span>&#160;  std::vector&lt;std::unique_ptr&lt;Evacuator&gt;&gt;* <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#ac5abac82ad199acdb73676f7233a2b59">evacuators_</a>;</div>
<div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;  std::vector&lt;std::pair&lt;ParallelWorkItem, MutablePageMetadata*&gt;&gt;</div>
<div class="line"><a name="l04761"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a84c4754966a3ef230e33087577545a1b"> 4761</a></span>&#160;      <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#a84c4754966a3ef230e33087577545a1b">evacuation_items_</a>;</div>
<div class="line"><a name="l04762"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a87ea82e3b487b982d8a3e3d243e87192"> 4762</a></span>&#160;  std::atomic&lt;size_t&gt; remaining_evacuation_items_{0};</div>
<div class="line"><a name="l04763"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a2f8133773fa510bee99ff3c22130925e"> 4763</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1IndexGenerator.html">IndexGenerator</a> <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#a2f8133773fa510bee99ff3c22130925e">generator_</a>;</div>
<div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160; </div>
<div class="line"><a name="l04765"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#ae1b5bf1eb1007603212a20cb77c221ed"> 4765</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>* <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#ae1b5bf1eb1007603212a20cb77c221ed">tracer_</a>;</div>
<div class="line"><a name="l04766"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PageEvacuationJob.html#a5a21ba8e767715e596e291060905280a"> 4766</a></span>&#160;  <span class="keyword">const</span> uint64_t <a class="code" href="classv8_1_1internal_1_1PageEvacuationJob.html#a5a21ba8e767715e596e291060905280a">trace_id_</a>;</div>
<div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;};</div>
<div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160; </div>
<div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l04770"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#aea90dbf5b664542f92e8f0e7a13cfc01"> 4770</a></span>&#160;<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#aea90dbf5b664542f92e8f0e7a13cfc01">CreateAndExecuteEvacuationTasks</a>(</div>
<div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector,</div>
<div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    std::vector&lt;std::pair&lt;ParallelWorkItem, MutablePageMetadata*&gt;&gt;</div>
<div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;        evacuation_items) {</div>
<div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;  std::optional&lt;ProfilingMigrationObserver&gt; profiling_observer;</div>
<div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate()-&gt;log_object_relocation()) {</div>
<div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    profiling_observer.emplace(<a class="code" href="namespaceheap.html">heap</a>);</div>
<div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;  }</div>
<div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;  std::vector&lt;std::unique_ptr&lt;v8::internal::Evacuator&gt;&gt; evacuators;</div>
<div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> wanted_num_tasks = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ac96697cb73132b17cc8b6641fefb9b06">NumberOfParallelCompactionTasks</a>(<a class="code" href="namespaceheap.html">heap</a>);</div>
<div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; wanted_num_tasks; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;    <span class="keyword">auto</span> evacuator = std::make_unique&lt;Evacuator&gt;(<a class="code" href="namespaceheap.html">heap</a>);</div>
<div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;    <span class="keywordflow">if</span> (profiling_observer) {</div>
<div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;      evacuator-&gt;AddObserver(&amp;profiling_observer.value());</div>
<div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;    }</div>
<div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;    evacuators.push_back(std::move(evacuator));</div>
<div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;  }</div>
<div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;  <span class="keyword">auto</span> page_evacuation_job = std::make_unique&lt;PageEvacuationJob&gt;(</div>
<div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;      <a class="code" href="namespaceheap.html">heap</a>-&gt;isolate(), collector, &amp;evacuators, std::move(evacuation_items));</div>
<div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;  <a class="code" href="gc-tracer_8h.html#a17375713518e1833362b491ef9c163cc">TRACE_GC_NOTE_WITH_FLOW</a>(<span class="stringliteral">&quot;PageEvacuationJob started&quot;</span>,</div>
<div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;                          page_evacuation_job-&gt;trace_id(),</div>
<div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;                          <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;  <a class="code" href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">V8::GetCurrentPlatform</a>()</div>
<div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;      -&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">v8::TaskPriority::kUserBlocking</a>,</div>
<div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;                  std::move(page_evacuation_job))</div>
<div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;      -&gt;Join();</div>
<div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; evacuator : evacuators) {</div>
<div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;    evacuator-&gt;Finalize();</div>
<div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;  }</div>
<div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;  <span class="keywordflow">return</span> wanted_num_tasks;</div>
<div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;}</div>
<div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160; </div>
<div class="line"><a name="l04802"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55cce"> 4802</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55cce">MemoryReductionMode</a> { <a class="code" href="namespacev8_1_1internal.html#a78927f326840d25333ed7aeb3782fbeea35c3ace1970663a16e5c65baa5941b13">kNone</a>, <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55ccea2188fdd3c75318ecfec29810d5dde987">kShouldReduceMemory</a> };</div>
<div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160; </div>
<div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;<span class="comment">// NewSpacePages with more live bytes than this threshold qualify for fast</span></div>
<div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;<span class="comment">// evacuation.</span></div>
<div class="line"><a name="l04806"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1987eb4410159651be62f2c754440a26"> 4806</a></span>&#160;intptr_t <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1987eb4410159651be62f2c754440a26">NewSpacePageEvacuationThreshold</a>() {</div>
<div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.page_promotion_threshold *</div>
<div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;         MemoryChunkLayout::AllocatableMemoryInDataPage() / 100;</div>
<div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;}</div>
<div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160; </div>
<div class="line"><a name="l04811"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1c549e86327fe563e6aeb70af865fb4c"> 4811</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1c549e86327fe563e6aeb70af865fb4c">ShouldMovePage</a>(<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p, intptr_t live_bytes,</div>
<div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;                    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55cce">MemoryReductionMode</a> memory_reduction_mode) {</div>
<div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a> = p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#ae6359cac53a62c06486ec030fa37bc28">heap</a>();</div>
<div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a72bc65caf0c47dc3a85f4535359b8ac1">NeverEvacuate</a>());</div>
<div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> should_move_page =</div>
<div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.page_promotion &amp;&amp;</div>
<div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;      (memory_reduction_mode == MemoryReductionMode::kNone) &amp;&amp;</div>
<div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;      (live_bytes &gt; <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1987eb4410159651be62f2c754440a26">NewSpacePageEvacuationThreshold</a>()) &amp;&amp;</div>
<div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;      <a class="code" href="namespaceheap.html">heap</a>-&gt;CanExpandOldGeneration(live_bytes);</div>
<div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_page_promotions) {</div>
<div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate(),</div>
<div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;                 <span class="stringliteral">&quot;[Page Promotion] %p: collector=mc, should move: %d&quot;</span></div>
<div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;                 <span class="stringliteral">&quot;, live bytes = %zu, promotion threshold = %zu&quot;</span></div>
<div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;                 <span class="stringliteral">&quot;, allocated labs size = %zu\n&quot;</span>,</div>
<div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;                 p, should_move_page, live_bytes,</div>
<div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;                 <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1987eb4410159651be62f2c754440a26">NewSpacePageEvacuationThreshold</a>(), p-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a870163f47edbcad4537a73cda5f87c1b">AllocatedLabSize</a>());</div>
<div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;  }</div>
<div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;  <span class="keywordflow">return</span> should_move_page;</div>
<div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;}</div>
<div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160; </div>
<div class="line"><a name="l04831"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8401873f434983f85f97f0b3ded61cd9"> 4831</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8401873f434983f85f97f0b3ded61cd9">TraceEvacuation</a>(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">size_t</span> pages_count,</div>
<div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;                     <span class="keywordtype">size_t</span> wanted_num_tasks, <span class="keywordtype">size_t</span> live_bytes,</div>
<div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;                     <span class="keywordtype">size_t</span> aborted_pages) {</div>
<div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_evacuation);</div>
<div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(isolate,</div>
<div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;               <span class="stringliteral">&quot;%8.0f ms: evacuation-summary: parallel=%s pages=%zu &quot;</span></div>
<div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;               <span class="stringliteral">&quot;wanted_tasks=%zu cores=%d live_bytes=%&quot;</span> <a class="code" href="src_2base_2macros_8h.html#a5647046a5349ec401aa3ae0c65a1b755">V8PRIdPTR</a></div>
<div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;               <span class="stringliteral">&quot; compaction_speed=%.f aborted=%zu\n&quot;</span>,</div>
<div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;               isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#abf4fe53088de0af3d7d8e02b7782fea1">time_millis_since_init</a>(),</div>
<div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;               <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_compaction ? <span class="stringliteral">&quot;yes&quot;</span> : <span class="stringliteral">&quot;no&quot;</span>, pages_count,</div>
<div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;               wanted_num_tasks,</div>
<div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;               <a class="code" href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">V8::GetCurrentPlatform</a>()-&gt;<a class="code" href="classv8_1_1Platform.html#a57cdd7eb4c482bfb806c378beeda716d">NumberOfWorkerThreads</a>() + 1,</div>
<div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;               live_bytes,</div>
<div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;               isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()</div>
<div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;                   -&gt;<a class="code" href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">tracer</a>()</div>
<div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;                   -&gt;<a class="code" href="classv8_1_1internal_1_1GCTracer.html#ad7d2f16e123b5303b24858b22ddde30f">CompactionSpeedInBytesPerMillisecond</a>()</div>
<div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;                   .value_or(0),</div>
<div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;               aborted_pages);</div>
<div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;}</div>
<div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160; </div>
<div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160; </div>
<div class="line"><a name="l04853"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html"> 4853</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html">PrecisePagePinningVisitor</a> final : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a> {</div>
<div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l04855"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a91e77bc9b082cdd865b8fcc45fb9041d"> 4855</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a91e77bc9b082cdd865b8fcc45fb9041d">PrecisePagePinningVisitor</a>(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;      : <a class="code" href="classv8_1_1internal_1_1RootVisitor.html">RootVisitor</a>(),</div>
<div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;        collector_(collector),</div>
<div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;        should_pin_in_shared_space_(</div>
<div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;            collector-&gt;<a class="code" href="namespaceheap.html">heap</a>()-&gt;isolate()-&gt;is_shared_space_isolate()) {}</div>
<div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160; </div>
<div class="line"><a name="l04861"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#aa24f6d7a073d660221ffe4dc6e47a4ec"> 4861</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#aa24f6d7a073d660221ffe4dc6e47a4ec">VisitRootPointer</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;                        <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p) <span class="keyword">final</span> {</div>
<div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    HandlePointer(p);</div>
<div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;  }</div>
<div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160; </div>
<div class="line"><a name="l04866"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a5f86b6faf702e4cec04cd8e4614ce7cc"> 4866</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a5f86b6faf702e4cec04cd8e4614ce7cc">VisitRootPointers</a>(<a class="code" href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">Root</a> root, <span class="keyword">const</span> <span class="keywordtype">char</span>* description,</div>
<div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;                         <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> start, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>) <span class="keyword">final</span> {</div>
<div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p = start; p &lt; <a class="code" href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">end</a>; ++p) {</div>
<div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;      HandlePointer(p);</div>
<div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;    }</div>
<div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;  }</div>
<div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160; </div>
<div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l04874"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#ac0cb5e0d35f8e3050a9f758a71462a9b"> 4874</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#ac0cb5e0d35f8e3050a9f758a71462a9b">HandlePointer</a>(<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> p) {</div>
<div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span> = *p;</div>
<div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keywordflow">if</span> (!<span class="keywordtype">object</span>.<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>()) {</div>
<div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;    }</div>
<div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = MemoryChunk::FromHeapObject(Cast&lt;HeapObject&gt;(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af9fbfead34700f0653b0dfe65bf5d473">IsLargePage</a>() || chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a60ab6e39e09fcf7d4d2dae6ed4ee2ec4">InReadOnlySpace</a>()) {</div>
<div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;      <span class="comment">// Large objects and read only objects are not evacuated and thus don&#39;t</span></div>
<div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;      <span class="comment">// need to be pinned.</span></div>
<div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;    }</div>
<div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    <span class="keywordflow">if</span> (!should_pin_in_shared_space_ &amp;&amp; chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a44866a12b8321da05aa7482a1ae25e50">InWritableSharedSpace</a>()) {</div>
<div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    }</div>
<div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a4d00dabb4e29bfdd7d683ce953be2289">InYoungGeneration</a>()) {</div>
<div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;      <span class="comment">// Young gen pages are not considered evacuation candidates. Pinning is</span></div>
<div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;      <span class="comment">// done by marking them as quarantined and promoting the page as is.</span></div>
<div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms ? chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#aebf4eb09277a5083da24d59c98974894">IsToPage</a>() : chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a21c2f9173381a161427a0c11d2a22ca5">IsFromPage</a>());</div>
<div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;      <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#aa31db51f78d580d1ad85508aea649359">IsQuarantined</a>()) {</div>
<div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;      }</div>
<div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;      chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#ac1210d15a4733e0198db2b9f1527d146">SetFlagNonExecutable</a>(MemoryChunk::IS_QUARANTINED);</div>
<div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;    }</div>
<div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::EVACUATION_CANDIDATE)) {</div>
<div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    }</div>
<div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;    collector_-&gt;ReportAbortedEvacuationCandidateDueToFlags(</div>
<div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;        PageMetadata::cast(chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">Metadata</a>()), chunk);</div>
<div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;  }</div>
<div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160; </div>
<div class="line"><a name="l04905"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a54f308aac4a50c478ffd04edac02cdbb"> 4905</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a54f308aac4a50c478ffd04edac02cdbb">collector_</a>;</div>
<div class="line"><a name="l04906"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#abd18d124f974c8ce8ada5e30b7e16213"> 4906</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#abd18d124f974c8ce8ada5e30b7e16213">should_pin_in_shared_space_</a>;</div>
<div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;};</div>
<div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160; </div>
<div class="line"><a name="l04909"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#adcccd5bf69efe4a16b2f462192b42d77"> 4909</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::PinPreciseRootsIfNeeded() {</div>
<div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;  <span class="keywordflow">if</span> (!heap_-&gt;ShouldUsePrecisePinningForMajorGC()) {</div>
<div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;  }</div>
<div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160; </div>
<div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE_PIN_PAGES);</div>
<div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160; </div>
<div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160; </div>
<div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html">PrecisePagePinningVisitor</a> root_visitor(<span class="keyword">this</span>);</div>
<div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160; </div>
<div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;  <span class="comment">// Mark the heap roots including global variables, stack variables,</span></div>
<div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;  <span class="comment">// etc., and all objects reachable from them.</span></div>
<div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;  heap_-&gt;IterateRootsForPrecisePinning(&amp;root_visitor);</div>
<div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160; </div>
<div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;  <span class="keywordflow">if</span> (isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) {</div>
<div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;    <a class="code" href="classv8_1_1internal_1_1ClientRootVisitor.html">ClientRootVisitor&lt;&gt;</a> client_root_visitor(&amp;root_visitor);</div>
<div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">global_safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">IterateClientIsolates</a>(</div>
<div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;        [&amp;client_root_visitor](<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;          client-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>()-&gt;IterateRootsForPrecisePinning(&amp;client_root_visitor);</div>
<div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;        });</div>
<div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;  }</div>
<div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;}</div>
<div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160; </div>
<div class="line"><a name="l04933"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a819031ab4fbcb232c34b4ae3cd9b6b31"> 4933</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::EvacuatePagesInParallel() {</div>
<div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;  std::vector&lt;std::pair&lt;ParallelWorkItem, MutablePageMetadata*&gt;&gt;</div>
<div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;      evacuation_items;</div>
<div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;  intptr_t live_bytes = 0;</div>
<div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160; </div>
<div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;  PinPreciseRootsIfNeeded();</div>
<div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160; </div>
<div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;  <span class="comment">// Evacuation of new space pages cannot be aborted, so it needs to run</span></div>
<div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;  <span class="comment">// before old space evacuation.</span></div>
<div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;  <span class="keywordtype">bool</span> force_page_promotion =</div>
<div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;      heap_-&gt;IsGCWithStack() &amp;&amp; !<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_with_stack;</div>
<div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page : new_space_evacuation_pages_) {</div>
<div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    intptr_t live_bytes_on_page = page-&gt;live_bytes();</div>
<div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(0, live_bytes_on_page);</div>
<div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;    live_bytes += live_bytes_on_page;</div>
<div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55cce">MemoryReductionMode</a> memory_reduction_mode =</div>
<div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;        heap_-&gt;ShouldReduceMemory() ? MemoryReductionMode::kShouldReduceMemory</div>
<div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;                                    : MemoryReductionMode::kNone;</div>
<div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1c549e86327fe563e6aeb70af865fb4c">ShouldMovePage</a>(page, live_bytes_on_page, memory_reduction_mode) ||</div>
<div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;        force_page_promotion || page-&gt;Chunk()-&gt;IsQuarantined()) {</div>
<div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;      EvacuateNewToOldSpacePageVisitor::Move(page);</div>
<div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;      page-&gt;Chunk()-&gt;SetFlagNonExecutable(MemoryChunk::PAGE_NEW_OLD_PROMOTION);</div>
<div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(heap_-&gt;old_space(), page-&gt;owner());</div>
<div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;      <span class="comment">// The move added page-&gt;allocated_bytes to the old space, but we are</span></div>
<div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;      <span class="comment">// going to sweep the page and add page-&gt;live_byte_count.</span></div>
<div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;      heap_-&gt;old_space()-&gt;DecreaseAllocatedBytes(page-&gt;allocated_bytes(), page);</div>
<div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    }</div>
<div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    evacuation_items.emplace_back(<a class="code" href="classv8_1_1internal_1_1ParallelWorkItem.html">ParallelWorkItem</a>{}, page);</div>
<div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;  }</div>
<div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160; </div>
<div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;IsGCWithStack()) {</div>
<div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_with_stack) {</div>
<div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;        ReportAbortedEvacuationCandidateDueToFlags(page, page-&gt;Chunk());</div>
<div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;      }</div>
<div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.compact_code_space_with_stack ||</div>
<div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;               heap_-&gt;isolate()-&gt;InFastCCall()) {</div>
<div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;      <span class="comment">// For fast C calls we cannot patch the return address in the native stack</span></div>
<div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;      <span class="comment">// frame if we would relocate InstructionStream objects.</span></div>
<div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;        <span class="keywordflow">if</span> (page-&gt;owner_identity() != <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">CODE_SPACE</a>) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;        ReportAbortedEvacuationCandidateDueToFlags(page, page-&gt;Chunk());</div>
<div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;      }</div>
<div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    }</div>
<div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;    <span class="comment">// There should always be a stack when we are in a fast c call.</span></div>
<div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!heap_-&gt;isolate()-&gt;InFastCCall());</div>
<div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;  }</div>
<div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160; </div>
<div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction || <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.stress_compaction_random) {</div>
<div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    <span class="comment">// Stress aborting of evacuation by aborting ~10% of evacuation candidates</span></div>
<div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    <span class="comment">// when stress testing.</span></div>
<div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> kFraction = 0.05;</div>
<div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160; </div>
<div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;      <span class="keywordflow">if</span> (heap_-&gt;isolate()-&gt;fuzzer_rng()-&gt;NextDouble() &lt; kFraction) {</div>
<div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        ReportAbortedEvacuationCandidateDueToFlags(page, page-&gt;Chunk());</div>
<div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;      }</div>
<div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;    }</div>
<div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;  }</div>
<div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160; </div>
<div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = page-&gt;Chunk();</div>
<div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::COMPACTION_WAS_ABORTED)) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160; </div>
<div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;    live_bytes += page-&gt;live_bytes();</div>
<div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    evacuation_items.emplace_back(<a class="code" href="classv8_1_1internal_1_1ParallelWorkItem.html">ParallelWorkItem</a>{}, page);</div>
<div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;  }</div>
<div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160; </div>
<div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;  <span class="comment">// Promote young generation large objects.</span></div>
<div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span>* new_lo_space = heap_-&gt;new_lo_space()) {</div>
<div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = new_lo_space-&gt;begin(); it != new_lo_space-&gt;end();) {</div>
<div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;      <a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html">LargePageMetadata</a>* current = *(it++);</div>
<div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = current-&gt;<a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html#aa81d2320947766137b1c995447fb464c">GetObject</a>();</div>
<div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;      <span class="comment">// The black-allocated flag was already cleared in SweepLargeSpace().</span></div>
<div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.black_allocated_pages,</div>
<div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;                     !HeapLayout::InBlackAllocatedPage(<span class="keywordtype">object</span>));</div>
<div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;      <span class="keywordflow">if</span> (marking_state_-&gt;IsMarked(<span class="keywordtype">object</span>)) {</div>
<div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;        heap_-&gt;lo_space()-&gt;PromoteNewLargeObject(current);</div>
<div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;        current-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#ac1210d15a4733e0198db2b9f1527d146">SetFlagNonExecutable</a>(</div>
<div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;            MemoryChunk::PAGE_NEW_OLD_PROMOTION);</div>
<div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        promoted_large_pages_.push_back(current);</div>
<div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;        evacuation_items.emplace_back(<a class="code" href="classv8_1_1internal_1_1ParallelWorkItem.html">ParallelWorkItem</a>{}, current);</div>
<div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;      }</div>
<div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;    }</div>
<div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;    new_lo_space-&gt;set_objects_size(0);</div>
<div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;  }</div>
<div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160; </div>
<div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> pages_count = evacuation_items.size();</div>
<div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;  <span class="keywordtype">size_t</span> wanted_num_tasks = 0;</div>
<div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;  <span class="keywordflow">if</span> (!evacuation_items.empty()) {</div>
<div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>),</div>
<div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;                 <span class="stringliteral">&quot;MarkCompactCollector::EvacuatePagesInParallel&quot;</span>, <span class="stringliteral">&quot;pages&quot;</span>,</div>
<div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;                 evacuation_items.size());</div>
<div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160; </div>
<div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;    wanted_num_tasks = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#aea90dbf5b664542f92e8f0e7a13cfc01">CreateAndExecuteEvacuationTasks</a>(</div>
<div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;        heap_, <span class="keyword">this</span>, std::move(evacuation_items));</div>
<div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;  }</div>
<div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160; </div>
<div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> aborted_pages = PostProcessAbortedEvacuationCandidates();</div>
<div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160; </div>
<div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.trace_evacuation) {</div>
<div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8401873f434983f85f97f0b3ded61cd9">TraceEvacuation</a>(heap_-&gt;isolate(), pages_count, wanted_num_tasks, live_bytes,</div>
<div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;                    aborted_pages);</div>
<div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;  }</div>
<div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;}</div>
<div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160; </div>
<div class="line"><a name="l05040"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html"> 5040</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html">EvacuationWeakObjectRetainer</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1WeakObjectRetainer.html">WeakObjectRetainer</a> {</div>
<div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05042"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html#ad57a26ed349e2d5619992735151e0f64"> 5042</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <a class="code" href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html#ad57a26ed349e2d5619992735151e0f64">RetainAs</a>(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> <span class="keywordtype">object</span>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">object</span>.<a class="code" href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">IsHeapObject</a>()) {</div>
<div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object = Cast&lt;HeapObject&gt;(<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MapWord.html">MapWord</a> map_word = heap_object-&gt;map_word(<a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>);</div>
<div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;      <span class="keywordflow">if</span> (map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#a9dca2a41d176b2abbd067e956796a439">IsForwardingAddress</a>()) {</div>
<div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;        <span class="keywordflow">return</span> map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#af98460db3cf5e0731cdd50d22b7e4c27">ToForwardingAddress</a>(heap_object);</div>
<div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;      }</div>
<div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    }</div>
<div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;    <span class="keywordflow">return</span> object;</div>
<div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;  }</div>
<div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;};</div>
<div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160; </div>
<div class="line"><a name="l05054"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aa553d7a0b23e5ce515c7dd3289ae84fa"> 5054</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::Evacuate() {</div>
<div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE);</div>
<div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160; </div>
<div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;  {</div>
<div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE_PROLOGUE);</div>
<div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;    EvacuatePrologue();</div>
<div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;  }</div>
<div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160; </div>
<div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;  {</div>
<div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE_COPY);</div>
<div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;    EvacuatePagesInParallel();</div>
<div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;  }</div>
<div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160; </div>
<div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;  UpdatePointersAfterEvacuation();</div>
<div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160; </div>
<div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;  {</div>
<div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE_CLEAN_UP);</div>
<div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160; </div>
<div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : new_space_evacuation_pages_) {</div>
<div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = p-&gt;Chunk();</div>
<div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">AllocationSpace</a> owner_identity = p-&gt;owner_identity();</div>
<div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;      <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(owner_identity);</div>
<div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;      <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::PAGE_NEW_OLD_PROMOTION)) {</div>
<div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;        chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#aa62524e63cefe9aec70feefdb2df762f">ClearFlagNonExecutable</a>(MemoryChunk::PAGE_NEW_OLD_PROMOTION);</div>
<div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;        <span class="comment">// The in-sandbox page flags may be corrupted, so we currently need</span></div>
<div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;        <span class="comment">// this check here to make sure that this doesn&#39;t lead to further</span></div>
<div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;        <span class="comment">// confusion about the state of MemoryChunkMetadata objects.</span></div>
<div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;        <span class="comment">// TODO(377724745): if we move (some of) the flags into the trusted</span></div>
<div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;        <span class="comment">// MemoryChunkMetadata object, then this wouldn&#39;t be necessary.</span></div>
<div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;        <a class="code" href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>, owner_identity);</div>
<div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;        sweeper_-&gt;AddPage(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>, p);</div>
<div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms) {</div>
<div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;        <span class="comment">// Sweep non-promoted pages to add them back to the free list.</span></div>
<div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>, owner_identity);</div>
<div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(0, p-&gt;live_bytes());</div>
<div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(p-&gt;SweepingDone());</div>
<div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;        <a class="code" href="classv8_1_1internal_1_1PagedNewSpace.html">PagedNewSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a> = heap_-&gt;paged_new_space();</div>
<div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;ShouldReleaseEmptyPage()) {</div>
<div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;          ReleasePage(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;paged_space(), p);</div>
<div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;          sweeper_-&gt;SweepEmptyNewSpacePage(p);</div>
<div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        }</div>
<div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;      }</div>
<div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;    }</div>
<div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;    new_space_evacuation_pages_.clear();</div>
<div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160; </div>
<div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html">LargePageMetadata</a>* p : promoted_large_pages_) {</div>
<div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = p-&gt;Chunk();</div>
<div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::PAGE_NEW_OLD_PROMOTION));</div>
<div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;      chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#aa62524e63cefe9aec70feefdb2df762f">ClearFlagNonExecutable</a>(MemoryChunk::PAGE_NEW_OLD_PROMOTION);</div>
<div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = p-&gt;GetObject();</div>
<div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits) {</div>
<div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;        MarkBit::From(<span class="keywordtype">object</span>).Clear();</div>
<div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;        p-&gt;SetLiveBytes(0);</div>
<div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;      }</div>
<div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;      p-&gt;marking_progress_tracker().ResetIfEnabled();</div>
<div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    }</div>
<div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;    promoted_large_pages_.clear();</div>
<div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160; </div>
<div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = p-&gt;Chunk();</div>
<div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;      <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::COMPACTION_WAS_ABORTED)) {</div>
<div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;        sweeper_-&gt;AddPage(p-&gt;owner_identity(), p);</div>
<div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;        chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a0398fad4cb6436a18dc1599b206c3b87">ClearFlagSlow</a>(MemoryChunk::COMPACTION_WAS_ABORTED);</div>
<div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;      }</div>
<div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;    }</div>
<div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;  }</div>
<div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160; </div>
<div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;  {</div>
<div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE_EPILOGUE);</div>
<div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    EvacuateEpilogue();</div>
<div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;  }</div>
<div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160; </div>
<div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;<span class="preprocessor">#ifdef VERIFY_HEAP</span></div>
<div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.verify_heap &amp;&amp; !sweeper_-&gt;sweeping_in_progress()) {</div>
<div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;    EvacuationVerifier verifier(heap_);</div>
<div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    verifier.Run();</div>
<div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;  }</div>
<div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// VERIFY_HEAP</span></div>
<div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;}</div>
<div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160; </div>
<div class="line"><a name="l05135"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UpdatingItem.html"> 5135</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1UpdatingItem.html">UpdatingItem</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1ParallelWorkItem.html">ParallelWorkItem</a> {</div>
<div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05137"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UpdatingItem.html#a0542af6439271628a9a9b043f0084896"> 5137</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classv8_1_1internal_1_1UpdatingItem.html#a0542af6439271628a9a9b043f0084896">~UpdatingItem</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l05138"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1UpdatingItem.html#ad5b054dd403a93d6b2397ba52d42c136"> 5138</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1UpdatingItem.html#ad5b054dd403a93d6b2397ba52d42c136">Process</a>() = 0;</div>
<div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;};</div>
<div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160; </div>
<div class="line"><a name="l05141"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html"> 5141</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html">PointersUpdatingJob</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1JobTask.html">v8::JobTask</a> {</div>
<div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05143"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#aa3d0957e4c1417454541158b16b7b008"> 5143</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#aa3d0957e4c1417454541158b16b7b008">PointersUpdatingJob</a>(</div>
<div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector,</div>
<div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;      std::vector&lt;std::unique_ptr&lt;UpdatingItem&gt;&gt; updating_items)</div>
<div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;      : collector_(collector),</div>
<div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;        updating_items_(std::move(updating_items)),</div>
<div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;        remaining_updating_items_(updating_items_.<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>()),</div>
<div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;        generator_(updating_items_.<a class="code" href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a>()),</div>
<div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;        tracer_(isolate-&gt;<a class="code" href="namespaceheap.html">heap</a>()-&gt;tracer()),</div>
<div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;        trace_id_(reinterpret_cast&lt;uint64_t&gt;(<a class="code" href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">this</a>) ^</div>
<div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;                  tracer_-&gt;CurrentEpoch(<a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>::<a class="code" href="classv8_1_1internal_1_1Scope.html">Scope</a>::MC_EVACUATE)) {}</div>
<div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160; </div>
<div class="line"><a name="l05154"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a4bfd19244863f76434a26a28bd0224dd"> 5154</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a4bfd19244863f76434a26a28bd0224dd">Run</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;    <span class="comment">// Set the current isolate such that trusted pointer tables etc are</span></div>
<div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;    <span class="comment">// available and the cage base is set correctly for multi-cage mode.</span></div>
<div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;    <a class="code" href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">SetCurrentIsolateScope</a> isolate_scope(collector_-&gt;heap()-&gt;isolate());</div>
<div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160; </div>
<div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;    <span class="keywordflow">if</span> (delegate-&gt;<a class="code" href="classv8_1_1JobDelegate.html#a93be293521d70bd38d5c69d35b1df790">IsJoiningThread</a>()) {</div>
<div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;      <a class="code" href="gc-tracer_8h.html#a4b6fc205b8b8bbe4275672c2a66c5b94">TRACE_GC_WITH_FLOW</a>(tracer_,</div>
<div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;                         GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS_PARALLEL,</div>
<div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;                         trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;      UpdatePointers(delegate);</div>
<div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;      <a class="code" href="gc-tracer_8h.html#a44d6debe5f608aa9654172245625ef38">TRACE_GC_EPOCH_WITH_FLOW</a>(</div>
<div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;          tracer_, GCTracer::Scope::MC_BACKGROUND_EVACUATE_UPDATE_POINTERS,</div>
<div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;          ThreadKind::kBackground, trace_id_, <a class="code" href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a>);</div>
<div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;      UpdatePointers(delegate);</div>
<div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;    }</div>
<div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;  }</div>
<div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160; </div>
<div class="line"><a name="l05172"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a8758fac2f08ea645f7ada1c6881dd8cc"> 5172</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a8758fac2f08ea645f7ada1c6881dd8cc">UpdatePointers</a>(<a class="code" href="classv8_1_1JobDelegate.html">JobDelegate</a>* delegate) {</div>
<div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;    <span class="keywordflow">while</span> (remaining_updating_items_.load(std::memory_order_relaxed) &gt; 0) {</div>
<div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;      std::optional&lt;size_t&gt; <a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a> = generator_.GetNext();</div>
<div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = *<a class="code" href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">index</a>; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; updating_items_.size(); ++<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>) {</div>
<div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;        <span class="keyword">auto</span>&amp; work_item = updating_items_[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;        <span class="keywordflow">if</span> (!work_item-&gt;TryAcquire()) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;        work_item-&gt;Process();</div>
<div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;        <span class="keywordflow">if</span> (remaining_updating_items_.fetch_sub(1, std::memory_order_relaxed) &lt;=</div>
<div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;            1) {</div>
<div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;        }</div>
<div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;      }</div>
<div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;    }</div>
<div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;  }</div>
<div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160; </div>
<div class="line"><a name="l05188"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a1e85c703f3a66ede1250d045df8717a3"> 5188</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a1e85c703f3a66ede1250d045df8717a3">GetMaxConcurrency</a>(<span class="keywordtype">size_t</span> worker_count)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;    <span class="keywordtype">size_t</span> items = remaining_updating_items_.load(std::memory_order_relaxed);</div>
<div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.parallel_pointer_update ||</div>
<div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;        !collector_-&gt;UseBackgroundThreadsInCycle()) {</div>
<div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;      <span class="keywordflow">return</span> std::min&lt;size_t&gt;(items, 1);</div>
<div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;    }</div>
<div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> kMaxPointerUpdateTasks = 8;</div>
<div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;    <span class="keywordtype">size_t</span> max_concurrency = std::min&lt;size_t&gt;(kMaxPointerUpdateTasks, items);</div>
<div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(items &gt; 0, max_concurrency &gt; 0);</div>
<div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    <span class="keywordflow">return</span> max_concurrency;</div>
<div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;  }</div>
<div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160; </div>
<div class="line"><a name="l05200"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#acaff2a4c6b079a1726d1afe9b8b56e88"> 5200</a></span>&#160;  uint64_t <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#acaff2a4c6b079a1726d1afe9b8b56e88">trace_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> trace_id_; }</div>
<div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160; </div>
<div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05203"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a280637d4978a064a2271d39ba1b0e4d3"> 5203</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a280637d4978a064a2271d39ba1b0e4d3">collector_</a>;</div>
<div class="line"><a name="l05204"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a1cbe583c4be85a5143c421bb339d1035"> 5204</a></span>&#160;  std::vector&lt;std::unique_ptr&lt;UpdatingItem&gt;&gt; <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a1cbe583c4be85a5143c421bb339d1035">updating_items_</a>;</div>
<div class="line"><a name="l05205"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a86025be382ed3ac52809d77d313341d0"> 5205</a></span>&#160;  std::atomic&lt;size_t&gt; remaining_updating_items_{0};</div>
<div class="line"><a name="l05206"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#adb8873d6958f89b2ac21a42f7325ba87"> 5206</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1IndexGenerator.html">IndexGenerator</a> <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#adb8873d6958f89b2ac21a42f7325ba87">generator_</a>;</div>
<div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160; </div>
<div class="line"><a name="l05208"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a5cb4dffb32e800db7173a1d48ef62b76"> 5208</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1GCTracer.html">GCTracer</a>* <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#a5cb4dffb32e800db7173a1d48ef62b76">tracer_</a>;</div>
<div class="line"><a name="l05209"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1PointersUpdatingJob.html#adf6d02ac6bbd7bc6fa4657086fec7564"> 5209</a></span>&#160;  <span class="keyword">const</span> uint64_t <a class="code" href="classv8_1_1internal_1_1PointersUpdatingJob.html#adf6d02ac6bbd7bc6fa4657086fec7564">trace_id_</a>;</div>
<div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;};</div>
<div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160; </div>
<div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160; </div>
<div class="line"><a name="l05214"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html"> 5214</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html">RememberedSetUpdatingItem</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1UpdatingItem.html">UpdatingItem</a> {</div>
<div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05216"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a79207998bbdacbd8e825193085c7414c"> 5216</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a79207998bbdacbd8e825193085c7414c">RememberedSetUpdatingItem</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* chunk)</div>
<div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;      : heap_(<a class="code" href="namespaceheap.html">heap</a>),</div>
<div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;        marking_state_(heap_-&gt;non_atomic_marking_state()),</div>
<div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        chunk_(chunk),</div>
<div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;        record_old_to_shared_slots_(<a class="code" href="namespaceheap.html">heap</a>-&gt;isolate()-&gt;has_shared_space() &amp;&amp;</div>
<div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;                                    !chunk-&gt;Chunk()-&gt;InWritableSharedSpace()) {}</div>
<div class="line"><a name="l05222"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#adcee98b57a9cc48e1e2e529dfdb72d00"> 5222</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#adcee98b57a9cc48e1e2e529dfdb72d00">~RememberedSetUpdatingItem</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160; </div>
<div class="line"><a name="l05224"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af79f36e59c4d3446227accb1d2f7a06c"> 5224</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af79f36e59c4d3446227accb1d2f7a06c">Process</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>),</div>
<div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;                 <span class="stringliteral">&quot;RememberedSetUpdatingItem::Process&quot;</span>);</div>
<div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;    UpdateUntypedPointers();</div>
<div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;    UpdateTypedPointers();</div>
<div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;  }</div>
<div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160; </div>
<div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l05233"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#ad336066251858a7d31f3e8ee379153aa"> 5233</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#ad336066251858a7d31f3e8ee379153aa">CheckSlotForOldToSharedUntyped</a>(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base,</div>
<div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;                                             <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page,</div>
<div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;                                             TSlot slot) {</div>
<div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160; </div>
<div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;    <span class="keywordflow">if</span> (!slot.load(cage_base).GetHeapObject(&amp;heap_object)) {</div>
<div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;    }</div>
<div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160; </div>
<div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    <span class="keywordflow">if</span> (HeapLayout::InWritableSharedSpace(heap_object)) {</div>
<div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::Insert&lt;AccessMode::NON_ATOMIC&gt;</a>(</div>
<div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;          page, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#af9c5926ad8961fba9ea6888dfb0e572e">Offset</a>(slot.address()));</div>
<div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;    }</div>
<div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;  }</div>
<div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160; </div>
<div class="line"><a name="l05248"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#acd10bbe14adad928fb632c4d80ddbd42"> 5248</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#acd10bbe14adad928fb632c4d80ddbd42">CheckSlotForOldToSharedTyped</a>(</div>
<div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;      <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page, <a class="code" href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">SlotType</a> slot_type, <a class="code" href="classuintptr__t.html">Address</a> addr,</div>
<div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a>&amp; jit_allocation) {</div>
<div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object =</div>
<div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;        UpdateTypedSlotHelper::GetTargetObject(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#ae6359cac53a62c06486ec030fa37bc28">heap</a>(), slot_type, addr);</div>
<div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160; </div>
<div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;    UpdateTypedSlotHelper::UpdateTypedSlot(</div>
<div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;        jit_allocation, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#ae6359cac53a62c06486ec030fa37bc28">heap</a>(), slot_type, addr,</div>
<div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;        [heap_object](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">FullMaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;          DCHECK_EQ((*slot).GetHeapObjectAssumeStrong(), heap_object);</div>
<div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;          return KEEP_SLOT;</div>
<div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;        });</div>
<div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// DEBUG</span></div>
<div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160; </div>
<div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    <span class="keywordflow">if</span> (HeapLayout::InWritableSharedSpace(heap_object)) {</div>
<div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;      <span class="keyword">const</span> <a class="code" href="classuintptr__t.html">uintptr_t</a> offset = page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#af9c5926ad8961fba9ea6888dfb0e572e">Offset</a>(addr);</div>
<div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a>(offset, <span class="keyword">static_cast&lt;</span><a class="code" href="classuintptr__t.html">uintptr_t</a><span class="keyword">&gt;</span>(TypedSlotSet::kMaxOffset));</div>
<div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::InsertTyped</a>(page, slot_type,</div>
<div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;                                                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(offset));</div>
<div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    }</div>
<div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;  }</div>
<div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160; </div>
<div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TSlot&gt;</div>
<div class="line"><a name="l05272"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a20c0db7d00d4aa08a17da25c0f44229c"> 5272</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a20c0db7d00d4aa08a17da25c0f44229c">CheckAndUpdateOldToNewSlot</a>(TSlot slot,</div>
<div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base) {</div>
<div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    static_assert(</div>
<div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;        std::is_same_v&lt;TSlot, FullMaybeObjectSlot&gt; ||</div>
<div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;            std::is_same_v&lt;TSlot, MaybeObjectSlot&gt;,</div>
<div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;        <span class="stringliteral">&quot;Only FullMaybeObjectSlot and MaybeObjectSlot are expected here&quot;</span>);</div>
<div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_object;</div>
<div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    <span class="keywordflow">if</span> (!(*slot).GetHeapObject(&amp;heap_object)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">if</span> (!HeapLayout::InYoungGeneration(heap_object)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160; </div>
<div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits) {</div>
<div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms &amp;&amp; !Heap::IsLargeObject(heap_object),</div>
<div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;                     Heap::InToPage(heap_object));</div>
<div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms || Heap::IsLargeObject(heap_object),</div>
<div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;                     Heap::InFromPage(heap_object));</div>
<div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;    }</div>
<div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160; </div>
<div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;    <span class="comment">// OLD_TO_NEW slots are recorded in dead memory, so they might point to</span></div>
<div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <span class="comment">// dead objects.</span></div>
<div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(!heap_object-&gt;map_word(<a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>).IsForwardingAddress(),</div>
<div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;                   !marking_state_-&gt;IsMarked(heap_object));</div>
<div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;  }</div>
<div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160; </div>
<div class="line"><a name="l05296"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a60711c95706bc83e515a0f92a487d7fa"> 5296</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a60711c95706bc83e515a0f92a487d7fa">UpdateUntypedPointers</a>() {</div>
<div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;    UpdateUntypedOldToNewPointers&lt;OLD_TO_NEW&gt;();</div>
<div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    UpdateUntypedOldToNewPointers&lt;OLD_TO_NEW_BACKGROUND&gt;();</div>
<div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    UpdateUntypedOldToOldPointers();</div>
<div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;    UpdateUntypedTrustedToCodePointers();</div>
<div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;    UpdateUntypedTrustedToTrustedPointers();</div>
<div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;  }</div>
<div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160; </div>
<div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;  <span class="keyword">template</span> &lt;RememberedSetType old_to_new_type&gt;</div>
<div class="line"><a name="l05305"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a3b0ee2f5f8ab5d15f7ec00dbaa8d48f8"> 5305</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a3b0ee2f5f8ab5d15f7ec00dbaa8d48f8">UpdateUntypedOldToNewPointers</a>() {</div>
<div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    <span class="keywordflow">if</span> (!chunk_-&gt;slot_set&lt;old_to_new_type, AccessMode::NON_ATOMIC&gt;()) {</div>
<div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    }</div>
<div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160; </div>
<div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base = heap_-&gt;isolate();</div>
<div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;    <span class="comment">// Marking bits are cleared already when the page is already swept. This</span></div>
<div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    <span class="comment">// is fine since in that case the sweeper has already removed dead invalid</span></div>
<div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;    <span class="comment">// objects as well.</span></div>
<div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;old_to_new_type&gt;::Iterate</a>(</div>
<div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;        chunk_,</div>
<div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;        [<span class="keyword">this</span>, cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;          CheckAndUpdateOldToNewSlot(slot, cage_base);</div>
<div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;          <span class="comment">// A new space string might have been promoted into the shared heap</span></div>
<div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;          <span class="comment">// during GC.</span></div>
<div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;          <span class="keywordflow">if</span> (record_old_to_shared_slots_) {</div>
<div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;            CheckSlotForOldToSharedUntyped(cage_base, chunk_, slot);</div>
<div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;          }</div>
<div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;          <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;          <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;        },</div>
<div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;        SlotSet::KEEP_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160; </div>
<div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    <span class="comment">// Full GCs will empty new space, so [old_to_new_type] is empty.</span></div>
<div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;    chunk_-&gt;ReleaseSlotSet(old_to_new_type);</div>
<div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;  }</div>
<div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160; </div>
<div class="line"><a name="l05333"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af835036dfd133e84bd1a7e9bb119b83e"> 5333</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af835036dfd133e84bd1a7e9bb119b83e">UpdateUntypedOldToOldPointers</a>() {</div>
<div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="keywordflow">if</span> (!chunk_-&gt;slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>, AccessMode::NON_ATOMIC&gt;()) {</div>
<div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;    }</div>
<div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160; </div>
<div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base = heap_-&gt;isolate();</div>
<div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;    <span class="keywordflow">if</span> (chunk_-&gt;Chunk()-&gt;executable()) {</div>
<div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;      <span class="comment">// When updating pointer in an InstructionStream (in particular, the</span></div>
<div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;      <span class="comment">// pointer to relocation info), we need to use WriteProtectedSlots that</span></div>
<div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;      <span class="comment">// ensure that the code page is unlocked.</span></div>
<div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WritableJitPage.html">WritableJitPage</a> jit_page(chunk_-&gt;area_start(), chunk_-&gt;area_size());</div>
<div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::Iterate</a>(</div>
<div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;          chunk_,</div>
<div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;          [&amp;](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;            <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;                jit_page.<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html#a34b59de76e9f2e5269c8923fa410b3b3">LookupAllocationContaining</a>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(cage_base, <a class="code" href="classv8_1_1internal_1_1WriteProtectedSlot.html">WriteProtectedSlot&lt;ObjectSlot&gt;</a>(</div>
<div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;                                      jit_allocation, slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()));</div>
<div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;            <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;            <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;          },</div>
<div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;          SlotSet::KEEP_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::Iterate</a>(</div>
<div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;          chunk_,</div>
<div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;          [&amp;](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;            <span class="comment">// A string might have been promoted into the shared heap during</span></div>
<div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;            <span class="comment">// GC.</span></div>
<div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;            <span class="keywordflow">if</span> (record_old_to_shared_slots_) {</div>
<div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;              CheckSlotForOldToSharedUntyped(cage_base, chunk_, slot);</div>
<div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;            }</div>
<div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;            <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;            <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;          },</div>
<div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;          SlotSet::KEEP_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    }</div>
<div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160; </div>
<div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    chunk_-&gt;ReleaseSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>);</div>
<div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;  }</div>
<div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160; </div>
<div class="line"><a name="l05376"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#addfccf596c202ff6c65448af2e28a9cd"> 5376</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#addfccf596c202ff6c65448af2e28a9cd">UpdateUntypedTrustedToCodePointers</a>() {</div>
<div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;    <span class="keywordflow">if</span> (!chunk_-&gt;slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aadd74c147d966f89a0f1a1c9ce4b572a3">TRUSTED_TO_CODE</a>, AccessMode::NON_ATOMIC&gt;()) {</div>
<div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    }</div>
<div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160; </div>
<div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    <span class="comment">// When the sandbox is enabled, we must not process the TRUSTED_TO_CODE</span></div>
<div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    <span class="comment">// remembered set on any chunk that is located inside the sandbox (in which</span></div>
<div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;    <span class="comment">// case the set should be unused). This is because an attacker could either</span></div>
<div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;    <span class="comment">// directly modify the TRUSTED_TO_CODE set on such a chunk, or trick the GC</span></div>
<div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;    <span class="comment">// into populating it with invalid pointers, both of which may lead to</span></div>
<div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;    <span class="comment">// memory corruption inside the (trusted) code space here.</span></div>
<div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#a741cb77b6f267fbe178b0a59d98a32c4">InsideSandbox</a>(chunk_-&gt;ChunkAddress()));</div>
<div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160; </div>
<div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base = heap_-&gt;isolate();</div>
<div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;<span class="preprocessor">#ifdef V8_EXTERNAL_CODE_SPACE</span></div>
<div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> code_cage_base(heap_-&gt;isolate()-&gt;code_cage_base());</div>
<div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> code_cage_base = cage_base;</div>
<div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_CODE&gt;::Iterate</a>(</div>
<div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;        chunk_,</div>
<div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;        [cage_base, code_cage_base,</div>
<div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;         isolate = <a class="code" href="classv8_1_1internal_1_1IsolateForSandbox.html">IsolateForSandbox</a>{heap_-&gt;isolate()}](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;          <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsCode(HeapObject::FromAddress(slot.address() -</div>
<div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;                                                Code::kInstructionStreamOffset),</div>
<div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;                        cage_base));</div>
<div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;          <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#acbc305d5a53430007c4921879d25e45b">UpdateStrongCodeSlot</a>(isolate, cage_base, code_cage_base,</div>
<div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;                               <a class="code" href="namespacev8_1_1internal.html#ab2a51a653a4864c3feda71605aadf6ca">InstructionStreamSlot</a>(slot.address()));</div>
<div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;          <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;          <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;        },</div>
<div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;        SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160; </div>
<div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;    chunk_-&gt;ReleaseSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aadd74c147d966f89a0f1a1c9ce4b572a3">TRUSTED_TO_CODE</a>);</div>
<div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;  }</div>
<div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160; </div>
<div class="line"><a name="l05415"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a072784979a41e62de24e21d4b5688bf7"> 5415</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a072784979a41e62de24e21d4b5688bf7">UpdateUntypedTrustedToTrustedPointers</a>() {</div>
<div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;    <span class="keywordflow">if</span> (!chunk_-&gt;slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa72e097926db1c2f9c11997fcba7dd4d8">TRUSTED_TO_TRUSTED</a>, AccessMode::NON_ATOMIC&gt;()) {</div>
<div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    }</div>
<div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160; </div>
<div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;    <span class="comment">// When the sandbox is enabled, we must not process the TRUSTED_TO_TRUSTED</span></div>
<div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    <span class="comment">// remembered set on any chunk that is located inside the sandbox (in which</span></div>
<div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="comment">// case the set should be unused). This is because an attacker could either</span></div>
<div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <span class="comment">// directly modify the TRUSTED_TO_TRUSTED set on such a chunk, or trick the</span></div>
<div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <span class="comment">// GC into populating it with invalid pointers, both of which may lead to</span></div>
<div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="comment">// memory corruption inside the trusted space here.</span></div>
<div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    <a class="code" href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a>(!<a class="code" href="namespacev8_1_1internal.html#a741cb77b6f267fbe178b0a59d98a32c4">InsideSandbox</a>(chunk_-&gt;ChunkAddress()));</div>
<div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160; </div>
<div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    <span class="comment">// TODO(saelo) we can probably drop all the cage_bases here once we no</span></div>
<div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;    <span class="comment">// longer need to pass them into our slot implementations.</span></div>
<div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> unused_cage_base(<a class="code" href="namespacev8_1_1base.html#ae714b233e65334e0104cda752fc559c5">kNullAddress</a>);</div>
<div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160; </div>
<div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;    <span class="keywordflow">if</span> (chunk_-&gt;Chunk()-&gt;executable()) {</div>
<div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;      <span class="comment">// When updating the InstructionStream -&gt; Code pointer, we need to use</span></div>
<div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;      <span class="comment">// WriteProtectedSlots that ensure that the code page is unlocked.</span></div>
<div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;      <a class="code" href="classv8_1_1internal_1_1WritableJitPage.html">WritableJitPage</a> jit_page(chunk_-&gt;area_start(), chunk_-&gt;area_size());</div>
<div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160; </div>
<div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_TRUSTED&gt;::Iterate</a>(</div>
<div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;          chunk_,</div>
<div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;          [&amp;](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;            <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;                jit_page.<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html#a34b59de76e9f2e5269c8923fa410b3b3">LookupAllocationContaining</a>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(unused_cage_base,</div>
<div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;                             <a class="code" href="classv8_1_1internal_1_1WriteProtectedSlot.html">WriteProtectedSlot&lt;ProtectedPointerSlot&gt;</a>(</div>
<div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;                                 jit_allocation, slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()));</div>
<div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;            <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;            <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;          },</div>
<div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;          SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;      <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_TRUSTED&gt;::Iterate</a>(</div>
<div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;          chunk_,</div>
<div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;          [&amp;](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;            <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">UpdateSlot</a>(unused_cage_base,</div>
<div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;                       <a class="code" href="namespacev8_1_1internal.html#a5eb6c17d238a6a1a82c53fcb5357b3b6">ProtectedMaybeObjectSlot</a>(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>()));</div>
<div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;            <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;            <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;          },</div>
<div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;          SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    }</div>
<div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160; </div>
<div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;    chunk_-&gt;ReleaseSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa72e097926db1c2f9c11997fcba7dd4d8">TRUSTED_TO_TRUSTED</a>);</div>
<div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;  }</div>
<div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160; </div>
<div class="line"><a name="l05468"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#aa6db9afb382fab83302d147012997dd4"> 5468</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#aa6db9afb382fab83302d147012997dd4">UpdateTypedPointers</a>() {</div>
<div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;    <span class="keywordflow">if</span> (!chunk_-&gt;Chunk()-&gt;executable()) {</div>
<div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>((chunk_-&gt;typed_slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7">OLD_TO_NEW</a>&gt;()));</div>
<div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>((chunk_-&gt;typed_slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>&gt;()));</div>
<div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;    }</div>
<div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160; </div>
<div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WritableJitPage.html">WritableJitPage</a> jit_page = ThreadIsolation::LookupWritableJitPage(</div>
<div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;        chunk_-&gt;area_start(), chunk_-&gt;area_size());</div>
<div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;    UpdateTypedOldToNewPointers(jit_page);</div>
<div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    UpdateTypedOldToOldPointers(jit_page);</div>
<div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;  }</div>
<div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160; </div>
<div class="line"><a name="l05481"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#ad5d79393c569856e95aa2cf5d2df8557"> 5481</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#ad5d79393c569856e95aa2cf5d2df8557">UpdateTypedOldToNewPointers</a>(<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html">WritableJitPage</a>&amp; jit_page) {</div>
<div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;    <span class="keywordflow">if</span> (chunk_-&gt;typed_slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7">OLD_TO_NEW</a>, AccessMode::NON_ATOMIC&gt;() == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base = heap_-&gt;isolate();</div>
<div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> check_and_update_old_to_new_slot_fn =</div>
<div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        [<span class="keyword">this</span>, cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">FullMaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;          CheckAndUpdateOldToNewSlot(slot, cage_base);</div>
<div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;        };</div>
<div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160; </div>
<div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW&gt;::IterateTyped</a>(</div>
<div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;        chunk_, [<span class="keyword">this</span>, &amp;check_and_update_old_to_new_slot_fn, &amp;jit_page](</div>
<div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;                    <a class="code" href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">SlotType</a> slot_type, <a class="code" href="classuintptr__t.html">Address</a> slot) {</div>
<div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;              jit_page.<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html#a34b59de76e9f2e5269c8923fa410b3b3">LookupAllocationContaining</a>(slot);</div>
<div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;          UpdateTypedSlotHelper::UpdateTypedSlot(</div>
<div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;              jit_allocation, heap_, slot_type, slot,</div>
<div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;              check_and_update_old_to_new_slot_fn);</div>
<div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;          <span class="comment">// A new space string might have been promoted into the shared heap</span></div>
<div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;          <span class="comment">// during GC.</span></div>
<div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;          <span class="keywordflow">if</span> (record_old_to_shared_slots_) {</div>
<div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;            CheckSlotForOldToSharedTyped(chunk_, slot_type, slot,</div>
<div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;                                         jit_allocation);</div>
<div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;          }</div>
<div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;          <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;          <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;        });</div>
<div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;    <span class="comment">// Full GCs will empty new space, so OLD_TO_NEW is empty.</span></div>
<div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;    chunk_-&gt;ReleaseTypedSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7">OLD_TO_NEW</a>);</div>
<div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;    <span class="comment">// OLD_TO_NEW_BACKGROUND typed slots set should always be empty.</span></div>
<div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(chunk_-&gt;typed_slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa58367539ba9fa32e193c842fccee3c7d">OLD_TO_NEW_BACKGROUND</a>&gt;());</div>
<div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;  }</div>
<div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160; </div>
<div class="line"><a name="l05515"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a20eed0e5053f53a586b7124071a3327c"> 5515</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a20eed0e5053f53a586b7124071a3327c">UpdateTypedOldToOldPointers</a>(<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html">WritableJitPage</a>&amp; jit_page) {</div>
<div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;    <span class="keywordflow">if</span> (chunk_-&gt;typed_slot_set&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>, AccessMode::NON_ATOMIC&gt;() == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base = heap_-&gt;isolate();</div>
<div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_OLD&gt;::IterateTyped</a>(</div>
<div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;        chunk_, [<span class="keyword">this</span>, cage_base, &amp;jit_page](<a class="code" href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">SlotType</a> slot_type, <a class="code" href="classuintptr__t.html">Address</a> slot) {</div>
<div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;          <span class="comment">// Using UpdateStrongSlot is OK here, because there are no weak</span></div>
<div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;          <span class="comment">// typed slots.</span></div>
<div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;              jit_page.<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html#a34b59de76e9f2e5269c8923fa410b3b3">LookupAllocationContaining</a>(slot);</div>
<div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;          <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759">SlotCallbackResult</a> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = UpdateTypedSlotHelper::UpdateTypedSlot(</div>
<div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;              jit_allocation, heap_, slot_type, slot,</div>
<div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;              [cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">FullMaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;                <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">UpdateStrongSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;                <span class="comment">// Always keep slot since all slots are dropped at once after</span></div>
<div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;                <span class="comment">// iteration.</span></div>
<div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">KEEP_SLOT</a>;</div>
<div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;              });</div>
<div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;          <span class="comment">// A string might have been promoted into the shared heap during GC.</span></div>
<div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;          <span class="keywordflow">if</span> (record_old_to_shared_slots_) {</div>
<div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;            CheckSlotForOldToSharedTyped(chunk_, slot_type, slot,</div>
<div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;                                         jit_allocation);</div>
<div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;          }</div>
<div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a>;</div>
<div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;        });</div>
<div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;    chunk_-&gt;ReleaseTypedSlotSet(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">OLD_TO_OLD</a>);</div>
<div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;  }</div>
<div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160; </div>
<div class="line"><a name="l05543"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a007d3333844682db705b91dadd747d31"> 5543</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a007d3333844682db705b91dadd747d31">heap_</a>;</div>
<div class="line"><a name="l05544"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a03185646a31e4fb829cf0818d2be9e3f"> 5544</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1NonAtomicMarkingState.html">NonAtomicMarkingState</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a03185646a31e4fb829cf0818d2be9e3f">marking_state_</a>;</div>
<div class="line"><a name="l05545"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#aeb31a802c5c867aed946e45007088922"> 5545</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#aeb31a802c5c867aed946e45007088922">chunk_</a>;</div>
<div class="line"><a name="l05546"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af6ecf0d4248f7bb4e5daa61f07d431a2"> 5546</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af6ecf0d4248f7bb4e5daa61f07d431a2">record_old_to_shared_slots_</a>;</div>
<div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;};</div>
<div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160; </div>
<div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160; </div>
<div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> IterateableSpace&gt;</div>
<div class="line"><a name="l05553"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774"> 5553</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(</div>
<div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;    std::vector&lt;std::unique_ptr&lt;UpdatingItem&gt;&gt;* items,</div>
<div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;    IterateableSpace* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page : *<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;    <span class="comment">// No need to update pointers on evacuation candidates. Evacuated pages will</span></div>
<div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;    <span class="comment">// be released after this phase.</span></div>
<div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;    <span class="keywordflow">if</span> (page-&gt;Chunk()-&gt;IsEvacuationCandidate()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;    <span class="keywordflow">if</span> (page-&gt;ContainsAnySlots()) {</div>
<div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;      items-&gt;emplace_back(</div>
<div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;          std::make_unique&lt;RememberedSetUpdatingItem&gt;(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;heap(), page));</div>
<div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;    }</div>
<div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;  }</div>
<div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;}</div>
<div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160; </div>
<div class="line"><a name="l05568"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html"> 5568</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html">EphemeronTableUpdatingItem</a> : <span class="keyword">public</span> <a class="code" href="classv8_1_1internal_1_1UpdatingItem.html">UpdatingItem</a> {</div>
<div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l05570"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ae44eea2b28d64a5c3d98ad6160cd658e"> 5570</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ae44eea2b28d64a5c3d98ad6160cd658e">EvacuationState</a> { <a class="code" href="namespacev8__inspector_1_1anonymous__namespace_02v8-console_8cc_03.html#adf875f9db530467b78e5703cb6bef044a5a9c69b905f40e54ca7cd2ca1ed9dd83">kRegular</a>, kAborted };</div>
<div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160; </div>
<div class="line"><a name="l05572"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#a7e6d6b29e5e1b29d8f9d55450683e545"> 5572</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#a7e6d6b29e5e1b29d8f9d55450683e545">EphemeronTableUpdatingItem</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>) : heap_(<a class="code" href="namespaceheap.html">heap</a>) {}</div>
<div class="line"><a name="l05573"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ac54e0464bf7d4c9057d9a4480f6a6697"> 5573</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ac54e0464bf7d4c9057d9a4480f6a6697">~EphemeronTableUpdatingItem</a>() <span class="keyword">override</span> = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160; </div>
<div class="line"><a name="l05575"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ac949b97b5c3389e75e56760c50a48f20"> 5575</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ac949b97b5c3389e75e56760c50a48f20">Process</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;    <a class="code" href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a>(<a class="code" href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a>(<span class="stringliteral">&quot;v8.gc&quot;</span>),</div>
<div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;                 <span class="stringliteral">&quot;EphemeronTableUpdatingItem::Process&quot;</span>);</div>
<div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(heap_-&gt;isolate());</div>
<div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160; </div>
<div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;    <span class="keyword">auto</span>* table_map = heap_-&gt;ephemeron_remembered_set()-&gt;tables();</div>
<div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = table_map-&gt;begin(); it != table_map-&gt;end(); it++) {</div>
<div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;      <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;EphemeronHashTable&gt;</a> table = it-&gt;first;</div>
<div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;      <span class="keyword">auto</span>&amp; indices = it-&gt;second;</div>
<div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;      <span class="keywordflow">if</span> (Cast&lt;HeapObject&gt;(table)</div>
<div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;              -&gt;map_word(<a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>)</div>
<div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;              .IsForwardingAddress()) {</div>
<div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;        <span class="comment">// The object has moved, so ignore slots in dead memory here.</span></div>
<div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;      }</div>
<div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsMap(table-&gt;map(), cage_base));</div>
<div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsEphemeronHashTable(table, cage_base));</div>
<div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> iti = indices.begin(); iti != indices.end(); ++iti) {</div>
<div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;        <span class="comment">// EphemeronHashTable keys must be heap objects.</span></div>
<div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;        <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ObjectSlot</a> key_slot(table-&gt;RawFieldOfElementAt(</div>
<div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;            EphemeronHashTable::EntryToIndex(<a class="code" href="classv8_1_1internal_1_1InternalIndex.html">InternalIndex</a>(*iti))));</div>
<div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> key_object = key_slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a503f3174807124ef8c65227ffb37250d">Relaxed_Load</a>();</div>
<div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;        <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>;</div>
<div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;        <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(key_object.<a class="code" href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">GetHeapObject</a>(&amp;<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>));</div>
<div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;        <a class="code" href="classv8_1_1internal_1_1MapWord.html">MapWord</a> map_word = <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>-&gt;map_word(cage_base, <a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>);</div>
<div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;        <span class="keywordflow">if</span> (map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#a9dca2a41d176b2abbd067e956796a439">IsForwardingAddress</a>()) {</div>
<div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a> = map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#af98460db3cf5e0731cdd50d22b7e4c27">ToForwardingAddress</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;          key_slot.<a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html#a4d62bfa24617f62ac7fbb71110f6b3e9">Relaxed_Store</a>(<a class="code" href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">key</a>);</div>
<div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;        }</div>
<div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;      }</div>
<div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;    }</div>
<div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;    table_map-&gt;clear();</div>
<div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;  }</div>
<div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160; </div>
<div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l05610"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#a9d091bd8570c5496a36cae397b82ab77"> 5610</a></span>&#160;  <a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#a9d091bd8570c5496a36cae397b82ab77">heap_</a>;</div>
<div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;};</div>
<div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160; </div>
<div class="line"><a name="l05613"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a10156273473177e162f6a5cb30b1b7e8"> 5613</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::UpdatePointersAfterEvacuation() {</div>
<div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;  <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(), GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS);</div>
<div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160; </div>
<div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;  {</div>
<div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;             GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS_TO_NEW_ROOTS);</div>
<div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;    <span class="comment">// The external string table is updated at the end.</span></div>
<div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PointersUpdatingVisitor.html">PointersUpdatingVisitor</a> updating_visitor(heap_);</div>
<div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    heap_-&gt;IterateRootsIncludingClients(</div>
<div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;        &amp;updating_visitor,</div>
<div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;        <a class="code" href="classv8_1_1base_1_1EnumSet.html">base::EnumSet&lt;SkipRoot&gt;</a>{SkipRoot::kExternalStringTable,</div>
<div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;                                SkipRoot::kConservativeStack,</div>
<div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;                                SkipRoot::kReadOnlyBuiltins});</div>
<div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;  }</div>
<div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160; </div>
<div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;  {</div>
<div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;             GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS_CLIENT_HEAPS);</div>
<div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    UpdatePointersInClientHeaps();</div>
<div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;  }</div>
<div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160; </div>
<div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;  {</div>
<div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;             GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS_SLOTS_MAIN);</div>
<div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;    std::vector&lt;std::unique_ptr&lt;UpdatingItem&gt;&gt; updating_items;</div>
<div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160; </div>
<div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items, heap_-&gt;old_space());</div>
<div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items, heap_-&gt;code_space());</div>
<div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;shared_space()) {</div>
<div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items, heap_-&gt;shared_space());</div>
<div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;    }</div>
<div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items, heap_-&gt;lo_space());</div>
<div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items, heap_-&gt;code_lo_space());</div>
<div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;shared_lo_space()) {</div>
<div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items,</div>
<div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;                                        heap_-&gt;shared_lo_space());</div>
<div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;    }</div>
<div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items, heap_-&gt;trusted_space());</div>
<div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items,</div>
<div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;                                      heap_-&gt;trusted_lo_space());</div>
<div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;shared_trusted_space()) {</div>
<div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items,</div>
<div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;                                        heap_-&gt;shared_trusted_space());</div>
<div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;    }</div>
<div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;shared_trusted_lo_space()) {</div>
<div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;      <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">CollectRememberedSetUpdatingItems</a>(&amp;updating_items,</div>
<div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;                                        heap_-&gt;shared_trusted_lo_space());</div>
<div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;    }</div>
<div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160; </div>
<div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;    <span class="comment">// Iterating to space may require a valid body descriptor for e.g.</span></div>
<div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;    <span class="comment">// WasmStruct which races with updating a slot in Map. Since to space is</span></div>
<div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;    <span class="comment">// empty after a full GC, such races can&#39;t happen.</span></div>
<div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(heap_-&gt;new_space(), heap_-&gt;new_space()-&gt;Size() == 0);</div>
<div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160; </div>
<div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;    updating_items.push_back(</div>
<div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;        std::make_unique&lt;EphemeronTableUpdatingItem&gt;(heap_));</div>
<div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160; </div>
<div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;    <span class="keyword">auto</span> pointers_updating_job = std::make_unique&lt;PointersUpdatingJob&gt;(</div>
<div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;        heap_-&gt;isolate(), <span class="keyword">this</span>, std::move(updating_items));</div>
<div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;    <a class="code" href="gc-tracer_8h.html#a17375713518e1833362b491ef9c163cc">TRACE_GC_NOTE_WITH_FLOW</a>(<span class="stringliteral">&quot;PointersUpdatingJob started&quot;</span>,</div>
<div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;                            pointers_updating_job-&gt;trace_id(),</div>
<div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;                            <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;    <a class="code" href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">V8::GetCurrentPlatform</a>()</div>
<div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;        -&gt;<a class="code" href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">CreateJob</a>(<a class="code" href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">v8::TaskPriority::kUserBlocking</a>,</div>
<div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;                    std::move(pointers_updating_job))</div>
<div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;        -&gt;Join();</div>
<div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;  }</div>
<div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160; </div>
<div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;  {</div>
<div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;             GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS_WEAK);</div>
<div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;    <span class="comment">// Update pointers from external string table.</span></div>
<div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;    heap_-&gt;UpdateReferencesInExternalStringTable(</div>
<div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;        &amp;<a class="code" href="namespacev8_1_1internal.html#a08ab6d4992ef16c0af0e8cecdd074f84">UpdateReferenceInExternalStringTableEntry</a>);</div>
<div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160; </div>
<div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;    <span class="comment">// Update pointers in string forwarding table.</span></div>
<div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;    <span class="comment">// When GC was performed without a stack, the table was cleared and this</span></div>
<div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;    <span class="comment">// does nothing. In the case this was a GC with stack, we need to update</span></div>
<div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;    <span class="comment">// the entries for evacuated objects.</span></div>
<div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;    <span class="comment">// All entries are objects in shared space (unless</span></div>
<div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;    <span class="comment">// --always-use-forwarding-table), so we only need to update pointers during</span></div>
<div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;    <span class="comment">// a shared GC.</span></div>
<div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;    <span class="keywordflow">if</span> (heap_-&gt;isolate()-&gt;OwnsStringTables() ||</div>
<div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;        <a class="code" href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a>(<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.always_use_string_forwarding_table)) {</div>
<div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;      heap_-&gt;isolate()-&gt;string_forwarding_table()-&gt;UpdateAfterFullEvacuation();</div>
<div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;    }</div>
<div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160; </div>
<div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;    <a class="code" href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html">EvacuationWeakObjectRetainer</a> evacuation_object_retainer;</div>
<div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;    heap_-&gt;ProcessWeakListRoots(&amp;evacuation_object_retainer);</div>
<div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;  }</div>
<div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160; </div>
<div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;  {</div>
<div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <a class="code" href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a>(heap_-&gt;tracer(),</div>
<div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;             GCTracer::Scope::MC_EVACUATE_UPDATE_POINTERS_POINTER_TABLES);</div>
<div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;    UpdatePointersInPointerTables();</div>
<div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;  }</div>
<div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160; </div>
<div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;  <span class="comment">// Flush the inner_pointer_to_code_cache which may now have stale contents.</span></div>
<div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;  heap_-&gt;isolate()-&gt;inner_pointer_to_code_cache()-&gt;Flush();</div>
<div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;}</div>
<div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160; </div>
<div class="line"><a name="l05714"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a50a7b97f14aca94f87fa000d330fb3d7"> 5714</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::UpdatePointersInClientHeaps() {</div>
<div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* <span class="keyword">const</span> isolate = heap_-&gt;<a class="code" href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">isolate</a>();</div>
<div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;  <span class="keywordflow">if</span> (!isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">is_shared_space_isolate</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160; </div>
<div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">global_safepoint</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">IterateClientIsolates</a>(</div>
<div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;      [<span class="keyword">this</span>](<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) { UpdatePointersInClientHeap(client); });</div>
<div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;}</div>
<div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160; </div>
<div class="line"><a name="l05722"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#aabe392e124b1967c0510c4eaaaad062e"> 5722</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::UpdatePointersInClientHeap(<a class="code" href="classv8_1_1internal_1_1Isolate.html">Isolate</a>* client) {</div>
<div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(client);</div>
<div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;  <a class="code" href="classv8_1_1internal_1_1MemoryChunkIterator.html">MemoryChunkIterator</a> chunk_iterator(client-&gt;<a class="code" href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">heap</a>());</div>
<div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160; </div>
<div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;  <span class="keywordflow">while</span> (chunk_iterator.<a class="code" href="classv8_1_1internal_1_1MemoryChunkIterator.html#a76edecc87124dd19fbf9ede99ed61dad">HasNext</a>()) {</div>
<div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html">MutablePageMetadata</a>* page = chunk_iterator.<a class="code" href="classv8_1_1internal_1_1MemoryChunkIterator.html#ad291416d159c306704f0bfea711f1106">Next</a>();</div>
<div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>();</div>
<div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160; </div>
<div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> slot_count = <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::Iterate</a>(</div>
<div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;        page,</div>
<div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;        [cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8e179782425b7be1054e814f897f2f32">UpdateOldToSharedSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;        },</div>
<div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;        SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160; </div>
<div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    <span class="keywordflow">if</span> (slot_count == 0 || chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a4d00dabb4e29bfdd7d683ce953be2289">InYoungGeneration</a>()) {</div>
<div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;      page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#ab7d93dcc9e33c85f4be27defe1e1be41">ReleaseSlotSet</a>(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b">OLD_TO_SHARED</a>);</div>
<div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;    }</div>
<div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160; </div>
<div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;    <span class="keyword">const</span> <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> unused_cage_base(<a class="code" href="namespacev8_1_1base.html#ae714b233e65334e0104cda752fc559c5">kNullAddress</a>);</div>
<div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160; </div>
<div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> protected_slot_count =</div>
<div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;        <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;TRUSTED_TO_SHARED_TRUSTED&gt;::Iterate</a>(</div>
<div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;            page,</div>
<div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;            [unused_cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">MaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;              <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">ProtectedPointerSlot</a> protected_slot(slot.<a class="code" href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">address</a>());</div>
<div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8e179782425b7be1054e814f897f2f32">UpdateOldToSharedSlot</a>(unused_cage_base, protected_slot);</div>
<div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;            },</div>
<div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;            SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;    <span class="keywordflow">if</span> (protected_slot_count == 0) {</div>
<div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;      page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#ab7d93dcc9e33c85f4be27defe1e1be41">ReleaseSlotSet</a>(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa4dc0d88d3eaa2b7b5ea263b3a347fb31">TRUSTED_TO_SHARED_TRUSTED</a>);</div>
<div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;    }</div>
<div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160; </div>
<div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;    <span class="keywordflow">if</span> (!chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a54ee8fbce7335c389ddaf0229e5c6858">executable</a>()) {</div>
<div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a1a43308e5db78eb890458a4aa90785a3">typed_slot_set</a>&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b">OLD_TO_SHARED</a>&gt;());</div>
<div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;    }</div>
<div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160; </div>
<div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;    <a class="code" href="classv8_1_1internal_1_1WritableJitPage.html">WritableJitPage</a> jit_page = ThreadIsolation::LookupWritableJitPage(</div>
<div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;        page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>(), page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#acd8dfb2e8657abe513a212fea3bf4683">area_size</a>());</div>
<div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> typed_slot_count = <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::IterateTyped</a>(</div>
<div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;        page, [<span class="keyword">this</span>, &amp;jit_page](<a class="code" href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">SlotType</a> slot_type, <a class="code" href="classuintptr__t.html">Address</a> slot) {</div>
<div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;          <span class="comment">// Using UpdateStrongSlot is OK here, because there are no weak</span></div>
<div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;          <span class="comment">// typed slots.</span></div>
<div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;          <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base = heap_-&gt;isolate();</div>
<div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;          <a class="code" href="classv8_1_1internal_1_1WritableJitAllocation.html">WritableJitAllocation</a> jit_allocation =</div>
<div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;              jit_page.<a class="code" href="classv8_1_1internal_1_1WritableJitPage.html#a34b59de76e9f2e5269c8923fa410b3b3">LookupAllocationContaining</a>(slot);</div>
<div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;          <span class="keywordflow">return</span> UpdateTypedSlotHelper::UpdateTypedSlot(</div>
<div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;              jit_allocation, heap_, slot_type, slot,</div>
<div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;              [cage_base](<a class="code" href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">FullMaybeObjectSlot</a> slot) {</div>
<div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ae2720d5d6d34c434f5882ea31fc87f83">UpdateStrongOldToSharedSlot</a>(cage_base, slot);</div>
<div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;              });</div>
<div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;        });</div>
<div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;    <span class="keywordflow">if</span> (typed_slot_count == 0 || chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a4d00dabb4e29bfdd7d683ce953be2289">InYoungGeneration</a>())</div>
<div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;      page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a0a6fb8976595ccff308258c0906cd187">ReleaseTypedSlotSet</a>(<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b">OLD_TO_SHARED</a>);</div>
<div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;  }</div>
<div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;}</div>
<div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160; </div>
<div class="line"><a name="l05780"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a8698e5fa48a17826dcf8640f7725bbce"> 5780</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::UpdatePointersInPointerTables() {</div>
<div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;<span class="preprocessor">#if defined(V8_ENABLE_SANDBOX) || defined(V8_ENABLE_LEAPTIERING)</span></div>
<div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;  <span class="comment">// Process an entry of a pointer table, returning either the relocated object</span></div>
<div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;  <span class="comment">// or a null pointer if the object wasn&#39;t relocated.</span></div>
<div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;  <span class="keyword">auto</span> process_entry = [&amp;](<a class="code" href="classuintptr__t.html">Address</a> content) -&gt; <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;ExposedTrustedObject&gt;</a> {</div>
<div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> heap_obj = Cast&lt;HeapObject&gt;(<a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a>(content));</div>
<div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MapWord.html">MapWord</a> map_word = heap_obj-&gt;map_word(<a class="code" href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">kRelaxedLoad</a>);</div>
<div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;    <span class="keywordflow">if</span> (!map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#a9dca2a41d176b2abbd067e956796a439">IsForwardingAddress</a>()) <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> relocated_object =</div>
<div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;        map_word.<a class="code" href="classv8_1_1internal_1_1MapWord.html#af98460db3cf5e0731cdd50d22b7e4c27">ToForwardingAddress</a>(heap_obj);</div>
<div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(IsExposedTrustedObject(relocated_object));</div>
<div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;    <span class="keywordflow">return</span> Cast&lt;ExposedTrustedObject&gt;(relocated_object);</div>
<div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;  };</div>
<div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// defined(V8_ENABLE_SANDBOX) || defined(V8_ENABLE_LEAPTIERING)</span></div>
<div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160; </div>
<div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;  TrustedPointerTable* <span class="keyword">const</span> tpt = &amp;heap_-&gt;isolate()-&gt;trusted_pointer_table();</div>
<div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;  tpt-&gt;IterateActiveEntriesIn(</div>
<div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;      heap_-&gt;trusted_pointer_space(),</div>
<div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;      [&amp;](<a class="code" href="namespacev8_1_1internal.html#a0a296b86b75a4d9bc50eacf78b049527">TrustedPointerHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>, <a class="code" href="classuintptr__t.html">Address</a> content) {</div>
<div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;        Tagged&lt;ExposedTrustedObject&gt; relocated_object = process_entry(content);</div>
<div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;        if (!relocated_object.is_null()) {</div>
<div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;          DCHECK_EQ(handle, relocated_object-&gt;self_indirect_pointer_handle());</div>
<div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;          auto instance_type = relocated_object-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;          bool shared = HeapLayout::InAnySharedSpace(relocated_object);</div>
<div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;          auto tag = IndirectPointerTagFromInstanceType(instance_type, shared);</div>
<div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;          tpt-&gt;Set(handle, relocated_object.ptr(), tag);</div>
<div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;        }</div>
<div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;      });</div>
<div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160; </div>
<div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;  TrustedPointerTable* <span class="keyword">const</span> stpt =</div>
<div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;      &amp;heap_-&gt;isolate()-&gt;shared_trusted_pointer_table();</div>
<div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;  stpt-&gt;IterateActiveEntriesIn(</div>
<div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;      heap_-&gt;isolate()-&gt;shared_trusted_pointer_space(),</div>
<div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;      [&amp;](<a class="code" href="namespacev8_1_1internal.html#a0a296b86b75a4d9bc50eacf78b049527">TrustedPointerHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>, <a class="code" href="classuintptr__t.html">Address</a> content) {</div>
<div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;        Tagged&lt;ExposedTrustedObject&gt; relocated_object = process_entry(content);</div>
<div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;        if (!relocated_object.is_null()) {</div>
<div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;          DCHECK_EQ(handle, relocated_object-&gt;self_indirect_pointer_handle());</div>
<div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;          auto instance_type = relocated_object-&gt;map()-&gt;instance_type();</div>
<div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;          bool shared = HeapLayout::InAnySharedSpace(relocated_object);</div>
<div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;          auto tag = IndirectPointerTagFromInstanceType(instance_type, shared);</div>
<div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;          DCHECK(IsSharedTrustedPointerType(tag));</div>
<div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;          stpt-&gt;Set(handle, relocated_object.ptr(), tag);</div>
<div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;        }</div>
<div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;      });</div>
<div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160; </div>
<div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;  CodePointerTable* <span class="keyword">const</span> cpt = IsolateGroup::current()-&gt;code_pointer_table();</div>
<div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;  cpt-&gt;IterateActiveEntriesIn(</div>
<div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;      heap_-&gt;code_pointer_space(),</div>
<div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;      [&amp;](<a class="code" href="namespacev8_1_1internal.html#a39897e02b04b4fcb3d49a8adf67b75b0">CodePointerHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>, <a class="code" href="namespacev8_1_1base.html#aed4219b45684a3840c8b930b5df90ea9">Address</a> content) {</div>
<div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;        Tagged&lt;ExposedTrustedObject&gt; relocated_object = process_entry(content);</div>
<div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;        if (!relocated_object.is_null()) {</div>
<div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;          DCHECK_EQ(handle, relocated_object-&gt;self_indirect_pointer_handle());</div>
<div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;          cpt-&gt;SetCodeObject(handle, relocated_object.address());</div>
<div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;        }</div>
<div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;      });</div>
<div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_SANDBOX</span></div>
<div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160; </div>
<div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;<span class="preprocessor">#ifdef V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;  JSDispatchTable* <span class="keyword">const</span> jdt = IsolateGroup::current()-&gt;js_dispatch_table();</div>
<div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;  <span class="keyword">const</span> EmbeddedData&amp; embedded_data = EmbeddedData::FromBlob(heap_-&gt;isolate());</div>
<div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;  jdt-&gt;IterateActiveEntriesIn(</div>
<div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;      heap_-&gt;js_dispatch_table_space(), [&amp;](<a class="code" href="namespacev8_1_1internal.html#ae8f086a5ae078a9752085a6b967a135c">JSDispatchHandle</a> <a class="code" href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">handle</a>) {</div>
<div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;        Address code_address = jdt-&gt;GetCodeAddress(handle);</div>
<div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;        Address entrypoint_address = jdt-&gt;GetEntrypoint(handle);</div>
<div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;        Tagged&lt;TrustedObject&gt; relocated_code = process_entry(code_address);</div>
<div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;        bool code_object_was_relocated = !relocated_code.is_null();</div>
<div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;        Tagged&lt;Code&gt; code = Cast&lt;Code&gt;(code_object_was_relocated</div>
<div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;                                           ? relocated_code</div>
<div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;                                           : Tagged&lt;Object&gt;(code_address));</div>
<div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;        bool instruction_stream_was_relocated =</div>
<div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;            code-&gt;instruction_start() != entrypoint_address;</div>
<div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;        if (code_object_was_relocated || instruction_stream_was_relocated) {</div>
<div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;          Address old_entrypoint = jdt-&gt;GetEntrypoint(handle);</div>
<div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;          <span class="comment">// Ensure tiering trampolines are not overwritten here.</span></div>
<div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;          Address new_entrypoint = ([&amp;]() {</div>
<div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;#define CASE(name, ...)                                                       \</div>
<div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;  if (old_entrypoint == embedded_data.InstructionStartOf(Builtin::k##name)) { \</div>
<div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;    return old_entrypoint;                                                    \</div>
<div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;  }</div>
<div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;            BUILTIN_LIST_BASE_TIERING(CASE)</div>
<div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;#undef CASE</div>
<div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;            return code-&gt;instruction_start();</div>
<div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;          })();</div>
<div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;          jdt-&gt;SetCodeAndEntrypointNoWriteBarrier(handle, code, new_entrypoint);</div>
<div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;          CHECK_IMPLIES(jdt-&gt;IsTieringRequested(handle),</div>
<div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;                        old_entrypoint == new_entrypoint);</div>
<div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;        }</div>
<div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;      });</div>
<div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// V8_ENABLE_LEAPTIERING</span></div>
<div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;}</div>
<div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160; </div>
<div class="line"><a name="l05872"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a0c89184f88696445ac02aee44aa43de2"> 5872</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ReportAbortedEvacuationCandidateDueToOOM(</div>
<div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;    <a class="code" href="classuintptr__t.html">Address</a> failed_start, <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page) {</div>
<div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;  <a class="code" href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">base::MutexGuard</a> guard(&amp;mutex_);</div>
<div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;  aborted_evacuation_candidates_due_to_oom_.push_back(</div>
<div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;      std::make_pair(failed_start, page));</div>
<div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;}</div>
<div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160; </div>
<div class="line"><a name="l05879"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a8c05858a7577a61d236de24903278946"> 5879</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ReportAbortedEvacuationCandidateDueToFlags(</div>
<div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page, <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk) {</div>
<div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>(), chunk);</div>
<div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;  <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::COMPACTION_WAS_ABORTED)) {</div>
<div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;  }</div>
<div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;  chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a8b2c01a93ef7254c13bf38f060d6c365">SetFlagSlow</a>(MemoryChunk::COMPACTION_WAS_ABORTED);</div>
<div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;  aborted_evacuation_candidates_due_to_flags_.push_back(page);</div>
<div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;}</div>
<div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160; </div>
<div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160; </div>
<div class="line"><a name="l05891"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a58b90c1c7c35b855c401793183c9c13f"> 5891</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a58b90c1c7c35b855c401793183c9c13f">ReRecordPage</a>(<a class="code" href="classv8_1_1internal_1_1Heap.html">Heap</a>* <a class="code" href="namespaceheap.html">heap</a>, <a class="code" href="classuintptr__t.html">Address</a> failed_start, <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page) {</div>
<div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::COMPACTION_WAS_ABORTED));</div>
<div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160; </div>
<div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;  <span class="comment">// Aborted compaction page. We have to record slots here, since we</span></div>
<div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;  <span class="comment">// might not have recorded them in first place.</span></div>
<div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160; </div>
<div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;  <span class="comment">// Remove mark bits in evacuated area.</span></div>
<div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;  page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a845533e3672ac206598d704133424949">marking_bitmap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MarkingBitmap.html#ab035b813ebd4cc3c95d4d1c2f6fd00bf">ClearRange</a>&lt;AccessMode::NON_ATOMIC&gt;(</div>
<div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;      MarkingBitmap::AddressToIndex(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>()),</div>
<div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;      MarkingBitmap::LimitAddressToIndex(failed_start));</div>
<div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160; </div>
<div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;  <span class="comment">// Remove outdated slots.</span></div>
<div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW&gt;::RemoveRange</a>(page, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>(), failed_start,</div>
<div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;                                         SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW&gt;::RemoveRangeTyped</a>(page, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>(),</div>
<div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;                                              failed_start);</div>
<div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160; </div>
<div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_NEW_BACKGROUND&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;      page, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>(), failed_start, SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a1a43308e5db78eb890458a4aa90785a3">typed_slot_set</a>&lt;<a class="code" href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa58367539ba9fa32e193c842fccee3c7d">OLD_TO_NEW_BACKGROUND</a>&gt;());</div>
<div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160; </div>
<div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::RemoveRange</a>(</div>
<div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;      page, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>(), failed_start, SlotSet::FREE_EMPTY_BUCKETS);</div>
<div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RememberedSet.html">RememberedSet&lt;OLD_TO_SHARED&gt;::RemoveRangeTyped</a>(page, page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">area_start</a>(),</div>
<div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;                                                 failed_start);</div>
<div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160; </div>
<div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;  <span class="comment">// Re-record slots and recompute live bytes.</span></div>
<div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;  <a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html">EvacuateRecordOnlyVisitor</a> visitor(<a class="code" href="namespaceheap.html">heap</a>);</div>
<div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;  LiveObjectVisitor::VisitMarkedObjectsNoFail(page, &amp;visitor);</div>
<div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;  page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a1bcf541508f597224a80ece032ed11e6">SetLiveBytes</a>(visitor.<a class="code" href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8fb4b99fb5e8ee1714b20cb24f993a44">live_object_size</a>());</div>
<div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;  <span class="comment">// Array buffers will be processed during pointer updating.</span></div>
<div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;}</div>
<div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160; </div>
<div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160; </div>
<div class="line"><a name="l05926"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a22086e39ee1c3864010dac3a10135834"> 5926</a></span>&#160;<span class="keywordtype">size_t</span> MarkCompactCollector::PostProcessAbortedEvacuationCandidates() {</div>
<div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> start_and_page : aborted_evacuation_candidates_due_to_oom_) {</div>
<div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page = start_and_page.second;</div>
<div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>();</div>
<div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::COMPACTION_WAS_ABORTED));</div>
<div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;    chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a8b2c01a93ef7254c13bf38f060d6c365">SetFlagSlow</a>(MemoryChunk::COMPACTION_WAS_ABORTED);</div>
<div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;  }</div>
<div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> start_and_page : aborted_evacuation_candidates_due_to_oom_) {</div>
<div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a58b90c1c7c35b855c401793183c9c13f">ReRecordPage</a>(heap_, start_and_page.first, start_and_page.second);</div>
<div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;  }</div>
<div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> page : aborted_evacuation_candidates_due_to_flags_) {</div>
<div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a58b90c1c7c35b855c401793183c9c13f">ReRecordPage</a>(heap_, page-&gt;area_start(), page);</div>
<div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;  }</div>
<div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> aborted_pages =</div>
<div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;      aborted_evacuation_candidates_due_to_oom_.size() +</div>
<div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;      aborted_evacuation_candidates_due_to_flags_.size();</div>
<div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;  <span class="keywordtype">size_t</span> aborted_pages_verified = 0;</div>
<div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    <a class="code" href="classv8_1_1internal_1_1MemoryChunk.html">MemoryChunk</a>* chunk = p-&gt;Chunk();</div>
<div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    <span class="keywordflow">if</span> (chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::COMPACTION_WAS_ABORTED)) {</div>
<div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;      <span class="comment">// Only clear EVACUATION_CANDIDATE flag after all slots were re-recorded</span></div>
<div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;      <span class="comment">// on all aborted pages. Necessary since repopulating</span></div>
<div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;      <span class="comment">// OLD_TO_OLD still requires the EVACUATION_CANDIDATE flag. After clearing</span></div>
<div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;      <span class="comment">// the evacuation candidate flag the page is again in a regular state.</span></div>
<div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;      p-&gt;ClearEvacuationCandidate();</div>
<div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;      aborted_pages_verified++;</div>
<div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(chunk-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a31917793e4e1f003c57c07b8dd2422fa">IsEvacuationCandidate</a>());</div>
<div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(p-&gt;SweepingDone());</div>
<div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;    }</div>
<div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;  }</div>
<div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(aborted_pages_verified, aborted_pages);</div>
<div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;  <a class="code" href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a>(aborted_pages_verified);</div>
<div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;  <span class="keywordflow">return</span> aborted_pages;</div>
<div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;}</div>
<div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160; </div>
<div class="line"><a name="l05962"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#ae07545bc19d80a27a63c760d875601c2"> 5962</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ReleaseEvacuationCandidates() {</div>
<div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p : old_space_evacuation_pages_) {</div>
<div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;    <span class="keywordflow">if</span> (!p-&gt;Chunk()-&gt;IsEvacuationCandidate()) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PagedSpace.html">PagedSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1PagedSpace.html">PagedSpace</a>*<span class="keyword">&gt;</span>(p-&gt;owner());</div>
<div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;    p-&gt;SetLiveBytes(0);</div>
<div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a>(p-&gt;SweepingDone());</div>
<div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;    ReleasePage(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, p);</div>
<div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;  }</div>
<div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;  old_space_evacuation_pages_.clear();</div>
<div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;  compacting_ = <span class="keyword">false</span>;</div>
<div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;}</div>
<div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160; </div>
<div class="line"><a name="l05974"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a5fd86ee72dfc32e6d1e18f4c5e4a050d"> 5974</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ReleasePage(<a class="code" href="classv8_1_1internal_1_1PagedSpaceBase.html">PagedSpaceBase</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>,</div>
<div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;                                       <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page) {</div>
<div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;  <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;RemovePageFromSpace(page);</div>
<div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160; </div>
<div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity()) {</div>
<div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">SHARED_SPACE</a>: {</div>
<div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;      <span class="comment">// Old-to-new slots in old objects may be overwritten with references to</span></div>
<div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;      <span class="comment">// shared objects. Postpone releasing empty pages so that updating</span></div>
<div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;      <span class="comment">// old-to-new slots in dead old objects may access the dead shared</span></div>
<div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;      <span class="comment">// objects.</span></div>
<div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;      queued_pages_to_be_freed_.push_back(page);</div>
<div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;    }</div>
<div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160; </div>
<div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>:</div>
<div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>: {</div>
<div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;      <a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>()-&gt;memory_allocator()-&gt;Free(MemoryAllocator::FreeMode::kPool, page);</div>
<div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;    }</div>
<div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160; </div>
<div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;    <span class="keywordflow">default</span>: {</div>
<div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;      <a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>()-&gt;memory_allocator()-&gt;Free(MemoryAllocator::FreeMode::kImmediately,</div>
<div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;                                       page);</div>
<div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;    }</div>
<div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;  }</div>
<div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;}</div>
<div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160; </div>
<div class="line"><a name="l06001"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a11314378dd877e87d1ee7cd836c4c0f0"> 6001</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::StartSweepNewSpace() {</div>
<div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PagedSpaceForNewSpace.html">PagedSpaceForNewSpace</a>* paged_space = heap_-&gt;paged_new_space()-&gt;paged_space();</div>
<div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;  paged_space-&gt;<a class="code" href="classv8_1_1internal_1_1PagedSpaceBase.html#a940645ec1f2d133497dafeefaf5409e9">ClearAllocatorState</a>();</div>
<div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160; </div>
<div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;  <span class="keywordtype">int</span> will_be_swept = 0;</div>
<div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160; </div>
<div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;  heap_-&gt;StartResizeNewSpace();</div>
<div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160; </div>
<div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(empty_new_space_pages_to_be_swept_.empty());</div>
<div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = paged_space-&gt;<a class="code" href="classv8_1_1internal_1_1PagedSpaceBase.html#ae57d1a35d2ce7248a9b385493d8c8fa6">begin</a>(); it != paged_space-&gt;<a class="code" href="classv8_1_1internal_1_1PagedSpaceBase.html#a3712c8fdc0d5f004814318f543633c2d">end</a>();) {</div>
<div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p = *(it++);</div>
<div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(p-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a9d7e9f4513ced2b857cd305de14df9a2">SweepingDone</a>());</div>
<div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::BLACK_ALLOCATED));</div>
<div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160; </div>
<div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">live_bytes</a>() &gt; 0) {</div>
<div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;      <span class="comment">// Non-empty pages will be evacuated/promoted.</span></div>
<div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;    }</div>
<div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160; </div>
<div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    <span class="keywordflow">if</span> (paged_space-&gt;<a class="code" href="classv8_1_1internal_1_1PagedSpaceForNewSpace.html#a6e97c75226520eb7d0cf4f3d6655e5ae">ShouldReleaseEmptyPage</a>()) {</div>
<div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;      ReleasePage(paged_space, p);</div>
<div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;      empty_new_space_pages_to_be_swept_.push_back(p);</div>
<div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;    }</div>
<div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;    will_be_swept++;</div>
<div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;  }</div>
<div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160; </div>
<div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.gc_verbose) {</div>
<div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(heap_-&gt;isolate(),</div>
<div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;                 <span class="stringliteral">&quot;sweeping: space=%s initialized_for_sweeping=%d&quot;</span>,</div>
<div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;                 <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(paged_space-&gt;identity()), will_be_swept);</div>
<div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;  }</div>
<div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;}</div>
<div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160; </div>
<div class="line"><a name="l06035"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a14b8e9f090e9c7641574ed9829b4fee1"> 6035</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::ResetAndRelinkBlackAllocatedPage(</div>
<div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PagedSpace.html">PagedSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* page) {</div>
<div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::BLACK_ALLOCATED));</div>
<div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">live_bytes</a>(), 0);</div>
<div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a9fc112c5748d8edf2b68bd19ab082519">allocated_bytes</a>(), 0);</div>
<div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(page-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a845533e3672ac206598d704133424949">marking_bitmap</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MarkingBitmap.html#a04afa8b5e8843abbe2a086af381a91c3">IsClean</a>());</div>
<div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;  std::optional&lt;RwxMemoryWriteScope&gt; scope;</div>
<div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;  <span class="keywordflow">if</span> (page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a475a8ad0afce6e081ad584223c4684f9">InCodeSpace</a>()) {</div>
<div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    scope.emplace(<span class="stringliteral">&quot;For writing flags.&quot;</span>);</div>
<div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;  }</div>
<div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;  page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a373d8e228ddd7d2d99d3ecc4033094a5">ClearFlagUnlocked</a>(MemoryChunk::BLACK_ALLOCATED);</div>
<div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;  <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;IncreaseAllocatedBytes(page-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a9fc112c5748d8edf2b68bd19ab082519">allocated_bytes</a>(), page);</div>
<div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;  <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;RelinkFreeListCategories(page);</div>
<div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;}</div>
<div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160; </div>
<div class="line"><a name="l06050"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a4dc475c535877a5a4773b74c0a06c78a"> 6050</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::StartSweepSpace(<a class="code" href="classv8_1_1internal_1_1PagedSpace.html">PagedSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>, <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity());</div>
<div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;  <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;ClearAllocatorState();</div>
<div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160; </div>
<div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;  <span class="keywordtype">int</span> will_be_swept = 0;</div>
<div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;  <span class="keywordtype">bool</span> unused_page_present = <span class="keyword">false</span>;</div>
<div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160; </div>
<div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Sweeper.html">Sweeper</a>* sweeper = heap_-&gt;sweeper();</div>
<div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160; </div>
<div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;  <span class="comment">// Loop needs to support deletion if live bytes == 0 for a page.</span></div>
<div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;begin(); it != <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;end();) {</div>
<div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    <a class="code" href="classv8_1_1internal_1_1PageMetadata.html">PageMetadata</a>* p = *(it++);</div>
<div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(p-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a9d7e9f4513ced2b857cd305de14df9a2">SweepingDone</a>());</div>
<div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160; </div>
<div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#a31917793e4e1f003c57c07b8dd2422fa">IsEvacuationCandidate</a>()) {</div>
<div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::BLACK_ALLOCATED));</div>
<div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;      <a class="code" href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a>(<a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">NEW_SPACE</a>, <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity());</div>
<div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;      <span class="comment">// Will be processed in Evacuate.</span></div>
<div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;    }</div>
<div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160; </div>
<div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;    <span class="comment">// If the page is black, just reset the flag and don&#39;t add the page to the</span></div>
<div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;    <span class="comment">// sweeper.</span></div>
<div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::BLACK_ALLOCATED)) {</div>
<div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;      ResetAndRelinkBlackAllocatedPage(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, p);</div>
<div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;    }</div>
<div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160; </div>
<div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;    <span class="comment">// One unused page is kept, all further are released before sweeping them.</span></div>
<div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">live_bytes</a>() == 0) {</div>
<div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;      <span class="keywordflow">if</span> (unused_page_present) {</div>
<div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.gc_verbose) {</div>
<div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;          <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(heap_-&gt;isolate(), <span class="stringliteral">&quot;sweeping: released page: %p&quot;</span>,</div>
<div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;                       <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(p));</div>
<div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;        }</div>
<div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;        ReleasePage(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>, p);</div>
<div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;      }</div>
<div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;      unused_page_present = <span class="keyword">true</span>;</div>
<div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;    }</div>
<div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160; </div>
<div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    sweeper-&gt;<a class="code" href="classv8_1_1internal_1_1Sweeper.html#afe45a9e97df960e8895bffde73c4f7d2">AddPage</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity(), p);</div>
<div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;    will_be_swept++;</div>
<div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;  }</div>
<div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160; </div>
<div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits &amp;&amp; <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">OLD_SPACE</a>) {</div>
<div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;    <span class="keyword">static_cast&lt;</span><a class="code" href="classv8_1_1internal_1_1StickySpace.html">StickySpace</a>*<span class="keyword">&gt;</span>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>)-&gt;set_old_objects_size(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;Size());</div>
<div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;  }</div>
<div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160; </div>
<div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.gc_verbose) {</div>
<div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;    <a class="code" href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">PrintIsolate</a>(heap_-&gt;isolate(),</div>
<div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;                 <span class="stringliteral">&quot;sweeping: space=%s initialized_for_sweeping=%d&quot;</span>,</div>
<div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;                 <a class="code" href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity()), will_be_swept);</div>
<div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;  }</div>
<div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;}</div>
<div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160; </div>
<div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l06107"></a><span class="lineno"><a class="line" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a43d5122de51691bc0e40341d9be42cd4"> 6107</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a43d5122de51691bc0e40341d9be42cd4">ShouldPostponeFreeingEmptyPages</a>(<a class="code" href="classv8_1_1internal_1_1LargeObjectSpace.html">LargeObjectSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;  <span class="comment">// Delay releasing dead old large object pages until after pointer updating is</span></div>
<div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;  <span class="comment">// done because dead old space objects may have old-to-new slots (which</span></div>
<div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;  <span class="comment">// were possibly later overriden with old-to-old references) that are</span></div>
<div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;  <span class="comment">// pointing to these pages and will need to be updated.</span></div>
<div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542">LO_SPACE</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;  <span class="comment">// Old-to-new slots may also point to shared spaces. Delay releasing so that</span></div>
<div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;  <span class="comment">// updating slots in dead old objects can access the dead shared objects.</span></div>
<div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefaea13a1454fdc1412eea716033f5d503e">SHARED_LO_SPACE</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;}</div>
<div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160; </div>
<div class="line"><a name="l06120"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a14f47d0348b13ca89bea5f71604fa8f9"> 6120</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::SweepLargeSpace(<a class="code" href="classv8_1_1internal_1_1LargeObjectSpace.html">LargeObjectSpace</a>* <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>) {</div>
<div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;  <a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a> cage_base(heap_-&gt;isolate());</div>
<div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;  <span class="keywordtype">size_t</span> surviving_object_size = 0;</div>
<div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> postpone_freeing = <a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a43d5122de51691bc0e40341d9be42cd4">ShouldPostponeFreeingEmptyPages</a>(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>);</div>
<div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> add_to_pool =</div>
<div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;      <a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.large_page_pool &amp;&amp; <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;identity() == <a class="code" href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93">NEW_LO_SPACE</a>;</div>
<div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a>(add_to_pool, !postpone_freeing);</div>
<div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;  std::vector&lt;LargePageMetadata*&gt; pages_to_pool;</div>
<div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;  <span class="keywordflow">if</span> (add_to_pool) {</div>
<div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;    pages_to_pool.reserve(<a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;memory_chunk_list().size());</div>
<div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;  }</div>
<div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;begin(); it != <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;end();) {</div>
<div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;    <a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html">LargePageMetadata</a>* current = *(it++);</div>
<div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;    <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!current-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">Chunk</a>()-&gt;<a class="code" href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">IsFlagSet</a>(MemoryChunk::BLACK_ALLOCATED));</div>
<div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;    <a class="code" href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">Tagged&lt;HeapObject&gt;</a> <span class="keywordtype">object</span> = current-&gt;<a class="code" href="classv8_1_1internal_1_1LargePageMetadata.html#aa81d2320947766137b1c995447fb464c">GetObject</a>();</div>
<div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;    <span class="keywordflow">if</span> (!marking_state_-&gt;IsMarked(<span class="keywordtype">object</span>)) {</div>
<div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;      <span class="comment">// Object is dead and page can be released.</span></div>
<div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;      <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;RemovePage(current);</div>
<div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;      <span class="keywordflow">if</span> (postpone_freeing) {</div>
<div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;        queued_pages_to_be_freed_.push_back(current);</div>
<div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (add_to_pool) {</div>
<div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;        pages_to_pool.push_back(current);</div>
<div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;        heap_-&gt;memory_allocator()-&gt;Free(MemoryAllocator::FreeMode::kImmediately,</div>
<div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;                                        current);</div>
<div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;      }</div>
<div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;    }</div>
<div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.sticky_mark_bits) {</div>
<div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;      MarkBit::From(<span class="keywordtype">object</span>).Clear();</div>
<div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;      current-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a1bcf541508f597224a80ece032ed11e6">SetLiveBytes</a>(0);</div>
<div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;    }</div>
<div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;    current-&gt;<a class="code" href="classv8_1_1internal_1_1MutablePageMetadata.html#a61539ec5811e73edf0313dff80918d56">marking_progress_tracker</a>().<a class="code" href="classv8_1_1internal_1_1MarkingProgressTracker.html#a9a247cdc03af0fbdf1143e2300ffde61">ResetIfEnabled</a>();</div>
<div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;    surviving_object_size += <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<span class="keywordtype">object</span>-&gt;Size(cage_base));</div>
<div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;  }</div>
<div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;  <a class="code" href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a>-&gt;set_objects_size(surviving_object_size);</div>
<div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160; </div>
<div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;  <span class="keywordflow">if</span> (add_to_pool &amp;&amp; !pages_to_pool.empty()) {</div>
<div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;    <a class="code" href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a>()-&gt;memory_allocator()-&gt;FreeLargePagesPooled(std::move(pages_to_pool));</div>
<div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;  }</div>
<div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;}</div>
<div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160; </div>
<div class="line"><a name="l06162"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1MarkCompactCollector.html#a10a5a2e6ceb32614eacab77deaa104fe"> 6162</a></span>&#160;<span class="keywordtype">void</span> MarkCompactCollector::Sweep() {</div>
<div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(!sweeper_-&gt;sweeping_in_progress());</div>
<div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(queued_pages_to_be_freed_.empty());</div>
<div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160; </div>
<div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;  sweeper_-&gt;InitializeMajorSweeping();</div>
<div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160; </div>
<div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;  <a class="code" href="gc-tracer_8h.html#a44d6debe5f608aa9654172245625ef38">TRACE_GC_EPOCH_WITH_FLOW</a>(</div>
<div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;      heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP, ThreadKind::kMain,</div>
<div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;      sweeper_-&gt;GetTraceIdForFlowEvent(GCTracer::Scope::MC_SWEEP),</div>
<div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;      <a class="code" href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a>);</div>
<div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;  state_ = SWEEP_SPACES;</div>
<div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160; </div>
<div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;  {</div>
<div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_LO,</div>
<div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;                                ThreadKind::kMain);</div>
<div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    SweepLargeSpace(heap_-&gt;lo_space());</div>
<div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;  }</div>
<div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;  {</div>
<div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(</div>
<div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;        heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_CODE_LO, ThreadKind::kMain);</div>
<div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    SweepLargeSpace(heap_-&gt;code_lo_space());</div>
<div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;  }</div>
<div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;shared_space()) {</div>
<div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(heap_-&gt;tracer(),</div>
<div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;                                GCTracer::Scope::MC_SWEEP_SHARED_LO,</div>
<div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;                                ThreadKind::kMain);</div>
<div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;    SweepLargeSpace(heap_-&gt;shared_lo_space());</div>
<div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;  }</div>
<div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;  {</div>
<div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_OLD,</div>
<div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;                                ThreadKind::kMain);</div>
<div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;    StartSweepSpace(heap_-&gt;old_space());</div>
<div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;  }</div>
<div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;  {</div>
<div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_CODE,</div>
<div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;                                ThreadKind::kMain);</div>
<div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    StartSweepSpace(heap_-&gt;code_space());</div>
<div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;  }</div>
<div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;shared_space()) {</div>
<div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(</div>
<div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;        heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_SHARED, ThreadKind::kMain);</div>
<div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;    StartSweepSpace(heap_-&gt;shared_space());</div>
<div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;  }</div>
<div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;  {</div>
<div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(</div>
<div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;        heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_TRUSTED, ThreadKind::kMain);</div>
<div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    StartSweepSpace(heap_-&gt;trusted_space());</div>
<div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;  }</div>
<div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;  <span class="keywordflow">if</span> (heap_-&gt;shared_trusted_space()) {</div>
<div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(</div>
<div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;        heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_SHARED, ThreadKind::kMain);</div>
<div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;    StartSweepSpace(heap_-&gt;shared_trusted_space());</div>
<div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;  }</div>
<div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;  {</div>
<div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(heap_-&gt;tracer(),</div>
<div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;                                GCTracer::Scope::MC_SWEEP_TRUSTED_LO,</div>
<div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;                                ThreadKind::kMain);</div>
<div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;    SweepLargeSpace(heap_-&gt;trusted_lo_space());</div>
<div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;  }</div>
<div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8_flags</a>.minor_ms &amp;&amp; heap_-&gt;new_space()) {</div>
<div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;    <a class="code" href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">GCTracer::Scope</a> sweep_scope(heap_-&gt;tracer(), GCTracer::Scope::MC_SWEEP_NEW,</div>
<div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;                                ThreadKind::kMain);</div>
<div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;    StartSweepNewSpace();</div>
<div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;  }</div>
<div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160; </div>
<div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;  sweeper_-&gt;StartMajorSweeping();</div>
<div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;}</div>
<div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160; </div>
<div class="line"><a name="l06232"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RootMarkingVisitor.html#aee4686c927c25465f510888d48eb75d0"> 6232</a></span>&#160;RootMarkingVisitor::RootMarkingVisitor(<a class="code" href="classv8_1_1internal_1_1MarkCompactCollector.html">MarkCompactCollector</a>* collector)</div>
<div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;    : collector_(collector) {}</div>
<div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160; </div>
<div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;<a class="code" href="classv8_1_1internal_1_1RootMarkingVisitor.html#ad0215961c5c1ccc45f2c66a782e4b446">RootMarkingVisitor::~RootMarkingVisitor</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160; </div>
<div class="line"><a name="l06237"></a><span class="lineno"><a class="line" href="classv8_1_1internal_1_1RootMarkingVisitor.html#aaae2d46819c8e1405a73bc1de3c2984f"> 6237</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1internal_1_1RootMarkingVisitor.html#aaae2d46819c8e1405a73bc1de3c2984f">RootMarkingVisitor::VisitRunningCode</a>(</div>
<div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;    <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> code_slot, <a class="code" href="classv8_1_1internal_1_1FullObjectSlot.html">FullObjectSlot</a> istream_or_smi_zero_slot) {</div>
<div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">Tagged&lt;Object&gt;</a> istream_or_smi_zero = *istream_or_smi_zero_slot;</div>
<div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;  <a class="code" href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">DCHECK</a>(istream_or_smi_zero == <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>() ||</div>
<div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;         IsInstructionStream(istream_or_smi_zero));</div>
<div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;  <a class="code" href="classv8_1_1internal_1_1Tagged.html">Tagged&lt;Code&gt;</a> <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a> = Cast&lt;Code&gt;(*code_slot);</div>
<div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a>(<a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;raw_instruction_stream(<a class="code" href="classv8_1_1internal_1_1PtrComprCageBase.html">PtrComprCageBase</a>{</div>
<div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;                collector_-&gt;heap()-&gt;isolate()-&gt;code_cage_base()}),</div>
<div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;            istream_or_smi_zero);</div>
<div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160; </div>
<div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;  <span class="comment">// We must not remove deoptimization literals which may be needed in</span></div>
<div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;  <span class="comment">// order to successfully deoptimize.</span></div>
<div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;  <a class="code" href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a>-&gt;IterateDeoptimizationLiterals(<span class="keyword">this</span>);</div>
<div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160; </div>
<div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;  <span class="keywordflow">if</span> (istream_or_smi_zero != <a class="code" href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">Smi::zero</a>()) {</div>
<div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;    <a class="code" href="classv8_1_1internal_1_1RootMarkingVisitor.html#a9b21678c05713ed9f8773414b2967561">VisitRootPointer</a>(Root::kStackRoots, <span class="keyword">nullptr</span>, istream_or_smi_zero_slot);</div>
<div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;  }</div>
<div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160; </div>
<div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;  <a class="code" href="classv8_1_1internal_1_1RootMarkingVisitor.html#a9b21678c05713ed9f8773414b2967561">VisitRootPointer</a>(Root::kStackRoots, <span class="keyword">nullptr</span>, code_slot);</div>
<div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;}</div>
<div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160; </div>
<div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;}  <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aarray-buffer-sweeper_8h_html"><div class="ttname"><a href="array-buffer-sweeper_8h.html">array-buffer-sweeper.h</a></div></div>
<div class="ttc" id="aassert-scope_8h_html"><div class="ttname"><a href="assert-scope_8h.html">assert-scope.h</a></div></div>
<div class="ttc" id="abasic-slot-set_8h_html"><div class="ttname"><a href="basic-slot-set_8h.html">basic-slot-set.h</a></div></div>
<div class="ttc" id="abits_8h_html"><div class="ttname"><a href="bits_8h.html">bits.h</a></div></div>
<div class="ttc" id="acancelable-task_8h_html"><div class="ttname"><a href="cancelable-task_8h.html">cancelable-task.h</a></div></div>
<div class="ttc" id="acheck_8h_html_a6e67d209c0a0c9c55b7b563275f63bdd"><div class="ttname"><a href="check_8h.html#a6e67d209c0a0c9c55b7b563275f63bdd">SBXCHECK_EQ</a></div><div class="ttdeci">#define SBXCHECK_EQ(lhs, rhs)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00055">check.h:55</a></div></div>
<div class="ttc" id="acheck_8h_html_aee78f6fbdf206be23e949191f9408e4b"><div class="ttname"><a href="check_8h.html#aee78f6fbdf206be23e949191f9408e4b">SBXCHECK</a></div><div class="ttdeci">#define SBXCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="check_8h_source.html#l00054">check.h:54</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1BasicSlotSet_html_a29cbe55a0c506ffa5e38391facbe7b99a43a6065835f1c9c12356790a590c40d4"><div class="ttname"><a href="classheap_1_1base_1_1BasicSlotSet.html#a29cbe55a0c506ffa5e38391facbe7b99a43a6065835f1c9c12356790a590c40d4">heap::base::BasicSlotSet&lt; kTaggedSize &gt;::FREE_EMPTY_BUCKETS</a></div><div class="ttdeci">@ FREE_EMPTY_BUCKETS</div><div class="ttdef"><b>Definition:</b> <a href="basic-slot-set_8h_source.html#l00043">basic-slot-set.h:43</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1Worklist_1_1Local_html"><div class="ttname"><a href="classheap_1_1base_1_1Worklist_1_1Local.html">heap::base::Worklist::Local</a></div><div class="ttdef"><b>Definition:</b> <a href="worklist_8h_source.html#l00304">worklist.h:304</a></div></div>
<div class="ttc" id="aclassheap_1_1base_1_1Worklist_1_1Local_html_abba14522bed612889111e86c354c38bc"><div class="ttname"><a href="classheap_1_1base_1_1Worklist_1_1Local.html#abba14522bed612889111e86c354c38bc">heap::base::Worklist::Local::Pop</a></div><div class="ttdeci">bool Pop(EntryType *entry)</div><div class="ttdef"><b>Definition:</b> <a href="worklist_8h_source.html#l00402">worklist.h:402</a></div></div>
<div class="ttc" id="aclassuintptr__t_html"><div class="ttname"><a href="classuintptr__t.html">uintptr_t</a></div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html"><div class="ttname"><a href="classv8_1_1JobDelegate.html">v8::JobDelegate</a></div><div class="ttdoc">Delegate that's passed to Job's worker task, providing an entry point to communicate with the schedul...</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00206">v8-platform.h:206</a></div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_a93be293521d70bd38d5c69d35b1df790"><div class="ttname"><a href="classv8_1_1JobDelegate.html#a93be293521d70bd38d5c69d35b1df790">v8::JobDelegate::IsJoiningThread</a></div><div class="ttdeci">virtual bool IsJoiningThread() const =0</div><div class="ttdoc">Returns true if the current task is called from the thread currently running JobHandle::Join().</div></div>
<div class="ttc" id="aclassv8_1_1JobDelegate_html_aeaea259d5f4fec4aaca6f9fc35126fda"><div class="ttname"><a href="classv8_1_1JobDelegate.html#aeaea259d5f4fec4aaca6f9fc35126fda">v8::JobDelegate::GetTaskId</a></div><div class="ttdeci">virtual uint8_t GetTaskId()=0</div><div class="ttdoc">Returns a task_id unique among threads currently running this job, such that GetTaskId() &lt; worker cou...</div></div>
<div class="ttc" id="aclassv8_1_1JobTask_html"><div class="ttname"><a href="classv8_1_1JobTask.html">v8::JobTask</a></div><div class="ttdoc">A JobTask represents work to run in parallel from Platform::PostJob().</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l00300">v8-platform.h:300</a></div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a57cdd7eb4c482bfb806c378beeda716d"><div class="ttname"><a href="classv8_1_1Platform.html#a57cdd7eb4c482bfb806c378beeda716d">v8::Platform::NumberOfWorkerThreads</a></div><div class="ttdeci">virtual int NumberOfWorkerThreads()=0</div><div class="ttdoc">Gets the max number of worker threads that may be used to execute concurrent work scheduled for any s...</div></div>
<div class="ttc" id="aclassv8_1_1Platform_html_a5a62780772e38f1f00317fce609ec0d4"><div class="ttname"><a href="classv8_1_1Platform.html#a5a62780772e38f1f00317fce609ec0d4">v8::Platform::CreateJob</a></div><div class="ttdeci">std::unique_ptr&lt; JobHandle &gt; CreateJob(TaskPriority priority, std::unique_ptr&lt; JobTask &gt; job_task, const SourceLocation &amp;location=SourceLocation::Current())</div><div class="ttdoc">Creates and returns a JobHandle associated with a Job.</div><div class="ttdef"><b>Definition:</b> <a href="v8-platform_8h_source.html#l01310">v8-platform.h:1310</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalOneByteStringResource_html"><div class="ttname"><a href="classv8_1_1String_1_1ExternalOneByteStringResource.html">v8::String::ExternalOneByteStringResource</a></div><div class="ttdoc">An ExternalOneByteStringResource is a wrapper around an one-byte string buffer that resides outside V...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00444">v8-primitive.h:445</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResourceBase_html"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResourceBase.html">v8::String::ExternalStringResourceBase</a></div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00295">v8-primitive.h:295</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1ExternalStringResource_html"><div class="ttname"><a href="classv8_1_1String_1_1ExternalStringResource.html">v8::String::ExternalStringResource</a></div><div class="ttdoc">An ExternalStringResource is a wrapper around a two-byte string buffer that resides outside V8's heap...</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00390">v8-primitive.h:390</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1EnumSet_html"><div class="ttname"><a href="classv8_1_1base_1_1EnumSet.html">v8::base::EnumSet&lt; CodeFlushMode &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1EnumSet_html_a284a9564cbcce06b154271c335244102"><div class="ttname"><a href="classv8_1_1base_1_1EnumSet.html#a284a9564cbcce06b154271c335244102">v8::base::EnumSet::Add</a></div><div class="ttdeci">constexpr void Add(E element)</div><div class="ttdef"><b>Definition:</b> <a href="enum-set_8h_source.html#l00050">enum-set.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1Mutex_html"><div class="ttname"><a href="classv8_1_1base_1_1Mutex.html">v8::base::Mutex</a></div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00036">mutex.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RandomNumberGenerator_html_a3cb661fd70f4322d36792f98acd6ca7e"><div class="ttname"><a href="classv8_1_1base_1_1RandomNumberGenerator.html#a3cb661fd70f4322d36792f98acd6ca7e">v8::base::RandomNumberGenerator::NextDouble</a></div><div class="ttdeci">double NextDouble() V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="random-number-generator_8cc_source.html#l00114">random-number-generator.cc:114</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RandomNumberGenerator_html_a4090ec844e0f1cc4150db68cf69c6c7d"><div class="ttname"><a href="classv8_1_1base_1_1RandomNumberGenerator.html#a4090ec844e0f1cc4150db68cf69c6c7d">v8::base::RandomNumberGenerator::NextSample</a></div><div class="ttdeci">std::vector&lt; uint64_t &gt; NextSample(uint64_t max, size_t n) V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="random-number-generator_8cc_source.html#l00144">random-number-generator.cc:144</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1RandomNumberGenerator_html_ac44e22b8b6250f2cc8666c880a4871a8"><div class="ttname"><a href="classv8_1_1base_1_1RandomNumberGenerator.html#ac44e22b8b6250f2cc8666c880a4871a8">v8::base::RandomNumberGenerator::NextInt64</a></div><div class="ttdeci">int64_t NextInt64() V8_WARN_UNUSED_RESULT</div><div class="ttdef"><b>Definition:</b> <a href="random-number-generator_8cc_source.html#l00120">random-number-generator.cc:120</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html">v8::base::TimeDelta</a></div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00070">time.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeDelta_html_a1330af8b50fc0206f46945ea8d6922cf"><div class="ttname"><a href="classv8_1_1base_1_1TimeDelta.html#a1330af8b50fc0206f46945ea8d6922cf">v8::base::TimeDelta::Max</a></div><div class="ttdeci">static constexpr TimeDelta Max()</div><div class="ttdef"><b>Definition:</b> <a href="time_8h_source.html#l00218">time.h:218</a></div></div>
<div class="ttc" id="aclassv8_1_1base_1_1TimeTicks_html_ab0886bf0e84f1e1fcdc101021c2c0775"><div class="ttname"><a href="classv8_1_1base_1_1TimeTicks.html#ab0886bf0e84f1e1fcdc101021c2c0775">v8::base::TimeTicks::Now</a></div><div class="ttdeci">static TimeTicks Now()</div><div class="ttdef"><b>Definition:</b> <a href="time_8cc_source.html#l00736">time.cc:736</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AllStatic_html"><div class="ttname"><a href="classv8_1_1internal_1_1AllStatic.html">v8::internal::AllStatic</a></div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00365">globals.h:365</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AllocationResult_html"><div class="ttname"><a href="classv8_1_1internal_1_1AllocationResult.html">v8::internal::AllocationResult</a></div><div class="ttdef"><b>Definition:</b> <a href="allocation-result_8h_source.html#l00026">allocation-result.h:26</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AllocationResult_html_a31246fcfde98bb83ffbf3829f5a3e835"><div class="ttname"><a href="classv8_1_1internal_1_1AllocationResult.html#a31246fcfde98bb83ffbf3829f5a3e835">v8::internal::AllocationResult::To</a></div><div class="ttdeci">bool To(Tagged&lt; T &gt; *obj) const</div><div class="ttdef"><b>Definition:</b> <a href="allocation-result_8h_source.html#l00041">allocation-result.h:41</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1AllocationResult_html_a80c925fd9d024e9ec6da26987f40eb91"><div class="ttname"><a href="classv8_1_1internal_1_1AllocationResult.html#a80c925fd9d024e9ec6da26987f40eb91">v8::internal::AllocationResult::IsFailure</a></div><div class="ttdeci">bool IsFailure() const</div><div class="ttdef"><b>Definition:</b> <a href="allocation-result_8h_source.html#l00038">allocation-result.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ArrayBufferSweeper_html_a5fd86b603aaa53c5799679544e8b479f"><div class="ttname"><a href="classv8_1_1internal_1_1ArrayBufferSweeper.html#a5fd86b603aaa53c5799679544e8b479f">v8::internal::ArrayBufferSweeper::RequestSweep</a></div><div class="ttdeci">void RequestSweep(SweepingType sweeping_type, TreatAllYoungAsPromoted treat_all_young_as_promoted)</div><div class="ttdef"><b>Definition:</b> <a href="array-buffer-sweeper_8cc_source.html#l00282">array-buffer-sweeper.cc:282</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ArrayBufferSweeper_html_a64a03d5f0aa3d4fb500b899ed3ff3342aa60924e124da4d51bd4dc74c8f85b158"><div class="ttname"><a href="classv8_1_1internal_1_1ArrayBufferSweeper.html#a64a03d5f0aa3d4fb500b899ed3ff3342aa60924e124da4d51bd4dc74c8f85b158">v8::internal::ArrayBufferSweeper::SweepingType::kFull</a></div><div class="ttdeci">@ kFull</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ArrayBufferSweeper_html_a77240e54ef35b7c87630abc2b6b2b82ea1ea590aa4a64767508460736ac0edaa9"><div class="ttname"><a href="classv8_1_1internal_1_1ArrayBufferSweeper.html#a77240e54ef35b7c87630abc2b6b2b82ea1ea590aa4a64767508460736ac0edaa9">v8::internal::ArrayBufferSweeper::TreatAllYoungAsPromoted::kYes</a></div><div class="ttdeci">@ kYes</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ClientObjectVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1ClientObjectVisitor.html">v8::internal::ClientObjectVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00299">visitors.h:299</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ClientRootVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1ClientRootVisitor.html">v8::internal::ClientRootVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00258">visitors.h:258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CompilationCache_html_a6c6f1bec5e0eeb46801ff0f051fd381a"><div class="ttname"><a href="classv8_1_1internal_1_1CompilationCache.html#a6c6f1bec5e0eeb46801ff0f051fd381a">v8::internal::CompilationCache::MarkCompactPrologue</a></div><div class="ttdeci">void MarkCompactPrologue()</div><div class="ttdef"><b>Definition:</b> <a href="compilation-cache_8cc_source.html#l00345">compilation-cache.cc:345</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConcurrentMarking_html_a3f1743cd46ce9240e4ffbb5098de064b"><div class="ttname"><a href="classv8_1_1internal_1_1ConcurrentMarking.html#a3f1743cd46ce9240e4ffbb5098de064b">v8::internal::ConcurrentMarking::FlushMemoryChunkData</a></div><div class="ttdeci">void FlushMemoryChunkData()</div><div class="ttdef"><b>Definition:</b> <a href="concurrent-marking_8cc_source.html#l00853">concurrent-marking.cc:853</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConcurrentMarking_html_a43f88ef394ce90569543e44ab0381cf8"><div class="ttname"><a href="classv8_1_1internal_1_1ConcurrentMarking.html#a43f88ef394ce90569543e44ab0381cf8">v8::internal::ConcurrentMarking::Join</a></div><div class="ttdeci">void Join()</div><div class="ttdef"><b>Definition:</b> <a href="concurrent-marking_8cc_source.html#l00796">concurrent-marking.cc:796</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConcurrentMarking_html_a884b7ca1bb9c41508d91ca620cdd29a9"><div class="ttname"><a href="classv8_1_1internal_1_1ConcurrentMarking.html#a884b7ca1bb9c41508d91ca620cdd29a9">v8::internal::ConcurrentMarking::garbage_collector</a></div><div class="ttdeci">GarbageCollector garbage_collector() const</div><div class="ttdef"><b>Definition:</b> <a href="concurrent-marking_8h_source.html#l00081">concurrent-marking.h:81</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConcurrentMarking_html_a8eaf129f2de29cd9b015ed61b31babc5"><div class="ttname"><a href="classv8_1_1internal_1_1ConcurrentMarking.html#a8eaf129f2de29cd9b015ed61b31babc5">v8::internal::ConcurrentMarking::FlushNativeContexts</a></div><div class="ttdeci">void FlushNativeContexts(NativeContextStats *main_stats)</div><div class="ttdef"><b>Definition:</b> <a href="concurrent-marking_8cc_source.html#l00845">concurrent-marking.cc:845</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ConcurrentMarking_html_aaf8d90cff77b3890a4de513377521ce4"><div class="ttname"><a href="classv8_1_1internal_1_1ConcurrentMarking.html#aaf8d90cff77b3890a4de513377521ce4">v8::internal::ConcurrentMarking::RescheduleJobIfNeeded</a></div><div class="ttdeci">void RescheduleJobIfNeeded(GarbageCollector garbage_collector, TaskPriority priority=TaskPriority::kUserVisible)</div><div class="ttdef"><b>Definition:</b> <a href="concurrent-marking_8cc_source.html#l00743">concurrent-marking.cc:743</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_a8298280d36073a63d9787cd1167aaefa"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#a8298280d36073a63d9787cd1167aaefa">v8::internal::CppHeap::From</a></div><div class="ttdeci">static CppHeap * From(v8::CppHeap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="cpp-heap_8h_source.html#l00103">cpp-heap.h:103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1CppHeap_html_ae67d52cdcb6ee95629fe16a51437588c"><div class="ttname"><a href="classv8_1_1internal_1_1CppHeap.html#ae67d52cdcb6ee95629fe16a51437588c">v8::internal::CppHeap::StartMarking</a></div><div class="ttdeci">void StartMarking()</div><div class="ttdef"><b>Definition:</b> <a href="cpp-heap_8cc_source.html#l00833">cpp-heap.cc:833</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Deoptimizer_html_a7cbb81963c0529cc90612511d408db06"><div class="ttname"><a href="classv8_1_1internal_1_1Deoptimizer.html#a7cbb81963c0529cc90612511d408db06">v8::internal::Deoptimizer::DeoptimizeMarkedCode</a></div><div class="ttdeci">static void DeoptimizeMarkedCode(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="deoptimizer_8cc_source.html#l00405">deoptimizer.cc:405</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EphemeronTableUpdatingItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html">v8::internal::EphemeronTableUpdatingItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05568">mark-compact.cc:5568</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EphemeronTableUpdatingItem_html_a7e6d6b29e5e1b29d8f9d55450683e545"><div class="ttname"><a href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#a7e6d6b29e5e1b29d8f9d55450683e545">v8::internal::EphemeronTableUpdatingItem::EphemeronTableUpdatingItem</a></div><div class="ttdeci">EphemeronTableUpdatingItem(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05572">mark-compact.cc:5572</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EphemeronTableUpdatingItem_html_a9d091bd8570c5496a36cae397b82ab77"><div class="ttname"><a href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#a9d091bd8570c5496a36cae397b82ab77">v8::internal::EphemeronTableUpdatingItem::heap_</a></div><div class="ttdeci">Heap *const heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05610">mark-compact.cc:5610</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EphemeronTableUpdatingItem_html_ac54e0464bf7d4c9057d9a4480f6a6697"><div class="ttname"><a href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ac54e0464bf7d4c9057d9a4480f6a6697">v8::internal::EphemeronTableUpdatingItem::~EphemeronTableUpdatingItem</a></div><div class="ttdeci">~EphemeronTableUpdatingItem() override=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EphemeronTableUpdatingItem_html_ac949b97b5c3389e75e56760c50a48f20"><div class="ttname"><a href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ac949b97b5c3389e75e56760c50a48f20">v8::internal::EphemeronTableUpdatingItem::Process</a></div><div class="ttdeci">void Process() override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05575">mark-compact.cc:5575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EphemeronTableUpdatingItem_html_ae44eea2b28d64a5c3d98ad6160cd658e"><div class="ttname"><a href="classv8_1_1internal_1_1EphemeronTableUpdatingItem.html#ae44eea2b28d64a5c3d98ad6160cd658e">v8::internal::EphemeronTableUpdatingItem::EvacuationState</a></div><div class="ttdeci">EvacuationState</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05570">mark-compact.cc:5570</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html">v8::internal::EvacuateNewSpaceVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01659">mark-compact.cc:1659</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a1d759af3da5b6b665fb3b9f825547667"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a1d759af3da5b6b665fb3b9f825547667">v8::internal::EvacuateNewSpaceVisitor::local_pretenuring_feedback_</a></div><div class="ttdeci">PretenuringHandler::PretenuringFeedbackMap * local_pretenuring_feedback_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01747">mark-compact.cc:1747</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a2d0b21dc57fd9b9c82fc26064ed60843"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a2d0b21dc57fd9b9c82fc26064ed60843">v8::internal::EvacuateNewSpaceVisitor::AllocateTargetObject</a></div><div class="ttdeci">AllocationSpace AllocateTargetObject(Tagged&lt; HeapObject &gt; old_object, int size, Tagged&lt; HeapObject &gt; *target_object)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01714">mark-compact.cc:1714</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a5f6cb02b7a390f271ba17d2a67225665"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a5f6cb02b7a390f271ba17d2a67225665">v8::internal::EvacuateNewSpaceVisitor::promoted_size</a></div><div class="ttdeci">intptr_t promoted_size()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01692">mark-compact.cc:1692</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a6583f689af8e8a1c63d512a0c5b6a9d4"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6583f689af8e8a1c63d512a0c5b6a9d4">v8::internal::EvacuateNewSpaceVisitor::promoted_size_</a></div><div class="ttdeci">intptr_t promoted_size_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01745">mark-compact.cc:1745</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a6ba380e0e9e0ec82b34e74ac32e18b48"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6ba380e0e9e0ec82b34e74ac32e18b48">v8::internal::EvacuateNewSpaceVisitor::is_incremental_marking_</a></div><div class="ttdeci">bool is_incremental_marking_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01748">mark-compact.cc:1748</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a6eda57074c3bed95d2e9619004bbd7d7"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a6eda57074c3bed95d2e9619004bbd7d7">v8::internal::EvacuateNewSpaceVisitor::EvacuateNewSpaceVisitor</a></div><div class="ttdeci">EvacuateNewSpaceVisitor(Heap *heap, EvacuationAllocator *local_allocator, RecordMigratedSlotVisitor *record_visitor, PretenuringHandler::PretenuringFeedbackMap *local_pretenuring_feedback)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01661">mark-compact.cc:1661</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a81a30226c318f15df8c8db85c22c2721"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a81a30226c318f15df8c8db85c22c2721">v8::internal::EvacuateNewSpaceVisitor::AllocateInOldSpace</a></div><div class="ttdeci">AllocationResult AllocateInOldSpace(int size_in_bytes, AllocationAlignment alignment)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01734">mark-compact.cc:1734</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a90fb3760becee2760ba03536f1313828"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a90fb3760becee2760ba03536f1313828">v8::internal::EvacuateNewSpaceVisitor::pretenuring_handler_</a></div><div class="ttdeci">PretenuringHandler *const pretenuring_handler_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01746">mark-compact.cc:1746</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_a948da804c84d2df85242c755f9965a31"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#a948da804c84d2df85242c755f9965a31">v8::internal::EvacuateNewSpaceVisitor::TryEvacuateWithoutCopy</a></div><div class="ttdeci">bool TryEvacuateWithoutCopy(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01695">mark-compact.cc:1695</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_ab44fb37b3abd158ebc6dc6a320e272e4"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#ab44fb37b3abd158ebc6dc6a320e272e4">v8::internal::EvacuateNewSpaceVisitor::Visit</a></div><div class="ttdeci">bool Visit(Tagged&lt; HeapObject &gt; object, int size) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01676">mark-compact.cc:1676</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewSpaceVisitor_html_abbe684f6cf7a217348a5c6d55886cbda"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewSpaceVisitor.html#abbe684f6cf7a217348a5c6d55886cbda">v8::internal::EvacuateNewSpaceVisitor::shortcut_strings_</a></div><div class="ttdeci">const bool shortcut_strings_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01749">mark-compact.cc:1749</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html">v8::internal::EvacuateNewToOldSpacePageVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01752">mark-compact.cc:1752</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_a03d8c6055f02edef843f7541a31e086e"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a03d8c6055f02edef843f7541a31e086e">v8::internal::EvacuateNewToOldSpacePageVisitor::record_visitor_</a></div><div class="ttdeci">RecordMigratedSlotVisitor * record_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01782">mark-compact.cc:1782</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_a4d1553ba331c744c54b046ff216bfa76"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a4d1553ba331c744c54b046ff216bfa76">v8::internal::EvacuateNewToOldSpacePageVisitor::EvacuateNewToOldSpacePageVisitor</a></div><div class="ttdeci">EvacuateNewToOldSpacePageVisitor(Heap *heap, RecordMigratedSlotVisitor *record_visitor, PretenuringHandler::PretenuringFeedbackMap *local_pretenuring_feedback)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01754">mark-compact.cc:1754</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_a67905c0c95dc72ca1edee835d2b00aa2"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a67905c0c95dc72ca1edee835d2b00aa2">v8::internal::EvacuateNewToOldSpacePageVisitor::account_moved_bytes</a></div><div class="ttdeci">void account_moved_bytes(intptr_t bytes)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01778">mark-compact.cc:1778</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_a74f0b51bc1a4346b8963f2a8244ccec9"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a74f0b51bc1a4346b8963f2a8244ccec9">v8::internal::EvacuateNewToOldSpacePageVisitor::moved_bytes_</a></div><div class="ttdeci">intptr_t moved_bytes_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01783">mark-compact.cc:1783</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_a88b766bb4b1fdf92a63add2a730fff03"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#a88b766bb4b1fdf92a63add2a730fff03">v8::internal::EvacuateNewToOldSpacePageVisitor::moved_bytes</a></div><div class="ttdeci">intptr_t moved_bytes()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01777">mark-compact.cc:1777</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_ab08bf909e4b9d6b8aa72af4c17767896"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ab08bf909e4b9d6b8aa72af4c17767896">v8::internal::EvacuateNewToOldSpacePageVisitor::Move</a></div><div class="ttdeci">static void Move(PageMetadata *page)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01763">mark-compact.cc:1763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_acc0958757144c2844afea5016ac972f4"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#acc0958757144c2844afea5016ac972f4">v8::internal::EvacuateNewToOldSpacePageVisitor::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01781">mark-compact.cc:1781</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_adf2216bbd8150b14345b02a55cf7e355"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#adf2216bbd8150b14345b02a55cf7e355">v8::internal::EvacuateNewToOldSpacePageVisitor::Visit</a></div><div class="ttdeci">bool Visit(Tagged&lt; HeapObject &gt; object, int size) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01769">mark-compact.cc:1769</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_ae47a09dd3b279f876538e74543283657"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#ae47a09dd3b279f876538e74543283657">v8::internal::EvacuateNewToOldSpacePageVisitor::local_pretenuring_feedback_</a></div><div class="ttdeci">PretenuringHandler::PretenuringFeedbackMap * local_pretenuring_feedback_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01785">mark-compact.cc:1785</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor_html_afd11c697cabd9a2972265f4d22b3d87a"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateNewToOldSpacePageVisitor.html#afd11c697cabd9a2972265f4d22b3d87a">v8::internal::EvacuateNewToOldSpacePageVisitor::pretenuring_handler_</a></div><div class="ttdeci">PretenuringHandler *const pretenuring_handler_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01784">mark-compact.cc:1784</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateOldSpaceVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html">v8::internal::EvacuateOldSpaceVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01788">mark-compact.cc:1788</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateOldSpaceVisitor_html_a6bd5bea82ad2b8dabf63b2dc3ab08833"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html#a6bd5bea82ad2b8dabf63b2dc3ab08833">v8::internal::EvacuateOldSpaceVisitor::Visit</a></div><div class="ttdeci">bool Visit(Tagged&lt; HeapObject &gt; object, int size) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01794">mark-compact.cc:1794</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateOldSpaceVisitor_html_ac66c14aebc595f4389334a3799a27404"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateOldSpaceVisitor.html#ac66c14aebc595f4389334a3799a27404">v8::internal::EvacuateOldSpaceVisitor::EvacuateOldSpaceVisitor</a></div><div class="ttdeci">EvacuateOldSpaceVisitor(Heap *heap, EvacuationAllocator *local_allocator, RecordMigratedSlotVisitor *record_visitor)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01790">mark-compact.cc:1790</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html">v8::internal::EvacuateRecordOnlyVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01807">mark-compact.cc:1807</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html_a8e0748a9199cee3b8007aebb2d228604"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8e0748a9199cee3b8007aebb2d228604">v8::internal::EvacuateRecordOnlyVisitor::EvacuateRecordOnlyVisitor</a></div><div class="ttdeci">EvacuateRecordOnlyVisitor(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01809">mark-compact.cc:1809</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html_a8fb4b99fb5e8ee1714b20cb24f993a44"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#a8fb4b99fb5e8ee1714b20cb24f993a44">v8::internal::EvacuateRecordOnlyVisitor::live_object_size</a></div><div class="ttdeci">size_t live_object_size() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01823">mark-compact.cc:1823</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html_ab5700d6b1148270b82e06d8050d2ae87"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ab5700d6b1148270b82e06d8050d2ae87">v8::internal::EvacuateRecordOnlyVisitor::cage_base_</a></div><div class="ttdeci">const PtrComprCageBase cage_base_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01827">mark-compact.cc:1827</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html_ac6125bc754d4c7ba02699e489318fbf0"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#ac6125bc754d4c7ba02699e489318fbf0">v8::internal::EvacuateRecordOnlyVisitor::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01826">mark-compact.cc:1826</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html_acd485928e97629ce830a3fae5be7b993"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#acd485928e97629ce830a3fae5be7b993">v8::internal::EvacuateRecordOnlyVisitor::live_object_size_</a></div><div class="ttdeci">size_t live_object_size_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01828">mark-compact.cc:1828</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateRecordOnlyVisitor_html_aff475f46419c2e731b1670e8e00d0270"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateRecordOnlyVisitor.html#aff475f46419c2e731b1670e8e00d0270">v8::internal::EvacuateRecordOnlyVisitor::Visit</a></div><div class="ttdeci">bool Visit(Tagged&lt; HeapObject &gt; object, int size) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01812">mark-compact.cc:1812</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html">v8::internal::EvacuateVisitorBase</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01452">mark-compact.cc:1452</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a034bacd0b3a920ee6ecbcbaf24fc36ed"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a034bacd0b3a920ee6ecbcbaf24fc36ed">v8::internal::EvacuateVisitorBase::ExecuteMigrationObservers</a></div><div class="ttdeci">void ExecuteMigrationObservers(AllocationSpace dest, Tagged&lt; HeapObject &gt; src, Tagged&lt; HeapObject &gt; dst, int size)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01634">mark-compact.cc:1634</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a0c3cbd23e8f28a0038f6d93b38bbdbbb"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a0c3cbd23e8f28a0038f6d93b38bbdbbb">v8::internal::EvacuateVisitorBase::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01647">mark-compact.cc:1647</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a129c5df17e8230e4e0aecb5e183c4fd1"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a129c5df17e8230e4e0aecb5e183c4fd1">v8::internal::EvacuateVisitorBase::shared_string_table_</a></div><div class="ttdeci">const bool shared_string_table_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01652">mark-compact.cc:1652</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a12a3ff0d411a446f60d4398f9e0f1877"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a12a3ff0d411a446f60d4398f9e0f1877">v8::internal::EvacuateVisitorBase::RawMigrateObject</a></div><div class="ttdeci">static void RawMigrateObject(EvacuateVisitorBase *base, Tagged&lt; HeapObject &gt; dst, Tagged&lt; HeapObject &gt; src, int size, AllocationSpace dest)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01500">mark-compact.cc:1500</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a22152d774553dd906bca340c583ddbb1"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a22152d774553dd906bca340c583ddbb1">v8::internal::EvacuateVisitorBase::ShouldPromoteIntoSharedHeap</a></div><div class="ttdeci">bool ShouldPromoteIntoSharedHeap(Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01626">mark-compact.cc:1626</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a54053f4329e3d80206fd801c3d72d0c5"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a54053f4329e3d80206fd801c3d72d0c5">v8::internal::EvacuateVisitorBase::rng_</a></div><div class="ttdeci">std::optional&lt; base::RandomNumberGenerator &gt; rng_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01656">mark-compact.cc:1656</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a6321f4dbe8353193b8e5bd4ea1d96cf4"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6321f4dbe8353193b8e5bd4ea1d96cf4">v8::internal::EvacuateVisitorBase::TryEvacuateObject</a></div><div class="ttdeci">bool TryEvacuateObject(AllocationSpace target_space, Tagged&lt; HeapObject &gt; object, int size, Tagged&lt; HeapObject &gt; *target_object)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01594">mark-compact.cc:1594</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a66fbd0566143fccc89168a2e82a15e90"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a66fbd0566143fccc89168a2e82a15e90">v8::internal::EvacuateVisitorBase::cage_base</a></div><div class="ttdeci">PtrComprCageBase cage_base()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01486">mark-compact.cc:1486</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a6a58e9aa2a85e1afbd833fb49c17df54"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a6a58e9aa2a85e1afbd833fb49c17df54">v8::internal::EvacuateVisitorBase::record_visitor_</a></div><div class="ttdeci">RecordMigratedSlotVisitor * record_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01649">mark-compact.cc:1649</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_a9e08b20159fa7ad1617e50bb2ca66be2"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#a9e08b20159fa7ad1617e50bb2ca66be2">v8::internal::EvacuateVisitorBase::AddObserver</a></div><div class="ttdeci">void AddObserver(MigrationObserver *observer)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01454">mark-compact.cc:1454</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_aa4d49f3e5e4c15d09fa367db1fcf1b6c"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa4d49f3e5e4c15d09fa367db1fcf1b6c">v8::internal::EvacuateVisitorBase::EvacuateVisitorBase</a></div><div class="ttdeci">EvacuateVisitorBase(Heap *heap, EvacuationAllocator *local_allocator, RecordMigratedSlotVisitor *record_visitor)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01581">mark-compact.cc:1581</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_aa85c28a875b76dca3dfeb5698d5aafeb"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#aa85c28a875b76dca3dfeb5698d5aafeb">v8::internal::EvacuateVisitorBase::local_allocator_</a></div><div class="ttdeci">EvacuationAllocator * local_allocator_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01648">mark-compact.cc:1648</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_ac4b17a5efe9e8312259e6b834f83bbd7"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ac4b17a5efe9e8312259e6b834f83bbd7">v8::internal::EvacuateVisitorBase::MigrateFunction</a></div><div class="ttdeci">void(*)(EvacuateVisitorBase *base, Tagged&lt; HeapObject &gt; dst, Tagged&lt; HeapObject &gt; src, int size, AllocationSpace dest) MigrateFunction</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01494">mark-compact.cc:1497</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_acd573012c922867059b0f4ac0c6e2df3"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#acd573012c922867059b0f4ac0c6e2df3">v8::internal::EvacuateVisitorBase::MigrateObject</a></div><div class="ttdeci">void MigrateObject(Tagged&lt; HeapObject &gt; dst, Tagged&lt; HeapObject &gt; src, int size, AllocationSpace dest)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01642">mark-compact.cc:1642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_ae9ded849599f0cf5c83e5cd69d290cb2"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2">v8::internal::EvacuateVisitorBase::MigrationMode</a></div><div class="ttdeci">MigrationMode</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01484">mark-compact.cc:1484</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_ae9ded849599f0cf5c83e5cd69d290cb2a83b8471afdd467a199dc0ed307c2eae4"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2a83b8471afdd467a199dc0ed307c2eae4">v8::internal::EvacuateVisitorBase::kFast</a></div><div class="ttdeci">@ kFast</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01484">mark-compact.cc:1484</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_ae9ded849599f0cf5c83e5cd69d290cb2ae90c548a51955fbdeb25dbb8441ea8ac"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#ae9ded849599f0cf5c83e5cd69d290cb2ae90c548a51955fbdeb25dbb8441ea8ac">v8::internal::EvacuateVisitorBase::kObserved</a></div><div class="ttdeci">@ kObserved</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01484">mark-compact.cc:1484</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_af11ebcfa59df555e097b381c1125beb0"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#af11ebcfa59df555e097b381c1125beb0">v8::internal::EvacuateVisitorBase::observers_</a></div><div class="ttdeci">std::vector&lt; MigrationObserver * &gt; observers_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01650">mark-compact.cc:1650</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuateVisitorBase_html_afd183ddd5f921860066ac73daedb16be"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuateVisitorBase.html#afd183ddd5f921860066ac73daedb16be">v8::internal::EvacuateVisitorBase::migration_function_</a></div><div class="ttdeci">MigrateFunction migration_function_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01651">mark-compact.cc:1651</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuationAllocator_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuationAllocator.html">v8::internal::EvacuationAllocator</a></div><div class="ttdef"><b>Definition:</b> <a href="evacuation-allocator_8h_source.html#l00021">evacuation-allocator.h:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuationAllocator_html_af7bd391747123f679c7a30f8e826d830"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuationAllocator.html#af7bd391747123f679c7a30f8e826d830">v8::internal::EvacuationAllocator::Allocate</a></div><div class="ttdeci">AllocationResult Allocate(AllocationSpace space, int object_size, AllocationAlignment alignment)</div><div class="ttdef"><b>Definition:</b> <a href="evacuation-allocator-inl_8h_source.html#l00017">evacuation-allocator-inl.h:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuationWeakObjectRetainer_html"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html">v8::internal::EvacuationWeakObjectRetainer</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05040">mark-compact.cc:5040</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1EvacuationWeakObjectRetainer_html_ad57a26ed349e2d5619992735151e0f64"><div class="ttname"><a href="classv8_1_1internal_1_1EvacuationWeakObjectRetainer.html#ad57a26ed349e2d5619992735151e0f64">v8::internal::EvacuationWeakObjectRetainer::RetainAs</a></div><div class="ttdeci">Tagged&lt; Object &gt; RetainAs(Tagged&lt; Object &gt; object) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05042">mark-compact.cc:5042</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html">v8::internal::Evacuator</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04471">mark-compact.cc:4471</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a075d41cc74c8cec162ba1bc7872148a4"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a075d41cc74c8cec162ba1bc7872148a4">v8::internal::Evacuator::local_pretenuring_feedback_</a></div><div class="ttdeci">PretenuringHandler::PretenuringFeedbackMap local_pretenuring_feedback_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04538">mark-compact.cc:4538</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a314fa42d39b9fa20e11342a5337383ef"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383ef">v8::internal::Evacuator::EvacuationMode</a></div><div class="ttdeci">EvacuationMode</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04473">mark-compact.cc:4473</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a314fa42d39b9fa20e11342a5337383efa2fd8847afdb04aa160bc337c6e64f70e"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efa2fd8847afdb04aa160bc337c6e64f70e">v8::internal::Evacuator::kObjectsNewToOld</a></div><div class="ttdeci">@ kObjectsNewToOld</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04474">mark-compact.cc:4474</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a314fa42d39b9fa20e11342a5337383efa315982c5c79641380ac25c95ecbcd594"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efa315982c5c79641380ac25c95ecbcd594">v8::internal::Evacuator::kPageNewToOld</a></div><div class="ttdeci">@ kPageNewToOld</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04475">mark-compact.cc:4475</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a314fa42d39b9fa20e11342a5337383efacbcde51e3034957abd95f58cc8cd3a02"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a314fa42d39b9fa20e11342a5337383efacbcde51e3034957abd95f58cc8cd3a02">v8::internal::Evacuator::kObjectsOldToOld</a></div><div class="ttdeci">@ kObjectsOldToOld</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04476">mark-compact.cc:4476</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a49f82f5ab43f4a9644a4b74aa0494085"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a49f82f5ab43f4a9644a4b74aa0494085">v8::internal::Evacuator::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04529">mark-compact.cc:4529</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a55485870c03a2aa636ec73c893c3cb85"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a55485870c03a2aa636ec73c893c3cb85">v8::internal::Evacuator::Evacuator</a></div><div class="ttdeci">Evacuator(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04498">mark-compact.cc:4498</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a637b8c1d84de69d52244d7936307cf39"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a637b8c1d84de69d52244d7936307cf39">v8::internal::Evacuator::old_space_visitor_</a></div><div class="ttdeci">EvacuateOldSpaceVisitor old_space_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04548">mark-compact.cc:4548</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a6ac2dddaa2b1b1ddb1a576575595016c"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a6ac2dddaa2b1b1ddb1a576575595016c">v8::internal::Evacuator::ComputeEvacuationMode</a></div><div class="ttdeci">static EvacuationMode ComputeEvacuationMode(MemoryChunk *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04490">mark-compact.cc:4490</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a7e7e6db642a2a69847319b2b0107634d"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a7e7e6db642a2a69847319b2b0107634d">v8::internal::Evacuator::duration_</a></div><div class="ttdeci">double duration_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04551">mark-compact.cc:4551</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_a8cd5f5f0a98465d866842dcff1c47f47"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#a8cd5f5f0a98465d866842dcff1c47f47">v8::internal::Evacuator::bytes_compacted_</a></div><div class="ttdeci">intptr_t bytes_compacted_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04552">mark-compact.cc:4552</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_aaf0b310376fca6d434f0f86665f54cc3"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#aaf0b310376fca6d434f0f86665f54cc3">v8::internal::Evacuator::new_space_visitor_</a></div><div class="ttdeci">EvacuateNewSpaceVisitor new_space_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04546">mark-compact.cc:4546</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_ab742b02acfc2907cbcb8345cf302094c"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#ab742b02acfc2907cbcb8345cf302094c">v8::internal::Evacuator::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04536">mark-compact.cc:4536</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_ac1fbf76f4a209acebb1d9b905dc7d311"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#ac1fbf76f4a209acebb1d9b905dc7d311">v8::internal::Evacuator::EvacuationModeName</a></div><div class="ttdeci">static const char * EvacuationModeName(EvacuationMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04479">mark-compact.cc:4479</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_ace3364584e04bb959c0969999c820b7f"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#ace3364584e04bb959c0969999c820b7f">v8::internal::Evacuator::ReportCompactionProgress</a></div><div class="ttdeci">void ReportCompactionProgress(double duration, intptr_t bytes_compacted)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04531">mark-compact.cc:4531</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_ad509768172b792b199449fb4f3c26b32"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#ad509768172b792b199449fb4f3c26b32">v8::internal::Evacuator::EvacuatePage</a></div><div class="ttdeci">void EvacuatePage(MutablePageMetadata *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04555">mark-compact.cc:4555</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_ade99e8f2ecade0357423eb916543e635"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#ade99e8f2ecade0357423eb916543e635">v8::internal::Evacuator::record_visitor_</a></div><div class="ttdeci">RecordMigratedSlotVisitor record_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04543">mark-compact.cc:4543</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_ae08b5048adc559aebb594250454e6b6b"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#ae08b5048adc559aebb594250454e6b6b">v8::internal::Evacuator::new_to_old_page_visitor_</a></div><div class="ttdeci">EvacuateNewToOldSpacePageVisitor new_to_old_page_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04547">mark-compact.cc:4547</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_af16c91022ee8813d5139f89bab2f0e6a"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#af16c91022ee8813d5139f89bab2f0e6a">v8::internal::Evacuator::local_allocator_</a></div><div class="ttdeci">EvacuationAllocator local_allocator_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04541">mark-compact.cc:4541</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Evacuator_html_aff74cdcc3d9b14d81a3a023f13e403f1"><div class="ttname"><a href="classv8_1_1internal_1_1Evacuator.html#aff74cdcc3d9b14d81a3a023f13e403f1">v8::internal::Evacuator::AddObserver</a></div><div class="ttdeci">void AddObserver(MigrationObserver *observer)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04516">mark-compact.cc:4516</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalPointerSlot.html">v8::internal::ExternalPointerSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00319">slots.h:321</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ExternalStringTableCleanerVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1ExternalStringTableCleanerVisitor.html">v8::internal::ExternalStringTableCleanerVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-sweep-utilities_8h_source.html#l00076">mark-sweep-utilities.h:76</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Factory_html_a7ac37ce08b9f8eae9f45701872d1949d"><div class="ttname"><a href="classv8_1_1internal_1_1Factory.html#a7ac37ce08b9f8eae9f45701872d1949d">v8::internal::Factory::isolate</a></div><div class="ttdeci">Isolate * isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="factory_8h_source.html#l01293">factory.h:1293</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullHeapObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullHeapObjectSlot.html">v8::internal::FullHeapObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00198">slots.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMarkingVisitorBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullMarkingVisitorBase.html">v8::internal::FullMarkingVisitorBase</a></div><div class="ttdef"><b>Definition:</b> <a href="marking-visitor_8h_source.html#l00256">marking-visitor.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html">v8::internal::FullMaybeObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00152">slots.h:153</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html_a6172d3ff8e11b288be8036d08fda22c6"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#a6172d3ff8e11b288be8036d08fda22c6">v8::internal::FullMaybeObjectSlot::Relaxed_Load</a></div><div class="ttdeci">Tagged&lt; MaybeObject &gt; Relaxed_Load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00141">slots-inl.h:141</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullMaybeObjectSlot_html_ab6f8319af72d18669c0e0c533924f052"><div class="ttname"><a href="classv8_1_1internal_1_1FullMaybeObjectSlot.html#ab6f8319af72d18669c0e0c533924f052">v8::internal::FullMaybeObjectSlot::store</a></div><div class="ttdeci">void store(Tagged&lt; MaybeObject &gt; value) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00137">slots-inl.h:137</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html">v8::internal::FullObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00098">slots.h:98</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a4d62bfa24617f62ac7fbb71110f6b3e9"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a4d62bfa24617f62ac7fbb71110f6b3e9">v8::internal::FullObjectSlot::Relaxed_Store</a></div><div class="ttdeci">void Relaxed_Store(Tagged&lt; Object &gt; value) const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00100">slots-inl.h:100</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a4e88c8ba68e8440c83abd6077dad7c0a"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a4e88c8ba68e8440c83abd6077dad7c0a">v8::internal::FullObjectSlot::load</a></div><div class="ttdeci">Tagged&lt; Object &gt; load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00048">slots-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullObjectSlot_html_a503f3174807124ef8c65227ffb37250d"><div class="ttname"><a href="classv8_1_1internal_1_1FullObjectSlot.html#a503f3174807124ef8c65227ffb37250d">v8::internal::FullObjectSlot::Relaxed_Load</a></div><div class="ttdeci">Tagged&lt; Object &gt; Relaxed_Load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00082">slots-inl.h:82</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html">v8::internal::FullStringForwardingTableCleaner</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02654">mark-compact.cc:2655</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_a081f675103836ed2a701fc1ce08162ba"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a081f675103836ed2a701fc1ce08162ba">v8::internal::FullStringForwardingTableCleaner::TransitionStrings</a></div><div class="ttdeci">void TransitionStrings(StringForwardingTable::Record *record)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02717">mark-compact.cc:2717</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_a7d710c61024aa2c6364bf0c9895a14aa"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a7d710c61024aa2c6364bf0c9895a14aa">v8::internal::FullStringForwardingTableCleaner::MarkForwardObject</a></div><div class="ttdeci">void MarkForwardObject(StringForwardingTable::Record *record)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02695">mark-compact.cc:2695</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_a8dbc01746330b8c8a17559d38e3e4787"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#a8dbc01746330b8c8a17559d38e3e4787">v8::internal::FullStringForwardingTableCleaner::ProcessFullWithStack</a></div><div class="ttdeci">void ProcessFullWithStack()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02683">mark-compact.cc:2683</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_aab81ddafa287b1e2b2cb04427954ce51"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aab81ddafa287b1e2b2cb04427954ce51">v8::internal::FullStringForwardingTableCleaner::TransitionStrings</a></div><div class="ttdeci">void TransitionStrings()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02664">mark-compact.cc:2664</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_ac6d9e97e79f9cb4248dfb0d5d58367c2"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#ac6d9e97e79f9cb4248dfb0d5d58367c2">v8::internal::FullStringForwardingTableCleaner::TryExternalize</a></div><div class="ttdeci">void TryExternalize(Tagged&lt; String &gt; original_string, StringForwardingTable::Record *record)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02737">mark-compact.cc:2737</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_ad24520747549f426f376afb21541516d"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#ad24520747549f426f376afb21541516d">v8::internal::FullStringForwardingTableCleaner::heap_</a></div><div class="ttdeci">Heap *const heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02786">mark-compact.cc:2786</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_aedd993cea743624dd174908e63046cf4"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aedd993cea743624dd174908e63046cf4">v8::internal::FullStringForwardingTableCleaner::FullStringForwardingTableCleaner</a></div><div class="ttdeci">FullStringForwardingTableCleaner(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02657">mark-compact.cc:2657</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1FullStringForwardingTableCleaner_html_aee1ff83bc1f236a0aed952c846603571"><div class="ttname"><a href="classv8_1_1internal_1_1FullStringForwardingTableCleaner.html#aee1ff83bc1f236a0aed952c846603571">v8::internal::FullStringForwardingTableCleaner::TryInternalize</a></div><div class="ttdeci">void TryInternalize(Tagged&lt; String &gt; original_string, StringForwardingTable::Record *record)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02762">mark-compact.cc:2762</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_1_1Scope_html"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer_1_1Scope.html">v8::internal::GCTracer::Scope</a></div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00119">gc-tracer.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html">v8::internal::GCTracer</a></div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00107">gc-tracer.h:107</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html_a52bba12f494cafdfa348e34457698eaf"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html#a52bba12f494cafdfa348e34457698eaf">v8::internal::GCTracer::CodeFlushingIncrease</a></div><div class="ttdeci">uint16_t CodeFlushingIncrease() const</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8cc_source.html#l00727">gc-tracer.cc:727</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html_a9f2350f20960172b968c227996c3974d"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html#a9f2350f20960172b968c227996c3974d">v8::internal::GCTracer::NotifyMarkingStart</a></div><div class="ttdeci">void NotifyMarkingStart()</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8cc_source.html#l00691">gc-tracer.cc:691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GCTracer_html_ad7d2f16e123b5303b24858b22ddde30f"><div class="ttname"><a href="classv8_1_1internal_1_1GCTracer.html#ad7d2f16e123b5303b24858b22ddde30f">v8::internal::GCTracer::CompactionSpeedInBytesPerMillisecond</a></div><div class="ttdeci">std::optional&lt; double &gt; CompactionSpeedInBytesPerMillisecond() const</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8cc_source.html#l01353">gc-tracer.cc:1353</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GlobalHandleVector_html"><div class="ttname"><a href="classv8_1_1internal_1_1GlobalHandleVector.html">v8::internal::GlobalHandleVector</a></div><div class="ttdef"><b>Definition:</b> <a href="global-handles_8h_source.html#l00239">global-handles.h:239</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GlobalHandles_html_a286951f39aa659e819fdcbcf31cd7d9d"><div class="ttname"><a href="classv8_1_1internal_1_1GlobalHandles.html#a286951f39aa659e819fdcbcf31cd7d9d">v8::internal::GlobalHandles::ClearListOfYoungNodes</a></div><div class="ttdeci">void ClearListOfYoungNodes()</div><div class="ttdef"><b>Definition:</b> <a href="global-handles_8cc_source.html#l00821">global-handles.cc:821</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GlobalHandles_html_afa07f32c8258551fd4b82156c41f2e18"><div class="ttname"><a href="classv8_1_1internal_1_1GlobalHandles.html#afa07f32c8258551fd4b82156c41f2e18">v8::internal::GlobalHandles::IterateWeakRootsForPhantomHandles</a></div><div class="ttdeci">void IterateWeakRootsForPhantomHandles(WeakSlotCallbackWithHeap should_reset_handle)</div><div class="ttdef"><b>Definition:</b> <a href="global-handles_8cc_source.html#l00712">global-handles.cc:712</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1GlobalSafepoint_html_a32122b662818cfca794f899a8acac219"><div class="ttname"><a href="classv8_1_1internal_1_1GlobalSafepoint.html#a32122b662818cfca794f899a8acac219">v8::internal::GlobalSafepoint::IterateClientIsolates</a></div><div class="ttdeci">void IterateClientIsolates(Callback callback)</div><div class="ttdef"><b>Definition:</b> <a href="safepoint_8h_source.html#l00190">safepoint.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1HandleScope.html">v8::internal::HandleScope</a></div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00263">handles.h:263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapAllocator_html_a021e4a3fc4d7ff340e494fa638d848ef"><div class="ttname"><a href="classv8_1_1internal_1_1HeapAllocator.html#a021e4a3fc4d7ff340e494fa638d848ef">v8::internal::HeapAllocator::new_space_allocator</a></div><div class="ttdeci">MainAllocator * new_space_allocator()</div><div class="ttdef"><b>Definition:</b> <a href="heap-allocator_8h_source.html#l00127">heap-allocator.h:127</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a597d0e70459c694743e92d98a9292f92"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a597d0e70459c694743e92d98a9292f92">v8::internal::HeapLayout::InYoungGeneration</a></div><div class="ttdeci">static bool InYoungGeneration(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00043">heap-layout-inl.h:43</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a7125239f9673b20fca00902b11d24726"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a7125239f9673b20fca00902b11d24726">v8::internal::HeapLayout::InWritableSharedSpace</a></div><div class="ttdeci">static bool InWritableSharedSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00067">heap-layout-inl.h:67</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_a91ac1680dc7f626bd8675e14ac660240"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#a91ac1680dc7f626bd8675e14ac660240">v8::internal::HeapLayout::InReadOnlySpace</a></div><div class="ttdeci">static bool InReadOnlySpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00020">heap-layout-inl.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_ac9879fed71642d70a0509695654ff874"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#ac9879fed71642d70a0509695654ff874">v8::internal::HeapLayout::InBlackAllocatedPage</a></div><div class="ttdeci">static bool InBlackAllocatedPage(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00089">heap-layout-inl.h:89</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_ae77bf0d1f0e1b86681fb29101ecd527a"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#ae77bf0d1f0e1b86681fb29101ecd527a">v8::internal::HeapLayout::InAnySharedSpace</a></div><div class="ttdeci">static bool InAnySharedSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00072">heap-layout-inl.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapLayout_html_af21f0f74e8bed1d00aab0e877e001759"><div class="ttname"><a href="classv8_1_1internal_1_1HeapLayout.html#af21f0f74e8bed1d00aab0e877e001759">v8::internal::HeapLayout::InCodeSpace</a></div><div class="ttdeci">static bool InCodeSpace(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-layout-inl_8h_source.html#l00080">heap-layout-inl.h:80</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectRange_html"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectRange.html">v8::internal::HeapObjectRange</a></div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00039">paged-spaces.h:39</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectVisitor.html">v8::internal::HeapObjectVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01446">mark-compact.cc:1446</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectVisitor_html_ad67856ea986f2847ff6484c4f6b00e30"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectVisitor.html#ad67856ea986f2847ff6484c4f6b00e30">v8::internal::HeapObjectVisitor::~HeapObjectVisitor</a></div><div class="ttdeci">virtual ~HeapObjectVisitor()=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObjectVisitor_html_af7de561f80f01389fefacf8ffbb150eb"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObjectVisitor.html#af7de561f80f01389fefacf8ffbb150eb">v8::internal::HeapObjectVisitor::Visit</a></div><div class="ttdeci">virtual bool Visit(Tagged&lt; HeapObject &gt; object, int size)=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_a6250a2489c3d60667b5b3153dff0fed3"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#a6250a2489c3d60667b5b3153dff0fed3">v8::internal::HeapObject::kMapOffset</a></div><div class="ttdeci">static constexpr int kMapOffset</div><div class="ttdef"><b>Definition:</b> <a href="heap-object_8h_source.html#l00498">heap-object.h:498</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapObject_html_aaaf446da21f242ad97a4c6a3eca16bf8"><div class="ttname"><a href="classv8_1_1internal_1_1HeapObject.html#aaaf446da21f242ad97a4c6a3eca16bf8">v8::internal::HeapObject::RequiredAlignment</a></div><div class="ttdeci">static AllocationAlignment RequiredAlignment(InSharedSpace in_shared_space, Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01729">objects-inl.h:1729</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1HeapVisitor.html">v8::internal::HeapVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="heap-visitor_8h_source.html#l00197">heap-visitor.h:197</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapVisitor_html_a4026d6517442ceaf7c3f2f74156fe9ae"><div class="ttname"><a href="classv8_1_1internal_1_1HeapVisitor.html#a4026d6517442ceaf7c3f2f74156fe9ae">v8::internal::HeapVisitor&lt; MarkCompactCollector::SharedHeapObjectVisitor &gt;::heap_</a></div><div class="ttdeci">const Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="heap-visitor_8h_source.html#l00301">heap-visitor.h:301</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1HeapVisitor_html_ae5d60a65fefa0b8d82ee23439c3c5335"><div class="ttname"><a href="classv8_1_1internal_1_1HeapVisitor.html#ae5d60a65fefa0b8d82ee23439c3c5335">v8::internal::HeapVisitor::Visit</a></div><div class="ttdeci">size_t Visit(Tagged&lt; Map &gt; map, Tagged&lt; HeapObject &gt; object, MaybeObjectSize maybe_object_size)</div><div class="ttdef"><b>Definition:</b> <a href="heap-visitor-inl_8h_source.html#l00093">heap-visitor-inl.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html">v8::internal::Heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00212">heap.h:212</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a125e37c0ebec23dda96a152ac6881820"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a125e37c0ebec23dda96a152ac6881820">v8::internal::Heap::shared_space</a></div><div class="ttdeci">SharedSpace * shared_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00776">heap.h:776</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a24145cfb85d15c42c670288e26308822"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a24145cfb85d15c42c670288e26308822">v8::internal::Heap::cpp_heap</a></div><div class="ttdeci">v8::CppHeap * cpp_heap() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01167">heap.h:1167</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a2af5297111d0e83b963f308d5b5e1d52"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a2af5297111d0e83b963f308d5b5e1d52">v8::internal::Heap::trusted_lo_space</a></div><div class="ttdeci">TrustedLargeObjectSpace * trusted_lo_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00786">heap.h:786</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a2dd38bcac0a916cc4eeedd9d14044882"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a2dd38bcac0a916cc4eeedd9d14044882">v8::internal::Heap::new_lo_space</a></div><div class="ttdeci">NewLargeObjectSpace * new_lo_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00780">heap.h:780</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a2e0986e48f75e46b0ba888801358d967"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a2e0986e48f75e46b0ba888801358d967">v8::internal::Heap::AllowedToBeMigrated</a></div><div class="ttdeci">bool AllowedToBeMigrated(Tagged&lt; Map &gt; map, Tagged&lt; HeapObject &gt; object, AllocationSpace dest)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l07230">heap.cc:7230</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a3498d35123e49efe70dd0921c5dda802"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a3498d35123e49efe70dd0921c5dda802">v8::internal::Heap::use_new_space</a></div><div class="ttdeci">bool use_new_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01699">heap.h:1699</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a353eba8c85db23f30be40d7e297ded1d"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a353eba8c85db23f30be40d7e297ded1d">v8::internal::Heap::trusted_space</a></div><div class="ttdeci">TrustedSpace * trusted_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00782">heap.h:782</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a36ef98ceb504120eae6a5b3d0dcf9fd4"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a36ef98ceb504120eae6a5b3d0dcf9fd4">v8::internal::Heap::code_space</a></div><div class="ttdeci">CodeSpace * code_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00775">heap.h:775</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a4b0a6b7b8b7d6daeff5de689c9008cbf"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a4b0a6b7b8b7d6daeff5de689c9008cbf">v8::internal::Heap::ShouldCurrentGCKeepAgesUnchanged</a></div><div class="ttdeci">bool ShouldCurrentGCKeepAgesUnchanged() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01420">heap.h:1420</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a4b0fd946ef07698c78c89b373c38c52b"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a4b0fd946ef07698c78c89b373c38c52b">v8::internal::Heap::OnMoveEvent</a></div><div class="ttdeci">void OnMoveEvent(Tagged&lt; HeapObject &gt; source, Tagged&lt; HeapObject &gt; target, int size_in_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03483">heap.cc:3483</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a4f77b61e4d779f97f1305eb1b7339bc4"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a4f77b61e4d779f97f1305eb1b7339bc4">v8::internal::Heap::ResizeNewSpace</a></div><div class="ttdeci">void ResizeNewSpace()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03987">heap.cc:3987</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a5764a451d0ae89d86f93771f9bf7ab9b"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a5764a451d0ae89d86f93771f9bf7ab9b">v8::internal::Heap::code_lo_space</a></div><div class="ttdeci">CodeLargeObjectSpace * code_lo_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00778">heap.h:778</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a6a1078397aea6722948012db089cd96caa60924e124da4d51bd4dc74c8f85b158"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a6a1078397aea6722948012db089cd96caa60924e124da4d51bd4dc74c8f85b158">v8::internal::Heap::StackScanMode::kFull</a></div><div class="ttdeci">@ kFull</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a71a5010a2dde4bbad050c4947dc450e2"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a71a5010a2dde4bbad050c4947dc450e2">v8::internal::Heap::allocator</a></div><div class="ttdeci">HeapAllocator * allocator()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01696">heap.h:1696</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a77f39fcecd7558c4210bda0df86b1599a5db4f3ca1a470a6da7e6cdfcaa4ef69d"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a77f39fcecd7558c4210bda0df86b1599a5db4f3ca1a470a6da7e6cdfcaa4ef69d">v8::internal::Heap::IterateRootsMode::kMainIsolate</a></div><div class="ttdeci">@ kMainIsolate</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a77f39fcecd7558c4210bda0df86b1599a8b40e6ec432d43adb30d551e51018de0"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a77f39fcecd7558c4210bda0df86b1599a8b40e6ec432d43adb30d551e51018de0">v8::internal::Heap::IterateRootsMode::kClientIsolate</a></div><div class="ttdeci">@ kClientIsolate</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a7bfaafb912d7be87fd7043b7629f7675"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a7bfaafb912d7be87fd7043b7629f7675">v8::internal::Heap::marking_state</a></div><div class="ttdeci">MarkingState * marking_state()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01677">heap.h:1677</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a81880e557d80731da98aebef763044e0"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a81880e557d80731da98aebef763044e0">v8::internal::Heap::non_atomic_marking_state</a></div><div class="ttdeci">NonAtomicMarkingState * non_atomic_marking_state()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01679">heap.h:1679</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a888246e231dc6514e84cbad718195f2e"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a888246e231dc6514e84cbad718195f2e">v8::internal::Heap::IterateRoots</a></div><div class="ttdeci">void IterateRoots(RootVisitor *v, base::EnumSet&lt; SkipRoot &gt; options, IterateRootsMode roots_mode=IterateRootsMode::kMainIsolate)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l04808">heap.cc:4808</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a88c7a4389455ee71c26b5855a6a6ab82"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a88c7a4389455ee71c26b5855a6a6ab82">v8::internal::Heap::cpp_heap_</a></div><div class="ttdeci">v8::CppHeap * cpp_heap_</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02370">heap.h:2370</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a8abe18f92f4794f8ba70937917325140"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a8abe18f92f4794f8ba70937917325140">v8::internal::Heap::new_space</a></div><div class="ttdeci">NewSpace * new_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00770">heap.h:770</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a8c6699d1a91a5f1e8d7748d80b068c7c"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a8c6699d1a91a5f1e8d7748d80b068c7c">v8::internal::Heap::ConservativeStackScanningModeForMajorGC</a></div><div class="ttdeci">StackScanMode ConservativeStackScanningModeForMajorGC() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00387">heap.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a8d7b791efdd8818bc3dcd98ce920b06c"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a8d7b791efdd8818bc3dcd98ce920b06c">v8::internal::Heap::old_space</a></div><div class="ttdeci">OldSpace * old_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00773">heap.h:773</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a905002cc9f6743a32fc5456088997ff7"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a905002cc9f6743a32fc5456088997ff7">v8::internal::Heap::IterateConservativeStackRoots</a></div><div class="ttdeci">void IterateConservativeStackRoots(RootVisitor *root_visitor, IterateRootsMode roots_mode=IterateRootsMode::kMainIsolate)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l04987">heap.cc:4987</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_a9564c4573a66c20043a7602155074b57"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#a9564c4573a66c20043a7602155074b57">v8::internal::Heap::memory_allocator</a></div><div class="ttdeci">MemoryAllocator * memory_allocator()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00846">heap.h:846</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aaac51e78398da9ba59e847682b3a62fa"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aaac51e78398da9ba59e847682b3a62fa">v8::internal::Heap::concurrent_marking</a></div><div class="ttdeci">ConcurrentMarking * concurrent_marking() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01125">heap.h:1125</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aad499bc7154a594f5a3e7036d683cdfa"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aad499bc7154a594f5a3e7036d683cdfa">v8::internal::Heap::sweeper</a></div><div class="ttdeci">Sweeper * sweeper()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00864">heap.h:864</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aad4ced219dceeeabe3f688dcc3b7736a"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aad4ced219dceeeabe3f688dcc3b7736a">v8::internal::Heap::array_buffer_sweeper</a></div><div class="ttdeci">ArrayBufferSweeper * array_buffer_sweeper()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00866">heap.h:866</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ab6f9aac6bf996ce2f9945e0ff998c58a"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ab6f9aac6bf996ce2f9945e0ff998c58a">v8::internal::Heap::main_thread_local_heap_</a></div><div class="ttdeci">LocalHeap * main_thread_local_heap_</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02256">heap.h:2256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_abdd7e3821604a14452281640366cc9bb"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#abdd7e3821604a14452281640366cc9bb">v8::internal::Heap::tracer</a></div><div class="ttdeci">GCTracer * tracer()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00843">heap.h:843</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_abee2b61d93cc55561134df8f2ebb3401"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#abee2b61d93cc55561134df8f2ebb3401">v8::internal::Heap::memory_measurement</a></div><div class="ttdeci">MemoryMeasurement * memory_measurement()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02115">heap.h:2115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ac2186ae87a3cd28acde06a9f50d31b2c"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ac2186ae87a3cd28acde06a9f50d31b2c">v8::internal::Heap::FatalProcessOutOfMemory</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void FatalProcessOutOfMemory(const char *location)</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l06584">heap.cc:6584</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ac3641a0b7518d1536161ebcb69bc4be9"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ac3641a0b7518d1536161ebcb69bc4be9">v8::internal::Heap::CopyBlock</a></div><div class="ttdeci">static void CopyBlock(Address dst, Address src, int byte_size)</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00292">heap-inl.h:292</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ac434b6b237146b5964c6b76d7a8ad2c6"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ac434b6b237146b5964c6b76d7a8ad2c6">v8::internal::Heap::ShouldUseBackgroundThreads</a></div><div class="ttdeci">bool ShouldUseBackgroundThreads() const</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l00454">heap.cc:454</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ac689c784f01c1729d13aeb4dc389c398"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ac689c784f01c1729d13aeb4dc389c398">v8::internal::Heap::Unmark</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Unmark()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03726">heap.cc:3726</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ac8cc509992b731609d1cf0137437e6be"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ac8cc509992b731609d1cf0137437e6be">v8::internal::Heap::IsLastResortGC</a></div><div class="ttdeci">bool IsLastResortGC()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01675">heap.h:1675</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aca549fb459876aff6e5a580c807d1607"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aca549fb459876aff6e5a580c807d1607">v8::internal::Heap::incremental_marking</a></div><div class="ttdeci">IncrementalMarking * incremental_marking() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01117">heap.h:1117</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_acdb258ef166633d7ea0912d882109e30"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#acdb258ef166633d7ea0912d882109e30">v8::internal::Heap::paged_new_space</a></div><div class="ttdeci">PagedNewSpace * paged_new_space() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00426">heap-inl.h:426</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ad2046480742afeae3e40fc52ec9dd582"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ad2046480742afeae3e40fc52ec9dd582">v8::internal::Heap::FindAllNativeContexts</a></div><div class="ttdeci">std::vector&lt; Handle&lt; NativeContext &gt; &gt; FindAllNativeContexts()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l07203">heap.cc:7203</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ad2128865e219ddb70695e23563141da9"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ad2128865e219ddb70695e23563141da9">v8::internal::Heap::ShouldOptimizeForMemoryUsage</a></div><div class="ttdeci">V8_EXPORT_PRIVATE bool ShouldOptimizeForMemoryUsage()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l03898">heap.cc:3898</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ad2f135c51e5752f90638521eee547129"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ad2f135c51e5752f90638521eee547129">v8::internal::Heap::lo_space</a></div><div class="ttdeci">OldLargeObjectSpace * lo_space() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00777">heap.h:777</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ae4625769d6915289a7acd2c41144b9c3"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ae4625769d6915289a7acd2c41144b9c3">v8::internal::Heap::IsGCWithStack</a></div><div class="ttdeci">bool IsGCWithStack() const</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l00531">heap.cc:531</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_ae5160ad63bc51ff7b36e8f247be48f63"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#ae5160ad63bc51ff7b36e8f247be48f63">v8::internal::Heap::isolate</a></div><div class="ttdeci">Isolate * isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="heap-inl_8h_source.html#l00061">heap-inl.h:61</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_aee7ba6958af1cfce850fde178b414d8f"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#aee7ba6958af1cfce850fde178b414d8f">v8::internal::Heap::EnsureQuarantinedPagesSweepingCompleted</a></div><div class="ttdeci">void EnsureQuarantinedPagesSweepingCompleted()</div><div class="ttdef"><b>Definition:</b> <a href="heap_8cc_source.html#l07548">heap.cc:7548</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_af562806aafc1f078a8da45674d431c1a"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#af562806aafc1f078a8da45674d431c1a">v8::internal::Heap::mark_compact_collector</a></div><div class="ttdeci">MarkCompactCollector * mark_compact_collector()</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l00856">heap.h:856</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Heap_html_afd52b490b8d03599fbf5510d6f54b117"><div class="ttname"><a href="classv8_1_1internal_1_1Heap.html#afd52b490b8d03599fbf5510d6f54b117">v8::internal::Heap::ShouldReduceMemory</a></div><div class="ttdeci">bool ShouldReduceMemory() const</div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l01671">heap.h:1671</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalMarking_html_a36f76d27a7a670a4b270804cef79cea1"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalMarking.html#a36f76d27a7a670a4b270804cef79cea1">v8::internal::IncrementalMarking::IsMarking</a></div><div class="ttdeci">bool IsMarking() const</div><div class="ttdef"><b>Definition:</b> <a href="incremental-marking_8h_source.html#l00071">incremental-marking.h:71</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalMarking_html_a421afcfedbad9dba889295ea646625fa"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalMarking.html#a421afcfedbad9dba889295ea646625fa">v8::internal::IncrementalMarking::IsStopped</a></div><div class="ttdeci">bool IsStopped() const</div><div class="ttdef"><b>Definition:</b> <a href="incremental-marking_8h_source.html#l00070">incremental-marking.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IncrementalMarking_html_af7648dd98be368a6b882111f2c62441c"><div class="ttname"><a href="classv8_1_1internal_1_1IncrementalMarking.html#af7648dd98be368a6b882111f2c62441c">v8::internal::IncrementalMarking::IsMajorMarking</a></div><div class="ttdeci">bool IsMajorMarking() const</div><div class="ttdef"><b>Definition:</b> <a href="incremental-marking_8h_source.html#l00066">incremental-marking.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndexGenerator_html"><div class="ttname"><a href="classv8_1_1internal_1_1IndexGenerator.html">v8::internal::IndexGenerator</a></div><div class="ttdef"><b>Definition:</b> <a href="index-generator_8h_source.html#l00020">index-generator.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html">v8::internal::IndirectPointerSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00478">slots.h:480</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IndirectPointerSlot_html_a93c5b66f3ea58e6333365b4085d5fcf1"><div class="ttname"><a href="classv8_1_1internal_1_1IndirectPointerSlot.html#a93c5b66f3ea58e6333365b4085d5fcf1">v8::internal::IndirectPointerSlot::Relaxed_LoadHandle</a></div><div class="ttdeci">IndirectPointerHandle Relaxed_LoadHandle() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00409">slots-inl.h:409</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InstructionStream_html_a609ae4cdb6b49935b0fc6a55711a5191"><div class="ttname"><a href="classv8_1_1internal_1_1InstructionStream.html#a609ae4cdb6b49935b0fc6a55711a5191">v8::internal::InstructionStream::FromTargetAddress</a></div><div class="ttdeci">static Tagged&lt; InstructionStream &gt; FromTargetAddress(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="instruction-stream-inl_8h_source.html#l00233">instruction-stream-inl.h:233</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalIndex_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalIndex.html">v8::internal::InternalIndex</a></div><div class="ttdef"><b>Definition:</b> <a href="internal-index_8h_source.html#l00020">internal-index.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html">v8::internal::InternalizedStringTableCleaner</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01099">mark-compact.cc:1099</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html_a1361cd9f1f8f2588337cb24d7d376211"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a1361cd9f1f8f2588337cb24d7d376211">v8::internal::InternalizedStringTableCleaner::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, FullObjectSlot start, FullObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01103">mark-compact.cc:1103</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html_a72e0caba7f3432e247ca2ee08720f15a"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a72e0caba7f3432e247ca2ee08720f15a">v8::internal::InternalizedStringTableCleaner::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01131">mark-compact.cc:1131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html_a75acba88de7b78ce94f33431d41af1c8"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a75acba88de7b78ce94f33431d41af1c8">v8::internal::InternalizedStringTableCleaner::InternalizedStringTableCleaner</a></div><div class="ttdeci">InternalizedStringTableCleaner(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01101">mark-compact.cc:1101</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html_a904d7c1c06d49fbf9ea9039e19061783"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#a904d7c1c06d49fbf9ea9039e19061783">v8::internal::InternalizedStringTableCleaner::pointers_removed_</a></div><div class="ttdeci">int pointers_removed_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01132">mark-compact.cc:1132</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html_acc8652376ea10be09435416bd4a4c6dc"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#acc8652376ea10be09435416bd4a4c6dc">v8::internal::InternalizedStringTableCleaner::PointersRemoved</a></div><div class="ttdeci">int PointersRemoved() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01128">mark-compact.cc:1128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1InternalizedStringTableCleaner_html_ad0ec0e4d1601a86840938148cd39c210"><div class="ttname"><a href="classv8_1_1internal_1_1InternalizedStringTableCleaner.html#ad0ec0e4d1601a86840938148cd39c210">v8::internal::InternalizedStringTableCleaner::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, OffHeapObjectSlot start, OffHeapObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01108">mark-compact.cc:1108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1IsolateForSandbox_html"><div class="ttname"><a href="classv8_1_1internal_1_1IsolateForSandbox.html">v8::internal::IsolateForSandbox</a></div><div class="ttdef"><b>Definition:</b> <a href="sandbox_2isolate_8h_source.html#l00059">isolate.h:59</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html">v8::internal::Isolate</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00595">isolate.h:595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a10fb79c24c416de942fc05b82680b440"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a10fb79c24c416de942fc05b82680b440">v8::internal::Isolate::serializer_enabled</a></div><div class="ttdeci">bool serializer_enabled() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01575">isolate.h:1575</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a1d9bb224427c1714f358560957771946"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a1d9bb224427c1714f358560957771946">v8::internal::Isolate::OwnsStringTables</a></div><div class="ttdeci">bool OwnsStringTables() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02361">isolate.h:2361</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a24109659c4260d0c6f281510b6091015"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a24109659c4260d0c6f281510b6091015">v8::internal::Isolate::is_shared_space_isolate</a></div><div class="ttdeci">bool is_shared_space_isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02332">isolate.h:2332</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a25a5f2cf26f80f049dbbe6ea6046b754"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a25a5f2cf26f80f049dbbe6ea6046b754">v8::internal::Isolate::traced_handles</a></div><div class="ttdeci">TracedHandles * traced_handles()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01433">isolate.h:1433</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a2714e74bceacf9555c6a02745a0319e2"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a2714e74bceacf9555c6a02745a0319e2">v8::internal::Isolate::global_handles</a></div><div class="ttdeci">GlobalHandles * global_handles() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01431">isolate.h:1431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a6380a46785ed06e26c14c31d2320fb21"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a6380a46785ed06e26c14c31d2320fb21">v8::internal::Isolate::topmost_script_having_context</a></div><div class="ttdeci">Tagged&lt; Context &gt; topmost_script_having_context() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00823">isolate.h:823</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a6bcede2c3a0b688eca7679947e4704d4"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a6bcede2c3a0b688eca7679947e4704d4">v8::internal::Isolate::global_safepoint</a></div><div class="ttdeci">GlobalSafepoint * global_safepoint() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02345">isolate.h:2345</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a79661c3a6407e46b4aa382eae991ecfa"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a79661c3a6407e46b4aa382eae991ecfa">v8::internal::Isolate::shared_space_isolate</a></div><div class="ttdeci">Isolate * shared_space_isolate() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l02335">isolate.h:2335</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a939fb55411a48a11cd43f3de55ef5ff3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a939fb55411a48a11cd43f3de55ef5ff3">v8::internal::Isolate::AllowsCodeCompaction</a></div><div class="ttdeci">bool AllowsCodeCompaction() const</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l06244">isolate.cc:6244</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_a9690b82e4f9b4c8a9160630396cde0b3"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#a9690b82e4f9b4c8a9160630396cde0b3">v8::internal::Isolate::counters</a></div><div class="ttdeci">Counters * counters()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01195">isolate.h:1195</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_aa3f53c9b9733db23efd7d26d2c854409"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#aa3f53c9b9733db23efd7d26d2c854409">v8::internal::Isolate::thread_local_top</a></div><div class="ttdeci">ThreadLocalTop * thread_local_top()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01346">isolate.h:1346</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_abf4fe53088de0af3d7d8e02b7782fea1"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#abf4fe53088de0af3d7d8e02b7782fea1">v8::internal::Isolate::time_millis_since_init</a></div><div class="ttdeci">double time_millis_since_init() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01641">isolate.h:1641</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac37eddc7863443926e237390221f0471"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac37eddc7863443926e237390221f0471">v8::internal::Isolate::shared_struct_type_registry</a></div><div class="ttdeci">SharedStructTypeRegistry * shared_struct_type_registry() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00806">isolate.h:806</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac61ec4fa9a19159b6bbdf78952645d1c"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac61ec4fa9a19159b6bbdf78952645d1c">v8::internal::Isolate::has_active_deserializer</a></div><div class="ttdeci">bool has_active_deserializer() const</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l00942">isolate.h:942</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ac74a11613906581a9989b1cb7f7b3275"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ac74a11613906581a9989b1cb7f7b3275">v8::internal::Isolate::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01214">isolate.h:1214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ad4c4bcd709b46ec7bb94b592e1421e06"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ad4c4bcd709b46ec7bb94b592e1421e06">v8::internal::Isolate::compilation_cache</a></div><div class="ttdeci">CompilationCache * compilation_cache()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l01206">isolate.h:1206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_ad8a05b89a5ac9d307f76fde4462ec32b"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#ad8a05b89a5ac9d307f76fde4462ec32b">v8::internal::Isolate::clear_topmost_script_having_context</a></div><div class="ttdeci">void clear_topmost_script_having_context()</div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate-inl_8h_source.html#l00063">isolate-inl.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Isolate_html_af9cf39c5ddba566eeed46a1f5064a561"><div class="ttname"><a href="classv8_1_1internal_1_1Isolate.html#af9cf39c5ddba566eeed46a1f5064a561">v8::internal::Isolate::fuzzer_rng</a></div><div class="ttdeci">base::RandomNumberGenerator * fuzzer_rng()</div><div class="ttdef"><b>Definition:</b> <a href="isolate_8cc_source.html#l06431">isolate.cc:6431</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LargeObjectSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1LargeObjectSpace.html">v8::internal::LargeObjectSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="large-spaces_8h_source.html#l00033">large-spaces.h:33</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LargeObjectSpace_html_a1efaf4f5beb810f114aa55456fbd4175"><div class="ttname"><a href="classv8_1_1internal_1_1LargeObjectSpace.html#a1efaf4f5beb810f114aa55456fbd4175">v8::internal::LargeObjectSpace::GetObjectIterator</a></div><div class="ttdeci">std::unique_ptr&lt; ObjectIterator &gt; GetObjectIterator(Heap *heap) override</div><div class="ttdef"><b>Definition:</b> <a href="large-spaces_8cc_source.html#l00293">large-spaces.cc:293</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LargeObjectSpace_html_a2bffda9f3fd2a5766480a0b4f2c77a82"><div class="ttname"><a href="classv8_1_1internal_1_1LargeObjectSpace.html#a2bffda9f3fd2a5766480a0b4f2c77a82">v8::internal::LargeObjectSpace::Size</a></div><div class="ttdeci">size_t Size() const override</div><div class="ttdef"><b>Definition:</b> <a href="large-spaces_8h_source.html#l00046">large-spaces.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LargePageMetadata_html"><div class="ttname"><a href="classv8_1_1internal_1_1LargePageMetadata.html">v8::internal::LargePageMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="large-page-metadata_8h_source.html#l00013">large-page-metadata.h:13</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LargePageMetadata_html_aa81d2320947766137b1c995447fb464c"><div class="ttname"><a href="classv8_1_1internal_1_1LargePageMetadata.html#aa81d2320947766137b1c995447fb464c">v8::internal::LargePageMetadata::GetObject</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; GetObject() const</div><div class="ttdef"><b>Definition:</b> <a href="large-page-metadata_8h_source.html#l00037">large-page-metadata.h:37</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LiveObjectRange_html"><div class="ttname"><a href="classv8_1_1internal_1_1LiveObjectRange.html">v8::internal::LiveObjectRange</a></div><div class="ttdef"><b>Definition:</b> <a href="live-object-range_8h_source.html#l00017">live-object-range.h:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LiveObjectVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1LiveObjectVisitor.html">v8::internal::LiveObjectVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04593">mark-compact.cc:4593</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1LocalHeap_html_a2e77f2b0e778003862ff3351ded8e80a"><div class="ttname"><a href="classv8_1_1internal_1_1LocalHeap.html#a2e77f2b0e778003862ff3351ded8e80a">v8::internal::LocalHeap::marking_barrier</a></div><div class="ttdeci">MarkingBarrier * marking_barrier()</div><div class="ttdef"><b>Definition:</b> <a href="local-heap_8h_source.html#l00130">local-heap.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainAllocator_html_af63591da1398980234236b7168175772"><div class="ttname"><a href="classv8_1_1internal_1_1MainAllocator.html#af63591da1398980234236b7168175772">v8::internal::MainAllocator::IsLabValid</a></div><div class="ttdeci">bool IsLabValid() const</div><div class="ttdef"><b>Definition:</b> <a href="main-allocator_8h_source.html#l00253">main-allocator.h:253</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainAllocator_html_af8c189b36b71592dd9f3b3b98c636de9"><div class="ttname"><a href="classv8_1_1internal_1_1MainAllocator.html#af8c189b36b71592dd9f3b3b98c636de9">v8::internal::MainAllocator::GetOriginalTopAndLimit</a></div><div class="ttdeci">std::pair&lt; Address, Address &gt; GetOriginalTopAndLimit() const</div><div class="ttdef"><b>Definition:</b> <a href="main-allocator_8h_source.html#l00187">main-allocator.h:187</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainAllocator_html_affcbea59347c2fdd71bfdf184be65197"><div class="ttname"><a href="classv8_1_1internal_1_1MainAllocator.html#affcbea59347c2fdd71bfdf184be65197">v8::internal::MainAllocator::top</a></div><div class="ttdeci">Address top() const</div><div class="ttdef"><b>Definition:</b> <a href="main-allocator_8h_source.html#l00174">main-allocator.h:174</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainMarkingVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1MainMarkingVisitor.html">v8::internal::MainMarkingVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00251">mark-compact.cc:252</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainMarkingVisitor_html_a14440e7b1510fc82c5638f0a1f9b076c"><div class="ttname"><a href="classv8_1_1internal_1_1MainMarkingVisitor.html#a14440e7b1510fc82c5638f0a1f9b076c">v8::internal::MainMarkingVisitor::RecordRelocSlot</a></div><div class="ttdeci">void RecordRelocSlot(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo, Tagged&lt; HeapObject &gt; target)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00274">mark-compact.cc:274</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainMarkingVisitor_html_a3dda2cde53397c3d473420df6865205f"><div class="ttname"><a href="classv8_1_1internal_1_1MainMarkingVisitor.html#a3dda2cde53397c3d473420df6865205f">v8::internal::MainMarkingVisitor::RecordSlot</a></div><div class="ttdeci">void RecordSlot(Tagged&lt; HeapObject &gt; object, TSlot slot, Tagged&lt; HeapObject &gt; target)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00269">mark-compact.cc:269</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MainMarkingVisitor_html_ad945b37c8e372cb371cb6bf74b10fcd4"><div class="ttname"><a href="classv8_1_1internal_1_1MainMarkingVisitor.html#ad945b37c8e372cb371cb6bf74b10fcd4">v8::internal::MainMarkingVisitor::MainMarkingVisitor</a></div><div class="ttdeci">MainMarkingVisitor(MarkingWorklists::Local *local_marking_worklists, WeakObjects::Local *local_weak_objects, Heap *heap, unsigned mark_compact_epoch, base::EnumSet&lt; CodeFlushMode &gt; code_flush_mode, bool should_keep_ages_unchanged, uint16_t code_flushing_increase)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00254">mark-compact.cc:254</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Malloced_html"><div class="ttname"><a href="classv8_1_1internal_1_1Malloced.html">v8::internal::Malloced</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2utils_2allocation_8h_source.html#l00032">allocation.h:32</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapWord_html"><div class="ttname"><a href="classv8_1_1internal_1_1MapWord.html">v8::internal::MapWord</a></div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00790">objects.h:790</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapWord_html_a2da249cf285df1454abda362ce7a293e"><div class="ttname"><a href="classv8_1_1internal_1_1MapWord.html#a2da249cf285df1454abda362ce7a293e">v8::internal::MapWord::IsPacked</a></div><div class="ttdeci">static constexpr bool IsPacked(Address)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00844">objects.h:844</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapWord_html_a9dca2a41d176b2abbd067e956796a439"><div class="ttname"><a href="classv8_1_1internal_1_1MapWord.html#a9dca2a41d176b2abbd067e956796a439">v8::internal::MapWord::IsForwardingAddress</a></div><div class="ttdeci">bool IsForwardingAddress() const</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01270">objects-inl.h:1270</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapWord_html_ae428c02beb0d195fcfb8b44b3c149efa"><div class="ttname"><a href="classv8_1_1internal_1_1MapWord.html#ae428c02beb0d195fcfb8b44b3c149efa">v8::internal::MapWord::FromForwardingAddress</a></div><div class="ttdeci">static MapWord FromForwardingAddress(Tagged&lt; HeapObject &gt; map_word_host, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01281">objects-inl.h:1281</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MapWord_html_af98460db3cf5e0731cdd50d22b7e4c27"><div class="ttname"><a href="classv8_1_1internal_1_1MapWord.html#af98460db3cf5e0731cdd50d22b7e4c27">v8::internal::MapWord::ToForwardingAddress</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; ToForwardingAddress(Tagged&lt; HeapObject &gt; map_word_host)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l01297">objects-inl.h:1297</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html">v8::internal::MarkCompactCollector::ClearTrivialWeakRefJobItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02856">mark-compact.cc:2857</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem_html_a1ecefb0c27b01afc3e7ee26478066625"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a1ecefb0c27b01afc3e7ee26478066625">v8::internal::MarkCompactCollector::ClearTrivialWeakRefJobItem::trace_id_</a></div><div class="ttdeci">const uint64_t trace_id_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02885">mark-compact.cc:2885</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem_html_a36476be5c4de2fe5a66aa1a53bb57aab"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a36476be5c4de2fe5a66aa1a53bb57aab">v8::internal::MarkCompactCollector::ClearTrivialWeakRefJobItem::collector_</a></div><div class="ttdeci">MarkCompactCollector * collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02884">mark-compact.cc:2884</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem_html_a499931b7bd824dc60fb534c147dadad9"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a499931b7bd824dc60fb534c147dadad9">v8::internal::MarkCompactCollector::ClearTrivialWeakRefJobItem::ClearTrivialWeakRefJobItem</a></div><div class="ttdeci">ClearTrivialWeakRefJobItem(MarkCompactCollector *collector)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02859">mark-compact.cc:2859</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem_html_a4cb7f1b4e37cdd219a4b65a470c296e0"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a4cb7f1b4e37cdd219a4b65a470c296e0">v8::internal::MarkCompactCollector::ClearTrivialWeakRefJobItem::trace_id</a></div><div class="ttdeci">uint64_t trace_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02881">mark-compact.cc:2881</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem_html_a69e59718369b2dd601760d202b8d20ae"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1ClearTrivialWeakRefJobItem.html#a69e59718369b2dd601760d202b8d20ae">v8::internal::MarkCompactCollector::ClearTrivialWeakRefJobItem::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02865">mark-compact.cc:2865</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00955">mark-compact.cc:956</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_a2183640daa791b6e179c41a56af82255"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a2183640daa791b6e179c41a56af82255">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitMapPointer</a></div><div class="ttdeci">void VisitMapPointer(Tagged&lt; HeapObject &gt; host) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00966">mark-compact.cc:966</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_a42bf6bc8999d191223cab0d468eb7db8"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a42bf6bc8999d191223cab0d468eb7db8">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitInstructionStreamPointer</a></div><div class="ttdeci">void VisitInstructionStreamPointer(Tagged&lt; Code &gt; host, InstructionStreamSlot slot) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00980">mark-compact.cc:980</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_a52151f4b401932c665a3374cc8f7e2dd"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52151f4b401932c665a3374cc8f7e2dd">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitCodeTarget</a></div><div class="ttdeci">void VisitCodeTarget(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00991">mark-compact.cc:991</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_a52fc0ed74a9c8a99483baaa99d02bc33"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a52fc0ed74a9c8a99483baaa99d02bc33">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::collector_</a></div><div class="ttdeci">MarkCompactCollector *const collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01015">mark-compact.cc:1015</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_a7b773b2815d0ae8e57e44d3b8a17ff19"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a7b773b2815d0ae8e57e44d3b8a17ff19">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, ObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00962">mark-compact.cc:962</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_a997aee5aabfbef6df6c0d6cda031580c"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#a997aee5aabfbef6df6c0d6cda031580c">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot start, MaybeObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00985">mark-compact.cc:985</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_abcd889f76e2509abb545c75f00d13357"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#abcd889f76e2509abb545c75f00d13357">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::MarkObject</a></div><div class="ttdeci">void MarkObject(Tagged&lt; HeapObject &gt; host, Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01004">mark-compact.cc:1004</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_add5c795d9670b0c59735d7563457d923"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#add5c795d9670b0c59735d7563457d923">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitEmbeddedPointer</a></div><div class="ttdeci">void VisitEmbeddedPointer(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00998">mark-compact.cc:998</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_adfdf4627a33fb7f125335a4371840ef7"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#adfdf4627a33fb7f125335a4371840ef7">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00970">mark-compact.cc:970</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor_html_ae037bbace247314c3f474eab73defb45"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1CustomRootBodyMarkingVisitor.html#ae037bbace247314c3f474eab73defb45">v8::internal::MarkCompactCollector::CustomRootBodyMarkingVisitor::CustomRootBodyMarkingVisitor</a></div><div class="ttdeci">CustomRootBodyMarkingVisitor(MarkCompactCollector *collector)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00958">mark-compact.cc:958</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html">v8::internal::MarkCompactCollector::FilterNonTrivialWeakRefJobItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02888">mark-compact.cc:2889</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem_html_a12aa5d6e9b216c7f21a2126328dfc8c8"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a12aa5d6e9b216c7f21a2126328dfc8c8">v8::internal::MarkCompactCollector::FilterNonTrivialWeakRefJobItem::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02899">mark-compact.cc:2899</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem_html_a2553a069825c0f163871407001a81d8a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a2553a069825c0f163871407001a81d8a">v8::internal::MarkCompactCollector::FilterNonTrivialWeakRefJobItem::trace_id</a></div><div class="ttdeci">uint64_t trace_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02915">mark-compact.cc:2915</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem_html_a4a742fe5db0febeffcf9183b7f3e9789"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a4a742fe5db0febeffcf9183b7f3e9789">v8::internal::MarkCompactCollector::FilterNonTrivialWeakRefJobItem::trace_id_</a></div><div class="ttdeci">const uint64_t trace_id_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02919">mark-compact.cc:2919</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem_html_a524715bec55d545d74ba5213515eda31"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a524715bec55d545d74ba5213515eda31">v8::internal::MarkCompactCollector::FilterNonTrivialWeakRefJobItem::collector_</a></div><div class="ttdeci">MarkCompactCollector * collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02918">mark-compact.cc:2918</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem_html_a99d39e8918d9be0080294ca98247ae99"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1FilterNonTrivialWeakRefJobItem.html#a99d39e8918d9be0080294ca98247ae99">v8::internal::MarkCompactCollector::FilterNonTrivialWeakRefJobItem::FilterNonTrivialWeakRefJobItem</a></div><div class="ttdeci">FilterNonTrivialWeakRefJobItem(MarkCompactCollector *collector)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02891">mark-compact.cc:2891</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01018">mark-compact.cc:1019</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a0bf824516021b2368b38148540b85096"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a0bf824516021b2368b38148540b85096">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::SharedHeapObjectVisitor</a></div><div class="ttdeci">SharedHeapObjectVisitor(MarkCompactCollector *collector)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01021">mark-compact.cc:1021</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a16776b5432f51c6c2b6252bc22420b0a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a16776b5432f51c6c2b6252bc22420b0a">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, ObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01024">mark-compact.cc:1024</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a2123ddc921b380733dfb73b59a4757e9"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a2123ddc921b380733dfb73b59a4757e9">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01039">mark-compact.cc:1039</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a3c6ff55ec2916dad128b28633956c487"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a3c6ff55ec2916dad128b28633956c487">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitEmbeddedPointer</a></div><div class="ttdeci">void VisitEmbeddedPointer(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01068">mark-compact.cc:1068</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a5fec89650b78f0bda9c57a22038c95bb"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a5fec89650b78f0bda9c57a22038c95bb">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitMapPointer</a></div><div class="ttdeci">void VisitMapPointer(Tagged&lt; HeapObject &gt; host) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01035">mark-compact.cc:1035</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a8012ea60cbce361a19727bef2ca999ec"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8012ea60cbce361a19727bef2ca999ec">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot start, MaybeObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01054">mark-compact.cc:1054</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a8a7b210f302689418e246cb628fcbe29"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a8a7b210f302689418e246cb628fcbe29">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::CheckForSharedObject</a></div><div class="ttdeci">void CheckForSharedObject(Tagged&lt; HeapObject &gt; host, ObjectSlot slot, Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01074">mark-compact.cc:1074</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_a91df02cd39747af4cbe3b876f511e192"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#a91df02cd39747af4cbe3b876f511e192">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitCodeTarget</a></div><div class="ttdeci">void VisitCodeTarget(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01063">mark-compact.cc:1063</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_ab1b43886c6ffb0f3ade4f8ad8a4e836f"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ab1b43886c6ffb0f3ade4f8ad8a4e836f">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::collector_</a></div><div class="ttdeci">MarkCompactCollector *const collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01096">mark-compact.cc:1096</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_ac87920e3725a9ecaea79cefd4881c1f5"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#ac87920e3725a9ecaea79cefd4881c1f5">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitInstructionStreamPointer</a></div><div class="ttdeci">void VisitInstructionStreamPointer(Tagged&lt; Code &gt; host, InstructionStreamSlot slot) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01049">mark-compact.cc:1049</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor_html_acea62577d515690e9ad7b84bc832ae0e"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector_1_1SharedHeapObjectVisitor.html#acea62577d515690e9ad7b84bc832ae0e">v8::internal::MarkCompactCollector::SharedHeapObjectVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01028">mark-compact.cc:1028</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html">v8::internal::MarkCompactCollector</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00057">mark-compact.h:57</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a00b443b2076c56d087e7c0decad77074"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a00b443b2076c56d087e7c0decad77074">v8::internal::MarkCompactCollector::code_flush_mode</a></div><div class="ttdeci">base::EnumSet&lt; CodeFlushMode &gt; code_flush_mode() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00170">mark-compact.h:170</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a081b322601a4f48341bab12890a37b11"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a081b322601a4f48341bab12890a37b11">v8::internal::MarkCompactCollector::key_to_values_</a></div><div class="ttdeci">KeyToValues key_to_values_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00452">mark-compact.h:452</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a0fcc37fc5a17ba03b80c55849b314fec"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a0fcc37fc5a17ba03b80c55849b314fec">v8::internal::MarkCompactCollector::weak_objects_</a></div><div class="ttdeci">WeakObjects weak_objects_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00427">mark-compact.h:427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a10a5a2e6ceb32614eacab77deaa104fe"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a10a5a2e6ceb32614eacab77deaa104fe">v8::internal::MarkCompactCollector::Sweep</a></div><div class="ttdeci">void Sweep()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l06162">mark-compact.cc:6162</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a129119a903f3c2057d4a02d0ed5d0e7e"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a129119a903f3c2057d4a02d0ed5d0e7e">v8::internal::MarkCompactCollector::ClearNonLiveReferences</a></div><div class="ttdeci">void ClearNonLiveReferences()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02922">mark-compact.cc:2922</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a12d88c9886e76b0365ad7e70af83b280"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a12d88c9886e76b0365ad7e70af83b280">v8::internal::MarkCompactCollector::MarkObject</a></div><div class="ttdeci">void MarkObject(Tagged&lt; HeapObject &gt; host, Tagged&lt; HeapObject &gt; obj, MarkingHelper::WorklistTarget target_worklist)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact-inl_8h_source.html#l00028">mark-compact-inl.h:28</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a13bc63346bb82388df996ca28b39f6d3"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a13bc63346bb82388df996ca28b39f6d3">v8::internal::MarkCompactCollector::weak_objects</a></div><div class="ttdeci">WeakObjects * weak_objects()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00180">mark-compact.h:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a14f47d0348b13ca89bea5f71604fa8f9"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a14f47d0348b13ca89bea5f71604fa8f9">v8::internal::MarkCompactCollector::SweepLargeSpace</a></div><div class="ttdeci">void SweepLargeSpace(LargeObjectSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l06120">mark-compact.cc:6120</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a158db1a522505fb3dd824882108797bb"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a158db1a522505fb3dd824882108797bb">v8::internal::MarkCompactCollector::MarkRoots</a></div><div class="ttdeci">void MarkRoots(RootVisitor *root_visitor)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01854">mark-compact.cc:1854</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a16935f51d75fd467f80fae7c7d960e5e"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a16935f51d75fd467f80fae7c7d960e5e">v8::internal::MarkCompactCollector::MarkLiveObjects</a></div><div class="ttdeci">void MarkLiveObjects()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02477">mark-compact.cc:2477</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a17e6e45984b6757652c6611c22c17cff"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a17e6e45984b6757652c6611c22c17cff">v8::internal::MarkCompactCollector::VerifyMarking</a></div><div class="ttdeci">void VerifyMarking()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00814">mark-compact.cc:814</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a18e20b7391f846e5f4c429eda5bf5cbe"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a18e20b7391f846e5f4c429eda5bf5cbe">v8::internal::MarkCompactCollector::queued_pages_to_be_freed_</a></div><div class="ttdeci">std::vector&lt; MutablePageMetadata * &gt; queued_pages_to_be_freed_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00449">mark-compact.h:449</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a1c9a5589f6ebd3fd2eb5869923fe8e54"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a1c9a5589f6ebd3fd2eb5869923fe8e54">v8::internal::MarkCompactCollector::use_background_threads_in_cycle_</a></div><div class="ttdeci">bool use_background_threads_in_cycle_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00473">mark-compact.h:473</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a222eabb25bd3b1513f83bc63e6043bf3"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a222eabb25bd3b1513f83bc63e6043bf3">v8::internal::MarkCompactCollector::StartMarking</a></div><div class="ttdeci">void StartMarking(std::shared_ptr&lt;::heap::base::IncrementalMarkingSchedule &gt; schedule={})</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00406">mark-compact.cc:406</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a25ccbff2b71c818ffeab6970aad6510f"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a25ccbff2b71c818ffeab6970aad6510f">v8::internal::MarkCompactCollector::code_flush_mode_</a></div><div class="ttdeci">base::EnumSet&lt; CodeFlushMode &gt; code_flush_mode_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00469">mark-compact.h:469</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a26199027fc8ec567b87add6be727214c"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a26199027fc8ec567b87add6be727214c">v8::internal::MarkCompactCollector::SweepArrayBufferExtensions</a></div><div class="ttdeci">void SweepArrayBufferExtensions()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00935">mark-compact.cc:935</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a2bf16e5a4b1908c7abfc22383d37980f"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a2bf16e5a4b1908c7abfc22383d37980f">v8::internal::MarkCompactCollector::have_code_to_deoptimize_</a></div><div class="ttdeci">bool have_code_to_deoptimize_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00421">mark-compact.h:421</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a325b77c4c0ed550f8eb2c317f8d5ebd3"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a325b77c4c0ed550f8eb2c317f8d5ebd3">v8::internal::MarkCompactCollector::AddEvacuationCandidate</a></div><div class="ttdeci">void AddEvacuationCandidate(PageMetadata *p)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00307">mark-compact.cc:307</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a3cf7f62c683dbc4b89a6f71b7d60cc37"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a3cf7f62c683dbc4b89a6f71b7d60cc37">v8::internal::MarkCompactCollector::CollectEvacuationCandidates</a></div><div class="ttdeci">void CollectEvacuationCandidates(PagedSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00609">mark-compact.cc:609</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a45dbe9fb4c2e4b5ebdf19806b2de88fe"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a45dbe9fb4c2e4b5ebdf19806b2de88fe">v8::internal::MarkCompactCollector::IsUnmarkedSharedHeapObject</a></div><div class="ttdeci">static bool IsUnmarkedSharedHeapObject(Heap *heap, FullObjectSlot p)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01841">mark-compact.cc:1841</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a48f19e21a6973a04ac052c06f045ac10"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a48f19e21a6973a04ac052c06f045ac10">v8::internal::MarkCompactCollector::RecordSlot</a></div><div class="ttdeci">static void RecordSlot(Tagged&lt; HeapObject &gt; object, THeapObjectSlot slot, Tagged&lt; HeapObject &gt; target)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact-inl_8h_source.html#l00060">mark-compact-inl.h:60</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a4ff3035e5f30676d376dfe540f5cb6ea"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a4ff3035e5f30676d376dfe540f5cb6ea">v8::internal::MarkCompactCollector::MarkRootObject</a></div><div class="ttdeci">void MarkRootObject(Root root, Tagged&lt; HeapObject &gt; obj, MarkingHelper::WorklistTarget target_worklist)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact-inl_8h_source.html#l00036">mark-compact-inl.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a57e6e0473e2cf52591357fcbeb4ebfca"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a57e6e0473e2cf52591357fcbeb4ebfca">v8::internal::MarkCompactCollector::evacuation_candidates_</a></div><div class="ttdeci">std::vector&lt; PageMetadata * &gt; evacuation_candidates_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00438">mark-compact.h:438</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a5baec12608267c330286a39281ddf7af"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a5baec12608267c330286a39281ddf7af">v8::internal::MarkCompactCollector::ComputeEvacuationHeuristics</a></div><div class="ttdeci">void ComputeEvacuationHeuristics(size_t area_size, int *target_fragmentation_percent, size_t *max_evacuated_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00561">mark-compact.cc:561</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a5c26fb846b8fa0a693ab2d751fc7b1c9"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a5c26fb846b8fa0a693ab2d751fc7b1c9">v8::internal::MarkCompactCollector::local_weak_objects</a></div><div class="ttdeci">WeakObjects::Local * local_weak_objects()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00181">mark-compact.h:181</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a5f0477b3276f6b872199164ffc981999"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a5f0477b3276f6b872199164ffc981999">v8::internal::MarkCompactCollector::IsOnEvacuationCandidate</a></div><div class="ttdeci">static bool IsOnEvacuationCandidate(Tagged&lt; MaybeObject &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00119">mark-compact.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a62f2fdb072e51e33c943ff1835035d9a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a62f2fdb072e51e33c943ff1835035d9a">v8::internal::MarkCompactCollector::~MarkCompactCollector</a></div><div class="ttdeci">~MarkCompactCollector()</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a7aa3dd4e8cf79ce7342fd16773ecfb8a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a7aa3dd4e8cf79ce7342fd16773ecfb8a">v8::internal::MarkCompactCollector::local_marking_worklists_</a></div><div class="ttdeci">std::unique_ptr&lt; MarkingWorklists::Local &gt; local_marking_worklists_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00425">mark-compact.h:425</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a813f065fd20e706f633a1f94da96f839"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a813f065fd20e706f633a1f94da96f839">v8::internal::MarkCompactCollector::in_conservative_stack_scanning_</a></div><div class="ttdeci">bool in_conservative_stack_scanning_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00475">mark-compact.h:475</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a82db441b928fc8abc959d3d4c7c18906"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a82db441b928fc8abc959d3d4c7c18906">v8::internal::MarkCompactCollector::CollectGarbage</a></div><div class="ttdeci">void CollectGarbage()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00488">mark-compact.cc:488</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a84cbdfc60879f899e3aca799e53e5e42"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a84cbdfc60879f899e3aca799e53e5e42">v8::internal::MarkCompactCollector::marking_worklists_</a></div><div class="ttdeci">MarkingWorklists marking_worklists_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00424">mark-compact.h:424</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a85c44c012f24399a6d96a1191d92e4fb"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a85c44c012f24399a6d96a1191d92e4fb">v8::internal::MarkCompactCollector::CallOrigin</a></div><div class="ttdeci">CallOrigin</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00072">mark-compact.h:72</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a85c44c012f24399a6d96a1191d92e4fba9475de0921b6e2867bf258b7d16d50f7"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a85c44c012f24399a6d96a1191d92e4fba9475de0921b6e2867bf258b7d16d50f7">v8::internal::MarkCompactCollector::CallOrigin::kAtomicGC</a></div><div class="ttdeci">@ kAtomicGC</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a88bb504c9d7b76a16ab2f067e907574c"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a88bb504c9d7b76a16ab2f067e907574c">v8::internal::MarkCompactCollector::Prepare</a></div><div class="ttdeci">void Prepare()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00765">mark-compact.cc:765</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a927eebc2a596cab74de9a052a849d0ea"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a927eebc2a596cab74de9a052a849d0ea">v8::internal::MarkCompactCollector::MaybeEnableBackgroundThreadsInCycle</a></div><div class="ttdeci">void MaybeEnableBackgroundThreadsInCycle(CallOrigin origin)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00466">mark-compact.cc:466</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_a9d6f060a09240e70ae531c260c99650b"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#a9d6f060a09240e70ae531c260c99650b">v8::internal::MarkCompactCollector::FinishConcurrentMarking</a></div><div class="ttdeci">void FinishConcurrentMarking()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00799">mark-compact.cc:799</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aa1bd78a56ac02e2696341af641334a6b"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aa1bd78a56ac02e2696341af641334a6b">v8::internal::MarkCompactCollector::Finish</a></div><div class="ttdeci">void Finish()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00849">mark-compact.cc:849</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aa333a0a067ea24b0545c99392cc77848"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aa333a0a067ea24b0545c99392cc77848">v8::internal::MarkCompactCollector::empty_new_space_pages_to_be_swept_</a></div><div class="ttdeci">std::vector&lt; PageMetadata * &gt; empty_new_space_pages_to_be_swept_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00471">mark-compact.h:471</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aa553d7a0b23e5ce515c7dd3289ae84fa"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aa553d7a0b23e5ce515c7dd3289ae84fa">v8::internal::MarkCompactCollector::Evacuate</a></div><div class="ttdeci">void Evacuate()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05054">mark-compact.cc:5054</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aaf362cecdae97f4d77f1b446496fcbe6"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf362cecdae97f4d77f1b446496fcbe6">v8::internal::MarkCompactCollector::ProcessTopOptimizedFrame</a></div><div class="ttdeci">void ProcessTopOptimizedFrame(ObjectVisitor *visitor, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02359">mark-compact.cc:2359</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aaf4a3c7fbd042b3a90c2c1e4f00cac88"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aaf4a3c7fbd042b3a90c2c1e4f00cac88">v8::internal::MarkCompactCollector::EphemeronResult</a></div><div class="ttdeci">EphemeronResult</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00077">mark-compact.h:77</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ab6e6080b49b981420d6462957e003821"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ab6e6080b49b981420d6462957e003821">v8::internal::MarkCompactCollector::MarkObjectsFromClientHeap</a></div><div class="ttdeci">void MarkObjectsFromClientHeap(Isolate *client)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01919">mark-compact.cc:1919</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ab77b1f17c1aaf49a93ba2e394fd11984"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ab77b1f17c1aaf49a93ba2e394fd11984">v8::internal::MarkCompactCollector::epoch</a></div><div class="ttdeci">unsigned epoch() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00168">mark-compact.h:168</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ab7a10b022d9f335231b5ea7dbbdbaa51"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7a10b022d9f335231b5ea7dbbdbaa51">v8::internal::MarkCompactCollector::local_weak_objects_</a></div><div class="ttdeci">std::unique_ptr&lt; WeakObjects::Local &gt; local_weak_objects_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00430">mark-compact.h:430</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ab7e6a8160a88f451d394d7135403f3ae"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ab7e6a8160a88f451d394d7135403f3ae">v8::internal::MarkCompactCollector::StartCompaction</a></div><div class="ttdeci">bool StartCompaction(StartCompactionMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00331">mark-compact.cc:331</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ac134d900ab0dbca461ef7cb20318c4ba"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ac134d900ab0dbca461ef7cb20318c4ba">v8::internal::MarkCompactCollector::IsUnmarkedHeapObject</a></div><div class="ttdeci">static bool IsUnmarkedHeapObject(Heap *heap, FullObjectSlot p)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01832">mark-compact.cc:1832</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ac461786105da85b3815ffc21717d883d"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ac461786105da85b3815ffc21717d883d">v8::internal::MarkCompactCollector::sweeper_</a></div><div class="ttdeci">Sweeper *const sweeper_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00456">mark-compact.h:456</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ac79654a97e006616402d89dcec98eac7"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ac79654a97e006616402d89dcec98eac7">v8::internal::MarkCompactCollector::TearDown</a></div><div class="ttdeci">void TearDown()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00296">mark-compact.cc:296</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ac8160c925310ee4a1b68a3ce930c2edb"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ac8160c925310ee4a1b68a3ce930c2edb">v8::internal::MarkCompactCollector::MarkObjectsFromClientHeaps</a></div><div class="ttdeci">void MarkObjectsFromClientHeaps()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01909">mark-compact.cc:1909</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_acedafe750c7420c9b300b28d35551732"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#acedafe750c7420c9b300b28d35551732">v8::internal::MarkCompactCollector::MarkRootsFromConservativeStack</a></div><div class="ttdeci">void MarkRootsFromConservativeStack(RootVisitor *root_visitor)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01887">mark-compact.cc:1887</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ade96b53880b218eba9217ef4f296dcdf"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ade96b53880b218eba9217ef4f296dcdf">v8::internal::MarkCompactCollector::compacting_</a></div><div class="ttdeci">bool compacting_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00419">mark-compact.h:419</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_adebad6550fadebad8005f173c10359c6"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#adebad6550fadebad8005f173c10359c6">v8::internal::MarkCompactCollector::native_context_stats_</a></div><div class="ttdeci">NativeContextStats native_context_stats_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00432">mark-compact.h:432</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_adf2bc94ab3ef1e83c8e7f8df722f1896"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#adf2bc94ab3ef1e83c8e7f8df722f1896">v8::internal::MarkCompactCollector::RecordObjectStats</a></div><div class="ttdeci">void RecordObjectStats()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02380">mark-compact.cc:2380</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ae03601e565734a2538c3452310efcf8a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ae03601e565734a2538c3452310efcf8a">v8::internal::MarkCompactCollector::heap_</a></div><div class="ttdeci">Heap *const heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00396">mark-compact.h:396</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ae19c3ac5994087b78c51c64221e1771c"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ae19c3ac5994087b78c51c64221e1771c">v8::internal::MarkCompactCollector::heap</a></div><div class="ttdeci">Heap * heap()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00189">mark-compact.h:189</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_ae4455c0b37942d5616bb57730157eb6a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#ae4455c0b37942d5616bb57730157eb6a">v8::internal::MarkCompactCollector::RecordRelocSlot</a></div><div class="ttdeci">static void RecordRelocSlot(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo, Tagged&lt; HeapObject &gt; target)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04065">mark-compact.cc:4065</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aeffa934d2a7a740c62b6b7521f0c3897"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aeffa934d2a7a740c62b6b7521f0c3897">v8::internal::MarkCompactCollector::StartCompactionMode</a></div><div class="ttdeci">StartCompactionMode</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00062">mark-compact.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_aeffa934d2a7a740c62b6b7521f0c3897a726d9cf5163c50b3cf8e05800e3cef71"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#aeffa934d2a7a740c62b6b7521f0c3897a726d9cf5163c50b3cf8e05800e3cef71">v8::internal::MarkCompactCollector::StartCompactionMode::kAtomic</a></div><div class="ttdeci">@ kAtomic</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_af61342980b0507790efb15034d83162f"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#af61342980b0507790efb15034d83162f">v8::internal::MarkCompactCollector::marking_visitor_</a></div><div class="ttdeci">std::unique_ptr&lt; MainMarkingVisitor &gt; marking_visitor_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00429">mark-compact.h:429</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_af7e1a054489f11045c46e33fd3c17c97"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#af7e1a054489f11045c46e33fd3c17c97">v8::internal::MarkCompactCollector::MarkCompactCollector</a></div><div class="ttdeci">MarkCompactCollector(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00282">mark-compact.cc:282</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactCollector_html_afae21b5cab72b362b1b379c2f3bda5f8"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactCollector.html#afae21b5cab72b362b1b379c2f3bda5f8">v8::internal::MarkCompactCollector::non_atomic_marking_state_</a></div><div class="ttdeci">NonAtomicMarkingState *const non_atomic_marking_state_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00455">mark-compact.h:455</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactWeakObjectRetainer_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html">v8::internal::MarkCompactWeakObjectRetainer</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01205">mark-compact.cc:1205</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactWeakObjectRetainer_html_a2c82e641ad0863c4718dea93a70ec93f"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a2c82e641ad0863c4718dea93a70ec93f">v8::internal::MarkCompactWeakObjectRetainer::marking_state_</a></div><div class="ttdeci">MarkingState *const marking_state_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01238">mark-compact.cc:1238</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactWeakObjectRetainer_html_a322a6ec1741b0c952ffcf51fb576ee59"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a322a6ec1741b0c952ffcf51fb576ee59">v8::internal::MarkCompactWeakObjectRetainer::RetainAs</a></div><div class="ttdeci">Tagged&lt; Object &gt; RetainAs(Tagged&lt; Object &gt; object) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01210">mark-compact.cc:1210</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactWeakObjectRetainer_html_a4eef87d0358bbd1997ab4e8398ddbf3d"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a4eef87d0358bbd1997ab4e8398ddbf3d">v8::internal::MarkCompactWeakObjectRetainer::MarkCompactWeakObjectRetainer</a></div><div class="ttdeci">MarkCompactWeakObjectRetainer(Heap *heap, MarkingState *marking_state)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01207">mark-compact.cc:1207</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkCompactWeakObjectRetainer_html_a8708056908657e3a4fd85387383ad7ec"><div class="ttname"><a href="classv8_1_1internal_1_1MarkCompactWeakObjectRetainer.html#a8708056908657e3a4fd85387383ad7ec">v8::internal::MarkCompactWeakObjectRetainer::heap_</a></div><div class="ttdeci">Heap *const heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01237">mark-compact.cc:1237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingBarrier_html_a2d768331ca216e2dc7f88961d5f1f5fc"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingBarrier.html#a2d768331ca216e2dc7f88961d5f1f5fc">v8::internal::MarkingBarrier::PublishIfNeeded</a></div><div class="ttdeci">void PublishIfNeeded()</div><div class="ttdef"><b>Definition:</b> <a href="marking-barrier_8cc_source.html#l00439">marking-barrier.cc:439</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingBitmap_html_a04afa8b5e8843abbe2a086af381a91c3"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingBitmap.html#a04afa8b5e8843abbe2a086af381a91c3">v8::internal::MarkingBitmap::IsClean</a></div><div class="ttdeci">bool IsClean() const</div><div class="ttdef"><b>Definition:</b> <a href="marking_8cc_source.html#l00132">marking.cc:132</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingBitmap_html_ab035b813ebd4cc3c95d4d1c2f6fd00bf"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingBitmap.html#ab035b813ebd4cc3c95d4d1c2f6fd00bf">v8::internal::MarkingBitmap::ClearRange</a></div><div class="ttdeci">void ClearRange(MarkBitIndex start_index, MarkBitIndex end_index)</div><div class="ttdef"><b>Definition:</b> <a href="marking-inl_8h_source.html#l00121">marking-inl.h:121</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingProgressTracker_html_a9a247cdc03af0fbdf1143e2300ffde61"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingProgressTracker.html#a9a247cdc03af0fbdf1143e2300ffde61">v8::internal::MarkingProgressTracker::ResetIfEnabled</a></div><div class="ttdeci">void ResetIfEnabled()</div><div class="ttdef"><b>Definition:</b> <a href="marking-progress-tracker_8h_source.html#l00051">marking-progress-tracker.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingStateBase_html_a25369a80f635ffb368937574c7a4e6a6"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingStateBase.html#a25369a80f635ffb368937574c7a4e6a6">v8::internal::MarkingStateBase::TryMarkAndAccountLiveBytes</a></div><div class="ttdeci">bool TryMarkAndAccountLiveBytes(Tagged&lt; HeapObject &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="marking-state-inl_8h_source.html#l00036">marking-state-inl.h:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingStateBase_html_aaf1662a3d84f030521524b6bc605785e"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingStateBase.html#aaf1662a3d84f030521524b6bc605785e">v8::internal::MarkingStateBase::IsUnmarked</a></div><div class="ttdeci">bool IsUnmarked(const Tagged&lt; HeapObject &gt; obj) const</div><div class="ttdef"><b>Definition:</b> <a href="marking-state-inl_8h_source.html#l00024">marking-state-inl.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingState_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingState.html">v8::internal::MarkingState</a></div><div class="ttdef"><b>Definition:</b> <a href="marking-state_8h_source.html#l00055">marking-state.h:56</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingVisitorBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingVisitorBase.html">v8::internal::MarkingVisitorBase</a></div><div class="ttdef"><b>Definition:</b> <a href="marking-visitor_8h_source.html#l00046">marking-visitor.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_html_a03bdf39a61570cea166a4c86c4dc404a"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists.html#a03bdf39a61570cea166a4c86c4dc404a">v8::internal::MarkingWorklists::CreateContextWorklists</a></div><div class="ttdeci">void CreateContextWorklists(const std::vector&lt; Address &gt; &amp;contexts)</div><div class="ttdef"><b>Definition:</b> <a href="marking-worklist_8cc_source.html#l00039">marking-worklist.cc:39</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_html_a89010874238d7f05fc609afa7119ef40"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists.html#a89010874238d7f05fc609afa7119ef40">v8::internal::MarkingWorklists::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="marking-worklist_8cc_source.html#l00024">marking-worklist.cc:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_html_a941d07bdea68cc187975415adc4dac79"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists.html#a941d07bdea68cc187975415adc4dac79">v8::internal::MarkingWorklists::Local</a></div><div class="ttdeci">Local(MarkingWorklists *global, std::unique_ptr&lt; CppMarkingState &gt; cpp_marking_state=kNoCppMarkingState)</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MarkingWorklists_html_ad043c0f34b550badabc3d15a17c52943"><div class="ttname"><a href="classv8_1_1internal_1_1MarkingWorklists.html#ad043c0f34b550badabc3d15a17c52943">v8::internal::MarkingWorklists::ReleaseContextWorklists</a></div><div class="ttdeci">void ReleaseContextWorklists()</div><div class="ttdef"><b>Definition:</b> <a href="marking-worklist_8cc_source.html#l00051">marking-worklist.cc:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryAllocator_html_a1c5f0a0deae321ce11d19b7be506ed8ba40aff34e1505b9920e3a4ec8f3763fb5"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryAllocator.html#a1c5f0a0deae321ce11d19b7be506ed8ba40aff34e1505b9920e3a4ec8f3763fb5">v8::internal::MemoryAllocator::FreeMode::kImmediately</a></div><div class="ttdeci">@ kImmediately</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryAllocator_html_a44f020919cc4a6c1859943003e577424"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryAllocator.html#a44f020919cc4a6c1859943003e577424">v8::internal::MemoryAllocator::Free</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Free(MemoryAllocator::FreeMode mode, MutablePageMetadata *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="memory-allocator_8cc_source.html#l00344">memory-allocator.cc:344</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkIterator.html">v8::internal::MemoryChunkIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="spaces_8h_source.html#l00242">spaces.h:242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkIterator_html_a76edecc87124dd19fbf9ede99ed61dad"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkIterator.html#a76edecc87124dd19fbf9ede99ed61dad">v8::internal::MemoryChunkIterator::HasNext</a></div><div class="ttdeci">bool HasNext()</div><div class="ttdef"><b>Definition:</b> <a href="spaces-inl_8h_source.html#l00116">spaces-inl.h:116</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkIterator_html_ad291416d159c306704f0bfea711f1106"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkIterator.html#ad291416d159c306704f0bfea711f1106">v8::internal::MemoryChunkIterator::Next</a></div><div class="ttdeci">MutablePageMetadata * Next()</div><div class="ttdef"><b>Definition:</b> <a href="spaces-inl_8h_source.html#l00128">spaces-inl.h:128</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a51cfea136a536fcf580f114b75f1d69b"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a51cfea136a536fcf580f114b75f1d69b">v8::internal::MemoryChunkMetadata::area_start</a></div><div class="ttdeci">Address area_start() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00060">memory-chunk-metadata.h:60</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a898aedc43e020dfdc0dbf686a863c92d"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a898aedc43e020dfdc0dbf686a863c92d">v8::internal::MemoryChunkMetadata::area_end</a></div><div class="ttdeci">Address area_end() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00062">memory-chunk-metadata.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a99a35cd051fc570183122292b977fd64"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a99a35cd051fc570183122292b977fd64">v8::internal::MemoryChunkMetadata::Chunk</a></div><div class="ttdeci">MemoryChunk * Chunk()</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00123">memory-chunk-metadata.h:123</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_a9fc112c5748d8edf2b68bd19ab082519"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#a9fc112c5748d8edf2b68bd19ab082519">v8::internal::MemoryChunkMetadata::allocated_bytes</a></div><div class="ttdeci">size_t allocated_bytes() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00101">memory-chunk-metadata.h:101</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_acd8dfb2e8657abe513a212fea3bf4683"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#acd8dfb2e8657abe513a212fea3bf4683">v8::internal::MemoryChunkMetadata::area_size</a></div><div class="ttdeci">size_t area_size() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00065">memory-chunk-metadata.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_ae6359cac53a62c06486ec030fa37bc28"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#ae6359cac53a62c06486ec030fa37bc28">v8::internal::MemoryChunkMetadata::heap</a></div><div class="ttdeci">Heap * heap() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00069">memory-chunk-metadata.h:69</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunkMetadata_html_af9c5926ad8961fba9ea6888dfb0e572e"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunkMetadata.html#af9c5926ad8961fba9ea6888dfb0e572e">v8::internal::MemoryChunkMetadata::Offset</a></div><div class="ttdeci">size_t Offset(Address a) const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-metadata_8h_source.html#l00055">memory-chunk-metadata.h:55</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html">v8::internal::MemoryChunk</a></div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00045">memory-chunk.h:45</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a0398fad4cb6436a18dc1599b206c3b87"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a0398fad4cb6436a18dc1599b206c3b87">v8::internal::MemoryChunk::ClearFlagSlow</a></div><div class="ttdeci">void ClearFlagSlow(Flag flag)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8cc_source.html#l00189">memory-chunk.cc:189</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a0481ad8f68cb1d4a794d588d80cc8f54"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a0481ad8f68cb1d4a794d588d80cc8f54">v8::internal::MemoryChunk::FromHeapObject</a></div><div class="ttdeci">static MemoryChunk * FromHeapObject(Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00190">memory-chunk.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a1c9e126ddfcab88ef54ab6a899ece138"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a1c9e126ddfcab88ef54ab6a899ece138">v8::internal::MemoryChunk::FromAddress</a></div><div class="ttdeci">static MemoryChunk * FromAddress(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00185">memory-chunk.h:185</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a21c2f9173381a161427a0c11d2a22ca5"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a21c2f9173381a161427a0c11d2a22ca5">v8::internal::MemoryChunk::IsFromPage</a></div><div class="ttdeci">bool IsFromPage() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00306">memory-chunk.h:306</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a31917793e4e1f003c57c07b8dd2422fa"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a31917793e4e1f003c57c07b8dd2422fa">v8::internal::MemoryChunk::IsEvacuationCandidate</a></div><div class="ttdeci">bool IsEvacuationCandidate() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00291">memory-chunk.h:291</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a373d8e228ddd7d2d99d3ecc4033094a5"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a373d8e228ddd7d2d99d3ecc4033094a5">v8::internal::MemoryChunk::ClearFlagUnlocked</a></div><div class="ttdeci">void ClearFlagUnlocked(Flag flag)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00227">memory-chunk.h:227</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a3aacf1e5a45f3a0e3728850e6698cdf9a2cced78334b717b2021a1a0f8148ad48"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a2cced78334b717b2021a1a0f8148ad48">v8::internal::MemoryChunk::BLACK_ALLOCATED</a></div><div class="ttdeci">@ BLACK_ALLOCATED</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00086">memory-chunk.h:86</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a3aacf1e5a45f3a0e3728850e6698cdf9a8a4e62697e6258d1ac19282da3fcd9e9"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a8a4e62697e6258d1ac19282da3fcd9e9">v8::internal::MemoryChunk::IS_TRUSTED</a></div><div class="ttdeci">@ IS_TRUSTED</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00134">memory-chunk.h:134</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a3aacf1e5a45f3a0e3728850e6698cdf9a9b9c83db34c98c75a25e8f82f7bc8cef"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9a9b9c83db34c98c75a25e8f82f7bc8cef">v8::internal::MemoryChunk::FORCE_EVACUATION_CANDIDATE_FOR_TESTING</a></div><div class="ttdeci">@ FORCE_EVACUATION_CANDIDATE_FOR_TESTING</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00104">memory-chunk.h:104</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a3aacf1e5a45f3a0e3728850e6698cdf9adf40869b808cdb4df42933e6402fcf93"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a3aacf1e5a45f3a0e3728850e6698cdf9adf40869b808cdb4df42933e6402fcf93">v8::internal::MemoryChunk::IS_EXECUTABLE</a></div><div class="ttdeci">@ IS_EXECUTABLE</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00129">memory-chunk.h:129</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a44866a12b8321da05aa7482a1ae25e50"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a44866a12b8321da05aa7482a1ae25e50">v8::internal::MemoryChunk::InWritableSharedSpace</a></div><div class="ttdeci">bool InWritableSharedSpace() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00204">memory-chunk.h:204</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a475a8ad0afce6e081ad584223c4684f9"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a475a8ad0afce6e081ad584223c4684f9">v8::internal::MemoryChunk::InCodeSpace</a></div><div class="ttdeci">bool InCodeSpace() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00280">memory-chunk.h:280</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a4d00dabb4e29bfdd7d683ce953be2289"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a4d00dabb4e29bfdd7d683ce953be2289">v8::internal::MemoryChunk::InYoungGeneration</a></div><div class="ttdeci">bool InYoungGeneration() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00208">memory-chunk.h:208</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a54ee8fbce7335c389ddaf0229e5c6858"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a54ee8fbce7335c389ddaf0229e5c6858">v8::internal::MemoryChunk::executable</a></div><div class="ttdeci">Executability executable() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00302">memory-chunk.h:302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a59bec6e443b8360a946b8285aee9d887"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a59bec6e443b8360a946b8285aee9d887">v8::internal::MemoryChunk::IsPinned</a></div><div class="ttdeci">bool IsPinned() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00319">memory-chunk.h:319</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a60ab6e39e09fcf7d4d2dae6ed4ee2ec4"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a60ab6e39e09fcf7d4d2dae6ed4ee2ec4">v8::internal::MemoryChunk::InReadOnlySpace</a></div><div class="ttdeci">bool InReadOnlySpace() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00270">memory-chunk.h:270</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a646a2dccc971ad9f546e0da4a35cfbbb"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a646a2dccc971ad9f546e0da4a35cfbbb">v8::internal::MemoryChunk::Metadata</a></div><div class="ttdeci">MemoryChunkMetadata * Metadata()</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk-inl_8h_source.html#l00017">memory-chunk-inl.h:17</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a72bc65caf0c47dc3a85f4535359b8ac1"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a72bc65caf0c47dc3a85f4535359b8ac1">v8::internal::MemoryChunk::NeverEvacuate</a></div><div class="ttdeci">bool NeverEvacuate() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00284">memory-chunk.h:284</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a73d4d1837ecc5f047a1ff2f79a663429"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a73d4d1837ecc5f047a1ff2f79a663429">v8::internal::MemoryChunk::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00171">memory-chunk.h:171</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a750d5345adc9f2dea8b5afdb885f3191"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a750d5345adc9f2dea8b5afdb885f3191">v8::internal::MemoryChunk::Offset</a></div><div class="ttdeci">size_t Offset(Address addr) const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00363">memory-chunk.h:363</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_a8b2c01a93ef7254c13bf38f060d6c365"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#a8b2c01a93ef7254c13bf38f060d6c365">v8::internal::MemoryChunk::SetFlagSlow</a></div><div class="ttdeci">void SetFlagSlow(Flag flag)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8cc_source.html#l00180">memory-chunk.cc:180</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_aa31db51f78d580d1ad85508aea649359"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#aa31db51f78d580d1ad85508aea649359">v8::internal::MemoryChunk::IsQuarantined</a></div><div class="ttdeci">bool IsQuarantined() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00324">memory-chunk.h:324</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_aa62524e63cefe9aec70feefdb2df762f"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#aa62524e63cefe9aec70feefdb2df762f">v8::internal::MemoryChunk::ClearFlagNonExecutable</a></div><div class="ttdeci">void ClearFlagNonExecutable(Flag flag)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00243">memory-chunk.h:243</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_aab1d9e4d7cb3d99eba977b301cd1cd89"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#aab1d9e4d7cb3d99eba977b301cd1cd89">v8::internal::MemoryChunk::ShouldSkipEvacuationSlotRecording</a></div><div class="ttdeci">bool ShouldSkipEvacuationSlotRecording() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00296">memory-chunk.h:296</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_ac1210d15a4733e0198db2b9f1527d146"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#ac1210d15a4733e0198db2b9f1527d146">v8::internal::MemoryChunk::SetFlagNonExecutable</a></div><div class="ttdeci">void SetFlagNonExecutable(Flag flag)</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00240">memory-chunk.h:240</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_ac6f69e1c360286fb6d0112508969cc39"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#ac6f69e1c360286fb6d0112508969cc39">v8::internal::MemoryChunk::CanAllocate</a></div><div class="ttdeci">bool CanAllocate() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00287">memory-chunk.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_aebf4eb09277a5083da24d59c98974894"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#aebf4eb09277a5083da24d59c98974894">v8::internal::MemoryChunk::IsToPage</a></div><div class="ttdeci">bool IsToPage() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00310">memory-chunk.h:310</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_af6319c0e181b258e5f569a76841b4c6b"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#af6319c0e181b258e5f569a76841b4c6b">v8::internal::MemoryChunk::IsFlagSet</a></div><div class="ttdeci">bool IsFlagSet(Flag flag) const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00198">memory-chunk.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_af9fbfead34700f0653b0dfe65bf5d473"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#af9fbfead34700f0653b0dfe65bf5d473">v8::internal::MemoryChunk::IsLargePage</a></div><div class="ttdeci">bool IsLargePage() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00314">memory-chunk.h:314</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryChunk_html_afaf7fe0fa08ae9f3b0c0d2e16b41b0a8"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryChunk.html#afaf7fe0fa08ae9f3b0c0d2e16b41b0a8">v8::internal::MemoryChunk::InNewSpace</a></div><div class="ttdeci">bool InNewSpace() const</div><div class="ttdef"><b>Definition:</b> <a href="memory-chunk_8h_source.html#l00315">memory-chunk.h:315</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryMeasurement_html_a061d53ab3d6b57b6a76398a07172fdc0"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryMeasurement.html#a061d53ab3d6b57b6a76398a07172fdc0">v8::internal::MemoryMeasurement::StartProcessing</a></div><div class="ttdeci">std::vector&lt; Address &gt; StartProcessing()</div><div class="ttdef"><b>Definition:</b> <a href="memory-measurement_8cc_source.html#l00217">memory-measurement.cc:217</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MemoryMeasurement_html_a2b16af443017f8c53573e169987d6d93"><div class="ttname"><a href="classv8_1_1internal_1_1MemoryMeasurement.html#a2b16af443017f8c53573e169987d6d93">v8::internal::MemoryMeasurement::FinishProcessing</a></div><div class="ttdeci">void FinishProcessing(const NativeContextStats &amp;stats)</div><div class="ttdef"><b>Definition:</b> <a href="memory-measurement_8cc_source.html#l00234">memory-measurement.cc:234</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MigrationObserver_html"><div class="ttname"><a href="classv8_1_1internal_1_1MigrationObserver.html">v8::internal::MigrationObserver</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01411">mark-compact.cc:1411</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MigrationObserver_html_a19443570f17cfff396a9cd963c7ffe99"><div class="ttname"><a href="classv8_1_1internal_1_1MigrationObserver.html#a19443570f17cfff396a9cd963c7ffe99">v8::internal::MigrationObserver::Move</a></div><div class="ttdeci">virtual void Move(AllocationSpace dest, Tagged&lt; HeapObject &gt; src, Tagged&lt; HeapObject &gt; dst, int size)=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MigrationObserver_html_a33ca4605dda8e7683c7ed3d38729f363"><div class="ttname"><a href="classv8_1_1internal_1_1MigrationObserver.html#a33ca4605dda8e7683c7ed3d38729f363">v8::internal::MigrationObserver::~MigrationObserver</a></div><div class="ttdeci">virtual ~MigrationObserver()=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MigrationObserver_html_a6908dc5cb778073789390891215ce21d"><div class="ttname"><a href="classv8_1_1internal_1_1MigrationObserver.html#a6908dc5cb778073789390891215ce21d">v8::internal::MigrationObserver::MigrationObserver</a></div><div class="ttdeci">MigrationObserver(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01413">mark-compact.cc:1413</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MigrationObserver_html_afd906cd01456da8dca0f62cde32cae64"><div class="ttname"><a href="classv8_1_1internal_1_1MigrationObserver.html#afd906cd01456da8dca0f62cde32cae64">v8::internal::MigrationObserver::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01420">mark-compact.cc:1420</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html">v8::internal::MutablePageMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00046">mutable-page-metadata.h:46</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a0a6fb8976595ccff308258c0906cd187"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a0a6fb8976595ccff308258c0906cd187">v8::internal::MutablePageMetadata::ReleaseTypedSlotSet</a></div><div class="ttdeci">void ReleaseTypedSlotSet(RememberedSetType type)</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8cc_source.html#l00177">mutable-page-metadata.cc:177</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a108e616f97ea04a2196ad6f89289332a"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a108e616f97ea04a2196ad6f89289332a">v8::internal::MutablePageMetadata::live_bytes</a></div><div class="ttdeci">size_t live_bytes() const</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00256">mutable-page-metadata.h:256</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a1a43308e5db78eb890458a4aa90785a3"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a1a43308e5db78eb890458a4aa90785a3">v8::internal::MutablePageMetadata::typed_slot_set</a></div><div class="ttdeci">TypedSlotSet * typed_slot_set()</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00133">mutable-page-metadata.h:133</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a1bcf541508f597224a80ece032ed11e6"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a1bcf541508f597224a80ece032ed11e6">v8::internal::MutablePageMetadata::SetLiveBytes</a></div><div class="ttdeci">void SetLiveBytes(size_t value)</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00260">mutable-page-metadata.h:260</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a5eb6ae43868b6e96fe84c3cda0b54b41"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a5eb6ae43868b6e96fe84c3cda0b54b41">v8::internal::MutablePageMetadata::ClearLiveness</a></div><div class="ttdeci">void ClearLiveness()</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata-inl_8h_source.html#l00069">mutable-page-metadata-inl.h:69</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a61539ec5811e73edf0313dff80918d56"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a61539ec5811e73edf0313dff80918d56">v8::internal::MutablePageMetadata::marking_progress_tracker</a></div><div class="ttdeci">MarkingProgressTracker &amp; marking_progress_tracker()</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00185">mutable-page-metadata.h:185</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a845533e3672ac206598d704133424949"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a845533e3672ac206598d704133424949">v8::internal::MutablePageMetadata::marking_bitmap</a></div><div class="ttdeci">MarkingBitmap * marking_bitmap()</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00246">mutable-page-metadata.h:246</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a870163f47edbcad4537a73cda5f87c1b"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a870163f47edbcad4537a73cda5f87c1b">v8::internal::MutablePageMetadata::AllocatedLabSize</a></div><div class="ttdeci">size_t AllocatedLabSize() const</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00228">mutable-page-metadata.h:228</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a8ca68362b7531b2ab93a045cdcedfdde"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a8ca68362b7531b2ab93a045cdcedfdde">v8::internal::MutablePageMetadata::kPageSize</a></div><div class="ttdeci">static const int kPageSize</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00062">mutable-page-metadata.h:62</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_a9d7e9f4513ced2b857cd305de14df9a2"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#a9d7e9f4513ced2b857cd305de14df9a2">v8::internal::MutablePageMetadata::SweepingDone</a></div><div class="ttdeci">bool SweepingDone() const</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00115">mutable-page-metadata.h:115</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_ab7d93dcc9e33c85f4be27defe1e1be41"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#ab7d93dcc9e33c85f4be27defe1e1be41">v8::internal::MutablePageMetadata::ReleaseSlotSet</a></div><div class="ttdeci">void ReleaseSlotSet(RememberedSetType type)</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8cc_source.html#l00156">mutable-page-metadata.cc:156</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_acaa892e234b2fe3170fa488f5a9a3767"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#acaa892e234b2fe3170fa488f5a9a3767">v8::internal::MutablePageMetadata::cast</a></div><div class="ttdeci">static MutablePageMetadata * cast(MemoryChunkMetadata *metadata)</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00079">mutable-page-metadata.h:79</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_ad22c3af8aec9b6cbaf0a55506d28bdd1"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#ad22c3af8aec9b6cbaf0a55506d28bdd1">v8::internal::MutablePageMetadata::mutex</a></div><div class="ttdeci">base::Mutex &amp; mutex()</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00102">mutable-page-metadata.h:102</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_afd76b7261895b2043b1715d180858d29"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#afd76b7261895b2043b1715d180858d29">v8::internal::MutablePageMetadata::FromHeapObject</a></div><div class="ttdeci">static MutablePageMetadata * FromHeapObject(Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata-inl_8h_source.html#l00024">mutable-page-metadata-inl.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1MutablePageMetadata_html_afef91880298e04ebdb19a05ee7fd0b58"><div class="ttname"><a href="classv8_1_1internal_1_1MutablePageMetadata.html#afef91880298e04ebdb19a05ee7fd0b58">v8::internal::MutablePageMetadata::ComputeFreeListsLength</a></div><div class="ttdeci">int ComputeFreeListsLength()</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8cc_source.html#l00194">mutable-page-metadata.cc:194</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1NativeContextStats_html_af295a45eb3605b4771e84ae2aa4a7f48"><div class="ttname"><a href="classv8_1_1internal_1_1NativeContextStats.html#af295a45eb3605b4771e84ae2aa4a7f48">v8::internal::NativeContextStats::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="memory-measurement_8cc_source.html#l00375">memory-measurement.cc:375</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1NewLargeObjectSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1NewLargeObjectSpace.html">v8::internal::NewLargeObjectSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="large-spaces_8h_source.html#l00179">large-spaces.h:179</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1NewSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1NewSpace.html">v8::internal::NewSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8h_source.html#l00190">new-spaces.h:190</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1NewSpace_html_a6666d02587ff04156b91f1e56dbedbd7"><div class="ttname"><a href="classv8_1_1internal_1_1NewSpace.html#a6666d02587ff04156b91f1e56dbedbd7">v8::internal::NewSpace::GarbageCollectionEpilogue</a></div><div class="ttdeci">virtual void GarbageCollectionEpilogue()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1NewSpace_html_ad57cffc5ba332ca66576978a276c3620"><div class="ttname"><a href="classv8_1_1internal_1_1NewSpace.html#ad57cffc5ba332ca66576978a276c3620">v8::internal::NewSpace::PromotePageToOldSpace</a></div><div class="ttdeci">void PromotePageToOldSpace(PageMetadata *page, FreeMode free_mode)</div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8cc_source.html#l00404">new-spaces.cc:404</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1NonAtomicMarkingState_html"><div class="ttname"><a href="classv8_1_1internal_1_1NonAtomicMarkingState.html">v8::internal::NonAtomicMarkingState</a></div><div class="ttdef"><b>Definition:</b> <a href="marking-state_8h_source.html#l00062">marking-state.h:63</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectStatsCollector_html"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectStatsCollector.html">v8::internal::ObjectStatsCollector</a></div><div class="ttdef"><b>Definition:</b> <a href="object-stats_8h_source.html#l00178">object-stats.h:178</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectStatsCollector_html_afd62fd6f3928d1905c1b41249b3082b8"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectStatsCollector.html#afd62fd6f3928d1905c1b41249b3082b8">v8::internal::ObjectStatsCollector::Collect</a></div><div class="ttdeci">void Collect()</div><div class="ttdef"><b>Definition:</b> <a href="object-stats_8cc_source.html#l01201">object-stats.cc:1201</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectVisitorWithCageBases_html"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html">v8::internal::ObjectVisitorWithCageBases</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00216">visitors.h:216</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectVisitorWithCageBases_html_a659af9693d9c8a62f14eba44fd06cfe6"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a659af9693d9c8a62f14eba44fd06cfe6">v8::internal::ObjectVisitorWithCageBases::code_cage_base</a></div><div class="ttdeci">PtrComprCageBase code_cage_base() const</div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00235">visitors.h:235</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectVisitorWithCageBases_html_a79ee9c5d1dd4d742f9fa3b1c9186b9a7"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectVisitorWithCageBases.html#a79ee9c5d1dd4d742f9fa3b1c9186b9a7">v8::internal::ObjectVisitorWithCageBases::cage_base</a></div><div class="ttdeci">PtrComprCageBase cage_base() const</div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00225">visitors.h:225</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ObjectVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1ObjectVisitor.html">v8::internal::ObjectVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00130">visitors.h:130</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapFullObjectSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html">v8::internal::OffHeapFullObjectSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00302">slots.h:302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OffHeapFullObjectSlot_html_a503f3174807124ef8c65227ffb37250d"><div class="ttname"><a href="classv8_1_1internal_1_1OffHeapFullObjectSlot.html#a503f3174807124ef8c65227ffb37250d">v8::internal::OffHeapFullObjectSlot::Relaxed_Load</a></div><div class="ttdeci">Tagged&lt; Object &gt; Relaxed_Load() const</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00135">slots-inl.h:82</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OldGenerationMemoryChunkIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1OldGenerationMemoryChunkIterator.html">v8::internal::OldGenerationMemoryChunkIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00576">paged-spaces.h:576</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OldGenerationMemoryChunkIterator_html_a9ea66f860848f7d450f677032859d256"><div class="ttname"><a href="classv8_1_1internal_1_1OldGenerationMemoryChunkIterator.html#a9ea66f860848f7d450f677032859d256">v8::internal::OldGenerationMemoryChunkIterator::next</a></div><div class="ttdeci">MutablePageMetadata * next()</div><div class="ttdef"><b>Definition:</b> <a href="spaces-inl_8h_source.html#l00068">spaces-inl.h:68</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1OldLargeObjectSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1OldLargeObjectSpace.html">v8::internal::OldLargeObjectSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="large-spaces_8h_source.html#l00145">large-spaces.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html">v8::internal::PageEvacuationJob</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04689">mark-compact.cc:4689</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_a1a7442d382a0af5986098026327237d0"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#a1a7442d382a0af5986098026327237d0">v8::internal::PageEvacuationJob::PageEvacuationJob</a></div><div class="ttdeci">PageEvacuationJob(Isolate *isolate, MarkCompactCollector *collector, std::vector&lt; std::unique_ptr&lt; Evacuator &gt;&gt; *evacuators, std::vector&lt; std::pair&lt; ParallelWorkItem, MutablePageMetadata * &gt;&gt; evacuation_items)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04691">mark-compact.cc:4691</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_a2f8133773fa510bee99ff3c22130925e"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#a2f8133773fa510bee99ff3c22130925e">v8::internal::PageEvacuationJob::generator_</a></div><div class="ttdeci">IndexGenerator generator_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04763">mark-compact.cc:4763</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_a5a21ba8e767715e596e291060905280a"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#a5a21ba8e767715e596e291060905280a">v8::internal::PageEvacuationJob::trace_id_</a></div><div class="ttdeci">const uint64_t trace_id_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04766">mark-compact.cc:4766</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_a5a339abfedcef84952b058b058769ecc"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#a5a339abfedcef84952b058b058769ecc">v8::internal::PageEvacuationJob::GetMaxConcurrency</a></div><div class="ttdeci">size_t GetMaxConcurrency(size_t worker_count) const override</div><div class="ttdoc">Controls the maximum number of threads calling Run() concurrently, given the number of threads curren...</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04739">mark-compact.cc:4739</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_a80267f74c0711aa95b67ee3013612073"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#a80267f74c0711aa95b67ee3013612073">v8::internal::PageEvacuationJob::ProcessItems</a></div><div class="ttdeci">void ProcessItems(JobDelegate *delegate, Evacuator *evacuator)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04723">mark-compact.cc:4723</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_a84c4754966a3ef230e33087577545a1b"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#a84c4754966a3ef230e33087577545a1b">v8::internal::PageEvacuationJob::evacuation_items_</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; ParallelWorkItem, MutablePageMetadata * &gt; &gt; evacuation_items_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04761">mark-compact.cc:4761</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_aa15bdf2dc48de10e1bd830c603a19380"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#aa15bdf2dc48de10e1bd830c603a19380">v8::internal::PageEvacuationJob::collector_</a></div><div class="ttdeci">MarkCompactCollector * collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04758">mark-compact.cc:4758</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_ab708e50f29b82e26827fe0da974196e7"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#ab708e50f29b82e26827fe0da974196e7">v8::internal::PageEvacuationJob::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04705">mark-compact.cc:4705</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_ac21b3f891aa6c7d3af83aea5b6046194"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#ac21b3f891aa6c7d3af83aea5b6046194">v8::internal::PageEvacuationJob::trace_id</a></div><div class="ttdeci">uint64_t trace_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04755">mark-compact.cc:4755</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_ac5abac82ad199acdb73676f7233a2b59"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#ac5abac82ad199acdb73676f7233a2b59">v8::internal::PageEvacuationJob::evacuators_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; Evacuator &gt; &gt; * evacuators_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04759">mark-compact.cc:4759</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageEvacuationJob_html_ae1b5bf1eb1007603212a20cb77c221ed"><div class="ttname"><a href="classv8_1_1internal_1_1PageEvacuationJob.html#ae1b5bf1eb1007603212a20cb77c221ed">v8::internal::PageEvacuationJob::tracer_</a></div><div class="ttdeci">GCTracer * tracer_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04765">mark-compact.cc:4765</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageMetadata_html"><div class="ttname"><a href="classv8_1_1internal_1_1PageMetadata.html">v8::internal::PageMetadata</a></div><div class="ttdef"><b>Definition:</b> <a href="page-metadata_8h_source.html#l00024">page-metadata.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageMetadata_html_a1b6da13a34e2984a618db74bda54dd3a"><div class="ttname"><a href="classv8_1_1internal_1_1PageMetadata.html#a1b6da13a34e2984a618db74bda54dd3a">v8::internal::PageMetadata::MarkEvacuationCandidate</a></div><div class="ttdeci">void MarkEvacuationCandidate()</div><div class="ttdef"><b>Definition:</b> <a href="page-metadata-inl_8h_source.html#l00042">page-metadata-inl.h:42</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PageMetadata_html_ac37b751cd85e3a4b1e272da7ea409039"><div class="ttname"><a href="classv8_1_1internal_1_1PageMetadata.html#ac37b751cd85e3a4b1e272da7ea409039">v8::internal::PageMetadata::FromHeapObject</a></div><div class="ttdeci">static PageMetadata * FromHeapObject(Tagged&lt; HeapObject &gt; o)</div><div class="ttdef"><b>Definition:</b> <a href="page-metadata-inl_8h_source.html#l00025">page-metadata-inl.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedNewSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1PagedNewSpace.html">v8::internal::PagedNewSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8h_source.html#l00596">new-spaces.h:596</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedNewSpace_html_a92f245da42fe0a7f7385138e4ad491cd"><div class="ttname"><a href="classv8_1_1internal_1_1PagedNewSpace.html#a92f245da42fe0a7f7385138e4ad491cd">v8::internal::PagedNewSpace::From</a></div><div class="ttdeci">static PagedNewSpace * From(NewSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8h_source.html#l00598">new-spaces.h:598</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedNewSpace_html_ad0dd111dc068ebfadba6491a35652691"><div class="ttname"><a href="classv8_1_1internal_1_1PagedNewSpace.html#ad0dd111dc068ebfadba6491a35652691">v8::internal::PagedNewSpace::paged_space</a></div><div class="ttdeci">PagedSpaceForNewSpace * paged_space()</div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8h_source.html#l00718">new-spaces.h:718</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpaceBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpaceBase.html">v8::internal::PagedSpaceBase</a></div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00111">paged-spaces.h:112</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpaceBase_html_a3712c8fdc0d5f004814318f543633c2d"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpaceBase.html#a3712c8fdc0d5f004814318f543633c2d">v8::internal::PagedSpaceBase::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00277">paged-spaces.h:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpaceBase_html_a940645ec1f2d133497dafeefaf5409e9"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpaceBase.html#a940645ec1f2d133497dafeefaf5409e9">v8::internal::PagedSpaceBase::ClearAllocatorState</a></div><div class="ttdeci">void ClearAllocatorState()</div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00151">paged-spaces.h:151</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpaceBase_html_ae57d1a35d2ce7248a9b385493d8c8fa6"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpaceBase.html#ae57d1a35d2ce7248a9b385493d8c8fa6">v8::internal::PagedSpaceBase::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00276">paged-spaces.h:276</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpaceForNewSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpaceForNewSpace.html">v8::internal::PagedSpaceForNewSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8h_source.html#l00504">new-spaces.h:504</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpaceForNewSpace_html_a6e97c75226520eb7d0cf4f3d6655e5ae"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpaceForNewSpace.html#a6e97c75226520eb7d0cf4f3d6655e5ae">v8::internal::PagedSpaceForNewSpace::ShouldReleaseEmptyPage</a></div><div class="ttdeci">bool ShouldReleaseEmptyPage() const</div><div class="ttdef"><b>Definition:</b> <a href="new-spaces_8cc_source.html#l00920">new-spaces.cc:920</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PagedSpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1PagedSpace.html">v8::internal::PagedSpace</a></div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00361">paged-spaces.h:361</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ParallelWorkItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1ParallelWorkItem.html">v8::internal::ParallelWorkItem</a></div><div class="ttdef"><b>Definition:</b> <a href="parallel-work-item_8h_source.html#l00013">parallel-work-item.h:13</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PerThreadAssertScopeEmpty_html"><div class="ttname"><a href="classv8_1_1internal_1_1PerThreadAssertScopeEmpty.html">v8::internal::PerThreadAssertScopeEmpty&lt; kAllow, kTypes... &gt;</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html">v8::internal::PointersUpdatingJob</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05141">mark-compact.cc:5141</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_a1cbe583c4be85a5143c421bb339d1035"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#a1cbe583c4be85a5143c421bb339d1035">v8::internal::PointersUpdatingJob::updating_items_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; UpdatingItem &gt; &gt; updating_items_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05204">mark-compact.cc:5204</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_a1e85c703f3a66ede1250d045df8717a3"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#a1e85c703f3a66ede1250d045df8717a3">v8::internal::PointersUpdatingJob::GetMaxConcurrency</a></div><div class="ttdeci">size_t GetMaxConcurrency(size_t worker_count) const override</div><div class="ttdoc">Controls the maximum number of threads calling Run() concurrently, given the number of threads curren...</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05188">mark-compact.cc:5188</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_a280637d4978a064a2271d39ba1b0e4d3"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#a280637d4978a064a2271d39ba1b0e4d3">v8::internal::PointersUpdatingJob::collector_</a></div><div class="ttdeci">MarkCompactCollector * collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05203">mark-compact.cc:5203</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_a4bfd19244863f76434a26a28bd0224dd"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#a4bfd19244863f76434a26a28bd0224dd">v8::internal::PointersUpdatingJob::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05154">mark-compact.cc:5154</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_a5cb4dffb32e800db7173a1d48ef62b76"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#a5cb4dffb32e800db7173a1d48ef62b76">v8::internal::PointersUpdatingJob::tracer_</a></div><div class="ttdeci">GCTracer * tracer_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05208">mark-compact.cc:5208</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_a8758fac2f08ea645f7ada1c6881dd8cc"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#a8758fac2f08ea645f7ada1c6881dd8cc">v8::internal::PointersUpdatingJob::UpdatePointers</a></div><div class="ttdeci">void UpdatePointers(JobDelegate *delegate)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05172">mark-compact.cc:5172</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_aa3d0957e4c1417454541158b16b7b008"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#aa3d0957e4c1417454541158b16b7b008">v8::internal::PointersUpdatingJob::PointersUpdatingJob</a></div><div class="ttdeci">PointersUpdatingJob(Isolate *isolate, MarkCompactCollector *collector, std::vector&lt; std::unique_ptr&lt; UpdatingItem &gt;&gt; updating_items)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05143">mark-compact.cc:5143</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_acaff2a4c6b079a1726d1afe9b8b56e88"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#acaff2a4c6b079a1726d1afe9b8b56e88">v8::internal::PointersUpdatingJob::trace_id</a></div><div class="ttdeci">uint64_t trace_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05200">mark-compact.cc:5200</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_adb8873d6958f89b2ac21a42f7325ba87"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#adb8873d6958f89b2ac21a42f7325ba87">v8::internal::PointersUpdatingJob::generator_</a></div><div class="ttdeci">IndexGenerator generator_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05206">mark-compact.cc:5206</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingJob_html_adf6d02ac6bbd7bc6fa4657086fec7564"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingJob.html#adf6d02ac6bbd7bc6fa4657086fec7564">v8::internal::PointersUpdatingJob::trace_id_</a></div><div class="ttdeci">const uint64_t trace_id_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05209">mark-compact.cc:5209</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html">v8::internal::PointersUpdatingVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04312">mark-compact.cc:4313</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a12e0f73c507983e1b17ed0a714edf887"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a12e0f73c507983e1b17ed0a714edf887">v8::internal::PointersUpdatingVisitor::VisitRootPointer</a></div><div class="ttdeci">void VisitRootPointer(Root root, const char *description, FullObjectSlot p) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04345">mark-compact.cc:4345</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a1dafa8a90760e8d386453e4757487e50"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a1dafa8a90760e8d386453e4757487e50">v8::internal::PointersUpdatingVisitor::UpdateStrongMaybeObjectSlotInternal</a></div><div class="ttdeci">static void UpdateStrongMaybeObjectSlotInternal(PtrComprCageBase cage_base, MaybeObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04389">mark-compact.cc:4389</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a4a0346342ff39c8666b3d04972702df2"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a4a0346342ff39c8666b3d04972702df2">v8::internal::PointersUpdatingVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, ObjectSlot p) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04318">mark-compact.cc:4318</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a5792ea7f59db9f6e5dc51a579a458abf"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a5792ea7f59db9f6e5dc51a579a458abf">v8::internal::PointersUpdatingVisitor::VisitEmbeddedPointer</a></div><div class="ttdeci">void VisitEmbeddedPointer(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04372">mark-compact.cc:4372</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a63c9964020eaf1bb3aa2c4331bd99589"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a63c9964020eaf1bb3aa2c4331bd99589">v8::internal::PointersUpdatingVisitor::isolate_</a></div><div class="ttdeci">IsolateForSandbox isolate_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04404">mark-compact.cc:4404</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a68bad4fe60a488b395cf2af6d74095bc"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a68bad4fe60a488b395cf2af6d74095bc">v8::internal::PointersUpdatingVisitor::UpdateStrongSlotInternal</a></div><div class="ttdeci">static void UpdateStrongSlotInternal(PtrComprCageBase cage_base, ObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04394">mark-compact.cc:4394</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a74df3d0eadfa92c64660d0832ae55d2f"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a74df3d0eadfa92c64660d0832ae55d2f">v8::internal::PointersUpdatingVisitor::VisitCodeTarget</a></div><div class="ttdeci">void VisitCodeTarget(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04366">mark-compact.cc:4366</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a77cafef335dc1d5702c51cde718f0780"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a77cafef335dc1d5702c51cde718f0780">v8::internal::PointersUpdatingVisitor::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, FullObjectSlot start, FullObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04351">mark-compact.cc:4351</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a84e6800ee618f900fbe6bad487fbbd28"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a84e6800ee618f900fbe6bad487fbbd28">v8::internal::PointersUpdatingVisitor::PointersUpdatingVisitor</a></div><div class="ttdeci">PointersUpdatingVisitor(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04315">mark-compact.cc:4315</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a851da4ae786f1ca6715ad04fc4e1039d"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a851da4ae786f1ca6715ad04fc4e1039d">v8::internal::PointersUpdatingVisitor::UpdateRootSlotInternal</a></div><div class="ttdeci">static void UpdateRootSlotInternal(PtrComprCageBase cage_base, OffHeapObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04384">mark-compact.cc:4384</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a9888588f42f46c236026a92b2f64f089"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a9888588f42f46c236026a92b2f64f089">v8::internal::PointersUpdatingVisitor::UpdateRootSlotInternal</a></div><div class="ttdeci">static void UpdateRootSlotInternal(PtrComprCageBase cage_base, FullObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04379">mark-compact.cc:4379</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_a9b8eb27114011280596923afdc49d3de"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#a9b8eb27114011280596923afdc49d3de">v8::internal::PointersUpdatingVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot start, MaybeObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04333">mark-compact.cc:4333</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_aba289854862505f857a7fc8b7de4d779"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#aba289854862505f857a7fc8b7de4d779">v8::internal::PointersUpdatingVisitor::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, OffHeapObjectSlot start, OffHeapObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04358">mark-compact.cc:4358</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_ac90286a87b77730cf8d8ee0cb155e149"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#ac90286a87b77730cf8d8ee0cb155e149">v8::internal::PointersUpdatingVisitor::VisitInstructionStreamPointer</a></div><div class="ttdeci">void VisitInstructionStreamPointer(Tagged&lt; Code &gt; host, InstructionStreamSlot slot) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04340">mark-compact.cc:4340</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_acacecfbf17f7c6cf823b7992872cbd4f"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#acacecfbf17f7c6cf823b7992872cbd4f">v8::internal::PointersUpdatingVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04326">mark-compact.cc:4326</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_ad63aa0973a0317be3d6deb33a976a44f"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#ad63aa0973a0317be3d6deb33a976a44f">v8::internal::PointersUpdatingVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot p) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04322">mark-compact.cc:4322</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PointersUpdatingVisitor_html_af5b600bb560adda62b71bf57b495fbd5"><div class="ttname"><a href="classv8_1_1internal_1_1PointersUpdatingVisitor.html#af5b600bb560adda62b71bf57b495fbd5">v8::internal::PointersUpdatingVisitor::UpdateSlotInternal</a></div><div class="ttdeci">static void UpdateSlotInternal(PtrComprCageBase cage_base, MaybeObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04399">mark-compact.cc:4399</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html">v8::internal::PrecisePagePinningVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04853">mark-compact.cc:4853</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html_a54f308aac4a50c478ffd04edac02cdbb"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a54f308aac4a50c478ffd04edac02cdbb">v8::internal::PrecisePagePinningVisitor::collector_</a></div><div class="ttdeci">MarkCompactCollector *const collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04905">mark-compact.cc:4905</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html_a5f86b6faf702e4cec04cd8e4614ce7cc"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a5f86b6faf702e4cec04cd8e4614ce7cc">v8::internal::PrecisePagePinningVisitor::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, FullObjectSlot start, FullObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04866">mark-compact.cc:4866</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html_a91e77bc9b082cdd865b8fcc45fb9041d"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#a91e77bc9b082cdd865b8fcc45fb9041d">v8::internal::PrecisePagePinningVisitor::PrecisePagePinningVisitor</a></div><div class="ttdeci">PrecisePagePinningVisitor(MarkCompactCollector *collector)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04855">mark-compact.cc:4855</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html_aa24f6d7a073d660221ffe4dc6e47a4ec"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#aa24f6d7a073d660221ffe4dc6e47a4ec">v8::internal::PrecisePagePinningVisitor::VisitRootPointer</a></div><div class="ttdeci">void VisitRootPointer(Root root, const char *description, FullObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04861">mark-compact.cc:4861</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html_abd18d124f974c8ce8ada5e30b7e16213"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#abd18d124f974c8ce8ada5e30b7e16213">v8::internal::PrecisePagePinningVisitor::should_pin_in_shared_space_</a></div><div class="ttdeci">const bool should_pin_in_shared_space_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04906">mark-compact.cc:4906</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PrecisePagePinningVisitor_html_ac0cb5e0d35f8e3050a9f758a71462a9b"><div class="ttname"><a href="classv8_1_1internal_1_1PrecisePagePinningVisitor.html#ac0cb5e0d35f8e3050a9f758a71462a9b">v8::internal::PrecisePagePinningVisitor::HandlePointer</a></div><div class="ttdeci">void HandlePointer(FullObjectSlot p)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04874">mark-compact.cc:4874</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PretenuringHandler_html"><div class="ttname"><a href="classv8_1_1internal_1_1PretenuringHandler.html">v8::internal::PretenuringHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-handler_8h_source.html#l00021">pretenuring-handler.h:21</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PretenuringHandler_html_af4636a79d24b9944a5f2a8c4b5c7fdcb"><div class="ttname"><a href="classv8_1_1internal_1_1PretenuringHandler.html#af4636a79d24b9944a5f2a8c4b5c7fdcb">v8::internal::PretenuringHandler::PretenuringFeedbackMap</a></div><div class="ttdeci">std::unordered_map&lt; Tagged&lt; AllocationSite &gt;, size_t, Object::Hasher &gt; PretenuringFeedbackMap</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-handler_8h_source.html#l00025">pretenuring-handler.h:26</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PretenuringHandler_html_afe6ffac83eddf7cac23594de7d90da1f"><div class="ttname"><a href="classv8_1_1internal_1_1PretenuringHandler.html#afe6ffac83eddf7cac23594de7d90da1f">v8::internal::PretenuringHandler::UpdateAllocationSite</a></div><div class="ttdeci">static void UpdateAllocationSite(Heap *heap, Tagged&lt; Map &gt; map, Tagged&lt; HeapObject &gt; object, int object_size, PretenuringFeedbackMap *pretenuring_feedback)</div><div class="ttdef"><b>Definition:</b> <a href="pretenuring-handler-inl_8h_source.html#l00022">pretenuring-handler-inl.h:22</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ProfilingMigrationObserver_html"><div class="ttname"><a href="classv8_1_1internal_1_1ProfilingMigrationObserver.html">v8::internal::ProfilingMigrationObserver</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01423">mark-compact.cc:1423</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ProfilingMigrationObserver_html_a0a790431ab1d0d16b7d0b45393391cb0"><div class="ttname"><a href="classv8_1_1internal_1_1ProfilingMigrationObserver.html#a0a790431ab1d0d16b7d0b45393391cb0">v8::internal::ProfilingMigrationObserver::ProfilingMigrationObserver</a></div><div class="ttdeci">ProfilingMigrationObserver(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01425">mark-compact.cc:1425</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ProfilingMigrationObserver_html_ad609a7e1385f3f00c58980fd6f01ed5d"><div class="ttname"><a href="classv8_1_1internal_1_1ProfilingMigrationObserver.html#ad609a7e1385f3f00c58980fd6f01ed5d">v8::internal::ProfilingMigrationObserver::Move</a></div><div class="ttdeci">void Move(AllocationSpace dest, Tagged&lt; HeapObject &gt; src, Tagged&lt; HeapObject &gt; dst, int size) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01427">mark-compact.cc:1427</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1PtrComprCageBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1PtrComprCageBase.html">v8::internal::PtrComprCageBase</a></div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02845">globals.h:2845</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ReadOnlyRoots_html"><div class="ttname"><a href="classv8_1_1internal_1_1ReadOnlyRoots.html">v8::internal::ReadOnlyRoots</a></div><div class="ttdef"><b>Definition:</b> <a href="roots_8h_source.html#l00724">roots.h:724</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html">v8::internal::RecordMigratedSlotVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01241">mark-compact.cc:1242</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a11e5b09a4d09ac70fce864d7b9b2edae"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a11e5b09a4d09ac70fce864d7b9b2edae">v8::internal::RecordMigratedSlotVisitor::VisitMapPointer</a></div><div class="ttdeci">void VisitMapPointer(Tagged&lt; HeapObject &gt; host) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01254">mark-compact.cc:1254</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a347d4f88bbfe77ce23a3343cf3c21724"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a347d4f88bbfe77ce23a3343cf3c21724">v8::internal::RecordMigratedSlotVisitor::VisitTrustedPointerTableEntry</a></div><div class="ttdeci">void VisitTrustedPointerTableEntry(Tagged&lt; HeapObject &gt; host, IndirectPointerSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01335">mark-compact.cc:1335</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a3b152c30ba854d8663280f74861f1566"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a3b152c30ba854d8663280f74861f1566">v8::internal::RecordMigratedSlotVisitor::VisitCodeTarget</a></div><div class="ttdeci">void VisitCodeTarget(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01302">mark-compact.cc:1302</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a41338293b22c884327d45cab7a3025ad"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a41338293b22c884327d45cab7a3025ad">v8::internal::RecordMigratedSlotVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, ObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01249">mark-compact.cc:1249</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a4cb053e8971d48ea61b26368929bc170"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a4cb053e8971d48ea61b26368929bc170">v8::internal::RecordMigratedSlotVisitor::VisitPointer</a></div><div class="ttdeci">void VisitPointer(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01258">mark-compact.cc:1258</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a6eeedbde3bbe55f4f0872d7c75e72aa9"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a6eeedbde3bbe55f4f0872d7c75e72aa9">v8::internal::RecordMigratedSlotVisitor::VisitEmbeddedPointer</a></div><div class="ttdeci">void VisitEmbeddedPointer(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01314">mark-compact.cc:1314</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a773e7ae3a6eeaf442c507f8f2ff8b3d0"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a773e7ae3a6eeaf442c507f8f2ff8b3d0">v8::internal::RecordMigratedSlotVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, MaybeObjectSlot start, MaybeObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01271">mark-compact.cc:1271</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a97c012d3ee7189ec66c5501974ac7bd8"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a97c012d3ee7189ec66c5501974ac7bd8">v8::internal::RecordMigratedSlotVisitor::VisitIndirectPointer</a></div><div class="ttdeci">void VisitIndirectPointer(Tagged&lt; HeapObject &gt; host, IndirectPointerSlot slot, IndirectPointerMode mode) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01331">mark-compact.cc:1331</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_a9ff63be9d4837000a4eab3ac21697170"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#a9ff63be9d4837000a4eab3ac21697170">v8::internal::RecordMigratedSlotVisitor::RecordMigratedSlot</a></div><div class="ttdeci">void RecordMigratedSlot(Tagged&lt; HeapObject &gt; host, Tagged&lt; MaybeObject &gt; value, Address slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01350">mark-compact.cc:1350</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_aa1c4aee0c2d81aea906c9fbf6bc2b7f9"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aa1c4aee0c2d81aea906c9fbf6bc2b7f9">v8::internal::RecordMigratedSlotVisitor::VisitExternalPointer</a></div><div class="ttdeci">void VisitExternalPointer(Tagged&lt; HeapObject &gt; host, ExternalPointerSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01328">mark-compact.cc:1328</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_aa3c7e54ea08258cfb01d19c8e42389b3"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aa3c7e54ea08258cfb01d19c8e42389b3">v8::internal::RecordMigratedSlotVisitor::VisitInstructionStreamPointer</a></div><div class="ttdeci">void VisitInstructionStreamPointer(Tagged&lt; Code &gt; host, InstructionStreamSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01279">mark-compact.cc:1279</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_ab172b2831dbf736806f42554812338ce"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ab172b2831dbf736806f42554812338ce">v8::internal::RecordMigratedSlotVisitor::RecordMigratedSlotVisitor</a></div><div class="ttdeci">RecordMigratedSlotVisitor(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01244">mark-compact.cc:1244</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_ab2a5d6a019dd53fd10dc2bf71572aa1f"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ab2a5d6a019dd53fd10dc2bf71572aa1f">v8::internal::RecordMigratedSlotVisitor::VisitProtectedPointer</a></div><div class="ttdeci">void VisitProtectedPointer(Tagged&lt; TrustedObject &gt; host, ProtectedPointerSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01338">mark-compact.cc:1338</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_abb76952d9da9c4ff3d872b627f0b3510"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#abb76952d9da9c4ff3d872b627f0b3510">v8::internal::RecordMigratedSlotVisitor::VisitInternalReference</a></div><div class="ttdeci">void VisitInternalReference(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01326">mark-compact.cc:1326</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_ac418d0aadd8da17d89a71811c863fb1d"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ac418d0aadd8da17d89a71811c863fb1d">v8::internal::RecordMigratedSlotVisitor::VisitEphemeron</a></div><div class="ttdeci">void VisitEphemeron(Tagged&lt; HeapObject &gt; host, int index, ObjectSlot key, ObjectSlot value) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01288">mark-compact.cc:1288</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_aced2ae6eec28891d4ba4a495e22443ec"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aced2ae6eec28891d4ba4a495e22443ec">v8::internal::RecordMigratedSlotVisitor::heap_</a></div><div class="ttdeci">Heap *const heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01408">mark-compact.cc:1408</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_ad82673c24ba477e95e8c9aa50dbc86dc"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ad82673c24ba477e95e8c9aa50dbc86dc">v8::internal::RecordMigratedSlotVisitor::UsePrecomputedObjectSize</a></div><div class="ttdeci">static constexpr bool UsePrecomputedObjectSize()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01247">mark-compact.cc:1247</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_ae62d0c166ca3e300c5e7f7d10b882c22"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#ae62d0c166ca3e300c5e7f7d10b882c22">v8::internal::RecordMigratedSlotVisitor::VisitPointers</a></div><div class="ttdeci">void VisitPointers(Tagged&lt; HeapObject &gt; host, ObjectSlot start, ObjectSlot end) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01263">mark-compact.cc:1263</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_aeb45778e96164c12570b0b6288d3409d"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#aeb45778e96164c12570b0b6288d3409d">v8::internal::RecordMigratedSlotVisitor::VisitProtectedPointer</a></div><div class="ttdeci">void VisitProtectedPointer(Tagged&lt; TrustedObject &gt; host, ProtectedMaybeObjectSlot slot) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01343">mark-compact.cc:1343</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RecordMigratedSlotVisitor_html_af42b76fc7d1c794163e0c32123a59d1a"><div class="ttname"><a href="classv8_1_1internal_1_1RecordMigratedSlotVisitor.html#af42b76fc7d1c794163e0c32123a59d1a">v8::internal::RecordMigratedSlotVisitor::VisitExternalReference</a></div><div class="ttdeci">void VisitExternalReference(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l01324">mark-compact.cc:1324</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html">v8::internal::RelocInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00094">reloc-info.h:94</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a4826de2c62c03505c8cef4fdd868a2a4"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a4826de2c62c03505c8cef4fdd868a2a4">v8::internal::RelocInfo::IsCodeTargetMode</a></div><div class="ttdeci">static constexpr bool IsCodeTargetMode(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00198">reloc-info.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a5105ad25a3cfafd733106928a9d8a4ad"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a5105ad25a3cfafd733106928a9d8a4ad">v8::internal::RelocInfo::target_address</a></div><div class="ttdeci">Address target_address()</div><div class="ttdef"><b>Definition:</b> <a href="assembler-arm-inl_8h_source.html#l00070">assembler-arm-inl.h:70</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a74178a98b5efdd971a4f647281b6296e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a74178a98b5efdd971a4f647281b6296e">v8::internal::RelocInfo::IsInConstantPool</a></div><div class="ttdeci">bool IsInConstantPool()</div><div class="ttdef"><b>Definition:</b> <a href="assembler-riscv_8cc_source.html#l00200">assembler-riscv.cc:200</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_a9de6eaa529e2d449eb3c4c78fc321d2e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#a9de6eaa529e2d449eb3c4c78fc321d2e">v8::internal::RelocInfo::IsEmbeddedObjectMode</a></div><div class="ttdeci">static constexpr bool IsEmbeddedObjectMode(Mode mode)</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00210">reloc-info.h:210</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ab620178a9b0590638fdc6834b53eb328"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ab620178a9b0590638fdc6834b53eb328">v8::internal::RelocInfo::target_object</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; target_object(PtrComprCageBase cage_base)</div><div class="ttdef"><b>Definition:</b> <a href="assembler-arm-inl_8h_source.html#l00096">assembler-arm-inl.h:96</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_abecc351ac3cac56e2f2c19081b2fc2e1"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#abecc351ac3cac56e2f2c19081b2fc2e1">v8::internal::RelocInfo::constant_pool_entry_address</a></div><div class="ttdeci">Address constant_pool_entry_address()</div><div class="ttdef"><b>Definition:</b> <a href="assembler-arm-inl_8h_source.html#l00089">assembler-arm-inl.h:89</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ad2e613bbaf7c7a82f0db322c069cad8e"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ad2e613bbaf7c7a82f0db322c069cad8e">v8::internal::RelocInfo::Mode</a></div><div class="ttdeci">Mode</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00106">reloc-info.h:106</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_adbcb85c0a1896ff1e7661746d6143e90"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#adbcb85c0a1896ff1e7661746d6143e90">v8::internal::RelocInfo::rmode</a></div><div class="ttdeci">Mode rmode() const</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00277">reloc-info.h:277</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RelocInfo_html_ae4e4b6b325ffcbba5c03de7c640c8f99"><div class="ttname"><a href="classv8_1_1internal_1_1RelocInfo.html#ae4e4b6b325ffcbba5c03de7c640c8f99">v8::internal::RelocInfo::pc</a></div><div class="ttdeci">Address pc() const</div><div class="ttdef"><b>Definition:</b> <a href="reloc-info_8h_source.html#l00276">reloc-info.h:276</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RememberedSet_html"><div class="ttname"><a href="classv8_1_1internal_1_1RememberedSet.html">v8::internal::RememberedSet</a></div><div class="ttdef"><b>Definition:</b> <a href="remembered-set_8h_source.html#l00092">remembered-set.h:92</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RememberedSet_html_a948ca4aacbb909303ffd8d7b78ceb9be"><div class="ttname"><a href="classv8_1_1internal_1_1RememberedSet.html#a948ca4aacbb909303ffd8d7b78ceb9be">v8::internal::RememberedSet::IterateTyped</a></div><div class="ttdeci">static int IterateTyped(MutablePageMetadata *chunk, Callback callback)</div><div class="ttdef"><b>Definition:</b> <a href="remembered-set_8h_source.html#l00280">remembered-set.h:280</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RememberedSet_html_af1f20aa96b6a02882a1fe0ce5e8b1da3"><div class="ttname"><a href="classv8_1_1internal_1_1RememberedSet.html#af1f20aa96b6a02882a1fe0ce5e8b1da3">v8::internal::RememberedSet::Iterate</a></div><div class="ttdeci">static int Iterate(MutablePageMetadata *chunk, Callback callback, SlotSet::EmptyBucketMode mode)</div><div class="ttdef"><b>Definition:</b> <a href="remembered-set_8h_source.html#l00198">remembered-set.h:198</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootMarkingVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1RootMarkingVisitor.html">v8::internal::RootMarkingVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00031">mark-compact.h:31</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootMarkingVisitor_html_a9b21678c05713ed9f8773414b2967561"><div class="ttname"><a href="classv8_1_1internal_1_1RootMarkingVisitor.html#a9b21678c05713ed9f8773414b2967561">v8::internal::RootMarkingVisitor::VisitRootPointer</a></div><div class="ttdeci">void VisitRootPointer(Root root, const char *description, FullObjectSlot p) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact-inl_8h_source.html#l00108">mark-compact-inl.h:108</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootMarkingVisitor_html_aaae2d46819c8e1405a73bc1de3c2984f"><div class="ttname"><a href="classv8_1_1internal_1_1RootMarkingVisitor.html#aaae2d46819c8e1405a73bc1de3c2984f">v8::internal::RootMarkingVisitor::VisitRunningCode</a></div><div class="ttdeci">void VisitRunningCode(FullObjectSlot code_slot, FullObjectSlot istream_or_smi_zero_slot) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l06237">mark-compact.cc:6237</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootMarkingVisitor_html_ad0215961c5c1ccc45f2c66a782e4b446"><div class="ttname"><a href="classv8_1_1internal_1_1RootMarkingVisitor.html#ad0215961c5c1ccc45f2c66a782e4b446">v8::internal::RootMarkingVisitor::~RootMarkingVisitor</a></div><div class="ttdeci">~RootMarkingVisitor()</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1RootVisitor_html"><div class="ttname"><a href="classv8_1_1internal_1_1RootVisitor.html">v8::internal::RootVisitor</a></div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00065">visitors.h:65</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Scope_html"><div class="ttname"><a href="classv8_1_1internal_1_1Scope.html">v8::internal::Scope</a></div><div class="ttdef"><b>Definition:</b> <a href="scopes_8h_source.html#l00091">scopes.h:91</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SetCurrentIsolateScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1SetCurrentIsolateScope.html">v8::internal::SetCurrentIsolateScope</a></div><div class="ttdef"><b>Definition:</b> <a href="execution_2isolate_8h_source.html#l03169">isolate.h:3169</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1SlotBase_html_a761a11659b4338ee734b79e7c6886911"><div class="ttname"><a href="classv8_1_1internal_1_1SlotBase.html#a761a11659b4338ee734b79e7c6886911">v8::internal::SlotBase::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00078">slots.h:78</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Smi_html_a5386e0cc44bcfd6a13c8481b95f5652f"><div class="ttname"><a href="classv8_1_1internal_1_1Smi.html#a5386e0cc44bcfd6a13c8481b95f5652f">v8::internal::Smi::zero</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; zero()</div><div class="ttdef"><b>Definition:</b> <a href="smi_8h_source.html#l00099">smi.h:99</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrameIteratorBase_html_a0fdde3eed7621e64ee5e1a6ea0799c4b"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrameIteratorBase.html#a0fdde3eed7621e64ee5e1a6ea0799c4b">v8::internal::StackFrameIteratorBase::done</a></div><div class="ttdeci">bool done() const</div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l01642">frames.h:1642</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StackFrameIterator_html"><div class="ttname"><a href="classv8_1_1internal_1_1StackFrameIterator.html">v8::internal::StackFrameIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="frames_8h_source.html#l01687">frames.h:1687</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StickySpace_html"><div class="ttname"><a href="classv8_1_1internal_1_1StickySpace.html">v8::internal::StickySpace</a></div><div class="ttdef"><b>Definition:</b> <a href="paged-spaces_8h_source.html#l00468">paged-spaces.h:468</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTableCleanerBase_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTableCleanerBase.html">v8::internal::StringForwardingTableCleanerBase</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-sweep-utilities_8h_source.html#l00087">mark-sweep-utilities.h:87</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html">v8::internal::StringForwardingTable::Record</a></div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00024">string-forwarding-table-inl.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html_a12944c032e22e8751e7470ae7c887e12"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#a12944c032e22e8751e7470ae7c887e12">v8::internal::StringForwardingTable::Record::OriginalStringObject</a></div><div class="ttdeci">Tagged&lt; Object &gt; OriginalStringObject(PtrComprCageBase cage_base) const</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00038">string-forwarding-table-inl.h:38</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html_a2d023c028d0c643b6c7f4d800f68bd5b"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#a2d023c028d0c643b6c7f4d800f68bd5b">v8::internal::StringForwardingTable::Record::raw_hash</a></div><div class="ttdeci">uint32_t raw_hash(PtrComprCageBase cage_base) const</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00131">string-forwarding-table-inl.h:131</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html_aa0fe2a9faaa439576c4efc897689ce1e"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#aa0fe2a9faaa439576c4efc897689ce1e">v8::internal::StringForwardingTable::Record::external_resource</a></div><div class="ttdeci">v8::String::ExternalStringResourceBase * external_resource(bool *is_one_byte) const</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00145">string-forwarding-table-inl.h:145</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html_ab7d0c7d00f23b0db74e9910fd92e62c9"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#ab7d0c7d00f23b0db74e9910fd92e62c9">v8::internal::StringForwardingTable::Record::set_original_string</a></div><div class="ttdeci">void set_original_string(Tagged&lt; Object &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00050">string-forwarding-table-inl.h:50</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html_ac19ffa028172569e7e61f8a1ed2e34ae"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#ac19ffa028172569e7e61f8a1ed2e34ae">v8::internal::StringForwardingTable::Record::DisposeUnusedExternalResource</a></div><div class="ttdeci">void DisposeUnusedExternalResource(Isolate *isolate, Tagged&lt; String &gt; original_string)</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00213">string-forwarding-table-inl.h:213</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_1_1Record_html_adbf9fddd129c0a593bb4fa0174633634"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable_1_1Record.html#adbf9fddd129c0a593bb4fa0174633634">v8::internal::StringForwardingTable::Record::ForwardStringObjectOrHash</a></div><div class="ttdeci">Tagged&lt; Object &gt; ForwardStringObjectOrHash(PtrComprCageBase cage_base) const</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00042">string-forwarding-table-inl.h:42</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html">v8::internal::StringForwardingTable</a></div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table_8h_source.html#l00026">string-forwarding-table.h:26</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_a21b17e1cef42e96f10fd272a2e42336f"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#a21b17e1cef42e96f10fd272a2e42336f">v8::internal::StringForwardingTable::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table_8cc_source.html#l00340">string-forwarding-table.cc:340</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringForwardingTable_html_a2a70a10b07a2a256fbe87d4d1b8e2ece"><div class="ttname"><a href="classv8_1_1internal_1_1StringForwardingTable.html#a2a70a10b07a2a256fbe87d4d1b8e2ece">v8::internal::StringForwardingTable::IterateElements</a></div><div class="ttdeci">void IterateElements(Func &amp;&amp;callback)</div><div class="ttdef"><b>Definition:</b> <a href="string-forwarding-table-inl_8h_source.html#l00333">string-forwarding-table-inl.h:333</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html">v8::internal::StringTable</a></div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00048">string-table.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a1f5c9338a7df2c61bfda8ae715ec3f14"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a1f5c9338a7df2c61bfda8ae715ec3f14">v8::internal::StringTable::IterateElements</a></div><div class="ttdeci">void IterateElements(RootVisitor *visitor)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00728">string-table.cc:728</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_a8a7915726542f03275e2cddbe03ddef3"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#a8a7915726542f03275e2cddbe03ddef3">v8::internal::StringTable::NotifyElementsRemoved</a></div><div class="ttdeci">void NotifyElementsRemoved(int count)</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00743">string-table.cc:743</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ac7051d18932bb54945f2bfac94d75765"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ac7051d18932bb54945f2bfac94d75765">v8::internal::StringTable::DropOldData</a></div><div class="ttdeci">void DropOldData()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8cc_source.html#l00735">string-table.cc:735</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1StringTable_html_ae6b153e0f379e1c83a976e3da401ebf8"><div class="ttname"><a href="classv8_1_1internal_1_1StringTable.html#ae6b153e0f379e1c83a976e3da401ebf8">v8::internal::StringTable::deleted_element</a></div><div class="ttdeci">static constexpr Tagged&lt; Smi &gt; deleted_element()</div><div class="ttdef"><b>Definition:</b> <a href="string-table_8h_source.html#l00051">string-table.h:51</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1String_html_ae7e164d91a146cf703e0cde41ab179b9"><div class="ttname"><a href="classv8_1_1internal_1_1String.html#ae7e164d91a146cf703e0cde41ab179b9">v8::internal::String::IsInPlaceInternalizableExcludingExternal</a></div><div class="ttdeci">static bool IsInPlaceInternalizableExcludingExternal(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="string-inl_8h_source.html#l01880">string-inl.h:1880</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html">v8::internal::Sweeper</a></div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8h_source.html#l00037">sweeper.h:37</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_a01bad92ed163322fda20e965bec9e19e"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#a01bad92ed163322fda20e965bec9e19e">v8::internal::Sweeper::sweeping_in_progress</a></div><div class="ttdeci">bool sweeping_in_progress() const</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8h_source.html#l00114">sweeper.h:114</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_a14efe8780587dd11ca0a382df885945b"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#a14efe8780587dd11ca0a382df885945b">v8::internal::Sweeper::FinishMajorJobs</a></div><div class="ttdeci">void FinishMajorJobs()</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8cc_source.html#l00857">sweeper.cc:857</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_a18ffd1567b5bf06adae1fff80f4207d0"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#a18ffd1567b5bf06adae1fff80f4207d0">v8::internal::Sweeper::StartMajorSweeperTasks</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void StartMajorSweeperTasks()</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8cc_source.html#l00769">sweeper.cc:769</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_a374de26e99dae0ad5f32c1cbeab58285"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#a374de26e99dae0ad5f32c1cbeab58285">v8::internal::Sweeper::GetTraceIdForFlowEvent</a></div><div class="ttdeci">uint64_t GetTraceIdForFlowEvent(GCTracer::Scope::ScopeId scope_id) const</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8cc_source.html#l01615">sweeper.cc:1615</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_aca5b4d1317e28419219a4ef8982efc72"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#aca5b4d1317e28419219a4ef8982efc72">v8::internal::Sweeper::SweepEmptyNewSpacePage</a></div><div class="ttdeci">void SweepEmptyNewSpacePage(PageMetadata *page)</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8cc_source.html#l01550">sweeper.cc:1550</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_acbf8d62c575f291093cbd3b9914bc093"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#acbf8d62c575f291093cbd3b9914bc093">v8::internal::Sweeper::FinishMinorJobs</a></div><div class="ttdeci">void FinishMinorJobs()</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8cc_source.html#l00927">sweeper.cc:927</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Sweeper_html_afe45a9e97df960e8895bffde73c4f7d2"><div class="ttname"><a href="classv8_1_1internal_1_1Sweeper.html#afe45a9e97df960e8895bffde73c4f7d2">v8::internal::Sweeper::AddPage</a></div><div class="ttdeci">void AddPage(AllocationSpace space, PageMetadata *page)</div><div class="ttdef"><b>Definition:</b> <a href="sweeper_8cc_source.html#l01385">sweeper.cc:1385</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a4dba1b2eafcf7a414910966f950540c9"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a4dba1b2eafcf7a414910966f950540c9">v8::internal::TaggedImpl::ptr</a></div><div class="ttdeci">constexpr StorageType ptr() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00110">tagged-impl.h:110</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_a941f4af4ddba9f09e9ff1ca6e4382c36"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#a941f4af4ddba9f09e9ff1ca6e4382c36">v8::internal::TaggedImpl::GetHeapObject</a></div><div class="ttdeci">bool GetHeapObject(Tagged&lt; HeapObject &gt; *result) const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl-inl_8h_source.html#l00048">tagged-impl-inl.h:48</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_ab4335f1a0873e1d31150ee52ccc7b320"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#ab4335f1a0873e1d31150ee52ccc7b320">v8::internal::TaggedImpl::ToSmi</a></div><div class="ttdeci">bool ToSmi(Tagged&lt; Smi &gt; *value) const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl-inl_8h_source.html#l00024">tagged-impl-inl.h:24</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TaggedImpl_html_aea3274f07dad292adc478dc20a811210"><div class="ttname"><a href="classv8_1_1internal_1_1TaggedImpl.html#aea3274f07dad292adc478dc20a811210">v8::internal::TaggedImpl::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged-impl_8h_source.html#l00122">tagged-impl.h:122</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html">v8::internal::Tagged&lt; HeapObject &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00470">tagged.h:470</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a07c12d3bf0972861e1c5aefabd00971f"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a07c12d3bf0972861e1c5aefabd00971f">v8::internal::Tagged&lt; HeapObject &gt;::address</a></div><div class="ttdeci">Address address() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00525">tagged.h:525</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a0930e2a8cbe8abbc5cdd476902fe6c88"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a0930e2a8cbe8abbc5cdd476902fe6c88">v8::internal::Tagged&lt; HeapObject &gt;::is_null</a></div><div class="ttdeci">constexpr bool is_null() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00502">tagged.h:502</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_html_a2283cc249d5cb022b9be15bbf31a09f1"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4.html#a2283cc249d5cb022b9be15bbf31a09f1">v8::internal::Tagged&lt; HeapObject &gt;::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi() const</div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00508">tagged.h:508</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_3_01Object_01_4_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged_3_01Object_01_4.html">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00387">tagged.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1Tagged_html"><div class="ttname"><a href="classv8_1_1internal_1_1Tagged.html">v8::internal::Tagged</a></div><div class="ttdef"><b>Definition:</b> <a href="tagged_8h_source.html#l00707">tagged.h:707</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1ThreadIsolation_html_abca61cf418b5bae301d7572fdc494d02"><div class="ttname"><a href="classv8_1_1internal_1_1ThreadIsolation.html#abca61cf418b5bae301d7572fdc494d02">v8::internal::ThreadIsolation::RegisterInstructionStreamAllocation</a></div><div class="ttdeci">static WritableJitAllocation RegisterInstructionStreamAllocation(Address addr, size_t size, bool enforce_write_api=false)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00496">code-memory-access.cc:496</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TimedScope_html"><div class="ttname"><a href="classv8_1_1internal_1_1TimedScope.html">v8::internal::TimedScope</a></div><div class="ttdef"><b>Definition:</b> <a href="utils-inl_8h_source.html#l00020">utils-inl.h:20</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TracedHandles_html_a669fdc8a4e4cb764c14a05a7a67f236b"><div class="ttname"><a href="classv8_1_1internal_1_1TracedHandles.html#a669fdc8a4e4cb764c14a05a7a67f236b">v8::internal::TracedHandles::ResetDeadNodes</a></div><div class="ttdeci">void ResetDeadNodes(WeakSlotCallbackWithHeap should_reset_handle)</div><div class="ttdef"><b>Definition:</b> <a href="traced-handles_8cc_source.html#l00320">traced-handles.cc:320</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html">v8::internal::TransitionsAccessor</a></div><div class="ttdef"><b>Definition:</b> <a href="transitions_8h_source.html#l00075">transitions.h:75</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TransitionsAccessor_html_a054b0c6bf8a73f306c44a4c3c9d641f2"><div class="ttname"><a href="classv8_1_1internal_1_1TransitionsAccessor.html#a054b0c6bf8a73f306c44a4c3c9d641f2">v8::internal::TransitionsAccessor::HasSimpleTransitionTo</a></div><div class="ttdeci">bool HasSimpleTransitionTo(Tagged&lt; Map &gt; map)</div><div class="ttdef"><b>Definition:</b> <a href="transitions_8cc_source.html#l00029">transitions.cc:29</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1TrustedObject_html_ac98a534794000484db08cfaf849ae073"><div class="ttname"><a href="classv8_1_1internal_1_1TrustedObject.html#ac98a534794000484db08cfaf849ae073">v8::internal::TrustedObject::kHeaderSize</a></div><div class="ttdeci">static constexpr int kHeaderSize</div><div class="ttdef"><b>Definition:</b> <a href="trusted-object_8h_source.html#l00066">trusted-object.h:66</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UpdateTypedSlotHelper_html_a4b52de1f32d1c5e37149e76eb8b3d387"><div class="ttname"><a href="classv8_1_1internal_1_1UpdateTypedSlotHelper.html#a4b52de1f32d1c5e37149e76eb8b3d387">v8::internal::UpdateTypedSlotHelper::GetTargetObject</a></div><div class="ttdeci">static Tagged&lt; HeapObject &gt; GetTargetObject(Heap *heap, SlotType slot_type, Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="remembered-set-inl_8h_source.html#l00069">remembered-set-inl.h:69</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UpdatingItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1UpdatingItem.html">v8::internal::UpdatingItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05135">mark-compact.cc:5135</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UpdatingItem_html_a0542af6439271628a9a9b043f0084896"><div class="ttname"><a href="classv8_1_1internal_1_1UpdatingItem.html#a0542af6439271628a9a9b043f0084896">v8::internal::UpdatingItem::~UpdatingItem</a></div><div class="ttdeci">virtual ~UpdatingItem()=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1UpdatingItem_html_ad5b054dd403a93d6b2397ba52d42c136"><div class="ttname"><a href="classv8_1_1internal_1_1UpdatingItem.html#ad5b054dd403a93d6b2397ba52d42c136">v8::internal::UpdatingItem::Process</a></div><div class="ttdeci">virtual void Process()=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1V8_html_a5eb1d47c492fa1e85e7d7c31dd5cf2bb"><div class="ttname"><a href="classv8_1_1internal_1_1V8.html#a5eb1d47c492fa1e85e7d7c31dd5cf2bb">v8::internal::V8::GetCurrentPlatform</a></div><div class="ttdeci">static V8_EXPORT_PRIVATE v8::Platform * GetCurrentPlatform()</div><div class="ttdef"><b>Definition:</b> <a href="v8_8cc_source.html#l00282">v8.cc:282</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WeakObjectRetainer_html"><div class="ttname"><a href="classv8_1_1internal_1_1WeakObjectRetainer.html">v8::internal::WeakObjectRetainer</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2heap_2heap_8h_source.html#l02721">heap.h:2721</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WeakObjects_1_1Local_html"><div class="ttname"><a href="classv8_1_1internal_1_1WeakObjects_1_1Local.html">v8::internal::WeakObjects::Local</a></div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00093">weak-object-worklists.h:93</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WeakObjects_1_1Local_html_ad05233ba4265300887d0800ff7d7f3f9"><div class="ttname"><a href="classv8_1_1internal_1_1WeakObjects_1_1Local.html#ad05233ba4265300887d0800ff7d7f3f9">v8::internal::WeakObjects::Local::Publish</a></div><div class="ttdeci">V8_EXPORT_PRIVATE void Publish()</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8cc_source.html#l00030">weak-object-worklists.cc:30</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WeakObjects_html_a0557b5c72151038a6d73b9d5aa6804eb"><div class="ttname"><a href="classv8_1_1internal_1_1WeakObjects.html#a0557b5c72151038a6d73b9d5aa6804eb">v8::internal::WeakObjects::Clear</a></div><div class="ttdeci">void Clear()</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8cc_source.html#l00036">weak-object-worklists.cc:36</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html">v8::internal::WritableJitAllocation</a></div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8h_source.html#l00387">code-memory-access.h:387</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html_a5214a39ff535864c1f6ae1968547208d"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html#a5214a39ff535864c1f6ae1968547208d">v8::internal::WritableJitAllocation::CopyCode</a></div><div class="ttdeci">void CopyCode(size_t dst_offset, const uint8_t *src, size_t num_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00245">code-memory-access-inl.h:245</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html_a52b003e3469ade15c70597343f00540e"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html#a52b003e3469ade15c70597343f00540e">v8::internal::WritableJitAllocation::WriteHeaderSlot</a></div><div class="ttdeci">void WriteHeaderSlot(T value)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00133">code-memory-access-inl.h:133</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html_a72af50fa547073a14369c06b3667345c"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html#a72af50fa547073a14369c06b3667345c">v8::internal::WritableJitAllocation::ForInstructionStream</a></div><div class="ttdeci">static WritableJitAllocation ForInstructionStream(Tagged&lt; InstructionStream &gt; istream)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8cc_source.html#l00673">code-memory-access.cc:673</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitAllocation_html_ae8874306b45c6cb31544e5654210a001"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitAllocation.html#ae8874306b45c6cb31544e5654210a001">v8::internal::WritableJitAllocation::CopyData</a></div><div class="ttdeci">void CopyData(size_t dst_offset, const uint8_t *src, size_t num_bytes)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00252">code-memory-access-inl.h:252</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitPage_html"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitPage.html">v8::internal::WritableJitPage</a></div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access_8h_source.html#l00528">code-memory-access.h:528</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WritableJitPage_html_a34b59de76e9f2e5269c8923fa410b3b3"><div class="ttname"><a href="classv8_1_1internal_1_1WritableJitPage.html#a34b59de76e9f2e5269c8923fa410b3b3">v8::internal::WritableJitPage::LookupAllocationContaining</a></div><div class="ttdeci">WritableJitAllocation LookupAllocationContaining(Address addr)</div><div class="ttdef"><b>Definition:</b> <a href="code-memory-access-inl_8h_source.html#l00271">code-memory-access-inl.h:271</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WriteBarrier_html_a606e46d0c77a3b252673584c3e359565"><div class="ttname"><a href="classv8_1_1internal_1_1WriteBarrier.html#a606e46d0c77a3b252673584c3e359565">v8::internal::WriteBarrier::GenerationalForRelocInfo</a></div><div class="ttdeci">static void GenerationalForRelocInfo(Tagged&lt; InstructionStream &gt; host, RelocInfo *rinfo, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="heap-write-barrier-inl_8h_source.html#l00232">heap-write-barrier-inl.h:232</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WriteBarrier_html_a9bb1fb710da2e3e6a4b9b42e8c003ab9"><div class="ttname"><a href="classv8_1_1internal_1_1WriteBarrier.html#a9bb1fb710da2e3e6a4b9b42e8c003ab9">v8::internal::WriteBarrier::SharedForRelocInfo</a></div><div class="ttdeci">static void SharedForRelocInfo(Tagged&lt; InstructionStream &gt; host, RelocInfo *, Tagged&lt; HeapObject &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="heap-write-barrier-inl_8h_source.html#l00287">heap-write-barrier-inl.h:287</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1WriteProtectedSlot_html"><div class="ttname"><a href="classv8_1_1internal_1_1WriteProtectedSlot.html">v8::internal::WriteProtectedSlot</a></div><div class="ttdef"><b>Definition:</b> <a href="slots_8h_source.html#l00564">slots.h:564</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html">v8::internal::anonymous_namespace{mark-compact.cc}::ClearSharedStructTypeRegistryJobItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02830">mark-compact.cc:2831</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem_html_a0d3825cf9cced3238e354f048b0ee429"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#a0d3825cf9cced3238e354f048b0ee429">v8::internal::anonymous_namespace{mark-compact.cc}::ClearSharedStructTypeRegistryJobItem::ClearSharedStructTypeRegistryJobItem</a></div><div class="ttdeci">ClearSharedStructTypeRegistryJobItem(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02833">mark-compact.cc:2833</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem_html_a288cf4d5c7dc19a20187f9bfee37b750"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#a288cf4d5c7dc19a20187f9bfee37b750">v8::internal::anonymous_namespace{mark-compact.cc}::ClearSharedStructTypeRegistryJobItem::isolate_</a></div><div class="ttdeci">Isolate *const isolate_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02851">mark-compact.cc:2851</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem_html_abf72b57295fad60314b6f1866fb5f592"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearSharedStructTypeRegistryJobItem.html#abf72b57295fad60314b6f1866fb5f592">v8::internal::anonymous_namespace{mark-compact.cc}::ClearSharedStructTypeRegistryJobItem::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02839">mark-compact.cc:2839</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html">v8::internal::anonymous_namespace{mark-compact.cc}::ClearStringTableJobItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02614">mark-compact.cc:2614</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem_html_a198172adfac89ca14cf557716c6b843b"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a198172adfac89ca14cf557716c6b843b">v8::internal::anonymous_namespace{mark-compact.cc}::ClearStringTableJobItem::isolate_</a></div><div class="ttdeci">Isolate *const isolate_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02648">mark-compact.cc:2648</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem_html_a495710e13364080d25bbe12255b27362"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a495710e13364080d25bbe12255b27362">v8::internal::anonymous_namespace{mark-compact.cc}::ClearStringTableJobItem::trace_id</a></div><div class="ttdeci">uint64_t trace_id() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02645">mark-compact.cc:2645</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem_html_a9fc47b04df84d6ff13a8a5b33435039f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#a9fc47b04df84d6ff13a8a5b33435039f">v8::internal::anonymous_namespace{mark-compact.cc}::ClearStringTableJobItem::ClearStringTableJobItem</a></div><div class="ttdeci">ClearStringTableJobItem(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02616">mark-compact.cc:2616</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem_html_ad288a296acc6b38dbc26d828456ee6ea"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#ad288a296acc6b38dbc26d828456ee6ea">v8::internal::anonymous_namespace{mark-compact.cc}::ClearStringTableJobItem::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) final</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02622">mark-compact.cc:2622</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem_html_ad3f4df976e97b42b5ba9ec917b418500"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ClearStringTableJobItem.html#ad3f4df976e97b42b5ba9ec917b418500">v8::internal::anonymous_namespace{mark-compact.cc}::ClearStringTableJobItem::trace_id_</a></div><div class="ttdeci">const uint64_t trace_id_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02649">mark-compact.cc:2649</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::ClearingItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02572">mark-compact.cc:2572</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem_html_a5c5e1908be62dc53e7455d8d74d592d9"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html#a5c5e1908be62dc53e7455d8d74d592d9">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::ClearingItem::~ClearingItem</a></div><div class="ttdeci">virtual ~ClearingItem()=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem_html_a948d5524c264e22bf0fb1adb65fe58a5"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_1_1ClearingItem.html#a948d5524c264e22bf0fb1adb65fe58a5">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::ClearingItem::Run</a></div><div class="ttdeci">virtual void Run(JobDelegate *delegate)=0</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02570">mark-compact.cc:2570</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_a1718527ee6ebc932727c8bd37d51f18d"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a1718527ee6ebc932727c8bd37d51f18d">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::operator=</a></div><div class="ttdeci">ParallelClearingJob &amp; operator=(const ParallelClearingJob &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_a648893766d4ba16e8c47ed9ae3e8dd0a"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a648893766d4ba16e8c47ed9ae3e8dd0a">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::collector_</a></div><div class="ttdeci">MarkCompactCollector * collector_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02609">mark-compact.cc:2609</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_a7913e843ea5f5f310c567728ed8b42ad"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a7913e843ea5f5f310c567728ed8b42ad">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::Add</a></div><div class="ttdeci">void Add(std::unique_ptr&lt; ClearingItem &gt; item)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02604">mark-compact.cc:2604</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_a7c287336c0da177bc755c8b229c018a6"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#a7c287336c0da177bc755c8b229c018a6">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::items_mutex_</a></div><div class="ttdeci">base::Mutex items_mutex_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02610">mark-compact.cc:2610</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_aae156325b1870b06ff8a575819c16e95"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#aae156325b1870b06ff8a575819c16e95">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::items_</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; ClearingItem &gt; &gt; items_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02611">mark-compact.cc:2611</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_abaa7a1c7e6ddec3fb71e99b1eaab2125"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#abaa7a1c7e6ddec3fb71e99b1eaab2125">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::ParallelClearingJob</a></div><div class="ttdeci">ParallelClearingJob(MarkCompactCollector *collector)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02578">mark-compact.cc:2578</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_ac162da9d521d1a2bdd93357381584293"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ac162da9d521d1a2bdd93357381584293">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::GetMaxConcurrency</a></div><div class="ttdeci">size_t GetMaxConcurrency(size_t worker_count) const override</div><div class="ttdoc">Controls the maximum number of threads calling Run() concurrently, given the number of threads curren...</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02595">mark-compact.cc:2595</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_ac6d74aa6cf026b3869e5fff879dbeb03"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ac6d74aa6cf026b3869e5fff879dbeb03">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::Run</a></div><div class="ttdeci">void Run(JobDelegate *delegate) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02585">mark-compact.cc:2585</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_ade9faf0c17004b08a2e7ca31e7d789f3"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ade9faf0c17004b08a2e7ca31e7d789f3">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::~ParallelClearingJob</a></div><div class="ttdeci">~ParallelClearingJob() override=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob_html_ae0f2beec6ef42e4177c583f67222f341"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1ParallelClearingJob.html#ae0f2beec6ef42e4177c583f67222f341">v8::internal::anonymous_namespace{mark-compact.cc}::ParallelClearingJob::ParallelClearingJob</a></div><div class="ttdeci">ParallelClearingJob(const ParallelClearingJob &amp;)=delete</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05214">mark-compact.cc:5214</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a007d3333844682db705b91dadd747d31"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a007d3333844682db705b91dadd747d31">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05543">mark-compact.cc:5543</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a03185646a31e4fb829cf0818d2be9e3f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a03185646a31e4fb829cf0818d2be9e3f">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::marking_state_</a></div><div class="ttdeci">NonAtomicMarkingState * marking_state_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05544">mark-compact.cc:5544</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a072784979a41e62de24e21d4b5688bf7"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a072784979a41e62de24e21d4b5688bf7">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateUntypedTrustedToTrustedPointers</a></div><div class="ttdeci">void UpdateUntypedTrustedToTrustedPointers()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05415">mark-compact.cc:5415</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a20c0db7d00d4aa08a17da25c0f44229c"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a20c0db7d00d4aa08a17da25c0f44229c">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::CheckAndUpdateOldToNewSlot</a></div><div class="ttdeci">void CheckAndUpdateOldToNewSlot(TSlot slot, const PtrComprCageBase cage_base)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05272">mark-compact.cc:5272</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a20eed0e5053f53a586b7124071a3327c"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a20eed0e5053f53a586b7124071a3327c">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateTypedOldToOldPointers</a></div><div class="ttdeci">void UpdateTypedOldToOldPointers(WritableJitPage &amp;jit_page)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05515">mark-compact.cc:5515</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a3b0ee2f5f8ab5d15f7ec00dbaa8d48f8"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a3b0ee2f5f8ab5d15f7ec00dbaa8d48f8">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateUntypedOldToNewPointers</a></div><div class="ttdeci">void UpdateUntypedOldToNewPointers()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05305">mark-compact.cc:5305</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a60711c95706bc83e515a0f92a487d7fa"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a60711c95706bc83e515a0f92a487d7fa">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateUntypedPointers</a></div><div class="ttdeci">void UpdateUntypedPointers()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05296">mark-compact.cc:5296</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_a79207998bbdacbd8e825193085c7414c"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#a79207998bbdacbd8e825193085c7414c">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::RememberedSetUpdatingItem</a></div><div class="ttdeci">RememberedSetUpdatingItem(Heap *heap, MutablePageMetadata *chunk)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05216">mark-compact.cc:5216</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_aa6db9afb382fab83302d147012997dd4"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#aa6db9afb382fab83302d147012997dd4">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateTypedPointers</a></div><div class="ttdeci">void UpdateTypedPointers()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05468">mark-compact.cc:5468</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_acd10bbe14adad928fb632c4d80ddbd42"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#acd10bbe14adad928fb632c4d80ddbd42">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::CheckSlotForOldToSharedTyped</a></div><div class="ttdeci">void CheckSlotForOldToSharedTyped(MutablePageMetadata *page, SlotType slot_type, Address addr, WritableJitAllocation &amp;jit_allocation)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05248">mark-compact.cc:5248</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_ad336066251858a7d31f3e8ee379153aa"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#ad336066251858a7d31f3e8ee379153aa">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::CheckSlotForOldToSharedUntyped</a></div><div class="ttdeci">void CheckSlotForOldToSharedUntyped(PtrComprCageBase cage_base, MutablePageMetadata *page, TSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05233">mark-compact.cc:5233</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_ad5d79393c569856e95aa2cf5d2df8557"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#ad5d79393c569856e95aa2cf5d2df8557">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateTypedOldToNewPointers</a></div><div class="ttdeci">void UpdateTypedOldToNewPointers(WritableJitPage &amp;jit_page)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05481">mark-compact.cc:5481</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_adcee98b57a9cc48e1e2e529dfdb72d00"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#adcee98b57a9cc48e1e2e529dfdb72d00">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::~RememberedSetUpdatingItem</a></div><div class="ttdeci">~RememberedSetUpdatingItem() override=default</div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_addfccf596c202ff6c65448af2e28a9cd"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#addfccf596c202ff6c65448af2e28a9cd">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateUntypedTrustedToCodePointers</a></div><div class="ttdeci">void UpdateUntypedTrustedToCodePointers()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05376">mark-compact.cc:5376</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_aeb31a802c5c867aed946e45007088922"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#aeb31a802c5c867aed946e45007088922">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::chunk_</a></div><div class="ttdeci">MutablePageMetadata * chunk_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05545">mark-compact.cc:5545</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_af6ecf0d4248f7bb4e5daa61f07d431a2"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af6ecf0d4248f7bb4e5daa61f07d431a2">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::record_old_to_shared_slots_</a></div><div class="ttdeci">const bool record_old_to_shared_slots_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05546">mark-compact.cc:5546</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_af79f36e59c4d3446227accb1d2f7a06c"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af79f36e59c4d3446227accb1d2f7a06c">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::Process</a></div><div class="ttdeci">void Process() override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05224">mark-compact.cc:5224</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem_html_af835036dfd133e84bd1a7e9bb119b83e"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1RememberedSetUpdatingItem.html#af835036dfd133e84bd1a7e9bb119b83e">v8::internal::anonymous_namespace{mark-compact.cc}::RememberedSetUpdatingItem::UpdateUntypedOldToOldPointers</a></div><div class="ttdeci">void UpdateUntypedOldToOldPointers()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05333">mark-compact.cc:5333</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner_html"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html">v8::internal::anonymous_namespace{mark-compact.cc}::SharedStructTypeRegistryCleaner</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02791">mark-compact.cc:2791</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner_html_a0f8640aa75145a20ade4ad2ae283e89c"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a0f8640aa75145a20ade4ad2ae283e89c">v8::internal::anonymous_namespace{mark-compact.cc}::SharedStructTypeRegistryCleaner::heap_</a></div><div class="ttdeci">Heap * heap_</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02826">mark-compact.cc:2826</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner_html_a3ec3a3e09dca1e731aab3c6c4f7490ff"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a3ec3a3e09dca1e731aab3c6c4f7490ff">v8::internal::anonymous_namespace{mark-compact.cc}::SharedStructTypeRegistryCleaner::SharedStructTypeRegistryCleaner</a></div><div class="ttdeci">SharedStructTypeRegistryCleaner(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02793">mark-compact.cc:2793</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner_html_a542c7f6ebb227ae030f64f2154a7c849"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a542c7f6ebb227ae030f64f2154a7c849">v8::internal::anonymous_namespace{mark-compact.cc}::SharedStructTypeRegistryCleaner::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, FullObjectSlot start, FullObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02795">mark-compact.cc:2795</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner_html_a5ebb12e9e03c678a2b84383d5ce14d5f"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#a5ebb12e9e03c678a2b84383d5ce14d5f">v8::internal::anonymous_namespace{mark-compact.cc}::SharedStructTypeRegistryCleaner::ElementsRemoved</a></div><div class="ttdeci">int ElementsRemoved() const</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02823">mark-compact.cc:2823</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner_html_af504eb9c49fb58b890fc2f78c23955d3"><div class="ttname"><a href="classv8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_1_1SharedStructTypeRegistryCleaner.html#af504eb9c49fb58b890fc2f78c23955d3">v8::internal::anonymous_namespace{mark-compact.cc}::SharedStructTypeRegistryCleaner::VisitRootPointers</a></div><div class="ttdeci">void VisitRootPointers(Root root, const char *description, OffHeapObjectSlot start, OffHeapObjectSlot end) override</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02800">mark-compact.cc:2800</a></div></div>
<div class="ttc" id="aclassv8_1_1internal_1_1wasm_1_1WasmCodePointerTable_html_aee92d168ffa2e3a975289b9e785d10cd"><div class="ttname"><a href="classv8_1_1internal_1_1wasm_1_1WasmCodePointerTable.html#aee92d168ffa2e3a975289b9e785d10cd">v8::internal::wasm::WasmCodePointerTable::SweepSegments</a></div><div class="ttdeci">void SweepSegments(size_t threshold=2 *kEntriesPerSegment)</div><div class="ttdef"><b>Definition:</b> <a href="wasm-code-pointer-table_8cc_source.html#l00057">wasm-code-pointer-table.cc:57</a></div></div>
<div class="ttc" id="aclassv8_1_1tracing_1_1TracingCategoryObserver_html_aeb955195fe66a5b0497cff536c090589a31fe0ad3ce8b8c278bd0f78770f13b30"><div class="ttname"><a href="classv8_1_1tracing_1_1TracingCategoryObserver.html#aeb955195fe66a5b0497cff536c090589a31fe0ad3ce8b8c278bd0f78770f13b30">v8::tracing::TracingCategoryObserver::ENABLED_BY_TRACING</a></div><div class="ttdeci">@ ENABLED_BY_TRACING</div><div class="ttdef"><b>Definition:</b> <a href="tracing-category-observer_8h_source.html#l00023">tracing-category-observer.h:23</a></div></div>
<div class="ttc" id="acode-events_8h_html_ad6ec92ea4475dc9e407f0963df52df64"><div class="ttname"><a href="code-events_8h.html#ad6ec92ea4475dc9e407f0963df52df64">PROFILE</a></div><div class="ttdeci">#define PROFILE(the_isolate, Call)</div><div class="ttdef"><b>Definition:</b> <a href="code-events_8h_source.html#l00059">code-events.h:59</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html"><div class="ttname"><a href="common_2globals_8h.html">globals.h</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a68e9d1b360a669e69ca475ff475cb341"><div class="ttname"><a href="common_2globals_8h.html#a68e9d1b360a669e69ca475ff475cb341">STRONG</a></div><div class="ttdeci">STRONG</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01027">globals.h:1027</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a69541a836e89979350b2e7634e2d5a0a"><div class="ttname"><a href="common_2globals_8h.html#a69541a836e89979350b2e7634e2d5a0a">V8_COMPRESS_POINTERS_8GB_BOOL</a></div><div class="ttdeci">#define V8_COMPRESS_POINTERS_8GB_BOOL</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00599">globals.h:599</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_a76f936b13cc7401de647c23963eda5c1"><div class="ttname"><a href="common_2globals_8h.html#a76f936b13cc7401de647c23963eda5c1">ALIGN_TO_ALLOCATION_ALIGNMENT</a></div><div class="ttdeci">#define ALIGN_TO_ALLOCATION_ALIGNMENT(value)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01811">globals.h:1811</a></div></div>
<div class="ttc" id="acommon_2globals_8h_html_ad1424123c0c7ea60e89475a70021d7ca"><div class="ttname"><a href="common_2globals_8h.html#ad1424123c0c7ea60e89475a70021d7ca">HAS_WEAK_HEAP_OBJECT_TAG</a></div><div class="ttdeci">#define HAS_WEAK_HEAP_OBJECT_TAG(value)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01793">globals.h:1793</a></div></div>
<div class="ttc" id="acompilation-cache_8h_html"><div class="ttname"><a href="compilation-cache_8h.html">compilation-cache.h</a></div></div>
<div class="ttc" id="aconcurrent-marking_8h_html"><div class="ttname"><a href="concurrent-marking_8h.html">concurrent-marking.h</a></div></div>
<div class="ttc" id="adata-view-ops_8h_html_af22849720fbd54f8307292fe33c35a07"><div class="ttname"><a href="data-view-ops_8h.html#af22849720fbd54f8307292fe33c35a07">ToString</a></div><div class="ttdeci">constexpr const char * ToString(DataViewOp op)</div><div class="ttdef"><b>Definition:</b> <a href="data-view-ops_8h_source.html#l00032">data-view-ops.h:32</a></div></div>
<div class="ttc" id="adeoptimizer_8h_html"><div class="ttname"><a href="deoptimizer_8h.html">deoptimizer.h</a></div></div>
<div class="ttc" id="aembedder-data-array-inl_8h_html"><div class="ttname"><a href="embedder-data-array-inl_8h.html">embedder-data-array-inl.h</a></div></div>
<div class="ttc" id="aephemeron-remembered-set_8h_html"><div class="ttname"><a href="ephemeron-remembered-set_8h.html">ephemeron-remembered-set.h</a></div></div>
<div class="ttc" id="aevacuation-allocator-inl_8h_html"><div class="ttname"><a href="evacuation-allocator-inl_8h.html">evacuation-allocator-inl.h</a></div></div>
<div class="ttc" id="aevacuation-verifier-inl_8h_html"><div class="ttname"><a href="evacuation-verifier-inl_8h.html">evacuation-verifier-inl.h</a></div></div>
<div class="ttc" id="aexecution_2isolate-inl_8h_html"><div class="ttname"><a href="execution_2isolate-inl_8h.html">isolate-inl.h</a></div></div>
<div class="ttc" id="aexecution_8h_html"><div class="ttname"><a href="execution_8h.html">execution.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a087fd0337c14e102a4a2abccd41a39ad"><div class="ttname"><a href="flag-definitions_8h.html#a087fd0337c14e102a4a2abccd41a39ad">space</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available space</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02215">flag-definitions.h:2213</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3df0b28b666e942ffb9d7d04acdb9715"><div class="ttname"><a href="flag-definitions_8h.html#a3df0b28b666e942ffb9d7d04acdb9715">size</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space size(in Mbytes)&quot;)     DEFINE_INT(random_gc_interval</div></div>
<div class="ttc" id="aflag-definitions_8h_html_a67f6e75911a1c9e16076ff4db599e681"><div class="ttname"><a href="flag-definitions_8h.html#a67f6e75911a1c9e16076ff4db599e681">MB</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage * MB</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02282">flag-definitions.h:2282</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a761e4e5929b1553283fd6a532822bb17"><div class="ttname"><a href="flag-definitions_8h.html#a761e4e5929b1553283fd6a532822bb17">heap</a></div><div class="ttdeci">other heap size max size of the shared heap(in Mbytes)</div></div>
<div class="ttc" id="aflag-definitions_8h_html_adaf90f045d5cd2710edd625b8685472a"><div class="ttname"><a href="flag-definitions_8h.html#adaf90f045d5cd2710edd625b8685472a">mode</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in allocation gc speed threshold for starting incremental marking via a task in percent of available threshold for starting incremental marking immediately in percent of available Use a single schedule for determining a marking schedule between JS and C objects schedules the minor GC task with kUserVisible priority max worker number of concurrent for NumberOfWorkerThreads start background threads that allocate memory concurrent_array_buffer_sweeping use parallel threads to clear weak refs in the atomic pause trace progress of the incremental marking trace object counts and memory usage report a tick only when allocated zone memory changes by this amount TracingFlags::gc_stats TracingFlags::gc_stats track native contexts that are expected to be garbage collected verify heap pointers before and after GC memory reducer runs GC with ReduceMemoryFootprint flag Maximum number of memory reducer GCs scheduled Old gen GC speed is computed directly from gc tracer counters Perform compaction on full GCs based on V8 s default heuristics Perform compaction on every full GC Perform code space compaction when finalizing a full GC with stack Stress GC compaction to flush out bugs with moving objects flush of baseline code when it has not been executed recently Use time base code flushing instead of age Use a progress bar to scan large objects in increments when incremental marking is active force incremental marking for small heaps and run it more often Release pooled large pages after X seconds prints number of allocations and enables analysis mode for gc fuzz e g stress stress scavenge force scavenge at random points between and reclaim otherwise unreachable unmodified wrapper objects when possible discard the memory pool before invoking the GC on memory pressure or last resort GCs Delay before memory reducer start virtual randomize memory reservations by ignoring any hints passed when allocating pages use incremental marking for CppHeap cppheap_concurrent_marking c value for membalancer A special constant to balance between memory and space tradeoff The smaller the more memory it uses enable use of SSE4 instructions if available enable use of SAHF instruction if enable use of AVX VNNI instructions if available enable use of POPCNT instruction if available force all emitted branches to be in long mode(MIPS/PPC only)&quot;) DEFINE_BOOL(partial_constant_pool</div></div>
<div class="ttc" id="aflag-definitions_8h_html_ae0e79c88adf5166f9befeb542c2acd8f"><div class="ttname"><a href="flag-definitions_8h.html#ae0e79c88adf5166f9befeb542c2acd8f">code</a></div><div class="ttdeci">force emit tier up logic from all non turbofan code</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l00546">flag-definitions.h:546</a></div></div>
<div class="ttc" id="aflags_2flags_8h_html"><div class="ttname"><a href="flags_2flags_8h.html">flags.h</a></div></div>
<div class="ttc" id="aforeign_8h_html"><div class="ttname"><a href="foreign_8h.html">foreign.h</a></div></div>
<div class="ttc" id="aframes-inl_8h_html"><div class="ttname"><a href="frames-inl_8h.html">frames-inl.h</a></div></div>
<div class="ttc" id="agc-tracer-inl_8h_html"><div class="ttname"><a href="gc-tracer-inl_8h.html">gc-tracer-inl.h</a></div></div>
<div class="ttc" id="agc-tracer_8h_html"><div class="ttname"><a href="gc-tracer_8h.html">gc-tracer.h</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_a17375713518e1833362b491ef9c163cc"><div class="ttname"><a href="gc-tracer_8h.html#a17375713518e1833362b491ef9c163cc">TRACE_GC_NOTE_WITH_FLOW</a></div><div class="ttdeci">#define TRACE_GC_NOTE_WITH_FLOW(note, bind_id, flow_flags)</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00098">gc-tracer.h:98</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_a44d6debe5f608aa9654172245625ef38"><div class="ttname"><a href="gc-tracer_8h.html#a44d6debe5f608aa9654172245625ef38">TRACE_GC_EPOCH_WITH_FLOW</a></div><div class="ttdeci">#define TRACE_GC_EPOCH_WITH_FLOW(tracer, scope_id, thread_kind, bind_id, flow_flags)</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00084">gc-tracer.h:84</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_a4b6fc205b8b8bbe4275672c2a66c5b94"><div class="ttname"><a href="gc-tracer_8h.html#a4b6fc205b8b8bbe4275672c2a66c5b94">TRACE_GC_WITH_FLOW</a></div><div class="ttdeci">#define TRACE_GC_WITH_FLOW(tracer, scope_id, bind_id, flow_flags)</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00052">gc-tracer.h:52</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_a5565074f0fda27fbaa5cace7ea4a4108"><div class="ttname"><a href="gc-tracer_8h.html#a5565074f0fda27fbaa5cace7ea4a4108">TRACE_GC</a></div><div class="ttdeci">#define TRACE_GC(tracer, scope_id)</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00035">gc-tracer.h:35</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_ab1b9d31a6993723e2ab2a57d5d18ef5a"><div class="ttname"><a href="gc-tracer_8h.html#ab1b9d31a6993723e2ab2a57d5d18ef5a">TRACE_GC_ARG1</a></div><div class="ttdeci">#define TRACE_GC_ARG1(tracer, scope_id, arg0_name, arg0_value)</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00043">gc-tracer.h:43</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_af107f5a2136b9fcf104fc8c23a5bdfaa"><div class="ttname"><a href="gc-tracer_8h.html#af107f5a2136b9fcf104fc8c23a5bdfaa">TRACE_GC_CATEGORIES</a></div><div class="ttdeci">#define TRACE_GC_CATEGORIES</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00029">gc-tracer.h:29</a></div></div>
<div class="ttc" id="agc-tracer_8h_html_af9338020b2e2d4a1c8fe541d32e18473"><div class="ttname"><a href="gc-tracer_8h.html#af9338020b2e2d4a1c8fe541d32e18473">TRACE_GC1_WITH_FLOW</a></div><div class="ttdeci">#define TRACE_GC1_WITH_FLOW(tracer, scope_id, thread_kind, bind_id, flow_flags)</div><div class="ttdef"><b>Definition:</b> <a href="gc-tracer_8h_source.html#l00068">gc-tracer.h:68</a></div></div>
<div class="ttc" id="aglobal-handles_8h_html"><div class="ttname"><a href="global-handles_8h.html">global-handles.h</a></div></div>
<div class="ttc" id="ahash-table-inl_8h_html"><div class="ttname"><a href="hash-table-inl_8h.html">hash-table-inl.h</a></div></div>
<div class="ttc" id="aheap-layout-inl_8h_html"><div class="ttname"><a href="heap-layout-inl_8h.html">heap-layout-inl.h</a></div></div>
<div class="ttc" id="aheap-object-inl_8h_html"><div class="ttname"><a href="heap-object-inl_8h.html">heap-object-inl.h</a></div></div>
<div class="ttc" id="aheap-object_8h_html"><div class="ttname"><a href="heap-object_8h.html">heap-object.h</a></div></div>
<div class="ttc" id="aheap-utils-inl_8h_html"><div class="ttname"><a href="heap-utils-inl_8h.html">heap-utils-inl.h</a></div></div>
<div class="ttc" id="aheap-visitor-inl_8h_html"><div class="ttname"><a href="heap-visitor-inl_8h.html">heap-visitor-inl.h</a></div></div>
<div class="ttc" id="aincremental-marking_8h_html"><div class="ttname"><a href="incremental-marking_8h.html">incremental-marking.h</a></div></div>
<div class="ttc" id="aindex-generator_8h_html"><div class="ttname"><a href="index-generator_8h.html">index-generator.h</a></div></div>
<div class="ttc" id="aindirect-pointer-tag_8h_html"><div class="ttname"><a href="indirect-pointer-tag_8h.html">indirect-pointer-tag.h</a></div></div>
<div class="ttc" id="ainstance-type_8h_html"><div class="ttname"><a href="instance-type_8h.html">instance-type.h</a></div></div>
<div class="ttc" id="aisolate-utils-inl_8h_html"><div class="ttname"><a href="isolate-utils-inl_8h.html">isolate-utils-inl.h</a></div></div>
<div class="ttc" id="ajs-array-buffer-inl_8h_html"><div class="ttname"><a href="js-array-buffer-inl_8h.html">js-array-buffer-inl.h</a></div></div>
<div class="ttc" id="ajs-objects-inl_8h_html"><div class="ttname"><a href="js-objects-inl_8h.html">js-objects-inl.h</a></div></div>
<div class="ttc" id="alarge-spaces_8h_html"><div class="ttname"><a href="large-spaces_8h.html">large-spaces.h</a></div></div>
<div class="ttc" id="alive-object-range-inl_8h_html"><div class="ttname"><a href="live-object-range-inl_8h.html">live-object-range-inl.h</a></div></div>
<div class="ttc" id="amark-compact-inl_8h_html"><div class="ttname"><a href="mark-compact-inl_8h.html">mark-compact-inl.h</a></div></div>
<div class="ttc" id="amark-compact_8h_html"><div class="ttname"><a href="mark-compact_8h.html">mark-compact.h</a></div></div>
<div class="ttc" id="amark-sweep-utilities_8h_html"><div class="ttname"><a href="mark-sweep-utilities_8h.html">mark-sweep-utilities.h</a></div></div>
<div class="ttc" id="amarking-barrier_8h_html"><div class="ttname"><a href="marking-barrier_8h.html">marking-barrier.h</a></div></div>
<div class="ttc" id="amarking-inl_8h_html"><div class="ttname"><a href="marking-inl_8h.html">marking-inl.h</a></div></div>
<div class="ttc" id="amarking-state-inl_8h_html"><div class="ttname"><a href="marking-state-inl_8h.html">marking-state-inl.h</a></div></div>
<div class="ttc" id="amarking-visitor-inl_8h_html"><div class="ttname"><a href="marking-visitor-inl_8h.html">marking-visitor-inl.h</a></div></div>
<div class="ttc" id="amarking_8h_html"><div class="ttname"><a href="marking_8h.html">marking.h</a></div></div>
<div class="ttc" id="amaybe-object_8h_html"><div class="ttname"><a href="maybe-object_8h.html">maybe-object.h</a></div></div>
<div class="ttc" id="amemory-allocator_8h_html"><div class="ttname"><a href="memory-allocator_8h.html">memory-allocator.h</a></div></div>
<div class="ttc" id="amemory-chunk-layout_8h_html"><div class="ttname"><a href="memory-chunk-layout_8h.html">memory-chunk-layout.h</a></div></div>
<div class="ttc" id="amemory-chunk-metadata_8h_html"><div class="ttname"><a href="memory-chunk-metadata_8h.html">memory-chunk-metadata.h</a></div></div>
<div class="ttc" id="amemory-chunk_8h_html"><div class="ttname"><a href="memory-chunk_8h.html">memory-chunk.h</a></div></div>
<div class="ttc" id="amemory-measurement-inl_8h_html"><div class="ttname"><a href="memory-measurement-inl_8h.html">memory-measurement-inl.h</a></div></div>
<div class="ttc" id="amemory-measurement_8h_html"><div class="ttname"><a href="memory-measurement_8h.html">memory-measurement.h</a></div></div>
<div class="ttc" id="amutable-page-metadata_8h_html"><div class="ttname"><a href="mutable-page-metadata_8h.html">mutable-page-metadata.h</a></div></div>
<div class="ttc" id="amutex_8h_html"><div class="ttname"><a href="mutex_8h.html">mutex.h</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a31164e981f2a7080855c4ba02f1a910b"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a31164e981f2a7080855c4ba02f1a910b">cppgc::internal::kPageSize</a></div><div class="ttdeci">constexpr size_t kPageSize</div><div class="ttdef"><b>Definition:</b> <a href="heap_2cppgc_2globals_8h_source.html#l00042">globals.h:42</a></div></div>
<div class="ttc" id="anamespacecppgc_1_1internal_html_a9a435919d5a4a3ecfdfe20fb93896a60a94f16e44c50fb544fc2b1f177b913cbc"><div class="ttname"><a href="namespacecppgc_1_1internal.html#a9a435919d5a4a3ecfdfe20fb93896a60a94f16e44c50fb544fc2b1f177b913cbc">cppgc::internal::CollectionType::kMajor</a></div><div class="ttdeci">@ kMajor</div></div>
<div class="ttc" id="anamespaceheap_1_1base_html_af211f1740517ece6877e81f91b8c6759"><div class="ttname"><a href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759">heap::base::SlotCallbackResult</a></div><div class="ttdeci">SlotCallbackResult</div><div class="ttdef"><b>Definition:</b> <a href="basic-slot-set_8h_source.html#l00022">basic-slot-set.h:22</a></div></div>
<div class="ttc" id="anamespaceheap_1_1base_html_af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a"><div class="ttname"><a href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759a303c38b199c14e5ea05df94648ef453a">heap::base::REMOVE_SLOT</a></div><div class="ttdeci">@ REMOVE_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="basic-slot-set_8h_source.html#l00022">basic-slot-set.h:22</a></div></div>
<div class="ttc" id="anamespaceheap_1_1base_html_af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40"><div class="ttname"><a href="namespaceheap_1_1base.html#af211f1740517ece6877e81f91b8c6759ae8ea1f4f1c937202ac0aa2fe5bf33b40">heap::base::KEEP_SLOT</a></div><div class="ttdeci">@ KEEP_SLOT</div><div class="ttdef"><b>Definition:</b> <a href="basic-slot-set_8h_source.html#l00022">basic-slot-set.h:22</a></div></div>
<div class="ttc" id="anamespaceheap_html"><div class="ttname"><a href="namespaceheap.html">heap</a></div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2platform_2platform_8h_source.html#l00072">platform.h:72</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_a0869a94c1a582a2b47889b990444deb9"><div class="ttname"><a href="namespaceunibrow.html#a0869a94c1a582a2b47889b990444deb9">unibrow::uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00041">unicode.cc:41</a></div></div>
<div class="ttc" id="anamespacev8_1_1api__internal_html_a6e19dba9644f1405ed8144c4d9e7b98f"><div class="ttname"><a href="namespacev8_1_1api__internal.html#a6e19dba9644f1405ed8144c4d9e7b98f">v8::api_internal::MakeWeak</a></div><div class="ttdeci">void MakeWeak(i::Address *location, void *parameter, WeakCallbackInfo&lt; void &gt;::Callback weak_callback, WeakCallbackType type)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l00653">api.cc:653</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1bits_html_af9eb752b538fa8a66badab8f26e0e000"><div class="ttname"><a href="namespacev8_1_1base_1_1bits.html#af9eb752b538fa8a66badab8f26e0e000">v8::base::bits::IsPowerOfTwo</a></div><div class="ttdeci">constexpr bool IsPowerOfTwo(T value) requires(std</div><div class="ttdef"><b>Definition:</b> <a href="bits_8h_source.html#l00187">bits.h:187</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_a40b71b3558e4b5297d51003612578a81"><div class="ttname"><a href="namespacev8_1_1base.html#a40b71b3558e4b5297d51003612578a81">v8::base::MutexGuard</a></div><div class="ttdeci">LockGuard&lt; Mutex &gt; MutexGuard</div><div class="ttdef"><b>Definition:</b> <a href="mutex_8h_source.html#l00219">mutex.h:219</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae714b233e65334e0104cda752fc559c5"><div class="ttname"><a href="namespacev8_1_1base.html#ae714b233e65334e0104cda752fc559c5">v8::base::kNullAddress</a></div><div class="ttdeci">constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="virtual-address-space_8h_source.html#l00019">virtual-address-space.h:19</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_ae8575343c68d7ad91cf7aaf24cd6643f"><div class="ttname"><a href="namespacev8_1_1base.html#ae8575343c68d7ad91cf7aaf24cd6643f">v8::base::sort</a></div><div class="ttdeci">void sort(C &amp;container)</div><div class="ttdef"><b>Definition:</b> <a href="container-utils_8h_source.html#l00111">container-utils.h:111</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_html_aed4219b45684a3840c8b930b5df90ea9"><div class="ttname"><a href="namespacev8_1_1base.html#aed4219b45684a3840c8b930b5df90ea9">v8::base::Address</a></div><div class="ttdeci">uintptr_t Address</div><div class="ttdef"><b>Definition:</b> <a href="base_2memory_8h_source.html#l00013">memory.h:13</a></div></div>
<div class="ttc" id="anamespacev8_1_1debug_html_ac6a287af2e49ee034b98f9d77db40314"><div class="ttname"><a href="namespacev8_1_1debug.html#ac6a287af2e49ee034b98f9d77db40314">v8::debug::GetCurrentPlatform</a></div><div class="ttdeci">Platform * GetCurrentPlatform()</div><div class="ttdef"><b>Definition:</b> <a href="debug-interface_8cc_source.html#l00800">debug-interface.cc:800</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_a4dd27cf9309273fdf5e136ba0bc57b08"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a4dd27cf9309273fdf5e136ba0bc57b08">v8::internal::InstanceTypeChecker::IsExternalString</a></div><div class="ttdeci">constexpr bool IsExternalString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00346">instance-type-inl.h:346</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_a6f5e6ffabad6d103b853e7033c900fbe"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#a6f5e6ffabad6d103b853e7033c900fbe">v8::internal::InstanceTypeChecker::IsThinString</a></div><div class="ttdeci">constexpr bool IsThinString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00403">instance-type-inl.h:403</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_aa50b8d8a7e8d5da47c21d36be5b2a14d"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#aa50b8d8a7e8d5da47c21d36be5b2a14d">v8::internal::InstanceTypeChecker::IsInternalizedString</a></div><div class="ttdeci">constexpr bool IsInternalizedString(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00317">instance-type-inl.h:317</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_abbf68b3bf1ca62b0645f031cdc769188"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#abbf68b3bf1ca62b0645f031cdc769188">v8::internal::InstanceTypeChecker::IsFreeSpaceOrFiller</a></div><div class="ttdeci">constexpr bool IsFreeSpaceOrFiller(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00520">instance-type-inl.h:520</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1InstanceTypeChecker_html_ad49d99267ef9853837edb5c3e212d954"><div class="ttname"><a href="namespacev8_1_1internal_1_1InstanceTypeChecker.html#ad49d99267ef9853837edb5c3e212d954">v8::internal::InstanceTypeChecker::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject(InstanceType instance_type)</div><div class="ttdef"><b>Definition:</b> <a href="instance-type-inl_8h_source.html#l00313">instance-type-inl.h:313</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a06d1c585f64ca4267edf4dd4f4e55cce"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55cce">v8::internal::anonymous_namespace{mark-compact.cc}::MemoryReductionMode</a></div><div class="ttdeci">MemoryReductionMode</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04802">mark-compact.cc:4802</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a06d1c585f64ca4267edf4dd4f4e55ccea2188fdd3c75318ecfec29810d5dde987"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a06d1c585f64ca4267edf4dd4f4e55ccea2188fdd3c75318ecfec29810d5dde987">v8::internal::anonymous_namespace{mark-compact.cc}::MemoryReductionMode::kShouldReduceMemory</a></div><div class="ttdeci">@ kShouldReduceMemory</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a149d8c397d9b5e24f9f059e879b85ac2"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a149d8c397d9b5e24f9f059e879b85ac2">v8::internal::anonymous_namespace{mark-compact.cc}::ShouldRetainMap</a></div><div class="ttdeci">bool ShouldRetainMap(Heap *heap, MarkingState *marking_state, Tagged&lt; Map &gt; map, int age)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02409">mark-compact.cc:2409</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a1987eb4410159651be62f2c754440a26"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1987eb4410159651be62f2c754440a26">v8::internal::anonymous_namespace{mark-compact.cc}::NewSpacePageEvacuationThreshold</a></div><div class="ttdeci">intptr_t NewSpacePageEvacuationThreshold()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04806">mark-compact.cc:4806</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a1c549e86327fe563e6aeb70af865fb4c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a1c549e86327fe563e6aeb70af865fb4c">v8::internal::anonymous_namespace{mark-compact.cc}::ShouldMovePage</a></div><div class="ttdeci">bool ShouldMovePage(PageMetadata *p, intptr_t live_bytes, MemoryReductionMode memory_reduction_mode)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04811">mark-compact.cc:4811</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a2d6091682608c63aa3aeb4bda6b52282"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2d6091682608c63aa3aeb4bda6b52282">v8::internal::anonymous_namespace{mark-compact.cc}::NumberOfAvailableCores</a></div><div class="ttdeci">int NumberOfAvailableCores()</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00229">mark-compact.cc:229</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a2f28540a451fde6740ec4100c5e186ea"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a2f28540a451fde6740ec4100c5e186ea">v8::internal::anonymous_namespace{mark-compact.cc}::ShrinkPagesToObjectSizes</a></div><div class="ttdeci">void ShrinkPagesToObjectSizes(Heap *heap, OldLargeObjectSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00834">mark-compact.cc:834</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a43d5122de51691bc0e40341d9be42cd4"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a43d5122de51691bc0e40341d9be42cd4">v8::internal::anonymous_namespace{mark-compact.cc}::ShouldPostponeFreeingEmptyPages</a></div><div class="ttdeci">bool ShouldPostponeFreeingEmptyPages(LargeObjectSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l06107">mark-compact.cc:6107</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a58b90c1c7c35b855c401793183c9c13f"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a58b90c1c7c35b855c401793183c9c13f">v8::internal::anonymous_namespace{mark-compact.cc}::ReRecordPage</a></div><div class="ttdeci">void ReRecordPage(Heap *heap, Address failed_start, PageMetadata *page)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05891">mark-compact.cc:5891</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a5a7f4ec403000a5c1f0f0f70502e1774"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a5a7f4ec403000a5c1f0f0f70502e1774">v8::internal::anonymous_namespace{mark-compact.cc}::CollectRememberedSetUpdatingItems</a></div><div class="ttdeci">void CollectRememberedSetUpdatingItems(std::vector&lt; std::unique_ptr&lt; UpdatingItem &gt;&gt; *items, IterateableSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l05553">mark-compact.cc:5553</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a83d32f2ce33023f3050bedde123689c1"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a83d32f2ce33023f3050bedde123689c1">v8::internal::anonymous_namespace{mark-compact.cc}::kDeadlineCheckInterval</a></div><div class="ttdeci">constexpr size_t kDeadlineCheckInterval</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l02195">mark-compact.cc:2195</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a8401873f434983f85f97f0b3ded61cd9"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8401873f434983f85f97f0b3ded61cd9">v8::internal::anonymous_namespace{mark-compact.cc}::TraceEvacuation</a></div><div class="ttdeci">void TraceEvacuation(Isolate *isolate, size_t pages_count, size_t wanted_num_tasks, size_t live_bytes, size_t aborted_pages)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04831">mark-compact.cc:4831</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a84317ec4c7617a64055a013e9d07df51"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a84317ec4c7617a64055a013e9d07df51">v8::internal::anonymous_namespace{mark-compact.cc}::UpdateStrongSlot</a></div><div class="ttdeci">static void UpdateStrongSlot(PtrComprCageBase cage_base, TSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04261">mark-compact.cc:4261</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a8e179782425b7be1054e814f897f2f32"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a8e179782425b7be1054e814f897f2f32">v8::internal::anonymous_namespace{mark-compact.cc}::UpdateOldToSharedSlot</a></div><div class="ttdeci">static SlotCallbackResult UpdateOldToSharedSlot(PtrComprCageBase cage_base, TSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04238">mark-compact.cc:4238</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_a9bbf08f1619cc116dd2a87e72c3055b3"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#a9bbf08f1619cc116dd2a87e72c3055b3">v8::internal::anonymous_namespace{mark-compact.cc}::MakeSlotValue</a></div><div class="ttdeci">TSlot::TObject MakeSlotValue(Tagged&lt; HeapObject &gt; heap_object)</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_ac96697cb73132b17cc8b6641fefb9b06"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ac96697cb73132b17cc8b6641fefb9b06">v8::internal::anonymous_namespace{mark-compact.cc}::NumberOfParallelCompactionTasks</a></div><div class="ttdeci">int NumberOfParallelCompactionTasks(Heap *heap)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00237">mark-compact.cc:237</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_acbc305d5a53430007c4921879d25e45b"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#acbc305d5a53430007c4921879d25e45b">v8::internal::anonymous_namespace{mark-compact.cc}::UpdateStrongCodeSlot</a></div><div class="ttdeci">static void UpdateStrongCodeSlot(IsolateForSandbox isolate, PtrComprCageBase cage_base, PtrComprCageBase code_cage_base, InstructionStreamSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04290">mark-compact.cc:4290</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_add930103cc1c8f4e2b122d8a5086a7c7"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#add930103cc1c8f4e2b122d8a5086a7c7">v8::internal::anonymous_namespace{mark-compact.cc}::GetCodeFlushMode</a></div><div class="ttdeci">base::EnumSet&lt; CodeFlushMode &gt; GetCodeFlushMode(Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00372">mark-compact.cc:372</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_ade0cd3259e3c53be85b4f6fdc226a63d"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ade0cd3259e3c53be85b4f6fdc226a63d">v8::internal::anonymous_namespace{mark-compact.cc}::UpdateSlot</a></div><div class="ttdeci">static void UpdateSlot(PtrComprCageBase cage_base, TSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04223">mark-compact.cc:4223</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_ae2720d5d6d34c434f5882ea31fc87f83"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#ae2720d5d6d34c434f5882ea31fc87f83">v8::internal::anonymous_namespace{mark-compact.cc}::UpdateStrongOldToSharedSlot</a></div><div class="ttdeci">static SlotCallbackResult UpdateStrongOldToSharedSlot(PtrComprCageBase cage_base, FullMaybeObjectSlot slot)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04273">mark-compact.cc:4273</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03_html_aea90dbf5b664542f92e8f0e7a13cfc01"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02mark-compact_8cc_03.html#aea90dbf5b664542f92e8f0e7a13cfc01">v8::internal::anonymous_namespace{mark-compact.cc}::CreateAndExecuteEvacuationTasks</a></div><div class="ttdeci">size_t CreateAndExecuteEvacuationTasks(Heap *heap, MarkCompactCollector *collector, std::vector&lt; std::pair&lt; ParallelWorkItem, MutablePageMetadata * &gt;&gt; evacuation_items)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04770">mark-compact.cc:4770</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02traced-handles_8cc_03_html_a2f52281c9e556f7a59f37b007fabebe3"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02traced-handles_8cc_03.html#a2f52281c9e556f7a59f37b007fabebe3">v8::internal::anonymous_namespace{traced-handles.cc}::MarkObject</a></div><div class="ttdeci">Tagged&lt; Object &gt; MarkObject(Tagged&lt; Object &gt; obj, TracedNode &amp;node, TracedHandles::MarkMode mark_mode)</div><div class="ttdef"><b>Definition:</b> <a href="traced-handles_8cc_source.html#l00793">traced-handles.cc:793</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a51dcb90ae077172b12d63271c7e7ba0c"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a51dcb90ae077172b12d63271c7e7ba0c">v8::internal::compiler::end</a></div><div class="ttdeci">Node::Uses::const_iterator end(const Node::Uses &amp;uses)</div><div class="ttdef"><b>Definition:</b> <a href="node_8h_source.html#l00711">node.h:711</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_html_a7cc35fed688945edc2503b7f776bc3b2a72195357633e7b5032aed9111794586f"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler.html#a7cc35fed688945edc2503b7f776bc3b2a72195357633e7b5032aed9111794586f">v8::internal::compiler::kCodeEntry</a></div><div class="ttdeci">@ kCodeEntry</div><div class="ttdef"><b>Definition:</b> <a href="wasm-compiler_8h_source.html#l00090">wasm-compiler.h:90</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1heap_html_abbe47cc01f1d548508ed123a8be3f4ca"><div class="ttname"><a href="namespacev8_1_1internal_1_1heap.html#abbe47cc01f1d548508ed123a8be3f4ca">v8::internal::heap::ShouldZapGarbage</a></div><div class="ttdeci">bool ShouldZapGarbage()</div><div class="ttdef"><b>Definition:</b> <a href="zapping_8h_source.html#l00018">zapping.h:18</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_ac81d27d6edb00aeed62a3e4745b8cba0"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#ac81d27d6edb00aeed62a3e4745b8cba0">v8::internal::wasm::void</a></div><div class="ttdeci">typedef void(VECTORCALL PWasmOp)(const uint8_t *code</div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1wasm_html_adbb89ce490c56aae60c8221f47b9f088"><div class="ttname"><a href="namespacev8_1_1internal_1_1wasm.html#adbb89ce490c56aae60c8221f47b9f088">v8::internal::wasm::GetProcessWideWasmCodePointerTable</a></div><div class="ttdeci">V8_EXPORT_PRIVATE WasmCodePointerTable * GetProcessWideWasmCodePointerTable()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0786c89c1004cb964dc034b138b263fd"><div class="ttname"><a href="namespacev8_1_1internal.html#a0786c89c1004cb964dc034b138b263fd">v8::internal::IsHeapObject</a></div><div class="ttdeci">constexpr bool IsHeapObject(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00670">objects.h:670</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a08ab6d4992ef16c0af0e8cecdd074f84"><div class="ttname"><a href="namespacev8_1_1internal.html#a08ab6d4992ef16c0af0e8cecdd074f84">v8::internal::UpdateReferenceInExternalStringTableEntry</a></div><div class="ttdeci">static Tagged&lt; String &gt; UpdateReferenceInExternalStringTableEntry(Heap *heap, FullObjectSlot p)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l04407">mark-compact.cc:4407</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0a296b86b75a4d9bc50eacf78b049527"><div class="ttname"><a href="namespacev8_1_1internal.html#a0a296b86b75a4d9bc50eacf78b049527">v8::internal::TrustedPointerHandle</a></div><div class="ttdeci">IndirectPointerHandle TrustedPointerHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00755">v8-internal.h:755</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0bc0ebcec45817212856f7d5e021224c"><div class="ttname"><a href="namespacev8_1_1internal.html#a0bc0ebcec45817212856f7d5e021224c">v8::internal::ObjectSlot</a></div><div class="ttdeci">SlotTraits::TObjectSlot ObjectSlot</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01237">globals.h:1237</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0cfab207d565dcf62ebf50f3987e05de"><div class="ttname"><a href="namespacev8_1_1internal.html#a0cfab207d565dcf62ebf50f3987e05de">v8::internal::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="heap-snapshot-generator_8cc_source.html#l01698">heap-snapshot-generator.cc:1698</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a0f0ae2cfa08579e4e985876e24d0e649"><div class="ttname"><a href="namespacev8_1_1internal.html#a0f0ae2cfa08579e4e985876e24d0e649">v8::internal::GetPtrComprCageBaseFromOnHeapAddress</a></div><div class="ttdeci">constexpr PtrComprCageBase GetPtrComprCageBaseFromOnHeapAddress(Address address)</div><div class="ttdef"><b>Definition:</b> <a href="ptr-compr-inl_8h_source.html#l00325">ptr-compr-inl.h:325</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a12d50d7bb2c9d8a916ff0785e6eff241"><div class="ttname"><a href="namespacev8_1_1internal.html#a12d50d7bb2c9d8a916ff0785e6eff241">v8::internal::kTaggedSize</a></div><div class="ttdeci">constexpr int kTaggedSize</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00533">globals.h:533</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a175c065c1245d42fdbd4a853993be670"><div class="ttname"><a href="namespacev8_1_1internal.html#a175c065c1245d42fdbd4a853993be670">v8::internal::kTaggedNullAddress</a></div><div class="ttdeci">constexpr Address kTaggedNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="handles_8h_source.html#l00053">handles.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a20c66a96ddfae551866ceae989a8ba13a6719428bfb5874884bca62eb8fe3de75"><div class="ttname"><a href="namespacev8_1_1internal.html#a20c66a96ddfae551866ceae989a8ba13a6719428bfb5874884bca62eb8fe3de75">v8::internal::SKIP_WRITE_BARRIER</a></div><div class="ttdeci">@ SKIP_WRITE_BARRIER</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00052">objects.h:52</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3430752cde9f29d73e97ceed1bce0856"><div class="ttname"><a href="namespacev8_1_1internal.html#a3430752cde9f29d73e97ceed1bce0856">v8::internal::PrintF</a></div><div class="ttdeci">void PrintF(const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00039">utils.cc:39</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a34c412e70714b6b814e60c4b6883e0eea04ed0d17680a76a1a906aed4ff47cd07"><div class="ttname"><a href="namespacev8_1_1internal.html#a34c412e70714b6b814e60c4b6883e0eea04ed0d17680a76a1a906aed4ff47cd07">v8::internal::ThreadKind::kMain</a></div><div class="ttdeci">@ kMain</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a39897e02b04b4fcb3d49a8adf67b75b0"><div class="ttname"><a href="namespacev8_1_1internal.html#a39897e02b04b4fcb3d49a8adf67b75b0">v8::internal::CodePointerHandle</a></div><div class="ttdeci">IndirectPointerHandle CodePointerHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00793">v8-internal.h:793</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a3d154fed8222e22068b915454f5db983"><div class="ttname"><a href="namespacev8_1_1internal.html#a3d154fed8222e22068b915454f5db983">v8::internal::IndirectPointerMode</a></div><div class="ttdeci">IndirectPointerMode</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00802">globals.h:802</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a403f10ce1c7dc18ea5f622a1aaa56285"><div class="ttname"><a href="namespacev8_1_1internal.html#a403f10ce1c7dc18ea5f622a1aaa56285">v8::internal::Tagged&lt; DescriptorArray &gt;</a></div><div class="ttdeci">Tagged&lt; DescriptorArray &gt;</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00052">map-inl.h:52</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a45db351d90234e7d9e494015fcf3829ca53409264f9ed262cc16b5b513fea3a6e"><div class="ttname"><a href="namespacev8_1_1internal.html#a45db351d90234e7d9e494015fcf3829ca53409264f9ed262cc16b5b513fea3a6e">v8::internal::kLinkCategory</a></div><div class="ttdeci">@ kLinkCategory</div><div class="ttdef"><b>Definition:</b> <a href="free-list_8h_source.html#l00042">free-list.h:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a45db351d90234e7d9e494015fcf3829caba2ca651c63fb8feea63d688e34fceb4"><div class="ttname"><a href="namespacev8_1_1internal.html#a45db351d90234e7d9e494015fcf3829caba2ca651c63fb8feea63d688e34fceb4">v8::internal::kDoNotLinkCategory</a></div><div class="ttdeci">@ kDoNotLinkCategory</div><div class="ttdef"><b>Definition:</b> <a href="free-list_8h_source.html#l00042">free-list.h:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5031451934208565c827c86d9eb86c5a"><div class="ttname"><a href="namespacev8_1_1internal.html#a5031451934208565c827c86d9eb86c5a">v8::internal::internal</a></div><div class="ttdeci">internal</div><div class="ttdef"><b>Definition:</b> <a href="wasm-objects-inl_8h_source.html#l00453">wasm-objects-inl.h:453</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5297fd2c72981b2220e6b9a831570fb3"><div class="ttname"><a href="namespacev8_1_1internal.html#a5297fd2c72981b2220e6b9a831570fb3">v8::internal::Tagged&lt; Object &gt;</a></div><div class="ttdeci">Tagged&lt; Object &gt;</div><div class="ttdef"><b>Definition:</b> <a href="js-objects-inl_8h_source.html#l00162">js-objects-inl.h:162</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5571bf7a3fbdb542683ee282eefb035c"><div class="ttname"><a href="namespacev8_1_1internal.html#a5571bf7a3fbdb542683ee282eefb035c">v8::internal::ToString</a></div><div class="ttdeci">constexpr const char * ToString(DeoptimizeKind kind)</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00872">globals.h:872</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a57f5ecf71b9a2757b0555b2be4c640b8"><div class="ttname"><a href="namespacev8_1_1internal.html#a57f5ecf71b9a2757b0555b2be4c640b8">v8::internal::Tagged&lt; HeapObject &gt;</a></div><div class="ttdeci">kInterpreterTrampolineOffset Tagged&lt; HeapObject &gt;</div><div class="ttdef"><b>Definition:</b> <a href="shared-function-info-inl_8h_source.html#l00117">shared-function-info-inl.h:117</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5ae38dc7ddb420b6d0f8cd6b3ede93c0"><div class="ttname"><a href="namespacev8_1_1internal.html#a5ae38dc7ddb420b6d0f8cd6b3ede93c0">v8::internal::CompactionSpaceKind</a></div><div class="ttdeci">CompactionSpaceKind</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01603">globals.h:1603</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5ae38dc7ddb420b6d0f8cd6b3ede93c0ad1c03161d710554d14dab31167da863d"><div class="ttname"><a href="namespacev8_1_1internal.html#a5ae38dc7ddb420b6d0f8cd6b3ede93c0ad1c03161d710554d14dab31167da863d">v8::internal::CompactionSpaceKind::kCompactionSpaceForMarkCompact</a></div><div class="ttdeci">@ kCompactionSpaceForMarkCompact</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5b59223136254772ef018d90e009318d"><div class="ttname"><a href="namespacev8_1_1internal.html#a5b59223136254772ef018d90e009318d">v8::internal::MemsetTagged</a></div><div class="ttdeci">void MemsetTagged(Tagged_t *start, Tagged&lt; MaybeObject &gt; value, size_t counter)</div><div class="ttdef"><b>Definition:</b> <a href="slots-inl_8h_source.html#l00497">slots-inl.h:497</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5c81bf980e0cdd16e6f80a806701fd76"><div class="ttname"><a href="namespacev8_1_1internal.html#a5c81bf980e0cdd16e6f80a806701fd76">v8::internal::MaybeObjectSlot</a></div><div class="ttdeci">SlotTraits::TMaybeObjectSlot MaybeObjectSlot</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01242">globals.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a5eb6c17d238a6a1a82c53fcb5357b3b6"><div class="ttname"><a href="namespacev8_1_1internal.html#a5eb6c17d238a6a1a82c53fcb5357b3b6">v8::internal::ProtectedMaybeObjectSlot</a></div><div class="ttdeci">SlotTraits::TProtectedMaybeObjectSlot ProtectedMaybeObjectSlot</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01268">globals.h:1268</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a67a51b6314a9bc8a8c44c5fe14149e6c"><div class="ttname"><a href="namespacev8_1_1internal.html#a67a51b6314a9bc8a8c44c5fe14149e6c">v8::internal::key</a></div><div class="ttdeci">int32_t key</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01408">external-reference.cc:1408</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a741cb77b6f267fbe178b0a59d98a32c4"><div class="ttname"><a href="namespacev8_1_1internal.html#a741cb77b6f267fbe178b0a59d98a32c4">v8::internal::InsideSandbox</a></div><div class="ttdeci">bool InsideSandbox(uintptr_t address)</div><div class="ttdef"><b>Definition:</b> <a href="sandbox_8h_source.html#l00334">sandbox.h:334</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a78927f326840d25333ed7aeb3782fbeea35c3ace1970663a16e5c65baa5941b13"><div class="ttname"><a href="namespacev8_1_1internal.html#a78927f326840d25333ed7aeb3782fbeea35c3ace1970663a16e5c65baa5941b13">v8::internal::BranchTargetIdentifier::kNone</a></div><div class="ttdeci">@ kNone</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7b94dc2dd5250e9341c12941db8e9595"><div class="ttname"><a href="namespacev8_1_1internal.html#a7b94dc2dd5250e9341c12941db8e9595">v8::internal::kTaggedSizeLog2</a></div><div class="ttdeci">constexpr int kTaggedSizeLog2</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00534">globals.h:534</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7f5302a7c7fd292ffd4a5f9758bd3686"><div class="ttname"><a href="namespacev8_1_1internal.html#a7f5302a7c7fd292ffd4a5f9758bd3686">v8::internal::true</a></div><div class="ttdeci">kInstanceDescriptorsOffset kTransitionsOrPrototypeInfoOffset true</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00069">map-inl.h:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a7fabf69c19f19fafd8f7b6c73fc6a3ee"><div class="ttname"><a href="namespacev8_1_1internal.html#a7fabf69c19f19fafd8f7b6c73fc6a3ee">v8::internal::kInvalidEnumCacheSentinel</a></div><div class="ttdeci">static const int kInvalidEnumCacheSentinel</div><div class="ttdef"><b>Definition:</b> <a href="property-details_8h_source.html#l00248">property-details.h:248</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a82c1746016699f0092cef67ba2e71956"><div class="ttname"><a href="namespacev8_1_1internal.html#a82c1746016699f0092cef67ba2e71956">v8::internal::kZapValue</a></div><div class="ttdeci">constexpr uint32_t kZapValue</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00999">globals.h:999</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a8c89f00da07e125218128b9fbf0a321c"><div class="ttname"><a href="namespacev8_1_1internal.html#a8c89f00da07e125218128b9fbf0a321c">v8::internal::handle</a></div><div class="ttdeci">IndirectHandle&lt; T &gt; handle(Tagged&lt; T &gt; object, Isolate *isolate)</div><div class="ttdef"><b>Definition:</b> <a href="handles-inl_8h_source.html#l00072">handles-inl.h:72</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a93b2e7c72fa0878021b495b6f3cec820"><div class="ttname"><a href="namespacev8_1_1internal.html#a93b2e7c72fa0878021b495b6f3cec820">v8::internal::KB</a></div><div class="ttdeci">constexpr int KB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00055">v8-internal.h:55</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a95616b4a1de76737188bb25ce12243d7"><div class="ttname"><a href="namespacev8_1_1internal.html#a95616b4a1de76737188bb25ce12243d7">v8::internal::TraceFragmentation</a></div><div class="ttdeci">static void TraceFragmentation(PagedSpace *space)</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8cc_source.html#l00322">mark-compact.cc:322</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a9702f1cf0153510561af900313494b5e"><div class="ttname"><a href="namespacev8_1_1internal.html#a9702f1cf0153510561af900313494b5e">v8::internal::IsCppHeapMarkingFinished</a></div><div class="ttdeci">bool IsCppHeapMarkingFinished(Heap *heap, MarkingWorklists::Local *local_marking_worklists)</div><div class="ttdef"><b>Definition:</b> <a href="mark-sweep-utilities_8cc_source.html#l00140">mark-sweep-utilities.cc:140</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fef"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fef">v8::internal::AllocationSpace</a></div><div class="ttdeci">AllocationSpace</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01298">globals.h:1298</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621">v8::internal::NEW_SPACE</a></div><div class="ttdeci">@ NEW_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01300">globals.h:1300</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa14e4604f12b3138f8e00091e7093c023"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa14e4604f12b3138f8e00091e7093c023">v8::internal::TRUSTED_LO_SPACE</a></div><div class="ttdeci">@ TRUSTED_LO_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01314">globals.h:1314</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa385454df67937debeccaa3ec05627542">v8::internal::LO_SPACE</a></div><div class="ttdeci">@ LO_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01310">globals.h:1310</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa6f564dbff22ad6da21740d3143349d93">v8::internal::NEW_LO_SPACE</a></div><div class="ttdeci">@ NEW_LO_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01309">globals.h:1309</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa7b3b52e8b8e6e29f82884e41bfe0f500">v8::internal::CODE_SPACE</a></div><div class="ttdeci">@ CODE_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01303">globals.h:1303</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8">v8::internal::SHARED_SPACE</a></div><div class="ttdeci">@ SHARED_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01304">globals.h:1304</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa8515da266a18e6c9f673363f2a37570b">v8::internal::TRUSTED_SPACE</a></div><div class="ttdeci">@ TRUSTED_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01305">globals.h:1305</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefa93dfdbc84455c750a99db7dd0cc02aff"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefa93dfdbc84455c750a99db7dd0cc02aff">v8::internal::CODE_LO_SPACE</a></div><div class="ttdeci">@ CODE_LO_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01311">globals.h:1311</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefacc7351aa01c6173555932b162b850e99">v8::internal::OLD_SPACE</a></div><div class="ttdeci">@ OLD_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01302">globals.h:1302</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa131d4fd9972fd8dfbec01a9243d9fefaea13a1454fdc1412eea716033f5d503e"><div class="ttname"><a href="namespacev8_1_1internal.html#aa131d4fd9972fd8dfbec01a9243d9fefaea13a1454fdc1412eea716033f5d503e">v8::internal::SHARED_LO_SPACE</a></div><div class="ttdeci">@ SHARED_LO_SPACE</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01312">globals.h:1312</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa2b1520107e1a7067d5db8226721c882"><div class="ttname"><a href="namespacev8_1_1internal.html#aa2b1520107e1a7067d5db8226721c882">v8::internal::ClearedValue</a></div><div class="ttdeci">Tagged&lt; ClearedWeakValue &gt; ClearedValue(PtrComprCageBase cage_base)</div><div class="ttdef"><b>Definition:</b> <a href="maybe-object-inl_8h_source.html#l00020">maybe-object-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbca592a1b13d5f6454340f5d3e2be0f0909"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca592a1b13d5f6454340f5d3e2be0f0909">v8::internal::kExternalStringResourceTag</a></div><div class="ttdeci">@ kExternalStringResourceTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00566">v8-internal.h:566</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa5178998e7ae493acf744bc92b1fbdbca9ffc9bd9f1613f7fdb6e42f391828ff7"><div class="ttname"><a href="namespacev8_1_1internal.html#aa5178998e7ae493acf744bc92b1fbdbca9ffc9bd9f1613f7fdb6e42f391828ff7">v8::internal::kExternalStringResourceDataTag</a></div><div class="ttdeci">@ kExternalStringResourceDataTag</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00567">v8-internal.h:567</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa6b3743bd5d773c552654f2a6c3efa4a"><div class="ttname"><a href="namespacev8_1_1internal.html#aa6b3743bd5d773c552654f2a6c3efa4a">v8::internal::DCHECK</a></div><div class="ttdeci">DCHECK(IsNull(value)||IsNativeContext(value)||value==Smi::uninitialized_deserialization_value())</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa8afa43b305d6f03c5288971ce078885a995dffcce98bdfc9e48bd47a0cdaf2d5"><div class="ttname"><a href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885a995dffcce98bdfc9e48bd47a0cdaf2d5">v8::internal::SkipRoot::kReadOnlyBuiltins</a></div><div class="ttdeci">@ kReadOnlyBuiltins</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa8afa43b305d6f03c5288971ce078885ae627e43b3da0dfc9dc84c70a96c3e983"><div class="ttname"><a href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885ae627e43b3da0dfc9dc84c70a96c3e983">v8::internal::SkipRoot::kConservativeStack</a></div><div class="ttdeci">@ kConservativeStack</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa8afa43b305d6f03c5288971ce078885af08c9166c4ec6240391d3b750460a155"><div class="ttname"><a href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885af08c9166c4ec6240391d3b750460a155">v8::internal::SkipRoot::kTracedHandles</a></div><div class="ttdeci">@ kTracedHandles</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa8afa43b305d6f03c5288971ce078885af46adad9d0cb04df164724e715cf5562"><div class="ttname"><a href="namespacev8_1_1internal.html#aa8afa43b305d6f03c5288971ce078885af46adad9d0cb04df164724e715cf5562">v8::internal::SkipRoot::kWeak</a></div><div class="ttdeci">@ kWeak</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9a47c3d58feefc8747cef370681925ba023a5e1ba319d0465005e0fd207f3f50"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba023a5e1ba319d0465005e0fd207f3f50">v8::internal::CodeFlushMode::kFlushBaselineCode</a></div><div class="ttdeci">@ kFlushBaselineCode</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9a47c3d58feefc8747cef370681925ba8c3051baaa6427f61402f9f207469b77"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba8c3051baaa6427f61402f9f207469b77">v8::internal::CodeFlushMode::kFlushBytecode</a></div><div class="ttdeci">@ kFlushBytecode</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9a47c3d58feefc8747cef370681925ba9835d90aa80a7bb2ab4cb991ff1462d4"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9a47c3d58feefc8747cef370681925ba9835d90aa80a7bb2ab4cb991ff1462d4">v8::internal::CodeFlushMode::kForceFlush</a></div><div class="ttdeci">@ kForceFlush</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa9db791c05a0359859a321dcfec42e37"><div class="ttname"><a href="namespacev8_1_1internal.html#aa9db791c05a0359859a321dcfec42e37">v8::internal::v8_flags</a></div><div class="ttdeci">V8_EXPORT_PRIVATE FlagValues v8_flags</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aaae66fce459a82ed75641e4543500b4d"><div class="ttname"><a href="namespacev8_1_1internal.html#aaae66fce459a82ed75641e4543500b4d">v8::internal::ClearedTrustedValue</a></div><div class="ttdeci">Tagged&lt; ClearedWeakValue &gt; ClearedTrustedValue()</div><div class="ttdef"><b>Definition:</b> <a href="maybe-object-inl_8h_source.html#l00036">maybe-object-inl.h:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aae0d674c07aba6028b4ee683cb1e760d"><div class="ttname"><a href="namespacev8_1_1internal.html#aae0d674c07aba6028b4ee683cb1e760d">v8::internal::duration</a></div><div class="ttdeci">duration</div><div class="ttdef"><b>Definition:</b> <a href="builtins-temporal_8cc_source.html#l00589">builtins-temporal.cc:589</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab2246faa71151b0796765b988d046828"><div class="ttname"><a href="namespacev8_1_1internal.html#ab2246faa71151b0796765b988d046828">v8::internal::IsSharedExternalPointerType</a></div><div class="ttdeci">static constexpr bool IsSharedExternalPointerType(ExternalPointerTagRange tag_range)</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00683">v8-internal.h:683</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab2a51a653a4864c3feda71605aadf6ca"><div class="ttname"><a href="namespacev8_1_1internal.html#ab2a51a653a4864c3feda71605aadf6ca">v8::internal::InstructionStreamSlot</a></div><div class="ttdeci">SlotTraits::TInstructionStreamSlot InstructionStreamSlot</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01259">globals.h:1259</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ab6431cd9205265cf49909abcac939803"><div class="ttname"><a href="namespacev8_1_1internal.html#ab6431cd9205265cf49909abcac939803">v8::internal::AllocationAlignment</a></div><div class="ttdeci">AllocationAlignment</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l01563">globals.h:1563</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aba548aae398799ae5ad2a11ff110178b"><div class="ttname"><a href="namespacev8_1_1internal.html#aba548aae398799ae5ad2a11ff110178b">v8::internal::ExternalPointerHandle</a></div><div class="ttdeci">uint32_t ExternalPointerHandle</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00363">v8-internal.h:363</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac299e59759eecb4621f6bad64d5db952"><div class="ttname"><a href="namespacev8_1_1internal.html#ac299e59759eecb4621f6bad64d5db952">v8::internal::IsSmi</a></div><div class="ttdeci">constexpr bool IsSmi(TaggedImpl&lt; kRefType, StorageType &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00666">objects.h:666</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac3ae3605bcdba7262f327c91f0b90ae0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac3ae3605bcdba7262f327c91f0b90ae0">v8::internal::this</a></div><div class="ttdeci">!IsContextMap this</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00891">map-inl.h:891</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa3c217d6e8e7b6bf5321b243392db47f7">v8::internal::OLD_TO_NEW</a></div><div class="ttdeci">@ OLD_TO_NEW</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00031">mutable-page-metadata.h:31</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aa4dc0d88d3eaa2b7b5ea263b3a347fb31"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa4dc0d88d3eaa2b7b5ea263b3a347fb31">v8::internal::TRUSTED_TO_SHARED_TRUSTED</a></div><div class="ttdeci">@ TRUSTED_TO_SHARED_TRUSTED</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00037">mutable-page-metadata.h:37</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aa58367539ba9fa32e193c842fccee3c7d"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa58367539ba9fa32e193c842fccee3c7d">v8::internal::OLD_TO_NEW_BACKGROUND</a></div><div class="ttdeci">@ OLD_TO_NEW_BACKGROUND</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00032">mutable-page-metadata.h:32</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aa72e097926db1c2f9c11997fcba7dd4d8"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aa72e097926db1c2f9c11997fcba7dd4d8">v8::internal::TRUSTED_TO_TRUSTED</a></div><div class="ttdeci">@ TRUSTED_TO_TRUSTED</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00036">mutable-page-metadata.h:36</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aadd74c147d966f89a0f1a1c9ce4b572a3"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aadd74c147d966f89a0f1a1c9ce4b572a3">v8::internal::TRUSTED_TO_CODE</a></div><div class="ttdeci">@ TRUSTED_TO_CODE</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00035">mutable-page-metadata.h:35</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1928264840767da0eddb6396bfe4da7">v8::internal::OLD_TO_OLD</a></div><div class="ttdeci">@ OLD_TO_OLD</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00033">mutable-page-metadata.h:33</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b"><div class="ttname"><a href="namespacev8_1_1internal.html#acd168cc3f4f819be9715e41edbf3586aaf1c57d9550e4932af048f00ebf9b317b">v8::internal::OLD_TO_SHARED</a></div><div class="ttdeci">@ OLD_TO_SHARED</div><div class="ttdef"><b>Definition:</b> <a href="mutable-page-metadata_8h_source.html#l00034">mutable-page-metadata.h:34</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acdec713c25068019f935e35976f5b666"><div class="ttname"><a href="namespacev8_1_1internal.html#acdec713c25068019f935e35976f5b666">v8::internal::UNREACHABLE</a></div><div class="ttdeci">UNREACHABLE()</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acee9c59587b497961ec8549083c66fe1"><div class="ttname"><a href="namespacev8_1_1internal.html#acee9c59587b497961ec8549083c66fe1">v8::internal::SlotType</a></div><div class="ttdeci">SlotType</div><div class="ttdef"><b>Definition:</b> <a href="slot-set_8h_source.html#l00232">slot-set.h:232</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_acf6bafb5b8483a580f375393c413ee02"><div class="ttname"><a href="namespacev8_1_1internal.html#acf6bafb5b8483a580f375393c413ee02">v8::internal::kNullAddress</a></div><div class="ttdeci">static constexpr Address kNullAddress</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00053">v8-internal.h:53</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5"><div class="ttname"><a href="namespacev8_1_1internal.html#ad504e70236bfcc0478d67053d1ed9ac0a0e4ebf97d76f3fcc0a4f23078b1339f5">v8::internal::GarbageCollector::MARK_COMPACTOR</a></div><div class="ttdeci">@ MARK_COMPACTOR</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ada9f491dce0173d9e92b0dfaeaf8b64c"><div class="ttname"><a href="namespacev8_1_1internal.html#ada9f491dce0173d9e92b0dfaeaf8b64c">v8::internal::PrintIsolate</a></div><div class="ttdeci">void PrintIsolate(void *isolate, const char *format,...)</div><div class="ttdef"><b>Definition:</b> <a href="utils_2utils_8cc_source.html#l00061">utils.cc:61</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ade1fa6c3f4fadb82080eb655686b6ebca670ae114e5d40462ad1f14c003b2fdeb"><div class="ttname"><a href="namespacev8_1_1internal.html#ade1fa6c3f4fadb82080eb655686b6ebca670ae114e5d40462ad1f14c003b2fdeb">v8::internal::AccessMode::NON_ATOMIC</a></div><div class="ttdeci">@ NON_ATOMIC</div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae1439207c9f98c41dbdea3eca3572d54"><div class="ttname"><a href="namespacev8_1_1internal.html#ae1439207c9f98c41dbdea3eca3572d54">v8::internal::Root</a></div><div class="ttdeci">Root</div><div class="ttdef"><b>Definition:</b> <a href="visitors_8h_source.html#l00056">visitors.h:56</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae3cd5ae1226a4707d6e6834191b97c92"><div class="ttname"><a href="namespacev8_1_1internal.html#ae3cd5ae1226a4707d6e6834191b97c92">v8::internal::constructor_or_back_pointer</a></div><div class="ttdeci">constructor_or_back_pointer</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00889">map-inl.h:889</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ae8f086a5ae078a9752085a6b967a135c"><div class="ttname"><a href="namespacev8_1_1internal.html#ae8f086a5ae078a9752085a6b967a135c">v8::internal::JSDispatchHandle</a></div><div class="ttdeci">base::StrongAlias&lt; JSDispatchHandleAliasTag, uint32_t &gt; JSDispatchHandle</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l00548">globals.h:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af039bc88de94b25997667370586789d0"><div class="ttname"><a href="namespacev8_1_1internal.html#af039bc88de94b25997667370586789d0">v8::internal::HasWeakHeapObjectTag</a></div><div class="ttdeci">static bool HasWeakHeapObjectTag(const Tagged&lt; Object &gt; value)</div><div class="ttdef"><b>Definition:</b> <a href="objects_8h_source.html#l00654">objects.h:654</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af2d9fec01057be7bdab90bb4682717b0"><div class="ttname"><a href="namespacev8_1_1internal.html#af2d9fec01057be7bdab90bb4682717b0">v8::internal::prototype</a></div><div class="ttdeci">kInstanceDescriptorsOffset kTransitionsOrPrototypeInfoOffset prototype</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00069">map-inl.h:69</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_af46551c5713d2a3a1be4dca973e521e0"><div class="ttname"><a href="namespacev8_1_1internal.html#af46551c5713d2a3a1be4dca973e521e0">v8::internal::MB</a></div><div class="ttdeci">constexpr int MB</div><div class="ttdef"><b>Definition:</b> <a href="v8-internal_8h_source.html#l00056">v8-internal.h:56</a></div></div>
<div class="ttc" id="anamespacev8__inspector_1_1anonymous__namespace_02v8-console_8cc_03_html_adf875f9db530467b78e5703cb6bef044a5a9c69b905f40e54ca7cd2ca1ed9dd83"><div class="ttname"><a href="namespacev8__inspector_1_1anonymous__namespace_02v8-console_8cc_03.html#adf875f9db530467b78e5703cb6bef044a5a9c69b905f40e54ca7cd2ca1ed9dd83">v8_inspector::anonymous_namespace{v8-console.cc}::kRegular</a></div><div class="ttdeci">@ kRegular</div><div class="ttdef"><b>Definition:</b> <a href="v8-console_8cc_source.html#l00218">v8-console.cc:218</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df"><div class="ttname"><a href="namespacev8.html#a05f25f935e108a1ea2d150e274602b87a7ab4d58719c33b3ea2dfaefa29b111df">v8::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">None.</div><div class="ttdef"><b>Definition:</b> <a href="v8-object_8h_source.html#l00143">v8-object.h:143</a></div></div>
<div class="ttc" id="anamespacev8_html_a65227471e4ee0ccd275854a995f12a62"><div class="ttname"><a href="namespacev8.html#a65227471e4ee0ccd275854a995f12a62">v8::kRelaxedLoad</a></div><div class="ttdeci">static constexpr RelaxedLoadTag kRelaxedLoad</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02943">globals.h:2943</a></div></div>
<div class="ttc" id="anamespacev8_html_a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209"><div class="ttname"><a href="namespacev8.html#a680c1a715d1d5df94b21e8b1ee1bf051a495bb545d1c5053ead9743a8b7692209">v8::TaskPriority::kUserBlocking</a></div><div class="ttdeci">@ kUserBlocking</div><div class="ttdoc">User blocking tasks are highest priority tasks that block the execution thread (e....</div></div>
<div class="ttc" id="anamespacev8_html_a6f4ac914af065ca471d59c67f789296f"><div class="ttname"><a href="namespacev8.html#a6f4ac914af065ca471d59c67f789296f">v8::kRelaxedStore</a></div><div class="ttdeci">static constexpr RelaxedStoreTag kRelaxedStore</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02945">globals.h:2945</a></div></div>
<div class="ttc" id="anamespacev8_html_aee4e677b8d8a86416617b3330778b98a"><div class="ttname"><a href="namespacev8.html#aee4e677b8d8a86416617b3330778b98a">v8::kAcquireLoad</a></div><div class="ttdeci">static constexpr AcquireLoadTag kAcquireLoad</div><div class="ttdef"><b>Definition:</b> <a href="common_2globals_8h_source.html#l02942">globals.h:2942</a></div></div>
<div class="ttc" id="anamespacev8_html_af4bd667bae597459fddd3443cbec0cb2ab7c9b8c4d5920370856a0fc30c2b6bb8"><div class="ttname"><a href="namespacev8.html#af4bd667bae597459fddd3443cbec0cb2ab7c9b8c4d5920370856a0fc30c2b6bb8">v8::IDLE</a></div><div class="ttdeci">@ IDLE</div><div class="ttdef"><b>Definition:</b> <a href="v8-unwinder_8h_source.html#l00045">v8-unwinder.h:45</a></div></div>
<div class="ttc" id="anamespacewasm_html_a1159abdb217149e8db975f0037d4bfe7"><div class="ttname"><a href="namespacewasm.html#a1159abdb217149e8db975f0037d4bfe7">wasm::ignore</a></div><div class="ttdeci">void ignore(T)</div><div class="ttdef"><b>Definition:</b> <a href="c-api_8cc_source.html#l00237">c-api.cc:237</a></div></div>
<div class="ttc" id="anew-spaces_8h_html"><div class="ttname"><a href="new-spaces_8h.html">new-spaces.h</a></div></div>
<div class="ttc" id="aobject-stats_8h_html"><div class="ttname"><a href="object-stats_8h.html">object-stats.h</a></div></div>
<div class="ttc" id="aobjects_8h_html"><div class="ttname"><a href="objects_8h.html">objects.h</a></div></div>
<div class="ttc" id="apage-metadata-inl_8h_html"><div class="ttname"><a href="page-metadata-inl_8h.html">page-metadata-inl.h</a></div></div>
<div class="ttc" id="apage-metadata_8h_html"><div class="ttname"><a href="page-metadata_8h.html">page-metadata.h</a></div></div>
<div class="ttc" id="aparallel-work-item_8h_html"><div class="ttname"><a href="parallel-work-item_8h.html">parallel-work-item.h</a></div></div>
<div class="ttc" id="apretenuring-handler-inl_8h_html"><div class="ttname"><a href="pretenuring-handler-inl_8h.html">pretenuring-handler-inl.h</a></div></div>
<div class="ttc" id="apretenuring-handler_8h_html"><div class="ttname"><a href="pretenuring-handler_8h.html">pretenuring-handler.h</a></div></div>
<div class="ttc" id="arandom-number-generator_8h_html"><div class="ttname"><a href="random-number-generator_8h.html">random-number-generator.h</a></div></div>
<div class="ttc" id="aread-only-heap_8h_html"><div class="ttname"><a href="read-only-heap_8h.html">read-only-heap.h</a></div></div>
<div class="ttc" id="aread-only-spaces_8h_html"><div class="ttname"><a href="read-only-spaces_8h.html">read-only-spaces.h</a></div></div>
<div class="ttc" id="aremembered-set_8h_html"><div class="ttname"><a href="remembered-set_8h.html">remembered-set.h</a></div></div>
<div class="ttc" id="asafepoint_8h_html"><div class="ttname"><a href="safepoint_8h.html">safepoint.h</a></div></div>
<div class="ttc" id="ashared-heap-serializer_8h_html"><div class="ttname"><a href="shared-heap-serializer_8h.html">shared-heap-serializer.h</a></div></div>
<div class="ttc" id="aslot-set_8h_html"><div class="ttname"><a href="slot-set_8h.html">slot-set.h</a></div></div>
<div class="ttc" id="aslots-inl_8h_html"><div class="ttname"><a href="slots-inl_8h.html">slots-inl.h</a></div></div>
<div class="ttc" id="asmi_8h_html"><div class="ttname"><a href="smi_8h.html">smi.h</a></div></div>
<div class="ttc" id="aspaces-inl_8h_html"><div class="ttname"><a href="spaces-inl_8h.html">spaces-inl.h</a></div></div>
<div class="ttc" id="aspaces_8h_html_a30fdeba02f6d5417e78244ad5fe87702"><div class="ttname"><a href="spaces_8h.html#a30fdeba02f6d5417e78244ad5fe87702">DCHECK_CODEOBJECT_SIZE</a></div><div class="ttdeci">#define DCHECK_CODEOBJECT_SIZE(size)</div><div class="ttdef"><b>Definition:</b> <a href="spaces_8h_source.html#l00054">spaces.h:54</a></div></div>
<div class="ttc" id="aspaces_8h_html_a56ff3dec24b9951f79e32d38157610a8"><div class="ttname"><a href="spaces_8h.html#a56ff3dec24b9951f79e32d38157610a8">DCHECK_OBJECT_SIZE</a></div><div class="ttdeci">#define DCHECK_OBJECT_SIZE(size)</div><div class="ttdef"><b>Definition:</b> <a href="spaces_8h_source.html#l00051">spaces.h:51</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html"><div class="ttname"><a href="src_2base_2logging_8h.html">logging.h</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a0bc63b24b654ca433be7b97a3edde132"><div class="ttname"><a href="src_2base_2logging_8h.html#a0bc63b24b654ca433be7b97a3edde132">UNREACHABLE</a></div><div class="ttdeci">#define UNREACHABLE()</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00067">logging.h:67</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a16b382527f19b805fc8f856668f2270b"><div class="ttname"><a href="src_2base_2logging_8h.html#a16b382527f19b805fc8f856668f2270b">DCHECK_LE</a></div><div class="ttdeci">#define DCHECK_LE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00489">logging.h:489</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2209830df6b59d1ec1fdf66b9352924f"><div class="ttname"><a href="src_2base_2logging_8h.html#a2209830df6b59d1ec1fdf66b9352924f">DCHECK_NULL</a></div><div class="ttdeci">#define DCHECK_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00490">logging.h:490</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a2c0c4cea27d0690467662bb05131b2af"><div class="ttname"><a href="src_2base_2logging_8h.html#a2c0c4cea27d0690467662bb05131b2af">CHECK_IMPLIES</a></div><div class="ttdeci">#define CHECK_IMPLIES(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a3e1cfef60e774a81f30eaddf26a3a274"><div class="ttname"><a href="src_2base_2logging_8h.html#a3e1cfef60e774a81f30eaddf26a3a274">CHECK</a></div><div class="ttdeci">#define CHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00124">logging.h:124</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7b9f9517fedacc2a1a56c2bbb9d03688"><div class="ttname"><a href="src_2base_2logging_8h.html#a7b9f9517fedacc2a1a56c2bbb9d03688">DCHECK_NOT_NULL</a></div><div class="ttdeci">#define DCHECK_NOT_NULL(val)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00491">logging.h:491</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a7bf1ad59490562f507223cd6ca2cc6fa"><div class="ttname"><a href="src_2base_2logging_8h.html#a7bf1ad59490562f507223cd6ca2cc6fa">CHECK_NULL</a></div><div class="ttdeci">#define CHECK_NULL(val)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a96a75539aa82216cdde2250a11126ea0"><div class="ttname"><a href="src_2base_2logging_8h.html#a96a75539aa82216cdde2250a11126ea0">DCHECK_IMPLIES</a></div><div class="ttdeci">#define DCHECK_IMPLIES(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00492">logging.h:492</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_a986dc8f4ec6dcd0644efe205c13f8eb7"><div class="ttname"><a href="src_2base_2logging_8h.html#a986dc8f4ec6dcd0644efe205c13f8eb7">DCHECK_NE</a></div><div class="ttdeci">#define DCHECK_NE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00485">logging.h:485</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aa958a8a4e5dda3abaa031977268ae60e"><div class="ttname"><a href="src_2base_2logging_8h.html#aa958a8a4e5dda3abaa031977268ae60e">CHECK_NE</a></div><div class="ttdeci">#define CHECK_NE(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aca32614b4d2aea7dd9abdeb222bf02f3"><div class="ttname"><a href="src_2base_2logging_8h.html#aca32614b4d2aea7dd9abdeb222bf02f3">CHECK_EQ</a></div><div class="ttdeci">#define CHECK_EQ(lhs, rhs)</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af1a711c8d5520dff78858ddefd2ad668"><div class="ttname"><a href="src_2base_2logging_8h.html#af1a711c8d5520dff78858ddefd2ad668">DCHECK_LT</a></div><div class="ttdeci">#define DCHECK_LT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00488">logging.h:488</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_af9c313d74155f7f201955a939e24c71f"><div class="ttname"><a href="src_2base_2logging_8h.html#af9c313d74155f7f201955a939e24c71f">DCHECK_EQ</a></div><div class="ttdeci">#define DCHECK_EQ(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00484">logging.h:484</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_afd957f297df7e9ee36c46185e961485f"><div class="ttname"><a href="src_2base_2logging_8h.html#afd957f297df7e9ee36c46185e961485f">DCHECK_GT</a></div><div class="ttdeci">#define DCHECK_GT(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00486">logging.h:486</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a280b0798f270f4b3f361c9ab64832956"><div class="ttname"><a href="src_2base_2macros_8h.html#a280b0798f270f4b3f361c9ab64832956">USE</a></div><div class="ttdeci">#define USE(...)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00293">macros.h:293</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_a5647046a5349ec401aa3ae0c65a1b755"><div class="ttname"><a href="src_2base_2macros_8h.html#a5647046a5349ec401aa3ae0c65a1b755">V8PRIdPTR</a></div><div class="ttdeci">#define V8PRIdPTR</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00332">macros.h:332</a></div></div>
<div class="ttc" id="asrc_2base_2macros_8h_html_ab7a19c1f785f31f2b190afc19875368a"><div class="ttname"><a href="src_2base_2macros_8h.html#ab7a19c1f785f31f2b190afc19875368a">IsAligned</a></div><div class="ttdeci">constexpr bool IsAligned(T value, U alignment)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2macros_8h_source.html#l00403">macros.h:403</a></div></div>
<div class="ttc" id="asrc_2base_2platform_2platform_8h_html"><div class="ttname"><a href="src_2base_2platform_2platform_8h.html">platform.h</a></div></div>
<div class="ttc" id="asrc_2heap_2heap_8h_html"><div class="ttname"><a href="src_2heap_2heap_8h.html">heap.h</a></div></div>
<div class="ttc" id="asrc_2init_2v8_8h_html"><div class="ttname"><a href="src_2init_2v8_8h.html">v8.h</a></div></div>
<div class="ttc" id="astring-forwarding-table-inl_8h_html"><div class="ttname"><a href="string-forwarding-table-inl_8h.html">string-forwarding-table-inl.h</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Ephemeron_html"><div class="ttname"><a href="structv8_1_1internal_1_1Ephemeron.html">v8::internal::Ephemeron</a></div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00016">weak-object-worklists.h:16</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Ephemeron_html_a00fcd545d3f3107bbca49a18aa168165"><div class="ttname"><a href="structv8_1_1internal_1_1Ephemeron.html#a00fcd545d3f3107bbca49a18aa168165">v8::internal::Ephemeron::key</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; key</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00017">weak-object-worklists.h:17</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1Ephemeron_html_a5edaef71d745c9745bef91064094c55e"><div class="ttname"><a href="structv8_1_1internal_1_1Ephemeron.html#a5edaef71d745c9745bef91064094c55e">v8::internal::Ephemeron::value</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; value</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00018">weak-object-worklists.h:18</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1HeapObjectAndCode_html"><div class="ttname"><a href="structv8_1_1internal_1_1HeapObjectAndCode.html">v8::internal::HeapObjectAndCode</a></div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00037">weak-object-worklists.h:37</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1HeapObjectAndCode_html_ac34945db58656becd333d08665ec88c3"><div class="ttname"><a href="structv8_1_1internal_1_1HeapObjectAndCode.html#ac34945db58656becd333d08665ec88c3">v8::internal::HeapObjectAndCode::code</a></div><div class="ttdeci">Tagged&lt; Code &gt; code</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00039">weak-object-worklists.h:39</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1HeapObjectAndCode_html_adba85b514a3b68e3366b849190098abc"><div class="ttname"><a href="structv8_1_1internal_1_1HeapObjectAndCode.html#adba85b514a3b68e3366b849190098abc">v8::internal::HeapObjectAndCode::heap_object</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; heap_object</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00038">weak-object-worklists.h:38</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo_html"><div class="ttname"><a href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html">v8::internal::MarkCompactCollector::RecordRelocSlotInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00123">mark-compact.h:123</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo_html_a191c30f6abbbab0bafcc131168f42356"><div class="ttname"><a href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#a191c30f6abbbab0bafcc131168f42356">v8::internal::MarkCompactCollector::RecordRelocSlotInfo::slot_type</a></div><div class="ttdeci">SlotType slot_type</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00125">mark-compact.h:125</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo_html_a9415cdb6b2a964d1c4e392bb0e405aad"><div class="ttname"><a href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#a9415cdb6b2a964d1c4e392bb0e405aad">v8::internal::MarkCompactCollector::RecordRelocSlotInfo::page_metadata</a></div><div class="ttdeci">MutablePageMetadata * page_metadata</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00124">mark-compact.h:124</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo_html_ad9a25721552de75cb696048496a92427"><div class="ttname"><a href="structv8_1_1internal_1_1MarkCompactCollector_1_1RecordRelocSlotInfo.html#ad9a25721552de75cb696048496a92427">v8::internal::MarkCompactCollector::RecordRelocSlotInfo::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="mark-compact_8h_source.html#l00126">mark-compact.h:126</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkingHelper_html_a526aa3d8b3fa085271b2f23137766544"><div class="ttname"><a href="structv8_1_1internal_1_1MarkingHelper.html#a526aa3d8b3fa085271b2f23137766544">v8::internal::MarkingHelper::IsMarkedOrAlwaysLive</a></div><div class="ttdeci">static bool IsMarkedOrAlwaysLive(Heap *heap, MarkingStateT *marking_state, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="marking-inl_8h_source.html#l00330">marking-inl.h:330</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkingHelper_html_a73ca663c9ba5d36d0b15ff93b323b267a520ecade39431601ba732cd4f6de66fa"><div class="ttname"><a href="structv8_1_1internal_1_1MarkingHelper.html#a73ca663c9ba5d36d0b15ff93b323b267a520ecade39431601ba732cd4f6de66fa">v8::internal::MarkingHelper::WorklistTarget::kRegular</a></div><div class="ttdeci">@ kRegular</div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkingHelper_html_ab368d545a9f0cdd6db20243117cc8944"><div class="ttname"><a href="structv8_1_1internal_1_1MarkingHelper.html#ab368d545a9f0cdd6db20243117cc8944">v8::internal::MarkingHelper::IsUnmarkedAndNotAlwaysLive</a></div><div class="ttdeci">static bool IsUnmarkedAndNotAlwaysLive(Heap *heap, MarkingStateT *marking_state, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="marking-inl_8h_source.html#l00340">marking-inl.h:340</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1MarkingHelper_html_ac5e90f6e0c7ddb83975856969a4ad03f"><div class="ttname"><a href="structv8_1_1internal_1_1MarkingHelper.html#ac5e90f6e0c7ddb83975856969a4ad03f">v8::internal::MarkingHelper::ShouldMarkObject</a></div><div class="ttdeci">static std::optional&lt; WorklistTarget &gt; ShouldMarkObject(Heap *heap, Tagged&lt; HeapObject &gt; object)</div><div class="ttdef"><b>Definition:</b> <a href="marking-inl_8h_source.html#l00278">marking-inl.h:278</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD_html"><div class="ttname"><a href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html">v8::internal::detail::HeapObjectAndSlotPOD</a></div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00026">weak-object-worklists.h:26</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD_html_a2d12cf0a78bf5dbc18f4366e809b3c9e"><div class="ttname"><a href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a2d12cf0a78bf5dbc18f4366e809b3c9e">v8::internal::detail::HeapObjectAndSlotPOD::heap_object</a></div><div class="ttdeci">Tagged&lt; HeapObject &gt; heap_object</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00028">weak-object-worklists.h:28</a></div></div>
<div class="ttc" id="astructv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD_html_a36e704a24ba1f0964f14b4293d947c5b"><div class="ttname"><a href="structv8_1_1internal_1_1detail_1_1HeapObjectAndSlotPOD.html#a36e704a24ba1f0964f14b4293d947c5b">v8::internal::detail::HeapObjectAndSlotPOD::slot</a></div><div class="ttdeci">SlotType slot</div><div class="ttdef"><b>Definition:</b> <a href="weak-object-worklists_8h_source.html#l00029">weak-object-worklists.h:29</a></div></div>
<div class="ttc" id="asweeper_8h_html"><div class="ttname"><a href="sweeper_8h.html">sweeper.h</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a3feabb76c0ac2918798bc11ab55c6a79"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a3feabb76c0ac2918798bc11ab55c6a79">TRACE_EVENT0</a></div><div class="ttdeci">#define TRACE_EVENT0(category_group, name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00032">trace-event-no-perfetto.h:32</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a58927f99d797f77024561f336303380c"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a58927f99d797f77024561f336303380c">TRACE_EVENT2</a></div><div class="ttdeci">#define TRACE_EVENT2(category_group, name, arg1_name, arg1_val, arg2_name, arg2_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00043">trace-event-no-perfetto.h:43</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a8b5bca924ef796a311bb5ba5c8d7f57d"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a8b5bca924ef796a311bb5ba5c8d7f57d">TRACE_EVENT_SCOPE_THREAD</a></div><div class="ttdeci">#define TRACE_EVENT_SCOPE_THREAD</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00857">trace-event-no-perfetto.h:857</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a97689377430b094caec680dd7dd230fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a97689377430b094caec680dd7dd230fe">TRACE_DISABLED_BY_DEFAULT</a></div><div class="ttdeci">#define TRACE_DISABLED_BY_DEFAULT(name)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00025">trace-event-no-perfetto.h:25</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_a9caa02a30959b26112c2dcc35ed3727e"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#a9caa02a30959b26112c2dcc35ed3727e">TRACE_EVENT_INSTANT2</a></div><div class="ttdeci">#define TRACE_EVENT_INSTANT2(category_group, name, scope, arg1_name, arg1_val, arg2_name, arg2_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00064">trace-event-no-perfetto.h:64</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_ac437f27e15925a9bd53c69692a6c85fe"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#ac437f27e15925a9bd53c69692a6c85fe">TRACE_EVENT1</a></div><div class="ttdeci">#define TRACE_EVENT1(category_group, name, arg1_name, arg1_val)</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00037">trace-event-no-perfetto.h:37</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_af086bb0f8b985835cc9f35cfe856155f"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#af086bb0f8b985835cc9f35cfe856155f">TRACE_EVENT_FLAG_FLOW_OUT</a></div><div class="ttdeci">#define TRACE_EVENT_FLAG_FLOW_OUT</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00830">trace-event-no-perfetto.h:830</a></div></div>
<div class="ttc" id="atrace-event-no-perfetto_8h_html_afd116bac8e67a7eafb2b21a62f0a383f"><div class="ttname"><a href="trace-event-no-perfetto_8h.html#afd116bac8e67a7eafb2b21a62f0a383f">TRACE_EVENT_FLAG_FLOW_IN</a></div><div class="ttdeci">#define TRACE_EVENT_FLAG_FLOW_IN</div><div class="ttdef"><b>Definition:</b> <a href="trace-event-no-perfetto_8h_source.html#l00829">trace-event-no-perfetto.h:829</a></div></div>
<div class="ttc" id="atraced-handles-marking-visitor_8h_html"><div class="ttname"><a href="traced-handles-marking-visitor_8h.html">traced-handles-marking-visitor.h</a></div></div>
<div class="ttc" id="atracing-category-observer_8h_html"><div class="ttname"><a href="tracing-category-observer_8h.html">tracing-category-observer.h</a></div></div>
<div class="ttc" id="atracing-flags_8h_html"><div class="ttname"><a href="tracing-flags_8h.html">tracing-flags.h</a></div></div>
<div class="ttc" id="atracing_2trace-event_8h_html_a3e7918f87c057008134f23473b59c341"><div class="ttname"><a href="tracing_2trace-event_8h.html#a3e7918f87c057008134f23473b59c341">TRACE_STR_COPY</a></div><div class="ttdeci">#define TRACE_STR_COPY(str)</div><div class="ttdef"><b>Definition:</b> <a href="tracing_2trace-event_8h_source.html#l00050">trace-event.h:50</a></div></div>
<div class="ttc" id="atransitions-inl_8h_html"><div class="ttname"><a href="transitions-inl_8h.html">transitions-inl.h</a></div></div>
<div class="ttc" id="autils-inl_8h_html"><div class="ttname"><a href="utils-inl_8h.html">utils-inl.h</a></div></div>
<div class="ttc" id="av8config_8h_html_a24a5c8b6c341efc8dc6de3e6d0d73a50"><div class="ttname"><a href="v8config_8h.html#a24a5c8b6c341efc8dc6de3e6d0d73a50">V8_INLINE</a></div><div class="ttdeci">#define V8_INLINE</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00500">v8config.h:500</a></div></div>
<div class="ttc" id="av8config_8h_html_a4f489f1b838163ab33f251c9e470d938"><div class="ttname"><a href="v8config_8h.html#a4f489f1b838163ab33f251c9e470d938">V8_LIKELY</a></div><div class="ttdeci">#define V8_LIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00661">v8config.h:661</a></div></div>
<div class="ttc" id="av8config_8h_html_a67bd29db07c711b0fb11ff1c324ebb60"><div class="ttname"><a href="v8config_8h.html#a67bd29db07c711b0fb11ff1c324ebb60">V8_UNLIKELY</a></div><div class="ttdeci">#define V8_UNLIKELY(condition)</div><div class="ttdef"><b>Definition:</b> <a href="v8config_8h_source.html#l00660">v8config.h:660</a></div></div>
<div class="ttc" id="avisitors_8h_html"><div class="ttname"><a href="visitors_8h.html">visitors.h</a></div></div>
<div class="ttc" id="avm-state-inl_8h_html"><div class="ttname"><a href="vm-state-inl_8h.html">vm-state-inl.h</a></div></div>
<div class="ttc" id="awasm-code-pointer-table_8h_html"><div class="ttname"><a href="wasm-code-pointer-table_8h.html">wasm-code-pointer-table.h</a></div></div>
<div class="ttc" id="aweak-object-worklists_8h_html"><div class="ttname"><a href="weak-object-worklists_8h.html">weak-object-worklists.h</a></div></div>
<div class="ttc" id="azapping_8h_html"><div class="ttname"><a href="zapping_8h.html">zapping.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_a974448b91dd98c933fb07a236a86d25.html">heap</a></li><li class="navelem"><a class="el" href="mark-compact_8cc.html">mark-compact.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:54 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
