<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>V8 Project: /mnt/V8SourceCode/src/d8/d8-posix.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">V8 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8-posix_8cc_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">d8-posix.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="d8-posix_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2009 the V8 project authors. All rights reserved.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// found in the LICENSE file.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="d8_8h.html">src/d8/d8.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#ifndef V8_OS_ZOS</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;netinet/ip.h&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;signal.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="string_8h.html">string.h</a>&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;sys/select.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;sys/socket.h&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;sys/time.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;sys/wait.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-container_8h.html">include/v8-container.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="v8-template_8h.html">include/v8-template.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacev8.html">v8</a> {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">// If the buffer ends in the middle of a UTF-8 sequence then we return</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// the length of the string up to but not including the incomplete UTF-8</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// sequence.  If the buffer ends with a valid UTF-8 sequence then we</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// return the whole buffer.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="namespacev8.html#a8c74a0cfb63f18bb6fe0ebb06fafe3d7">   33</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8.html#a8c74a0cfb63f18bb6fe0ebb06fafe3d7">LengthWithoutIncompleteUtf8</a>(<span class="keywordtype">char</span>* buffer, <span class="keywordtype">int</span> len) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordtype">int</span> answer = len;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="comment">// 1-byte encoding.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8SingleByteMask = 0x80;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8SingleByteValue = 0x00;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// 2-byte encoding.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8TwoByteMask = 0xE0;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8TwoByteValue = 0xC0;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="comment">// 3-byte encoding.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8ThreeByteMask = 0xF0;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8ThreeByteValue = 0xE0;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">// 4-byte encoding.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8FourByteMask = 0xF8;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kUtf8FourByteValue = 0xF0;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="comment">// Subsequent bytes of a multi-byte encoding.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMultiByteMask = 0xC0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMultiByteValue = 0x80;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordtype">int</span> multi_byte_bytes_seen = 0;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">while</span> (answer &gt; 0) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">int</span> c = buffer[answer - 1];</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// Ends in valid single-byte sequence?</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> ((c &amp; kUtf8SingleByteMask) == kUtf8SingleByteValue) <span class="keywordflow">return</span> answer;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// Ends in one or more subsequent bytes of a multi-byte value?</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> ((c &amp; kMultiByteMask) == kMultiByteValue) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      multi_byte_bytes_seen++;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      answer--;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      <span class="keywordflow">if</span> ((c &amp; kUtf8TwoByteMask) == kUtf8TwoByteValue) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (multi_byte_bytes_seen &gt;= 1) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          <span class="keywordflow">return</span> answer + 2;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">return</span> answer - 1;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((c &amp; kUtf8ThreeByteMask) == kUtf8ThreeByteValue) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> (multi_byte_bytes_seen &gt;= 2) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;          <span class="keywordflow">return</span> answer + 3;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> answer - 1;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((c &amp; kUtf8FourByteMask) == kUtf8FourByteValue) {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span> (multi_byte_bytes_seen &gt;= 3) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;          <span class="keywordflow">return</span> answer + 4;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> answer - 1;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">return</span> answer;  <span class="comment">// Malformed UTF-8.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">// Suspends the thread until there is data available from the child process.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// Returns false on timeout, true on data ready.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="namespacev8.html#a98b15a10a7c2370dfd9d1f6f13ccefec">   85</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a98b15a10a7c2370dfd9d1f6f13ccefec">WaitOnFD</a>(<span class="keywordtype">int</span> fd, <span class="keywordtype">int</span> read_timeout, <span class="keywordtype">int</span> total_timeout,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                     <span class="keyword">const</span> <span class="keyword">struct</span> timeval&amp; start_time) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  fd_set readfds, writefds, exceptfds;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keyword">struct </span>timeval timeout;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">int</span> gone = 0;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (total_timeout != -1) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">struct </span>timeval time_now;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    gettimeofday(&amp;time_now, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    time_t <a class="code" href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">seconds</a> = time_now.tv_sec - start_time.tv_sec;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    gone = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">seconds</a> * 1000 +</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                            (time_now.tv_usec - start_time.tv_usec) / 1000);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (gone &gt;= total_timeout) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  FD_ZERO(&amp;readfds);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  FD_ZERO(&amp;writefds);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  FD_ZERO(&amp;exceptfds);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  FD_SET(fd, &amp;readfds);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  FD_SET(fd, &amp;exceptfds);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (read_timeout == -1 ||</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      (total_timeout != -1 &amp;&amp; total_timeout - gone &lt; read_timeout)) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    read_timeout = total_timeout - gone;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  timeout.tv_usec = (read_timeout % 1000) * 1000;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  timeout.tv_sec = read_timeout / 1000;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordtype">int</span> number_of_fds_ready = select(fd + 1, &amp;readfds, &amp;writefds, &amp;exceptfds,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                   read_timeout != -1 ? &amp;timeout : <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">return</span> number_of_fds_ready == 1;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">// Checks whether we ran out of time on the timeout.  Returns true if we ran out</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// of time, false if we still have time.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="namespacev8.html#a763f29764b1cbe97abe424d3773cefe1">  116</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a763f29764b1cbe97abe424d3773cefe1">TimeIsOut</a>(<span class="keyword">const</span> <span class="keyword">struct</span> timeval&amp; start_time, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; total_time) {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">if</span> (total_time == -1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keyword">struct </span>timeval time_now;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  gettimeofday(&amp;time_now, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">// Careful about overflow.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">seconds</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(time_now.tv_sec - start_time.tv_sec);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">seconds</a> &gt; 100) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">seconds</a> * 1000 &gt; total_time) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">int</span> useconds = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(time_now.tv_usec - start_time.tv_usec);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">seconds</a> * 1000000 + useconds &gt; total_time * 1000) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">// A utility class that does a non-hanging waitpid on the child process if we</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// bail out of the System() function early.  If you don&#39;t ever do a waitpid on</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// a subprocess then it turns into one of those annoying &#39;zombie processes&#39;.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classv8_1_1ZombieProtector.html">  136</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ZombieProtector.html">ZombieProtector</a> {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classv8_1_1ZombieProtector.html#ada6e7c6ad75a7e51dd15d747e30296ec">  138</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1ZombieProtector.html#ada6e7c6ad75a7e51dd15d747e30296ec">ZombieProtector</a>(<span class="keywordtype">int</span> pid) : <a class="code" href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">pid_</a>(pid) {}</div>
<div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classv8_1_1ZombieProtector.html#a2416b75b84d72ffd70ee6135b3b868c6">  139</a></span>&#160;  <a class="code" href="classv8_1_1ZombieProtector.html#a2416b75b84d72ffd70ee6135b3b868c6">~ZombieProtector</a>() {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">pid_</a> != 0) waitpid(<a class="code" href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">pid_</a>, <span class="keyword">nullptr</span>, 0);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classv8_1_1ZombieProtector.html#afd835b383e9b8127209d8dc518637f23">  142</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classv8_1_1ZombieProtector.html#afd835b383e9b8127209d8dc518637f23">ChildIsDeadNow</a>() { <a class="code" href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">pid_</a> = 0; }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">  145</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">pid_</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;};</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// A utility class that closes a file descriptor when it goes out of scope.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classv8_1_1OpenFDCloser.html">  149</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1OpenFDCloser.html">OpenFDCloser</a> {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classv8_1_1OpenFDCloser.html#a06963560af61d526b81e31c4aae610a9">  151</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classv8_1_1OpenFDCloser.html#a06963560af61d526b81e31c4aae610a9">OpenFDCloser</a>(<span class="keywordtype">int</span> fd) : <a class="code" href="classv8_1_1OpenFDCloser.html#a8a0d56d71490cd676f4ae298cd80a108">fd_</a>(fd) {}</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classv8_1_1OpenFDCloser.html#a965f2989fa30b0a2fd228f8e7f7db018">  152</a></span>&#160;  <a class="code" href="classv8_1_1OpenFDCloser.html#a965f2989fa30b0a2fd228f8e7f7db018">~OpenFDCloser</a>() { close(<a class="code" href="classv8_1_1OpenFDCloser.html#a8a0d56d71490cd676f4ae298cd80a108">fd_</a>); }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classv8_1_1OpenFDCloser.html#a8a0d56d71490cd676f4ae298cd80a108">  155</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classv8_1_1OpenFDCloser.html#a8a0d56d71490cd676f4ae298cd80a108">fd_</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;};</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">// A utility class that takes the array of command arguments and puts then in an</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">// array of new[]ed UTF-8 C strings.  Deallocates them again when it goes out of</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">// scope.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html">  161</a></span>&#160;<span class="keyword">class </span><a class="code" href="classv8_1_1ExecArgs.html">ExecArgs</a> {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#ab34495c1283efdafd9bd67724cf09bdc">  163</a></span>&#160;  <a class="code" href="classv8_1_1ExecArgs.html#ab34495c1283efdafd9bd67724cf09bdc">ExecArgs</a>() { <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[0] = <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#a0a3d2c5c83746343e23c35d0ac3c4b45">  164</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classv8_1_1ExecArgs.html#a0a3d2c5c83746343e23c35d0ac3c4b45">Init</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="classv8_1_1ExecArgs.html#aff22a0c950390341ef18b71902336db2">arg0</a>, <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> command_args) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> prog(isolate, <a class="code" href="classv8_1_1ExecArgs.html#aff22a0c950390341ef18b71902336db2">arg0</a>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (*prog == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          <span class="stringliteral">&quot;os.system(): String conversion of program name failed&quot;</span>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordtype">size_t</span> len = prog.<a class="code" href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">length</a>() + 3;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keywordtype">char</span>* c_arg = <span class="keyword">new</span> <span class="keywordtype">char</span>[len];</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      snprintf(c_arg, len, <span class="stringliteral">&quot;%s&quot;</span>, *prog);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[0] = c_arg;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 1;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; command_args-&gt;Length(); <a class="code" href="namespacev8_1_1internal.html">i</a>++, j++) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> arg(</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;          command_args</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;              -&gt;<a class="code" href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">Get</a>(isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>(), <a class="code" href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">Integer::New</a>(isolate, j))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;              .ToLocalChecked());</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> utf8_arg(isolate, arg);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">if</span> (*utf8_arg == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;  <span class="comment">// Consistent state for destructor.</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="stringliteral">&quot;os.system(): String conversion of argument failed.&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="keywordtype">size_t</span> len = utf8_arg.<a class="code" href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">length</a>() + 1;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordtype">char</span>* c_arg = <span class="keyword">new</span> <span class="keywordtype">char</span>[len];</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      snprintf(c_arg, len, <span class="stringliteral">&quot;%s&quot;</span>, *utf8_arg);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = c_arg;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#a8f5442ff3e3984321316ee919eeedb18">  198</a></span>&#160;  <a class="code" href="classv8_1_1ExecArgs.html#a8f5442ff3e3984321316ee919eeedb18">~ExecArgs</a>() {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacev8_1_1internal.html">i</a> = 0; <a class="code" href="namespacev8_1_1internal.html">i</a> &lt; <a class="code" href="classv8_1_1ExecArgs.html#acef444e061c4104eb8810fd0d5ae366d">kMaxArgs</a>; <a class="code" href="namespacev8_1_1internal.html">i</a>++) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="namespacev8_1_1internal.html">i</a>] == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keyword">delete</span>[] <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>];</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">i</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#acef444e061c4104eb8810fd0d5ae366d">  207</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="classv8_1_1ExecArgs.html#acef444e061c4104eb8810fd0d5ae366d">kMaxArgs</a> = 1000;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#ad4a799c6383f69d9e7a57994f531f551">  208</a></span>&#160;  <span class="keywordtype">char</span>* <span class="keyword">const</span>* <a class="code" href="classv8_1_1ExecArgs.html#ad4a799c6383f69d9e7a57994f531f551">arg_array</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>; }</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#aff22a0c950390341ef18b71902336db2">  209</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1ExecArgs.html#aff22a0c950390341ef18b71902336db2">arg0</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[0]; }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">  212</a></span>&#160;  <span class="keywordtype">char</span>* <a class="code" href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">exec_args_</a>[<a class="code" href="classv8_1_1ExecArgs.html#acef444e061c4104eb8810fd0d5ae366d">kMaxArgs</a> + 1];</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;};</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">// Gets the optional timeouts from the arguments to the system() call.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="namespacev8.html#aa970767b68f5bd401d66fc9278a5bd14">  216</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#aa970767b68f5bd401d66fc9278a5bd14">GetTimeouts</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="keywordtype">int</span>* read_timeout, <span class="keywordtype">int</span>* total_timeout) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt; 3) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (info[3]-&gt;<a class="code" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>()) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      *total_timeout = info[3]</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                           -&gt;Int32Value(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>())</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                           .FromJust();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;system: Argument 4 must be a number&quot;</span>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    }</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt; 2) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (info[2]-&gt;<a class="code" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>()) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      *read_timeout = info[2]</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                          -&gt;Int32Value(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>())</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                          .FromJust();</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;system: Argument 3 must be a number&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html">  241</a></span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">  242</a></span>&#160;<a class="code" href="classv8_1_1Local.html">v8::Local&lt;v8::String&gt;</a> <a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(<a class="code" href="classv8_1_1Isolate.html">v8::Isolate</a>* isolate, <span class="keywordtype">int</span> err) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a>(isolate, strerror(err)).ToLocalChecked();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}  <span class="comment">// namespace</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">  247</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a> = 0;</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">  248</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a> = 1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">// This is run in the child process after fork() but before exec().  It normally</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// ends with the child process being replaced with the desired child program.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">// It only returns if an error occurred.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="namespacev8.html#a81cf547f99338796be922e97d245e658">  253</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacev8.html#a81cf547f99338796be922e97d245e658">ExecSubprocess</a>(<span class="keywordtype">int</span>* exec_error_fds, <span class="keywordtype">int</span>* stdout_fds,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classv8_1_1ExecArgs.html">ExecArgs</a>&amp; exec_args) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  close(exec_error_fds[<a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a>]);  <span class="comment">// Don&#39;t need this in the child.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  close(stdout_fds[<a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a>]);      <span class="comment">// Don&#39;t need this in the child.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  close(1);                        <span class="comment">// Close stdout.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  dup2(stdout_fds[<a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a>], 1);   <span class="comment">// Dup pipe fd to stdout.</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  close(stdout_fds[<a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a>]);     <span class="comment">// Don&#39;t need the original fd now.</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  fcntl(exec_error_fds[<a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a>], F_SETFD, FD_CLOEXEC);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  execvp(exec_args.<a class="code" href="classv8_1_1ExecArgs.html#aff22a0c950390341ef18b71902336db2">arg0</a>(), exec_args.<a class="code" href="classv8_1_1ExecArgs.html#ad4a799c6383f69d9e7a57994f531f551">arg_array</a>());</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// Only get here if the exec failed.  Write errno to the parent to tell</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">// them it went wrong.  If it went well the pipe is closed.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="keywordtype">int</span> err = errno;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  ssize_t bytes_written;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    bytes_written = write(exec_error_fds[<a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a>], &amp;err, <span class="keyword">sizeof</span>(err));</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  } <span class="keywordflow">while</span> (bytes_written == -1 &amp;&amp; errno == EINTR);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// Return (and exit child process).</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// Runs in the parent process.  Checks that the child was able to exec (closing</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">// the file desriptor), or reports an error if it failed.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="namespacev8.html#ab4b0147c051552c3fa6bfd610b4b93ea">  274</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#ab4b0147c051552c3fa6bfd610b4b93ea">ChildLaunchedOK</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span>* exec_error_fds) {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  ssize_t bytes_read;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    bytes_read = read(exec_error_fds[<a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a>], &amp;err, <span class="keyword">sizeof</span>(err));</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  } <span class="keywordflow">while</span> (bytes_read == -1 &amp;&amp; errno == EINTR);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">if</span> (bytes_read != 0) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, err));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">// Accumulates the output from the child in a string handle.  Returns true if it</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">// succeeded or false if an exception was thrown.</span></div>
<div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="namespacev8.html#a12ce53dea96a79624b4e499916c7cfd7">  289</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> <a class="code" href="namespacev8.html#a12ce53dea96a79624b4e499916c7cfd7">GetStdout</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span> child_fd,</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                              <span class="keyword">const</span> <span class="keyword">struct</span> timeval&amp; start_time,</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                              <span class="keywordtype">int</span> read_timeout, <span class="keywordtype">int</span> total_timeout) {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> accumulator = <a class="code" href="classv8_1_1String.html#aa393d47baa54467fe57001065e49194b">String::Empty</a>(isolate);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">int</span> fullness = 0;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kStdoutReadBufferSize = 4096;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordtype">char</span> buffer[kStdoutReadBufferSize];</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (fcntl(child_fd, F_SETFL, O_NONBLOCK) != 0) {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, errno));</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordtype">int</span> bytes_read;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    bytes_read = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        read(child_fd, buffer + fullness, kStdoutReadBufferSize - fullness));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (bytes_read == -1) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">if</span> (errno == EAGAIN) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacev8.html#a98b15a10a7c2370dfd9d1f6f13ccefec">WaitOnFD</a>(child_fd, read_timeout, total_timeout, start_time) ||</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            (<a class="code" href="namespacev8.html#a763f29764b1cbe97abe424d3773cefe1">TimeIsOut</a>(start_time, total_timeout))) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          <span class="keywordflow">return</span> isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Timed out waiting for output&quot;</span>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errno == EINTR) {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">if</span> (bytes_read + fullness &gt; 0) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a> = bytes_read == 0 ? bytes_read + fullness</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                                   : <a class="code" href="namespacev8.html#a8c74a0cfb63f18bb6fe0ebb06fafe3d7">LengthWithoutIncompleteUtf8</a>(</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                         buffer, bytes_read + fullness);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <a class="code" href="classv8_1_1Local.html">Local&lt;String&gt;</a> addition =</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <a class="code" href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">String::NewFromUtf8</a>(isolate, buffer, <a class="code" href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">NewStringType::kNormal</a>, <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;              .ToLocalChecked();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      accumulator = <a class="code" href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">String::Concat</a>(isolate, accumulator, addition);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      fullness = bytes_read + fullness - <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      memcpy(buffer, buffer + <a class="code" href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">length</a>, fullness);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  } <span class="keywordflow">while</span> (bytes_read != 0);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> accumulator;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">// Modern Linux has the waitid call, which is like waitpid, but more useful</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">// if you want a timeout.  If we don&#39;t have waitid we can&#39;t limit the time</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">// waiting for the process to exit without losing the information about</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">// whether it exited normally.  In the common case this doesn&#39;t matter because</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">// we don&#39;t get here before the child has closed stdout and most programs don&#39;t</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">// do that before they exit.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">// We&#39;re disabling usage of waitid in Mac OS X because it doesn&#39;t work for us:</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">// a parent process hangs on waiting while a child process is already a zombie.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">// See http://code.google.com/p/v8/issues/detail?id=401.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor">#if defined(WNOWAIT) &amp;&amp; !defined(ANDROID) &amp;&amp; !defined(__APPLE__) &amp;&amp; \</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="preprocessor">    !defined(__NetBSD__) &amp;&amp; !defined(__Fuchsia__)</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">#if !defined(__FreeBSD__)</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#define HAS_WAITID 1</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">// Get exit status of child.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="namespacev8.html#a44ce27a6b18ca4e2d55e0de955daf44f">  352</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a44ce27a6b18ca4e2d55e0de955daf44f">WaitForChild</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">int</span> pid,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                         <a class="code" href="classv8_1_1ZombieProtector.html">ZombieProtector</a>&amp; child_waiter,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                         <span class="keyword">const</span> <span class="keyword">struct</span> timeval&amp; start_time, <span class="keywordtype">int</span> read_timeout,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                         <span class="keywordtype">int</span> total_timeout) {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="preprocessor">#ifdef HAS_WAITID</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  siginfo_t child_info;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  child_info.si_pid = 0;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordtype">int</span> useconds = 1;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="comment">// Wait for child to exit.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">while</span> (child_info.si_pid == 0) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    waitid(P_PID, pid, &amp;child_info, WEXITED | WNOHANG | WNOWAIT);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    usleep(useconds);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (useconds &lt; 1000000) useconds &lt;&lt;= 1;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> ((read_timeout != -1 &amp;&amp; useconds / 1000 &gt; read_timeout) ||</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        (<a class="code" href="namespacev8.html#a763f29764b1cbe97abe424d3773cefe1">TimeIsOut</a>(start_time, total_timeout))) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Timed out waiting for process to terminate&quot;</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      kill(pid, SIGINT);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (child_info.si_code == CLD_KILLED) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">char</span> message[999];</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    snprintf(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;Child killed by signal %d&quot;</span>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;             child_info.si_status);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(message);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">if</span> (child_info.si_code == CLD_EXITED &amp;&amp; child_info.si_status != 0) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordtype">char</span> message[999];</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    snprintf(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;Child exited with status %d&quot;</span>,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;             child_info.si_status);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(message);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160; </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="preprocessor">#else  </span><span class="comment">// No waitid call.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordtype">int</span> child_status;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  waitpid(pid, &amp;child_status, 0);  <span class="comment">// We hang here if the child doesn&#39;t exit.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  child_waiter.<a class="code" href="classv8_1_1ZombieProtector.html#afd835b383e9b8127209d8dc518637f23">ChildIsDeadNow</a>();</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">if</span> (WIFSIGNALED(child_status)) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="keywordtype">char</span> message[999];</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    snprintf(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;Child killed by signal %d&quot;</span>,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;             WTERMSIG(child_status));</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(message);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">if</span> (WEXITSTATUS(child_status) != 0) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordtype">char</span> message[999];</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordtype">int</span> exit_status = WEXITSTATUS(child_status);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    snprintf(message, <span class="keyword">sizeof</span>(message), <span class="stringliteral">&quot;Child exited with status %d&quot;</span>,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;             exit_status);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(message);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// No waitid call.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="preprocessor">#undef HAS_WAITID</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">// Implementation of the system() function (see d8.h for details).</span></div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a531aa5de706325869a5df270c8f1294f">  417</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a531aa5de706325869a5df270c8f1294f">Shell::System</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="classv8_1_1HandleScope.html">HandleScope</a> scope(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>());</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordtype">int</span> read_timeout = -1;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordtype">int</span> total_timeout = -1;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8.html#aa970767b68f5bd401d66fc9278a5bd14">GetTimeouts</a>(info, &amp;read_timeout, &amp;total_timeout)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Array&gt;</a> command_args;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &gt; 1) {</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">if</span> (!info[1]-&gt;IsArray()) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;system: Argument 2 must be an array&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    command_args = info[1].As&lt;<a class="code" href="classv8_1_1Array.html">Array</a>&gt;();</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    command_args = <a class="code" href="classv8_1_1Array.html#a369cbd533bf7aa08d9ce1e2ddb4e6536">Array::New</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), 0);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">if</span> (command_args-&gt;Length() &gt; <a class="code" href="classv8_1_1ExecArgs.html#acef444e061c4104eb8810fd0d5ae366d">ExecArgs::kMaxArgs</a>) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Too many arguments to system()&quot;</span>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() &lt; 1) {</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;Too few arguments to system()&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">struct </span>timeval start_time;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  gettimeofday(&amp;start_time, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classv8_1_1ExecArgs.html">ExecArgs</a> exec_args;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">if</span> (!exec_args.<a class="code" href="classv8_1_1ExecArgs.html#a0a3d2c5c83746343e23c35d0ac3c4b45">Init</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0], command_args)) {</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="keywordtype">int</span> exec_error_fds[2];</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordtype">int</span> stdout_fds[2];</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span> (pipe(exec_error_fds) != 0) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;pipe syscall failed.&quot;</span>);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">if</span> (pipe(stdout_fds) != 0) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;pipe syscall failed.&quot;</span>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  pid_t pid = fork();</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span> (pid == 0) {  <span class="comment">// Child process.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="namespacev8.html#a81cf547f99338796be922e97d245e658">ExecSubprocess</a>(exec_error_fds, stdout_fds, exec_args);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    exit(1);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Parent process.  Ensure that we clean up if we exit this function early.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classv8_1_1ZombieProtector.html">ZombieProtector</a> child_waiter(pid);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  close(exec_error_fds[<a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a>]);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  close(stdout_fds[<a class="code" href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">kWriteFD</a>]);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <a class="code" href="classv8_1_1OpenFDCloser.html">OpenFDCloser</a> error_read_closer(exec_error_fds[<a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a>]);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <a class="code" href="classv8_1_1OpenFDCloser.html">OpenFDCloser</a> stdout_read_closer(stdout_fds[<a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a>]);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate = info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8.html#ab4b0147c051552c3fa6bfd610b4b93ea">ChildLaunchedOK</a>(isolate, exec_error_fds)) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="classv8_1_1Local.html">Local&lt;Value&gt;</a> accumulator = <a class="code" href="namespacev8.html#a12ce53dea96a79624b4e499916c7cfd7">GetStdout</a>(isolate, stdout_fds[<a class="code" href="namespacev8.html#ac69324671a3529d2d19a49705635a498">kReadFD</a>], start_time,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                       read_timeout, total_timeout);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keywordflow">if</span> (accumulator-&gt;IsUndefined()) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    kill(pid, SIGINT);  <span class="comment">// On timeout, kill the subprocess.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(accumulator);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacev8.html#a44ce27a6b18ca4e2d55e0de955daf44f">WaitForChild</a>(isolate, pid, child_waiter, start_time, read_timeout,</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                    total_timeout)) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(accumulator);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;}</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ad2e488dcc1374fae51ddda62d68ccf75">  493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ad2e488dcc1374fae51ddda62d68ccf75">Shell::ChangeDirectory</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;chdir() takes one argument&quot;</span>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> directory(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">if</span> (*directory == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="stringliteral">&quot;os.chdir(): String conversion of argument failed.&quot;</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (chdir(*directory) != 0) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), errno));</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#aaf3f3dc190301950741d329df457f3b1">  511</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#aaf3f3dc190301950741d329df457f3b1">Shell::SetUMask</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;umask() takes one argument&quot;</span>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  <span class="keywordflow">if</span> (info[0]-&gt;<a class="code" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>()) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordtype">int</span> previous = umask(</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        info[0]-&gt;Int32Value(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>()).FromJust());</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">GetReturnValue</a>().Set(previous);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;umask() argument must be numeric&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;}</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="namespacev8.html#a32d38e01a538ca466901e21e5e4dfdce">  528</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a32d38e01a538ca466901e21e5e4dfdce">CheckItsADirectory</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">char</span>* directory) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keyword">struct </span>stat stat_buf;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordtype">int</span> stat_result = stat(directory, &amp;stat_buf);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (stat_result != 0) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, errno));</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">if</span> ((stat_buf.st_mode &amp; S_IFDIR) != 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, EEXIST));</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">// Returns true for success.  Creates intermediate directories as needed.  No</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">// error if the directory exists already.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="namespacev8.html#a4625fca772049d58458e124e1a4d7a7c">  542</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacev8.html#a4625fca772049d58458e124e1a4d7a7c">mkdirp</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <span class="keywordtype">char</span>* directory, mode_t mask) {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = mkdir(directory, mask);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">if</span> (errno == EEXIST) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a32d38e01a538ca466901e21e5e4dfdce">CheckItsADirectory</a>(isolate, directory);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (errno == ENOENT) {  <span class="comment">// Intermediate path element is missing.</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="keywordtype">char</span>* last_slash = strrchr(directory, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">if</span> (last_slash == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, errno));</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    *last_slash = 0;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacev8.html#a4625fca772049d58458e124e1a4d7a7c">mkdirp</a>(isolate, directory, mask)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    *last_slash = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> = mkdir(directory, mask);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">result</a> == 0) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (errno == EEXIST) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacev8.html#a32d38e01a538ca466901e21e5e4dfdce">CheckItsADirectory</a>(isolate, directory);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, errno));</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    isolate-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<a class="code" href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8_strerror</a>(isolate, errno));</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a55e625ec2d3c123d6d095df6fe3b0df8">  569</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a55e625ec2d3c123d6d095df6fe3b0df8">Shell::MakeDirectory</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  mode_t mask = 0777;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() == 2) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (info[1]-&gt;<a class="code" href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">IsNumber</a>()) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      mask = info[1]</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                 -&gt;Int32Value(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">GetCurrentContext</a>())</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                 .FromJust();</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;mkdirp() second argument must be numeric&quot;</span>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;mkdirp() takes one or two arguments&quot;</span>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> directory(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (*directory == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="stringliteral">&quot;os.mkdirp(): String conversion of argument failed.&quot;</span>);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="namespacev8.html#a4625fca772049d58458e124e1a4d7a7c">mkdirp</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), *directory, mask);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ac04ae0e1bcad7764c9a3ecd7155ef376">  594</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#ac04ae0e1bcad7764c9a3ecd7155ef376">Shell::RemoveDirectory</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;rmdir() takes one arguments&quot;</span>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> directory(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">if</span> (*directory == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="stringliteral">&quot;os.rmdir(): String conversion of argument failed.&quot;</span>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  rmdir(*directory);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;}</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160; </div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a9bc2d220471e32c604aa899e1dfc08df">  609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a9bc2d220471e32c604aa899e1dfc08df">Shell::SetEnvironment</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 2) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;setenv() takes two arguments&quot;</span>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> var(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> <a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[1]);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (*var == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="stringliteral">&quot;os.setenv(): String conversion of variable name failed.&quot;</span>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  }</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <span class="keywordflow">if</span> (*<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a> == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="stringliteral">&quot;os.setenv(): String conversion of variable contents failed.&quot;</span>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  setenv(*var, *<a class="code" href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">value</a>, 1);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a84ede100cebbccbb981ba15f01cb154b">  630</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a84ede100cebbccbb981ba15f01cb154b">Shell::UnsetEnvironment</a>(<span class="keyword">const</span> <a class="code" href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo&lt;v8::Value&gt;</a>&amp; info) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a>(<a class="code" href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">i::ValidateCallbackInfo</a>(info));</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span> (info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">Length</a>() != 1) {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(<span class="stringliteral">&quot;unsetenv() takes one argument&quot;</span>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="classv8_1_1String_1_1Utf8Value.html">String::Utf8Value</a> var(info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>(), info[0]);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">if</span> (*var == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    info.<a class="code" href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">GetIsolate</a>()-&gt;<a class="code" href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">ThrowError</a>(</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="stringliteral">&quot;os.setenv(): String conversion of variable name failed.&quot;</span>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  unsetenv(*var);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#ac0c979ef9a81aa48cdc313b61eaa5fdc">  645</a></span>&#160;<span class="keywordtype">char</span>* <a class="code" href="classv8_1_1Shell.html#ac0c979ef9a81aa48cdc313b61eaa5fdc">Shell::ReadCharsFromTcpPort</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <span class="keywordtype">int</span>* size_out) {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <a class="code" href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a>(<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port, 0);</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160; </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordtype">int</span> sockfd = socket(PF_INET, SOCK_STREAM, 0);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <span class="keywordflow">if</span> (sockfd &lt; 0) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Failed to create IPv4 socket\n&quot;</span>);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  }</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="comment">// Create an address for localhost:PORT where PORT is specified by the shell</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="comment">// option --read-from-tcp-port.</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  sockaddr_in serv_addr;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  memset(&amp;serv_addr, 0, <span class="keyword">sizeof</span>(sockaddr_in));</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  serv_addr.sin_family = AF_INET;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  serv_addr.sin_addr.s_addr = htonl(INADDR_LOOPBACK);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  serv_addr.sin_port = htons(<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordflow">if</span> (connect(sockfd, <span class="keyword">reinterpret_cast&lt;</span>sockaddr*<span class="keyword">&gt;</span>(&amp;serv_addr),</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;              <span class="keyword">sizeof</span>(serv_addr)) &lt; 0) {</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Failed to connect to localhost:%d\n&quot;</span>,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;            <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port.get());</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    close(sockfd);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="comment">// The file server follows the simple protocol for requesting and receiving</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="comment">// a file with a given filename:</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="comment">//   REQUEST client -&gt; server: {filename}&quot;\0&quot;</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="comment">//   RESPONSE server -&gt; client: {4-byte file-length}{file contents}</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="comment">// i.e. the request sends the filename with a null terminator, and response</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="comment">// sends the file contents by sending the length (as a 4-byte big-endian</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="comment">// value) and the contents.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160; </div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="comment">// If the file length is &lt;0, there was an error sending the file, and the</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="comment">// rest of the response is undefined (and may, in the future, contain an error</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <span class="comment">// message). The socket should be closed to avoid trying to interpret the</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// undefined data.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// REQUEST</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// Send the filename.</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordtype">size_t</span> sent_len = 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordtype">size_t</span> name_len = strlen(<a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>) + 1;  <span class="comment">// Includes the null terminator</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">while</span> (sent_len &lt; name_len) {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    ssize_t sent_now = send(sockfd, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a> + sent_len, name_len - sent_len, 0);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> (sent_now &lt; 0) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;Failed to send %s to localhost:%d\n&quot;</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;              <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port.get());</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      close(sockfd);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    sent_len += sent_now;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160; </div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="comment">// RESPONSE</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Receive the file.</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  ssize_t received = 0;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="comment">// First, read the (zero-terminated) file length.</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  uint32_t big_endian_file_length;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  received = recv(sockfd, &amp;big_endian_file_length, 4, 0);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// We need those 4 bytes to read off the file length.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">if</span> (received &lt; 4) {</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Failed to receive %s&#39;s length from localhost:%d\n&quot;</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port.get());</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    close(sockfd);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// Reinterpretet the received file length as a signed big-endian integer.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">int32_t</a> file_length = base::bit_cast&lt;int32_t&gt;(htonl(big_endian_file_length));</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160; </div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">if</span> (file_length &lt; 0) {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;Received length %d for %s from localhost:%d\n&quot;</span>,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            file_length, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>, <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port.get());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    close(sockfd);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">// Allocate the output array.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordtype">char</span>* chars = <span class="keyword">new</span> <span class="keywordtype">char</span>[file_length];</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160; </div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="comment">// Now keep receiving and copying until the whole file is received.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  ssize_t total_received = 0;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordflow">while</span> (total_received &lt; file_length) {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    received =</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        recv(sockfd, chars + total_received, file_length - total_received, 0);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">if</span> (received &lt; 0) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;Failed to receive %s from localhost:%d\n&quot;</span>, <a class="code" href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a>,</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;              <a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">Shell::options</a>.read_from_tcp_port.get());</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      close(sockfd);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="keyword">delete</span>[] chars;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    total_received += received;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  close(sockfd);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  *size_out = file_length;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordflow">return</span> chars;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;}</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="classv8_1_1Shell.html#a0c3ed68c0e468e6af07123281259de4c">  747</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classv8_1_1Shell.html#a0c3ed68c0e468e6af07123281259de4c">Shell::AddOSMethods</a>(<a class="code" href="classv8_1_1Isolate.html">Isolate</a>* isolate, <a class="code" href="classv8_1_1Local.html">Local&lt;ObjectTemplate&gt;</a> os_templ) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">options</a>.<a class="code" href="classv8_1_1ShellOptions.html#a72229c74a337a982db5fe994cafad117">enable_os_system</a>) {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;system&quot;</span>, <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a531aa5de706325869a5df270c8f1294f">System</a>));</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;chdir&quot;</span>,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#ad2e488dcc1374fae51ddda62d68ccf75">ChangeDirectory</a>));</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;setenv&quot;</span>,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a9bc2d220471e32c604aa899e1dfc08df">SetEnvironment</a>));</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;unsetenv&quot;</span>,</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a84ede100cebbccbb981ba15f01cb154b">UnsetEnvironment</a>));</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;umask&quot;</span>, <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#aaf3f3dc190301950741d329df457f3b1">SetUMask</a>));</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;mkdirp&quot;</span>,</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#a55e625ec2d3c123d6d095df6fe3b0df8">MakeDirectory</a>));</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  os_templ-&gt;Set(isolate, <span class="stringliteral">&quot;rmdir&quot;</span>,</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <a class="code" href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">FunctionTemplate::New</a>(isolate, <a class="code" href="classv8_1_1Shell.html#ac04ae0e1bcad7764c9a3ecd7155ef376">RemoveDirectory</a>));</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;}</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160; </div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;}  <span class="comment">// namespace v8</span></div>
<div class="ttc" id="aclassv8_1_1Array_html"><div class="ttname"><a href="classv8_1_1Array.html">v8::Array</a></div><div class="ttdoc">An instance of the built-in array constructor (ECMA-262, 15.4.2).</div><div class="ttdef"><b>Definition:</b> <a href="v8-container_8h_source.html#l00025">v8-container.h:25</a></div></div>
<div class="ttc" id="aclassv8_1_1Array_html_a369cbd533bf7aa08d9ce1e2ddb4e6536"><div class="ttname"><a href="classv8_1_1Array.html#a369cbd533bf7aa08d9ce1e2ddb4e6536">v8::Array::New</a></div><div class="ttdeci">static Local&lt; Array &gt; New(Isolate *isolate, int length=0)</div><div class="ttdoc">Creates a JavaScript array with the given length.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l08091">api.cc:8091</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html"><div class="ttname"><a href="classv8_1_1ExecArgs.html">v8::ExecArgs</a></div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00161">d8-posix.cc:161</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_a0a3d2c5c83746343e23c35d0ac3c4b45"><div class="ttname"><a href="classv8_1_1ExecArgs.html#a0a3d2c5c83746343e23c35d0ac3c4b45">v8::ExecArgs::Init</a></div><div class="ttdeci">bool Init(Isolate *isolate, Local&lt; Value &gt; arg0, Local&lt; Array &gt; command_args)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00164">d8-posix.cc:164</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_a64242faf5bf6c1dea7d91a09f6884dd2"><div class="ttname"><a href="classv8_1_1ExecArgs.html#a64242faf5bf6c1dea7d91a09f6884dd2">v8::ExecArgs::exec_args_</a></div><div class="ttdeci">char * exec_args_[kMaxArgs+1]</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00212">d8-posix.cc:212</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_a8f5442ff3e3984321316ee919eeedb18"><div class="ttname"><a href="classv8_1_1ExecArgs.html#a8f5442ff3e3984321316ee919eeedb18">v8::ExecArgs::~ExecArgs</a></div><div class="ttdeci">~ExecArgs()</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00198">d8-posix.cc:198</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_ab34495c1283efdafd9bd67724cf09bdc"><div class="ttname"><a href="classv8_1_1ExecArgs.html#ab34495c1283efdafd9bd67724cf09bdc">v8::ExecArgs::ExecArgs</a></div><div class="ttdeci">ExecArgs()</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00163">d8-posix.cc:163</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_acef444e061c4104eb8810fd0d5ae366d"><div class="ttname"><a href="classv8_1_1ExecArgs.html#acef444e061c4104eb8810fd0d5ae366d">v8::ExecArgs::kMaxArgs</a></div><div class="ttdeci">static const unsigned kMaxArgs</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00207">d8-posix.cc:207</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_ad4a799c6383f69d9e7a57994f531f551"><div class="ttname"><a href="classv8_1_1ExecArgs.html#ad4a799c6383f69d9e7a57994f531f551">v8::ExecArgs::arg_array</a></div><div class="ttdeci">char *const  * arg_array() const</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00208">d8-posix.cc:208</a></div></div>
<div class="ttc" id="aclassv8_1_1ExecArgs_html_aff22a0c950390341ef18b71902336db2"><div class="ttname"><a href="classv8_1_1ExecArgs.html#aff22a0c950390341ef18b71902336db2">v8::ExecArgs::arg0</a></div><div class="ttdeci">const char * arg0() const</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00209">d8-posix.cc:209</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html">v8::FunctionCallbackInfo</a></div><div class="ttdoc">The argument information given to function call callbacks.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00118">v8-function-callback.h:118</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a2cb41afe1e098a46d27d901b4cc1e6f5"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a2cb41afe1e098a46d27d901b4cc1e6f5">v8::FunctionCallbackInfo::GetReturnValue</a></div><div class="ttdeci">ReturnValue&lt; T &gt; GetReturnValue() const</div><div class="ttdoc">The ReturnValue for the call.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00650">v8-function-callback.h:650</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_a7eee713a6f95d5707ce788861754682f"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#a7eee713a6f95d5707ce788861754682f">v8::FunctionCallbackInfo::GetIsolate</a></div><div class="ttdeci">Isolate * GetIsolate() const</div><div class="ttdoc">The current Isolate.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00645">v8-function-callback.h:645</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionCallbackInfo_html_af97dd3f1cb01ed039f9479152ad63a84"><div class="ttname"><a href="classv8_1_1FunctionCallbackInfo.html#af97dd3f1cb01ed039f9479152ad63a84">v8::FunctionCallbackInfo::Length</a></div><div class="ttdeci">int Length() const</div><div class="ttdoc">The number of available arguments.</div><div class="ttdef"><b>Definition:</b> <a href="v8-function-callback_8h_source.html#l00660">v8-function-callback.h:660</a></div></div>
<div class="ttc" id="aclassv8_1_1FunctionTemplate_html_a41c3051fd8bba064a0de7f2d16488d99"><div class="ttname"><a href="classv8_1_1FunctionTemplate.html#a41c3051fd8bba064a0de7f2d16488d99">v8::FunctionTemplate::New</a></div><div class="ttdeci">static Local&lt; FunctionTemplate &gt; New(Isolate *isolate, FunctionCallback callback=nullptr, Local&lt; Value &gt; data=Local&lt; Value &gt;(), Local&lt; Signature &gt; signature=Local&lt; Signature &gt;(), int length=0, ConstructorBehavior behavior=ConstructorBehavior::kAllow, SideEffectType side_effect_type=SideEffectType::kHasSideEffect, const CFunction *c_function=nullptr, uint16_t instance_type=0, uint16_t allowed_receiver_instance_type_range_start=0, uint16_t allowed_receiver_instance_type_range_end=0)</div><div class="ttdoc">Creates a function template.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l01114">api.cc:1114</a></div></div>
<div class="ttc" id="aclassv8_1_1HandleScope_html"><div class="ttname"><a href="classv8_1_1HandleScope.html">v8::HandleScope</a></div><div class="ttdoc">A stack-allocated class that governs a number of local handles.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00119">v8-local-handle.h:119</a></div></div>
<div class="ttc" id="aclassv8_1_1Integer_html_acd94a64ebeb75a97c42a20c15738fca4"><div class="ttname"><a href="classv8_1_1Integer.html#acd94a64ebeb75a97c42a20c15738fca4">v8::Integer::New</a></div><div class="ttdeci">static Local&lt; Integer &gt; New(Isolate *isolate, int32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09543">api.cc:9543</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html"><div class="ttname"><a href="classv8_1_1Isolate.html">v8::Isolate</a></div><div class="ttdoc">Isolate represents an isolated instance of the V8 engine.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l00285">v8-isolate.h:285</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_a630166a6a770ece436ebcea8f27e8da8"><div class="ttname"><a href="classv8_1_1Isolate.html#a630166a6a770ece436ebcea8f27e8da8">v8::Isolate::ThrowError</a></div><div class="ttdeci">Local&lt; Value &gt; ThrowError(const char(&amp;message)[N])</div><div class="ttdoc">Schedules a v8::Exception::Error with the given message.</div><div class="ttdef"><b>Definition:</b> <a href="v8-isolate_8h_source.html#l01122">v8-isolate.h:1122</a></div></div>
<div class="ttc" id="aclassv8_1_1Isolate_html_af68803b1b9fb0bf76107f56a7a762fac"><div class="ttname"><a href="classv8_1_1Isolate.html#af68803b1b9fb0bf76107f56a7a762fac">v8::Isolate::GetCurrentContext</a></div><div class="ttdeci">Local&lt; Context &gt; GetCurrentContext()</div><div class="ttdoc">Returns the context of the currently running JavaScript, or the context on the top of the stack if no...</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l09728">api.cc:9728</a></div></div>
<div class="ttc" id="aclassv8_1_1Local_html"><div class="ttname"><a href="classv8_1_1Local.html">v8::Local</a></div><div class="ttdoc">An object reference managed by the v8 garbage collector.</div><div class="ttdef"><b>Definition:</b> <a href="v8-local-handle_8h_source.html#l00291">v8-local-handle.h:297</a></div></div>
<div class="ttc" id="aclassv8_1_1OpenFDCloser_html"><div class="ttname"><a href="classv8_1_1OpenFDCloser.html">v8::OpenFDCloser</a></div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00149">d8-posix.cc:149</a></div></div>
<div class="ttc" id="aclassv8_1_1OpenFDCloser_html_a06963560af61d526b81e31c4aae610a9"><div class="ttname"><a href="classv8_1_1OpenFDCloser.html#a06963560af61d526b81e31c4aae610a9">v8::OpenFDCloser::OpenFDCloser</a></div><div class="ttdeci">OpenFDCloser(int fd)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00151">d8-posix.cc:151</a></div></div>
<div class="ttc" id="aclassv8_1_1OpenFDCloser_html_a8a0d56d71490cd676f4ae298cd80a108"><div class="ttname"><a href="classv8_1_1OpenFDCloser.html#a8a0d56d71490cd676f4ae298cd80a108">v8::OpenFDCloser::fd_</a></div><div class="ttdeci">int fd_</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00155">d8-posix.cc:155</a></div></div>
<div class="ttc" id="aclassv8_1_1OpenFDCloser_html_a965f2989fa30b0a2fd228f8e7f7db018"><div class="ttname"><a href="classv8_1_1OpenFDCloser.html#a965f2989fa30b0a2fd228f8e7f7db018">v8::OpenFDCloser::~OpenFDCloser</a></div><div class="ttdeci">~OpenFDCloser()</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00152">d8-posix.cc:152</a></div></div>
<div class="ttc" id="aclassv8_1_1ShellOptions_html_a72229c74a337a982db5fe994cafad117"><div class="ttname"><a href="classv8_1_1ShellOptions.html#a72229c74a337a982db5fe994cafad117">v8::ShellOptions::enable_os_system</a></div><div class="ttdeci">DisallowReassignment&lt; bool &gt; enable_os_system</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00493">d8.h:493</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a0c3ed68c0e468e6af07123281259de4c"><div class="ttname"><a href="classv8_1_1Shell.html#a0c3ed68c0e468e6af07123281259de4c">v8::Shell::AddOSMethods</a></div><div class="ttdeci">static void AddOSMethods(v8::Isolate *isolate, Local&lt; ObjectTemplate &gt; os_template)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00747">d8-posix.cc:747</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a531aa5de706325869a5df270c8f1294f"><div class="ttname"><a href="classv8_1_1Shell.html#a531aa5de706325869a5df270c8f1294f">v8::Shell::System</a></div><div class="ttdeci">static void System(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00417">d8-posix.cc:417</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a55e625ec2d3c123d6d095df6fe3b0df8"><div class="ttname"><a href="classv8_1_1Shell.html#a55e625ec2d3c123d6d095df6fe3b0df8">v8::Shell::MakeDirectory</a></div><div class="ttdeci">static void MakeDirectory(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00569">d8-posix.cc:569</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a84ede100cebbccbb981ba15f01cb154b"><div class="ttname"><a href="classv8_1_1Shell.html#a84ede100cebbccbb981ba15f01cb154b">v8::Shell::UnsetEnvironment</a></div><div class="ttdeci">static void UnsetEnvironment(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00630">d8-posix.cc:630</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_a9bc2d220471e32c604aa899e1dfc08df"><div class="ttname"><a href="classv8_1_1Shell.html#a9bc2d220471e32c604aa899e1dfc08df">v8::Shell::SetEnvironment</a></div><div class="ttdeci">static void SetEnvironment(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00609">d8-posix.cc:609</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aaf3f3dc190301950741d329df457f3b1"><div class="ttname"><a href="classv8_1_1Shell.html#aaf3f3dc190301950741d329df457f3b1">v8::Shell::SetUMask</a></div><div class="ttdeci">static void SetUMask(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00511">d8-posix.cc:511</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac04ae0e1bcad7764c9a3ecd7155ef376"><div class="ttname"><a href="classv8_1_1Shell.html#ac04ae0e1bcad7764c9a3ecd7155ef376">v8::Shell::RemoveDirectory</a></div><div class="ttdeci">static void RemoveDirectory(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00594">d8-posix.cc:594</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ac0c979ef9a81aa48cdc313b61eaa5fdc"><div class="ttname"><a href="classv8_1_1Shell.html#ac0c979ef9a81aa48cdc313b61eaa5fdc">v8::Shell::ReadCharsFromTcpPort</a></div><div class="ttdeci">static char * ReadCharsFromTcpPort(const char *name, int *size_out)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00645">d8-posix.cc:645</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_ad2e488dcc1374fae51ddda62d68ccf75"><div class="ttname"><a href="classv8_1_1Shell.html#ad2e488dcc1374fae51ddda62d68ccf75">v8::Shell::ChangeDirectory</a></div><div class="ttdeci">static void ChangeDirectory(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00493">d8-posix.cc:493</a></div></div>
<div class="ttc" id="aclassv8_1_1Shell_html_aedbe06af26de0fe7e4618cac0ce45790"><div class="ttname"><a href="classv8_1_1Shell.html#aedbe06af26de0fe7e4618cac0ce45790">v8::Shell::options</a></div><div class="ttdeci">static ShellOptions options</div><div class="ttdef"><b>Definition:</b> <a href="d8_8h_source.html#l00760">d8.h:760</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1Utf8Value_html"><div class="ttname"><a href="classv8_1_1String_1_1Utf8Value.html">v8::String::Utf8Value</a></div><div class="ttdoc">Converts an object to a null-terminated UTF-8-encoded character array.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00647">v8-primitive.h:647</a></div></div>
<div class="ttc" id="aclassv8_1_1String_1_1Utf8Value_html_acfaec2ea68bce4b40cab2f77692e759b"><div class="ttname"><a href="classv8_1_1String_1_1Utf8Value.html#acfaec2ea68bce4b40cab2f77692e759b">v8::String::Utf8Value::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00653">v8-primitive.h:653</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a6aca1685df0fc16b7e3c4ff957dd8205"><div class="ttname"><a href="classv8_1_1String.html#a6aca1685df0fc16b7e3c4ff957dd8205">v8::String::NewFromUtf8</a></div><div class="ttdeci">static V8_WARN_UNUSED_RESULT MaybeLocal&lt; String &gt; NewFromUtf8(Isolate *isolate, const char *data, NewStringType type=NewStringType::kNormal, int length=-1)</div><div class="ttdoc">Allocates a new string from UTF-8 data.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07567">api.cc:7567</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_a7ca729608359a02c17631fcc8ae7b8d7"><div class="ttname"><a href="classv8_1_1String.html#a7ca729608359a02c17631fcc8ae7b8d7">v8::String::Concat</a></div><div class="ttdeci">static Local&lt; String &gt; Concat(Isolate *isolate, Local&lt; String &gt; left, Local&lt; String &gt; right)</div><div class="ttdoc">Creates a new string by concatenating the left and the right strings passed in as parameters.</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l07587">api.cc:7587</a></div></div>
<div class="ttc" id="aclassv8_1_1String_html_aa393d47baa54467fe57001065e49194b"><div class="ttname"><a href="classv8_1_1String.html#aa393d47baa54467fe57001065e49194b">v8::String::Empty</a></div><div class="ttdeci">static Local&lt; String &gt; Empty(Isolate *isolate)</div><div class="ttdoc">A zero length string.</div><div class="ttdef"><b>Definition:</b> <a href="v8-primitive_8h_source.html#l00980">v8-primitive.h:980</a></div></div>
<div class="ttc" id="aclassv8_1_1ZombieProtector_html"><div class="ttname"><a href="classv8_1_1ZombieProtector.html">v8::ZombieProtector</a></div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00136">d8-posix.cc:136</a></div></div>
<div class="ttc" id="aclassv8_1_1ZombieProtector_html_a2416b75b84d72ffd70ee6135b3b868c6"><div class="ttname"><a href="classv8_1_1ZombieProtector.html#a2416b75b84d72ffd70ee6135b3b868c6">v8::ZombieProtector::~ZombieProtector</a></div><div class="ttdeci">~ZombieProtector()</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00139">d8-posix.cc:139</a></div></div>
<div class="ttc" id="aclassv8_1_1ZombieProtector_html_ab76c7c4b3e9eae445a592daae0b271d4"><div class="ttname"><a href="classv8_1_1ZombieProtector.html#ab76c7c4b3e9eae445a592daae0b271d4">v8::ZombieProtector::pid_</a></div><div class="ttdeci">int pid_</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00145">d8-posix.cc:145</a></div></div>
<div class="ttc" id="aclassv8_1_1ZombieProtector_html_ada6e7c6ad75a7e51dd15d747e30296ec"><div class="ttname"><a href="classv8_1_1ZombieProtector.html#ada6e7c6ad75a7e51dd15d747e30296ec">v8::ZombieProtector::ZombieProtector</a></div><div class="ttdeci">ZombieProtector(int pid)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00138">d8-posix.cc:138</a></div></div>
<div class="ttc" id="aclassv8_1_1ZombieProtector_html_afd835b383e9b8127209d8dc518637f23"><div class="ttname"><a href="classv8_1_1ZombieProtector.html#afd835b383e9b8127209d8dc518637f23">v8::ZombieProtector::ChildIsDeadNow</a></div><div class="ttdeci">void ChildIsDeadNow()</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00142">d8-posix.cc:142</a></div></div>
<div class="ttc" id="ad8_8h_html"><div class="ttname"><a href="d8_8h.html">d8.h</a></div></div>
<div class="ttc" id="aflag-definitions_8h_html_a3ced3697c19e78b3fb4994a89f46945e"><div class="ttname"><a href="flag-definitions_8h.html#a3ced3697c19e78b3fb4994a89f46945e">name</a></div><div class="ttdeci">too high values may cause the compiler to set high thresholds for inlining to as much as possible avoid inlined allocation of objects that cannot escape trace load stores from virtual maglev objects use TurboFan fast string builder analyze liveness of environment slots and zap dead values trace TurboFan load elimination emit data about basic block usage in builtins to this enable builtin reordering when run mksnapshot flag for emit warnings when applying builtin profile data verify register allocation in TurboFan randomly schedule instructions to stress dependency tracking enable store store elimination in TurboFan rewrite far to near simulate GC compiler thread race related to allow float parameters to be passed in simulator mode JS Wasm Run additional turbo_optimize_inlined_js_wasm_wrappers enables Turboshaft s StaticAssert and CheckTurboshaftTypeOf operations Wasm code into JS functions via the JS to Wasm wrappers are still inlined in TurboFan For controlling whether to at see turbo inline js wasm calls enable Turboshaft s loop unrolling enable an additional Turboshaft phase that performs optimizations based on type information enable Turbolev features that we want to ship in the not too far future trace individual Turboshaft reduction steps trace intermediate Turboshaft reduction steps trace Turboshaft s if else to switch reducer invocation count threshold for early optimization Enables optimizations which favor memory size over execution speed Enables sampling allocation profiler with X as a sample interval min size of a semi the new space consists of two semi spaces max size of the preconfigured old space Collect garbage after Collect garbage after keeps maps alive for&lt; n &gt; old space garbage collections print one detailed trace line in name</div><div class="ttdef"><b>Definition:</b> <a href="flag-definitions_8h_source.html#l02171">flag-definitions.h:2171</a></div></div>
<div class="ttc" id="anamespaceunibrow_html_ab0275d47f9778d486eafe88b18c5851d"><div class="ttname"><a href="namespaceunibrow.html#ab0275d47f9778d486eafe88b18c5851d">unibrow::int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="unicode_8cc_source.html#l00042">unicode.cc:42</a></div></div>
<div class="ttc" id="anamespacev8_1_1anonymous__namespace_02d8-posix_8cc_03_html_a24aa270764c56f0cc23ee8ee6954bfb3"><div class="ttname"><a href="namespacev8_1_1anonymous__namespace_02d8-posix_8cc_03.html#a24aa270764c56f0cc23ee8ee6954bfb3">v8::anonymous_namespace{d8-posix.cc}::v8_strerror</a></div><div class="ttdeci">v8::Local&lt; v8::String &gt; v8_strerror(v8::Isolate *isolate, int err)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00242">d8-posix.cc:242</a></div></div>
<div class="ttc" id="anamespacev8_1_1base_1_1internal_html_a9840f2bf0b4780133662292486d0bc01"><div class="ttname"><a href="namespacev8_1_1base_1_1internal.html#a9840f2bf0b4780133662292486d0bc01">v8::base::internal::result</a></div><div class="ttdeci">V result</div><div class="ttdef"><b>Definition:</b> <a href="clamped__math__impl_8h_source.html#l00082">clamped_math_impl.h:82</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_html_ad86b3cf21e19e97ce484f32b894d548c"><div class="ttname"><a href="namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03.html#ad86b3cf21e19e97ce484f32b894d548c">v8::internal::anonymous_namespace{json-stringifier.cc}::i</a></div><div class="ttdeci">size_t i</div><div class="ttdef"><b>Definition:</b> <a href="json-stringifier_8cc_source.html#l00548">json-stringifier.cc:548</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_1_1compiler_1_1turboshaft_html_a2b5e79bd829824237e784a6cde29309e"><div class="ttname"><a href="namespacev8_1_1internal_1_1compiler_1_1turboshaft.html#a2b5e79bd829824237e784a6cde29309e">v8::internal::compiler::turboshaft::Get</a></div><div class="ttdeci">const Operation &amp; Get(const Graph &amp;graph, OpIndex index)</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l01242">graph.h:1242</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html"><div class="ttname"><a href="namespacev8_1_1internal.html">v8::internal</a></div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00020">api-arguments-inl.h:20</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_a33a2826557a82e4cd9775aadf0f5711e"><div class="ttname"><a href="namespacev8_1_1internal.html#a33a2826557a82e4cd9775aadf0f5711e">v8::internal::IsNumber</a></div><div class="ttdeci">bool IsNumber(Tagged&lt; Object &gt; obj)</div><div class="ttdef"><b>Definition:</b> <a href="objects-inl_8h_source.html#l00488">objects-inl.h:488</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aa0a84af2b2a0cf0453cc75fc22679b28"><div class="ttname"><a href="namespacev8_1_1internal.html#aa0a84af2b2a0cf0453cc75fc22679b28">v8::internal::ValidateCallbackInfo</a></div><div class="ttdeci">bool ValidateCallbackInfo(const FunctionCallbackInfo&lt; void &gt; &amp;info)</div><div class="ttdef"><b>Definition:</b> <a href="api_8cc_source.html#l12320">api.cc:12320</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_aafab07d66ddaf4fe074c43f480145642"><div class="ttname"><a href="namespacev8_1_1internal.html#aafab07d66ddaf4fe074c43f480145642">v8::internal::seconds</a></div><div class="ttdeci">seconds</div><div class="ttdef"><b>Definition:</b> <a href="builtins-temporal_8cc_source.html#l00589">builtins-temporal.cc:589</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_ac1a33b5fd9af1653d346746cdb5c1ac0"><div class="ttname"><a href="namespacev8_1_1internal.html#ac1a33b5fd9af1653d346746cdb5c1ac0">v8::internal::value</a></div><div class="ttdeci">return value</div><div class="ttdef"><b>Definition:</b> <a href="map-inl_8h_source.html#l00912">map-inl.h:912</a></div></div>
<div class="ttc" id="anamespacev8_1_1internal_html_afa9ea55d792121fba92b4cfc8ef8c9d7"><div class="ttname"><a href="namespacev8_1_1internal.html#afa9ea55d792121fba92b4cfc8ef8c9d7">v8::internal::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition:</b> <a href="external-reference_8cc_source.html#l01508">external-reference.cc:1508</a></div></div>
<div class="ttc" id="anamespacev8_html"><div class="ttname"><a href="namespacev8.html">v8</a></div><div class="ttdoc">This file provides additional API on top of the default one for making API calls, which come from emb...</div><div class="ttdef"><b>Definition:</b> <a href="api-arguments-inl_8h_source.html#l00019">api-arguments-inl.h:19</a></div></div>
<div class="ttc" id="anamespacev8_html_a12ce53dea96a79624b4e499916c7cfd7"><div class="ttname"><a href="namespacev8.html#a12ce53dea96a79624b4e499916c7cfd7">v8::GetStdout</a></div><div class="ttdeci">static Local&lt; Value &gt; GetStdout(Isolate *isolate, int child_fd, const struct timeval &amp;start_time, int read_timeout, int total_timeout)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00289">d8-posix.cc:289</a></div></div>
<div class="ttc" id="anamespacev8_html_a32d38e01a538ca466901e21e5e4dfdce"><div class="ttname"><a href="namespacev8.html#a32d38e01a538ca466901e21e5e4dfdce">v8::CheckItsADirectory</a></div><div class="ttdeci">static bool CheckItsADirectory(Isolate *isolate, char *directory)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00528">d8-posix.cc:528</a></div></div>
<div class="ttc" id="anamespacev8_html_a44ce27a6b18ca4e2d55e0de955daf44f"><div class="ttname"><a href="namespacev8.html#a44ce27a6b18ca4e2d55e0de955daf44f">v8::WaitForChild</a></div><div class="ttdeci">static bool WaitForChild(Isolate *isolate, int pid, ZombieProtector &amp;child_waiter, const struct timeval &amp;start_time, int read_timeout, int total_timeout)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00352">d8-posix.cc:352</a></div></div>
<div class="ttc" id="anamespacev8_html_a4625fca772049d58458e124e1a4d7a7c"><div class="ttname"><a href="namespacev8.html#a4625fca772049d58458e124e1a4d7a7c">v8::mkdirp</a></div><div class="ttdeci">static bool mkdirp(Isolate *isolate, char *directory, mode_t mask)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00542">d8-posix.cc:542</a></div></div>
<div class="ttc" id="anamespacev8_html_a763f29764b1cbe97abe424d3773cefe1"><div class="ttname"><a href="namespacev8.html#a763f29764b1cbe97abe424d3773cefe1">v8::TimeIsOut</a></div><div class="ttdeci">static bool TimeIsOut(const struct timeval &amp;start_time, const int &amp;total_time)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00116">d8-posix.cc:116</a></div></div>
<div class="ttc" id="anamespacev8_html_a81cf547f99338796be922e97d245e658"><div class="ttname"><a href="namespacev8.html#a81cf547f99338796be922e97d245e658">v8::ExecSubprocess</a></div><div class="ttdeci">static void ExecSubprocess(int *exec_error_fds, int *stdout_fds, const ExecArgs &amp;exec_args)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00253">d8-posix.cc:253</a></div></div>
<div class="ttc" id="anamespacev8_html_a8c74a0cfb63f18bb6fe0ebb06fafe3d7"><div class="ttname"><a href="namespacev8.html#a8c74a0cfb63f18bb6fe0ebb06fafe3d7">v8::LengthWithoutIncompleteUtf8</a></div><div class="ttdeci">static int LengthWithoutIncompleteUtf8(char *buffer, int len)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00033">d8-posix.cc:33</a></div></div>
<div class="ttc" id="anamespacev8_html_a98b15a10a7c2370dfd9d1f6f13ccefec"><div class="ttname"><a href="namespacev8.html#a98b15a10a7c2370dfd9d1f6f13ccefec">v8::WaitOnFD</a></div><div class="ttdeci">static bool WaitOnFD(int fd, int read_timeout, int total_timeout, const struct timeval &amp;start_time)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00085">d8-posix.cc:85</a></div></div>
<div class="ttc" id="anamespacev8_html_aa970767b68f5bd401d66fc9278a5bd14"><div class="ttname"><a href="namespacev8.html#aa970767b68f5bd401d66fc9278a5bd14">v8::GetTimeouts</a></div><div class="ttdeci">static bool GetTimeouts(const v8::FunctionCallbackInfo&lt; v8::Value &gt; &amp;info, int *read_timeout, int *total_timeout)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00216">d8-posix.cc:216</a></div></div>
<div class="ttc" id="anamespacev8_html_aaa61be87f2ed717d8d3e07af41eb4ab7"><div class="ttname"><a href="namespacev8.html#aaa61be87f2ed717d8d3e07af41eb4ab7">v8::kWriteFD</a></div><div class="ttdeci">static const int kWriteFD</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00248">d8-posix.cc:248</a></div></div>
<div class="ttc" id="anamespacev8_html_ab4b0147c051552c3fa6bfd610b4b93ea"><div class="ttname"><a href="namespacev8.html#ab4b0147c051552c3fa6bfd610b4b93ea">v8::ChildLaunchedOK</a></div><div class="ttdeci">static bool ChildLaunchedOK(Isolate *isolate, int *exec_error_fds)</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00274">d8-posix.cc:274</a></div></div>
<div class="ttc" id="anamespacev8_html_ac69324671a3529d2d19a49705635a498"><div class="ttname"><a href="namespacev8.html#ac69324671a3529d2d19a49705635a498">v8::kReadFD</a></div><div class="ttdeci">static const int kReadFD</div><div class="ttdef"><b>Definition:</b> <a href="d8-posix_8cc_source.html#l00247">d8-posix.cc:247</a></div></div>
<div class="ttc" id="anamespacev8_html_ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416"><div class="ttname"><a href="namespacev8.html#ac9163ab12fb3b2a95907a3a0367c6095a07fa7a19aa722c635a15e94cb7f50416">v8::NewStringType::kNormal</a></div><div class="ttdeci">@ kNormal</div><div class="ttdoc">Create a new string, always allocating new storage memory.</div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_aabec5c3b7a8628298a25f044dcf89c25"><div class="ttname"><a href="src_2base_2logging_8h.html#aabec5c3b7a8628298a25f044dcf89c25">DCHECK_GE</a></div><div class="ttdeci">#define DCHECK_GE(v1, v2)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00487">logging.h:487</a></div></div>
<div class="ttc" id="asrc_2base_2logging_8h_html_ae17f8119c108cf3070bad3449c7e0006"><div class="ttname"><a href="src_2base_2logging_8h.html#ae17f8119c108cf3070bad3449c7e0006">DCHECK</a></div><div class="ttdeci">#define DCHECK(condition)</div><div class="ttdef"><b>Definition:</b> <a href="src_2base_2logging_8h_source.html#l00481">logging.h:481</a></div></div>
<div class="ttc" id="astring_8h_html"><div class="ttname"><a href="string_8h.html">string.h</a></div></div>
<div class="ttc" id="av8-container_8h_html"><div class="ttname"><a href="v8-container_8h.html">v8-container.h</a></div></div>
<div class="ttc" id="av8-template_8h_html"><div class="ttname"><a href="v8-template_8h.html">v8-template.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_19225156eb7ba052e31d1a736469917a.html">mnt</a></li><li class="navelem"><a class="el" href="dir_3536f6d353061322e9ef91134b76e9ed.html">V8SourceCode</a></li><li class="navelem"><a class="el" href="dir_fbd53c45610d490c9fb8d0716db4e3a3.html">src</a></li><li class="navelem"><a class="el" href="dir_647742e9cc76af67f6cf3f315d92f35b.html">d8</a></li><li class="navelem"><a class="el" href="d8-posix_8cc.html">d8-posix.cc</a></li>
    <li class="footer">Generated on Thu Jun 12 2025 15:56:04 for V8 Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
